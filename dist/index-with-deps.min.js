!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.estadistica=e():t.estadistica=e()}(this,function(){return function(t){function e(n){if(r[n])return r[n].exports;var i=r[n]={exports:{},id:n,loaded:!1};return t[n].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var r={};return e.m=t,e.c=r,e.p="",e(0)}([function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}r(779),r(1060),r(1061),r(1062),r(1063),r(1064),r(1065),r(1066),r(1067),r(1068);var i=r(1069),a=(n(i),r(1071)),o=(n(a),r(1076)),s=(n(o),r(1079)),l=(n(s),r(1081)),u=(n(l),r(1083)),c=(n(u),r(1096)),h=(n(c),r(1099)),g=(n(h),r(1101)),p=(n(g),r(1102)),d=(n(p),r(1103)),f=(n(d),r(1106));n(f)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){function r(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function i(t){if(c===setTimeout)return setTimeout(t,0);if((c===r||!c)&&setTimeout)return c=setTimeout,setTimeout(t,0);try{return c(t,0)}catch(e){try{return c.call(null,t,0)}catch(e){return c.call(this,t,0)}}}function a(t){if(h===clearTimeout)return clearTimeout(t);if((h===n||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(t);try{return h(t)}catch(e){try{return h.call(null,t)}catch(e){return h.call(this,t)}}}function o(){f&&p&&(f=!1,p.length?d=p.concat(d):A=-1,d.length&&s())}function s(){if(!f){var t=i(o);f=!0;for(var e=d.length;e;){for(p=d,d=[];++A<e;)p&&p[A].run();A=-1,e=d.length}p=null,f=!1,a(t)}}function l(t,e){this.fun=t,this.array=e}function u(){}var c,h,g=t.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:r}catch(t){c=r}try{h="function"==typeof clearTimeout?clearTimeout:n}catch(t){h=n}}();var p,d=[],f=!1,A=-1;g.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];d.push(new l(t,e)),1!==d.length||f||i(s)},l.prototype.run=function(){this.fun.apply(null,this.array)},g.title="browser",g.browser=!0,g.env={},g.argv=[],g.version="",g.versions={},g.on=u,g.addListener=u,g.once=u,g.off=u,g.removeListener=u,g.removeAllListeners=u,g.emit=u,g.prependListener=u,g.prependOnceListener=u,g.listeners=function(t){return[]},g.binding=function(t){throw new Error("process.binding is not supported")},g.cwd=function(){return"/"},g.chdir=function(t){throw new Error("process.chdir is not supported")},g.umask=function(){return 0}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){t.exports=function(){var t=[];return t.toString=function(){for(var t=[],e=0;e<this.length;e++){var r=this[e];r[2]?t.push("@media "+r[2]+"{"+r[1]+"}"):t.push(r[1])}return t.join("")},t.i=function(e,r){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},i=0;i<this.length;i++){var a=this[i][0];"number"==typeof a&&(n[a]=!0)}for(i=0;i<e.length;i++){var o=e[i];"number"==typeof o[0]&&n[o[0]]||(r&&!o[2]?o[2]=r:r&&(o[2]="("+o[2]+") and ("+r+")"),t.push(o))}},t}},function(t,e,r){function n(t,e){for(var r=0;r<t.length;r++){var n=t[r],i=p[n.id];if(i){i.refs++;for(var a=0;a<i.parts.length;a++)i.parts[a](n.parts[a]);for(;a<n.parts.length;a++)i.parts.push(u(n.parts[a],e))}else{for(var o=[],a=0;a<n.parts.length;a++)o.push(u(n.parts[a],e));p[n.id]={id:n.id,refs:1,parts:o}}}}function i(t){for(var e=[],r={},n=0;n<t.length;n++){var i=t[n],a=i[0],o=i[1],s=i[2],l=i[3],u={css:o,media:s,sourceMap:l};r[a]?r[a].parts.push(u):e.push(r[a]={id:a,parts:[u]})}return e}function a(t,e){var r=A(),n=I[I.length-1];if("top"===t.insertAt)n?n.nextSibling?r.insertBefore(e,n.nextSibling):r.appendChild(e):r.insertBefore(e,r.firstChild),I.push(e);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");r.appendChild(e)}}function o(t){t.parentNode.removeChild(t);var e=I.indexOf(t);e>=0&&I.splice(e,1)}function s(t){var e=document.createElement("style");return e.type="text/css",a(t,e),e}function l(t){var e=document.createElement("link");return e.rel="stylesheet",a(t,e),e}function u(t,e){var r,n,i;if(e.singleton){var a=m++;r=C||(C=s(e)),n=c.bind(null,r,a,!1),i=c.bind(null,r,a,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(r=l(e),n=g.bind(null,r),i=function(){o(r),r.href&&URL.revokeObjectURL(r.href)}):(r=s(e),n=h.bind(null,r),i=function(){o(r)});return n(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;n(t=e)}else i()}}function c(t,e,r,n){var i=r?"":n.css;if(t.styleSheet)t.styleSheet.cssText=v(e,i);else{var a=document.createTextNode(i),o=t.childNodes;o[e]&&t.removeChild(o[e]),o.length?t.insertBefore(a,o[e]):t.appendChild(a)}}function h(t,e){var r=e.css,n=e.media;if(n&&t.setAttribute("media",n),t.styleSheet)t.styleSheet.cssText=r;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r))}}function g(t,e){var r=e.css,n=e.sourceMap;n&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */");var i=new Blob([r],{type:"text/css"}),a=t.href;t.href=URL.createObjectURL(i),a&&URL.revokeObjectURL(a)}var p={},d=function(t){var e;return function(){return"undefined"==typeof e&&(e=t.apply(this,arguments)),e}},f=d(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),A=d(function(){return document.head||document.getElementsByTagName("head")[0]}),C=null,m=0,I=[];t.exports=function(t,e){e=e||{},"undefined"==typeof e.singleton&&(e.singleton=f()),"undefined"==typeof e.insertAt&&(e.insertAt="bottom");var r=i(t);return n(r,e),function(t){for(var a=[],o=0;o<r.length;o++){var s=r[o],l=p[s.id];l.refs--,a.push(l)}if(t){var u=i(t);n(u,e)}for(var o=0;o<a.length;o++){var l=a[o];if(0===l.refs){for(var c=0;c<l.parts.length;c++)l.parts[c]();delete p[l.id]}}}};var v=function(){var t=[];return function(e,r){return t[e]=r,t.filter(Boolean).join("\n")}}()},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,r){"use strict";function n(t){for(var r in t)e.hasOwnProperty(r)||(e[r]=t[r])}Object.defineProperty(e,"__esModule",{value:!0}),r(511),r(606);var i=r(632);e.nextFrame=i.nextFrame;var a=r(512);e.environment=a;var o=r(512),s=r(635);e.io=s;var l=r(650);e.serialization=l;var u=r(518),c=r(651);e.test_util=c;var h=r(516);e.util=h;var g=r(652);e.version_core=g.version;var p=r(653);e.webgl=p;var d=r(654);e.AdadeltaOptimizer=d.AdadeltaOptimizer;var f=r(656);e.AdagradOptimizer=f.AdagradOptimizer;var A=r(657);e.AdamOptimizer=A.AdamOptimizer;var C=r(658);e.AdamaxOptimizer=C.AdamaxOptimizer;var m=r(659);e.MomentumOptimizer=m.MomentumOptimizer;var I=r(655);e.Optimizer=I.Optimizer;var v=r(661);e.RMSPropOptimizer=v.RMSPropOptimizer;var y=r(660);e.SGDOptimizer=y.SGDOptimizer;var b=r(518);e.Tensor=b.Tensor,e.TensorBuffer=b.TensorBuffer,e.variable=b.variable,e.Variable=b.Variable;var x=r(536);e.Rank=x.Rank,n(r(607));var w=r(629);e.Reduction=w.Reduction,n(r(662)),n(r(522));var N=r(512);e.ENV=N.ENV,e.Environment=N.Environment,e.setBackend=o.Environment.setBackend,e.getBackend=o.Environment.getBackend,e.disposeVariables=o.Environment.disposeVariables,e.memory=o.Environment.memory;var S=r(607);u.setOpHandler(S)},function(t,e,r){"use strict";function n(t,e){if("float32"===e||"complex64"===e)return t;if("int32"===e||"bool"===e){for(var r="int32"===e?new Int32Array(t.length):new Uint8Array(t.length),n=0;n<r.length;++n)r[n]=Math.round(t[n]);return r}throw new Error("Unknown dtype "+e)}function i(t,e){return t instanceof Float32Array?t:new Float32Array(t)}var a=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))(function(i,a){function o(t){try{l(n.next(t))}catch(t){a(t)}}function s(t){try{l(n.throw(t))}catch(t){a(t)}}function l(t){t.done?i(t.value):new r(function(e){e(t.value)}).then(o,s)}l((n=n.apply(t,e||[])).next())})},o=this&&this.__generator||function(t,e){function r(t){return function(e){return n([t,e])}}function n(r){if(i)throw new TypeError("Generator is already executing.");for(;l;)try{if(i=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return l.label++,{value:r[1],done:!1};case 5:l.label++,a=r[1],r=[0];continue;case 7:r=l.ops.pop(),l.trys.pop();continue;default:if(o=l.trys,!(o=o.length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){l=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){l.label=r[1];break}if(6===r[0]&&l.label<o[1]){l.label=o[1],o=r;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(r);break}o[2]&&l.ops.pop(),l.trys.pop();continue}r=e.call(t,l)}catch(t){r=[6,t],a=0}finally{i=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}var i,a,o,s,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(e,"__esModule",{value:!0});var s=r(512),l=r(522),u=r(524),c=r(525),h=r(526),g=r(527),p=r(528),d=r(529),f=r(530),A=r(531),C=r(534),m=r(518),I=r(536),v=r(516),y=r(516),b=r(537),x=r(538),w=r(539),N=r(540),S=r(541),T=r(542),E=r(543),k=r(544),O=r(546),_=r(546),P=r(547),M=r(547),D=r(548),R=r(549),L=r(550),z=r(551),F=r(552),B=r(553),V=r(554),j=r(555),W=r(557),G=r(558),U=r(559),H=r(560),Y=r(561),Z=r(565),X=r(562),q=r(566),K=r(567),J=r(568),Q=r(569),$=r(570),tt=r(571),et=r(572),rt=r(573),nt=r(574),it=r(575),at=r(576),ot=r(577),st=r(578),lt=r(579),ut=r(580),ct=r(581),ht=r(582),gt=r(583),pt=r(563),dt=r(584),ft=r(585),At=r(586),Ct=r(587),mt=r(587),It=r(564),vt=r(590),yt=300;e.SIZE_UPLOAD_UNIFORM=32;var bt=function(){function t(t,e){if(void 0===e&&(e=!0),this.gpgpu=t,this.delayedStorage=e,this.texData=new WeakMap,this.pendingRead=new WeakMap,this.pendingDisposal=new WeakSet,this.lruDataGPU=[],this.numBytesInGPU=0,this.uploadWaitMs=0,this.downloadWaitMs=0,this.binaryCache={},this.disposed=!1,s.ENV.get("WEBGL_VERSION")<1)throw new Error("WebGL is not supported on this device");s.ENV.get("IS_BROWSER")&&(this.canvas=document.createElement("canvas")),null==t?(this.gpgpu=new Y.GPGPUContext(X.createWebGLContext(this.canvas)),this.gpgpuCreatedLocally=!0):this.gpgpuCreatedLocally=!1,this.NUM_BYTES_BEFORE_PAGING=window.screen.height*window.screen.width*window.devicePixelRatio*yt,this.textureManager=new dt.TextureManager(this.gpgpu)}return t.prototype.register=function(t,e,r){if(this.texData.has(t))throw new Error("Data buffer is already registered");this.texData.set(t,{shape:e,dtype:r,values:null,texture:null,complexTensors:null,texShape:null,usage:pt.TextureUsage.RENDER})},t.prototype.fromPixels=function(t,e){if(null==t)throw new Error("pixels passed to tf.fromPixels() can not be null");var r=[t.height,t.width],n=[t.height,t.width,e];if(!(t instanceof HTMLVideoElement||t instanceof HTMLImageElement||t instanceof HTMLCanvasElement||t instanceof ImageData))throw new Error("pixels passed to tf.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement or ImageData, but was "+t.constructor.name);if(t instanceof HTMLVideoElement){if(null==this.fromPixelsCanvas){if(!s.ENV.get("IS_BROWSER"))throw new Error("Can't read pixels from HTMLImageElement outside the browser.");if("complete"!==document.readyState)throw new Error("The DOM is not ready yet. Please call tf.fromPixels() once the DOM is ready. One way to do that is to add an event listener for `DOMContentLoaded` on the document object");this.fromPixelsCanvas=document.createElement("canvas")}this.fromPixelsCanvas.width=t.width,this.fromPixelsCanvas.height=t.height,this.fromPixelsCanvas.getContext("2d").drawImage(t,0,0,t.width,t.height),t=this.fromPixelsCanvas}var i=m.Tensor.make(r,{},"int32");this.texData.get(i.dataId).usage=pt.TextureUsage.PIXELS,this.gpgpu.uploadPixelDataToTexture(this.getTexture(i.dataId),t);var a=new U.FromPixelsProgram(n),o=this.compileAndRun(a,[i]);return i.dispose(),o},t.prototype.write=function(t,e){if(null==e)throw new Error("MathBackendWebGL.write(): values can not be null");this.throwIfNoData(t);var r=this.texData.get(t),n=r.texture,i=r.texShape,a=r.usage,o=r.dtype;if("complex64"===o)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");null!=n&&(this.releaseTexture(t,n,i,a),r.texture=null,r.texShape=null),r.usage=pt.TextureUsage.UPLOAD,r.values=e,this.delayedStorage||this.uploadToGPU(t)},t.prototype.readSync=function(t){this.throwIfNoData(t);var e=this.texData.get(t),r=e.shape,n=e.texture,i=e.values,a=e.texShape,o=e.dtype,s=e.complexTensors;if(null!=i)return this.cacheOnCPU(t),i;var l,u=null!=this.activeTimers;u&&(l=performance.now());var c;if("complex64"===o){var h=s.real.dataSync(),g=s.imag.dataSync();c=x.mergeRealAndImagArrays(h,g)}else c=this.getValuesFromTexture(n,t,o,a,r);return u&&(this.downloadWaitMs+=performance.now()-l),this.cacheOnCPU(t,c),e.values},t.prototype.read=function(t){return a(this,void 0,void 0,function(){var e,r,n,i,a,l,u,c,h,g;return o(this,function(o){switch(o.label){case 0:if(this.pendingRead.has(t))return e=this.pendingRead.get(t),[2,new Promise(function(t){return e.push(t)})];if(this.throwIfNoData(t),r=this.texData.get(t),n=r.shape,i=r.texture,a=r.values,l=r.texShape,u=r.dtype,null!=a)return this.cacheOnCPU(t),[2,a];if(this.pendingRead.set(t,[]),!s.ENV.get("WEBGL_DOWNLOAD_FLOAT_ENABLED")&&2===s.ENV.get("WEBGL_VERSION"))throw new Error("tensor.data() with WEBGL_DOWNLOAD_FLOAT_ENABLED=false and WEBGL_VERSION=2 not yet supported.");return c=this.gpgpu.maybeCreateBufferFromTexture(i,l[0],l[1]),[4,this.gpgpu.createAndWaitForFence()];case 1:return o.sent(),h=c instanceof WebGLTexture?this.getValuesFromTexture(i,t,u,l,n):this.gpgpu.downloadFloat32MatrixFromBuffer(c,l[0],l[1]),this.cacheOnCPU(t,h),g=this.pendingRead.get(t),this.pendingRead.delete(t),g.forEach(function(t){return t(h)}),this.pendingDisposal.has(t)&&(this.pendingDisposal.delete(t),this.disposeData(t)),[2,h]}})})},t.prototype.getValuesFromTexture=function(t,e,r,n,i){if(s.ENV.get("WEBGL_DOWNLOAD_FLOAT_ENABLED"))return this.gpgpu.downloadFloat32MatrixFromOutputTexture(t,n[0],n[1]);var a=m.Tensor.make(i,{});this.texData.get(a.dataId).usage=pt.TextureUsage.DOWNLOAD;var o=m.Tensor.make(i,{dataId:e},r),l=new G.EncodeFloatProgram(i),u=!1;this.compileAndRun(l,[o],a,null,u);var c=this.texData.get(a.dataId),h=this.gpgpu.downloadByteEncodedFloatMatrixFromOutputTexture(c.texture,c.texShape[0],c.texShape[1]);return o.dispose(),a.dispose(),h},t.prototype.time=function(t){return a(this,void 0,void 0,function(){var e,r,n,i,a,s;return o(this,function(o){switch(o.label){case 0:return e=this.activeTimers,r=[],n=!1,null==this.programTimersStack?(this.programTimersStack=r,n=!0):this.activeTimers.push(r),this.activeTimers=r,t(),i=v.flatten(this.activeTimers),this.activeTimers=e,n&&(this.programTimersStack=null),[4,Promise.all(i).then(function(t){var e=0;return t.forEach(function(t){return e+=t}),e})];case 1:return a=o.sent(),s={uploadWaitMs:this.uploadWaitMs,downloadWaitMs:this.downloadWaitMs,kernelMs:a,wallMs:null},this.uploadWaitMs=0,this.downloadWaitMs=0,[2,s]}})})},t.prototype.memory=function(){return{unreliable:!1,numBytesInGPU:this.numBytesInGPU}},t.prototype.startTimer=function(){return s.ENV.get("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?this.gpgpu.beginQuery():{startMs:performance.now(),endMs:null}},t.prototype.endTimer=function(t){return s.ENV.get("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(this.gpgpu.endQuery(),t):(t.endMs=performance.now(),t)},t.prototype.getQueryTime=function(t){return a(this,void 0,void 0,function(){var e;return o(this,function(r){return s.ENV.get("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?[2,this.gpgpu.waitForQueryAndGetTime(t)]:(e=t,[2,e.endMs-e.startMs])})})},t.prototype.disposeData=function(t){if(!this.pendingDisposal.has(t)){if(this.pendingRead.has(t))return void this.pendingDisposal.add(t);if(this.texData.has(t)){var e=this.texData.get(t),r=e.texture,n=e.texShape,i=e.usage,a=e.complexTensors;null!=r&&this.releaseTexture(t,r,n,i),null!=a&&(a.real.dispose(),a.imag.dispose()),this.texData.delete(t)}}},t.prototype.getTexture=function(t){return this.uploadToGPU(t),this.texData.get(t).texture},t.prototype.getGPGPUContext=function(){return this.gpgpu},t.prototype.getCanvas=function(){return this.canvas},t.prototype.complex=function(t,e){var r=m.Tensor.make(t.shape,{},"complex64"),n=this.texData.get(r.dataId);return n.complexTensors={real:s.ENV.engine.keep(t.clone()),imag:s.ENV.engine.keep(e.clone())},r},t.prototype.real=function(t){var e=this.texData.get(t.dataId);return e.complexTensors.real.clone()},t.prototype.imag=function(t){var e=this.texData.get(t.dataId);return e.complexTensors.imag.clone()},t.prototype.slice=function(t,e,r){var n=new ht.SliceProgram(r),i=n.getCustomSetupFunc(e);return this.compileAndRun(n,[t],null,i)},t.prototype.stridedSlice=function(t,e,r,n,i,a,o,s,l){var u=f.getStridedSlicedInfo(t.shape,e,r,n,i,a,o,s,l),c=u[0],h=u[1],g=u[2],p=h.filter(function(t,e){return g.indexOf(e)===-1});if(p.some(function(t){return 0===t}))return C.tensor([],p);var d=new gt.StridedSliceProgram(c,n,h,g);return this.compileAndRun(d,[t])},t.prototype.reverse=function(t,e){var r=new lt.ReverseProgram(t.shape,e);return this.compileAndRun(r,[t])},t.prototype.concat2Tensors=function(t,e,r){var n=g.computeOutShape([t.shape,e.shape],r),i=t.as2D(-1,y.sizeFromShape(t.shape.slice(r))),a=e.as2D(-1,y.sizeFromShape(e.shape.slice(r))),o=new R.ConcatProgram(i.shape,a.shape),s=this.compileAndRun(o,[i,a]);return s.reshape(n)},t.prototype.concat=function(t,e){if(1===t.length)return t[0];for(var r=t[0],n=1;n<t.length;++n)r=this.concat2Tensors(r,t[n],e);return r},t.prototype.neg=function(t){var e=new mt.UnaryOpProgram(t.shape,Ct.NEG);return this.compileAndRun(e,[t])},t.prototype.batchMatMul=function(t,e,r,n){var i=new Q.MatMulProgram(t.shape,e.shape,r,n);return this.compileAndRun(i,[t,e])},t.prototype.multiply=function(t,e){if("complex64"===t.dtype){var r=this.texData.get(t.dataId),n=this.texData.get(e.dataId),i=new _.BinaryOpComplexProgram(O.COMPLEX_MULTIPLY.REAL,t.shape,e.shape),a=new _.BinaryOpComplexProgram(O.COMPLEX_MULTIPLY.IMAG,t.shape,e.shape),o=[this.makeComplexComponentTensorHandle(t,r.complexTensors.real),this.makeComplexComponentTensorHandle(t,r.complexTensors.imag),this.makeComplexComponentTensorHandle(e,n.complexTensors.real),this.makeComplexComponentTensorHandle(e,n.complexTensors.imag)],s=this.compileAndRun(i,o),l=this.compileAndRun(a,o),u=this.complex(s,l);return s.dispose(),l.dispose(),u}var c=new M.BinaryOpProgram(P.MUL,t.shape,e.shape),h=this.makeOutputArray(c.outputShape,t.dtype);return this.compileAndRun(c,[t,e],h)},t.prototype.batchNormalization=function(t,e,r,n,i,a){var o=[t,e,r],s=null;null!=a&&(s=a.shape,o.push(a));var l=null;null!=i&&(l=i.shape,o.push(i));var u=new k.BatchNormProgram(t.shape,e.shape,r.shape,s,l,n);return this.compileAndRun(u,o)},t.prototype.localResponseNormalization4D=function(t,e,r,n,i){var a=new q.LRNProgram(t.shape,e,r,n,i);return this.compileAndRun(a,[t])},t.prototype.LRNGrad=function(t,e,r,n,i,a,o){var s=new K.LRNGradProgram(e.shape,n,i,a,o);return this.compileAndRun(s,[e,r,t])},t.prototype.tile=function(t,e){var r=new ft.TileProgram(t.shape,e);return this.compileAndRun(r,[t])},t.prototype.pad=function(t,e,r){var n=new et.PadProgram(t.shape,e,r);return this.compileAndRun(n,[t])},t.prototype.transpose=function(t,e){var r=new At.TransposeProgram(t.shape,e);return this.compileAndRun(r,[t])},t.prototype.gather=function(t,e,r){var n=new H.GatherProgram(t.shape,e.size,r);return this.compileAndRun(n,[t,e])},t.prototype.batchToSpaceND=function(t,e,r){v.assert(t.rank<=4,"batchToSpaceND for rank > 4 with a WebGL backend not implemented yet");var n=e.reduce(function(t,e){return t*e}),i=c.getReshaped(t.shape,e,n),a=c.getPermuted(i.length,e.length),o=c.getReshapedPermuted(t.shape,e,n),s=c.getSliceBeginCoords(r,e.length),l=c.getSliceSize(o,r,e.length);return t.reshape(i).transpose(a).reshape(o).slice(s,l)},t.prototype.spaceToBatchND=function(t,e,r){v.assert(t.rank<=4,"spaceToBatchND for rank > 4 with a WebGL backend not implemented yet");var n=e.reduce(function(t,e){return t*e}),i=[[0,0]];i.push.apply(i,r);for(var a=1+e.length;a<t.shape.length;++a)i.push([0,0]);var o=t.pad(i),s=c.getReshaped(o.shape,e,n,!1),l=c.getPermuted(s.length,e.length,!1),u=c.getReshapedPermuted(o.shape,e,n,!1);return o.reshape(s).transpose(l).reshape(u)},t.prototype.reduce=function(t,e,r){var n=t.shape[0],i=t.shape[1],a=p.computeOptimalWindowSize(i),o={windowSize:a,inSize:i,batchSize:n},s=new nt.ReduceProgram(o,e),l=s.outputShape,u=l[0],c=l[1],h=this.makeOutputArray([u,c],r);return this.compileAndRun(s,[t],h),1===h.shape[1]?h:this.reduce(h,e,r)},t.prototype.argReduce=function(t,e,r){void 0===r&&(r=null);var n=t.shape[0],i=t.shape[1];null!=r&&(n=r.shape[0],i=r.shape[1]);var a=p.computeOptimalWindowSize(i),o={windowSize:a,inSize:i,batchSize:n},s=new T.ArgMinMaxProgram(o,e,null==r),l=s.outputShape,u=l[0],c=l[1],h=this.makeOutputArray([u,c],"int32"),g=[t];return null!=r&&g.push(r),this.compileAndRun(s,g,h),1===h.shape[1]?h:this.argReduce(t,e,h)},t.prototype.sum=function(t,e){h.assertAxesAreInnerMostDims("sum",e,t.rank);var r=h.computeOutAndReduceShapes(t.shape,e),n=r[0],i=r[1],a=v.sizeFromShape(i),o=t.as2D(-1,a),s=I.sumOutType(t.dtype);return this.reduce(o,"sum",s).reshape(n)},t.prototype.unsortedSegmentSum=function(t,e,r){var n=0,i=h.getAxesPermutation([n],t.rank),a=t;null!=i&&(a=t.transpose(i),n=h.getInnerMostAxes(1,t.rank)[0]);var o=d.computeOutShape(a.shape,n,r),s=v.sizeFromShape([a.shape[n]]),l=a.as2D(-1,s),u=I.sumOutType(t.dtype),c=this.segOpCompute(l,"unsortedSegmentSum",e,u,r).reshape(o);return null!=i&&(c=c.transpose(h.getUndoAxesPermutation(i))),c},t.prototype.segOpCompute=function(t,e,r,n,i){var a=t.shape[0],o=t.shape[1],s=d.segOpComputeOptimalWindowSize(o,i),l={windowSize:s,inSize:o,batchSize:a,numSegments:i},u=new ut.SegmentOpProgram(l,e),c=u.outputShape,h=c[0],g=c[1],p=this.makeOutputArray([h,g],n);return this.compileAndRun(u,[t,r],p),p.shape[1]===i?p:(r=C.range(0,i).tile([o/s]),this.segOpCompute(p,e,r,n,i))},t.prototype.argMin=function(t,e){var r=[e];h.assertAxesAreInnerMostDims("argMin",r,t.rank);var n=h.computeOutAndReduceShapes(t.shape,r),i=n[0],a=n[1],o=v.sizeFromShape(a),s=t.as2D(-1,o);return this.argReduce(s,"min").reshape(i)},t.prototype.argMax=function(t,e){var r=[e];h.assertAxesAreInnerMostDims("argMax",r,t.rank);var n=h.computeOutAndReduceShapes(t.shape,r),i=n[0],a=n[1],o=v.sizeFromShape(a),s=t.as2D(-1,o);return this.argReduce(s,"max").reshape(i)},t.prototype.cumsum=function(t,e,r,n){if(e!==t.rank-1)throw new Error("WebGL cumsum shader expects an inner-most axis="+(t.rank-1)+" but got axis="+e);var i=new j.CumSumProgram(t.shape,r,n);return this.compileAndRun(i,[t])},t.prototype.equal=function(t,e){var r=new M.BinaryOpProgram(P.EQUAL,t.shape,e.shape),n=this.makeOutputArray(r.outputShape,"bool");return this.compileAndRun(r,[t,e],n)},t.prototype.notEqual=function(t,e){var r=new M.BinaryOpProgram(P.NOT_EQUAL,t.shape,e.shape),n=this.makeOutputArray(r.outputShape,"bool");return this.compileAndRun(r,[t,e],n)},t.prototype.less=function(t,e){var r=new M.BinaryOpProgram(P.LESS,t.shape,e.shape),n=this.makeOutputArray(r.outputShape,"bool");return this.compileAndRun(r,[t,e],n)},t.prototype.lessEqual=function(t,e){var r=new M.BinaryOpProgram(P.LESS_EQUAL,t.shape,e.shape),n=this.makeOutputArray(r.outputShape,"bool");return this.compileAndRun(r,[t,e],n)},t.prototype.greater=function(t,e){var r=new M.BinaryOpProgram(P.GREATER,t.shape,e.shape),n=this.makeOutputArray(r.outputShape,"bool");return this.compileAndRun(r,[t,e],n)},t.prototype.greaterEqual=function(t,e){var r=new M.BinaryOpProgram(P.GREATER_EQUAL,t.shape,e.shape),n=this.makeOutputArray(r.outputShape,"bool");return this.compileAndRun(r,[t,e],n)},t.prototype.logicalNot=function(t){var e=new mt.UnaryOpProgram(t.shape,Ct.LOGICAL_NOT);return this.compileAndRun(e,[t])},t.prototype.logicalAnd=function(t,e){var r=new M.BinaryOpProgram(P.LOGICAL_AND,t.shape,e.shape),n=this.makeOutputArray(r.outputShape,"bool");return this.compileAndRun(r,[t,e],n)},t.prototype.logicalOr=function(t,e){var r=new M.BinaryOpProgram(P.LOGICAL_OR,t.shape,e.shape),n=this.makeOutputArray(r.outputShape,"bool");return this.compileAndRun(r,[t,e],n)},t.prototype.select=function(t,e,r){var n=new ct.SelectProgram(t.rank,e.shape,e.rank),i=this.makeOutputArray(n.outputShape,I.upcastType(e.dtype,r.dtype));return this.compileAndRun(n,[t,e,r],i)},t.prototype.where=function(t){u.warn("tf.where() in webgl locks the UI thread. Call tf.whereAsync() instead");var e=t.dataSync();return vt.whereImpl(t.shape,e)},t.prototype.topk=function(t,e,r){var n=t.dataSync();return S.topkImpl(n,t.shape,t.dtype,e,r)},t.prototype.min=function(t,e){h.assertAxesAreInnerMostDims("min",e,t.rank);var r=h.computeOutAndReduceShapes(t.shape,e),n=r[0],i=r[1],a=v.sizeFromShape(i),o=t.as2D(-1,a);return this.reduce(o,"min",o.dtype).reshape(n)},t.prototype.minimum=function(t,e){var r=new M.BinaryOpProgram(P.MIN,t.shape,e.shape);return this.compileAndRun(r,[t,e])},t.prototype.mod=function(t,e){var r=new M.BinaryOpProgram(P.MOD,t.shape,e.shape),n=r.getCustomSetupFunc();return this.compileAndRun(r,[t,e],null,n)},t.prototype.max=function(t,e){h.assertAxesAreInnerMostDims("max",e,t.rank);var r=h.computeOutAndReduceShapes(t.shape,e),n=r[0],i=r[1],a=v.sizeFromShape(i),o=t.as2D(-1,a);return this.reduce(o,"max",o.dtype).reshape(n)},t.prototype.maximum=function(t,e){var r=new M.BinaryOpProgram(P.MAX,t.shape,e.shape);return this.compileAndRun(r,[t,e])},t.prototype.all=function(t,e){h.assertAxesAreInnerMostDims("all",e,t.rank);var r=h.computeOutAndReduceShapes(t.shape,e),n=r[0],i=r[1],a=v.sizeFromShape(i),o=t.as2D(-1,a);return this.reduce(o,"all",o.dtype).reshape(n)},t.prototype.any=function(t,e){h.assertAxesAreInnerMostDims("any",e,t.rank);var r=h.computeOutAndReduceShapes(t.shape,e),n=r[0],i=r[1],a=v.sizeFromShape(i),o=t.as2D(-1,a);return this.reduce(o,"any",o.dtype).reshape(n)},t.prototype.squaredDifference=function(t,e){var r=new M.BinaryOpProgram(P.SQUARED_DIFFERENCE,t.shape,e.shape);return this.compileAndRun(r,[t,e])},t.prototype.realDivide=function(t,e){var r=P.DIV,n="float32",i=new M.BinaryOpProgram(r,t.shape,e.shape),a=this.makeOutputArray(i.outputShape,n);return this.compileAndRun(i,[t,e],a)},t.prototype.floorDiv=function(t,e){var r=P.INT_DIV,n="int32",i=new M.BinaryOpProgram(r,t.shape,e.shape),a=this.makeOutputArray(i.outputShape,n);return this.compileAndRun(i,[t,e],a)},t.prototype.add=function(t,e){if("complex64"===t.dtype&&"complex64"===e.dtype)return this.complexSeparableBinaryOp(t,e,P.ADD);var r=new M.BinaryOpProgram(P.ADD,t.shape,e.shape),n=this.makeOutputArray(r.outputShape,I.upcastType(t.dtype,e.dtype));return this.compileAndRun(r,[t,e],n)},t.prototype.complexSeparableBinaryOp=function(t,e,r){var n=this,i=this.texData.get(t.dataId),a=this.texData.get(e.dataId),o=[[i.complexTensors.real,a.complexTensors.real],[i.complexTensors.imag,a.complexTensors.imag]].map(function(i){var a=i[0],o=i[1],s=new M.BinaryOpProgram(r,t.shape,e.shape),l=n.makeOutputArray(s.outputShape,I.upcastType(a.dtype,o.dtype)),u=n.makeComplexComponentTensorHandle(t,a),c=n.makeComplexComponentTensorHandle(e,o);return n.compileAndRun(s,[u,c],l)}),s=o[0],l=o[1],u=this.complex(s,l);return s.dispose(),l.dispose(),u},t.prototype.makeComplexComponentTensorHandle=function(t,e){return{dataId:e.dataId,dtype:e.dtype,shape:t.shape}},t.prototype.addN=function(t){for(var e=t[0],r=1;r<t.length;r++)e=this.add(e,t[r]);return e},t.prototype.subtract=function(t,e){if("complex64"===t.dtype&&"complex64"===e.dtype)return this.complexSeparableBinaryOp(t,e,P.SUB);var r=new M.BinaryOpProgram(P.SUB,t.shape,e.shape),n=this.makeOutputArray(r.outputShape,I.upcastType(t.dtype,e.dtype));return this.compileAndRun(r,[t,e],n)},t.prototype.pow=function(t,e){var r=new M.BinaryOpProgram(P.POW,t.shape,e.shape),n=r.getCustomSetupFunc(),i=this.makeOutputArray(r.outputShape,I.upcastType(t.dtype,e.dtype));return this.compileAndRun(r,[t,e],i,n)},t.prototype.ceil=function(t){var e=new mt.UnaryOpProgram(t.shape,Ct.CEIL);return this.compileAndRun(e,[t])},t.prototype.floor=function(t){var e=new mt.UnaryOpProgram(t.shape,Ct.FLOOR);return this.compileAndRun(e,[t])},t.prototype.sign=function(t){var e=new mt.UnaryOpProgram(t.shape,Ct.SIGN);return this.compileAndRun(e,[t])},t.prototype.round=function(t){var e=new mt.UnaryOpProgram(t.shape,Ct.ROUND);return this.compileAndRun(e,[t])},t.prototype.exp=function(t){var e=new mt.UnaryOpProgram(t.shape,Ct.EXP);return this.compileAndRun(e,[t])},t.prototype.expm1=function(t){var e=new mt.UnaryOpProgram(t.shape,Ct.EXPM1);return this.compileAndRun(e,[t])},t.prototype.log=function(t){var e=new mt.UnaryOpProgram(t.shape,Ct.LOG),r=e.getCustomSetupFunc();return this.compileAndRun(e,[t],null,r)},t.prototype.log1p=function(t){var e=new mt.UnaryOpProgram(t.shape,Ct.LOG1P);return this.compileAndRun(e,[t])},t.prototype.sqrt=function(t){var e=new mt.UnaryOpProgram(t.shape,Ct.SQRT);return this.compileAndRun(e,[t])},t.prototype.rsqrt=function(t){var e=new mt.UnaryOpProgram(t.shape,Ct.RSQRT);return this.compileAndRun(e,[t])},t.prototype.square=function(t){var e=new mt.UnaryOpProgram(t.shape,Ct.SQUARE);return this.compileAndRun(e,[t])},t.prototype.reciprocal=function(t){var e=new mt.UnaryOpProgram(t.shape,Ct.RECIPROCAL);return this.compileAndRun(e,[t])},t.prototype.relu=function(t){var e=new mt.UnaryOpProgram(t.shape,Ct.RELU);return this.compileAndRun(e,[t])},t.prototype.elu=function(t){var e=new mt.UnaryOpProgram(t.shape,Ct.ELU);return this.compileAndRun(e,[t])},t.prototype.eluDer=function(t,e){var r=new M.BinaryOpProgram(P.ELU_DER,t.shape,e.shape);return this.compileAndRun(r,[t,e])},t.prototype.selu=function(t){var e=new mt.UnaryOpProgram(t.shape,Ct.SELU);return this.compileAndRun(e,[t])},t.prototype.int=function(t){var e=new mt.UnaryOpProgram(t.shape,Ct.TO_INT),r=this.makeOutputArray(e.outputShape,"int32");return this.compileAndRun(e,[t],r)},t.prototype.clip=function(t,e,r){var n=new D.ClipProgram(t.shape,e,r);return this.compileAndRun(n,[t])},t.prototype.abs=function(t){var e=new mt.UnaryOpProgram(t.shape,Ct.ABS);return this.compileAndRun(e,[t])},t.prototype.sigmoid=function(t){var e=new mt.UnaryOpProgram(t.shape,Ct.SIGMOID);return this.compileAndRun(e,[t])},t.prototype.softplus=function(t){var e=new mt.UnaryOpProgram(t.shape,Ct.SOFTPLUS);return this.compileAndRun(e,[t])},t.prototype.sin=function(t){var e=new mt.UnaryOpProgram(t.shape,Ct.SIN);return this.compileAndRun(e,[t])},t.prototype.cos=function(t){var e=new mt.UnaryOpProgram(t.shape,Ct.COS);return this.compileAndRun(e,[t])},t.prototype.tan=function(t){var e=new mt.UnaryOpProgram(t.shape,Ct.TAN);return this.compileAndRun(e,[t])},t.prototype.asin=function(t){var e=new mt.UnaryOpProgram(t.shape,Ct.ASIN);return this.compileAndRun(e,[t])},t.prototype.acos=function(t){var e=new mt.UnaryOpProgram(t.shape,Ct.ACOS);return this.compileAndRun(e,[t])},t.prototype.atan=function(t){var e=new mt.UnaryOpProgram(t.shape,Ct.ATAN);return this.compileAndRun(e,[t])},t.prototype.atan2=function(t,e){var r=new M.BinaryOpProgram(P.ATAN2,t.shape,e.shape);return this.compileAndRun(r,[t,e])},t.prototype.sinh=function(t){var e=new mt.UnaryOpProgram(t.shape,Ct.SINH);return this.compileAndRun(e,[t])},t.prototype.cosh=function(t){var e=new mt.UnaryOpProgram(t.shape,Ct.COSH);return this.compileAndRun(e,[t])},t.prototype.tanh=function(t){var e=new mt.UnaryOpProgram(t.shape,Ct.TANH);
return this.compileAndRun(e,[t])},t.prototype.asinh=function(t){var e=new mt.UnaryOpProgram(t.shape,Ct.ASINH);return this.compileAndRun(e,[t])},t.prototype.acosh=function(t){var e=new mt.UnaryOpProgram(t.shape,Ct.ACOSH),r=e.getCustomSetupFunc();return this.compileAndRun(e,[t],null,r)},t.prototype.atanh=function(t){var e=new mt.UnaryOpProgram(t.shape,Ct.ATANH),r=e.getCustomSetupFunc();return this.compileAndRun(e,[t],null,r)},t.prototype.erf=function(t){var e=new mt.UnaryOpProgram(t.shape,Ct.ERF);return this.compileAndRun(e,[t])},t.prototype.step=function(t,e){var r=new mt.UnaryOpProgram(t.shape,Ct.STEP(e));return this.compileAndRun(r,[t])},t.prototype.conv2d=function(t,e,r){var n=new F.Conv2DProgram(r);return this.compileAndRun(n,[t,e])},t.prototype.conv2dDerInput=function(t,e,r){var n=new L.Conv2DDerInputProgram(r);return this.compileAndRun(n,[t,e])},t.prototype.conv2dDerFilter=function(t,e,r){var n=new L.Conv2DDerFilterProgram(r);return this.compileAndRun(n,[t,e])},t.prototype.depthwiseConv2D=function(t,e,r){var n=new V.DepthwiseConv2DProgram(r);return this.compileAndRun(n,[t,e])},t.prototype.depthwiseConv2DDerInput=function(t,e,r){var n=new z.DepthwiseConv2DDerInputProgram(r);return this.compileAndRun(n,[t,e])},t.prototype.depthwiseConv2DDerFilter=function(t,e,r){var n=new z.DepthwiseConv2DDerFilterProgram(r);return this.compileAndRun(n,[t,e])},t.prototype.maxPool=function(t,e){var r=new rt.Pool2DProgram(e,"max",!1),n=this.makeOutputArray(r.outputShape,t.dtype);return this.compileAndRun(r,[t],n)},t.prototype.avgPool=function(t,e){var r=new rt.Pool2DProgram(e,"avg",!1),n=this.makeOutputArray(r.outputShape,"float32");return this.compileAndRun(r,[t],n)},t.prototype.maxPoolBackprop=function(t,e,r,n){var i=!0,a=new rt.Pool2DProgram(n,"max",i),o=this.compileAndRun(a,[e]),s=new J.MaxPool2DBackpropProgram(n),l=this.makeOutputArray(s.outputShape,e.dtype),u=this.compileAndRun(s,[t,o],l);return o.dispose(),u},t.prototype.avgPoolBackprop=function(t,e,r){var n=new E.AvgPool2DBackpropProgram(r),i=this.makeOutputArray(n.outputShape,e.dtype);return this.compileAndRun(n,[t],i)},t.prototype.cast=function(t,e){return b.castTensor(t,e,this)},t.prototype.reshape=function(t,e){return b.reshapeTensor(t,e)},t.prototype.resizeBilinear=function(t,e,r,n){var i=new at.ResizeBilinearProgram(t.shape,e,r,n);return this.compileAndRun(i,[t])},t.prototype.resizeBilinearBackprop=function(t,e,r){var n=new it.ResizeBilinearBackpropProgram(t,e,r);return this.compileAndRun(n,[t])},t.prototype.resizeNearestNeighbor=function(t,e,r,n){var i=new st.ResizeNearestNeighborProgram(t.shape,e,r,n);return this.compileAndRun(i,[t])},t.prototype.resizeNearestNeighborBackprop=function(t,e,r){var n=new ot.ResizeNearestNeigborBackpropProgram(t,e,r);return this.compileAndRun(n,[t])},t.prototype.multinomial=function(t,e,r,n){var i=e?t:A.softmax(t),a=i.shape[0],o=i.shape[1],s=new $.MultinomialProgram(a,o,r),l=this.makeOutputArray(s.outputShape,"int32"),u=s.getCustomSetupFunc(n);return this.compileAndRun(s,[i],l,u)},t.prototype.oneHot=function(t,e,r,n){var i=new tt.OneHotProgram(t.size,e,r,n);return this.compileAndRun(i,[t])},t.prototype.nonMaxSuppression=function(t,e,r,n,i){u.warn("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");var a=t.dataSync(),o=e.dataSync();return w.nonMaxSuppressionImpl(a,o,r,n,i)},t.prototype.cropAndResize=function(t,e,r,n,i,a){var o=new B.CropAndResizeProgram(t.shape,e.shape,n,i,a);return this.compileAndRun(o,[t,e,r])},t.prototype.depthToSpace=function(t,e,r){v.assert(e>1,"blockSize should be > 1 for depthToSpace, but was: "+e);var n=t.shape[0],i="NHWC"===r?t.shape[1]:t.shape[2],a="NHWC"===r?t.shape[2]:t.shape[3],o="NHWC"===r?t.shape[3]:t.shape[1],s=i*e,l=a*e,u=o/(e*e),c="NHWC"===r?[n,s,l,u]:[n,u,s,l],h=new W.DepthToSpaceProgram(c,e,r);return this.compileAndRun(h,[t])},t.prototype.split=function(t,e,r){return N.split(t,e,r)},t.prototype.makeOutputArray=function(t,e){return m.Tensor.make(t,{},e)},t.prototype.compileAndRun=function(t,r,n,i,a){var o=this;if(void 0===a&&(a=!0),null==n&&(n=this.makeOutputArray(t.outputShape,r[0].dtype)),0===n.size)return this.texData.get(n.dataId).values=y.getTypedArrayFromDType(n.dtype,0),n;var s=r.map(function(t){if("complex64"===t.dtype)throw new Error("GPGPUProgram does not support complex64 input. For complex64 dtypes, please separate the program into real and imaginary parts.");var r=o.texData.get(t.dataId);return null==r.texture&&v.sizeFromShape(t.shape)<=e.SIZE_UPLOAD_UNIFORM?{shape:t.shape,texData:null,isUniform:!0,uniformValues:o.readSync(t.dataId)}:(o.uploadToGPU(t.dataId),{shape:t.shape,texData:r,isUniform:!1})});this.uploadToGPU(n.dataId);var l,u={shape:n.shape,texData:this.texData.get(n.dataId),isUniform:!1},c=Z.makeShaderKey(t,s,u),h=this.getAndSaveBinary(c,function(){return Z.compileProgram(o.gpgpu,t,s,u)}),g=null!=this.activeTimers;if(g&&(l=this.startTimer()),Z.runProgram(h,s,u,i),a&&this.numBytesInGPU>this.NUM_BYTES_BEFORE_PAGING)for(var p=this.numBytesInGPU-this.NUM_BYTES_BEFORE_PAGING;p>0&&this.lruDataGPU.length>0;){var d=this.lruDataGPU.shift(),f=this.texData.get(d),A=f.shape,C=f.dtype;p-=this.computeBytes(A,C),this.read(d)}return g&&(l=this.endTimer(l),this.activeTimers.push(this.getQueryTime(l))),n},t.prototype.getAndSaveBinary=function(t,e){return t in this.binaryCache||(this.binaryCache[t]=e()),this.binaryCache[t]},t.prototype.getTextureManager=function(){return this.textureManager},t.prototype.dispose=function(){if(!this.disposed){for(var t in this.binaryCache)this.gpgpu.deleteProgram(this.binaryCache[t].webGLProgram);this.textureManager.dispose(),this.canvas.remove(),null!=this.fromPixelsCanvas&&this.fromPixelsCanvas.remove(),this.gpgpuCreatedLocally&&this.gpgpu.dispose(),this.disposed=!0}},t.prototype.floatPrecision=function(){var t=this;return l.tidy(function(){return t.abs(C.scalar(1e-8)).get()>0?32:16})},t.prototype.throwIfNoData=function(t){if(!this.texData.has(t))throw new Error("WebGL backend: No data found for this tensor. Did you change your backend in the middle of the program? New backends can't use Tensors created with previous backends")},t.prototype.uploadToGPU=function(t){this.throwIfNoData(t);var e=this.texData.get(t),r=e.shape,n=e.values,a=e.texture,o=e.dtype,s=e.usage;if(null!=a){var l=this.lruDataGPU.indexOf(t);return void(l>=0&&(this.lruDataGPU.splice(this.lruDataGPU.indexOf(t),1),this.lruDataGPU.push(t)))}var u,c=null!=this.activeTimers;c&&(u=performance.now());var h=It.getTextureShapeFromLogicalShape(this.gpgpu.gl,r);e.texShape=h;var g=this.acquireTexture(t,h,s);e.texture=g,null!=n&&(this.gpgpu.uploadMatrixToTexture(g,h[0],h[1],i(n,o)),e.values=null,c&&(this.uploadWaitMs+=performance.now()-u))},t.prototype.cacheOnCPU=function(t,e){var r=this.delayedStorage,i=this.texData.get(t),a=i.texture,o=i.texShape,s=i.dtype,l=i.usage;r&&null!=a&&(this.releaseTexture(t,a,o,l),i.texture=null,i.texShape=null),i.usage=pt.TextureUsage.UPLOAD,null!=e&&(i.values=n(e,s))},t.prototype.releaseTexture=function(t,e,r,n){var i=this.texData.get(t),a=i.shape,o=i.dtype,s=this.lruDataGPU.indexOf(t);s>=0&&this.lruDataGPU.splice(s,1),this.numBytesInGPU-=this.computeBytes(a,o),this.textureManager.releaseTexture(e,r,n)},t.prototype.acquireTexture=function(t,e,r){var n=this.texData.get(t),i=n.shape,a=n.dtype;return this.lruDataGPU.push(t),this.numBytesInGPU+=this.computeBytes(i,a),this.textureManager.acquireTexture(e,r)},t.prototype.computeBytes=function(t,e){return v.sizeFromShape(t)*v.bytesPerElement(e)},t}();e.MathBackendWebGL=bt,s.ENV.get("IS_BROWSER")&&s.ENV.registerBackend("webgl",function(){return new bt},2,m.setTensorTracker)},function(t,e,r){(function(t){"use strict";function n(){var e;if("undefined"!=typeof window)e=window;else{if("undefined"==typeof t)throw new Error("Could not find a global object");e=t}return e}function i(){var t=n();return null==t.ENV&&(t.ENV=new d(s.getFeaturesFromURL()),l.setTensorTracker(function(){return t.ENV.engine})),t.ENV}Object.defineProperty(e,"__esModule",{value:!0});var a=r(513),o=r(514),s=r(521),l=r(518),u=r(520),c=.001,h=.1,g=1e-7,p=.001,d=function(){function r(t){this.features={},this.engines={},this.registry={},null!=t&&(this.features=t),this.get("DEBUG")&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")}return r.setBackend=function(t,r){if(void 0===r&&(r=!1),!(t in e.ENV.registry))throw new Error("Backend name '"+t+"' not found in registry");e.ENV.initBackend(t,r)},r.getBackend=function(){return e.ENV.initDefaultBackend(),e.ENV.backendName},r.disposeVariables=function(){e.ENV.engine.disposeVariables()},r.memory=function(){return e.ENV.engine.memory()},r.tidy=function(t,r,n){return void 0===n&&(n=!1),e.ENV.engine.tidy(t,r,n)},r.dispose=function(t){var e=u.getTensorsInContainer(t);e.forEach(function(t){return t.dispose()})},r.keep=function(t){return e.ENV.engine.keep(t)},r.time=function(t){return e.ENV.engine.time(t)},r.prototype.get=function(t){return t in this.features?this.features[t]:(this.features[t]=this.evaluateFeature(t),this.features[t])},r.prototype.getFeatures=function(){return this.features},r.prototype.set=function(t,e){this.features[t]=e},r.prototype.getBestBackendName=function(){var t=this;if(0===Object.keys(this.registry).length)throw new Error("No backend found in registry.");var e=Object.keys(this.registry).map(function(e){return{name:e,entry:t.registry[e]}}).sort(function(t,e){return e.entry.priority-t.entry.priority});return e[0].name},r.prototype.evaluateFeature=function(e){if("DEBUG"===e)return!1;if("IS_BROWSER"===e)return"undefined"!=typeof window;if("IS_NODE"===e)return"undefined"!=typeof t&&"undefined"!=typeof t.versions.node;if("IS_CHROME"===e)return s.isChrome();if("IS_TEST"===e)return!1;if("BACKEND"===e)return this.getBestBackendName();if("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"===e){var r=this.get("WEBGL_VERSION");return 0===r?0:r>0?0:s.getWebGLDisjointQueryTimerVersion(r,this.get("IS_BROWSER"))}if("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE"===e)return this.get("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0&&!a.isMobile();if("HAS_WEBGL"===e)return this.get("WEBGL_VERSION")>0;if("WEBGL_VERSION"===e)return s.isWebGLVersionEnabled(2,this.get("IS_BROWSER"))?2:s.isWebGLVersionEnabled(1,this.get("IS_BROWSER"))?1:0;if("WEBGL_RENDER_FLOAT32_ENABLED"===e)return s.isRenderToFloatTextureEnabled(this.get("WEBGL_VERSION"),this.get("IS_BROWSER"));if("WEBGL_DOWNLOAD_FLOAT_ENABLED"===e)return s.isDownloadFloatTextureEnabled(this.get("WEBGL_VERSION"),this.get("IS_BROWSER"));if("WEBGL_FENCE_API_ENABLED"===e)return s.isWebGLFenceEnabled(this.get("WEBGL_VERSION"),this.get("IS_BROWSER"));if("TEST_EPSILON"===e)return 32===this.backend.floatPrecision()?p:h;if("EPSILON"===e)return 32===this.backend.floatPrecision()?g:c;throw new Error("Unknown feature "+e+".")},r.prototype.setFeatures=function(t){this.features=Object.assign({},t)},r.prototype.reset=function(){this.features=s.getFeaturesFromURL(),null!=this.globalEngine&&(this.globalEngine=null)},r.prototype.initBackend=function(t,e){var r=this;if(void 0===e&&(e=!1),this.backendName=t,this.engines[t])this.globalEngine=this.engines[t];else{var n=this.findBackend(t);this.globalEngine=new o.Engine(n,e,function(){return r.get("DEBUG")}),this.engines[t]=this.globalEngine}},Object.defineProperty(r.prototype,"backend",{get:function(){return this.engine.backend},enumerable:!0,configurable:!0}),r.prototype.findBackend=function(t){return t in this.registry?this.registry[t].backend:null},r.prototype.registerBackend=function(t,e,r,n){var i=this;if(void 0===r&&(r=1),t in this.registry)return console.warn(t+" backend was already registered. Reusing existing backend"),null!=n&&n(function(){return i.engine}),!1;try{var a=e();return this.registry[t]={backend:a,priority:r},!0}catch(e){return console.warn("Registration of backend "+t+" failed"),console.warn(e.stack||e.message),!1}},r.prototype.removeBackend=function(t){if(!(t in this.registry))throw new Error(t+" backend not found in registry");this.registry[t].backend.dispose(),delete this.registry[t],t in this.engines&&delete this.engines[t]},Object.defineProperty(r.prototype,"engine",{get:function(){return this.initDefaultBackend(),this.globalEngine},enumerable:!0,configurable:!0}),r.prototype.initDefaultBackend=function(){null==this.globalEngine&&this.initBackend(this.get("BACKEND"),!1)},r}();e.Environment=d,e.ENV=i()}).call(e,r(116))},function(t,e){"use strict";function r(){var t=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4))}Object.defineProperty(e,"__esModule",{value:!0}),e.isMobile=r},function(t,e,r){"use strict";function n(t){var e=h.makeOnesTypedArray(h.sizeFromShape(t),"float32");return l.Tensor.make(t,{values:e})}var i=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))(function(i,a){function o(t){try{l(n.next(t))}catch(t){a(t)}}function s(t){try{l(n.throw(t))}catch(t){a(t)}}function l(t){t.done?i(t.value):new r(function(e){e(t.value)}).then(o,s)}l((n=n.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){function r(t){return function(e){return n([t,e])}}function n(r){if(i)throw new TypeError("Generator is already executing.");for(;l;)try{if(i=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return l.label++,{value:r[1],done:!1};case 5:l.label++,a=r[1],r=[0];continue;case 7:r=l.ops.pop(),l.trys.pop();continue;default:if(o=l.trys,!(o=o.length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){l=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){l.label=r[1];break}if(6===r[0]&&l.label<o[1]){l.label=o[1],o=r;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(r);break}o[2]&&l.ops.pop(),l.trys.pop();continue}r=e.call(t,l)}catch(t){r=[6,t],a=0}finally{i=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}var i,a,o,s,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(e,"__esModule",{value:!0});var o=r(515),s=r(517),l=r(518),u=r(520),c=r(516),h=r(516),g=function(){function t(t,e,r){this.backend=t,this.safeMode=e,this.debugMode=r,this.registeredVariables={},this.refCounter=new WeakMap,this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numDataBuffers=0,this.gradientScopeCount=0,this.customGradientDepth=0,this.keepTensors=new Set,this.activeScope={track:[],name:"default scope"},this.scopeStack=[this.activeScope],this.profiler=new o.Profiler(t)}return t.prototype.tidy=function(t,e,r){var n=this;void 0===r&&(r=!1);var i=null;if(null==e){if("function"!=typeof t)throw new Error("Please provide a function to tidy()");e=t}else{if("string"!=typeof t&&!(t instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if("function"!=typeof e)throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");i=t}var a;return this.scopedRun(function(){return n.startScope(i,r)},function(){return n.endScope(a,r)},function(){return a=e(),a instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),a})},t.prototype.scopedRun=function(t,e,r){t();try{var n=r();return e(),n}catch(t){throw e(),t}},t.prototype.runKernel=function(t,e,r){var n,i=this,a=[],o=function(t){return a.push(t),t},s=this.activeScope.name;if(this.scopedRun(function(){return i.customGradientDepth++},function(){return i.customGradientDepth--},function(){n=i.debugMode()?i.profiler.profileKernel(s,function(){return t(i.backend,o)}):t(i.backend,o)}),this.shouldRecord()){var l={id:this.nextTapeNodeId++,name:s,inputs:e,outputs:Array.isArray(n)?n:[n]};null!=r&&(l.gradient=function(t){return r(t,a)}),this.activeTape.push(l)}return n},t.prototype.registerTensor=function(t){var e=this.refCounter.has(t.dataId)?this.refCounter.get(t.dataId):0;this.numTensors++,0===e&&(this.numDataBuffers++,"complex64"!==t.dtype&&(this.numBytes+=c.sizeFromShape(t.shape)*c.bytesPerElement(t.dtype)),this.backend.register(t.dataId,t.shape,t.dtype)),this.refCounter.set(t.dataId,e+1),t instanceof l.Variable||this.track(t)},t.prototype.registerVariable=function(t){if(null!=this.registeredVariables[t.name])throw new Error("Variable with name "+t.name+" was already registered");this.registeredVariables[t.name]=t},t.prototype.disposeTensor=function(t){if(this.refCounter.has(t.dataId)){this.keepTensors.has(t.id)&&this.keepTensors.delete(t.id),this.numTensors--;var e=this.refCounter.get(t.dataId);e<=1?(this.refCounter.delete(t.dataId),this.backend.disposeData(t.dataId),this.numDataBuffers--,"complex64"!==t.dtype&&(this.numBytes-=c.sizeFromShape(t.shape)*c.bytesPerElement(t.dtype))):this.refCounter.set(t.dataId,e-1)}},t.prototype.disposeVariables=function(){for(var t in this.registeredVariables){var e=this.registeredVariables[t];this.disposeTensor(e),delete this.registeredVariables[t]}},t.prototype.memory=function(){var t=this.backend.memory();return t.numTensors=this.numTensors,t.numDataBuffers=this.numDataBuffers,t.numBytes=this.numBytes,t},t.prototype.shouldRecord=function(){return null!=this.activeTape&&0===this.customGradientDepth},t.prototype.addTapeNode=function(t,e,r){var n={};t.forEach(function(t,e){n[e]=t});var i=function(t){var e=r(t),n={};return e.forEach(function(t,e){n[e]=function(){return t}}),n},a={id:this.nextTapeNodeId++,name:this.activeScope.name,inputs:n,outputs:[e],gradient:i};this.activeTape.push(a)},t.prototype.keep=function(t){if(1===this.scopeStack.length&&this.safeMode)throw new Error("Safe mode is ON. Enclose all tensor operations inside tf.tidy(): tf.tidy(() => {...}) to avoid memory leaks.");return this.keepTensors.add(t.id),t},t.prototype.startScope=function(t,e){void 0===e&&(e=!1),e&&0===this.gradientScopeCount&&(this.activeTape=[]),e&&this.gradientScopeCount++;var r={track:[],name:"unnamed scope"};t&&(r.name=t),this.scopeStack.push(r),this.activeScope=r},t.prototype.endScope=function(t,e){var r=this;void 0===e&&(e=!1),e&&(this.gradientScopeCount--,0===this.gradientScopeCount&&(this.activeTape=null));var n=new Set(this.keepTensors),i=u.getTensorsInContainer(t);i.forEach(function(t){return n.add(t.id)});for(var a=0;a<this.activeScope.track.length;a++){var o=this.activeScope.track[a];n.has(o.id)||(null!=this.activeTape?i.push(o):o.dispose())}var s=this.scopeStack.pop();this.activeScope=0===this.scopeStack.length?{track:[],name:"default scope"}:this.scopeStack[this.scopeStack.length-1],i.forEach(function(t){!r.keepTensors.has(t.id)&&u.isTensorInList(t,s.track)&&r.track(t)})},t.prototype.gradients=function(t,e,r,i){var a=this;return void 0===i&&(i=!1),c.assert(e.length>0,"gradients() received an empty list of xs."),this.tidy("gradients",function(){var o=t();c.assert(o instanceof l.Tensor,"The result y returned by f() must be a tensor.");var u=s.getFilteredNodesXToY(a.activeTape,e,o);if(!i&&0===u.length&&e.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");var h={};h[o.id]=null==r?n(o.shape):r,s.backpropagateGradients(h,u);var g=e.map(function(t){return h[t.id]});return{value:o,grads:g}},!0)},t.prototype.customGrad=function(t){var e=this;return c.assert(c.isFunction(t),"The f passed in customGrad(f) must be a function."),function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];c.assert(r.every(function(t){return t instanceof l.Tensor}),"The args passed in customGrad(f)(x1, x2,...) must all be tensors");var i,a;if(e.scopedRun(function(){return e.customGradientDepth++},function(){return e.customGradientDepth--},function(){var n=!0;a=e.tidy(t.name,function(){var e=t.apply(void 0,r),n=e.value,a=e.gradFunc;return c.assert(n instanceof l.Tensor,"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"),c.assert(c.isFunction(a),"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."),i=a,n},n)}),e.shouldRecord()){var o=function(t){var e=i(t),n=Array.isArray(e)?e:[e];return c.assert(n.length===r.length,"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."),c.assert(n.every(function(t){return t instanceof l.Tensor}),"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors."),n};e.addTapeNode(r,a,o)}return a}},t.prototype.write=function(t,e){this.backend.write(t,e)},t.prototype.readSync=function(t){return this.backend.readSync(t)},t.prototype.read=function(t){return this.backend.read(t)},t.prototype.fromPixels=function(t,e){return this.backend.fromPixels(t,e)},t.prototype.time=function(t){return i(this,void 0,void 0,function(){var e,r;return a(this,function(n){switch(n.label){case 0:return e=h.now(),[4,this.backend.time(t)];case 1:return r=n.sent(),r.wallMs=h.now()-e,[2,r]}})})},t.prototype.track=function(t){if(1===this.scopeStack.length&&this.safeMode)throw new Error("Safe mode is ON. Enclose all tensor operations inside tf.tidy(): tf.tidy(() => {op();...}); to avoid memory leaks.");return this.activeScope.track.push(t),t},t}();e.Engine=g},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(516),i=function(){function t(t,e){this.backendTimer=t,this.logger=e,null==e&&(this.logger=new a)}return t.prototype.profileKernel=function(t,e){var r,i=this,a=function(){r=e()},o=this.backendTimer.time(a),s=Array.isArray(r)?r:[r];return s.forEach(function(e){var r=e.dataSync();n.checkComputationForNaN(r,e.dtype,t),o.then(function(n){i.logger.logKernelProfile(t,e,r,n.kernelMs)})}),r},t}();e.Profiler=i;var a=function(){function t(){}return t.prototype.logKernelProfile=function(t,e,r,i){var a=n.rightPad(i+"ms",9),o=n.rightPad(t,25),s=e.rank,l=e.size,u=n.rightPad(e.shape.toString(),14);console.log("%c"+o+"\t%c"+a+"\t%c"+s+"D "+u+"\t%c"+l,"font-weight:bold","color:red","color:blue","color: orange")},t}();e.Logger=a},function(t,e,r){(function(t){"use strict";function r(t){for(var e=t.length,r=0,n=0;e>0;)n=Math.random()*e|0,e--,r=t[e],t[e]=t[n],t[n]=r}function n(t,e,r){return Math.max(t,Math.min(e,r))}function i(t,e){var r=Math.random();return e*r+(1-r)*t}function a(t,e){for(var r=0,n=0;n<t.length;n++){var i=Number(t[n])-Number(e[n]);r+=i*i}return r}function o(t,e){if(!t)throw new Error("string"==typeof e?e:e())}function s(t,e,r){void 0===r&&(r=""),o(d(t,e),r+(" Shapes "+t+" and "+e+" must match"))}function l(t){o(null!=t,"The input to the tensor constructor must be a non-null value.")}function u(t,e){if(void 0===e&&(e=[]),Array.isArray(t))for(var r=0;r<t.length;++r)u(t[r],e);else e.push(t);return e}function c(t){var e=t;if(E(t))return[t.length];if(!Array.isArray(t))return[];for(var r=[];e instanceof Array;)r.push(e.length),e=e[0];return t instanceof Array&&h(t,r,[]),r}function h(t,e,r){if(r=r||[],!(t instanceof Array))return void o(0===e.length,function(){return"Element arr["+r.join("][")+"] is a primitive, "+("but should be an array of "+e[0]+" elements")});o(e.length>0,function(){return"Element arr["+r.join("][")+"] should be a primitive, "+("but is an array of "+t.length+" elements")}),o(t.length===e[0],function(){return"Element arr["+r.join("][")+"] should have "+e[0]+" "+("elements, but has "+t.length+" elements")});for(var n=e.slice(1),i=0;i<t.length;++i)h(t[i],n,r.concat(i))}function g(t){if(0===t.length)return 1;for(var e=t[0],r=1;r<t.length;r++)e*=t[r];return e}function p(t){return 0===t.length}function d(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function f(t){return t%1===0}function A(t){if(null!=Math.tanh)return Math.tanh(t);if(t===1/0)return 1;if(t===-(1/0))return-1;var e=Math.exp(2*t);return(e-1)/(e+1)}function C(t){for(var e=Math.floor(Math.sqrt(t));e>1;--e)if(t%e===0)return[e,t/e];return[1,t]}function m(t){for(var e=new Uint32Array(t),n=0;n<t;++n)e[n]=n;return r(e),e}function I(t,e){return e<=t.length?t:t+" ".repeat(e-t.length)}function v(t,e,r){return void 0===e&&(e=function(t){return 0}),new Promise(function(n,i){var a=0,o=function(){if(t())return void n();a++;var s=e(a);return null!=r&&a>=r?void i():void setTimeout(o,s)};o()})}function y(t,e){for(var r=1,n=-1,i=0;i<t.length;++i)if(t[i]>=0)r*=t[i];else if(t[i]===-1){if(n!==-1)throw Error("Shapes can only have 1 implicit size. "+("Found -1 at dim "+n+" and dim "+i));n=i}else if(t[i]<0)throw Error("Shapes can not be < 0. Found "+t[i]+" at dim "+i);if(n===-1){if(e>0&&e!==r)throw Error("Size("+e+") must match the product of shape "+t);return t}if(0===r)throw Error("Cannot infer the missing size in ["+t+"] when there are 0 elements");if(e%r!==0)throw Error("The implicit shape can't be a fractional number. "+("Got "+e+" / "+r));var a=t.slice();return a[n]=e/r,a}function b(t,e){for(var r=[],n=[],i=0,a=0;a<t.length;++a){if(null!=e){if(e[i]===a&&1!==t[a])throw new Error("Can't squeeze axis "+a+" since its dim '"+t[a]+"' is not 1");(null==e[i]||e[i]>a)&&1===t[a]&&(r.push(t[a]),n.push(a)),e[i]<=a&&i++}1!==t[a]&&(r.push(t[a]),n.push(a))}return{newShape:r,keptDims:n}}function x(t,e){var r=null;if(null==t||"float32"===t)r=new Float32Array(e);else if("int32"===t)r=new Int32Array(e);else{if("bool"!==t)throw new Error("Unknown data type "+t);r=new Uint8Array(e)}return r}function w(t,e,r){if("float32"===e)for(var n=0;n<t.length;n++)if(isNaN(t[n]))throw Error("The result of the '"+r+"' has NaNs.")}function N(t,e){if("float32"!==e)for(var r=0;r<t.length;r++)if(isNaN(t[r]))throw Error("NaN is not a valid value for dtype: '"+e+"'.")}function S(t,e){return"complex64"!==e&&(("float32"!==e||"complex64"===t)&&(("int32"!==e||"float32"===t||"complex64"===t)&&("bool"!==e||"bool"!==t)))}function T(t,e,r){if(null==e||"float32"===e||"complex64"===e)return new Float32Array(t);if("int32"===e)return r&&N(t,e),new Int32Array(t);if("bool"===e){for(var n=new Uint8Array(t.length),i=0;i<n.length;++i)0!==Math.round(t[i])&&(n[i]=1);return n}throw new Error("Unknown data type "+e)}function E(t){return t instanceof Float32Array||t instanceof Int32Array||t instanceof Uint8Array}function k(t){if("float32"===t||"int32"===t)return 4;if("complex64"===t)return 8;if("bool"===t)return 1;throw new Error("Unknown dtype "+t)}function O(t){return!!(t&&t.constructor&&t.call&&t.apply)}function _(t,e){for(var r=e;r<t;++r)if(t%r===0)return r;return t}function P(t){var e=t.length;if(e<2)return[];var r=new Array(e-1);r[e-2]=t[e-1];for(var n=e-3;n>=0;--n)r[n]=r[n+1]*t[n+1];return r}function M(t,e,r){return D(t,e)?t:(Array.isArray(t)&&(t=u(t)),T(t,e,r))}function D(t,e){return t instanceof Float32Array&&"float32"===e||t instanceof Int32Array&&"int32"===e||t instanceof Uint8Array&&"bool"===e}function R(t,e){for(var r=L(t,e),n=0;n<r.length;n++)r[n]=1;return r}function L(t,e){if(null==e||"float32"===e||"complex64"===e)return new Float32Array(t);if("int32"===e)return new Int32Array(t);if("bool"===e)return new Uint8Array(t);throw new Error("Unknown data type "+e)}function z(){if("undefined"!=typeof performance)return performance.now();if("undefined"!=typeof t){var e=t.hrtime();return 1e3*e[0]+e[1]/1e6}throw new Error("Cannot measure time in this environment. You should run tf.js in the browser or in Node.js")}Object.defineProperty(e,"__esModule",{value:!0}),e.shuffle=r,e.clamp=n,e.randUniform=i,e.distSquared=a,e.assert=o,e.assertShapesMatch=s,e.assertNonNull=l,e.flatten=u,e.inferShape=c,e.sizeFromShape=g,e.isScalarShape=p,e.arraysEqual=d,e.isInt=f,e.tanh=A,e.sizeToSquarishShape=C,e.createShuffledIndices=m,e.rightPad=I,e.repeatedTry=v,e.inferFromImplicitShape=y,e.squeezeShape=b,e.getTypedArrayFromDType=x,e.checkComputationForNaN=w,e.checkConversionForNaN=N,e.hasEncodingLoss=S,e.isTypedArray=E,e.bytesPerElement=k,e.isFunction=O,e.nearestDivisor=_,e.computeStrides=P,e.toTypedArray=M,e.makeOnesTypedArray=R,e.makeZerosTypedArray=L,e.now=z}).call(e,r(116))},function(t,e,r){"use strict";function n(t,e,r){for(var n={},i={},a=0;a<e.length;a++)n[e[a].id]=!0;for(var a=0;a<t.length;a++){var o=t[a],s=o.inputs;for(var l in s){for(var u=s[l],c=!1,h=0;h<e.length;h++)if(n[u.id]){o.outputs.forEach(function(t){return n[t.id]=!0}),c=!0,i[o.id]=!0;break}if(c)break}}var g={};g[r.id]=!0;for(var p={},a=t.length-1;a>=0;a--)for(var o=t[a],s=o.inputs,h=0;h<o.outputs.length;h++)if(g[o.outputs[h].id]){for(var l in s)g[s[l].id]=!0,p[o.id]=!0;break}for(var d=[],a=0;a<t.length;a++){var o=t[a];if(i[o.id]&&p[o.id]){var f={};for(var l in o.inputs){var A=o.inputs[l];n[A.id]&&(f[l]=A)}var C=Object.assign({},o);C.inputs=f,C.outputs=o.outputs,d.push(C)}}return d}function i(t,e){for(var r=(function(r){var n=e[r],i=[];if(n.outputs.forEach(function(e){var r=t[e.id];if(null!=r)i.push(r);else{var n=a.Tensor.make(e.shape,{values:o.makeZerosTypedArray(e.size,e.dtype)},e.dtype);i.push(n)}}),null==n.gradient)throw new Error("Cannot compute gradient: gradient function not found "+("for "+n.name+"."));var s=n.gradient(1===n.outputs.length?i[0]:i);for(var l in n.inputs){if(!(l in s))throw new Error("Cannot backprop through input "+l+". "+("Available gradients found: "+Object.keys(s)+"."));var u=s[l](),c=n.inputs[l];if(!o.arraysEqual(u.shape,c.shape))throw new Error("Error in gradient for op "+n.name+". The gradient of input "+("'"+l+"' has shape '"+u.shape+"', which does not match ")+("the shape of the input '"+c.shape+"'"));if(null==t[c.id])t[c.id]=u;else{var h=t[c.id];t[c.id]=h.add(u),h.dispose()}}}),n=e.length-1;n>=0;n--)r(n)}Object.defineProperty(e,"__esModule",{value:!0});var a=r(518),o=r(516);e.getFilteredNodesXToY=n,e.backpropagateGradients=i},function(t,e,r){"use strict";function n(t){g=t}function i(t){p=t}var a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);
};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),o=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))(function(i,a){function o(t){try{l(n.next(t))}catch(t){a(t)}}function s(t){try{l(n.throw(t))}catch(t){a(t)}}function l(t){t.done?i(t.value):new r(function(e){e(t.value)}).then(o,s)}l((n=n.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){function r(t){return function(e){return n([t,e])}}function n(r){if(i)throw new TypeError("Generator is already executing.");for(;l;)try{if(i=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return l.label++,{value:r[1],done:!1};case 5:l.label++,a=r[1],r=[0];continue;case 7:r=l.ops.pop(),l.trys.pop();continue;default:if(o=l.trys,!(o=o.length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){l=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){l.label=r[1];break}if(6===r[0]&&l.label<o[1]){l.label=o[1],o=r;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(r);break}o[2]&&l.ops.pop(),l.trys.pop();continue}r=e.call(t,l)}catch(t){r=[6,t],a=0}finally{i=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}var i,a,o,s,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(e,"__esModule",{value:!0});var l=r(519),u=r(516),c=r(516),h=function(){function t(t,e,r){if(this.dtype=e,this.shape=t.slice(),this.size=u.sizeFromShape(t),null!=r){var n=r.length;u.assert(n===this.size,"Length of values '"+n+"' does not match the size "+("inferred by the shape '"+this.size+"'."))}if("complex64"===e)throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=r||u.getTypedArrayFromDType(e,u.sizeFromShape(this.shape)),this.strides=c.computeStrides(t)}return t.prototype.set=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];0===e.length&&(e=[0]),u.assert(e.length===this.rank,"The number of provided coordinates ("+e.length+") must "+("match the rank ("+this.rank+")"));var n=this.locToIndex(e);this.values[n]=t},t.prototype.get=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];0===t.length&&(t=[0]);for(var r=t[t.length-1],n=0;n<t.length-1;++n)r+=this.strides[n]*t[n];return this.values[r]},t.prototype.locToIndex=function(t){if(0===this.rank)return 0;if(1===this.rank)return t[0];for(var e=t[t.length-1],r=0;r<t.length-1;++r)e+=this.strides[r]*t[r];return e},t.prototype.indexToLoc=function(t){if(0===this.rank)return[];if(1===this.rank)return[t];for(var e=new Array(this.shape.length),r=0;r<e.length-1;++r)e[r]=Math.floor(t/this.strides[r]),t-=e[r]*this.strides[r];return e[e.length-1]=t,e},Object.defineProperty(t.prototype,"rank",{get:function(){return this.shape.length},enumerable:!0,configurable:!0}),t.prototype.toTensor=function(){return d.make(this.shape,{values:this.values},this.dtype)},t}();e.TensorBuffer=h;var g=null,p=null;e.setTensorTracker=n,e.setOpHandler=i;var d=function(){function t(e,r,n,i){this.isDisposedInternal=!1,this.shape=e.slice(),this.dtype=r||"float32",this.size=u.sizeFromShape(e),null!=n&&u.assert(this.size===n.length,"Based on the provided shape, ["+e+"], and dtype "+(this.dtype+", the tensor should have ")+(this.size+" values but has "+n.length)),this.strides=c.computeStrides(e),this.dataId=null!=i?i:{},this.id=t.nextId++,this.rankType=this.rank<5?this.rank.toString():"higher",g().registerTensor(this),null!=n&&g().write(this.dataId,n)}return t.make=function(e,r,n){return new t(e,n,r.values,r.dataId)},t.prototype.flatten=function(){return this.throwIfDisposed(),this.as1D()},t.prototype.asScalar=function(){return this.throwIfDisposed(),u.assert(1===this.size,"The array must have only 1 element."),this.reshape([])},t.prototype.as1D=function(){return this.throwIfDisposed(),this.reshape([this.size])},t.prototype.as2D=function(t,e){return this.throwIfDisposed(),this.reshape([t,e])},t.prototype.as3D=function(t,e,r){return this.throwIfDisposed(),this.reshape([t,e,r])},t.prototype.as4D=function(t,e,r,n){return this.throwIfDisposed(),this.reshape([t,e,r,n])},t.prototype.asType=function(t){return this.throwIfDisposed(),p.cast(this,t)},Object.defineProperty(t.prototype,"rank",{get:function(){return this.shape.length},enumerable:!0,configurable:!0}),t.prototype.get=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];u.assert(t.length===this.rank,"Number of coordinates in get() must match the rank of the tensor"),u.assert("complex64"!==this.dtype,"Tensor.get() is not supported for complex64 tensors yet."),this.throwIfDisposed(),0===t.length&&(t=[0]);for(var r=t[t.length-1],n=0;n<t.length-1;++n)r+=this.strides[n]*t[n];return this.dataSync()[r]},t.prototype.buffer=function(){return p.buffer(this.shape,this.dtype,this.dataSync())},t.prototype.data=function(){return o(this,void 0,void 0,function(){return s(this,function(t){return this.throwIfDisposed(),[2,g().read(this.dataId)]})})},t.prototype.dataSync=function(){return this.throwIfDisposed(),g().readSync(this.dataId)},t.prototype.dispose=function(){this.isDisposed||(g().disposeTensor(this),this.isDisposedInternal=!0)},Object.defineProperty(t.prototype,"isDisposed",{get:function(){return this.isDisposedInternal},enumerable:!0,configurable:!0}),t.prototype.throwIfDisposed=function(){if(this.isDisposed)throw new Error("Tensor is disposed.")},t.prototype.toFloat=function(){return this.asType("float32")},t.prototype.toInt=function(){return this.asType("int32")},t.prototype.toBool=function(){return this.asType("bool")},t.prototype.print=function(t){return void 0===t&&(t=!1),p.print(this,t)},t.prototype.reshape=function(t){return this.throwIfDisposed(),p.reshape(this,t)},t.prototype.reshapeAs=function(t){return this.throwIfDisposed(),this.reshape(t.shape)},t.prototype.expandDims=function(t){return void 0===t&&(t=0),p.expandDims(this,t)},t.prototype.cumsum=function(t,e,r){return void 0===t&&(t=0),void 0===e&&(e=!1),void 0===r&&(r=!1),p.cumsum(this,t,e,r)},t.prototype.squeeze=function(t){return this.throwIfDisposed(),p.squeeze(this,t)},t.prototype.clone=function(){return this.throwIfDisposed(),p.clone(this)},t.prototype.toString=function(t){void 0===t&&(t=!1);var e=this.dataSync();return l.tensorToString(e,this.shape,this.dtype,t)},t.prototype.tile=function(t){return this.throwIfDisposed(),p.tile(this,t)},t.prototype.gather=function(t,e){return void 0===e&&(e=0),this.throwIfDisposed(),p.gather(this,t,e)},t.prototype.matMul=function(t,e,r){return void 0===e&&(e=!1),void 0===r&&(r=!1),this.throwIfDisposed(),p.matMul(this,t,e,r)},t.prototype.dot=function(t){return this.throwIfDisposed(),p.dot(this,t)},t.prototype.norm=function(t,e,r){return void 0===t&&(t="euclidean"),void 0===e&&(e=null),void 0===r&&(r=!1),this.throwIfDisposed(),p.norm(this,t,e,r)},t.prototype.slice=function(t,e){return this.throwIfDisposed(),p.slice(this,t,e)},t.prototype.reverse=function(t){return this.throwIfDisposed(),p.reverse(this,t)},t.prototype.concat=function(t,e){return void 0===e&&(e=0),this.throwIfDisposed(),p.concat([this,t],e)},t.prototype.split=function(t,e){return void 0===e&&(e=0),this.throwIfDisposed(),p.split(this,t,e)},t.prototype.stack=function(t,e){return void 0===e&&(e=0),p.stack([this,t],e)},t.prototype.unstack=function(t,e){return void 0===e&&(e=0),p.unstack(this,e)},t.prototype.pad=function(t,e){return void 0===e&&(e=0),p.pad(this,t,e)},t.prototype.batchNormalization=function(t,e,r,n,i){return void 0===r&&(r=.001),this.throwIfDisposed(),p.batchNormalization(this,t,e,r,n,i)},t.prototype.all=function(t,e){return void 0===t&&(t=null),void 0===e&&(e=!1),this.throwIfDisposed(),p.all(this,t,e)},t.prototype.any=function(t,e){return void 0===t&&(t=null),void 0===e&&(e=!1),this.throwIfDisposed(),p.any(this,t,e)},t.prototype.logSumExp=function(t,e){return void 0===t&&(t=null),void 0===e&&(e=!1),this.throwIfDisposed(),p.logSumExp(this,t,e)},t.prototype.sum=function(t,e){return void 0===t&&(t=null),void 0===e&&(e=!1),this.throwIfDisposed(),p.sum(this,t,e)},t.prototype.mean=function(t,e){return void 0===t&&(t=null),void 0===e&&(e=!1),this.throwIfDisposed(),p.mean(this,t,e)},t.prototype.min=function(t,e){return void 0===t&&(t=null),void 0===e&&(e=!1),this.throwIfDisposed(),p.min(this,t,e)},t.prototype.max=function(t,e){return void 0===t&&(t=null),void 0===e&&(e=!1),this.throwIfDisposed(),p.max(this,t,e)},t.prototype.argMin=function(t){return void 0===t&&(t=null),this.throwIfDisposed(),p.argMin(this,t)},t.prototype.argMax=function(t){return void 0===t&&(t=null),this.throwIfDisposed(),p.argMax(this,t)},t.prototype.cast=function(t){return this.throwIfDisposed(),p.cast(this,t)},t.prototype.add=function(t){return this.throwIfDisposed(),p.add(this,t)},t.prototype.addStrict=function(t){return this.throwIfDisposed(),p.addStrict(this,t)},t.prototype.atan2=function(t){return this.throwIfDisposed(),p.atan2(this,t)},t.prototype.sub=function(t){return this.throwIfDisposed(),p.sub(this,t)},t.prototype.subStrict=function(t){return this.throwIfDisposed(),p.subStrict(this,t)},t.prototype.pow=function(t){return this.throwIfDisposed(),p.pow(this,t)},t.prototype.powStrict=function(t){return this.throwIfDisposed(),p.powStrict(this,t)},t.prototype.mul=function(t){return this.throwIfDisposed(),p.mul(this,t)},t.prototype.mulStrict=function(t){return this.throwIfDisposed(),p.mulStrict(this,t)},t.prototype.div=function(t){return this.throwIfDisposed(),p.div(this,t)},t.prototype.floorDiv=function(t){return this.throwIfDisposed(),p.floorDiv(this,t)},t.prototype.divStrict=function(t){return this.throwIfDisposed(),p.divStrict(this,t)},t.prototype.minimum=function(t){return this.throwIfDisposed(),p.minimum(this,t)},t.prototype.minimumStrict=function(t){return this.throwIfDisposed(),p.minimumStrict(this,t)},t.prototype.maximum=function(t){return this.throwIfDisposed(),p.maximum(this,t)},t.prototype.maximumStrict=function(t){return this.throwIfDisposed(),p.maximumStrict(this,t)},t.prototype.mod=function(t){return this.throwIfDisposed(),p.mod(this,t)},t.prototype.modStrict=function(t){return this.throwIfDisposed(),p.modStrict(this,t)},t.prototype.squaredDifference=function(t){return this.throwIfDisposed(),p.squaredDifference(this,t)},t.prototype.squaredDifferenceStrict=function(t){return this.throwIfDisposed(),p.squaredDifferenceStrict(this,t)},t.prototype.transpose=function(t){return this.throwIfDisposed(),p.transpose(this,t)},t.prototype.notEqual=function(t){return this.throwIfDisposed(),p.notEqual(this,t)},t.prototype.notEqualStrict=function(t){return this.throwIfDisposed(),p.notEqualStrict(this,t)},t.prototype.less=function(t){return this.throwIfDisposed(),p.less(this,t)},t.prototype.lessStrict=function(t){return this.throwIfDisposed(),p.lessStrict(this,t)},t.prototype.equal=function(t){return this.throwIfDisposed(),p.equal(this,t)},t.prototype.equalStrict=function(t){return this.throwIfDisposed(),p.equalStrict(this,t)},t.prototype.lessEqual=function(t){return this.throwIfDisposed(),p.lessEqual(this,t)},t.prototype.lessEqualStrict=function(t){return this.throwIfDisposed(),p.lessEqualStrict(this,t)},t.prototype.greater=function(t){return this.throwIfDisposed(),p.greater(this,t)},t.prototype.greaterStrict=function(t){return this.throwIfDisposed(),p.greaterStrict(this,t)},t.prototype.greaterEqual=function(t){return this.throwIfDisposed(),p.greaterEqual(this,t)},t.prototype.greaterEqualStrict=function(t){return this.throwIfDisposed(),p.greaterEqualStrict(this,t)},t.prototype.logicalAnd=function(t){return this.throwIfDisposed(),p.logicalAnd(this,t)},t.prototype.logicalOr=function(t){return this.throwIfDisposed(),p.logicalOr(this,t)},t.prototype.logicalNot=function(){return this.throwIfDisposed(),p.logicalNot(this)},t.prototype.logicalXor=function(t){return this.throwIfDisposed(),p.logicalXor(this,t)},t.prototype.where=function(t,e){return this.throwIfDisposed(),p.where(t,this,e)},t.prototype.neg=function(){return this.throwIfDisposed(),p.neg(this)},t.prototype.ceil=function(){return this.throwIfDisposed(),p.ceil(this)},t.prototype.floor=function(){return this.throwIfDisposed(),p.floor(this)},t.prototype.sign=function(){return this.throwIfDisposed(),p.sign(this)},t.prototype.exp=function(){return this.throwIfDisposed(),p.exp(this)},t.prototype.expm1=function(){return this.throwIfDisposed(),p.expm1(this)},t.prototype.log=function(){return this.throwIfDisposed(),p.log(this)},t.prototype.log1p=function(){return this.throwIfDisposed(),p.log1p(this)},t.prototype.sqrt=function(){return this.throwIfDisposed(),p.sqrt(this)},t.prototype.rsqrt=function(){return this.throwIfDisposed(),p.rsqrt(this)},t.prototype.square=function(){return this.throwIfDisposed(),p.square(this)},t.prototype.reciprocal=function(){return this.throwIfDisposed(),p.reciprocal(this)},t.prototype.abs=function(){return this.throwIfDisposed(),p.abs(this)},t.prototype.clipByValue=function(t,e){return this.throwIfDisposed(),p.clipByValue(this,t,e)},t.prototype.relu=function(){return this.throwIfDisposed(),p.relu(this)},t.prototype.elu=function(){return this.throwIfDisposed(),p.elu(this)},t.prototype.selu=function(){return this.throwIfDisposed(),p.selu(this)},t.prototype.leakyRelu=function(t){return void 0===t&&(t=.2),this.throwIfDisposed(),p.leakyRelu(this,t)},t.prototype.prelu=function(t){return this.throwIfDisposed(),p.prelu(this,t)},t.prototype.sigmoid=function(){return this.throwIfDisposed(),p.sigmoid(this)},t.prototype.logSigmoid=function(){return this.throwIfDisposed(),p.logSigmoid(this)},t.prototype.softplus=function(){return this.throwIfDisposed(),p.softplus(this)},t.prototype.zerosLike=function(){return this.throwIfDisposed(),p.zerosLike(this)},t.prototype.onesLike=function(){return this.throwIfDisposed(),p.onesLike(this)},t.prototype.sin=function(){return this.throwIfDisposed(),p.sin(this)},t.prototype.cos=function(){return this.throwIfDisposed(),p.cos(this)},t.prototype.tan=function(){return this.throwIfDisposed(),p.tan(this)},t.prototype.asin=function(){return this.throwIfDisposed(),p.asin(this)},t.prototype.acos=function(){return this.throwIfDisposed(),p.acos(this)},t.prototype.atan=function(){return this.throwIfDisposed(),p.atan(this)},t.prototype.sinh=function(){return this.throwIfDisposed(),p.sinh(this)},t.prototype.cosh=function(){return this.throwIfDisposed(),p.cosh(this)},t.prototype.tanh=function(){return this.throwIfDisposed(),p.tanh(this)},t.prototype.asinh=function(){return this.throwIfDisposed(),p.asinh(this)},t.prototype.acosh=function(){return this.throwIfDisposed(),p.acosh(this)},t.prototype.atanh=function(){return this.throwIfDisposed(),p.atanh(this)},t.prototype.erf=function(){return this.throwIfDisposed(),p.erf(this)},t.prototype.round=function(){return this.throwIfDisposed(),p.round(this)},t.prototype.step=function(t){return void 0===t&&(t=0),this.throwIfDisposed(),p.step(this,t)},t.prototype.softmax=function(t){return void 0===t&&(t=-1),this.throwIfDisposed(),p.softmax(this,t)},t.prototype.resizeBilinear=function(t,e){return void 0===e&&(e=!1),this.throwIfDisposed(),p.image.resizeBilinear(this,t,e)},t.prototype.resizeNearestNeighbor=function(t,e){return void 0===e&&(e=!1),this.throwIfDisposed(),p.image.resizeNearestNeighbor(this,t,e)},t.prototype.conv1d=function(t,e,r,n,i,a){return void 0===n&&(n="NWC"),void 0===i&&(i=1),this.throwIfDisposed(),p.conv1d(this,t,e,r,n,i,a)},t.prototype.conv2d=function(t,e,r,n,i,a){return void 0===n&&(n="NHWC"),void 0===i&&(i=[1,1]),this.throwIfDisposed(),p.conv2d(this,t,e,r,n,i,a)},t.prototype.conv2dTranspose=function(t,e,r,n,i){return this.throwIfDisposed(),p.conv2dTranspose(this,t,e,r,n,i)},t.prototype.depthwiseConv2D=function(t,e,r,n,i,a){return void 0===n&&(n="NHWC"),void 0===i&&(i=[1,1]),this.throwIfDisposed(),p.depthwiseConv2d(this,t,e,r,n,i,a)},t.prototype.separableConv2d=function(t,e,r,n,i,a){return void 0===i&&(i=[1,1]),void 0===a&&(a="NHWC"),this.throwIfDisposed(),p.separableConv2d(this,t,e,r,n,i,a)},t.prototype.avgPool=function(t,e,r,n){return this.throwIfDisposed(),p.avgPool(this,t,e,r,n)},t.prototype.maxPool=function(t,e,r,n){return this.throwIfDisposed(),p.maxPool(this,t,e,r,n)},t.prototype.localResponseNormalization=function(t,e,r,n){return void 0===t&&(t=5),void 0===e&&(e=1),void 0===r&&(r=1),void 0===n&&(n=.5),p.localResponseNormalization(this,t,e,r,n)},t.prototype.variable=function(t,e,r){return void 0===t&&(t=!0),this.throwIfDisposed(),f.variable(this,t,e,r)},t.prototype.unsortedSegmentSum=function(t,e){return this.throwIfDisposed(),p.unsortedSegmentSum(this,t,e)},t.prototype.batchToSpaceND=function(t,e){return this.throwIfDisposed(),p.batchToSpaceND(this,t,e)},t.prototype.spaceToBatchND=function(t,e){return this.throwIfDisposed(),p.spaceToBatchND(this,t,e)},t.prototype.topk=function(t,e){return void 0===t&&(t=1),void 0===e&&(e=!0),this.throwIfDisposed(),p.topk(this,t,e)},t.prototype.stridedSlice=function(t,e,r,n,i){return void 0===n&&(n=0),void 0===i&&(i=0),this.throwIfDisposed(),p.stridedSlice(this,t,e,r,n,i)},t.prototype.depthToSpace=function(t,e){return this.throwIfDisposed(),p.depthToSpace(this,t,e)},t.nextId=0,t}();e.Tensor=d,Object.defineProperty(d,Symbol.hasInstance,{value:function(t){return!!t&&null!=t.shape&&null!=t.dtype}});var f=function(t){function e(r,n,i){void 0===n&&(n=!0);var a=t.call(this,r.shape,r.dtype,null,r.dataId)||this;a.trainable=n,a.name=i,null==a.name&&(a.name=e.nextVarId.toString(),e.nextVarId++);try{g().registerVariable(a)}catch(t){throw g().disposeTensor(a),t}return a}return a(e,t),e.variable=function(t,r,n,i){return void 0===r&&(r=!0),null!=i&&i!==t.dtype&&(t=t.asType(i)),new e(t,r,n)},e.prototype.assign=function(t){if(t.dtype!==this.dtype)throw new Error("dtype of the new value ("+t.dtype+") and "+("previous value ("+this.dtype+") must match"));if(!u.arraysEqual(t.shape,this.shape))throw new Error("shape of the new value ("+t.shape+") and "+("previous value ("+this.shape+") must match"));g().disposeTensor(this),this.dataId=t.dataId,g().registerTensor(this)},e.nextVarId=0,e}(d);e.Variable=f,Object.defineProperty(f,Symbol.hasInstance,{value:function(t){return t instanceof d&&null!=t.assign&&t.assign instanceof Function}});var A=f.variable;e.variable=A},function(t,e,r){"use strict";function n(t,e,r,n){var a=l.computeStrides(e),s=i(t,e,r,a),u=e.length,c=o(t,e,r,a,s),h=["Tensor"];return n&&(h.push("  dtype: "+r),h.push("  rank: "+u),h.push("  shape: ["+e+"]"),h.push("  values:")),h.push(c.map(function(t){return"    "+t}).join("\n")),h.join("\n")}function i(t,e,r,n){var i=l.sizeFromShape(e),o=n[n.length-1],u=new Array(o).fill(0),c=e.length,h="complex64"===r?s(t):t;if(c>1)for(var g=0;g<i/o;g++)for(var p=g*o,d=0;d<o;d++)u[d]=Math.max(u[d],a(h[p+d],0).length);return u}function a(t,e){var r;return r=Array.isArray(t)?parseFloat(t[0].toFixed(h))+" + "+(parseFloat(t[1].toFixed(h))+"j"):parseFloat(t.toFixed(h)).toString(),l.rightPad(r,e)}function o(t,e,r,n,i,l){void 0===l&&(l=!0);var h="complex64"===r?2:1,g=e[0],p=e.length;if(0===p){if("complex64"===r){var d=s(t);return[a(d[0],0)]}return[t[0].toString()]}if(1===p){if(g>u){var f=c*h,A=Array.from(t.subarray(0,f)),C=Array.from(t.subarray(g-c*h,g));return"complex64"===r&&(A=s(A),C=s(C)),["["+A.map(function(t,e){return a(t,i[e])}).join(", ")+", ..., "+C.map(function(t,e){return a(t,i[g-c+e])}).join(", ")+"]"]}var m="complex64"===r?s(t):Array.from(t);return["["+m.map(function(t,e){return a(t,i[e])}).join(", ")+"]"]}var I=e.slice(1),v=n.slice(1),y=n[0]*h,b=[];if(g>u){for(var x=0;x<c;x++){var w=x*y,N=w+y;b.push.apply(b,o(t.subarray(w,N),I,r,v,i,!1))}b.push("...");for(var x=g-c;x<g;x++){var w=x*y,N=w+y;b.push.apply(b,o(t.subarray(w,N),I,r,v,i,x===g-1))}}else for(var x=0;x<g;x++){var w=x*y,N=w+y;b.push.apply(b,o(t.subarray(w,N),I,r,v,i,x===g-1))}var S=2===p?",":"";b[0]="["+b[0]+S;for(var x=1;x<b.length-1;x++)b[x]=" "+b[x]+S;for(var T=",\n",x=2;x<p;x++)T+="\n";return b[b.length-1]=" "+b[b.length-1]+"]"+(l?"":T),b}function s(t){for(var e=[],r=0;r<t.length;r+=2)e.push([t[r],t[r+1]]);return e}Object.defineProperty(e,"__esModule",{value:!0});var l=r(516),u=20,c=3,h=7;e.tensorToString=n},function(t,e,r){"use strict";function n(t,e){h.assert(t.dtype===e.dtype,"The dtypes of the first("+t.dtype+") and"+(" second("+e.dtype+") input must match"))}function i(t,e){for(var r=0;r<e.length;r++)if(e[r].id===t.id)return!0;return!1}function a(t,e){var r=[];if(t instanceof c.Tensor)r.push(t);else for(var n=t,i=0;i<e.length;i++)r.push(n[e[i]]);return r}function o(t,e){if(t.length!==e.length)throw new Error("Cannot unflatten Tensor[], keys and arrays are not of same length.");for(var r={},n=0;n<t.length;n++)r[t[n]]=e[n];return r}function s(t){var e=[],r=new Set;return l(t,e,r),e}function l(t,e,r){if(null!=t){if(t instanceof c.Tensor)return void e.push(t);if(u(t)){var n=t;for(var i in n){var a=n[i];r.has(a)||(r.add(a),l(a,e,r))}}}}function u(t){return Array.isArray(t)||"object"==typeof t}Object.defineProperty(e,"__esModule",{value:!0});var c=r(518),h=r(516);e.assertTypesMatch=n,e.isTensorInList=i,e.flattenNameArrayMap=a,e.unflattenToNameArrayMap=o,e.getTensorsInContainer=s},function(t,e){"use strict";function r(t,e){var r;try{r=c(t,e)}catch(t){return!1}return null!=r&&(h(r),!0)}function n(t,e){if(0===t)return 0;var r,n=c(t,e);return r=u(n,"EXT_disjoint_timer_query_webgl2")&&2===t?2:u(n,"EXT_disjoint_timer_query")?1:0,null!=n&&h(n),r}function i(t,e){if(0===t)return!1;var r=c(t,e);if(1===t){if(!u(r,"OES_texture_float"))return!1}else if(!u(r,"EXT_color_buffer_float"))return!1;var n=g(r,t);return h(r),n}function a(t,e){if(0===t)return!1;var r=c(t,e);if(1===t){if(!u(r,"OES_texture_float"))return!1;if(!u(r,"WEBGL_color_buffer_float"))return!1}else if(!u(r,"EXT_color_buffer_float"))return!1;var n=g(r,t);return h(r),n}function o(t,e){if(2!==t)return!1;var r=c(t,e),n=null!=r.fenceSync;return h(r),n}function s(){return"undefined"!=typeof navigator&&null!=navigator&&null!=navigator.userAgent&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}function l(){var t={};if("undefined"==typeof window||"undefined"==typeof window.location)return t;var r=p(window.location.search);if(A in r){var n={},i=r[A].split(",");i.forEach(function(t){var e=t.split(":"),r=e[0],i=e[1];n[r]=i}),e.URL_PROPERTIES.forEach(function(e){e.name in n&&(console.log("Setting feature override from URL "+e.name+": "+n[e.name]),e.type===f.NUMBER?t[e.name]=+n[e.name]:e.type===f.BOOLEAN?t[e.name]="true"===n[e.name]:e.type===f.STRING?t[e.name]=n[e.name]:console.warn("Unknown URL param: "+e.name+"."))})}return t}function u(t,e){var r=t.getExtension(e);return null!=r}function c(t,e){if(0===t||!e)throw new Error("Cannot get WebGL rendering context, WebGL is disabled.");var r=document.createElement("canvas");return 1===t?r.getContext("webgl")||r.getContext("experimental-webgl"):r.getContext("webgl2")}function h(t){if(null!=t){var e=t.getExtension("WEBGL_lose_context");if(null==e)throw new Error("Extension WEBGL_lose_context not supported on this browser.");e.loseContext()}}function g(t,e){var r=t.createFramebuffer(),n=t.createTexture();t.bindTexture(t.TEXTURE_2D,n);var i=2===e?t.RGBA32F:t.RGBA;t.texImage2D(t.TEXTURE_2D,0,i,1,1,0,t.RGBA,t.FLOAT,null),t.bindFramebuffer(t.FRAMEBUFFER,r),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,n,0);var a=t.checkFramebufferStatus(t.FRAMEBUFFER)===t.FRAMEBUFFER_COMPLETE;return t.bindTexture(t.TEXTURE_2D,null),t.bindFramebuffer(t.FRAMEBUFFER,null),t.deleteTexture(n),t.deleteFramebuffer(r),a}function p(t){var e={};return t.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,function(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];return d(e,r[0],r[1]),r.join("=")}),e}function d(t,e,r){t[decodeURIComponent(e)]=decodeURIComponent(r||"")}Object.defineProperty(e,"__esModule",{value:!0});var f;!function(t){t[t.NUMBER=0]="NUMBER",t[t.BOOLEAN=1]="BOOLEAN",t[t.STRING=2]="STRING"}(f=e.Type||(e.Type={})),e.URL_PROPERTIES=[{name:"DEBUG",type:f.BOOLEAN},{name:"IS_BROWSER",type:f.BOOLEAN},{name:"WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION",type:f.NUMBER},{name:"WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",type:f.BOOLEAN},{name:"WEBGL_VERSION",type:f.NUMBER},{name:"WEBGL_RENDER_FLOAT32_ENABLED",type:f.BOOLEAN},{name:"WEBGL_DOWNLOAD_FLOAT_ENABLED",type:f.BOOLEAN},{name:"WEBGL_FENCE_API_ENABLED",type:f.BOOLEAN},{name:"BACKEND",type:f.STRING},{name:"EPSILON",type:f.NUMBER}],e.isWebGLVersionEnabled=r,e.getWebGLDisjointQueryTimerVersion=n,e.isRenderToFloatTextureEnabled=i,e.isDownloadFloatTextureEnabled=a,e.isWebGLFenceEnabled=o,e.isChrome=s;var A="tfjsflags";e.getFeaturesFromURL=l,e.getQueryParams=p},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(512),i=r(523);e.customGrad=i.customGrad,e.grad=i.grad,e.grads=i.grads,e.valueAndGrad=i.valueAndGrad,e.valueAndGrads=i.valueAndGrads,e.variableGrads=i.variableGrads,e.tidy=n.Environment.tidy,e.keep=n.Environment.keep,e.dispose=n.Environment.dispose,e.time=n.Environment.time},function(t,e,r){"use strict";function n(t,e){return h.ENV.engine.tidy(t,e,!0)}function i(t){return p.assert(p.isFunction(t),"The f passed in grad(f) must be a function"),function(e,r){return p.assert(e instanceof g.Tensor,"The x passed in grad(f)(x) must be a tensor"),p.assert(null==r||r instanceof g.Tensor,"The dy passed in grad(f)(x, dy) must be a tensor"),h.ENV.engine.tidy(function(){var n=h.ENV.engine.gradients(function(){return t(e)},[e],r),i=n.value,a=n.grads;return null!=r&&p.assertShapesMatch(i.shape,r.shape,"The shape of dy passed in grad(f)(x, dy) must match the shape returned by f(x)"),c(a),a[0]})}}function a(t){return p.assert(p.isFunction(t),"The f passed in grads(f) must be a function"),function(e,r){return p.assert(Array.isArray(e)&&e.every(function(t){return t instanceof g.Tensor}),"The args passed in grads(f)(args) must be an array of tensors"),p.assert(null==r||r instanceof g.Tensor,"The dy passed in grads(f)(args, dy) must be a tensor"),h.ENV.engine.tidy(function(){var n=h.ENV.engine.gradients(function(){return t.apply(void 0,e)},e,r),i=n.value,a=n.grads;return null!=r&&p.assertShapesMatch(i.shape,r.shape,"The shape of dy passed in grads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),c(a),a})}}function o(t){return p.assert(p.isFunction(t),"The f passed in valueAndGrad(f) must be a function"),function(e,r){p.assert(e instanceof g.Tensor,"The x passed in valueAndGrad(f)(x) must be a tensor"),p.assert(null==r||r instanceof g.Tensor,"The dy passed in valueAndGrad(f)(x, dy) must be a tensor");var n=h.ENV.engine.gradients(function(){return t(e)},[e],r),i=n.grads,a=n.value;return c(i),{grad:i[0],value:a}}}function s(t){return p.assert(p.isFunction(t),"The f passed in valueAndGrads(f) must be a function"),function(e,r){p.assert(Array.isArray(e)&&e.every(function(t){return t instanceof g.Tensor}),"The args passed in valueAndGrads(f)(args) must be array of tensors"),p.assert(null==r||r instanceof g.Tensor,"The dy passed in valueAndGrads(f)(args, dy) must be a tensor");var n=h.ENV.engine.gradients(function(){return t.apply(void 0,e)},e,r);return null!=r&&p.assertShapesMatch(n.value.shape,r.shape,"The shape of dy passed in valueAndGrads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),c(n.grads),n}}function l(t,e){if(p.assert(p.isFunction(t),"The f passed in variableGrads(f) must be a function"),p.assert(null==e||Array.isArray(e)&&e.every(function(t){return t instanceof g.Variable}),"The varList passed in variableGrads(f, varList) must be an array of variables"),null==e){e=[];for(var r in h.ENV.engine.registeredVariables)e.push(h.ENV.engine.registeredVariables[r])}var n=e.length;e=e.filter(function(t){return t.trainable}),p.assert(e.length>0,"variableGrads() expects at least one of the input variables to be "+("trainable, but none of the "+n+" variables is ")+"trainable.");var i=!0,a=h.ENV.engine.gradients(t,e,null,i),o=a.value,s=a.grads;p.assert(s.some(function(t){return null!=t}),"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize()."),p.assert(0===o.rank,"The f passed in variableGrads(f) must return a scalar, but it "+("returned a rank-"+o.rank+" tensor"));var l={};return e.forEach(function(t,e){null!=s[e]&&(l[t.name]=s[e])}),{value:o,grads:l}}function u(t){return h.ENV.engine.customGrad(t)}function c(t){var e=t.filter(function(t){return null==t}).length;if(e>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that\n    the f you passed encloses all operations that lead from x to y.")}Object.defineProperty(e,"__esModule",{value:!0});var h=r(512),g=r(518),p=r(516);e.gradScope=n,e.grad=i,e.grads=a,e.valueAndGrad=o,e.valueAndGrads=s,e.variableGrads=l,e.customGrad=u},function(t,e,r){"use strict";function n(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];a.ENV.get("IS_TEST")||console.warn.apply(console,t)}function i(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];a.ENV.get("IS_TEST")||console.log.apply(console,t)}Object.defineProperty(e,"__esModule",{value:!0});var a=r(512);e.warn=n,e.log=i},function(t,e){"use strict";function r(t,e,r,n){void 0===n&&(n=!0);var i=[];if(n)i=i.concat(e.slice(0)),i.push(t[0]/r),i=i.concat(t.slice(1));else{i=i.concat(t[0]);for(var a=e.length,o=0;o<a;++o)i=i.concat([t[o+1]/e[o],e[o]]);i=i.concat(t.slice(a+1))}return i}function n(t,e,r){void 0===r&&(r=!0);var n=[];if(r){n.push(e);for(var i=e+1;i<t;++i)i<=2*e?(n.push(i),n.push(i-(e+1))):n.push(i)}else{for(var a=[],o=[],i=1;i<t;++i)i>=2*e+1||i%2===1?o.push(i):a.push(i);n.push.apply(n,a),n.push(0),n.push.apply(n,o)}return n}function i(t,e,r,n){void 0===n&&(n=!0);var i=[];n?i.push(t[0]/r):i.push(t[0]*r);for(var a=1;a<t.length;++a)a<=e.length?n?i.push(e[a-1]*t[a]):i.push(t[a]/e[a-1]):i.push(t[a]);return i}function a(t,e){for(var r=[0],n=0;n<e;++n)r.push(t[n][0]);return r}function o(t,e,r){for(var n=t.slice(0,1),i=0;i<r;++i)n.push(t[i+1]-e[i][0]-e[i][1]);return n}Object.defineProperty(e,"__esModule",{value:!0}),e.getReshaped=r,e.getPermuted=n,e.getReshapedPermuted=i,e.getSliceBeginCoords=a,e.getSliceSize=o},function(t,e,r){"use strict";function n(t,e){for(var r=0;r<t.length;++r)if(t[t.length-r-1]!==e-1-r)return!1;return!0}function i(t,e,r){for(var n=t.length+e.length,i=[],a=0,o=0,s=0;s<n;s++)r.indexOf(s)===-1?i.push(t[a++]):i.push(e[o++]);return i}function a(t,e){for(var r=[],n=t.length,i=0;i<n;i++)e.indexOf(i)===-1&&r.push(t[i]);var a=e.map(function(e){return t[e]});return[r,a]}function o(t,e){var r=e.map(function(t){return 1});return i(t,r,e)}function s(t,e){var r=e.length;return t=null==t?e.map(function(t,e){return e}):[].concat(t),g.assert(t.every(function(t){return t>=-r&&t<r}),"All values in axis param must be in range [-"+r+", "+r+") but got axis "+t),g.assert(t.every(function(t){return g.isInt(t)}),"All values in axis param must be integers but got axis "+t),t.map(function(t){return t<0?r+t:t})}function l(t,e,r){g.assert(n(e,r),t+" supports only inner-most axes for now. "+("Got axes "+e+" and rank-"+r+" input."))}function u(t,e){if(n(t,e))return null;for(var r=[],i=0;i<e;++i)t.indexOf(i)===-1&&r.push(i);return t.forEach(function(t){return r.push(t)}),r}function c(t){return t.map(function(t,e){return[e,t]}).sort(function(t,e){return t[1]-e[1]}).map(function(t){return t[0]})}function h(t,e){for(var r=[],n=e-t;n<e;++n)r.push(n);return r}Object.defineProperty(e,"__esModule",{value:!0});var g=r(516);e.axesAreInnerMostDims=n,e.combineLocations=i,e.computeOutAndReduceShapes=a,e.expandShapeToKeepDim=o,e.parseAxisParam=s,e.assertAxesAreInnerMostDims=l,e.getAxesPermutation=u,e.getUndoAxesPermutation=c,e.getInnerMostAxes=h},function(t,e,r){"use strict";function n(t,e){var r=t[0].length;
t.forEach(function(t,e){a.assert(t.length===r,"Error in concat"+r+"D: rank of tensors["+e+"] must be the same "+("as the rank of the rest ("+r+")"))}),a.assert(e>=0&&e<r,"Error in concat"+r+"D: axis must be between 0 and "+(r-1)+".");var n=t[0];t.forEach(function(t,i){for(var o=0;o<r;o++)a.assert(o===e||t[o]===n[o],"Error in concat"+r+"D: Shape of tensors["+i+"] ("+t+") "+("does not match the shape of the rest ("+n+") ")+("along the non-concatenated axis "+i+"."))})}function i(t,e){for(var r=t[0].slice(),n=1;n<t.length;n++)r[e]+=t[n][e];return r}Object.defineProperty(e,"__esModule",{value:!0});var a=r(516);e.assertParamsConsistent=n,e.computeOutShape=i},function(t,e,r){"use strict";function n(t){return t<=e.PARALLELIZE_THRESHOLD?t:i.nearestDivisor(t,Math.floor(Math.sqrt(t)))}Object.defineProperty(e,"__esModule",{value:!0});var i=r(516);e.PARALLELIZE_THRESHOLD=30,e.computeOptimalWindowSize=n},function(t,e,r){"use strict";function n(t,e){var r,n=!1;for(t<=o.PARALLELIZE_THRESHOLD?(r=t,n=!0):r=a.nearestDivisor(t,Math.floor(Math.sqrt(t)));!n;){if(r>e||r===t){n=!0;break}r=a.nearestDivisor(t,r+1)}return r}function i(t,e,r){for(var n=[],i=t.length,a=0;a<i;a++)a!==e?n.push(t[a]):n.push(r);return n}Object.defineProperty(e,"__esModule",{value:!0});var a=r(516),o=r(528);e.segOpComputeOptimalWindowSize=n,e.computeOutShape=i},function(t,e,r){"use strict";function n(t,e,r){s.assert(t.rank===e.length,"Error in slice"+t.rank+"D: Length of begin "+e+" must "+("match the rank of the array ("+t.rank+").")),s.assert(t.rank===r.length,"Error in slice"+t.rank+"D: Length of size "+r+" must "+("match the rank of the array ("+t.rank+")."));for(var n=0;n<t.rank;++n)s.assert(e[n]+r[n]<=t.shape[n],"Error in slice"+t.rank+"D: begin["+n+"] + size["+n+"] "+("("+(e[n]+r[n])+") would overflow input.shape["+n+"] ("+t.shape[n]+")"))}function i(t,e,r,n,i,s,l,u,c){if(void 0===i&&(i=0),void 0===s&&(s=0),void 0===l&&(l=0),void 0===u&&(u=0),void 0===c&&(c=0),0!==l)throw new Error("ellipsis mask is not yet supported");if(0!==u)throw new Error("new axis mask is not yet supported");for(var h=[],g=[],p=[],d=0;d<t.length;d++)h[d]=a(i,e,n,t,d),g[d]=o(s,r,n,t,d),c&1<<d&&(g[d]=h[d]+1,p.push(d));var f=new Array(t.length).fill(0);return f=f.map(function(t,e){for(var r=0,i=h[e];!(n[e]>0?i>=g[e]:i<=g[e]);i+=n[e])r+=1;return r}),[h,f,p]}function a(t,e,r,n,i){var a=e[i];t&1<<i&&(a=r[i]>0?Number.MIN_SAFE_INTEGER:Number.MAX_SAFE_INTEGER);var o=n[i];return a<0&&(a+=o),a=s.clamp(0,a,o-1)}function o(t,e,r,n,i){var a=e[i];t&1<<i&&(a=r[i]>0?Number.MAX_SAFE_INTEGER:Number.MIN_SAFE_INTEGER);var o=n[i];return a<0&&(a+=o),a=r[i]>0?s.clamp(0,a,o):s.clamp(-1,a,o-1)}Object.defineProperty(e,"__esModule",{value:!0});var s=r(516);e.assertParamsValid=n,e.getStridedSlicedInfo=i,e.startForAxis=a,e.stopForAxis=o},function(t,e,r){"use strict";function n(t,e){void 0===e&&(e=-1);var r=a.convertToTensor(t,"logits","softmax");if(e===-1&&(e=r.rank-1),e!==r.rank-1)throw Error("Softmax along a non-last dimension is not yet supported. "+("Logits was rank "+r.rank+" and dim was "+e));var n=i.customGrad(function(t){var r=!0,n=t.logSumExp([e],r),i=t.toFloat().sub(n),a=i.exp(),o=function(t){var r=t.mul(a),n=!0;return r.sub(r.sum([e],n).mul(a))};return{value:a,gradFunc:o}});return n(r)}Object.defineProperty(e,"__esModule",{value:!0});var i=r(523),a=r(532),o=r(533);e.softmax=o.op({softmax_:n})},function(t,e,r){"use strict";function n(t,e,r,n){if(void 0===n&&(n="float32"),n=n||"float32",t instanceof o.Tensor)return t;if(!s.isTypedArray(t)&&!Array.isArray(t)&&"number"!=typeof t&&"boolean"!=typeof t)throw new Error("Argument '"+e+"' passed to '"+r+"' must be a Tensor or TensorLike, but got "+t.constructor.name);var i=s.inferShape(t);return s.isTypedArray(t)||Array.isArray(t)||(t=[t]),o.Tensor.make(i,{values:s.toTypedArray(t,n,a.ENV.get("DEBUG"))},n)}function i(t,e,r){if(!Array.isArray(t))throw new Error("Argument "+e+" passed to "+r+" must be a `Tensor[]` or `TensorLike[]`");var i=t;return i.map(function(t,i){return n(t,e+"["+i+"]",r)})}Object.defineProperty(e,"__esModule",{value:!0});var a=r(512),o=r(518),s=r(516);e.convertToTensor=n,e.convertToTensorArray=i},function(t,e,r){"use strict";function n(t){var e=Object.keys(t);if(1!==e.length)throw new Error("Please provide an object with a single key (operation name) mapping to a function. Got an object with "+(e.length+" keys."));var r=e[0],n=t[r];r.endsWith("_")&&(r=r.substring(0,r.length-1));var a=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.ENV.engine.startScope(r);try{var a=n.apply(void 0,t);return a instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),i.ENV.engine.endScope(a),a}catch(t){throw i.ENV.engine.endScope(null),t}};return Object.defineProperty(a,"name",{value:r,configurable:!0}),a}Object.defineProperty(e,"__esModule",{value:!0});var i=r(512);e.op=n},function(t,e,r){"use strict";function n(t,e,r){if(void 0===r&&(r="float32"),"complex64"===r)throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(!y.isTypedArray(t)&&!Array.isArray(t)&&"number"!=typeof t&&"boolean"!=typeof t)throw new Error("values passed to tensor(values) must be an array of numbers or booleans, or a TypedArray");var n=y.inferShape(t);return null!=e&&1!==n.length&&y.assertShapesMatch(e,n,"Error creating a new Tensor. "+("Inferred shape ("+n+") does not match the ")+("provided shape ("+e+"). ")),y.isTypedArray(t)||Array.isArray(t)||(t=[t]),e=e||n,I.Tensor.make(e,{values:y.toTypedArray(t,r,m.ENV.get("DEBUG"))},r)}function i(t,e){if(void 0===e&&(e="float32"),(y.isTypedArray(t)||Array.isArray(t))&&"complex64"!==e)throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean)");return n(t,[],e)}function a(t,e){void 0===e&&(e="float32"),y.assertNonNull(t);var r=y.inferShape(t);if(1!==r.length)throw new Error("tensor1d() requires values to be a flat/TypedArray");return n(t,r,e)}function o(t,e,r){if(void 0===r&&(r="float32"),y.assertNonNull(t),null!=e&&2!==e.length)throw new Error("tensor2d() requires shape to have two numbers");var i=y.inferShape(t);if(2!==i.length&&1!==i.length)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(1===i.length&&null==e)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return e=e||i,n(t,e,r)}function s(t,e,r){if(void 0===r&&(r="float32"),y.assertNonNull(t),null!=e&&3!==e.length)throw new Error("tensor3d() requires shape to have three numbers");var i=y.inferShape(t);if(3!==i.length&&1!==i.length)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(1===i.length&&null==e)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return e=e||i,n(t,e,r)}function l(t,e,r){if(void 0===r&&(r="float32"),y.assertNonNull(t),null!=e&&4!==e.length)throw new Error("tensor4d() requires shape to have four numbers");var i=y.inferShape(t);if(4!==i.length&&1!==i.length)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(1===i.length&&null==e)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return e=e||i,n(t,e,r)}function u(t,e,r){if(void 0===r&&(r="float32"),y.assertNonNull(t),null!=e&&5!==e.length)throw new Error("tensor5d() requires shape to have five numbers");var i=y.inferShape(t);if(5!==i.length&&1!==i.length)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(1===i.length&&null==e)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return e=e||i,n(t,e,r)}function c(t,e,r){if(void 0===r&&(r="float32"),y.assertNonNull(t),null!=e&&6!==e.length)throw new Error("tensor6d() requires shape to have six numbers");var i=y.inferShape(t);if(6!==i.length&&1!==i.length)throw new Error("tensor6d() requires values to be number[][][][] or flat/TypedArray");if(1===i.length&&null==e)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return e=e||i,n(t,e,r)}function h(t,e){if(void 0===e&&(e="float32"),"complex64"===e){var r=h(t,"float32"),n=h(t,"float32");return b.complex(r,n)}var i=y.makeOnesTypedArray(y.sizeFromShape(t),e);return I.Tensor.make(t,{values:i},e)}function g(t,e){if(void 0===e&&(e="float32"),"complex64"===e){var r=g(t,"float32"),n=g(t,"float32");return b.complex(r,n)}var i=y.makeZerosTypedArray(y.sizeFromShape(t),e);return I.Tensor.make(t,{values:i},e)}function p(t,e,r){void 0===r&&(r="float32");var n=y.getTypedArrayFromDType(r,y.sizeFromShape(t));return n.fill(e),I.Tensor.make(t,{values:n},r)}function d(t){var e=v.convertToTensor(t,"x","onesLike");return h(e.shape,e.dtype)}function f(t){var e=v.convertToTensor(t,"x","zerosLike");return g(e.shape,e.dtype)}function A(t,e,r){if(0===r)throw new Error("Cannot request zero samples");var n=(e-t)/(r-1),i=y.makeZerosTypedArray(r,"float32");i[0]=t;for(var o=1;o<i.length;o++)i[o]=i[o-1]+n;return a(i,"float32")}function C(t,e,r,n){if(void 0===r&&(r=1),void 0===n&&(n="float32"),0===r)throw new Error("Cannot have a step of zero");var i=t===e,o=t<e&&r<0,s=e<t&&r>1;if(i||o||s)return g([0],n);var l=Math.abs(Math.ceil((e-t)/r)),u=y.makeZerosTypedArray(l,n);e<t&&1===r&&(r=-1),u[0]=t;for(var c=1;c<u.length;c++)u[c]=u[c-1]+r;return a(u,n)}Object.defineProperty(e,"__esModule",{value:!0});var m=r(512),I=r(518),v=r(532),y=r(516),b=r(535),x=r(533);e.tensor=n,e.scalar=i,e.tensor1d=a,e.tensor2d=o,e.tensor3d=s,e.tensor4d=l,e.tensor5d=u,e.tensor6d=c,e.ones=h,e.zeros=g,e.fill=p,e.linspace=A,e.range=C,e.onesLike=x.op({onesLike_:d}),e.zerosLike=x.op({zerosLike_:f})},function(t,e,r){"use strict";function n(t,e){var r=s.convertToTensor(t,"real","complex"),n=s.convertToTensor(e,"imag","complex");return l.assertShapesMatch(r.shape,n.shape,"real and imag shapes, "+r.shape+" and "+n.shape+", must match in call to tf.complex()."),o.ENV.engine.runKernel(function(t){return t.complex(r,n)},{$real:r,$imag:n})}function i(t){var e=s.convertToTensor(t,"input","real");return o.ENV.engine.runKernel(function(t){return t.real(e)},{$input:e})}function a(t){var e=s.convertToTensor(t,"input","imag");return o.ENV.engine.runKernel(function(t){return t.imag(e)},{$input:e})}Object.defineProperty(e,"__esModule",{value:!0});var o=r(512),s=r(532),l=r(516),u=r(533);e.complex=u.op({complex_:n}),e.real=u.op({real_:i}),e.imag=u.op({imag_:a})},function(t,e){"use strict";function r(t,e){return c[t][e]}function n(t){return r(t,"int32")}Object.defineProperty(e,"__esModule",{value:!0});var i;!function(t){t.float32="float32",t.int32="int32",t.bool="bool"}(i=e.DType||(e.DType={}));var a;!function(t){t.R0="R0",t.R1="R1",t.R2="R2",t.R3="R3",t.R4="R4",t.R5="R5",t.R6="R6"}(a=e.Rank||(e.Rank={}));var o;!function(t){t.float32="float32",t.int32="int32",t.bool="int32",t.complex64="complex64"}(o||(o={}));var s;!function(t){t.float32="float32",t.int32="int32",t.bool="bool",t.complex64="complex64"}(s||(s={}));var l;!function(t){t.float32="float32",t.int32="float32",t.bool="float32",t.complex64="complex64"}(l||(l={}));var u;!function(t){t.float32="complex64",t.int32="complex64",t.bool="complex64",t.complex64="complex64"}(u||(u={}));var c={float32:l,int32:o,bool:s,complex64:u};e.upcastType=r,e.sumOutType=n},function(t,e,r){"use strict";function n(t,e,r){if("complex64"===e){if("complex64"===t.dtype)return t.clone();var n=a.zeros(t.shape),i=t.toFloat(),l=r.complex(i,n);return n.dispose(),i.dispose(),l}if(!s.hasEncodingLoss(t.dtype,e))return o.Tensor.make(t.shape,{dataId:t.dataId},e);if("complex64"===t.dtype){var u=r.real(t),l=u.cast(e);return u.dispose(),l}if("int32"===e)return r.int(t);if("bool"===e){var c=a.scalar(0,t.dtype),l=r.notEqual(t,c);return c.dispose(),l}throw new Error("Error in Cast: unknown dtype argument ("+e+")")}function i(t,e){return o.Tensor.make(e,{dataId:t.dataId},t.dtype)}Object.defineProperty(e,"__esModule",{value:!0});var a=r(534),o=r(518),s=r(516);e.castTensor=n,e.reshapeTensor=i},function(t,e){"use strict";function r(t,e){if(t.length!==e.length)throw new Error("Cannot merge real and imag arrays of different lengths. real:"+(t.length+", imag: "+e.length+"."));for(var r=new Float32Array(2*t.length),n=0;n<r.length;n+=2)r[n]=t[n/2],r[n+1]=e[n/2];return r}function n(t){for(var e=new Float32Array(t.length/2),r=new Float32Array(t.length/2),n=0;n<t.length;n+=2)e[n/2]=t[n],r[n/2]=t[n+1];return{real:e,imag:r}}Object.defineProperty(e,"__esModule",{value:!0}),e.mergeRealAndImagArrays=r,e.splitRealAndImagArrays=n},function(t,e,r){"use strict";function n(t,e,r,n,o){for(var s=Array.from(e).map(function(t,e){return{score:t,boxIndex:e}}).filter(function(t){return t.score>o}).sort(function(t,e){return e.score-t.score}),l=[],u=0;u<s.length;u++){var c=s[u],h=c.score,g=c.boxIndex;if(h<o)break;for(var p=!1,d=l.length-1;d>=0;--d){var f=i(t,g,l[d]);if(f>=n){p=!0;break}}if(!p&&(l.push(g),l.length>=r))break}return a.tensor1d(l,"int32")}function i(t,e,r){var n=t.subarray(4*e,4*e+4),i=t.subarray(4*r,4*r+4),a=Math.min(n[0],n[2]),o=Math.min(n[1],n[3]),s=Math.max(n[0],n[2]),l=Math.max(n[1],n[3]),u=Math.min(i[0],i[2]),c=Math.min(i[1],i[3]),h=Math.max(i[0],i[2]),g=Math.max(i[1],i[3]),p=(s-a)*(l-o),d=(h-u)*(g-c);if(p<=0||d<=0)return 0;var f=Math.max(a,u),A=Math.max(o,c),C=Math.min(s,h),m=Math.min(l,g),I=Math.max(C-f,0)*Math.max(m-A,0);return I/(p+d-I)}Object.defineProperty(e,"__esModule",{value:!0});var a=r(534);e.nonMaxSuppressionImpl=n},function(t,e){"use strict";function r(t,e,r){var n=Array(t.rank).fill(0),i=t.shape.slice();return e.map(function(e){i[r]=e;var a=t.slice(n,i);return n[r]+=e,a})}Object.defineProperty(e,"__esModule",{value:!0}),e.split=r},function(t,e,r){"use strict";function n(t,e,r,n,o){for(var s=e[e.length-1],l=[t.length/s,s],u=l[0],c=l[1],h=a.getTypedArrayFromDType(r,u*n),g=a.getTypedArrayFromDType("int32",u*n),p=0;p<u;p++){for(var d=p*c,f=t.subarray(d,d+c),A=[],C=0;C<f.length;C++)A.push({value:f[C],index:C});A.sort(function(t,e){return e.value-t.value});for(var m=p*n,I=h.subarray(m,m+n),v=g.subarray(m,m+n),C=0;C<n;C++)I[C]=A[C].value,v[C]=A[C].index}var y=e.slice();return y[y.length-1]=n,[i.tensor(h,y,r),i.tensor(g,y,"int32")]}Object.defineProperty(e,"__esModule",{value:!0});var i=r(534),a=r(516);e.topkImpl=n},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e,r){this.variableNames=["A"];var n=t.windowSize,i=t.batchSize,a=t.inSize,o=Math.ceil(a/n);r||this.variableNames.push("bestIndicesA"),this.outputShape=[i,o];var s="max"===e?">":"<",l=r?"inOffset + i;":"round(getBestIndicesA(batch, inOffset + i));";this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * "+n+";\n\n        int bestIndex = 0;\n        float bestValue = getA(batch, inOffset);\n\n        for (int i = 0; i < "+n+"; i++) {\n          int inIdx = "+l+";\n          float candidate = getA(batch, inIdx);\n          if (candidate "+s+" bestValue) {\n            bestValue = candidate;\n            bestIndex = inIdx;\n          }\n        }\n        setOutput(float(bestIndex));\n      }\n    "}return t}();e.ArgMinMaxProgram=r},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t){this.variableNames=["dy"],this.outputShape=t.inShape;var e=t.filterHeight,r=t.filterWidth,n=t.strideHeight,i=t.strideWidth,a=e-1-t.padInfo.top,o=r-1-t.padInfo.left,s=1/(e*r);this.userCode="\n      const ivec2 pads = ivec2("+a+", "+o+");\n      const float avgMultiplier = float("+s+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+e+"; wR++) {\n          float dyR = float(dyRCorner + wR) / "+n+".0;\n\n          if (dyR < 0.0 || dyR >= "+t.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < "+r+"; wC++) {\n            float dyC = float(dyCCorner + wC) / "+i+".0;\n\n            if (dyC < 0.0 || dyC >= "+t.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n\n            dotProd += dyValue * avgMultiplier;\n          }\n        }\n        setOutput(dotProd);\n      }\n    "}return t}();e.AvgPool2DBackpropProgram=r},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(545),i=function(){function t(t,e,r,i,a,o){this.outputShape=[],this.supportsBroadcasting=!0,this.variableNames=["x","mean","variance"],n.assertAndGetBroadcastShape(t,e),n.assertAndGetBroadcastShape(t,r);var s="0.0";null!=i&&(n.assertAndGetBroadcastShape(t,i),this.variableNames.push("offset"),s="getOffsetAtOutCoords()");var l="1.0";null!=a&&(n.assertAndGetBroadcastShape(t,a),this.variableNames.push("scale"),l="getScaleAtOutCoords()"),this.outputShape=t,this.userCode="\n      void main() {\n        float x = getXAtOutCoords();\n        float mean = getMeanAtOutCoords();\n        float variance = getVarianceAtOutCoords();\n        float offset = "+s+";\n        float scale = "+l+";\n        float inv = scale * inversesqrt(variance + float("+o+"));\n        setOutput((x - mean) * inv + offset);\n      }\n    "}return t}();e.BatchNormProgram=i},function(t,e){"use strict";function r(t,e){for(var r=t.length,n=[],i=0;i<r;i++){var a=r-1-i,o=t[a]||1,s=e[e.length-1-i]||1;s>1&&1===o&&n.unshift(a)}return n}function n(t,e){for(var r=[],n=0;n<e.length;n++){var i=t[t.length-n-1],a=e.length-n-1,o=e[a];(null==i||1===i&&o>1)&&r.unshift(a)}return r}function i(t){for(var e=0;e<t.length;e++)if(t[e]!==e)return!1;return!0}function a(t,e){for(var r=[],n=Math.max(t.length,e.length),i=0;i<n;i++){var a=t[t.length-i-1];null==a&&(a=1);var o=e[e.length-i-1];if(null==o&&(o=1),1===a)r.unshift(o);else if(1===o)r.unshift(a);else{if(a!==o){var s="Operands could not be broadcast together with shapes "+(t+" and "+e+".");throw Error(s)}r.unshift(a)}}return r}Object.defineProperty(e,"__esModule",{value:!0}),e.getBroadcastDims=r,e.getReductionAxes=n,e.broadcastDimsAreOuter=i,e.assertAndGetBroadcastShape=a},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(545);e.COMPLEX_MULTIPLY={REAL:"return areal * breal - aimag * bimag;",IMAG:"return areal * bimag + aimag * breal;"};var i=function(){function t(t,e,r){this.variableNames=["AReal","AImag","BReal","BImag"],this.supportsBroadcasting=!0,this.outputShape=n.assertAndGetBroadcastShape(e,r),this.userCode="\n      float binaryOpComplex(\n          float areal, float aimag, float breal, float bimag) {\n        "+t+"\n      }\n\n      void main() {\n        float areal = getARealAtOutCoords();\n        float aimag = getAImagAtOutCoords();\n        float breal = getBRealAtOutCoords();\n        float bimag = getBImagAtOutCoords();\n        setOutput(binaryOpComplex(areal, aimag, breal, bimag));\n      }\n    "}return t}();e.BinaryOpComplexProgram=i},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(545),i="\n  if (isNaN(a)) return a;\n  if (isNaN(b)) return b;\n";e.ADD="return a + b;",e.SUB="return a - b;",e.MUL="return a * b;",e.DIV="if (a == b) return 1.0;\n  return a / b;",e.INT_DIV="\n  float resultSign = sign(a) * sign(b);\n  int ia = round(a);\n  int ib = round(b);\n  int result = ia / ib;\n  int amodb = ia - ib * result;\n\n  if (resultSign < 0.0 && amodb != 0) {\n    result -= 1;\n  }\n  return float(result);\n",e.POW="\nif(a < 0.0 && floor(b) < b){\n  return NAN;\n}\nreturn (round(mod(b, 2.0)) == 0 || round(mod(b, 2.0)) == 2) ?\n    pow(abs(a), b) : sign(a) * pow(abs(a), b);\n",e.SQUARED_DIFFERENCE="return (a - b) * (a - b);",e.EQUAL="return float(a == b);",e.NOT_EQUAL="return float(a != b);",e.LESS="return float(a < b);",e.LESS_EQUAL="return float(a <= b);",e.GREATER="return float(a > b);",e.GREATER_EQUAL="return float(a >= b);",e.LOGICAL_AND="return float(a >= 1.0 && b >= 1.0);",e.LOGICAL_OR="return float(a >= 1.0 || b >= 1.0);",e.MAX=i+"\n  return max(a, b);\n",e.MIN=i+"\n  return min(a, b);\n",e.MOD="if (b == 0.0) return NAN;\n  return mod(a, b);",e.ATAN2=i+"\n  return atan(a, b);\n",e.ELU_DER="return (b >= 1.0) ? a : a * (b + 1.0);";var a=function(){function t(t,e,r){this.variableNames=["A","B"],this.supportsBroadcasting=!0,this.outputShape=n.assertAndGetBroadcastShape(e,r),this.userCode="\n      uniform float NAN;\n      float binaryOperation(float a, float b) {\n        "+t+"\n      }\n\n      void main() {\n        float a = getAAtOutCoords();\n        float b = getBAtOutCoords();\n        setOutput(binaryOperation(a, b));\n      }\n    "}return t.prototype.getCustomSetupFunc=function(){var t=this;return function(e,r){null==t.startLoc&&(t.startLoc=e.getUniformLocationNoThrow(r,"NAN"),null==t.startLoc)||e.gl.uniform1f(t.startLoc,NaN)}},t}();e.BinaryOpProgram=a},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e,r){this.variableNames=["A"],this.outputShape=t,this.userCode="\n      void main() {\n        float value = getAAtOutCoords();\n        if (isNaN(value)) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, float("+e+"), float("+r+")));\n      }\n    "}return t}();e.ClipProgram=r},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(527),i=function(){function t(t,e){this.variableNames=["A","B"],this.outputShape=[],this.outputShape=n.computeOutShape([t,e],1),this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int yR = coords.x;\n        int yC = coords.y;\n\n        float value = 0.0;\n        if (yC < "+t[1]+") {\n          value = getA(yR, yC);\n        } else {\n          yC -= "+t[1]+";\n          value = getB(yR, yC);\n        }\n\n        setOutput(value);\n      }\n    "}return t}();e.ConcatProgram=i},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t){this.variableNames=["x","dy"],this.outputShape=t.filterShape;var e=t.strideHeight,r=t.strideWidth,n=t.padInfo.top,i=t.padInfo.left;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int d2 = coords.w;\n\n        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int b = 0; b < "+t.batchSize+"; b++) {\n          for (int yR = 0; yR < "+t.outHeight+"; yR++) {\n            int xR = wR + yR * "+e+" - "+n+";\n\n            if (xR < 0 || xR >= "+t.inHeight+") {\n              continue;\n            }\n\n            for (int yC = 0; yC < "+t.outWidth+"; yC++) {\n              int xC = wC + yC * "+r+" - "+i+";\n\n              if (xC < 0 || xC >= "+t.inWidth+") {\n                continue;\n              }\n\n              float dyValue = getDy(b, yR, yC, d2);\n              float xValue = getX(b, xR, xC, d1);\n              dotProd += (xValue * dyValue);\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "}return t}();e.Conv2DDerFilterProgram=r;var n=function(){function t(t){this.variableNames=["dy","W"],this.outputShape=t.inShape;var e=t.filterHeight,r=t.filterWidth,n=t.strideHeight,i=t.strideWidth,a=e-1-t.padInfo.top,o=r-1-t.padInfo.left;this.userCode="\n      const ivec2 pads = ivec2("+a+", "+o+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[3];\n\n        ivec2 dyCorner = coords.yz - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+e+"; wR++) {\n          float dyR = float(dyRCorner + wR) / "+n+".0;\n\n          if (dyR < 0.0 || dyR >= "+t.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = "+e+" - 1 - wR;\n\n          for (int wC = 0; wC < "+r+"; wC++) {\n            float dyC = float(dyCCorner + wC) / "+i+".0;\n\n            if (dyC < 0.0 || dyC >= "+t.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = "+r+" - 1 - wC;\n\n            for (int d2 = 0; d2 < "+t.outChannels+"; d2++) {\n              float xValue = getDy(batch, idyR, idyC, d2);\n              float wValue = getW(wRPerm, wCPerm, d1, d2);\n              dotProd += xValue * wValue;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "}return t}();e.Conv2DDerInputProgram=n},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t){this.variableNames=["x","dy"],this.outputShape=t.filterShape;var e=t.strideHeight,r=t.strideWidth,n=t.padInfo.top,i=t.padInfo.left,a=t.outChannels/t.inChannels;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int dm = coords.w;\n        int d2 = d1 * "+a+" + dm;\n\n        float dotProd = 0.0;\n\n        // TODO: Vec4 over the batch size\n        for (int b = 0; b < "+t.batchSize+"; b++) {\n          for (int yR = 0; yR < "+t.outHeight+"; yR++) {\n            int xR = wR + yR * "+e+" - "+n+";\n\n            if (xR < 0 || xR >= "+t.inHeight+") {\n              continue;\n            }\n\n            for (int yC = 0; yC < "+t.outWidth+"; yC++) {\n              int xC = wC + yC * "+r+" - "+i+";\n\n              if (xC < 0 || xC >= "+t.inWidth+") {\n                continue;\n              }\n\n              float dyValue = getDy(b, yR, yC, d2);\n              float xValue = getX(b, xR, xC, d1);\n              dotProd += (xValue * dyValue);\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "}return t}();e.DepthwiseConv2DDerFilterProgram=r;var n=function(){function t(t){this.variableNames=["dy","W"],this.outputShape=t.inShape;var e=t.filterHeight,r=t.filterWidth,n=t.strideHeight,i=t.strideWidth,a=e-1-t.padInfo.top,o=r-1-t.padInfo.left,s=t.outChannels/t.inChannels;this.userCode="\n      const ivec2 pads = ivec2("+a+", "+o+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[3];\n        ivec2 dyCorner = coords.yz - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        float dotProd = 0.0;\n\n        for (int wR = 0; wR < "+e+"; wR++) {\n          float dyR = float(dyRCorner + wR) / "+n+".0;\n\n          if (dyR < 0.0 || dyR >= "+t.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = "+e+" - 1 - wR;\n\n          for (int wC = 0; wC < "+r+"; wC++) {\n            float dyC = float(dyCCorner + wC) / "+i+".0;\n\n            if (dyC < 0.0 || dyC >= "+t.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = "+r+" - 1 - wC;\n\n            // TODO: Vec4 over the channelMul\n            for (int dm = 0; dm < "+s+"; dm++) {\n              int d2 = d1 * "+s+" + dm;\n              float xValue = getDy(batch, idyR, idyC, d2);\n              float wValue = getW(wRPerm, wCPerm, d1, dm);\n              dotProd += xValue * wValue;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "}return t}();e.DepthwiseConv2DDerInputProgram=n},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t){this.variableNames=["x","W"],this.outputShape=t.outShape;var e=t.padInfo.top,r=t.padInfo.left,n=t.strideHeight,i=t.strideWidth,a=t.dilationHeight,o=t.dilationWidth,s=t.filterHeight,l=t.filterWidth,u=4*Math.floor(t.inChannels/4),c=t.inChannels%4;this.userCode="\n      const ivec2 strides = ivec2("+n+", "+i+");\n      const ivec2 pads = ivec2("+e+", "+r+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d2 = coords[3];\n\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+s+"; wR++) {\n          int xR = xRCorner + wR * "+a+";\n\n          if (xR < 0 || xR >= "+t.inHeight+") {\n            continue;\n          }\n\n          for (int wC = 0; wC < "+l+"; wC++) {\n            int xC = xCCorner + wC * "+o+";\n\n            if (xC < 0 || xC >= "+t.inWidth+") {\n              continue;\n            }\n\n            for (int d1 = 0; d1 < "+u+"; d1 += 4) {\n              vec4 xValues = vec4(\n                getX(batch, xR, xC, d1),\n                getX(batch, xR, xC, d1 + 1),\n                getX(batch, xR, xC, d1 + 2),\n                getX(batch, xR, xC, d1 + 3)\n              );\n              vec4 wValues = vec4(\n                getW(wR, wC, d1, d2),\n                getW(wR, wC, d1 + 1, d2),\n                getW(wR, wC, d1 + 2, d2),\n                getW(wR, wC, d1 + 3, d2)\n              );\n\n              dotProd += dot(xValues, wValues);\n            }\n\n            if ("+(1===c)+") {\n              dotProd +=\n                getX(batch, xR, xC, "+u+") *\n                getW(wR, wC, "+u+", d2);\n            } else if ("+(2===c)+") {\n              vec2 xValues = vec2(\n                getX(batch, xR, xC, "+u+"),\n                getX(batch, xR, xC, "+u+" + 1)\n              );\n              vec2 wValues = vec2(\n                getW(wR, wC, "+u+", d2),\n                getW(wR, wC, "+u+" + 1, d2)\n              );\n              dotProd += dot(xValues, wValues);\n            } else if ("+(3===c)+") {\n              vec3 xValues = vec3(\n                getX(batch, xR, xC, "+u+"),\n                getX(batch, xR, xC, "+u+" + 1),\n                getX(batch, xR, xC, "+u+" + 2)\n              );\n              vec3 wValues = vec3(\n                getW(wR, wC, "+u+", d2),\n                getW(wR, wC, "+u+" + 1, d2),\n                getW(wR, wC, "+u+" + 2, d2)\n              );\n              dotProd += dot(xValues, wValues);\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "}return t}();e.Conv2DProgram=r},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e,r,n,i){this.variableNames=["Image","Boxes","BoxInd"],this.outputShape=[];var a=t[0],o=t[1],s=t[2],l=t[3],u=e[0],c=r[0],h=r[1];this.outputShape=[u,c,h,l];var g="bilinear"===n?1:0,p=[o-1+".0",s-1+".0"],d=p[0],f=p[1],A=c>1?[""+(o-1)/(c-1),"(y2-y1) * height_ratio","y1*"+d+" + float(y)*(height_scale)"]:["0.0","0.0","0.5 * (y1+y2) * "+d],C=A[0],m=A[1],I=A[2],v=h>1?[""+(s-1)/(h-1),"(x2-x1) * width_ratio","x1*"+f+" + float(x)*(width_scale)"]:["0.0","0.0","0.5 * (x1+x2) * "+f],y=v[0],b=v[1],x=v[2];this.userCode="\n      const float height_ratio = float("+C+");\n      const float width_ratio = float("+y+");\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int y = coords[1];\n        int x = coords[2];\n        int d = coords[3];\n\n        // get box vals\n        float y1 = getBoxes(b,0);\n        float x1 = getBoxes(b,1);\n        float y2 = getBoxes(b,2);\n        float x2 = getBoxes(b,3);\n\n        // get image in batch index\n        int bInd = round(getBoxInd(b));\n        if(bInd < 0 || bInd >= "+a+") {\n          return;\n        }\n\n        float height_scale = "+m+";\n        float width_scale = "+b+";\n\n        float in_y = "+I+";\n        if( in_y < 0.0 || in_y > "+d+" ) {\n          setOutput(float("+i+"));\n          return;\n        }\n        float in_x = "+x+";\n        if( in_x < 0.0 || in_x > "+f+" ) {\n          setOutput(float("+i+"));\n          return;\n        }\n\n        vec2 sourceFracIndexRC = vec2(in_y,in_x);\n        if("+g+" == 1) {\n          // Compute the four integer indices.\n          ivec2 sourceFloorRC = ivec2(sourceFracIndexRC);\n          ivec2 sourceCeilRC = ivec2(ceil(sourceFracIndexRC));\n\n          float topLeft = getImage(b, sourceFloorRC.x, sourceFloorRC.y, d);\n          float bottomLeft = getImage(b, sourceCeilRC.x, sourceFloorRC.y, d);\n          float topRight = getImage(b, sourceFloorRC.x, sourceCeilRC.y, d);\n          float bottomRight = getImage(b, sourceCeilRC.x, sourceCeilRC.y, d);\n\n          vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);\n\n          float top = topLeft + (topRight - topLeft) * fracRC.y;\n          float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;\n          float newValue = top + (bottom - top) * fracRC.x;\n          setOutput(newValue);\n        } else {\n          // Compute the coordinators of nearest neighbor point.\n          ivec2 sourceNearestRC = ivec2(floor(\n            sourceFracIndexRC + vec2(0.5,0.5)));\n          float newValue = getImage(b, sourceNearestRC.x, sourceNearestRC.y, d);\n          setOutput(newValue);\n        }\n      }\n    ";
}return t}();e.CropAndResizeProgram=r},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t){this.variableNames=["x","W"],this.outputShape=t.outShape;var e=t.inHeight,r=t.inWidth,n=t.padInfo.top,i=t.padInfo.left,a=t.strideHeight,o=t.strideWidth,s=t.dilationHeight,l=t.dilationWidth,u=t.filterHeight,c=t.filterWidth,h=t.outChannels/t.inChannels;this.userCode="\n      const ivec2 strides = ivec2("+a+", "+o+");\n      const ivec2 pads = ivec2("+n+", "+i+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2 / "+h+";\n        int q = d2 - d1 * "+h+";\n\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        // TODO(dsmilkov): Flatten the two for loops and vec4 the operations.\n        for (int wR = 0; wR < "+u+"; wR++) {\n          int xR = xRCorner + wR * "+s+";\n\n          if (xR < 0 || xR >= "+e+") {\n            continue;\n          }\n\n          for (int wC = 0; wC < "+c+"; wC++) {\n            int xC = xCCorner + wC * "+l+";\n\n            if (xC < 0 || xC >= "+r+") {\n              continue;\n            }\n\n            float xVal = getX(batch, xR, xC, d1);\n            float wVal = getW(wR, wC, d1, q);\n            dotProd += xVal * wVal;\n          }\n        }\n        setOutput(dotProd);\n      }\n    "}return t}();e.DepthwiseConv2DProgram=r},function(t,e,r){"use strict";function n(t,e){if(1===t)return""+e;if(2===t)return e+".x, "+e+".y";if(3===t)return e+".x, "+e+".y, "+e+".z";if(4===t)return e+".x, "+e+".y, "+e+".z, "+e+".w";throw Error("Cumulative sum for rank "+t+" is not yet supported")}function i(t,e){if(1===t)return""+e;if(2===t)return e+".y";if(3===t)return e+".z";if(4===t)return e+".w";throw Error("Cumulative sum for rank "+t+" is not yet supported")}Object.defineProperty(e,"__esModule",{value:!0});var a=r(556),o=function(){function t(t,e,r){this.variableNames=["x"],this.outputShape=t;var o=t.length,s=t[t.length-1],l=r?"<":">";this.userCode="\n      int getIndex(int i) {\n        "+(r?"return "+s+" -i - 1;":"return i;")+"\n      }\n\n      void main() {\n        "+a.getCoordsDataType(o)+" coords = getOutputCoords();\n        int end = "+i(o,"coords")+";\n        float val = 0.0;\n        for (int i = "+s+" - 1; i >= 0; i -= 1) {\n          int idx = getIndex(i);\n          if (idx "+l+" end) {\n            continue;\n          }\n          if (idx == end && "+e+") {\n            continue;\n          }\n          "+i(o,"coords")+" = idx;\n          val += getX("+n(o,"coords")+");\n        }\n        setOutput(val);\n      }\n    "}return t}();e.CumSumProgram=o},function(t,e,r){"use strict";function n(t,e,r,n){var i=t.map(function(t){var e=E.sizeFromShape(t.shapeInfo.logicalShape);return t.shapeInfo.isUniform?"uniform float "+t.name+(e>1?"["+e+"]":"")+";":"uniform sampler2D "+t.name+";"});i=i.join("\n");var s=t.map(function(t){return a(t,e,n)}).join("\n"),l=e.texShape,u=o(e.logicalShape,l),c=[z,R,L,i,u,s,r].join("\n");return c}function i(t){var e=t.shapeInfo.logicalShape;switch(e.length){case 0:return d(t);case 1:return f(t);case 2:return A(t);case 3:return C(t);case 4:return m(t);case 5:return I(t);case 6:return v(t);default:throw new Error(e.length+"-D input sampling is not yet supported")}}function a(t,e,r){var n=y(t);return n+=i(t),(r||E.arraysEqual(t.shapeInfo.logicalShape,e.logicalShape))&&(n+=x(t,e,r)),n}function o(t,e){switch(t.length){case 0:return s();case 1:return l(t,e);case 2:return p(t,e);case 3:return u(t,e);case 4:return c(t,e);case 5:return h(t,e);case 6:return g(t,e);default:throw new Error(t.length+"-D output sampling is not yet supported")}}function s(){return"\n    int getOutputCoords() {\n      return 0;\n    }\n  "}function l(t,e){return 1===e[0]?"\n      int getOutputCoords() {\n        return int(resultUV.x * "+e[1]+".0);\n      }\n    ":1===e[1]?"\n      int getOutputCoords() {\n        return int(resultUV.y * "+e[0]+".0);\n      }\n    ":"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+e[0]+", "+e[1]+"));\n      return resTexRC.x * "+e[1]+" + resTexRC.y;\n    }\n  "}function u(t,e){var r=t[1]*t[2],n=t[2];return"\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+e[0]+", "+e[1]+"));\n      int index = resTexRC.x * "+e[1]+" + resTexRC.y;\n      int r = index / "+r+";\n      index -= r * "+r+";\n      int c = index / "+n+";\n      int d = index - c * "+n+";\n      return ivec3(r, c, d);\n    }\n  "}function c(t,e){var r=t[3],n=t[2]*r,i=t[1]*n;return"\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2("+e[0]+", "+e[1]+"));\n      int index = resTexRC.x * "+e[1]+" + resTexRC.y;\n\n      int r = index / "+i+";\n      index -= r * "+i+";\n\n      int c = index / "+n+";\n      index -= c * "+n+";\n\n      int d = index / "+r+";\n      int d2 = index - d * "+r+";\n\n      return ivec4(r, c, d, d2);\n    }\n  "}function h(t,e){var r=t[4],n=t[3]*r,i=t[2]*n,a=t[1]*i;return"\n    ivec5 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx * vec2("+e[0]+",\n                             "+e[1]+"));\n\n      int index = resTexRC.x * "+e[1]+" + resTexRC.y;\n\n      int r = index / "+a+";\n      index -= r * "+a+";\n\n      int c = index / "+i+";\n      index -= c * "+i+";\n\n      int d = index / "+n+";\n      index -= d * "+n+";\n\n      int d2 = index  / "+r+";\n      int d3 = index - d2 * "+r+";\n\n      ivec5 outShape = ivec5(r, c, d, d2, d3);\n      return outShape;\n    }\n  "}function g(t,e){var r=t[5],n=t[4]*r,i=t[3]*n,a=t[2]*i,o=t[1]*a;return"\n    ivec6 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2("+e[0]+", "+e[1]+"));\n      int index = resTexRC.x * "+e[1]+" + resTexRC.y;\n\n      int r = index / "+o+";\n      index -= r * "+o+";\n\n      int c = index / "+a+";\n      index -= c * "+a+";\n\n      int d = index / "+i+";\n      index -= d * "+i+";\n\n      int d2 = index / "+n+";\n      index -= d2 * "+n+";\n\n      int d3 = index / "+r+";\n      int d4 = index - d3 * "+r+";\n\n      ivec6 result = ivec6(r, c, d, d2, d3, d4);\n      return result;\n    }\n  "}function p(t,e){return E.arraysEqual(t,e)?"\n      ivec2 getOutputCoords() {\n        return ivec2(resultUV.yx * vec2("+e[0]+", "+e[1]+"));\n      }\n    ":1===t[1]?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2("+e[0]+", "+e[1]+"));\n        int index = resTexRC.x * "+e[1]+" + resTexRC.y;\n        return ivec2(index, 0);\n      }\n    ":1===t[0]?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2("+e[0]+", "+e[1]+"));\n        int index = resTexRC.x * "+e[1]+" + resTexRC.y;\n        return ivec2(0, index);\n      }\n    ":"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+e[0]+", "+e[1]+"));\n      int index = resTexRC.x * "+e[1]+" + resTexRC.y;\n      int r = index / "+t[1]+";\n      int c = index - r * "+t[1]+";\n      return ivec2(r, c);\n    }\n  "}function d(t){var e=t.name,r="get"+e.charAt(0).toUpperCase()+e.slice(1);return t.shapeInfo.isUniform?"float "+r+"() {return "+e+";}":"\n    float "+r+"() {\n      return sampleTexture("+e+", halfCR);\n    }\n  "}function f(t){var e=t.name,r="get"+e.charAt(0).toUpperCase()+e.slice(1);return"\n    float "+r+"(int index) {\n      return "+r+"Flat(index);\n    }\n  "}function A(t){var e=t.shapeInfo.logicalShape,r=t.name,n="get"+r.charAt(0).toUpperCase()+r.slice(1),a=t.shapeInfo.texShape;if(null!=a&&E.arraysEqual(e,a)){var o=a[0],s=a[1];return"\n    float "+n+"(int row, int col) {\n      vec2 uv = (vec2(col, row) + halfCR) / vec2("+s+".0, "+o+".0);\n      return sampleTexture("+r+", uv);\n    }\n  "}var l=E.squeezeShape(e),u=l.newShape,c=l.keptDims,h=u;if(h.length<e.length){var g=N(t,h),p=["row","col"];return"\n      "+i(g)+"\n      float "+n+"(int row, int col) {\n        return "+n+"("+S(p,c)+");\n      }\n    "}if(t.shapeInfo.isUniform)return"\n      float "+n+"(int row, int col) {\n        int index = row * "+e[1]+" + col;\n        return "+n+"Flat(index);\n      }\n    ";var d=a[0],f=a[1];return 1===f?"\n    float "+n+"(int row, int col) {\n      int index = row * "+e[1]+" + col;\n      vec2 uv = vec2(0.5, (float(index) + 0.5) / "+d+".0);\n      return sampleTexture("+r+", uv);\n    }\n  ":1===d?"\n    float "+n+"(int row, int col) {\n      int index = row * "+e[1]+" + col;\n      vec2 uv = vec2((float(index) + 0.5) / "+f+".0, 0.5);\n      return sampleTexture("+r+", uv);\n    }\n  ":"\n  float "+n+"(int row, int col) {\n    vec2 uv = UVfrom2D("+d+", "+f+", "+e[1]+", row, col);\n    return sampleTexture("+r+", uv);\n  }\n"}function C(t){var e=t.shapeInfo.logicalShape,r=t.name,n="get"+r.charAt(0).toUpperCase()+r.slice(1),a=e[1]*e[2],o=e[2],s=E.squeezeShape(e),l=s.newShape,u=s.keptDims,c=l;if(c.length<e.length){var h=N(t,c),g=["row","col","depth"];return"\n        "+i(h)+"\n        float "+n+"(int row, int col, int depth) {\n          return "+n+"("+S(g,u)+");\n        }\n      "}if(t.shapeInfo.isUniform)return"\n      float "+n+"(int row, int col, int depth) {\n        int index = row * "+a+" + col * "+o+" + depth;\n        return "+n+"Flat(index);\n      }\n    ";var p=t.shapeInfo.texShape,d=p[0],f=p[1];return f===a?"\n        float "+n+"(int row, int col, int depth) {\n          int texR = row;\n          int texC = col * "+o+" + depth;\n          vec2 uv = (vec2(texC, texR) + halfCR) /\n                     vec2("+f+".0, "+d+".0);\n          return sampleTexture("+r+", uv);\n        }\n      ":f===o?"\n    float "+n+"(int row, int col, int depth) {\n      int texR = row * "+e[1]+" + col;\n      int texC = depth;\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2("+f+".0, "+d+".0);\n      return sampleTexture("+r+", uv);\n    }\n  ":"\n      float "+n+"(int row, int col, int depth) {\n        vec2 uv = UVfrom3D(\n            "+d+", "+f+", "+a+", "+o+", row, col, depth);\n        return sampleTexture("+r+", uv);\n      }\n  "}function m(t){var e=t.shapeInfo.logicalShape,r=t.name,n="get"+r.charAt(0).toUpperCase()+r.slice(1),a=e[3],o=e[2]*a,s=e[1]*o,l=E.squeezeShape(e),u=l.newShape,c=l.keptDims;if(u.length<e.length){var h=N(t,u),g=["row","col","depth","depth2"];return"\n      "+i(h)+"\n      float "+n+"(int row, int col, int depth, int depth2) {\n        return "+n+"("+S(g,c)+");\n      }\n    "}if(t.shapeInfo.isUniform)return"\n      float "+n+"(int row, int col, int depth, int depth2) {\n        int index = row * "+s+" + col * "+o+" +\n            depth * "+a+" + depth2;\n        return "+n+"Flat(index);\n      }\n    ";var p=t.shapeInfo.texShape,d=p[0],f=p[1];return f===s?"\n      float "+n+"(int row, int col, int depth, int depth2) {\n        int texR = row;\n        int texC = col * "+o+" + depth * "+a+" + depth2;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2("+f+".0, "+d+".0);\n        return sampleTexture("+r+", uv);\n      }\n    ":f===a?"\n      float "+n+"(int row, int col, int depth, int depth2) {\n        int texR = row * "+e[1]*e[2]+" + col * "+e[2]+" + depth;\n        int texC = depth2;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2("+f+".0, "+d+".0);\n        return sampleTexture("+r+", uv);\n      }\n    ":"\n    float "+n+"(int row, int col, int depth, int depth2) {\n      vec2 uv = UVfrom4D("+d+", "+f+", "+s+", "+o+",\n          "+a+", row, col, depth, depth2);\n      return sampleTexture("+r+", uv);\n    }\n  "}function I(t){var e=t.shapeInfo.logicalShape,r=t.name,n="get"+r.charAt(0).toUpperCase()+r.slice(1),a=e[4],o=e[3]*a,s=e[2]*o,l=e[1]*s,u=E.squeezeShape(e),c=u.newShape,h=u.keptDims;if(c.length<e.length){var g=N(t,c),p=["row","col","depth","depth2","depth3"];return"\n      "+i(g)+"\n      float "+n+"(int row, int col, int depth, int depth2, int depth3) {\n        return "+n+"("+S(p,h)+");\n      }\n    "}if(t.shapeInfo.isUniform)return"\n      float "+n+"(int row, int col, int depth, int depth2, int depth3) {\n        int index = row * "+l+" + col * "+s+" +\n            depth * "+o+" + depth2 * "+a+" + depth3;\n        return "+n+"Flat(index);\n      }\n    ";var d=t.shapeInfo.texShape,f=d[0],A=d[1];return A===l?"\n      float "+n+"(int row, int col, int depth, int depth2, int depth3) {\n        int texR = row;\n        int texC = col * "+s+" + depth * "+o+" +\n                   depth2 * "+a+" + depth3;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2("+A+".0, "+f+".0);\n        return sampleTexture("+r+", uv);\n      }\n    ":A===a?"\n      float "+n+"(int row, int col, int depth, int depth2, int depth3) {\n        int texR = row * "+e[1]*e[2]+" + col * "+e[2]+" +\n                   depth * "+e[3]+" + depth2;\n        int texC = depth3;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2("+A+".0, "+f+".0);\n        return sampleTexture("+r+", uv);\n      }\n    ":"\n    float "+n+"(int row, int col, int depth, int depth2, int depth3) {\n      vec2 uv = UVfrom5D("+f+", "+A+", "+l+", "+s+",\n          "+o+", "+a+", row, col, depth, depth2, depth3);\n      return sampleTexture("+r+", uv);\n    }\n  "}function v(t){var e=t.shapeInfo.logicalShape,r=t.name,n="get"+r.charAt(0).toUpperCase()+r.slice(1),a=e[5],o=e[4]*a,s=e[3]*o,l=e[2]*s,u=e[1]*l,c=E.squeezeShape(e),h=c.newShape,g=c.keptDims;if(h.length<e.length){var p=N(t,h),d=["row","col","depth","depth2","depth3","depth4"];return"\n      "+i(p)+"\n      float "+n+"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        return "+n+"("+S(d,g)+");\n      }\n    "}if(t.shapeInfo.isUniform)return"\n      float "+n+"(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n        int index = row * "+u+" + col * "+l+" +\n            depth * "+s+" + depth2 * "+o+" + depth3 * "+o+"\n            + depth4\n        return "+n+"Flat(index);\n      }\n    ";var f=t.shapeInfo.texShape,A=f[0],C=f[1];return C===u?"\n      float "+n+"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        int texR = row;\n        int texC = col * "+l+" + depth * "+s+" + depth2;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2("+C+".0, "+A+".0);\n        return sampleTexture("+r+", uv);\n      }\n    ":C===a?"\n      float "+n+"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        int texR = row * "+e[1]*e[2]+" + col * "+e[2]+" + depth;\n        int texC = depth4;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2("+C+".0, "+A+".0);\n        return sampleTexture("+r+", uv);\n      }\n    ":"\n    float "+n+"(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n      vec2 uv = UVfrom6D("+A+", "+C+", "+u+", "+l+",\n          "+s+", "+o+", "+a+"\n          ,row, col, depth, depth2, depth3, depth4);\n      return sampleTexture("+r+", uv);\n    }\n  "}function y(t){var e=t.name,r="get"+e.charAt(0).toUpperCase()+e.slice(1)+"Flat",n=E.sizeFromShape(t.shapeInfo.logicalShape);if(t.shapeInfo.isUniform)return 1===n?"float "+r+"(int index) {return "+e+";}":"\n      float "+r+"(int index) {\n        for (int i = 0; i < "+n+"; i++) {\n          if (i == index) {\n            return "+e+"[i];\n          }\n        }\n      }\n    ";var i=t.shapeInfo.texShape,a=i[0],o=i[1];return 1===o&&1===a?"\n      float "+r+"(int index) {\n        return sampleTexture("+e+", halfCR);\n      }\n    ":1===o?"\n      float "+r+"(int index) {\n        vec2 uv = vec2(0.5, (float(index) + 0.5) / "+a+".0);\n        return sampleTexture("+e+", uv);\n      }\n    ":1===a?"\n      float "+r+"(int index) {\n        vec2 uv = vec2((float(index) + 0.5) / "+o+".0, 0.5);\n        return sampleTexture("+e+", uv);\n      }\n    ":"\n    float "+r+"(int index) {\n      vec2 uv = UVfrom1D("+a+", "+o+", index);\n      return sampleTexture("+e+", uv);\n    }\n  "}function b(t,e,r,n){var i=t.shapeInfo.logicalShape.length,a=e.logicalShape.length,o="int";2===a?o="ivec2":3===a?o="ivec3":4===a&&(o="ivec4");var s,l=T.getBroadcastDims(t.shapeInfo.logicalShape,e.logicalShape),u=a-i;s=0===i?"":a<2&&l.length>=1?"coords = 0;":l.map(function(t){return"coords["+(t+u)+"] = 0;"}).join("\n");var c="";return c=a<2&&i>0?"coords":t.shapeInfo.logicalShape.map(function(t,e){return"coords["+(e+u)+"]"}).join(", "),"\n    float "+n+"() {\n      "+o+" coords = getOutputCoords();\n      "+s+"\n      return get"+r+"("+c+");\n    }\n  "}function x(t,e,r){var n=t.name,i=n.charAt(0).toUpperCase()+n.slice(1),a="get"+i+"AtOutCoords",o=T.getBroadcastDims(t.shapeInfo.logicalShape,e.logicalShape),s=t.shapeInfo.logicalShape.length,l=e.logicalShape.length,u=r&&(l>s||o.length>0),c=T.broadcastDimsAreOuter(o),h=t.shapeInfo.isUniform;if(u&&!c)return b(t,e,i,a);var g=E.sizeFromShape(t.shapeInfo.logicalShape),p="";u&&c&&(p="\n        int mainPart = index / "+g+";\n        index -= mainPart * "+g+";\n      ");var d=e.texShape;if(h)return 1===g?"float "+a+"() {return "+n+";}":"\n      float "+a+"() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                              vec2("+d[0]+", "+d[1]+"));\n        int index = resTexRC.x * "+d[1]+" + resTexRC.y;\n        "+p+"\n        return get"+i+"Flat(index);\n      }\n    ";var f=t.shapeInfo.texShape;return E.arraysEqual(f,d)?"\n      float "+a+"() {\n        return sampleTexture("+n+", resultUV);\n      }\n    ":"\n    float "+a+"() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+d[0]+", "+d[1]+"));\n      int index = resTexRC.x * "+d[1]+" + resTexRC.y;\n      "+p+"\n      int texR = index / "+f[1]+";\n      int texC = index - texR * "+f[1]+";\n      vec2 uv = (vec2(texC, texR) + halfCR) /\n                 vec2("+f[1]+".0, "+f[0]+".0);\n\n      return sampleTexture("+n+", uv);\n    }\n  "}function w(t){if(t<=1)return"int";if(2===t)return"ivec2";if(3===t)return"ivec3";if(4===t)return"ivec4";if(5===t)return"ivec5";if(6===t)return"ivec6";throw Error("GPU for rank "+t+" is not yet supported")}function N(t,e){var r=JSON.parse(JSON.stringify(t));return r.shapeInfo.logicalShape=e,r}function S(t,e){return e.map(function(e){return t[e]}).join(", ")}Object.defineProperty(e,"__esModule",{value:!0});var T=r(545),E=r(516);e.makeShader=n;var k="\nvec2 UVfrom1D(int texNumR, int texNumC, int index) {\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",O="\nvec2 UVfrom2D(int texNumR, int texNumC, int numC, int row, int col) {\n  int index = row * numC + col;\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",_="\nvec2 UVfrom3D(int texNumR, int texNumC, int stride0,\n    int stride1, int row, int col, int depth) {\n  // Explicitly use integer operations as dot() only works on floats.\n  int index = row * stride0 + col * stride1 + depth;\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",P="\nvec2 UVfrom4D(int texNumR, int texNumC, int stride0,\n    int stride1, int stride2, int row, int col, int depth,\n    int depth2) {\n  // Explicitly use integer operations as dot() only works on floats.\n  int index = row * stride0 + col * stride1 + depth * stride2 + depth2;\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",M="\nvec2 UVfrom5D(int texNumR, int texNumC, int stride0,\n    int stride1, int stride2, int stride3, int row, int col, int depth,\n    int depth2, int depth3) {\n  // Explicitly use integer operations as dot() only works on floats.\n  int index = row * stride0 + col * stride1 +\n              depth * stride2 + depth2 * stride3 + depth3;\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",D="\nvec2 UVfrom6D(int texNumR, int texNumC, int stride0,\n    int stride1, int stride2, int stride3, int stride4,\n    int row, int col, int depth, int depth2, int depth3, int depth4) {\n  // Explicitly use integer operations as dot() only works on floats.\n  int index = row * stride0 + col * stride1 + depth * stride2 + depth2 *\n    stride3 + depth3 * stride4 + depth4;\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",R="\n  float sampleTexture(sampler2D textureSampler, vec2 uv) {\n    return texture2D(textureSampler, uv).r;\n  }\n",L="\n  void setOutput(float val) {\n    gl_FragColor = vec4(val, 0, 0, 0);\n  }\n",z="\n  precision highp float;\n  precision highp int;\n  varying vec2 resultUV;\n  const vec2 halfCR = vec2(0.5, 0.5);\n\n  struct ivec5\n  {\n    int x;\n    int y;\n    int z;\n    int w;\n    int u;\n  };\n\n  struct ivec6\n  {\n    int x;\n    int y;\n    int z;\n    int w;\n    int u;\n    int v;\n  };\n\n  bool isNaN(float val) {\n    return (val < 0.0 || 0.0 < val || val == 0.0) ? false : true;\n  }\n\n  bool hasNaN(vec4 values) {\n    vec4 v1 = values * values;\n    vec4 v2 = values * values;\n    return any(notEqual(v1, v2));\n  }\n\n  float getNaN(vec4 values) {\n    return dot(vec4(1), values);\n  }\n\n  int round(float value) {\n    return int(floor(value + 0.5));\n  }\n\n  int imod(int x, int y) {\n    return x - y * (x / y);\n  }\n\n  //Based on the work of Dave Hoskins\n  //https://www.shadertoy.com/view/4djSRW\n  #define HASHSCALE1 443.8975\n  float random(float seed){\n    vec2 p = resultUV * seed;\n    vec3 p3  = fract(vec3(p.xyx) * HASHSCALE1);\n    p3 += dot(p3, p3.yzx + 19.19);\n    return fract((p3.x + p3.y) * p3.z);\n  }\n\n  "+k+"\n  "+O+"\n  "+_+"\n  "+P+"\n  "+M+"\n  "+D+"\n";e.getCoordsDataType=w},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e,r){this.variableNames=["x"],this.outputShape=[],this.outputShape=t,this.blockSize=e,this.dataFormat=r,this.userCode="\n    void main() {\n      ivec4 coords = getOutputCoords();\n      int b = coords[0];\n      int h = "+this.getHeightCoordString()+";\n      int w = "+this.getWidthCoordString()+";\n      int d = "+this.getDepthCoordString()+";\n\n      int in_h = h / "+e+";\n      int offset_h = imod(h, "+e+");\n      int in_w = w / "+e+";\n      int offset_w = imod(w, "+e+");\n      int offset_d = (offset_h * "+e+" + offset_w) *\n        "+this.getOutputDepthSize()+";\n      int in_d = d + offset_d;\n\n      float result = "+this.getInputSamplingString()+";\n      setOutput(result);\n    }\n  "}return t.prototype.getHeightCoordString=function(){return"NHWC"===this.dataFormat?"coords[1]":"coords[2]"},t.prototype.getWidthCoordString=function(){return"NHWC"===this.dataFormat?"coords[2]":"coords[3]"},t.prototype.getDepthCoordString=function(){return"NHWC"===this.dataFormat?"coords[3]":"coords[1]"},t.prototype.getOutputDepthSize=function(){return"NHWC"===this.dataFormat?this.outputShape[3]:this.outputShape[1]},t.prototype.getInputSamplingString=function(){return"NHWC"===this.dataFormat?"getX(b, in_h, in_w, in_d)":"getX(b, in_d, in_h, in_w)"},t}();e.DepthToSpaceProgram=r},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t){this.variableNames=["A"],this.outputShape=t,this.userCode="\n      const float FLOAT_MAX = 1.70141184e38;\n      const float FLOAT_MIN = 1.17549435e-38;\n\n      lowp vec4 encode_float(highp float v) {\n        if (isNaN(v)) {\n          return vec4(255, 255, 255, 255);\n        }\n\n        highp float av = abs(v);\n\n        if(av < FLOAT_MIN) {\n          return vec4(0.0, 0.0, 0.0, 0.0);\n        } else if(v > FLOAT_MAX) {\n          return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;\n        } else if(v < -FLOAT_MAX) {\n          return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;\n        }\n\n        highp vec4 c = vec4(0,0,0,0);\n\n        highp float e = floor(log2(av));\n        highp float m = exp2(fract(log2(av))) - 1.0;\n\n        c[2] = floor(128.0 * m);\n        m -= c[2] / 128.0;\n        c[1] = floor(32768.0 * m);\n        m -= c[1] / 32768.0;\n        c[0] = floor(8388608.0 * m);\n\n        highp float ebias = e + 127.0;\n        c[3] = floor(ebias / 2.0);\n        ebias -= c[3] * 2.0;\n        c[2] += floor(ebias) * 128.0;\n\n        c[3] += 128.0 * step(0.0, -v);\n\n        return c / 255.0;\n      }\n\n      void main() {\n        float x = getAAtOutCoords();\n        gl_FragColor = encode_float(x);\n      }\n    "}return t}();e.EncodeFloatProgram=r},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t){this.variableNames=["A"];var e=t[0],r=t[1];this.outputShape=t,this.userCode="\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n        vec2 uv = (vec2(texC, texR) + halfCR) / vec2("+r+".0, "+e+".0);\n\n        vec4 values = texture2D(A, uv);\n        float value;\n        if (depth == 0) {\n          value = values.r;\n        } else if (depth == 1) {\n          value = values.g;\n        } else if (depth == 2) {\n          value = values.b;\n        } else if (depth == 3) {\n          value = values.a;\n        }\n\n        setOutput(floor(value * 255.0 + 0.5));\n      }\n    "}return t}();e.FromPixelsProgram=r},function(t,e,r){"use strict";function n(t,e){var r=t.length;if(r>4)throw Error("Gather for rank "+r+" is not yet supported");if(1===r)return"int(getIndices(resRC))";for(var n=["resRC.x","resRC.y","resRC.z","resRC.w"],i=[],a=0;a<t.length;a++)a===e?i.push("int(getIndices("+n[a]+"))"):i.push(""+n[a]);return i.join()}Object.defineProperty(e,"__esModule",{value:!0});var i=r(556),a=function(){function t(t,e,r){this.variableNames=["A","indices"];var a=t.slice();a[r]=e,this.outputShape=a,this.rank=a.length;var o=i.getCoordsDataType(this.rank),s=n(t,r);this.userCode="\n      void main() {\n        "+o+" resRC = getOutputCoords();\n        setOutput(getA("+s+"));\n      }\n    "}return t}();e.GatherProgram=a},function(t,e,r){"use strict";function n(t){for(var e=0,r=t.length-1,n=-1;e<=r;){var i=e+r>>1,a=t[i]();a?(n=i,e=i+1):r=i-1}return n}var i=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))(function(i,a){function o(t){try{l(n.next(t))}catch(t){a(t)}}function s(t){try{l(n.throw(t))}catch(t){a(t)}}function l(t){t.done?i(t.value):new r(function(e){e(t.value)}).then(o,s)}l((n=n.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){function r(t){return function(e){return n([t,e])}}function n(r){if(i)throw new TypeError("Generator is already executing.");for(;l;)try{if(i=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return l.label++,{value:r[1],done:!1};case 5:l.label++,a=r[1],r=[0];continue;case 7:r=l.ops.pop(),l.trys.pop();continue;default:if(o=l.trys,!(o=o.length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){l=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){l.label=r[1];break}if(6===r[0]&&l.label<o[1]){l.label=o[1],o=r;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(r);break}o[2]&&l.ops.pop(),l.trys.pop();continue}r=e.call(t,l)}catch(t){r=[6,t],a=0}finally{i=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}var i,a,o,s,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(e,"__esModule",{value:!0});var o=r(512),s=r(516),l=r(562),u=r(563),c=r(564),h=function(){function t(t){this.outputTexture=null,this.program=null,this.disposed=!1,this.autoDebugValidate=!1,this.vertexAttrsAreBound=!1,this.itemsToPoll=[],null!=t?this.gl=t:this.gl=l.createWebGLContext(),1===o.ENV.get("WEBGL_VERSION")?(this.textureFloatExtension=c.getExtensionOrThrow(this.gl,"OES_texture_float"),this.colorBufferFloatExtension=this.gl.getExtension("WEBGL_color_buffer_float"),o.ENV.get("WEBGL_RENDER_FLOAT32_ENABLED")||(this.textureHalfFloatExtension=c.getExtensionOrThrow(this.gl,"OES_texture_half_float"),this.colorBufferHalfFloatExtension=this.gl.getExtension("EXT_color_buffer_half_float"))):this.colorBufferFloatExtension=c.getExtensionOrThrow(this.gl,"EXT_color_buffer_float"),this.loseContextExtension=c.getExtensionOrThrow(this.gl,"WEBGL_lose_context"),this.vertexBuffer=l.createVertexBuffer(this.gl),this.indexBuffer=l.createIndexBuffer(this.gl),this.framebuffer=c.createFramebuffer(this.gl),this.textureConfig=l.getTextureConfig(this.gl,this.textureHalfFloatExtension)}return t.prototype.dispose=function(){var t=this;if(!this.disposed){null!=this.program&&console.warn("Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing."),null!=this.outputTexture&&console.warn("Disposing a GPGPUContext that still has a bound output matrix texture.  This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing.");var e=this.gl;c.callAndCheck(e,function(){return e.finish()}),c.callAndCheck(e,function(){return e.bindFramebuffer(e.FRAMEBUFFER,null)}),c.callAndCheck(e,function(){return e.deleteFramebuffer(t.framebuffer)}),c.callAndCheck(e,function(){return e.bindBuffer(e.ARRAY_BUFFER,null)}),c.callAndCheck(e,function(){return e.deleteBuffer(t.vertexBuffer)}),c.callAndCheck(e,function(){return e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null)}),c.callAndCheck(e,function(){return e.deleteBuffer(t.indexBuffer)}),this.loseContextExtension.loseContext(),this.disposed=!0}},t.prototype.enableAutomaticDebugValidation=function(t){this.autoDebugValidate=t,c.enableDebugWebGLErrorChecking(t)},t.prototype.createFloat32MatrixTexture=function(t,e){return this.throwIfDisposed(),l.createFloat32MatrixTexture(this.gl,t,e,this.textureConfig)},t.prototype.createFloat16MatrixTexture=function(t,e){return this.throwIfDisposed(),l.createFloat16MatrixTexture(this.gl,t,e,this.textureConfig)},t.prototype.createUnsignedBytesMatrixTexture=function(t,e){return this.throwIfDisposed(),l.createUnsignedBytesMatrixTexture(this.gl,t,e,this.textureConfig)},t.prototype.uploadPixelDataToTexture=function(t,e){this.throwIfDisposed(),l.uploadPixelDataToTexture(this.gl,t,e)},t.prototype.createPackedMatrixTexture=function(t,e){return this.throwIfDisposed(),l.createPackedMatrixTexture(this.gl,t,e,this.textureConfig)},t.prototype.deleteMatrixTexture=function(t){var e=this;this.throwIfDisposed(),this.outputTexture===t&&(c.unbindColorTextureFromFramebuffer(this.gl,this.framebuffer),this.outputTexture=null),c.callAndCheck(this.gl,function(){return e.gl.deleteTexture(t)})},t.prototype.uploadMatrixToTexture=function(t,e,r,n){this.throwIfDisposed();var i=c.getNumChannels();return l.uploadMatrixToTexture(this.gl,t,e,r,n,i,this.textureConfig)},t.prototype.uploadMatrixToPackedTexture=function(t,e,r,n){return this.throwIfDisposed(),l.uploadMatrixToPackedTexture(this.gl,t,e,r,n,this.textureConfig)},t.prototype.downloadFloat32MatrixFromOutputTexture=function(t,e,r){var n=this;return this.downloadMatrixDriver(t,function(){return l.downloadFloat32MatrixFromOutputTexture(n.gl,e,r,n.textureConfig)})},t.prototype.downloadByteEncodedFloatMatrixFromOutputTexture=function(t,e,r){
var n=this;return this.downloadMatrixDriver(t,function(){return l.downloadByteEncodedFloatMatrixFromOutputTexture(n.gl,e,r,n.textureConfig)})},t.prototype.downloadFloat32MatrixFromBuffer=function(t,e,r){return l.downloadFloat32MatrixFromBuffer(this.gl,t,e,r,this.textureConfig)},t.prototype.maybeCreateBufferFromTexture=function(t,e,r){this.bindTextureToFrameBuffer(t);var n=l.maybeCreateBufferFromOutputTexture(this.gl,t,e,r,this.textureConfig);return this.unbindTextureToFrameBuffer(),n},t.prototype.createAndWaitForFence=function(){var t=this.createFence(this.gl);return this.pollFence(t)},t.prototype.createFence=function(t){var e,r,n=this;if(o.ENV.get("WEBGL_FENCE_API_ENABLED")){var i=t,a=i.fenceSync(i.SYNC_GPU_COMMANDS_COMPLETE,0);t.flush(),r=function(){var t=i.clientWaitSync(a,0,0);return t===i.ALREADY_SIGNALED||t===i.CONDITION_SATISFIED},e=a}else o.ENV.get("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(e=this.beginQuery(),this.endQuery(),r=function(){return n.isQueryAvailable(e,o.ENV.get("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}):r=function(){return!0};return{query:e,isFencePassed:r}},t.prototype.downloadMatrixFromPackedTexture=function(t,e,r){var n=this;return this.downloadMatrixDriver(t,function(){return l.downloadMatrixFromPackedOutputTexture(n.gl,e,r,n.textureConfig)})},t.prototype.createProgram=function(t){this.throwIfDisposed();var e=this.gl,r=c.createFragmentShader(e,t),n=l.createVertexShader(e),i=c.createProgram(e);return c.callAndCheck(e,function(){return e.attachShader(i,n)}),c.callAndCheck(e,function(){return e.attachShader(i,r)}),c.linkProgram(e,i),this.autoDebugValidate&&c.validateProgram(e,i),this.vertexAttrsAreBound||(this.setProgram(i),this.vertexAttrsAreBound=l.bindVertexProgramAttributeStreams(e,this.program,this.vertexBuffer)),i},t.prototype.deleteProgram=function(t){var e=this;this.throwIfDisposed(),t===this.program&&(this.program=null),null!=t&&c.callAndCheck(this.gl,function(){return e.gl.deleteProgram(t)})},t.prototype.setProgram=function(t){var e=this;this.throwIfDisposed(),this.program=t,null!=this.program&&this.autoDebugValidate&&c.validateProgram(this.gl,this.program),c.callAndCheck(this.gl,function(){return e.gl.useProgram(t)})},t.prototype.getUniformLocation=function(t,e,r){return void 0===r&&(r=!0),this.throwIfDisposed(),r?c.getProgramUniformLocationOrThrow(this.gl,t,e):c.getProgramUniformLocation(this.gl,t,e)},t.prototype.getAttributeLocation=function(t,e){var r=this;return this.throwIfDisposed(),c.callAndCheck(this.gl,function(){return r.gl.getAttribLocation(t,e)})},t.prototype.getUniformLocationNoThrow=function(t,e){return this.throwIfDisposed(),this.gl.getUniformLocation(t,e)},t.prototype.setInputMatrixTexture=function(t,e,r){this.throwIfDisposed(),this.throwIfNoProgram(),c.bindTextureToProgramUniformSampler(this.gl,this.program,t,e,r)},t.prototype.setOutputMatrixTexture=function(t,e,r){this.setOutputMatrixTextureDriver(t,r,e)},t.prototype.setOutputPackedMatrixTexture=function(t,e,r){this.throwIfDisposed();var n=u.getPackedMatrixTextureShapeWidthHeight(e,r),i=n[0],a=n[1];this.setOutputMatrixTextureDriver(t,i,a)},t.prototype.setOutputMatrixWriteRegion=function(t,e,r,n){this.setOutputMatrixWriteRegionDriver(r,t,n,e)},t.prototype.setOutputPackedMatrixWriteRegion=function(t,e,r,n){throw new Error("setOutputPackedMatrixWriteRegion not implemented.")},t.prototype.debugValidate=function(){null!=this.program&&c.validateProgram(this.gl,this.program),c.validateFramebuffer(this.gl)},t.prototype.executeProgram=function(){this.throwIfDisposed(),this.throwIfNoProgram();var t=this.gl;this.autoDebugValidate&&this.debugValidate(),c.callAndCheck(t,function(){return t.drawElements(t.TRIANGLES,6,t.UNSIGNED_SHORT,0)})},t.prototype.blockUntilAllProgramsCompleted=function(){var t=this;this.throwIfDisposed(),c.callAndCheck(this.gl,function(){return t.gl.finish()})},t.prototype.getQueryTimerExtension=function(){return null==this.disjointQueryTimerExtension&&(this.disjointQueryTimerExtension=c.getExtensionOrThrow(this.gl,2===o.ENV.get("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")?"EXT_disjoint_timer_query_webgl2":"EXT_disjoint_timer_query")),this.disjointQueryTimerExtension},t.prototype.getQueryTimerExtensionWebGL2=function(){return this.getQueryTimerExtension()},t.prototype.getQueryTimerExtensionWebGL1=function(){return this.getQueryTimerExtension()},t.prototype.beginQuery=function(){if(2===o.ENV.get("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){var t=this.gl,e=this.getQueryTimerExtensionWebGL2(),r=t.createQuery();return t.beginQuery(e.TIME_ELAPSED_EXT,r),r}var n=this.getQueryTimerExtensionWebGL1(),i=n.createQueryEXT();return n.beginQueryEXT(n.TIME_ELAPSED_EXT,i),i},t.prototype.endQuery=function(){if(2===o.ENV.get("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){var t=this.gl,e=this.getQueryTimerExtensionWebGL2();return void t.endQuery(e.TIME_ELAPSED_EXT)}var r=this.getQueryTimerExtensionWebGL1();r.endQueryEXT(r.TIME_ELAPSED_EXT)},t.prototype.waitForQueryAndGetTime=function(t){return i(this,void 0,void 0,function(){var e=this;return a(this,function(r){switch(r.label){case 0:return[4,s.repeatedTry(function(){return e.isQueryAvailable(t,o.ENV.get("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))})];case 1:return r.sent(),[2,this.getQueryTime(t,o.ENV.get("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))]}})})},t.prototype.getQueryTime=function(t,e){if(0===e)return null;if(2===e){var r=this.gl,n=r.getQueryParameter(t,r.QUERY_RESULT);return n/1e6}var i=this.getQueryTimerExtensionWebGL1(),n=i.getQueryObjectEXT(t,i.QUERY_RESULT_EXT);return n/1e6},t.prototype.isQueryAvailable=function(t,e){if(0===e)return!0;if(2===e){var r=this.gl,n=this.getQueryTimerExtensionWebGL2(),i=r.getQueryParameter(t,r.QUERY_RESULT_AVAILABLE);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(n.GPU_DISJOINT_EXT)),i&&!this.disjoint}var n=this.getQueryTimerExtensionWebGL1(),i=n.getQueryObjectEXT(t,n.QUERY_RESULT_AVAILABLE_EXT);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(n.GPU_DISJOINT_EXT)),i&&!this.disjoint},t.prototype.pollFence=function(t){var e=this;return new Promise(function(r){e.addItemToPoll(function(){return t.isFencePassed()},function(){return r()})})},t.prototype.pollItems=function(){for(var t=n(this.itemsToPoll.map(function(t){return t.isDoneFn})),e=0;e<=t;++e){var r=this.itemsToPoll[e].resolveFn;r()}this.itemsToPoll=this.itemsToPoll.slice(t+1)},t.prototype.addItemToPoll=function(t,e){var r=this;this.itemsToPoll.push({isDoneFn:t,resolveFn:e}),this.itemsToPoll.length>1||s.repeatedTry(function(){return r.pollItems(),0===r.itemsToPoll.length})},t.prototype.bindTextureToFrameBuffer=function(t){this.throwIfDisposed(),c.bindColorTextureToFramebuffer(this.gl,t,this.framebuffer),this.autoDebugValidate&&c.validateFramebuffer(this.gl)},t.prototype.unbindTextureToFrameBuffer=function(){null!=this.outputTexture?(c.bindColorTextureToFramebuffer(this.gl,this.outputTexture,this.framebuffer),this.autoDebugValidate&&c.validateFramebuffer(this.gl)):c.unbindColorTextureFromFramebuffer(this.gl,this.framebuffer)},t.prototype.downloadMatrixDriver=function(t,e){this.bindTextureToFrameBuffer(t);var r=e();return this.unbindTextureToFrameBuffer(),r},t.prototype.setOutputMatrixTextureDriver=function(t,e,r){this.throwIfDisposed();var n=this.gl;c.bindColorTextureToFramebuffer(n,t,this.framebuffer),this.autoDebugValidate&&c.validateFramebuffer(n),this.outputTexture=t,c.callAndCheck(n,function(){return n.viewport(0,0,e,r)}),c.callAndCheck(n,function(){return n.scissor(0,0,e,r)})},t.prototype.setOutputMatrixWriteRegionDriver=function(t,e,r,n){var i=this;this.throwIfDisposed(),c.callAndCheck(this.gl,function(){return i.gl.scissor(t,e,r,n)})},t.prototype.throwIfDisposed=function(){if(this.disposed)throw new Error("Attempted to use disposed GPGPUContext.")},t.prototype.throwIfNoProgram=function(){if(null==this.program)throw new Error("No GPU program is currently set.")},t}();e.GPGPUContext=h,e.binSearchLastTrue=n},function(t,e,r){"use strict";function n(){return{alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0}}function i(t){var e,r=n();return e=null!=t?S.createWebGLRenderingContextFromCanvas(t,r):S.createWebGLRenderingContext(r),S.callAndCheck(e,function(){return e.disable(e.DEPTH_TEST)}),S.callAndCheck(e,function(){return e.disable(e.STENCIL_TEST)}),S.callAndCheck(e,function(){return e.disable(e.BLEND)}),S.callAndCheck(e,function(){return e.disable(e.DITHER)}),S.callAndCheck(e,function(){return e.disable(e.POLYGON_OFFSET_FILL)}),S.callAndCheck(e,function(){return e.disable(e.SAMPLE_COVERAGE)}),S.callAndCheck(e,function(){return e.enable(e.SCISSOR_TEST)}),S.callAndCheck(e,function(){return e.enable(e.CULL_FACE)}),S.callAndCheck(e,function(){return e.cullFace(e.BACK)}),e}function a(t){var e="\n    precision highp float;\n    attribute vec3 clipSpacePos;\n    attribute vec2 uv;\n    varying vec2 resultUV;\n\n    void main() {\n      gl_Position = vec4(clipSpacePos, 1);\n      resultUV = uv;\n    }";return S.createVertexShader(t,e)}function o(t){var e=new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]);return S.createStaticVertexBuffer(t,e)}function s(t){var e=new Uint16Array([0,1,2,2,1,3]);return S.createStaticIndexBuffer(t,e)}function l(t,e){var r,n,i,a,o,s,l,u,c=t;return 2===w.ENV.get("WEBGL_VERSION")?(r=c.R32F,n=c.R16F,i=c.RGBA32F,a=c.RED,s=4,l=1,u=c.HALF_FLOAT):(r=t.RGBA,n=t.RGBA,i=c.RGBA,a=t.RGBA,s=4,l=4,u=null!=e?e.HALF_FLOAT_OES:null),o=t.RGBA,{internalFormatFloat:r,internalFormatHalfFloat:n,internalFormatPackedFloat:i,textureFormatFloat:a,downloadTextureFormat:o,downloadUnpackNumChannels:s,defaultNumChannels:l,textureTypeHalfFloat:u}}function u(t,e,r,n,i,a){S.validateTextureSize(t,e,r);var o=S.createTexture(t),s=t.TEXTURE_2D;return S.callAndCheck(t,function(){return t.bindTexture(s,o)}),S.callAndCheck(t,function(){return t.texParameteri(s,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE)}),S.callAndCheck(t,function(){return t.texParameteri(s,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)}),S.callAndCheck(t,function(){return t.texParameteri(s,t.TEXTURE_MIN_FILTER,t.NEAREST)}),S.callAndCheck(t,function(){return t.texParameteri(s,t.TEXTURE_MAG_FILTER,t.NEAREST)}),S.callAndCheck(t,function(){return t.texImage2D(s,0,n,e,r,0,i,a,null)}),S.callAndCheck(t,function(){return t.bindTexture(t.TEXTURE_2D,null)}),o}function c(t,e,r,n){var i=N.getUnpackedMatrixTextureShapeWidthHeight(e,r),a=i[0],o=i[1];return u(t,a,o,n.internalFormatFloat,n.textureFormatFloat,t.FLOAT)}function h(t,e,r,n){var i=N.getUnpackedMatrixTextureShapeWidthHeight(e,r),a=i[0],o=i[1];return u(t,a,o,n.internalFormatFloat,n.textureFormatFloat,n.textureTypeHalfFloat)}function g(t,e,r,n){var i=N.getUnpackedMatrixTextureShapeWidthHeight(e,r),a=i[0],o=i[1];return u(t,a,o,t.RGBA,t.RGBA,t.UNSIGNED_BYTE)}function p(t,e,r,n){var i=N.getPackedMatrixTextureShapeWidthHeight(e,r),a=i[0],o=i[1];return u(t,a,o,n.internalFormatPackedFloat,t.RGBA,t.FLOAT)}function d(t,e,r){var n=0,i=12,a=20;S.callAndCheck(t,function(){return t.bindBuffer(t.ARRAY_BUFFER,r)});var o=S.bindVertexBufferToProgramAttribute(t,e,"clipSpacePos",r,3,a,n);return o&&S.bindVertexBufferToProgramAttribute(t,e,"uv",r,2,a,i)}function f(t,e,r){S.callAndCheck(t,function(){return t.bindTexture(t.TEXTURE_2D,e)}),S.callAndCheck(t,function(){return t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,r)}),S.callAndCheck(t,function(){return t.bindTexture(t.TEXTURE_2D,null)})}function A(t,e,r,n,i,a){S.validateTextureSize(t,r,n),S.callAndCheck(t,function(){return t.bindTexture(t.TEXTURE_2D,e)}),S.callAndCheck(t,function(){return t.texSubImage2D(t.TEXTURE_2D,0,0,0,r,n,a,t.FLOAT,i)}),S.callAndCheck(t,function(){return t.bindTexture(t.TEXTURE_2D,null)})}function C(t,e,r,n,i,a,o){var s,l=N.getUnpackedMatrixTextureShapeWidthHeight(r,n),u=l[0],c=l[1];1===o.defaultNumChannels?s=i:(s=new Float32Array(N.getUnpackedArraySizeFromMatrixSize(i.length,a)),N.encodeMatrixToUnpackedArray(i,s,a)),A(t,e,u,c,s,o.textureFormatFloat)}function m(t,e,r,n,i,a){var o=N.getPackedMatrixTextureShapeWidthHeight(r,n),s=o[0],l=o[1],u=new Float32Array(N.getPackedRGBAArraySizeFromMatrixShape(r,n));N.encodeMatrixToPackedRGBA(i,r,n,u),A(t,e,s,l,u,t.RGBA)}function I(t,e,r,n,i){var a=e;if(2===w.ENV.get("WEBGL_VERSION")){var o=t,s=o.createBuffer();S.callAndCheck(t,function(){return t.bindBuffer(o.PIXEL_PACK_BUFFER,s)});var l=4,u=l*N.getUnpackedArraySizeFromMatrixSize(r*n,i.downloadUnpackNumChannels);S.callAndCheck(t,function(){return t.bufferData(o.PIXEL_PACK_BUFFER,u,t.STATIC_DRAW)}),S.callAndCheck(t,function(){return o.readPixels(0,0,n,r,t.RGBA,t.FLOAT,0)}),S.callAndCheck(t,function(){return t.bindBuffer(o.PIXEL_PACK_BUFFER,null)}),a=s}return a}function v(t,e,r,n,i){var a=t,o=new Float32Array(N.getUnpackedArraySizeFromMatrixSize(r*n,i.downloadUnpackNumChannels));a.bindBuffer(t.ARRAY_BUFFER,e),a.getBufferSubData(t.ARRAY_BUFFER,0,o),a.bindBuffer(t.ARRAY_BUFFER,null);var s=new Float32Array(r*n);return N.decodeMatrixFromUnpackedArray(o,s,i.downloadUnpackNumChannels),s}function y(t,e,r,n){var i=N.getUnpackedMatrixTextureShapeWidthHeight(e,r),a=i[0],o=i[1],s=new Float32Array(N.getUnpackedArraySizeFromMatrixSize(e*r,n.downloadUnpackNumChannels));S.callAndCheck(t,function(){return t.readPixels(0,0,a,o,n.downloadTextureFormat,t.FLOAT,s)});var l=new Float32Array(e*r);return N.decodeMatrixFromUnpackedArray(s,l,n.downloadUnpackNumChannels),l}function b(t,e,r,n){var i=N.getUnpackedMatrixTextureShapeWidthHeight(e,r),a=i[0],o=i[1],s=4,l=new Uint8Array(N.getUnpackedArraySizeFromMatrixSize(e*r,s));return S.callAndCheck(t,function(){return t.readPixels(0,0,a,o,n.downloadTextureFormat,t.UNSIGNED_BYTE,l)}),new Float32Array(l.buffer)}function x(t,e,r,n){var i=N.getPackedMatrixTextureShapeWidthHeight(e,r),a=i[0],o=i[1],s=new Float32Array(N.getPackedRGBAArraySizeFromMatrixShape(e,r));S.callAndCheck(t,function(){return t.readPixels(0,0,a,o,t.RGBA,t.FLOAT,s)});var l=new Float32Array(e*r);return N.decodeMatrixFromPackedRGBA(s,e,r,l)}Object.defineProperty(e,"__esModule",{value:!0});var w=r(512),N=r(563),S=r(564);e.getWebGLContextAttributes=n,e.createWebGLContext=i,e.createVertexShader=a,e.createVertexBuffer=o,e.createIndexBuffer=s,e.getTextureConfig=l,e.createFloat32MatrixTexture=c,e.createFloat16MatrixTexture=h,e.createUnsignedBytesMatrixTexture=g,e.createPackedMatrixTexture=p,e.bindVertexProgramAttributeStreams=d,e.uploadPixelDataToTexture=f,e.uploadMatrixToTexture=C,e.uploadMatrixToPackedTexture=m,e.maybeCreateBufferFromOutputTexture=I,e.downloadFloat32MatrixFromBuffer=v,e.downloadFloat32MatrixFromOutputTexture=y,e.downloadByteEncodedFloatMatrixFromOutputTexture=b,e.downloadMatrixFromPackedOutputTexture=x},function(t,e){"use strict";function r(t,e){return[e,t]}function n(t,e){return t*e}function i(t,e){return[4*e,t]}function a(t,e){if(t%e!==0)throw new Error("unpackedSize ("+t+") must be a multiple of "+e);return t/e}function o(t,e,r){var i=n(t.length,r);if(e.length<i)throw new Error("unpackedArray length ("+e.length+") must be >= "+i);for(var a=0,o=0;o<t.length;++o)e[a]=t[o],a+=r}function s(t,e,r){var n=a(t.length,r);if(e.length<n)throw new Error("matrix length ("+e.length+") must be >= "+n);for(var i=0,o=0;o<t.length;o+=r)e[i++]=t[o]}function l(t,e,r){var n=t.length*r/4;if(e.length<n)throw new Error("matrix length ("+e.length+") must be >= "+n);for(var i=0,a=0;a<t.length;a+=4)for(var o=0;o<r;o++)e[i++]=t[a+o]}function u(t,e){return[Math.ceil(e/2),Math.ceil(t/2)]}function c(t,e){var r=u(t,e),n=r[0],i=r[1];return n*i*4}function h(t,e,r,n){var i=c(e,r);if(n.length<i)throw new Error("packedRGBA length ("+n.length+") must be >= "+i);for(var a=u(e,r),o=a[0],s=a[1],l=r%2===1,h=e%2===1,g=Math.floor(r/2),p=Math.floor(e/2),d=l?4:0,f=r,A=0,C=0;C<p;++C){for(var m=2*C*r,I=0;I<g;++I){var v=2*I,y=m+v;n[A]=t[y],n[A+1]=t[y+1],n[A+2]=t[y+f],n[A+3]=t[y+f+1],A+=4}A+=d}if(l)for(var y=r-1,A=4*(o-1),b=2*r,d=4*o,C=0;C<p;++C)n[A]=t[y],n[A+2]=t[y+r],y+=b,A+=d;if(h)for(var y=(e-1)*r,A=(s-1)*o*4,I=0;I<g;++I)n[A++]=t[y++],n[A++]=t[y++],A+=2;return l&&h&&(n[n.length-4]=t[t.length-1]),n}function g(t,e,r,n){var i=e*r;if(i<n.length)throw new Error("matrix length ("+n.length+") must be >= "+i);for(var a=r%2===1,o=e%2===1,s=Math.floor(r/2),l=Math.floor(e/2),c=u(e,r),h=c[0],g=c[1],p=a?4:0,d=r+(a?1:0),f=0,A=0,C=r,m=0;m<l;++m){for(var I=0;I<s;++I)n[A++]=t[f++],n[A++]=t[f++],n[C++]=t[f++],n[C++]=t[f++];f+=p,A+=d,C+=d}if(a)for(var f=4*(h-1),v=r-1,p=4*h,d=2*r,m=0;m<l;++m)n[v]=t[f],n[v+r]=t[f+2],f+=p,v+=d;if(o)for(var f=(g-1)*h*4,v=(e-1)*r,I=0;I<s;++I)n[v++]=t[f++],n[v++]=t[f++],f+=2;return a&&o&&(n[n.length-1]=t[t.length-4]),n}Object.defineProperty(e,"__esModule",{value:!0});var p;!function(t){t[t.RENDER=0]="RENDER",t[t.UPLOAD=1]="UPLOAD",t[t.PIXELS=2]="PIXELS",t[t.DOWNLOAD=3]="DOWNLOAD"}(p=e.TextureUsage||(e.TextureUsage={}));var d;!function(t){t[t.FLOAT16=0]="FLOAT16",t[t.FLOAT32=1]="FLOAT32",t[t.UNSIGNED_BYTE=2]="UNSIGNED_BYTE"}(d=e.PhysicalTextureType||(e.PhysicalTextureType={})),e.getUnpackedMatrixTextureShapeWidthHeight=r,e.getUnpackedArraySizeFromMatrixSize=n,e.getColorMatrixTextureShapeWidthHeight=i,e.getMatrixSizeFromUnpackedArraySize=a,e.encodeMatrixToUnpackedArray=o,e.decodeMatrixFromUnpackedArray=s,e.decodeMatrixFromUnpackedColorRGBAArray=l,e.getPackedMatrixTextureShapeWidthHeight=u,e.getPackedRGBAArraySizeFromMatrixShape=c,e.encodeMatrixToPackedRGBA=h,e.decodeMatrixFromPackedRGBA=g},function(t,e,r){"use strict";function n(t){var e=document.createElement("canvas");return e.width=1,e.height=1,i(e,t)}function i(t,e){var r,n=B.ENV.get("WEBGL_VERSION");if(2===n?r=t.getContext("webgl2",e):1===n&&(r=t.getContext("webgl",e)||t.getContext("experimental-webgl",e)),0===n||null==r)throw new Error("This browser does not support WebGL.");return r}function a(t,e){var r=e();return s(t),r}function o(t){V=t}function s(t){if(V){var e=t.getError();if(e!==t.NO_ERROR)throw new Error("WebGL Error: "+l(t,e))}}function l(t,e){switch(e){case t.NO_ERROR:return"NO_ERROR";case t.INVALID_ENUM:return"INVALID_ENUM";case t.INVALID_VALUE:return"INVALID_VALUE";case t.INVALID_OPERATION:return"INVALID_OPERATION";case t.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case t.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case t.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return"Unknown error code "+e}}function u(t,e){return D(t,function(){return t.getExtension(e)},'Extension "'+e+'" not supported on this browser.')}function c(t,e){var r=D(t,function(){return t.createShader(t.VERTEX_SHADER)},"Unable to create vertex WebGLShader.");if(a(t,function(){return t.shaderSource(r,e)}),a(t,function(){return t.compileShader(r)}),t.getShaderParameter(r,t.COMPILE_STATUS)===!1)throw console.log(t.getShaderInfoLog(r)),new Error("Failed to compile vertex shader.");return r}function h(t,e){var r=D(t,function(){return t.createShader(t.FRAGMENT_SHADER)},"Unable to create fragment WebGLShader.");if(a(t,function(){return t.shaderSource(r,e)}),a(t,function(){return t.compileShader(r)}),t.getShaderParameter(r,t.COMPILE_STATUS)===!1)throw g(e,t.getShaderInfoLog(r)),new Error("Failed to compile fragment shader.");return r}function g(t,e){var r=j.exec(e);if(null==r)return console.log("Couldn't parse line number in error: "+e),void console.log(t);for(var n=+r[1],i=t.split("\n"),a=i.length.toString().length+2,o=i.map(function(t,e){return F.rightPad((e+1).toString(),a)+t}),s=0,l=0;l<o.length;l++)s=Math.max(o[l].length,s);var u=o.slice(0,n-1),c=o.slice(n-1,n),h=o.slice(n);console.log(u.join("\n")),console.log(e.split("\n")[0]),console.log("%c "+F.rightPad(c[0],s),"border:1px solid red; background-color:#e3d2d2; color:#a61717"),console.log(h.join("\n"))}function p(t){return D(t,function(){return t.createProgram()},"Unable to create WebGLProgram.")}function d(t,e){if(a(t,function(){return t.linkProgram(e)}),t.getProgramParameter(e,t.LINK_STATUS)===!1)throw console.log(t.getProgramInfoLog(e)),new Error("Failed to link vertex and fragment shaders.")}function f(t,e){if(a(t,function(){return t.validateProgram(e)}),t.getProgramParameter(e,t.VALIDATE_STATUS)===!1)throw console.log(t.getProgramInfoLog(e)),new Error("Shader program validation failed.")}function A(t,e){var r=D(t,function(){return t.createBuffer()},"Unable to create WebGLBuffer");return a(t,function(){return t.bindBuffer(t.ARRAY_BUFFER,r)}),a(t,function(){return t.bufferData(t.ARRAY_BUFFER,e,t.STATIC_DRAW)}),r}function C(t,e){var r=D(t,function(){return t.createBuffer()},"Unable to create WebGLBuffer");return a(t,function(){return t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,r)}),a(t,function(){return t.bufferData(t.ELEMENT_ARRAY_BUFFER,e,t.STATIC_DRAW)}),r}function m(t){return null!=z?z:z=a(t,function(){return t.getParameter(t.MAX_TEXTURE_SIZE)})}function I(){return 2===B.ENV.get("WEBGL_VERSION")?1:4}function v(t){return D(t,function(){return t.createTexture()},"Unable to create WebGLTexture.")}function y(t,e,r){var n=m(t);if(e<=0||r<=0){var i="["+e+"x"+r+"]";throw new Error("Requested texture size "+i+" is invalid.")}if(e>n||r>n){var i="["+e+"x"+r+"]",a="["+n+"x"+n+"]";throw new Error("Requested texture size "+i+" greater than WebGL maximum on this browser / GPU "+a+".")}}function b(t){return D(t,function(){return t.createFramebuffer()},"Unable to create WebGLFramebuffer.")}function x(t,e,r,n,i,o,s){var l=t.getAttribLocation(e,r);return l!==-1&&(a(t,function(){return t.bindBuffer(t.ARRAY_BUFFER,n)}),a(t,function(){return t.vertexAttribPointer(l,i,t.FLOAT,!1,o,s)}),a(t,function(){return t.enableVertexAttribArray(l)}),!0)}function w(t,e,r){R(t,r),a(t,function(){return t.activeTexture(t.TEXTURE0+r)}),a(t,function(){return t.bindTexture(t.TEXTURE_2D,e)})}function N(t,e){R(t,e),a(t,function(){return t.activeTexture(t.TEXTURE0+e)}),a(t,function(){return t.bindTexture(t.TEXTURE_2D,null)})}function S(t,e,r){return D(t,function(){return t.getUniformLocation(e,r)},'uniform "'+r+'" not present in program.')}function T(t,e,r){return t.getUniformLocation(e,r)}function E(t,e,r,n,i){a(t,function(){return w(t,r,i)}),a(t,function(){return t.uniform1i(n,i)})}function k(t){a(t,function(){return t.bindFramebuffer(t.FRAMEBUFFER,null)}),a(t,function(){return t.viewport(0,0,t.canvas.width,t.canvas.height)}),a(t,function(){return t.scissor(0,0,t.canvas.width,t.canvas.height)})}function O(t,e,r){a(t,function(){return t.bindFramebuffer(t.FRAMEBUFFER,r)}),a(t,function(){return t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e,0)})}function _(t,e){a(t,function(){return t.bindFramebuffer(t.FRAMEBUFFER,e)}),a(t,function(){return t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,null,0)})}function P(t){var e=t.checkFramebufferStatus(t.FRAMEBUFFER);if(e!==t.FRAMEBUFFER_COMPLETE)throw new Error("Error binding framebuffer: "+M(t,e))}function M(t,e){switch(e){case t.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_ATTACHMENT";case t.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";case t.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return"FRAMEBUFFER_INCOMPLETE_DIMENSIONS";case t.FRAMEBUFFER_UNSUPPORTED:return"FRAMEBUFFER_UNSUPPORTED";default:return"unknown error "+e}}function D(t,e,r){var n=a(t,function(){return e()});if(null==n)throw new Error(r);return n}function R(t,e){var r=t.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,n=e+t.TEXTURE0;if(n<t.TEXTURE0||n>r){var i="[gl.TEXTURE0, gl.TEXTURE"+r+"]";throw new Error("textureUnit must be in "+i+".")}}function L(t,e){if(2!==e.length){var r=F.squeezeShape(e);e=r.newShape}var n=m(t),i=F.sizeFromShape(e);return e.length<=1&&i<=n?[i,1]:2===e.length&&e[0]<=n&&e[1]<=n?e:3===e.length&&e[0]<=n&&e[1]*e[2]<=n?[e[0],e[1]*e[2]]:4===e.length&&e[0]<=n&&e[1]*e[2]*e[3]<=n?[e[0],e[1]*e[2]*e[3]]:F.sizeToSquarishShape(i)}Object.defineProperty(e,"__esModule",{value:!0});var z=null,F=r(516),B=r(512);e.createWebGLRenderingContext=n,e.createWebGLRenderingContextFromCanvas=i,e.callAndCheck=a;var V=!1;e.enableDebugWebGLErrorChecking=o,e.checkWebGLError=s,e.getWebGLErrorMessage=l,e.getExtensionOrThrow=u,e.createVertexShader=c,e.createFragmentShader=h;var j=/ERROR: [0-9]+:([0-9]+):/g;e.createProgram=p,e.linkProgram=d,e.validateProgram=f,e.createStaticVertexBuffer=A,e.createStaticIndexBuffer=C,e.queryMaxTextureSize=m,e.getNumChannels=I,e.createTexture=v,e.validateTextureSize=y,e.createFramebuffer=b,e.bindVertexBufferToProgramAttribute=x,e.bindTextureUnit=w,e.unbindTextureUnit=N,e.getProgramUniformLocationOrThrow=S,e.getProgramUniformLocation=T,e.bindTextureToProgramUniformSampler=E,e.bindCanvasToFramebuffer=k,e.bindColorTextureToFramebuffer=O,e.unbindColorTextureFromFramebuffer=_,e.validateFramebuffer=P,e.getFramebufferErrorMessage=M,e.getTextureShapeFromLogicalShape=L},function(t,e,r){"use strict";function n(t,e,r,n){for(var i=e.userCode,a=r.map(function(t,r){var n={logicalShape:t.shape,texShape:t.isUniform?null:t.texData.texShape,isUniform:t.isUniform};return{name:e.variableNames[r],shapeInfo:n}}),o=a.map(function(t){return t.shapeInfo}),s={logicalShape:n.shape,texShape:n.texData.texShape,isUniform:!1},u=l.makeShader(a,s,i,e.supportsBroadcasting===!0),c=t.createProgram(u),h={},g=0;g<e.variableNames.length;g++){var p=e.variableNames[g],d=!1;h[p]=t.getUniformLocation(c,p,d)}return{program:e,source:u,webGLProgram:c,uniformLocations:h,gpgpu:t,inShapeInfos:o,outShapeInfo:s}}function i(t,e){if(t.length!==e.length)throw Error("Binary was compiled with "+t.length+" inputs, but "+("was executed with "+e.length+" inputs"));t.forEach(function(t,r){var n=t.logicalShape,i=e[r],a=i.shape;if(!s.arraysEqual(n,a))throw Error("Binary was compiled with different shapes than "+("the current args. Shapes "+n+" and "+a+" must match"));if(!t.isUniform||!i.isUniform){var o=t.texShape,l=i.isUniform?null:i.texData.texShape;if(!s.arraysEqual(o,l))throw Error("Binary was compiled with different texture shapes than the"+(" current args. Shape "+o+" and "+l+" must match"))}})}function a(t,e,r,n){i(t.inShapeInfos,e),i([t.outShapeInfo],[r]);var a=r.texData.texture,o=r.texData.texShape,l=t.gpgpu;l.setOutputMatrixTexture(a,o[0],o[1]),l.setProgram(t.webGLProgram),e.forEach(function(e,r){var n=t.program.variableNames[r],i=t.uniformLocations[n];if(null!=i){if(e.isUniform){if(1===s.sizeFromShape(e.shape))l.gl.uniform1f(i,e.uniformValues[0]);else{var a=e.uniformValues;a instanceof Float32Array||(a=new Float32Array(a)),l.gl.uniform1fv(i,a)}return}var o=e.texData.texture;l.setInputMatrixTexture(o,i,r)}}),null!=n&&n(l,t.webGLProgram),l.executeProgram()}function o(t,e,r){var n="";e.concat(r).forEach(function(t){n+=t.shape+"_"+(t.isUniform?"uniform":t.texData.texShape)});var i=t.userCode,a=(t.supportsBroadcasting===!0).toString(),o=t.constructor.name;return o+="_"+a+"_"+n+"_"+i}Object.defineProperty(e,"__esModule",{value:!0});var s=r(516),l=r(556);e.compileProgram=n,e.runProgram=a,e.makeShaderKey=o},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e,r,n,i){this.variableNames=["x"],this.outputShape=[];var a=e,o=t[3]-1;this.outputShape=t;var s,l="float("+r+") + float("+n+") * sum";s=.5===i?"inversesqrt("+l+")":1===i?"1.0/("+l+")":"exp(log("+l+") * float(-"+i+"));",this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n        int d = coords[3];\n        float x = getX(b, r, c, d);\n        float sum = 0.0;\n        for (int j = -"+a+"; j <= "+a+"; j++) {\n          int idx = d + j;\n          if (idx >= 0 && idx <=  "+o+") {\n            float z = getX(b, r, c, idx);\n            sum += z * z;\n          }\n        }\n        float val = x * "+s+";\n        setOutput(val);\n      }\n    "}return t}();e.LRNProgram=r},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e,r,n,i){this.variableNames=["inputImage","outputImage","dy"],this.outputShape=[],this.outputShape=t,this.depth=t[3],this.depthRadius=e,this.bias=r,this.alpha=n,this.beta=i,this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n\n        float result = 0.0;\n        for (int d = 0; d < "+this.depth+"; ++d) {\n          int depthBegin = int(max(0.0, float(d - "+e+")));\n          int depthEnd = int(min(float("+this.depth+"),\n              float(d + "+e+" + 1)));\n\n          const int MIN_DEPTH_BEGIN = 0;\n          const int MAX_DEPTH_END = "+this.depth+";\n\n          float norm = 0.0;\n          for (int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k) {\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd) {\n              norm += getInputImage(b, r, c, k) * getInputImage(b, r, c, k);\n            }\n            else {\n              break;\n            }\n          }\n\n          norm = float("+n+") * norm + float("+r+");\n\n          for(int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k){\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd){\n              float dyi = -2.0 * float("+n+")\n                * float("+i+")\n                * getInputImage(b ,r ,c, k) * getOutputImage(b, r, c, d)\n                / norm;\n              if (k == d) {\n                dyi += pow(norm, -1.0 * "+i+");\n              }\n              if (k == coords[3]) {\n                dyi *= getDy(b, r, c, d);\n                result += dyi;\n              }\n            }\n            else {\n              break;\n            }\n          }\n      }\n      setOutput(result);\n      }\n    "}return t}();e.LRNGradProgram=r},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t){this.variableNames=["dy","maxPos"],this.outputShape=t.inShape;var e=t.filterHeight,r=t.filterWidth,n=t.strideHeight,i=t.strideWidth,a=e-1-t.padInfo.top,o=r-1-t.padInfo.left,s=e*r-1;this.userCode="\n      const ivec2 pads = ivec2("+a+", "+o+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+e+"; wR++) {\n          float dyR = float(dyRCorner + wR) / "+n+".0;\n\n          if (dyR < 0.0 || dyR >= "+t.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < "+r+"; wC++) {\n            float dyC = float(dyCCorner + wC) / "+i+".0;\n\n            if (dyC < 0.0 || dyC >= "+t.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n            int maxPosValue = "+s+" - int(getMaxPos(b, idyR, idyC, d));\n\n            // Get the current value, check it against the value from the\n            // position matrix.\n            int curPosValue = wR * "+r+" + wC;\n            float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n            dotProd += dyValue * mask;\n          }\n        }\n        setOutput(dotProd);\n      }\n    "}return t}();e.MaxPool2DBackpropProgram=r},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e,r,n){void 0===r&&(r=!1),void 0===n&&(n=!1),this.variableNames=["matrixA","matrixB"];var i=t[0],a=r?t[2]:t[1],o=n?e[1]:e[2],s=r?t[1]:t[2];this.outputShape=[i,a,o];var l=function(t,e){return r?"batch, "+e+" + "+t+", aRow":"batch, aRow, "+e+" + "+t},u=function(t,e){return n?"batch, bCol, "+e+" + "+t:"batch, "+e+" + "+t+", bCol"},c=4*Math.floor(s/4),h=s%4;this.userCode=" float dotARowBCol(int batch, int aRow, int bCol) {\n      float result = 0.0;\n      for (int i = 0; i < "+c+"; i += 4) {\n        vec4 a = vec4(\n          getMatrixA("+l(0,"i")+"),\n          getMatrixA("+l(1,"i")+"),\n          getMatrixA("+l(2,"i")+"),\n          getMatrixA("+l(3,"i")+")\n        );\n        vec4 b = vec4(\n          getMatrixB("+u(0,"i")+"),\n          getMatrixB("+u(1,"i")+"),\n          getMatrixB("+u(2,"i")+"),\n          getMatrixB("+u(3,"i")+")\n        );\n\n        result += dot(a, b);\n      }\n\n      if ("+(1===h)+") {\n        result += getMatrixA("+l(0,c)+") *\n          getMatrixB("+u(0,c)+");\n      } else if ("+(2===h)+") {\n        vec2 a = vec2(\n          getMatrixA("+l(0,c)+"),\n          getMatrixA("+l(1,c)+")\n        );\n        vec2 b = vec2(\n          getMatrixB("+u(0,c)+"),\n          getMatrixB("+u(1,c)+")\n        );\n        result += dot(a, b);\n      } else if ("+(3===h)+") {\n        vec3 a = vec3(\n          getMatrixA("+l(0,c)+"),\n          getMatrixA("+l(1,c)+"),\n          getMatrixA("+l(2,c)+")\n        );\n        vec3 b = vec3(\n          getMatrixB("+u(0,c)+"),\n          getMatrixB("+u(1,c)+"),\n          getMatrixB("+u(2,c)+")\n        );\n        result += dot(a, b);\n      }\n\n      return result;\n    }\n\n    void main() {\n      ivec3 resBRC = getOutputCoords();\n      setOutput(dotARowBCol(resBRC.x, resBRC.y, resBRC.z));\n    }\n    ";
}return t}();e.MatMulProgram=r},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e,r){this.variableNames=["probs"],this.outputShape=[t,r],this.userCode="\n      uniform float seed;\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n\n        float r = random(seed);\n        float cdf = 0.0;\n\n        for (int i = 0; i < "+(e-1)+"; i++) {\n          cdf += getProbs(batch, i);\n\n          if (r < cdf) {\n            setOutput(float(i));\n            return;\n          }\n        }\n\n        // If no other event happened, last event happened.\n        setOutput(float("+(e-1)+"));\n      }\n    "}return t.prototype.getCustomSetupFunc=function(t){var e=this;return function(r,n){null==e.seedLoc&&(e.seedLoc=r.getUniformLocation(n,"seed")),r.gl.uniform1f(e.seedLoc,t)}},t}();e.MultinomialProgram=r},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e,r,n){this.variableNames=["indices"],this.outputShape=[t,e],this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int index = round(getIndices(coords.x));\n        setOutput(mix(float("+n+"), float("+r+"),\n                      float(index == coords.y)));\n      }\n    "}return t}();e.OneHotProgram=r},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(556),i=function(){function t(t,e,r){this.variableNames=["x"],this.outputShape=e.map(function(e,r){return e[0]+t[r]+e[1]});var i=t.length,a=n.getCoordsDataType(i),o=e.map(function(t){return t[0]}).join(","),s=e.map(function(e,r){return e[0]+t[r]}).join(","),l=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,i);return 1===i?void(this.userCode="\n        int start = "+o+";\n        int end = "+s+";\n\n        void main() {\n          int outC = getOutputCoords();\n          if (outC < start || outC >= end) {\n            setOutput(float("+r+"));\n          } else {\n            setOutput(getX(outC - start));\n          }\n        }\n      "):void(this.userCode="\n      "+a+" start = "+a+"("+o+");\n      "+a+" end = "+a+"("+s+");\n\n      void main() {\n        "+a+" outC = getOutputCoords();\n        if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {\n          setOutput(float("+r+"));\n        } else {\n          "+a+" coords = outC - start;\n          setOutput(getX("+l+"));\n        }\n      }\n    ")}return t}();e.PadProgram=i},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e,r){if(this.variableNames=["x"],"avg"===e&&r)throw new Error("Cannot compute positions for average pool.");var n=t.filterHeight,i=t.filterWidth,a=t.strideHeight,o=t.strideWidth,s=t.padInfo.top,l=t.padInfo.left;this.outputShape=t.outShape;var u="avg"===e,c="0.0";if(u||(c="-1.0 / 0.0"),r){var h=">=";return void(this.userCode="\n        const ivec2 strides = ivec2("+a+", "+o+");\n        const ivec2 pads = ivec2("+s+", "+l+");\n\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int batch = coords[0];\n          int d = coords[3];\n\n          ivec2 xRCCorner = coords.yz * strides - pads;\n          int xRCorner = xRCCorner.x;\n          int xCCorner = xRCCorner.y;\n\n          // max/min x(?, ?, d) to get y(yR, yC, d).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n          float avgValue = 0.0;\n\n          for (int wR = 0; wR < "+n+"; wR++) {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= "+t.inHeight+") {\n              continue;\n            }\n\n            for (int wC = 0; wC < "+i+"; wC++) {\n              int xC = xCCorner + wC;\n\n              if (xC < 0 || xC >= "+t.inWidth+") {\n                continue;\n              }\n\n              float value = getX(batch, xR, xC, d);\n\n              // If a min / max value has already been found, use it. If not,\n              // use the current value.\n              float currMinMaxValue = mix(\n                  value, minMaxValue, minMaxValueFound);\n              if (value "+h+" currMinMaxValue) {\n                minMaxValue = value;\n                minMaxValueFound = 1.0;\n                minMaxPosition = wR * "+i+" + wC;\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      ")}var g="max",p=e+"("+e+"("+e+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"avg"===e&&(p="avgValue / count");var d=4*Math.floor(i/4),f=i%4,A="\n      if ("+u+") {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = "+g+"(values, minMaxValue);\n      }\n    ";this.userCode="\n      const ivec2 strides = ivec2("+a+", "+o+");\n      const ivec2 pads = ivec2("+s+", "+l+");\n      const float initializationValue = "+c+";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xR, int xC, int d) {\n        if (xC < 0 || xC >= "+t.inWidth+") {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xR, xC, d);\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d = coords[3];\n\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // max/min x(?, ?, d) to get y(yR, yC, d).\n        // ? = to be determined\n        vec4 minMaxValue = vec4("+c+");\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wR = 0; wR < "+n+"; wR++) {\n          int xR = xRCorner + wR;\n\n          if (xR < 0 || xR >= "+t.inHeight+") {\n            continue;\n          }\n\n          for (int wC = 0; wC < "+d+"; wC += 4) {\n            int xC = xCCorner + wC;\n\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + 1, d),\n              getValue(batch, xR, xC + 2, d),\n              getValue(batch, xR, xC + 3, d)\n            );\n\n            "+A+"\n          }\n\n          int xC = xCCorner + "+d+";\n          if ("+(1===f)+") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              initializationValue,\n              initializationValue,\n              initializationValue\n            );\n\n            "+A+"\n          } else if ("+(2===f)+") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + 1, d),\n              initializationValue,\n              initializationValue\n            );\n\n            "+A+"\n          } else if ("+(3===f)+") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + 1, d),\n              getValue(batch, xR, xC + 2, d),\n              initializationValue\n            );\n\n            "+A+"\n          }\n        }\n        setOutput("+p+");\n      }\n    "}return t}();e.Pool2DProgram=r},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){this.variableNames=["x"];var r=t.windowSize,n=t.batchSize,i=t.inSize,a=Math.ceil(i/r);this.outputShape=[n,a];var o="0.0",s="";"min"===e?(o="1.0 / 0.0",s="min"):"max"===e&&(o="-1.0 / 0.0",s="max");var l=e+"("+e+"("+e+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"sum"===e?l="sumValue":"all"===e?l="allValue":"any"===e&&(l="anyValue");var u=4*Math.floor(r/4),c=r%4,h="\n      if ("+("sum"===e)+") {\n        sumValue += dot(values, ones);\n      } else {\n        minMaxValue = "+s+"(values, minMaxValue);\n      }\n    ",g="vec4";"all"===e?(o="1.0",h="\n        bool reducedAllValue = all(values);\n        float floatedReducedAllValue = float(reducedAllValue);\n        allValue = float(allValue >= 1.0 && floatedReducedAllValue >= 1.0);\n      ",g="bvec4"):"any"===e&&(o="0.0",h="\n        bool reducedAnyValue = any(values);\n        float floatedReducedAnyValue = float(reducedAnyValue);\n        anyValue = float(anyValue >= 1.0 || floatedReducedAnyValue >= 1.0);\n      ",g="bvec4");var p="";i%r>0&&(p="\n        if (inIdx < 0 || inIdx >= "+i+") {\n          return initializationValue;\n        }\n      "),this.userCode="\n      const float initializationValue = "+o+";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float getValue(int batch, int inIdx) {\n        "+p+"\n        return getX(batch, inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * "+r+";\n\n        vec4 minMaxValue = vec4("+o+");\n        float sumValue = 0.0;\n        float allValue = 1.0;\n        float anyValue = 0.0;\n\n        for (int i = 0; i < "+u+"; i += 4) {\n          int inIdx = inOffset + i;\n          "+g+" values = "+g+"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          "+h+"\n        }\n\n        int inIdx = inOffset + "+u+";\n        if ("+(1===c)+") {\n          "+g+" values = "+g+"(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          "+h+"\n        } else if ("+(2===c)+") {\n          "+g+" values = "+g+"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          "+h+"\n        } else if ("+(3===c)+") {\n          "+g+" values = "+g+"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          "+h+"\n        }\n        setOutput("+l+");\n      }\n    "}return t}();e.ReduceProgram=r},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e,r){this.variableNames=["dy"],this.outputShape=[],this.outputShape=e.shape;var n=e.shape,i=n[1],a=n[2],o=t.shape,s=o[1],l=o[2],u=[r&&s>1?i-1:i,r&&l>1?a-1:a],c=[r&&s>1?s-1:s,r&&l>1?l-1:l],h=u[0]/c[0],g=u[1]/c[1],p=1/h,d=1/g,f=2*Math.ceil(p)+2,A=2*Math.ceil(d)+2;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float("+h+");\n        const float widthScale = float("+g+");\n\n        const float invHeightScale = float("+p+");\n        const float invWidthScale = float("+d+");\n\n        const int winHeight = int("+f+");\n        const int winWidth = int("+A+");\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(startRLerp - float(winHeight / 2));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(startCLerp - float(winWidth / 2));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= "+s+") {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= "+l+") {\n              continue;\n            }\n\n            float dxR = float(dyR) * heightScale;\n            int topDxRIndex = int(floor(dxR));\n            int bottomDxRIndex = int(min(ceil(dxR), "+(i-1)+".0));\n            float dxRLerp = dxR - float(topDxRIndex);\n            float inverseDxRLerp = 1.0 - dxRLerp;\n\n            float dxC = float(dyC) * widthScale;\n            int leftDxCIndex = int(floor(dxC));\n            int rightDxCIndex = int(min(ceil(dxC), "+(a-1)+".0));\n            float dxCLerp = dxC - float(leftDxCIndex);\n            float inverseDxCLerp = 1.0 - dxCLerp;\n\n            if (r == topDxRIndex && c == leftDxCIndex) {\n              // topLeft\n              accumulator +=\n                getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;\n            }\n\n            if (r == topDxRIndex && c == rightDxCIndex) {\n              // topRight\n              accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == leftDxCIndex) {\n              // bottomLeft\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == rightDxCIndex) {\n              // bottomRight\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    "}return t}();e.ResizeBilinearBackpropProgram=r},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e,r,n){this.variableNames=["A"],this.outputShape=[];var i=t[0],a=t[1],o=t[2],s=t[3];this.outputShape=[i,e,r,s];var l=[n&&e>1?a-1:a,n&&r>1?o-1:o],u=[n&&e>1?e-1:e,n&&r>1?r-1:r];this.userCode="\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          "+l[0]/u[0]+",\n          "+l[1]/u[1]+");\n      const vec2 inputShapeRC = vec2("+a+".0, "+o+".0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = vec2(yRC) * effectiveInputOverOutputRatioRC;\n\n        // Compute the four integer indices.\n        ivec2 sourceFloorRC = ivec2(sourceFracIndexRC);\n        ivec2 sourceCeilRC = ivec2(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        float topLeft = getA(b, sourceFloorRC.x, sourceFloorRC.y, d);\n        float bottomLeft = getA(b, sourceCeilRC.x, sourceFloorRC.y, d);\n        float topRight = getA(b, sourceFloorRC.x, sourceCeilRC.y, d);\n        float bottomRight = getA(b, sourceCeilRC.x, sourceCeilRC.y, d);\n\n        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);\n\n        float top = topLeft + (topRight - topLeft) * fracRC.y;\n        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;\n        float newValue = top + (bottom - top) * fracRC.x;\n\n        setOutput(newValue);\n      }\n    "}return t}();e.ResizeBilinearProgram=r},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e,r){this.variableNames=["dy"],this.outputShape=[],this.outputShape=e.shape;var n=e.shape,i=n[1],a=n[2],o=t.shape,s=o[1],l=o[2],u=[r&&s>1?i-1:i,r&&l>1?a-1:a],c=[r&&s>1?s-1:s,r&&l>1?l-1:l],h=u[0]/c[0],g=u[1]/c[1],p=1/h,d=1/g,f=2*Math.ceil(p)+2,A=2*Math.ceil(d)+2;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float("+h+");\n        const float widthScale = float("+g+");\n\n        const float invHeightScale = float("+p+");\n        const float invWidthScale = float("+d+");\n\n        const int winHeight = int("+f+");\n        const int winWidth = int("+A+");\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(floor(startRLerp - float(winHeight / 2)));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(floor(startCLerp - float(winWidth / 2)));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= "+s+") {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= "+l+") {\n              continue;\n            }\n\n            float sourceFracRow =\n              float("+u[0]+") *\n                (float(dyR) / float("+c[0]+"));\n\n            float sourceFracCol =\n                float("+u[1]+") *\n                  (float(dyC) / float("+c[1]+"));\n\n            int sourceNearestRow = int(min(\n                float(int("+i+") - 1),\n                "+r+" ? float(round(sourceFracRow)) :\n                                  float(floor(sourceFracRow))));\n\n            int sourceNearestCol = int(min(\n                float(int("+a+") - 1),\n                "+r+" ? float(round(sourceFracCol)) :\n                                  float(floor(sourceFracCol))));\n\n            if (r == sourceNearestRow && c == sourceNearestCol) {\n              accumulator += getDy(b, dyR, dyC, d);\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    "}return t}();e.ResizeNearestNeigborBackpropProgram=r},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e,r,n){this.variableNames=["A"],this.outputShape=[];var i=t[0],a=t[1],o=t[2],s=t[3];this.outputShape=[i,e,r,s];var l=[n&&e>1?a-1:a,n&&r>1?o-1:o],u=[n&&e>1?e-1:e,n&&r>1?r-1:r],c=n?"0.5":"0.0";this.userCode="\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          "+l[0]/u[0]+",\n          "+l[1]/u[1]+");\n      const vec2 inputShapeRC = vec2("+a+".0, "+o+".0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = vec2(yRC) * effectiveInputOverOutputRatioRC;\n\n        // Compute the coordinators of nearest neighbor point.\n        ivec2 sourceNearestRC = ivec2(\n          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + "+c+")));\n\n        float newValue = getA(b, sourceNearestRC.x, sourceNearestRC.y, d);\n\n        setOutput(newValue);\n      }\n    "}return t}();e.ResizeNearestNeighborProgram=r},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(556),i=function(){function t(t,e){this.variableNames=["x"];var r=t.length;if(r>4)throw new Error("WebGL backend: Reverse of rank-"+r+" tensor is not yet supported");if(this.outputShape=t,1===r)return void(this.userCode="\n        void main() {\n          int coord = getOutputCoords();\n          setOutput(getX("+t[0]+" - coord - 1));\n        }\n      ");var i=function(r){return e.indexOf(r)!==-1&&1!==t[r]?t[r]+" - coords["+r+"] - 1":"coords["+r+"]"},a=t.map(function(t,e){return i(e)}).join(","),o=n.getCoordsDataType(r);this.userCode="\n      void main() {\n        "+o+" coords = getOutputCoords();\n        setOutput(getX("+a+"));\n      }\n    "}return t}();e.ReverseProgram=i},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){this.variableNames=["x","segmentIds"];var r=t.windowSize,n=t.batchSize,i=t.inSize,a=t.numSegments,o=a*Math.ceil(i/r);this.outputShape=[n,o];var s="0.0",l="sumValue",u=4*Math.floor(r/4),c=r%4,h="\n        sumValue += dot(values, filter);\n    ",g="";i%r>0&&(g="\n        if (inIdx < 0 || inIdx >= "+i+") {\n          return initializationValue;\n        }\n      ");var p="";i%r>0&&(p="\n        if (inIdx < 0 || inIdx >= "+i+") {\n          return -1.0;\n        }\n      "),this.userCode="\n      const float initializationValue = "+s+";\n\n      float getValue(int batch, int inIdx) {\n        "+g+"\n        return getX(batch, inIdx);\n      }\n\n      float getSegmentIdAtIndex(int inIdx) {\n        "+p+"\n        return getSegmentIds(inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = int(floor(float(outIdx) / float(\n          "+a+")) * float("+r+"));\n        int currentSeg = int(mod(float(outIdx), float("+a+")));\n\n        float sumValue = 0.0;\n\n        for (int i = 0; i < "+u+"; i += 4) {\n          int inIdx = inOffset + i;\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          vec4 filter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 3)) == currentSeg ? 1 : 0\n          );\n\n          "+h+"\n        }\n\n        int inIdx = inOffset + "+u+";\n        if ("+(1===c)+") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          int inIdxSeg = int(getSegmentIdAtIndex(inIdx));\n\n          vec4 filter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            0,\n            0,\n            0\n          );\n\n          "+h+"\n        } else if ("+(2===c)+") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          vec4 filter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n              0,\n              0\n          );\n\n          "+h+"\n        } else if ("+(3===c)+") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          vec4 filter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            0\n          );\n\n          "+h+"\n        }\n        setOutput("+l+");\n      }\n    "}return t}();e.SegmentOpProgram=r},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(556),i=function(){function t(t,e,r){this.variableNames=["c","a","b"],this.outputShape=e;var i,a;if(r>4)throw Error("Where for rank "+r+" is not yet supported");if(1===r)a="resRC",i="resRC";else{for(var o=["resRC.x","resRC.y","resRC.z","resRC.w"],s=[],l=[],u=0;u<e.length;u++)l.push(""+o[u]),u<t&&s.push(""+o[u]);i=s.join(),a=l.join()}var c=n.getCoordsDataType(r);this.userCode="\n      void main() {\n        "+c+" resRC = getOutputCoords();\n        float cVal = getC("+i+");\n        if (cVal >= 1.0) {\n          setOutput(getA("+a+"));\n        } else {\n          setOutput(getB("+a+"));\n        }\n      }\n    "}return t}();e.SelectProgram=i},function(t,e,r){"use strict";function n(t){if(1===t)return"sourceLoc";if(2===t)return"sourceLoc.x, sourceLoc.y";if(3===t)return"sourceLoc.x, sourceLoc.y, sourceLoc.z";if(4===t)return"sourceLoc.x, sourceLoc.y, sourceLoc.z, sourceLoc.w";throw Error("Slicing for rank "+t+" is not yet supported")}Object.defineProperty(e,"__esModule",{value:!0});var i=r(556),a=function(){function t(t){this.variableNames=["source"],this.outputShape=t,this.rank=t.length;var e=i.getCoordsDataType(this.rank),r=n(this.rank);this.userCode="\n      uniform "+e+" start;\n\n      void main() {\n        "+e+" sourceLoc = start + getOutputCoords();\n        setOutput(getSource("+r+"));\n      }\n    "}return t.prototype.getCustomSetupFunc=function(t){var e=this;if(t.length!==this.rank)throw Error("The rank ("+this.rank+") of the program must match the "+("length of start ("+t.length+")"));return function(r,n){if(null!=e.startLoc||(e.startLoc=r.getUniformLocationNoThrow(n,"start"),null!=e.startLoc))if(1===e.rank)r.gl.uniform1i(e.startLoc,t[0]);else if(2===e.rank)r.gl.uniform2i(e.startLoc,t[0],t[1]);else if(3===e.rank)r.gl.uniform3i(e.startLoc,t[0],t[1],t[2]);else{if(4!==e.rank)throw Error("Slicing for rank "+e.rank+" is not yet supported");r.gl.uniform4i(e.startLoc,t[0],t[1],t[2],t[3])}}},t}();e.SliceProgram=a},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(556),i=function(){function t(t,e,r,i){this.variableNames=["x"];var a=r.filter(function(t,e){return i.indexOf(e)===-1});this.outputShape=a;var o=r.length,s=n.getCoordsDataType(r.length),l=n.getCoordsDataType(a.length),u="";if(1===o)u="coords * strides + begin";else{var c=0;u=r.map(function(t,e){return i.indexOf(e)===-1?(c++,1===a.length?"coords * strides["+e+"] + begin["+e+"]":"coords["+(c-1)+"] * strides["+e+"] + begin["+e+"]"):"begin["+e+"]"}).join(",")}this.userCode="\n      "+s+" begin = "+s+"("+t+");\n      "+s+" strides = "+s+"("+e+");\n\n      void main() {\n        "+l+" coords = getOutputCoords();\n        setOutput(getX("+u+"));\n      }\n    "}return t}();e.StridedSliceProgram=i},function(t,e,r){"use strict";function n(t){if(t===o.TextureUsage.DOWNLOAD||t===o.TextureUsage.PIXELS)return o.PhysicalTextureType.UNSIGNED_BYTE;if(t===o.TextureUsage.UPLOAD)return o.PhysicalTextureType.FLOAT32;if(t===o.TextureUsage.RENDER)return a.ENV.get("WEBGL_RENDER_FLOAT32_ENABLED")?o.PhysicalTextureType.FLOAT32:o.PhysicalTextureType.FLOAT16;throw new Error("Unknown logical texture type "+t)}function i(t,e){return t[0]+"_"+t[1]+"_"+e}Object.defineProperty(e,"__esModule",{value:!0});var a=r(512),o=r(563),s=function(){function t(t){this.gpgpu=t,this.numUsedTextures=0,this.numFreeTextures=0,this.freeTextures={},this.logEnabled=!1,this.usedTextures={}}return t.prototype.acquireTexture=function(t,e){var r=n(e),a=i(t,r);if(a in this.freeTextures||(this.freeTextures[a]=[]),a in this.usedTextures||(this.usedTextures[a]=[]),this.freeTextures[a].length>0){this.numFreeTextures--,this.numUsedTextures++,this.log();var s=this.freeTextures[a].shift();return this.usedTextures[a].push(s),s}this.numUsedTextures++,this.log();var l;return r===o.PhysicalTextureType.FLOAT32?l=this.gpgpu.createFloat32MatrixTexture(t[0],t[1]):r===o.PhysicalTextureType.FLOAT16?l=this.gpgpu.createFloat16MatrixTexture(t[0],t[1]):r===o.PhysicalTextureType.UNSIGNED_BYTE&&(l=this.gpgpu.createUnsignedBytesMatrixTexture(t[0],t[1])),this.usedTextures[a].push(l),l},t.prototype.releaseTexture=function(t,e,r){var a=n(r),o=i(e,a);o in this.freeTextures||(this.freeTextures[o]=[]),this.freeTextures[o].push(t),this.numFreeTextures++,this.numUsedTextures--;var s=this.usedTextures[o],l=s.indexOf(t);if(l<0)throw new Error("Cannot release a texture that was never provided by this texture manager");s.splice(l,1),this.log()},t.prototype.log=function(){if(this.logEnabled){var t=this.numFreeTextures+this.numUsedTextures;console.log("Free/Used",this.numFreeTextures+" / "+this.numUsedTextures,"("+t+")")}},t.prototype.getNumUsedTextures=function(){return this.numUsedTextures},t.prototype.getNumFreeTextures=function(){return this.numFreeTextures},t.prototype.dispose=function(){var t=this;if(null!=this.freeTextures){for(var e in this.freeTextures)this.freeTextures[e].forEach(function(e){t.gpgpu.deleteMatrixTexture(e)});for(var e in this.usedTextures)this.usedTextures[e].forEach(function(e){t.gpgpu.deleteMatrixTexture(e)});this.freeTextures=null,this.usedTextures=null,this.numUsedTextures=0,this.numFreeTextures=0}},t}();e.TextureManager=s},function(t,e,r){"use strict";function n(t){var e=t.length;if(e>5)throw Error("Tile for rank "+e+" is not yet supported");if(1===e)return"imod(resRC, "+t[0]+")";for(var r=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u"],n=[],i=0;i<t.length;i++)n.push("imod("+r[i]+", "+t[i]+")");return n.join()}Object.defineProperty(e,"__esModule",{value:!0});var i=r(556),a=function(){function t(t,e){this.variableNames=["A"];for(var r=new Array(t.length),a=0;a<r.length;a++)r[a]=t[a]*e[a];this.outputShape=r,this.rank=r.length;var o=i.getCoordsDataType(this.rank),s=n(t);this.userCode="\n      void main() {\n        "+o+" resRC = getOutputCoords();\n        setOutput(getA("+s+"));\n      }\n    "}return t}();e.TileProgram=a},function(t,e,r){"use strict";function n(t){var e=t.length;if(e>6)throw Error("Transpose for rank "+e+" is not yet supported");for(var r=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u","resRC.v"],n=new Array(e),i=0;i<t.length;i++)n[t[i]]=r[i];return n.join()}Object.defineProperty(e,"__esModule",{value:!0});var i=r(556),a=function(){function t(t,e){this.variableNames=["A"];for(var r=new Array(t.length),a=0;a<r.length;a++)r[a]=t[e[a]];this.outputShape=r,this.rank=r.length;var o=i.getCoordsDataType(this.rank),s=n(e);this.userCode="\n    void main() {\n      "+o+" resRC = getOutputCoords();\n      setOutput(getA("+s+"));\n    }\n    "}return t}();e.TransposeProgram=a},function(t,e,r){"use strict";function n(t){return void 0===t&&(t=0),s+("\n    return x > 0.0 ? 1.0 : float("+t+");\n  ")}Object.defineProperty(e,"__esModule",{value:!0});var i=r(588),a=r(589),o=function(){function t(t,e){this.variableNames=["A"],this.outputShape=t,this.userCode="\n      uniform float NAN;\n      float unaryOperation(float x) {\n        "+e+"\n      }\n\n      void main() {\n        float x = getAAtOutCoords();\n        float y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    "}return t.prototype.getCustomSetupFunc=function(){var t=this;return function(e,r){null==t.startLoc&&(t.startLoc=e.getUniformLocationNoThrow(r,"NAN"),null==t.startLoc)||e.gl.uniform1f(t.startLoc,NaN)}},t}();e.UnaryOpProgram=o;var s="if (isNaN(x)) return x;";e.ABS="return abs(x);",e.RELU=s+"\n  return (x < 0.0) ? 0.0 : x;\n",e.ELU="return (x >= 0.0) ? x : (exp(x) - 1.0);",e.SELU="\n  // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.\n  // see: https://arxiv.org/abs/1706.02515\n  float scaleAlpha = "+a.SELU_SCALEALPHA+";\n  float scale = "+a.SELU_SCALE+";\n  return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);\n",e.STEP=n,e.NEG="return -x;",e.CEIL="return ceil(x);",e.FLOOR="return floor(x);",e.SIGN="\n  if (isNaN(x)) { return 0.0; }\n  return sign(x);\n",e.ROUND="\n  // OpenGL ES does not support round function.\n  // The algorithm is based on banker's rounding.\n  float base = floor(x);\n  if ((x - base) < 0.5) {\n    return floor(x);\n  } else if ((x - base) > 0.5) {\n    return ceil(x);\n  } else {\n    if (mod(base, 2.0) == 0.0) {\n      return base;\n    } else {\n      return base + 1.0;\n    }\n  }\n",e.EXP="return exp(x);",e.EXPM1="return exp(x) - 1.0;",e.LOG="if (x < 0.0) return NAN;\n  return log(x);",e.LOG1P="return log(1.0 + x);",e.SQRT="return sqrt(x);",e.RSQRT="return inversesqrt(x);",e.SIGMOID="return 1.0 / (1.0 + exp(-1.0 * x));",e.SOFTPLUS="\n  float epsilon = 1.1920928955078125e-7;\n  float threshold = log(epsilon) + 2.0;\n\n  bool too_large = x > -threshold;\n  bool too_small = x < threshold;\n\n  float result;\n  float exp_x = exp(x);\n\n  if (too_large){\n    result = x;\n  }\n  else if (too_small){\n    result = exp_x;\n  }\n  else{\n    result = log(exp_x + 1.0);\n  }\n  return result;\n",e.SIN=s+"\n  return sin(x);\n",e.COS=s+"\n  return cos(x);\n",e.TAN="return tan(x);",e.ASIN="return asin(x);",e.ACOS="return acos(x);",e.ATAN=s+"\n  return atan(x);\n",
e.SINH="\n  float e2x = exp(x);\n  return (e2x - 1.0 / e2x) / 2.0;\n",e.COSH="\n  float e2x = exp(-x);\n  return (e2x + 1.0 / e2x) / 2.0;\n",e.TANH="\n  float e2x = exp(-2.0 * abs(x));\n  return sign(x) * (1.0 - e2x) / (1.0 + e2x);\n",e.ASINH="return log(x + sqrt(x * x + 1.0));",e.ACOSH=s+"\n  if (x < 1.0) return NAN;\n  return log(x + sqrt(x * x - 1.0));",e.ATANH=s+"\n  if ((x < -1.0) || (x > 1.0)) return NAN;\n  return (log(1.0 + x) - log(1.0 - x)) / 2.0;",e.ERF='\n  // Error function is calculated approximately with elementary function.\n  // See "Handbook of Mathematical Functions with Formulas,\n  // Graphs, and Mathematical Tables", Abramowitz and Stegun.\n  float p = '+i.ERF_P+";\n  float a1 = "+i.ERF_A1+";\n  float a2 = "+i.ERF_A2+";\n  float a3 = "+i.ERF_A3+";\n  float a4 = "+i.ERF_A4+";\n  float a5 = "+i.ERF_A5+";\n\n  float t = 1.0 / (1.0 + p * x);\n  return 1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x);\n",e.SQUARE="return x * x;",e.RECIPROCAL="return 1.0 / x;",e.LOGICAL_NOT="return float(!(x >= 1.0));",e.TO_INT="return float(int(x));"},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ERF_P=.3275911,e.ERF_A1=.254829592,e.ERF_A2=-.284496736,e.ERF_A3=1.421413741,e.ERF_A4=-1.453152027,e.ERF_A5=1.061405429},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SELU_SCALEALPHA=1.7580993408473768,e.SELU_SCALE=1.0507009873554805},function(t,e,r){"use strict";function n(t,e){for(var r=[],n=0;n<e.length;n++)e[n]&&r.push(n);for(var a=i.buffer(t,"int32"),o=i.buffer([r.length,t.length],"int32"),n=0;n<r.length;n++){var s=a.indexToLoc(r[n]),l=n*t.length;o.values.set(s,l)}return o.toTensor()}Object.defineProperty(e,"__esModule",{value:!0});var i=r(591);e.whereImpl=n},function(t,e,r){"use strict";function n(t){var e=R.convertToTensor(t,"x","clone"),r=function(t){return{$x:function(){return t.toFloat()}}};return M.ENV.engine.runKernel(function(t){return D.Tensor.make(e.shape,{dataId:e.dataId},e.dtype)},{$x:e},r)}function i(t,r,n,i){void 0===i&&(i="float32"),null==r&&(r=t);for(var a=k([t,r],i),o=t<=r?t:r,s=0;s<o;++s)a.set(1,s,s);var l=a.toTensor().as2D(t,r);if(null==n)return l;if(1===n.length)return e.tile(e.expandDims(l,0),[n[0],1,1]);if(2===n.length)return e.tile(e.expandDims(e.expandDims(l,0),0),[n[0],n[1],1,1]);if(3===n.length)return e.tile(e.expandDims(e.expandDims(e.expandDims(l,0),0),0),[n[0],n[1],n[2],1,1]);throw new Error("eye() currently supports only 1D and 2D "+("batchShapes, but received "+n.length+"D."))}function a(t,e,r,n,i){if(void 0===e&&(e=0),void 0===r&&(r=1),null!=n&&"bool"===n)throw new Error("Unsupported data type "+n);for(var a=new V.MPRandGauss(e,r,n,!1,i),o=k(t,n),s=0;s<o.values.length;s++)o.values[s]=a.nextValue();return o.toTensor()}function o(t,e,r,n,i){if(void 0===e&&(e=0),void 0===r&&(r=1),null!=n&&"bool"===n)throw new Error("Unsupported data type "+n);for(var a=new V.MPRandGauss(e,r,n,!0,i),o=k(t,n),s=0;s<o.values.length;s++)o.values[s]=a.nextValue();return o.toTensor()}function s(t,e,r,n){void 0===e&&(e=0),void 0===r&&(r=1),void 0===n&&(n="float32");for(var i=k(t,n),a=0;a<i.values.length;a++)i.values[a]=L.randUniform(e,r);return i.toTensor()}function l(t,e,r){var n=L.sizeFromShape(t),i=null;if(null==r||"float32"===r)i=new Float32Array(n);else if("int32"===r)i=new Int32Array(n);else{if("bool"!==r)throw new Error("Unknown data type "+r);i=new Uint8Array(n)}for(var a=0;a<n;a++)i[a]=e();return D.Tensor.make(t,{values:i},r)}function u(t,e,r,n){void 0===n&&(n=!1);var i=R.convertToTensor(t,"logits","multinomial"),a=i.size,o=i.rank;if(a<2)throw new Error("Error in multinomial: you need at least 2 outcomes, but got "+(a+"."));if(o>2)throw new Error("Rank of probabilities must be 1 or 2, but is "+o);r=r||Math.random();var s=1===o?i.as2D(1,-1):i,l=M.ENV.engine.runKernel(function(t){return t.multinomial(s,n,e,r)},{logits2D:s});return 1===o?l.as1D():l}function c(t,e,r,n){void 0===r&&(r=1),void 0===n&&(n=0);var i=R.convertToTensor(t,"indices","oneHot","int32");if(L.assert("int32"===i.dtype,"Indices must be of dtype `int32`"),e<2)throw new Error("Error in oneHot: depth must be >=2, but it is "+e);var a=function(t){return{$indices:function(){return j.zerosLike(i)}}};return M.ENV.engine.runKernel(function(t){return t.oneHot(i,e,r,n)},{$indices:i},a)}function h(t,e){if(void 0===e&&(e=3),e>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");return M.ENV.engine.fromPixels(t,e)}function g(t,e){return _(this,void 0,void 0,function(){var r,n,i,a,o,s,l,u,c,h,g,p,d,f,A,C,m,I,v,y;return P(this,function(b){switch(b.label){case 0:if(r=R.convertToTensor(t,"img","toPixels","int32"),2!==r.rank&&3!==r.rank)throw new Error("toPixels only supports rank 2 or 3 tensors, got rank "+r.rank+".");if(n=r.shape.slice(0,2),i=n[0],a=n[1],o=2===r.rank?1:r.shape[2],o>4||2===o)throw new Error("toPixels only supports depth of size 1, 3 or 4 but got "+o);return s=r.min(),l=r.max(),[4,s.data()];case 1:return u=b.sent()[0],[4,l.data()];case 2:if(c=b.sent()[0],s.dispose(),l.dispose(),"float32"===r.dtype){if(u<0||c>1)throw new Error("Tensor values for a float32 Tensor must be in the "+("range [0 - 1] but got range ["+u+" - "+c+"]."))}else{if("int32"!==r.dtype)throw new Error("Unsupported type for toPixels: "+r.dtype+". Please use float32 or int32 tensors.");if(u<0||c>255)throw new Error("Tensor values for a int32 Tensor must be in the "+("range [0 - 255] but got range ["+u+" - "+c+"]."))}return[4,r.data()];case 3:for(h=b.sent(),g="float32"===r.dtype?255:1,p=new Uint8ClampedArray(a*i*4),d=0;d<i*a;++d)f=void 0,A=void 0,C=void 0,m=void 0,1===o?(f=h[d]*g,A=h[d]*g,C=h[d]*g,m=255):3===o?(f=h[3*d]*g,A=h[3*d+1]*g,C=h[3*d+2]*g,m=255):4===o&&(f=h[4*d]*g,A=h[4*d+1]*g,C=h[4*d+2]*g,m=h[4*d+3]*g),I=4*d,p[I+0]=Math.round(f),p[I+1]=Math.round(A),p[I+2]=Math.round(C),p[I+3]=Math.round(m);return null!=e&&(e.width=a,e.height=i,v=e.getContext("2d"),y=new ImageData(p,a,i),v.putImageData(y,0,0)),r!==t&&r.dispose(),[2,p]}})})}function p(t,e){var r=R.convertToTensor(t,"x","reshape");e=L.inferFromImplicitShape(e,r.size),L.assert(r.size===L.sizeFromShape(e),"new shape and old shape must have the same number of elements.");var n=function(t){return{$x:function(){return t.reshape(r.shape)}}};return M.ENV.engine.runKernel(function(t){return t.reshape(r,e)},{$x:r},n)}function d(t,r){var n=R.convertToTensor(t,"x","squeeze");return e.reshape(n,L.squeezeShape(n.shape,r).newShape)}function f(t,e){var r=R.convertToTensor(t,"x","cast"),n=function(t){return{$x:function(){return t.clone()}}};return M.ENV.engine.runKernel(function(t){return t.cast(r,e)},{$x:r},n)}function A(t,e){var r=R.convertToTensor(t,"x","tile");L.assert(r.rank===e.length,"Error in transpose: rank of input "+r.rank+" "+("must match length of reps "+e+"."));var n=function(t){var n=function(){var n=j.zerosLike(r);if(1===r.rank)for(var i=0;i<e[0];++i)n=n.add(t.slice([i*r.shape[0]],[r.shape[0]]));else if(2===r.rank)for(var i=0;i<e[0];++i)for(var a=0;a<e[1];++a)n=n.add(t.slice([i*r.shape[0],a*r.shape[1]],[r.shape[0],r.shape[1]]));else if(3===r.rank)for(var i=0;i<e[0];++i)for(var a=0;a<e[1];++a)for(var o=0;o<e[2];++o)n=n.add(t.slice([i*r.shape[0],a*r.shape[1],o*r.shape[2]],[r.shape[0],r.shape[1],r.shape[2]]));else{if(4!==r.rank)throw new Error("Gradient for tile operation is not implemented for rank-"+(r.rank+" tensors yet."));for(var i=0;i<e[0];++i)for(var a=0;a<e[1];++a)for(var o=0;o<e[2];++o)for(var s=0;s<e[3];++s)n=n.add(t.slice([i*r.shape[0],a*r.shape[1],o*r.shape[2],s*r.shape[3]],[r.shape[0],r.shape[1],r.shape[2],r.shape[3]]))}return n};return{$x:n}};return M.ENV.engine.runKernel(function(t){return t.tile(r,e)},{$x:r},n)}function C(t,r,n){return void 0===n&&(n=0),L.assert(2===r.length,"Invalid number of paddings. Must be length of 2."),e.pad(t,[r],n)}function m(t,r,n){return void 0===n&&(n=0),L.assert(2===r.length&&2===r[0].length&&2===r[1].length,"Invalid number of paddings. Must be length of 2 each."),e.pad(t,r,n)}function I(t,r,n){return void 0===n&&(n=0),L.assert(3===r.length&&2===r[0].length&&2===r[1].length&&2===r[2].length,"Invalid number of paddings. Must be length of 2 each."),e.pad(t,r,n)}function v(t,r,n){return void 0===n&&(n=0),L.assert(4===r.length&&2===r[0].length&&2===r[1].length&&2===r[2].length&&2===r[3].length,"Invalid number of paddings. Must be length of 2 each."),e.pad(t,r,n)}function y(t,e,r){void 0===r&&(r=0);var n=R.convertToTensor(t,"x","pad");if(0===n.rank)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");var i=e.map(function(t){return t[0]}),a=function(t){return{$x:function(){return t.slice(i,n.shape)}}};return M.ENV.engine.runKernel(function(t){return t.pad(n,e,r)},{$x:n},a)}function b(t,e){void 0===e&&(e=0);var r=R.convertToTensorArray(t,"tensors","stack");if(L.assert(r.length>=1,"Pass at least one tensor to tf.stack"),1===r.length)return r[0].expandDims(e);var n=r[0].rank,i=r[0].shape,a=r[0].dtype;L.assert(e<=n,"Axis must be <= rank of the tensor"),r.forEach(function(t){L.assertShapesMatch(i,t.shape,"All tensors passed to stack must have matching shapes")}),r.forEach(function(t){L.assert(a===t.dtype,"All tensors passed to stack must have matching dtypes")});var o=r.map(function(t){return t.expandDims(e)});return F.concat(o,e)}function x(t,e,r){var n=R.convertToTensor(t,"x","batchToSpaceND"),i=e.reduce(function(t,e){return t*e});L.assert(n.rank>=1+e.length,"input rank should be > than [blockShape] but got "+n.rank),L.assert(r.length===e.length,"crops.shape[0] must be equal to [blockShape] but got "+r.length),L.assert(n.shape[0]%i===0,"input tensor batch must be divisible by prod( blockShape )");var a=function(t){return{$x:function(){return t.spaceToBatchND(e,r)}}};return M.ENV.engine.runKernel(function(t){return t.batchToSpaceND(n,e,r)},{$x:n},a)}function w(t,e,r){var n=R.convertToTensor(t,"x","spaceToBatchND");L.assert(n.rank>=1+e.length,"input rank "+n.rank+" should be > than [blockShape] "+e.length),L.assert(r.length===e.length,"paddings.shape[0] "+r.length+" must be equal to [blockShape] "+e.length),L.assert(n.shape.reduce(function(t,n,i){return i>0&&i<=e.length?t&&(n+r[i-1][0]+r[i-1][1])%e[i-1]===0:t},!0),"input spatial dimensions "+n.shape.slice(1)+" with paddings "+r.toString()+" must be divisible by blockShapes "+e.toString());var i=function(t){return{$x:function(){return t.batchToSpaceND(e,r)}}};return M.ENV.engine.runKernel(function(t){return t.spaceToBatchND(n,e,r)},{$x:n},i)}function N(t,e){void 0===e&&(e=0);for(var r=R.convertToTensor(t,"x","unstack"),n=r.shape[e],i=Array(r.rank-1).fill(0),a=0,o=0;o<r.rank;o++)o!==e&&(i[a]=r.shape[o],a++);var s;s=Array(n).fill(1);var l=Array(r.rank).fill(0),u=r.shape.slice();return s.map(function(t){u[e]=t;var n=r.slice(l,u);return l[e]+=t,n.reshape(i)})}function S(t,e,r,n){void 0===e&&(e=0),void 0===r&&(r=!1),void 0===n&&(n=!1);var i=R.convertToTensor(t,"x","cumsum");e|=0;var a=z.getAxesPermutation([e],i.rank),o=i;null!=a&&(o=i.transpose(a));var s=z.getInnerMostAxes(1,i.rank)[0],l=function(t){return{permutedX:function(){return t.cumsum(e,r,!n)}}},u=M.ENV.engine.runKernel(function(t){return t.cumsum(o,s,r,n)},{permutedX:o},l);return null!=a&&(u=u.transpose(a)),u}function T(t,r){void 0===r&&(r=0);var n=R.convertToTensor(t,"x","expandDims");L.assert(r<=n.rank,"Axis must be <= rank of the tensor");var i=n.shape.slice();return r<0&&(L.assert(-(n.rank+1)<=r,"Axis must be in the interval ["+-(n.rank+1)+", "+n.rank+"]"),r=n.rank+r+1),i.splice(r,0,1),e.reshape(n,i)}function E(t,e,r){void 0===r&&(r="NHWC");var n=R.convertToTensor(t,"x","depthToSpace"),i="NHWC"===r?n.shape[1]:n.shape[2],a="NHWC"===r?n.shape[2]:n.shape[3],o="NHWC"===r?n.shape[3]:n.shape[1];return L.assert(i*e>=0,"Negative dimension size caused by overflow when multiplying\n      "+i+" and "+e+"  for depthToSpace with input shape\n      "+n.shape),L.assert(a*e>=0,"Negative dimension size caused by overflow when multiplying\n      "+a+" and "+e+" for depthToSpace with input shape\n          "+n.shape),L.assert(o%(e*e)===0,"Dimension size must be evenly divisible by "+e*e+" but is "+o+" for depthToSpace with input shape "+n.shape),M.ENV.engine.runKernel(function(t){return t.depthToSpace(n,e,r)},{$x:n})}function k(t,e,r){return void 0===e&&(e="float32"),new D.TensorBuffer(t,e,r)}function O(t,e){void 0===e&&(e=!1),console.log(t.toString(e))}var _=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))(function(i,a){function o(t){try{l(n.next(t))}catch(t){a(t)}}function s(t){try{l(n.throw(t))}catch(t){a(t)}}function l(t){t.done?i(t.value):new r(function(e){e(t.value)}).then(o,s)}l((n=n.apply(t,e||[])).next())})},P=this&&this.__generator||function(t,e){function r(t){return function(e){return n([t,e])}}function n(r){if(i)throw new TypeError("Generator is already executing.");for(;l;)try{if(i=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return l.label++,{value:r[1],done:!1};case 5:l.label++,a=r[1],r=[0];continue;case 7:r=l.ops.pop(),l.trys.pop();continue;default:if(o=l.trys,!(o=o.length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){l=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){l.label=r[1];break}if(6===r[0]&&l.label<o[1]){l.label=o[1],o=r;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(r);break}o[2]&&l.ops.pop(),l.trys.pop();continue}r=e.call(t,l)}catch(t){r=[6,t],a=0}finally{i=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}var i,a,o,s,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(e,"__esModule",{value:!0});var M=r(512),D=r(518),R=r(532),L=r(516),z=r(526),F=r(592),B=r(533),V=r(593),j=r(534);e.toPixels=g,e.buffer=k,e.print=O,e.batchToSpaceND=B.op({batchToSpaceND_:x}),e.cast=B.op({cast_:f}),e.clone=B.op({clone_:n}),e.cumsum=B.op({cumsum_:S}),e.depthToSpace=B.op({depthToSpace_:E}),e.expandDims=B.op({expandDims_:T}),e.eye=B.op({eye_:i}),e.fromPixels=B.op({fromPixels_:h}),e.multinomial=B.op({multinomial_:u}),e.oneHot=B.op({oneHot_:c}),e.pad=B.op({pad_:y}),e.pad1d=B.op({pad1d_:C}),e.pad2d=B.op({pad2d_:m}),e.pad3d=B.op({pad3d_:I}),e.pad4d=B.op({pad4d_:v}),e.rand=B.op({rand_:l}),e.randomNormal=B.op({randomNormal_:a}),e.randomUniform=B.op({randomUniform_:s}),e.reshape=B.op({reshape_:p}),e.spaceToBatchND=B.op({spaceToBatchND_:w}),e.squeeze=B.op({squeeze_:d}),e.stack=B.op({stack_:b}),e.tile=B.op({tile_:A}),e.truncatedNormal=B.op({truncatedNormal_:o}),e.unstack=B.op({unstack_:N})},function(t,e,r){"use strict";function n(t){return e.concat(t,0)}function i(t,r){return e.concat(t,r)}function a(t,r){return e.concat(t,r)}function o(t,r){return e.concat(t,r)}function s(t,r){void 0===r&&(r=0),h.assert(t.length>=1,"Pass at least one tensor to concat");var n=c.convertToTensorArray(t,"tensors","concat"),i=p.computeOutShape(n.map(function(t){return t.shape}),r);if(0===h.sizeFromShape(i))return f.tensor([],i);if(n=n.filter(function(t){return t.size>0}),1===n.length)return n[0];var a=g.parseAxisParam(r,n[0].shape)[0],o=n.map(function(t){return t.shape});p.assertParamsConsistent(o,a);var s=function(t){var n=o.map(function(t){return t[r]}),i=e.split(t,n,r);return i.map(function(t){return function(){return t}})},l=n;return u.ENV.engine.runKernel(function(t){return t.concat(n,a)},l,s)}function l(t,r,n){void 0===n&&(n=0);var i=c.convertToTensor(t,"x","split");n=g.parseAxisParam(n,i.shape)[0];var a;"number"==typeof r?(h.assert(i.shape[n]%r===0,"Number of splits must evenly divide the axis."),a=Array(r).fill(i.shape[n]/r)):(h.assert(i.shape[n]===r.reduce(function(t,e){return t+e}),"The sum of sizes must match the size of the axis dimension."),a=r);var o=function(t){return{$x:function(){return e.concat(t,n)}}};return u.ENV.engine.runKernel(function(t){return t.split(i,a,n)},{$x:i},o)}Object.defineProperty(e,"__esModule",{value:!0});var u=r(512),c=r(532),h=r(516),g=r(526),p=r(527),d=r(533),f=r(534);e.concat=d.op({concat_:s}),e.concat1d=d.op({concat1d_:n}),e.concat2d=d.op({concat2d_:i}),e.concat3d=d.op({concat3d_:a}),e.concat4d=d.op({concat4d_:o}),e.split=d.op({split_:l})},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(594),i=function(){function t(t,e,r,i,a){this.mean=t,this.stdDev=e,this.dtype=r,this.nextVal=NaN,this.truncated=i,this.truncated&&(this.upper=this.mean+2*this.stdDev,this.lower=this.mean-2*this.stdDev);var o=a?a:Math.random();this.random=n.alea(o.toString())}return t.prototype.nextValue=function(){if(!isNaN(this.nextVal)){var t=this.nextVal;return this.nextVal=NaN,t}for(var e,r,n=!1;!n;){var i=void 0,a=void 0,o=void 0;do i=2*this.random()-1,a=2*this.random()-1,o=i*i+a*a;while(o>=1||0===o);var s=Math.sqrt(-2*Math.log(o)/o);e=this.mean+this.stdDev*i*s,r=this.mean+this.stdDev*a*s,this.truncated&&!this.isValidTruncated(e)||(n=!0)}return this.truncated&&!this.isValidTruncated(r)||(this.nextVal=this.convertValue(r)),this.convertValue(e)},t.prototype.convertValue=function(t){return null==this.dtype||"float32"===this.dtype?t:Math.round(t)},t.prototype.isValidTruncated=function(t){return t<=this.upper&&t>=this.lower},t}();e.MPRandGauss=i},function(t,e,r){var n=r(595),i=r(599),a=r(600),o=r(601),s=r(602),l=r(603),u=r(604);u.alea=n,u.xor128=i,u.xorwow=a,u.xorshift7=o,u.xor4096=s,u.tychei=l,t.exports=u},function(t,e,r){var n;(function(t){!function(t,i,a){function o(t){var e=this,r=u();e.next=function(){var t=2091639*e.s0+2.3283064365386963e-10*e.c;return e.s0=e.s1,e.s1=e.s2,e.s2=t-(e.c=0|t)},e.c=1,e.s0=r(" "),e.s1=r(" "),e.s2=r(" "),e.s0-=r(t),e.s0<0&&(e.s0+=1),e.s1-=r(t),e.s1<0&&(e.s1+=1),e.s2-=r(t),e.s2<0&&(e.s2+=1),r=null}function s(t,e){return e.c=t.c,e.s0=t.s0,e.s1=t.s1,e.s2=t.s2,e}function l(t,e){var r=new o(t),n=e&&e.state,i=r.next;return i.int32=function(){return 4294967296*r.next()|0},i.double=function(){return i()+1.1102230246251565e-16*(2097152*i()|0)},i.quick=i,n&&("object"==typeof n&&s(n,r),i.state=function(){return s(r,{})}),i}function u(){var t=4022871197,e=function(e){e=e.toString();for(var r=0;r<e.length;r++){t+=e.charCodeAt(r);var n=.02519603282416938*t;t=n>>>0,n-=t,n*=t,t=n>>>0,n-=t,t+=4294967296*n}return 2.3283064365386963e-10*(t>>>0)};return e}i&&i.exports?i.exports=l:r(597)&&r(598)?(n=function(){return l}.call(e,r,e,i),!(void 0!==n&&(i.exports=n))):this.alea=l}(this,"object"==typeof t&&t,r(597))}).call(e,r(596)(t))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,e){t.exports=function(){throw new Error("define cannot be used indirect")}},function(t,e){(function(e){t.exports=e}).call(e,{})},function(t,e,r){var n;(function(t){!function(t,i,a){function o(t){var e=this,r="";e.x=0,e.y=0,e.z=0,e.w=0,e.next=function(){var t=e.x^e.x<<11;return e.x=e.y,e.y=e.z,e.z=e.w,e.w^=e.w>>>19^t^t>>>8},t===(0|t)?e.x=t:r+=t;for(var n=0;n<r.length+64;n++)e.x^=0|r.charCodeAt(n),e.next()}function s(t,e){return e.x=t.x,e.y=t.y,e.z=t.z,e.w=t.w,e}function l(t,e){var r=new o(t),n=e&&e.state,i=function(){return(r.next()>>>0)/4294967296};return i.double=function(){do var t=r.next()>>>11,e=(r.next()>>>0)/4294967296,n=(t+e)/(1<<21);while(0===n);return n},i.int32=r.next,i.quick=i,n&&("object"==typeof n&&s(n,r),i.state=function(){return s(r,{})}),i}i&&i.exports?i.exports=l:r(597)&&r(598)?(n=function(){return l}.call(e,r,e,i),!(void 0!==n&&(i.exports=n))):this.xor128=l}(this,"object"==typeof t&&t,r(597))}).call(e,r(596)(t))},function(t,e,r){var n;(function(t){!function(t,i,a){function o(t){var e=this,r="";e.next=function(){var t=e.x^e.x>>>2;return e.x=e.y,e.y=e.z,e.z=e.w,e.w=e.v,(e.d=e.d+362437|0)+(e.v=e.v^e.v<<4^(t^t<<1))|0},e.x=0,e.y=0,e.z=0,e.w=0,e.v=0,t===(0|t)?e.x=t:r+=t;for(var n=0;n<r.length+64;n++)e.x^=0|r.charCodeAt(n),n==r.length&&(e.d=e.x<<10^e.x>>>4),e.next()}function s(t,e){return e.x=t.x,e.y=t.y,e.z=t.z,e.w=t.w,e.v=t.v,e.d=t.d,e}function l(t,e){var r=new o(t),n=e&&e.state,i=function(){return(r.next()>>>0)/4294967296};return i.double=function(){do var t=r.next()>>>11,e=(r.next()>>>0)/4294967296,n=(t+e)/(1<<21);while(0===n);return n},i.int32=r.next,i.quick=i,n&&("object"==typeof n&&s(n,r),i.state=function(){return s(r,{})}),i}i&&i.exports?i.exports=l:r(597)&&r(598)?(n=function(){return l}.call(e,r,e,i),!(void 0!==n&&(i.exports=n))):this.xorwow=l}(this,"object"==typeof t&&t,r(597))}).call(e,r(596)(t))},function(t,e,r){var n;(function(t){!function(t,i,a){function o(t){function e(t,e){var r,n,i=[];if(e===(0|e))n=i[0]=e;else for(e=""+e,r=0;r<e.length;++r)i[7&r]=i[7&r]<<15^e.charCodeAt(r)+i[r+1&7]<<13;for(;i.length<8;)i.push(0);for(r=0;r<8&&0===i[r];++r);for(n=8==r?i[7]=-1:i[r],t.x=i,t.i=0,r=256;r>0;--r)t.next()}var r=this;r.next=function(){var t,e,n=r.x,i=r.i;return t=n[i],t^=t>>>7,e=t^t<<24,t=n[i+1&7],e^=t^t>>>10,t=n[i+3&7],e^=t^t>>>3,t=n[i+4&7],e^=t^t<<7,t=n[i+7&7],t^=t<<13,e^=t^t<<9,n[i]=e,r.i=i+1&7,e},e(r,t)}function s(t,e){return e.x=t.x.slice(),e.i=t.i,e}function l(t,e){null==t&&(t=+new Date);var r=new o(t),n=e&&e.state,i=function(){return(r.next()>>>0)/4294967296};return i.double=function(){do var t=r.next()>>>11,e=(r.next()>>>0)/4294967296,n=(t+e)/(1<<21);while(0===n);return n},i.int32=r.next,i.quick=i,n&&(n.x&&s(n,r),i.state=function(){return s(r,{})}),i}i&&i.exports?i.exports=l:r(597)&&r(598)?(n=function(){return l}.call(e,r,e,i),!(void 0!==n&&(i.exports=n))):this.xorshift7=l}(this,"object"==typeof t&&t,r(597))}).call(e,r(596)(t))},function(t,e,r){var n;(function(t){!function(t,i,a){function o(t){function e(t,e){var r,n,i,a,o,s=[],l=128;for(e===(0|e)?(n=e,e=null):(e+="\0",n=0,l=Math.max(l,e.length)),i=0,a=-32;a<l;++a)e&&(n^=e.charCodeAt((a+32)%e.length)),0===a&&(o=n),n^=n<<10,n^=n>>>15,n^=n<<4,n^=n>>>13,a>=0&&(o=o+1640531527|0,r=s[127&a]^=n+o,i=0==r?i+1:0);for(i>=128&&(s[127&(e&&e.length||0)]=-1),i=127,a=512;a>0;--a)n=s[i+34&127],r=s[i=i+1&127],n^=n<<13,r^=r<<17,n^=n>>>15,r^=r>>>12,s[i]=n^r;t.w=o,t.X=s,t.i=i}var r=this;r.next=function(){var t,e,n=r.w,i=r.X,a=r.i;return r.w=n=n+1640531527|0,e=i[a+34&127],t=i[a=a+1&127],e^=e<<13,t^=t<<17,e^=e>>>15,t^=t>>>12,e=i[a]=e^t,r.i=a,e+(n^n>>>16)|0},e(r,t)}function s(t,e){return e.i=t.i,e.w=t.w,e.X=t.X.slice(),e}function l(t,e){null==t&&(t=+new Date);var r=new o(t),n=e&&e.state,i=function(){return(r.next()>>>0)/4294967296};return i.double=function(){do var t=r.next()>>>11,e=(r.next()>>>0)/4294967296,n=(t+e)/(1<<21);while(0===n);return n},i.int32=r.next,i.quick=i,n&&(n.X&&s(n,r),i.state=function(){return s(r,{})}),i}i&&i.exports?i.exports=l:r(597)&&r(598)?(n=function(){return l}.call(e,r,e,i),!(void 0!==n&&(i.exports=n))):this.xor4096=l}(this,"object"==typeof t&&t,r(597))}).call(e,r(596)(t))},function(t,e,r){var n;(function(t){!function(t,i,a){function o(t){var e=this,r="";e.next=function(){var t=e.b,r=e.c,n=e.d,i=e.a;return t=t<<25^t>>>7^r,r=r-n|0,n=n<<24^n>>>8^i,i=i-t|0,e.b=t=t<<20^t>>>12^r,e.c=r=r-n|0,e.d=n<<16^r>>>16^i,e.a=i-t|0},e.a=0,e.b=0,e.c=-1640531527,e.d=1367130551,t===Math.floor(t)?(e.a=t/4294967296|0,e.b=0|t):r+=t;for(var n=0;n<r.length+20;n++)e.b^=0|r.charCodeAt(n),e.next()}function s(t,e){return e.a=t.a,e.b=t.b,e.c=t.c,e.d=t.d,e}function l(t,e){var r=new o(t),n=e&&e.state,i=function(){return(r.next()>>>0)/4294967296};return i.double=function(){do var t=r.next()>>>11,e=(r.next()>>>0)/4294967296,n=(t+e)/(1<<21);while(0===n);return n},i.int32=r.next,i.quick=i,n&&("object"==typeof n&&s(n,r),i.state=function(){return s(r,{})}),i}i&&i.exports?i.exports=l:r(597)&&r(598)?(n=function(){return l}.call(e,r,e,i),!(void 0!==n&&(i.exports=n))):this.tychei=l}(this,"object"==typeof t&&t,r(597))}).call(e,r(596)(t))},function(t,e,r){var n;!function(i,a){function o(t,e,r){var n=[];e=1==e?{entropy:!0}:e||{};var o=c(u(e.entropy?[t,g(i)]:null==t?h():t,3),n),p=new s(n),d=function(){for(var t=p.g(A),e=I,r=0;t<v;)t=(t+r)*f,e*=f,r=p.g(1);for(;t>=y;)t/=2,e/=2,r>>>=1;return(t+r)/e};return d.int32=function(){return 0|p.g(4)},d.quick=function(){return p.g(4)/4294967296},d.double=d,c(g(p.S),i),(e.pass||r||function(t,e,r,n){return n&&(n.S&&l(n,p),t.state=function(){return l(p,{})}),r?(a[m]=t,e):t})(d,o,"global"in e?e.global:this==a,e.state)}function s(t){var e,r=t.length,n=this,i=0,a=n.i=n.j=0,o=n.S=[];for(r||(t=[r++]);i<f;)o[i]=i++;for(i=0;i<f;i++)o[i]=o[a=b&a+t[i%r]+(e=o[i])],o[a]=e;(n.g=function(t){for(var e,r=0,i=n.i,a=n.j,o=n.S;t--;)e=o[i=b&i+1],r=r*f+o[b&(o[i]=o[a=b&a+e])+(o[a]=e)];return n.i=i,n.j=a,r})(f)}function l(t,e){return e.i=t.i,e.j=t.j,e.S=t.S.slice(),e}function u(t,e){var r,n=[],i=typeof t;if(e&&"object"==i)for(r in t)try{n.push(u(t[r],e-1))}catch(t){}return n.length?n:"string"==i?t:t+"\0"}function c(t,e){for(var r,n=t+"",i=0;i<n.length;)e[b&i]=b&(r^=19*e[b&i])+n.charCodeAt(i++);return g(e)}function h(){try{var t;return p&&(t=p.randomBytes)?t=t(f):(t=new Uint8Array(f),(d.crypto||d.msCrypto).getRandomValues(t)),g(t)}catch(t){var e=d.navigator,r=e&&e.plugins;return[+new Date,d,r,d.screen,g(i)]}}function g(t){return String.fromCharCode.apply(0,t)}var p,d=(0,eval)("this"),f=256,A=6,C=52,m="random",I=a.pow(f,A),v=a.pow(2,C),y=2*v,b=f-1;if(a["seed"+m]=o,c(a.random(),i),"object"==typeof t&&t.exports){t.exports=o;try{p=r(605)}catch(t){}}else n=function(){return o}.call(e,r,e,t),!(void 0!==n&&(t.exports=n))}([],Math)},function(t,e){},function(t,e,r){"use strict";var n=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))(function(i,a){function o(t){try{l(n.next(t))}catch(t){a(t)}}function s(t){try{l(n.throw(t))}catch(t){a(t)}}function l(t){t.done?i(t.value):new r(function(e){e(t.value)}).then(o,s)}l((n=n.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){function r(t){return function(e){return n([t,e])}}function n(r){if(i)throw new TypeError("Generator is already executing.");for(;l;)try{if(i=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return l.label++,{value:r[1],done:!1};case 5:l.label++,a=r[1],r=[0];continue;case 7:r=l.ops.pop(),l.trys.pop();continue;default:if(o=l.trys,!(o=o.length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){l=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){l.label=r[1];break}if(6===r[0]&&l.label<o[1]){l.label=o[1],o=r;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(r);break}o[2]&&l.ops.pop(),l.trys.pop();continue}r=e.call(t,l)}catch(t){r=[6,t],a=0}finally{i=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}var i,a,o,s,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(e,"__esModule",{value:!0});var a=r(594),o=r(512),s=r(524),l=r(525),u=r(526),c=r(545),h=r(527),g=r(588),p=r(607),d=r(607),f=r(589),A=r(530),C=r(518),m=r(536),I=r(516),v=r(516),y=r(537),b=r(538),x=r(539),w=r(540),N=r(541),S=r(590),T=function(){function t(){this.blockSize=48,this.data=new WeakMap,this.firstUse=!0,o.ENV.get("IS_BROWSER")&&(this.canvas=document.createElement("canvas"))}return t.prototype.register=function(t,e,r){if(this.firstUse&&(this.firstUse=!1,o.ENV.get("IS_NODE")&&s.warn("\n============================\nHi there . Looks like you are running TensorFlow.js in Node.js. To speed things up dramatically, install our node backend, which binds to TensorFlow C++, by running npm i @tensorflow/tfjs-node, or npm i @tensorflow/tfjs-node-gpu if you have CUDA. Then call require('@tensorflow/tfjs-node'); (-gpu suffix for CUDA) at the start of your program. Visit https://github.com/tensorflow/tfjs-node for more details.\n============================\n")),this.data.has(t))throw new Error("Data buffer is already registered");this.data.set(t,{dtype:r})},t.prototype.write=function(t,e){if(null==e)throw new Error("MathBackendCPU.write(): values can not be null");this.throwIfNoData(t),this.data.get(t).values=e},t.prototype.fromPixels=function(t,e){if(null==t)throw new Error("pixels passed to tf.fromPixels() can not be null");var r;if(o.ENV.get("IS_NODE")&&null==t.getContext)throw new Error("When running in node, pixels must be an HTMLCanvasElement like the one returned by the `canvas` npm package");if(null!=t.getContext)r=t.getContext("2d").getImageData(0,0,t.width,t.height).data;else if(t instanceof ImageData)r=t.data;else{if(!(t instanceof HTMLImageElement||t instanceof HTMLVideoElement))throw new Error("pixels passed to tf.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement or ImageData, but was "+t.constructor.name);if(null==this.canvas)throw new Error("Can't read pixels from HTMLImageElement outside the browser.");this.canvas.width=t.width,this.canvas.height=t.height,this.canvas.getContext("2d").drawImage(t,0,0,t.width,t.height),r=this.canvas.getContext("2d").getImageData(0,0,t.width,t.height).data}var n;if(4===e)n=new Int32Array(r);else{var i=t.width*t.height;n=new Int32Array(i*e);for(var a=0;a<i;a++)for(var s=0;s<e;++s)n[a*e+s]=r[4*a+s]}var l=[t.height,t.width,e];return d.tensor3d(n,l,"int32")},t.prototype.read=function(t){return n(this,void 0,void 0,function(){return i(this,function(e){return[2,this.readSync(t)]})})},t.prototype.readSync=function(t){this.throwIfNoData(t);var e=this.data.get(t),r=e.dtype,n=e.complexTensors;if("complex64"===r){var i=n.real.dataSync(),a=n.imag.dataSync();return b.mergeRealAndImagArrays(i,a)}return this.data.get(t).values},t.prototype.disposeData=function(t){if(this.data.has(t)){var e=this.data.get(t).complexTensors;null!=e&&(e.real.dispose(),e.imag.dispose()),this.data.delete(t)}},t.prototype.time=function(t){return n(this,void 0,void 0,function(){var e,r;return i(this,function(n){return e=v.now(),t(),r=v.now()-e,[2,{kernelMs:r}]})})},t.prototype.memory=function(){return{unreliable:!0}},t.prototype.throwIfNoData=function(t){if(!this.data.has(t))throw new Error("CPU backend: No data found for this tensor. Did you change your backend in the middle of the program? New backends can't use Tensors created with previous backends")},t.prototype.complex=function(t,e){var r=C.Tensor.make(t.shape,{},"complex64"),n=this.data.get(r.dataId);return n.complexTensors={real:o.ENV.engine.keep(t.clone()),imag:o.ENV.engine.keep(e.clone())},r},t.prototype.real=function(t){var e=this.data.get(t.dataId);return e.complexTensors.real.clone()},t.prototype.imag=function(t){var e=this.data.get(t.dataId);return e.complexTensors.imag.clone()},t.prototype.assertNotComplex=function(t,e){Array.isArray(t)||(t=[t]),t.forEach(function(t){null!=t&&I.assert("complex64"!==t.dtype,e+" does not support complex64 tensors.")})},t.prototype.slice=function(t,e,r){this.assertNotComplex(t,"slice");for(var n=p.buffer(r,t.dtype),i=0;i<n.size;++i){var a=n.indexToLoc(i),o=a.map(function(t,r){return t+e[r]});n.set.apply(n,[t.get.apply(t,o)].concat(a))}return n.toTensor()},t.prototype.stridedSlice=function(t,e,r,n,i,a,o,s,l){this.assertNotComplex(t,"stridedSlice");var u=A.getStridedSlicedInfo(t.shape,e,r,n,i,a,o,s,l),c=u[0],h=u[1],g=u[2],d=h.filter(function(t,e){return g.indexOf(e)===-1});if(d.some(function(t){return 0===t}))return p.tensor([],d);for(var f=p.buffer(h,t.dtype),C=0;C<f.size;C++){for(var m=f.indexToLoc(C),I=new Array(m.length),v=0;v<I.length;v++)I[v]=m[v]*n[v]+c[v];f.set.apply(f,[t.get.apply(t,I)].concat(m))}return f.toTensor().reshape(d)},t.prototype.reverse=function(t,e){this.assertNotComplex(t,"reverse");for(var r=p.buffer(t.shape,t.dtype),n=t.buffer(),i=function(i){var a=r.indexToLoc(i),o=a.slice();e.forEach(function(e){return o[e]=t.shape[e]-1-o[e]}),r.set.apply(r,[n.get.apply(n,o)].concat(a))},a=0;a<r.size;a++)i(a);return r.toTensor()},t.prototype.concat=function(t,e){this.assertNotComplex(t,"concat");var r=t.map(function(t){var r=I.sizeFromShape(t.shape.slice(e));return t.as2D(-1,r)}),n=h.computeOutShape(r.map(function(t){return t.shape}),1),i=p.buffer(n,t[0].dtype).values;if(1===r[0].shape[0]){var a=0;
r.forEach(function(t){i.set(t.dataSync(),a),a+=t.size})}else{var o=0;r.forEach(function(t){for(var e=t.dataSync(),r=0,a=0;a<t.shape[0];++a)for(var s=a*n[1]+o,l=0;l<t.shape[1];++l)i[s+l]=e[r++];o+=t.shape[1]})}var s=h.computeOutShape(t.map(function(t){return t.shape}),e);return d.tensor(i,s,t[0].dtype)},t.prototype.neg=function(t){return this.assertNotComplex(t,"neg"),this.multiply(p.scalar(-1),t)},t.prototype.add=function(t,e){return"complex64"===t.dtype||"complex64"===e.dtype?this.broadcastedBinaryComplexOp(t.cast("complex64"),e.cast("complex64"),function(t,e,r,n){return{real:t+r,imag:e+n}}):this.broadcastedBinaryOp(t,e,m.upcastType(t.dtype,e.dtype),function(t,e){return t+e})},t.prototype.addN=function(t){this.assertNotComplex(t,"addN");for(var e=t.map(function(t){return t.dataSync()}),r=p.buffer(t[0].shape,t[0].dtype),n=r.values,i=0;i<t.length;i++)for(var a=e[i],o=0;o<n.length;o++)n[o]+=a[o];return r.toTensor()},t.prototype.subtract=function(t,e){return"complex64"===t.dtype||"complex64"===e.dtype?this.broadcastedBinaryComplexOp(t.cast("complex64"),e.cast("complex64"),function(t,e,r,n){return{real:t-r,imag:e-n}}):this.broadcastedBinaryOp(t,e,m.upcastType(t.dtype,e.dtype),function(t,e){return t-e})},t.prototype.pow=function(t,e){return this.assertNotComplex([t,e],"pow"),this.broadcastedBinaryOp(t,e,t.dtype,function(t,e){return Math.pow(t,e)})},t.prototype.batchMatMul=function(t,e,r,n){this.assertNotComplex([t,e],"matMul");for(var i=r?t.shape[1]:t.shape[2],a=r?t.shape[2]:t.shape[1],o=n?e.shape[1]:e.shape[2],s=t.shape[0],l=t.dataSync(),u=e.dataSync(),c=r?[t.strides[0],1,t.strides[1]]:[t.strides[0],t.strides[1],1],h=c[0],g=c[1],d=c[2],f=n?[1,e.strides[1],e.strides[0]]:[e.strides[1],1,e.strides[0]],A=f[0],C=f[1],m=f[2],I=a*o,v=new Float32Array(s*I),y=this.blockSize,b=0;b<s;b++)for(var x=0;x<a;x+=y)for(var w=0;w<o;w+=y)for(var N=0;N<i;N+=y)for(var S=Math.min(x+y,a),T=Math.min(w+y,o),E=Math.min(N+y,i),k=x;k<S;k++)for(var O=w;O<T;O++){for(var _=0,P=N;P<E;P++)_+=l[b*h+k*g+P*d]*u[P*A+O*C+b*m];v[b*I+(k*o+O)]+=_}return p.tensor3d(v,[s,a,o])},t.prototype.multiply=function(t,e){return"complex64"===t.dtype||"complex64"===e.dtype?this.broadcastedBinaryComplexOp(t.cast("complex64"),e.cast("complex64"),function(t,e,r,n){return{real:t*r-e*n,imag:t*n+e*r}}):this.broadcastedBinaryOp(t,e,m.upcastType(t.dtype,e.dtype),function(t,e){return t*e})},t.prototype.realDivide=function(t,e){this.assertNotComplex([t,e],"realDivide");var r=function(t,e){return t/e},n="float32";return this.broadcastedBinaryOp(t,e,n,r)},t.prototype.floorDiv=function(t,e){this.assertNotComplex([t,e],"floorDiv");var r=function(t,e){return Math.floor(t/e)},n="int32";return this.broadcastedBinaryOp(t,e,n,r)},t.prototype.sum=function(t,e){this.assertNotComplex(t,"sum"),u.assertAxesAreInnerMostDims("sum",e,t.rank);for(var r=u.computeOutAndReduceShapes(t.shape,e),n=r[0],i=r[1],a=m.upcastType(t.dtype,"int32"),o=p.zeros(n,a),s=I.sizeFromShape(i),l=o.dataSync(),c=t.dataSync(),h=0;h<l.length;++h){for(var g=h*s,d=0,f=0;f<s;++f)d+=c[g+f];l[h]=d}return o},t.prototype.unsortedSegmentSum=function(t,e,r){this.assertNotComplex(t,"unsortedSegmentSum");for(var n=[],i=t.rank-e.rank,a=0;a<i;++a)e=e.expandDims(a+1);for(var a=0;a<r;++a){var o=p.scalar(a,"int32"),s=p.equal(o,e).asType("float32"),l=s.mul(t).sum(0);n.push(l)}return p.stack(n)},t.prototype.argMin=function(t,e){this.assertNotComplex(t,"argMin");var r=[e];u.assertAxesAreInnerMostDims("argMin",r,t.rank);for(var n=u.computeOutAndReduceShapes(t.shape,r),i=n[0],a=n[1],o=p.zeros(i,"int32"),s=I.sizeFromShape(a),l=o.dataSync(),c=t.dataSync(),h=0;h<l.length;++h){for(var g=h*s,d=c[g],f=0,A=0;A<s;++A){var C=c[g+A];C<d&&(d=C,f=A)}l[h]=f}return o},t.prototype.argMax=function(t,e){this.assertNotComplex(t,"argMax");var r=[e];u.assertAxesAreInnerMostDims("argMax",r,t.rank);for(var n=u.computeOutAndReduceShapes(t.shape,r),i=n[0],a=n[1],o=p.zeros(i,"int32"),s=I.sizeFromShape(a),l=o.dataSync(),c=t.dataSync(),h=0;h<l.length;++h){for(var g=h*s,d=c[g],f=0,A=0;A<s;++A){var C=c[g+A];C>d&&(d=C,f=A)}l[h]=f}return o},t.prototype.cumsum=function(t,e,r,n){if(this.assertNotComplex(t,"cumsum"),e!==t.rank-1)throw new Error("backend.cumsum in CPU expects an inner-most axis="+(t.rank-1)+" but got axis="+e);for(var i=m.upcastType(t.dtype,"int32"),a=p.zeros(t.shape,i),o=a.dataSync(),s=t.dataSync(),l=t.shape[t.rank-1],u=n?function(t,e){return t+l-e-1}:function(t,e){return t+e},c=0;c<s.length;c+=l)for(var h=0;h<l;h++){var g=u(c,h);if(0===h)o[g]=r?0:s[g];else{var d=u(c,h-1);o[g]=r?s[d]+o[d]:s[g]+o[d]}}return a},t.prototype.equal=function(t,e){return this.assertNotComplex([t,e],"equal"),this.broadcastedBinaryOp(t,e,"bool",function(t,e){return t===e?1:0})},t.prototype.notEqual=function(t,e){return this.assertNotComplex([t,e],"notEqual"),this.broadcastedBinaryOp(t,e,"bool",function(t,e){return t!==e?1:0})},t.prototype.less=function(t,e){return this.assertNotComplex([t,e],"less"),this.broadcastedBinaryOp(t,e,"bool",function(t,e){return t<e?1:0})},t.prototype.lessEqual=function(t,e){return this.assertNotComplex([t,e],"lessEqual"),this.broadcastedBinaryOp(t,e,"bool",function(t,e){return t<=e?1:0})},t.prototype.greater=function(t,e){return this.assertNotComplex([t,e],"greater"),this.broadcastedBinaryOp(t,e,"bool",function(t,e){return t>e?1:0})},t.prototype.greaterEqual=function(t,e){return this.assertNotComplex([t,e],"greaterEqual"),this.broadcastedBinaryOp(t,e,"bool",function(t,e){return t>=e?1:0})},t.prototype.logicalNot=function(t){this.assertNotComplex(t,"logicalNot");for(var e=t.dataSync(),r=new Int32Array(e.length),n=0;n<e.length;++n)r[n]=e[n]?0:1;return C.Tensor.make(t.shape,{values:r},"bool")},t.prototype.logicalAnd=function(t,e){return this.assertNotComplex([t,e],"logicalAnd"),this.broadcastedBinaryOp(t,e,"bool",function(t,e){return t&&e})},t.prototype.logicalOr=function(t,e){return this.assertNotComplex([t,e],"logicalOr"),this.broadcastedBinaryOp(t,e,"bool",function(t,e){return t||e})},t.prototype.select=function(t,e,r){this.assertNotComplex([t,e,r],"select");for(var n=t.dataSync(),i=e.dataSync(),a=r.dataSync(),o=p.zeros(e.shape,m.upcastType(e.dtype,r.dtype)),s=o.dataSync(),l=0,u=0===t.rank||t.rank>1||1===e.rank?1:e.shape[1],c=0;c<n.length;c++)for(var h=0;h<u;h++)1===n[c]?s[l++]=i[c]:s[l++]=a[c];return o},t.prototype.where=function(t){this.assertNotComplex([t],"where");var e=t.dataSync();return S.whereImpl(t.shape,e)},t.prototype.topk=function(t,e,r){this.assertNotComplex(t,"topk");var n=t.dataSync();return N.topkImpl(n,t.shape,t.dtype,e,r)},t.prototype.min=function(t,e){this.assertNotComplex(t,"min"),u.assertAxesAreInnerMostDims("min",e,t.rank);for(var r=u.computeOutAndReduceShapes(t.shape,e),n=r[0],i=r[1],a=p.zeros(n,t.dtype),o=I.sizeFromShape(i),s=a.dataSync(),l=t.dataSync(),c=0;c<s.length;++c){for(var h=c*o,g=l[h],d=0;d<o;++d){var f=l[h+d];f<g&&(g=f)}s[c]=g}return a},t.prototype.minimum=function(t,e){return this.assertNotComplex([t,e],"minimum"),this.broadcastedBinaryOp(t,e,t.dtype,function(t,e){return Math.min(t,e)})},t.prototype.mod=function(t,e){return this.assertNotComplex([t,e],"mod"),this.broadcastedBinaryOp(t,e,t.dtype,function(t,e){var r=t%e;return t<0&&e<0||t>=0&&e>=0?r:(r+e)%e})},t.prototype.max=function(t,e){this.assertNotComplex(t,"max"),u.assertAxesAreInnerMostDims("max",e,t.rank);for(var r=u.computeOutAndReduceShapes(t.shape,e),n=r[0],i=r[1],a=p.zeros(n,t.dtype),o=I.sizeFromShape(i),s=a.dataSync(),l=t.dataSync(),c=0;c<s.length;++c){for(var h=c*o,g=l[h],d=0;d<o;++d){var f=l[h+d];f>g&&(g=f)}s[c]=g}return a},t.prototype.maximum=function(t,e){return this.assertNotComplex([t,e],"maximum"),this.broadcastedBinaryOp(t,e,t.dtype,function(t,e){return Math.max(t,e)})},t.prototype.all=function(t,e){this.assertNotComplex(t,"all"),u.assertAxesAreInnerMostDims("all",e,t.rank);for(var r=u.computeOutAndReduceShapes(t.shape,e),n=r[0],i=r[1],a=p.zeros(n,t.dtype),o=I.sizeFromShape(i),s=a.dataSync(),l=t.dataSync(),c=0;c<s.length;++c){for(var h=c*o,g=l[h],d=0;d<o;++d){var f=l[h+d];g=g&&f}s[c]=g}return a},t.prototype.any=function(t,e){this.assertNotComplex(t,"any"),u.assertAxesAreInnerMostDims("any",e,t.rank);for(var r=u.computeOutAndReduceShapes(t.shape,e),n=r[0],i=r[1],a=p.zeros(n,t.dtype),o=I.sizeFromShape(i),s=a.dataSync(),l=t.dataSync(),c=0;c<s.length;++c){for(var h=c*o,g=l[h],d=0;d<o;++d){var f=l[h+d];g=g||f}s[c]=g}return a},t.prototype.squaredDifference=function(t,e){return this.assertNotComplex([t,e],"squaredDifference"),this.broadcastedBinaryOp(t,e,t.dtype,function(t,e){var r=t-e;return r*r})},t.prototype.ceil=function(t){this.assertNotComplex(t,"ceil");for(var e=t.dataSync(),r=new Float32Array(e.length),n=0;n<e.length;++n)r[n]=Math.ceil(e[n]);return C.Tensor.make(t.shape,{values:r})},t.prototype.floor=function(t){this.assertNotComplex(t,"floor");for(var e=t.dataSync(),r=new Float32Array(e.length),n=0;n<e.length;++n)r[n]=Math.floor(e[n]);return C.Tensor.make(t.shape,{values:r})},t.prototype.sign=function(t){this.assertNotComplex(t,"x");for(var e=t.dataSync(),r=new Float32Array(e.length),n=0;n<e.length;++n)e[n]<0?r[n]=-1:e[n]>0?r[n]=1:r[n]=0;return C.Tensor.make(t.shape,{values:r})},t.prototype.round=function(t){this.assertNotComplex(t,"round");for(var e=t.dataSync(),r=new Float32Array(e.length),n=0;n<e.length;++n){var i=Math.floor(e[n]);e[n]-i<.5?r[n]=Math.floor(e[n]):e[n]-i>.5?r[n]=Math.ceil(e[n]):i%2===0?r[n]=i:r[n]=i+1}return C.Tensor.make(t.shape,{values:r})},t.prototype.exp=function(t){this.assertNotComplex(t,"exp");for(var e=t.dataSync(),r=new Float32Array(e.length),n=0;n<e.length;++n)r[n]=Math.exp(e[n]);return C.Tensor.make(t.shape,{values:r})},t.prototype.expm1=function(t){this.assertNotComplex(t,"expm1");for(var e=t.dataSync(),r=new Float32Array(e.length),n=0;n<e.length;++n)r[n]=Math.expm1(e[n]);return C.Tensor.make(t.shape,{values:r})},t.prototype.log=function(t){this.assertNotComplex(t,"log");for(var e=t.dataSync(),r=new Float32Array(e.length),n=0;n<e.length;++n){var i=e[n];r[n]=Math.log(i)}return C.Tensor.make(t.shape,{values:r})},t.prototype.log1p=function(t){this.assertNotComplex(t,"log1p");for(var e=t.dataSync(),r=new Float32Array(e.length),n=0;n<e.length;++n){var i=e[n];r[n]=Math.log1p(i)}return C.Tensor.make(t.shape,{values:r})},t.prototype.sqrt=function(t){this.assertNotComplex(t,"sqrt");for(var e=t.dataSync(),r=new Float32Array(e.length),n=0;n<e.length;++n){var i=e[n];r[n]=Math.sqrt(i)}return C.Tensor.make(t.shape,{values:r})},t.prototype.rsqrt=function(t){this.assertNotComplex(t,"rsqrt");for(var e=t.dataSync(),r=new Float32Array(e.length),n=0;n<e.length;++n){var i=e[n];r[n]=1/Math.sqrt(i)}return C.Tensor.make(t.shape,{values:r})},t.prototype.square=function(t){this.assertNotComplex(t,"square");for(var e=t.dataSync(),r=new Float32Array(e.length),n=0;n<e.length;++n){var i=e[n];r[n]=i*i}return C.Tensor.make(t.shape,{values:r})},t.prototype.reciprocal=function(t){this.assertNotComplex(t,"reciprocal");for(var e=t.dataSync(),r=new Float32Array(e.length),n=0;n<e.length;++n)r[n]=1/e[n];return C.Tensor.make(t.shape,{values:r})},t.prototype.relu=function(t){this.assertNotComplex(t,"relu");for(var e=p.zeros(t.shape,t.dtype),r=e.dataSync(),n=t.dataSync(),i=0;i<n.length;++i)r[i]=Math.max(0,n[i]);return e},t.prototype.elu=function(t){this.assertNotComplex(t,"elu");for(var e=new Float32Array(t.size),r=t.dataSync(),n=0;n<r.length;++n){var i=r[n];i>=0?e[n]=i:e[n]=Math.exp(i)-1}return C.Tensor.make(t.shape,{values:e})},t.prototype.eluDer=function(t,e){this.assertNotComplex([t,e],"eluDer");for(var r=new Float32Array(e.size),n=e.dataSync(),i=t.dataSync(),a=0;a<n.length;++a){var o=n[a];o>=1?r[a]=i[a]:r[a]=i[a]*(o+1)}return C.Tensor.make(e.shape,{values:r})},t.prototype.selu=function(t){this.assertNotComplex(t,"selu");for(var e=f.SELU_SCALEALPHA,r=f.SELU_SCALE,n=new Float32Array(t.size),i=t.dataSync(),a=0;a<i.length;++a){var o=i[a];o>=0?n[a]=r*o:n[a]=e*(Math.exp(o)-1)}return C.Tensor.make(t.shape,{values:n})},t.prototype.clip=function(t,e,r){this.assertNotComplex(t,"clip");for(var n=new Float32Array(t.size),i=t.dataSync(),a=0;a<i.length;++a){var o=i[a];n[a]=o>r?r:o<e?e:o}return C.Tensor.make(t.shape,{values:n})},t.prototype.abs=function(t){this.assertNotComplex(t,"abs");for(var e=new Float32Array(t.size),r=t.dataSync(),n=0;n<r.length;++n)e[n]=Math.abs(r[n]);return C.Tensor.make(t.shape,{values:e})},t.prototype.int=function(t){this.assertNotComplex(t,"int");for(var e=new Int32Array(t.size),r=t.dataSync(),n=0;n<r.length;++n)e[n]=r[n];return C.Tensor.make(t.shape,{values:e},"int32")},t.prototype.sigmoid=function(t){this.assertNotComplex(t,"sigmoid");for(var e=new Float32Array(t.size),r=t.dataSync(),n=0;n<r.length;++n)e[n]=1/(1+Math.exp(-r[n]));return C.Tensor.make(t.shape,{values:e})},t.prototype.softplus=function(t){this.assertNotComplex(t,"softplus");for(var e=1.1920928955078125e-7,r=Math.log(e)+2,n=new Float32Array(t.size),i=t.dataSync(),a=0;a<i.length;++a){var o=i[a]>-r,s=i[a]<r,l=Math.exp(i[a]),u=void 0;u=s?l:o?i[a]:Math.log(1+l),n[a]=u}return C.Tensor.make(t.shape,{values:n})},t.prototype.sin=function(t){this.assertNotComplex(t,"sin");for(var e=new Float32Array(t.size),r=t.dataSync(),n=0;n<r.length;++n)e[n]=Math.sin(r[n]);return C.Tensor.make(t.shape,{values:e})},t.prototype.cos=function(t){this.assertNotComplex(t,"cos");for(var e=new Float32Array(t.size),r=t.dataSync(),n=0;n<r.length;++n)e[n]=Math.cos(r[n]);return C.Tensor.make(t.shape,{values:e})},t.prototype.tan=function(t){this.assertNotComplex(t,"tan");for(var e=new Float32Array(t.size),r=t.dataSync(),n=0;n<r.length;++n)e[n]=Math.tan(r[n]);return C.Tensor.make(t.shape,{values:e})},t.prototype.asin=function(t){this.assertNotComplex(t,"asin");for(var e=new Float32Array(t.size),r=t.dataSync(),n=0;n<r.length;++n)e[n]=Math.asin(r[n]);return C.Tensor.make(t.shape,{values:e})},t.prototype.acos=function(t){this.assertNotComplex(t,"acos");for(var e=new Float32Array(t.size),r=t.dataSync(),n=0;n<r.length;++n)e[n]=Math.acos(r[n]);return C.Tensor.make(t.shape,{values:e})},t.prototype.atan=function(t){this.assertNotComplex(t,"atan");for(var e=new Float32Array(t.size),r=t.dataSync(),n=0;n<r.length;++n)e[n]=Math.atan(r[n]);return C.Tensor.make(t.shape,{values:e})},t.prototype.atan2=function(t,e){return this.assertNotComplex([t,e],"atan2"),this.broadcastedBinaryOp(t,e,t.dtype,function(t,e){return Math.atan2(t,e)})},t.prototype.sinh=function(t){this.assertNotComplex(t,"sinh");for(var e=new Float32Array(t.size),r=t.dataSync(),n=0;n<r.length;++n)e[n]=Math.sinh(r[n]);return C.Tensor.make(t.shape,{values:e})},t.prototype.cosh=function(t){this.assertNotComplex(t,"cosh");for(var e=new Float32Array(t.size),r=t.dataSync(),n=0;n<r.length;++n)e[n]=Math.cosh(r[n]);return C.Tensor.make(t.shape,{values:e})},t.prototype.tanh=function(t){this.assertNotComplex(t,"tanh");for(var e=new Float32Array(t.size),r=t.dataSync(),n=0;n<r.length;++n)e[n]=I.tanh(r[n]);return C.Tensor.make(t.shape,{values:e})},t.prototype.asinh=function(t){this.assertNotComplex(t,"asinh");for(var e=new Float32Array(t.size),r=t.dataSync(),n=0;n<r.length;++n)e[n]=Math.asinh(r[n]);return C.Tensor.make(t.shape,{values:e})},t.prototype.acosh=function(t){this.assertNotComplex(t,"acosh");for(var e=new Float32Array(t.size),r=t.dataSync(),n=0;n<r.length;++n)e[n]=Math.acosh(r[n]);return C.Tensor.make(t.shape,{values:e})},t.prototype.atanh=function(t){this.assertNotComplex(t,"atanh");for(var e=new Float32Array(t.size),r=t.dataSync(),n=0;n<r.length;++n)e[n]=Math.atanh(r[n]);return C.Tensor.make(t.shape,{values:e})},t.prototype.erf=function(t){this.assertNotComplex(t,"erf");for(var e=new Float32Array(t.size),r=t.dataSync(),n=g.ERF_P,i=g.ERF_A1,a=g.ERF_A2,o=g.ERF_A3,s=g.ERF_A4,l=g.ERF_A5,u=0;u<r.length;++u){var c=r[u],h=1/(1+n*c);e[u]=1-((((l*h+s)*h+o)*h+a)*h+i)*h*Math.exp(-c*c)}return C.Tensor.make(t.shape,{values:e})},t.prototype.step=function(t,e){void 0===e&&(e=0),this.assertNotComplex(t,"step");for(var r=new Float32Array(t.size),n=t.dataSync(),i=0;i<n.length;++i){var a=n[i];isNaN(a)?r[i]=NaN:r[i]=a>0?1:e}return C.Tensor.make(t.shape,{values:r})},t.prototype.conv2d=function(t,e,r){this.assertNotComplex([t,e],"conv2d");for(var n=r.filterHeight,i=r.filterWidth,a=r.dilationHeight,o=r.dilationWidth,s=r.padInfo.left,l=r.padInfo.top,u=p.buffer(r.outShape,t.dtype),c=t.dataSync(),h=e.dataSync(),g=u.values,d=0;d<r.batchSize;++d)for(var f=d*t.strides[0],A=d*u.strides[0],C=0;C<r.outHeight;++C)for(var m=A+C*u.strides[1],I=C*r.strideHeight-s,v=0;v<n;v++){var y=I+v*a;if(!(y<0||y>=r.inHeight))for(var b=v*e.strides[0],x=f+y*t.strides[1],w=0;w<r.outWidth;++w)for(var N=m+w*r.outChannels,S=w*r.strideWidth-l,T=0;T<i;T++){var E=S+T*o;if(!(E<0||E>=r.inWidth))for(var k=b+T*e.strides[1],O=x+E*r.inChannels,_=k,P=0;P<r.inChannels;++P){for(var M=c[O+P],D=0;D<r.outChannels;++D)g[N+D]+=M*h[_+D];_+=r.outChannels}}}return u.toTensor()},t.prototype.conv2dDerInput=function(t,e,r){this.assertNotComplex([t,e],"conv2dDerInput");for(var n=p.buffer(r.inShape,"float32"),i=n.values,a=n.strides,o=a[0],s=a[1],l=a[2],u=t.dataSync(),c=t.strides,h=c[0],g=c[1],d=c[2],f=e.dataSync(),A=e.strides,C=A[0],m=A[1],I=A[2],v=r.batchSize,y=r.filterHeight,b=r.filterWidth,x=r.inChannels,w=r.inHeight,N=r.inWidth,S=r.outChannels,T=r.outHeight,E=r.outWidth,k=r.strideHeight,O=r.strideWidth,_=y-1-r.padInfo.top,P=b-1-r.padInfo.left,M=0;M<v;++M)for(var D=0;D<x;++D)for(var R=0;R<w;++R)for(var L=R-_,z=Math.max(0,Math.ceil(L/k)),F=Math.min(T,(y+L)/k),B=0;B<N;++B){for(var V=B-P,j=Math.max(0,Math.ceil(V/O)),W=Math.min(E,(b+V)/O),G=0,U=z;U<F;++U)for(var H=U*k-L,Y=j;Y<W;++Y)for(var Z=Y*O-V,X=h*M+g*U+d*Y,q=C*(y-1-H)+m*(b-1-Z)+I*D,K=0;K<S;++K){var J=u[X+K],Q=f[q+K];G+=J*Q}i[o*M+s*R+l*B+D]=G}return n.toTensor()},t.prototype.conv2dDerFilter=function(t,e,r){this.assertNotComplex([t,e],"conv2dDerFilter");for(var n=r.strideHeight,i=r.strideWidth,a=r.filterHeight,o=r.filterWidth,s=p.buffer(r.filterShape,"float32"),l=r.padInfo.left,u=r.padInfo.top,c=0;c<a;++c)for(var h=Math.max(0,Math.ceil((u-c)/n)),g=Math.min(r.outHeight,(r.inHeight+u-c)/n),d=0;d<o;++d)for(var f=Math.max(0,Math.ceil((l-d)/i)),A=Math.min(r.outWidth,(r.inWidth+l-d)/i),C=0;C<r.inChannels;++C)for(var m=0;m<r.outChannels;++m){for(var I=0,v=0;v<r.batchSize;++v)for(var y=h;y<g;++y)for(var b=c+y*n-u,x=f;x<A;++x){var w=d+x*i-l;I+=t.get(v,b,w,C)*e.get(v,y,x,m)}s.set(I,c,d,C,m)}return s.toTensor()},t.prototype.depthwiseConv2D=function(t,e,r){this.assertNotComplex([t,e],"depthwiseConv2D");for(var n=r.filterHeight,i=r.filterWidth,a=r.dilationHeight,o=r.dilationWidth,s=r.padInfo.left,l=r.padInfo.top,u=r.outChannels/r.inChannels,c=p.buffer(r.outShape,t.dtype),h=t.dataSync(),g=e.dataSync(),d=c.values,f=0;f<r.batchSize;++f)for(var A=f*t.strides[0],C=f*c.strides[0],m=0;m<r.outHeight;++m)for(var I=C+m*c.strides[1],v=m*r.strideHeight-s,y=0;y<n;++y){var b=v+y*a;if(!(b<0||b>=r.inHeight))for(var x=y*e.strides[0],w=A+b*t.strides[1],N=0;N<r.outWidth;++N)for(var S=I+N*c.strides[2],T=N*r.strideWidth-l,E=0;E<i;++E){var k=T+E*o;if(!(k<0||k>=r.inWidth))for(var O=x+E*e.strides[1],_=w+k*r.inChannels,P=S,M=O,D=0;D<r.inChannels;++D){for(var R=h[_+D],L=0;L<u;++L)d[P+L]+=R*g[M+L];P+=u,M+=u}}}return c.toTensor()},t.prototype.depthwiseConv2DDerInput=function(t,e,r){this.assertNotComplex([t,e],"depthwiseConv2DDerInput");for(var n=p.buffer(r.inShape,"float32"),i=n.values,a=n.strides,o=a[0],s=a[1],l=a[2],u=t.dataSync(),c=t.strides,h=c[0],g=c[1],d=c[2],f=e.dataSync(),A=e.strides,C=A[0],m=A[1],I=A[2],v=r.batchSize,y=r.filterHeight,b=r.filterWidth,x=r.inChannels,w=r.inHeight,N=r.inWidth,S=r.outChannels,T=r.outHeight,E=r.outWidth,k=r.strideHeight,O=r.strideWidth,_=y-1-r.padInfo.top,P=b-1-r.padInfo.left,M=S/x,D=0;D<v;++D)for(var R=0;R<x;++R)for(var L=0;L<w;++L)for(var z=L-_,F=Math.max(0,Math.ceil(z/k)),B=Math.min(T,(y+z)/k),V=0;V<N;++V){for(var j=V-P,W=Math.max(0,Math.ceil(j/O)),G=Math.min(E,(b+j)/O),U=0,H=F;H<B;++H)for(var Y=H*k-z,Z=W;Z<G;++Z)for(var X=Z*O-j,q=h*D+g*H+d*Z,K=C*(y-1-Y)+m*(b-1-X)+I*R,J=0;J<M;++J){var Q=R*M+J,$=u[q+Q],tt=f[K+J];U+=$*tt}i[o*D+s*L+l*V+R]=U}return n.toTensor()},t.prototype.depthwiseConv2DDerFilter=function(t,e,r){this.assertNotComplex([t,e],"depthwiseConv2DDerFilter");for(var n=r.strideHeight,i=r.strideWidth,a=r.filterHeight,o=r.filterWidth,s=p.buffer(r.filterShape,"float32"),l=r.padInfo.left,u=r.padInfo.top,c=r.outChannels/r.inChannels,h=0;h<a;++h)for(var g=Math.max(0,Math.ceil((u-h)/n)),d=Math.min(r.outHeight,(r.inHeight+u-h)/n),f=0;f<o;++f)for(var A=Math.max(0,Math.ceil((l-f)/i)),C=Math.min(r.outWidth,(r.inWidth+l-f)/i),m=0;m<r.outChannels;++m){for(var I=Math.trunc(m/c),v=m%c,y=0,b=0;b<r.batchSize;++b)for(var x=g;x<d;++x)for(var w=h+x*n-u,N=A;N<C;++N){var S=f+N*i-l;y+=t.get(b,w,S,I)*e.get(b,x,N,m)}s.set(y,h,f,I,v)}return s.toTensor()},t.prototype.tile=function(t,e){this.assertNotComplex(t,"tile");for(var r=new Array(t.rank),n=0;n<r.length;n++)r[n]=t.shape[n]*e[n];for(var i=p.buffer(r,t.dtype),a=t.buffer(),n=0;n<i.values.length;++n){for(var o=i.indexToLoc(n),s=new Array(t.rank),l=0;l<s.length;l++)s[l]=o[l]%t.shape[l];var u=a.locToIndex(s);i.values[n]=a.values[u]}return i.toTensor()},t.prototype.pad=function(t,e,r){this.assertNotComplex(t,"pad");var n=e.map(function(e,r){return e[0]+t.shape[r]+e[1]}),i=e.map(function(t){return t[0]}),a=t.buffer(),o=p.buffer(n,t.dtype);0!==r&&o.values.fill(r);for(var s=0;s<t.size;s++){var l=a.indexToLoc(s),u=l.map(function(t,e){return t+i[e]});o.set.apply(o,[t.get.apply(t,l)].concat(u))}return o.toTensor()},t.prototype.transpose=function(t,e){this.assertNotComplex(t,"transpose");for(var r=new Array(t.rank),n=0;n<r.length;n++)r[n]=t.shape[e[n]];for(var i=t.dataSync(),a=d.buffer(r,t.dtype),o=t.buffer(),n=0;n<t.size;++n){for(var s=o.indexToLoc(n),l=new Array(s.length),u=0;u<l.length;u++)l[u]=s[e[u]];var c=a.locToIndex(l);a.values[c]=i[n]}return a.toTensor()},t.prototype.gather=function(t,e,r){this.assertNotComplex([t,e],"gather");var n=t.shape.slice(),i=e.dataSync();n[r]=i.length;for(var a=d.buffer(n,t.dtype),o=t.buffer(),s=0;s<a.size;++s){var l=a.indexToLoc(s),u=l.slice();u[r]=i[l[r]];var c=o.locToIndex(u);a.values[s]=o.values[c]}return a.toTensor()},t.prototype.batchToSpaceND=function(t,e,r){this.assertNotComplex([t],"batchToSpaceND");var n=e.reduce(function(t,e){return t*e}),i=l.getReshaped(t.shape,e,n),a=l.getPermuted(i.length,e.length),o=l.getReshapedPermuted(t.shape,e,n),s=l.getSliceBeginCoords(r,e.length),u=l.getSliceSize(o,r,e.length);return t.reshape(i).transpose(a).reshape(o).slice(s,u)},t.prototype.spaceToBatchND=function(t,e,r){this.assertNotComplex([t],"spaceToBatchND");var n=e.reduce(function(t,e){return t*e}),i=[[0,0]];i.push.apply(i,r);for(var a=1+e.length;a<t.shape.length;++a)i.push([0,0]);var o=t.pad(i),s=l.getReshaped(o.shape,e,n,!1),u=l.getPermuted(s.length,e.length,!1),c=l.getReshapedPermuted(o.shape,e,n,!1);return o.reshape(s).transpose(u).reshape(c)},t.prototype.pool=function(t,e,r){this.assertNotComplex(t,"pool");for(var n=e.strideHeight,i=e.strideWidth,a=e.filterHeight,o=e.filterWidth,s=p.buffer(e.outShape,"float32"),l=e.padInfo.top,u=e.padInfo.left,c="max"===r?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,h=0;h<e.batchSize;++h)for(var g=0;g<e.inChannels;++g)for(var d=0;d<e.outHeight;++d)for(var f=d*n-l,A=Math.max(0,f),C=Math.min(e.inHeight,a+f),m=0;m<e.outWidth;++m){for(var I=m*i-u,v=Math.max(0,I),y=Math.min(e.inWidth,o+I),b=c,x=0,w=0,N=A;N<C;++N){for(var S=v;S<y;++S){var T=t.get(h,N,S,g);"max"===r&&T>b?b=T:"avg"===r&&(x+=T,w++)}if(isNaN(b))break}s.set("avg"===r?x/w:b,h,d,m,g)}return s.toTensor()},t.prototype.maxPool=function(t,e){return this.pool(t,e,"max")},t.prototype.maxPoolPositions=function(t,e){for(var r=p.buffer(e.outShape,"int32"),n=e.strideHeight,i=e.strideWidth,a=e.filterHeight,o=e.filterWidth,s=e.padInfo.top,l=e.padInfo.left,u=0;u<e.batchSize;++u)for(var c=0;c<e.inChannels;++c)for(var h=0;h<e.outHeight;++h)for(var g=h*n-s,d=Math.max(0,g),f=Math.min(e.inHeight,a+g),A=0;A<e.outWidth;++A){for(var C=A*i-l,m=Math.max(0,C),I=Math.min(e.inWidth,o+C),v=Number.NEGATIVE_INFINITY,y=-1,b=d;b<f;++b)for(var x=b-g,w=m;w<I;++w){var N=w-C,S=t.get(u,b,w,c);S>v&&(v=S,y=x*o+N)}r.set(y,u,h,A,c)}return r.toTensor()},t.prototype.maxPoolBackprop=function(t,e,r,n){this.assertNotComplex([e,r],"maxPoolBackprop");for(var i=this.maxPoolPositions(e,n),a=n.strideHeight,o=n.strideWidth,s=n.filterHeight,l=n.filterWidth,u=l-1-n.padInfo.left,c=s-1-n.padInfo.top,h=p.buffer(e.shape,"float32"),g=0;g<n.batchSize;++g)for(var d=0;d<n.inChannels;++d)for(var f=0;f<n.inHeight;++f)for(var A=0;A<n.inWidth;++A){for(var C=f-c,m=A-u,I=0,v=0;v<s;++v){var y=(C+v)/a;if(!(y<0||y>=n.outHeight||Math.floor(y)!==y))for(var b=0;b<l;++b){var x=(m+b)/o;if(!(x<0||x>=n.outWidth||Math.floor(x)!==x)){var w=s*l-1-i.get(g,y,x,d),N=v*l+b,S=w===N?1:0;if(0!==S){var T=t.get(g,y,x,d);I+=T*S}}}}h.set(I,g,f,A,d)}return h.toTensor()},t.prototype.avgPoolBackprop=function(t,e,r){this.assertNotComplex([t,e],"avgPoolBackprop");for(var n=r.strideHeight,i=r.strideWidth,a=r.filterHeight,o=r.filterWidth,s=o-1-r.padInfo.left,l=a-1-r.padInfo.top,u=p.buffer(e.shape,"float32"),c=1/(a*o),h=0;h<r.batchSize;++h)for(var g=0;g<r.inChannels;++g)for(var d=0;d<r.inHeight;++d)for(var f=0;f<r.inWidth;++f){for(var A=d-l,C=f-s,m=0,I=0;I<a;++I){var v=(A+I)/n;if(!(v<0||v>=r.outHeight||Math.floor(v)!==v))for(var y=0;y<o;++y){var b=(C+y)/i;if(!(b<0||b>=r.outWidth||Math.floor(b)!==b)){var x=t.get(h,v,b,g);m+=x}}}u.set(m*c,h,d,f,g)}return u.toTensor()},t.prototype.cast=function(t,e){return y.castTensor(t,e,this)},t.prototype.reshape=function(t,e){return y.reshapeTensor(t,e)},t.prototype.avgPool=function(t,e){return this.assertNotComplex(t,"avgPool"),this.pool(t,e,"avg").toFloat()},t.prototype.resizeBilinear=function(t,e,r,n){this.assertNotComplex(t,"resizeBilinear");for(var i=t.shape,a=i[0],o=i[1],s=i[2],l=i[3],u=p.buffer([a,e,r,l],t.dtype),c=[n&&e>1?o-1:o,n&&r>1?s-1:s],h=[n&&e>1?e-1:e,n&&r>1?r-1:r],g=0;g<a;g++)for(var d=0;d<e;d++)for(var f=0;f<r;f++)for(var A=0;A<l;A++){var C=c[0]*d/h[0],m=c[1]*f/h[1],I=Math.floor(C),v=Math.min(o-1,Math.ceil(C)),y=Math.floor(m),b=Math.min(s-1,Math.ceil(m)),x=t.get(g,I,y,A),w=t.get(g,v,y,A),N=t.get(g,I,b,A),S=t.get(g,v,b,A),T=C-I,E=m-y,k=x+(N-x)*E,O=w+(S-w)*E,_=k+(O-k)*T;u.set(_,g,d,f,A)}return u.toTensor()},t.prototype.resizeBilinearBackprop=function(t,e,r){this.assertNotComplex([t,e],"resizeBilinearBackprop");for(var n=e.shape,i=n[0],a=n[1],o=n[2],s=n[3],l=t.shape,u=l[1],c=l[2],h=p.buffer([i,a,o,s],e.dtype),g=[r&&u>1?a-1:a,r&&c>1?o-1:o],d=[r&&u>1?u-1:u,r&&c>1?c-1:c],f=g[0]/d[0],A=g[1]/d[1],C=0;C<i;C++)for(var m=0;m<u;m++)for(var I=m*f,v=Math.floor(I),y=Math.min(Math.ceil(I),a-1),b=I-v,x=1-b,w=0;w<c;w++)for(var N=w*A,S=Math.floor(N),T=Math.min(Math.ceil(N),o-1),E=N-S,k=1-E,O=0;O<s;O++){var _=t.get(C,m,w,O),P=h.get(C,v,S,O);P+=_*x*k,h.set(P,C,v,S,O);var M=h.get(C,v,T,O);M+=_*x*E,h.set(M,C,v,T,O);var D=h.get(C,y,S,O);D+=_*b*k,h.set(D,C,y,S,O);var R=h.get(C,y,T,O);R+=_*b*E,h.set(R,C,y,T,O)}return h.toTensor()},t.prototype.resizeNearestNeighbor=function(t,e,r,n){this.assertNotComplex(t,"resizeNearestNeighbor");for(var i=t.shape,a=i[0],o=i[1],s=i[2],l=i[3],u=p.buffer([a,e,r,l],t.dtype),c=[n&&e>1?o-1:o,n&&r>1?s-1:s],h=[n&&e>1?e-1:e,n&&r>1?r-1:r],g=0;g<a;g++)for(var d=0;d<e;d++)for(var f=0;f<r;f++)for(var A=0;A<l;A++){var C=c[0]*d/h[0],m=c[1]*f/h[1],I=Math.min(o-1,n?Math.round(C):Math.floor(C)),v=Math.min(s-1,n?Math.round(m):Math.floor(m)),y=t.get(g,I,v,A);u.set(y,g,d,f,A)}return u.toTensor()},t.prototype.resizeNearestNeighborBackprop=function(t,e,r){this.assertNotComplex([t,e],"resizeNearestNeighborBackprop");for(var n=e.shape,i=n[0],a=n[1],o=n[2],s=n[3],l=t.shape,u=l[1],c=l[2],h=p.buffer([i,a,o,s],e.dtype),g=[r&&u>1?a-1:a,r&&c>1?o-1:o],d=[r&&u>1?u-1:u,r&&c>1?c-1:c],f=g[0]/d[0],A=g[1]/d[1],C=1/f,m=1/A,I=2*Math.ceil(C)+2,v=2*Math.ceil(m)+2,y=0;y<i;y++)for(var b=0;b<a;b++)for(var x=0;x<o;x++)for(var w=Math.floor(b*C),N=Math.floor(w-I/2),S=Math.floor(x*m),T=Math.floor(S-v/2),E=0;E<s;E++){for(var k=0,O=0;O<I;O++){var _=O+N;if(!(_<0||_>=u))for(var P=0;P<v;P++){var M=P+T;if(!(M<0||M>=c)){var D=g[0]*(_/d[0]),R=g[1]*(M/d[1]),L=Math.min(a-1,r?Math.round(D):Math.floor(D)),z=Math.min(o-1,r?Math.round(R):Math.floor(R));b===L&&x===z&&(k+=t.get(y,_,M,E))}}}h.set(k,y,b,x,E)}return h.toTensor()},t.prototype.batchNormalization=function(t,e,r,n,i,a){this.assertNotComplex([t,e,r,i,a],"batchNormalization");for(var o=t.dataSync(),s=e.dataSync(),l=r.dataSync(),u=i?i.dataSync():new Float32Array([1]),c=a?a.dataSync():new Float32Array([0]),h=new Float32Array(o.length),g=c.length,p=u.length,f=l.length,A=s.length,C=0,m=0,I=0,v=0,y=0;y<o.length;++y)h[y]=c[C++]+(o[y]-s[m++])*u[I++]/Math.sqrt(l[v++]+n),C>=g&&(C=0),m>=A&&(m=0),I>=p&&(I=0),v>=f&&(v=0);return d.tensor4d(h,t.shape)},t.prototype.localResponseNormalization4D=function(t,e,r,n,i){function a(t){for(var r=t%o,n=t-r+Math.max(0,r-e),i=t-r+Math.min(r+e,s),a=0;n<=i;n++){var u=l[n];a+=u*u}return a}this.assertNotComplex(t,"localResponseNormalization4D");for(var o=t.shape[3],s=o-1,l=t.dataSync(),u=I.sizeFromShape(t.shape),c=new Float32Array(u),h=0;h<u;h++){var g=a(h),d=l[h]*Math.pow(r+n*g,-i);c[h]=d}return p.tensor4d(c,t.shape)},t.prototype.LRNGrad=function(t,e,r,n,i,a,o){this.assertNotComplex(t,"LRNGrad");for(var s=t.shape[3],l=t.dataSync(),u=e.dataSync(),c=r.dataSync(),h=new Float32Array(I.sizeFromShape(t.shape)),g=I.sizeFromShape(t.shape),d=0;d<g;d++){for(var f=d%s,A=d-f+Math.max(0,f-n),C=d-f+Math.min(s,f+n+1),m=0,v=A;v<C;v++)m+=Math.pow(u[v],2);m=a*m+i;for(var v=A;v<C;v++){var y=-2*a*o*u[v]*c[d]/m;d===v&&(y+=Math.pow(m,-o)),y*=l[d],h[v]+=y}}return p.tensor4d(h,t.shape)},t.prototype.multinomial=function(t,e,r,n){this.assertNotComplex(t,"multinomial");for(var i=e?t:p.softmax(t),o=i.shape[0],s=i.shape[1],l=p.zeros([o,r],"int32"),u=l.dataSync(),c=i.dataSync(),h=0;h<o;++h){var g=h*s,d=new Float32Array(s-1);d[0]=c[g];for(var f=1;f<d.length;++f)d[f]=d[f-1]+c[g+f];for(var A=a.alea(n.toString()),C=h*r,m=0;m<r;++m){var I=A();u[C+m]=d.length;for(var v=0;v<d.length;v++)if(I<d[v]){u[C+m]=v;break}}}return l},t.prototype.oneHot=function(t,e,r,n){this.assertNotComplex(t,"oneHot");var i=new Float32Array(t.size*e);i.fill(n);for(var a=0;a<t.size;++a)t.get(a)>=0&&t.get(a)<e&&(i[a*e+t.get(a)]=r);return p.tensor2d(i,[t.size,e],"int32")},t.prototype.nonMaxSuppression=function(t,e,r,n,i){this.assertNotComplex(t,"nonMaxSuppression");var a=t.dataSync(),o=e.dataSync();return x.nonMaxSuppressionImpl(a,o,r,n,i)},t.prototype.depthToSpace=function(t,e,r){I.assert("NHWC"===r,"Only NHWC dataFormat supported on CPU for depthToSpace. Got "+r),I.assert(e>1,"blockSize should be > 1 for depthToSpace, but was: "+e);for(var n=t.shape[0],i=t.shape[1],a=t.shape[2],o=t.shape[3],s=i*e,l=a*e,u=o/(e*e),c=t.dataSync(),h=new Float32Array(n*s*l*u),g=0,d=0;d<n;++d)for(var f=0;f<s;++f)for(var A=Math.floor(f/e),C=f%e,m=0;m<l;++m)for(var v=Math.floor(m/e),y=m%e,b=(C*e+y)*u,x=0;x<u;++x){var w=x+b,N=w+o*(v+a*(A+i*d));h[g++]=c[N]}return p.tensor4d(h,[n,s,l,u])},t.prototype.broadcastedBinaryOp=function(t,e,r,n){var i=c.assertAndGetBroadcastShape(t.shape,e.shape),a=p.buffer(i,r),o=t.dataSync(),s=e.dataSync(),l=c.getBroadcastDims(t.shape,i),u=c.getBroadcastDims(e.shape,i),h=a.values;if(l.length+u.length===0)for(var g=0;g<h.length;++g)h[g]=n(o[g%o.length],s[g%s.length]);else for(var d=t.buffer(),f=e.buffer(),A=function(r){var i=a.indexToLoc(r),c=i.slice(-t.rank);l.forEach(function(t){return c[t]=0});var g=d.locToIndex(c),p=i.slice(-e.rank);u.forEach(function(t){return p[t]=0});var A=f.locToIndex(p);h[r]=n(o[g],s[A])},g=0;g<h.length;++g)A(g);return a.toTensor()},t.prototype.broadcastedBinaryComplexOp=function(t,e,r){var n=c.assertAndGetBroadcastShape(t.shape,e.shape),i=p.buffer(n,"float32"),a=p.buffer(n,"float32"),o=t.dataSync(),s=e.dataSync(),l=c.getBroadcastDims(t.shape,n),u=c.getBroadcastDims(e.shape,n),h=i.values,g=a.values;if(l.length+u.length===0)for(var d=0;d<h.length;d++){var f=d%o.length,A=d%s.length,C=r(o[2*f],o[2*f+1],s[2*A],s[2*A+1]);h[d]=C.real,g[d]=C.imag}else for(var m=this.data.get(t.dataId).complexTensors.real.buffer(),I=this.data.get(e.dataId).complexTensors.real.buffer(),v=function(n){var a=i.indexToLoc(n),c=a.slice(-t.rank);
l.forEach(function(t){return c[t]=0});var p=m.locToIndex(c),d=a.slice(-e.rank);u.forEach(function(t){return d[t]=0});var f=I.locToIndex(d),A=r(o[2*p],o[2*p+1],s[2*f],s[2*f+1]);h[n]=A.real,g[n]=A.imag},d=0;d<h.length;d++)v(d);return this.complex(i.toTensor(),a.toTensor())},t.prototype.split=function(t,e,r){return w.split(t,e,r)},t.prototype.dispose=function(){},t.prototype.floatPrecision=function(){return 32},t.prototype.cropAndResize=function(t,e,r,n,i,a){for(var o=t.shape,s=o[0],l=o[1],u=o[2],c=o[3],h=e.shape[0],g=n[0],d=n[1],f=p.buffer([h,g,d,c]),A=e.dataSync(),C=r.dataSync(),m=t.dataSync(),I=t.strides,v=f.strides,y=0;y<h;y++){var b=4*y,x=A[b],w=A[b+1],N=A[b+2],S=A[b+3],T=C[y];if(!(T>=s))for(var E=g>1?(N-x)*(l-1)/(g-1):0,k=d>1?(S-w)*(u-1)/(d-1):0,O=0;O<g;O++){var _=g>1?x*(l-1)+O*E:.5*(x+N)*(l-1);if(_<0||_>l-1)for(var P=0;P<d;P++)for(var M=0;M<c;M++){var D=M+P*v[2]+O*v[1]+y*v[0];f.values[D]=a}else if("bilinear"===i)for(var R=Math.floor(_),L=Math.ceil(_),z=_-R,P=0;P<d;P++){var F=d>1?w*(u-1)+P*k:.5*(w+S)*(u-1);if(F<0||F>u-1)for(var M=0;M<c;M++){var D=M+P*v[2]+O*v[1]+y*v[0];f.values[D]=a}else for(var B=Math.floor(F),V=Math.ceil(F),j=F-B,M=0;M<c;M++){var D=M+B*I[2]+R*I[1]+T*I[0],W=m[D];D=M+V*I[2]+R*I[1]+T*I[0];var G=m[D];D=M+B*I[2]+L*I[1]+T*I[0];var U=m[D];D=M+V*I[2]+L*I[1]+T*I[0];var H=m[D],Y=W+(G-W)*j,Z=U+(H-U)*j;D=M+P*v[2]+O*v[1]+y*v[0],f.values[D]=Y+(Z-Y)*z}}else for(var P=0;P<d;++P){var F=d>1?w*(u-1)+P*k:.5*(w+S)*(u-1);if(F<0||F>u-1)for(var M=0;M<c;M++){var D=M+P*v[2]+O*v[1]+y*v[0];f.values[D]=a}else for(var X=Math.round(F),q=Math.round(_),M=0;M<c;M++){var K=M+X*I[2]+q*I[1]+T*I[0],J=M+P*v[2]+O*v[1]+y*v[0];f.values[J]=m[K]}}}}return f.toTensor()},t}();e.MathBackendCPU=T,o.ENV.registerBackend("cpu",function(){return new T},1,C.setTensorTracker)},function(t,e,r){"use strict";function n(t){for(var r in t)e.hasOwnProperty(r)||(e[r]=t[r])}Object.defineProperty(e,"__esModule",{value:!0}),n(r(608)),n(r(535)),n(r(592)),n(r(610)),n(r(612)),n(r(613)),n(r(614)),n(r(615)),n(r(609)),n(r(616)),n(r(617)),n(r(618)),n(r(619)),n(r(620)),n(r(591)),n(r(534)),n(r(621)),n(r(531)),n(r(622)),n(r(623)),n(r(624)),n(r(625)),n(r(626)),n(r(627)),n(r(628));var i=r(533);e.op=i.op;var a=r(629);e.losses=a;var o=r(630);e.linalg=o;var s=r(631);e.image=s},function(t,e,r){"use strict";function n(t,r,n,i,a,o){void 0===i&&(i=.001);var s,l=u.convertToTensor(t,"x","batchNormalization"),h=u.convertToTensor(r,"mean","batchNormalization"),g=u.convertToTensor(n,"variance","batchNormalization");null!=a&&(s=u.convertToTensor(a,"scale","batchNormalization"));var p;return null!=o&&(p=u.convertToTensor(o,"offset","batchNormalization")),c.assert(2===l.rank,"Error in batchNormalization3D: x must be rank 3 but got rank "+(l.rank+".")),c.assert(2===h.rank||1===h.rank,"Error in batchNormalization2D: mean must be rank 2 or rank 1 but "+("got rank "+h.rank+".")),c.assert(2===g.rank||1===g.rank,"Error in batchNormalization2D: variance must be rank 2 or rank 1 "+("but got rank "+g.rank+".")),null!=s&&c.assert(2===s.rank||1===s.rank,"Error in batchNormalization2D: scale must be rank 2 or rank 1 "+("but got rank "+s.rank+".")),null!=p&&c.assert(2===p.rank||1===p.rank,"Error in batchNormalization2D: offset must be rank 2 or rank 1 "+("but got rank "+p.rank+".")),e.batchNormalization(l,h,g,i,s,p)}function i(t,r,n,i,a,o){void 0===i&&(i=.001);var s,l=u.convertToTensor(t,"x","batchNormalization"),h=u.convertToTensor(r,"mean","batchNormalization"),g=u.convertToTensor(n,"variance","batchNormalization");null!=a&&(s=u.convertToTensor(a,"scale","batchNormalization"));var p;return null!=o&&(p=u.convertToTensor(o,"offset","batchNormalization")),c.assert(3===l.rank,"Error in batchNormalization3D: x must be rank 3 but got rank "+(l.rank+".")),c.assert(3===h.rank||1===h.rank,"Error in batchNormalization3D: mean must be rank 3 or rank 1 but "+("got rank "+h.rank+".")),c.assert(3===g.rank||1===g.rank,"Error in batchNormalization3D: variance must be rank 3 or rank 1 "+("but got rank "+g.rank+".")),null!=s&&c.assert(3===s.rank||1===s.rank,"Error in batchNormalization3D: scale must be rank 3 or rank 1 "+("but got rank "+s.rank+".")),null!=p&&c.assert(3===p.rank||1===p.rank,"Error in batchNormalization3D: offset must be rank 3 or rank 1 "+("but got rank "+p.rank+".")),e.batchNormalization(l,h,g,i,s,p)}function a(t,r,n,i,a,o){void 0===i&&(i=.001);var s,l=u.convertToTensor(t,"x","batchNormalization"),h=u.convertToTensor(r,"mean","batchNormalization"),g=u.convertToTensor(n,"variance","batchNormalization");null!=a&&(s=u.convertToTensor(a,"scale","batchNormalization"));var p;return null!=o&&(p=u.convertToTensor(o,"offset","batchNormalization")),c.assert(4===l.rank,"Error in batchNormalization4D: x must be rank 4 but got rank "+(l.rank+".")),c.assert(4===h.rank||1===h.rank,"Error in batchNormalization4D: mean must be rank 4 or rank 1 but "+("got rank "+h.rank+".")),c.assert(4===g.rank||1===g.rank,"Error in batchNormalization4D: variance must be rank 4 or rank 1 "+("but got rank "+g.rank+".")),null!=s&&c.assert(4===s.rank||1===s.rank,"Error in batchNormalization4D: scale must be rank 4 or rank 1 "+("but got rank "+s.rank+".")),null!=p&&c.assert(4===p.rank||1===p.rank,"Error in batchNormalization4D: offset must be rank 4 or rank 1 "+("but got rank "+p.rank+".")),e.batchNormalization(l,h,g,i,s,p)}function o(t,e,r,n,i,a){void 0===n&&(n=.001);var o,p=u.convertToTensor(t,"x","batchNormalization"),A=u.convertToTensor(e,"mean","batchNormalization"),C=u.convertToTensor(r,"variance","batchNormalization");null!=i&&(o=u.convertToTensor(i,"scale","batchNormalization"));var m;null!=a&&(m=u.convertToTensor(a,"offset","batchNormalization")),c.assert(A.rank===C.rank,"Batch normalization gradient requires mean and variance to have equal ranks."),c.assert(null==m||A.rank===m.rank,"Batch normalization gradient requires mean and offset to have equal ranks."),c.assert(null==o||A.rank===o.rank,"Batch normalization gradient requires mean and scale to have equal ranks.");var I;I=0===p.rank||1===p.rank?p.as4D(1,1,1,p.size):2===p.rank?p.as4D(1,1,p.shape[0],p.shape[1]):3===p.rank?p.as4D(1,p.shape[0],p.shape[1],p.shape[2]):p;var v=function(t){var e=null==o?d.scalar(1):o,r=g.getReductionAxes(A.shape,I.shape),i=[];if(1===A.rank){for(var a=0;a<I.shape.length-1;++a)i.push(I.shape[a]);i.push(1)}var s=p.sub(A),l=t.mul(e),u=f.rsqrt(C.add(d.scalar(n))),c=u.mul(u).mul(u).mul(d.scalar(-.5)),m=function(){return 1===A.rank?t.mul(h.tile(u.as4D(1,1,1,A.shape[0]),i)).mul(e).reshape(p.shape):t.mul(u).mul(e).reshape(p.shape)},v=function(){var t=u.mul(d.scalar(-1)).mul(l);return 1===A.rank&&(t=t.sum(r)),t.reshape(A.shape)},y=function(){var t=c.mul(s).mul(l);return 1===A.rank&&(t=t.sum(r)),t.reshape(A.shape)},b=function(){var e=s.mul(u),n=t.mul(e);return 1===A.rank&&(n=n.sum(r)),n.reshape(A.shape)},x=function(){var e=t;return 1===A.rank&&(e=e.sum(r)),e.reshape(A.shape)};return{$x:m,$mean:v,$variance:y,$scale:b,$offset:x}},y=l.ENV.engine.runKernel(function(t){return t.batchNormalization(I,s(A),s(C),n,s(o),s(m))},{$x:p,$mean:A,$variance:C,$scale:o,$offset:m},v);return y.reshape(p.shape)}function s(t){return null==t?null:0===t.rank?t.as1D():1===t.rank?t:2===t.rank?t.as4D(1,1,t.shape[0],t.shape[1]):3===t.rank?t.as4D(1,t.shape[0],t.shape[1],t.shape[2]):t}Object.defineProperty(e,"__esModule",{value:!0});var l=r(512),u=r(532),c=r(516),h=r(591),g=r(545),p=r(533),d=r(534),f=r(609);e.batchNormalization2d=p.op({batchNormalization2d_:n}),e.batchNormalization3d=p.op({batchNormalization3d_:i}),e.batchNormalization4d=p.op({batchNormalization4d_:a}),e.batchNormalization=p.op({batchNormalization_:o})},function(t,e,r){"use strict";function n(t){var e=L.convertToTensor(t,"x","neg"),r=function(t){return{$x:function(){return t.neg()}}};return R.ENV.engine.runKernel(function(t){return t.neg(e)},{$x:e},r)}function i(t){var e=L.convertToTensor(t,"x","ceil"),r=function(t){return{$x:function(){return B.zerosLike(t)}}};return R.ENV.engine.runKernel(function(t){return t.ceil(e)},{$x:e},r)}function a(t){var e=L.convertToTensor(t,"x","floor"),r=function(t){return{$x:function(){return B.zerosLike(t)}}};return R.ENV.engine.runKernel(function(t){return t.floor(e)},{$x:e},r)}function o(t){var e=L.convertToTensor(t,"x","sign"),r=function(t){return{$x:function(){return B.zerosLike(t)}}};return R.ENV.engine.runKernel(function(t){return t.sign(e)},{$x:e},r)}function s(t){var e=L.convertToTensor(t,"x","round"),r=function(t){return{$x:function(){return B.zerosLike(t)}}};return R.ENV.engine.runKernel(function(t){return t.round(e)},{$x:e},r)}function l(t){var e=L.convertToTensor(t,"x","exp"),r=function(t,e){var r=e[0];return{$x:function(){return t.mulStrict(r)}}};return R.ENV.engine.runKernel(function(t,r){return r(t.exp(e))},{$x:e},r)}function u(t){var e=L.convertToTensor(t,"x","expm1"),r=function(t){return{$x:function(){return t.mulStrict(e.exp())}}};return R.ENV.engine.runKernel(function(t){return t.expm1(e)},{$x:e},r)}function c(t){var e=L.convertToTensor(t,"x","log"),r=function(t){return{$x:function(){return t.divStrict(e.toFloat())}}};return R.ENV.engine.runKernel(function(t){return t.log(e)},{$x:e},r)}function h(t){var e=L.convertToTensor(t,"x","log1p"),r=function(t){return{$x:function(){return t.divStrict(e.add(B.scalar(1)))}}};return R.ENV.engine.runKernel(function(t){return t.log1p(e)},{$x:e},r)}function g(t){var e=L.convertToTensor(t,"x","sqrt"),r=function(t){return{$x:function(){return t.divStrict(e.toFloat().sqrt().mul(B.scalar(2)))}}};return R.ENV.engine.runKernel(function(t){return t.sqrt(e)},{$x:e},r)}function p(t){var e=L.convertToTensor(t,"x","rsqrt"),r=function(t){return{$x:function(){return t.divStrict(e.pow(B.scalar(1.5)).mul(B.scalar(2))).neg()}}};return R.ENV.engine.runKernel(function(t){return t.rsqrt(e)},{$x:e},r)}function d(t){var e=L.convertToTensor(t,"x","square"),r=function(t){return{$x:function(){return t.mulStrict(e.toFloat().mul(B.scalar(2)))}}};return R.ENV.engine.runKernel(function(t){return t.square(e)},{$x:e},r)}function f(t){var e=L.convertToTensor(t,"x","reciprocal"),r=function(t){return{$x:function(){return t.divStrict(e.square().neg())}}};return R.ENV.engine.runKernel(function(t){return t.reciprocal(e)},{$x:e},r)}function A(t){var e=L.convertToTensor(t,"x","abs"),r=function(t){return{$x:function(){return t.mulStrict(e.toFloat().step(-1))}}};return R.ENV.engine.runKernel(function(t){return t.abs(e)},{$x:e},r)}function C(t,e,r){var n=L.convertToTensor(t,"x","clipByValue");z.assert(e<=r,"Error in clip: min ("+e+") must be "+("less than or equal to max ("+r+")."));var i=function(t){return{$x:function(){return t.where(n.greaterEqual(B.scalar(e)).logicalAnd(n.lessEqual(B.scalar(r))),B.zerosLike(t))}}};return R.ENV.engine.runKernel(function(t){return t.clip(n,e,r)},{$x:n},i)}function m(t){var e=L.convertToTensor(t,"x","sigmoid"),r=function(t,e){var r=e[0];return{$x:function(){return t.mulStrict(r.mul(B.scalar(1).sub(r)))}}};return R.ENV.engine.runKernel(function(t,r){return r(t.sigmoid(e))},{$x:e},r)}function I(t){var e=L.convertToTensor(t,"x","logSigmoid"),r=function(t){return{$x:function(){return t.mulStrict(e.neg().sigmoid())}}};return R.ENV.engine.runKernel(function(t){return t.softplus(e.neg()).neg()},{$x:e},r)}function v(t){var e=L.convertToTensor(t,"x","softplus"),r=function(t){return{$x:function(){return t.mulStrict(e.sigmoid())}}};return R.ENV.engine.runKernel(function(t){return t.softplus(e)},{$x:e},r)}function y(t){var e=L.convertToTensor(t,"x","sin"),r=function(t){return{$x:function(){return e.toFloat().cos().mulStrict(t)}}};return R.ENV.engine.runKernel(function(t){return t.sin(e)},{$x:e},r)}function b(t){var e=L.convertToTensor(t,"x","cos"),r=function(t){return{$x:function(){return e.toFloat().sin().neg().mulStrict(t)}}};return R.ENV.engine.runKernel(function(t){return t.cos(e)},{$x:e},r)}function x(t){var e=L.convertToTensor(t,"x","tan"),r=function(t){return{$x:function(){return t.divStrict(e.cos().square())}}};return R.ENV.engine.runKernel(function(t){return t.tan(e)},{$x:e},r)}function w(t){var e=L.convertToTensor(t,"x","asin"),r=function(t){return{$x:function(){return t.divStrict(B.scalar(1).sub(e.toFloat().square()).sqrt())}}};return R.ENV.engine.runKernel(function(t){return t.asin(e)},{$x:e},r)}function N(t){var e=L.convertToTensor(t,"x","acos"),r=function(t){return{$x:function(){return t.divStrict(B.scalar(1).sub(e.toFloat().square()).sqrt()).neg()}}};return R.ENV.engine.runKernel(function(t){return t.acos(e)},{$x:e},r)}function S(t){var e=L.convertToTensor(t,"x","atan"),r=function(t){return{$x:function(){return t.divStrict(B.scalar(1).add(e.toFloat().square()))}}};return R.ENV.engine.runKernel(function(t){return t.atan(e)},{$x:e},r)}function T(t){var e=L.convertToTensor(t,"x","sinh"),r=function(t){return{$x:function(){return e.toFloat().cosh().mulStrict(t)}}};return R.ENV.engine.runKernel(function(t){return t.sinh(e)},{$x:e},r)}function E(t){var e=L.convertToTensor(t,"x","cosh"),r=function(t){return{$x:function(){return e.toFloat().sinh().mulStrict(t)}}};return R.ENV.engine.runKernel(function(t){return t.cosh(e)},{$x:e},r)}function k(t){var e=L.convertToTensor(t,"x","tanh"),r=function(t,e){var r=e[0];return{$x:function(){return B.scalar(1).sub(r.square()).mulStrict(t)}}};return R.ENV.engine.runKernel(function(t,r){return r(t.tanh(e))},{$x:e},r)}function O(t){var e=L.convertToTensor(t,"x","asinh"),r=function(t){return{$x:function(){return t.divStrict(B.scalar(1).add(e.toFloat().square()).sqrt())}}};return R.ENV.engine.runKernel(function(t){return t.asinh(e)},{$x:e},r)}function _(t){var e=L.convertToTensor(t,"x","acosh"),r=function(t){return{$x:function(){return t.divStrict(e.toFloat().square().sub(B.scalar(1)).sqrt())}}};return R.ENV.engine.runKernel(function(t){return t.acosh(e)},{$x:e},r)}function P(t){var e=L.convertToTensor(t,"x","atanh"),r=function(t){return{$x:function(){return t.divStrict(B.scalar(1).sub(e.toFloat().square()))}}};return R.ENV.engine.runKernel(function(t){return t.atanh(e)},{$x:e},r)}function M(t){var e=L.convertToTensor(t,"x","erf");z.assert("int32"===e.dtype||"float32"===e.dtype,"Input dtype must be `int32` or `float32`."),"int32"===e.dtype&&(e=e.toFloat());var r=function(t){return{$x:function(){return t.mulStrict(B.scalar(2/Math.sqrt(Math.PI)).mul(e.square().neg().exp()))}}};return R.ENV.engine.runKernel(function(t){return t.erf(e)},{$x:e},r)}function D(t,e){void 0===e&&(e=0);var r=L.convertToTensor(t,"x","step"),n=function(t){return{$x:function(){return B.zerosLike(t)}}};return R.ENV.engine.runKernel(function(t){return t.step(r,e)},{$x:r},n)}Object.defineProperty(e,"__esModule",{value:!0});var R=r(512),L=r(532),z=r(516),F=r(533),B=r(534);e.abs=F.op({abs_:A}),e.acos=F.op({acos_:N}),e.acosh=F.op({acosh_:_}),e.asin=F.op({asin_:w}),e.asinh=F.op({asinh_:O}),e.atan=F.op({atan_:S}),e.atanh=F.op({atanh_:P}),e.ceil=F.op({ceil_:i}),e.clipByValue=F.op({clipByValue_:C}),e.cos=F.op({cos_:b}),e.cosh=F.op({cosh_:E}),e.erf=F.op({erf_:M}),e.exp=F.op({exp_:l}),e.expm1=F.op({expm1_:u}),e.floor=F.op({floor_:a}),e.log=F.op({log_:c}),e.log1p=F.op({log1p_:h}),e.logSigmoid=F.op({logSigmoid_:I}),e.neg=F.op({neg_:n}),e.reciprocal=F.op({reciprocal_:f}),e.round=F.op({round_:s}),e.rsqrt=F.op({rsqrt_:p}),e.sigmoid=F.op({sigmoid_:m}),e.sign=F.op({sign_:o}),e.sin=F.op({sin_:y}),e.sinh=F.op({sinh_:T}),e.softplus=F.op({softplus_:v}),e.sqrt=F.op({sqrt_:g}),e.square=F.op({square_:d}),e.step=F.op({step_:D}),e.tan=F.op({tan_:x}),e.tanh=F.op({tanh_:k})},function(t,e,r){"use strict";function n(t,r,n,i,a,o,s){void 0===a&&(a="NWC"),void 0===o&&(o=1);var l=A.convertToTensor(t,"x","conv1d"),u=A.convertToTensor(r,"filter","conv1d"),c=l,h=!1;2===l.rank&&(h=!0,c=l.as3D(1,l.shape[0],l.shape[1])),C.assert(3===c.rank,"Error in conv1d: input must be rank 3, but got rank "+c.rank+"."),C.assert(3===u.rank,"Error in conv1d: filter must be rank 3, but got rank "+(u.rank+".")),null!=s&&C.assert(C.isInt(i),"Error in conv1d: pad must be an integer when using, "+("dimRoundingMode "+s+" but got pad "+i+".")),C.assert(c.shape[2]===u.shape[1],"Error in conv1d: depth of input ("+c.shape[2]+") must match "+("input depth for filter "+u.shape[1]+".")),C.assert(g(n,o),"Error in conv1D: Either stride or dilation must be 1. "+("Got stride "+n+" and dilation '"+o+"'")),C.assert("NWC"===a,"Error in conv1d: got dataFormat of "+a+" but only NWC is currently supported.");var p=u.as4D(1,u.shape[0],u.shape[1],u.shape[2]),d=c.as4D(c.shape[0],1,c.shape[1],c.shape[2]),f=[1,n],m=[1,o],I="NHWC",v=e.conv2d(d,p,f,i,I,m,s);return h?v.as2D(v.shape[2],v.shape[3]):v.as3D(v.shape[0],v.shape[2],v.shape[3])}function i(t,e,r,n,i,s,l){void 0===i&&(i="NHWC"),void 0===s&&(s=[1,1]);var u=A.convertToTensor(t,"x","conv2d"),c=A.convertToTensor(e,"filter","conv2d"),p=u,d=!1;3===u.rank&&(d=!0,p=u.as4D(1,u.shape[0],u.shape[1],u.shape[2])),C.assert(4===p.rank,"Error in conv2d: input must be rank 4, but got rank "+p.rank+"."),C.assert(4===c.rank,"Error in conv2d: filter must be rank 4, but got rank "+(c.rank+".")),null!=l&&C.assert(C.isInt(n),"Error in conv2d: pad must be an integer when using, "+("dimRoundingMode "+l+" but got pad "+n+".")),C.assert(p.shape[3]===c.shape[2],"Error in conv2d: depth of input ("+p.shape[3]+") must match "+("input depth for filter "+c.shape[2]+".")),C.assert(g(r,s),"Error in conv2D: Either strides or dilations must be 1. "+("Got strides "+r+" and dilations '"+s+"'")),C.assert("NHWC"===i,"Error in conv2d: got dataFormat of "+i+" but only NHWC is currently supported.");var I=m.computeConv2DInfo(p.shape,c.shape,r,s,n,l),v=function(t){return C.assert(h(s),"Error in gradient of conv2D: dilation rates greater than 1 are not"+("yet supported in gradients. Got dilations '"+s+"'")),{x:function(){return a(p.shape,t,c,r,n)},$filter:function(){return o(p,t,c.shape,r,n)}}},y=f.ENV.engine.runKernel(function(t){return t.conv2d(p,c,I)},{x:p,$filter:c},v);return d?y.as3D(y.shape[1],y.shape[2],y.shape[3]):y}function a(t,e,r,n,i,a){C.assert(t.length===e.rank,"Length of inShape "+("("+t.length+") and rank of dy ("+e.rank+") must match"));var o=t,s=e,l=!1;3===e.rank&&(l=!0,s=e.as4D(1,e.shape[0],e.shape[1],e.shape[2]),o=[1,t[0],t[1],t[2]]);var u=o[3],c=s.shape[3];C.assert(4===o.length,"Error in conv2dDerInput: inShape must be length 4, but got length "+(o.length+".")),C.assert(4===s.rank,"Error in conv2dDerInput: dy must be rank 4, but got rank "+s.rank),C.assert(4===r.rank,"Error in conv2dDerInput: filter must be rank 4, but got rank "+r.rank),C.assert(u===r.shape[2],"Error in conv2dDerInput: depth of input ("+u+") must "+("match input depth for filter "+r.shape[2]+".")),C.assert(c===r.shape[3],"Error in conv2dDerInput: depth of output ("+c+") must "+("match output depth for filter "+r.shape[3]+".")),null!=a&&C.assert(C.isInt(i),"Error in conv2dDerInput: pad must be an integer when using, "+("dimRoundingMode "+a+" but got pad "+i+"."));var h=1,g=m.computeConv2DInfo(o,r.shape,n,h,i,a),p=f.ENV.engine.runKernel(function(t){return t.conv2dDerInput(s,r,g)},{dy4D:s});return l?p.as3D(p.shape[1],p.shape[2],p.shape[3]):p}function o(t,e,r,n,i,a){var o=t;3===t.rank&&(o=t.as4D(1,t.shape[0],t.shape[1],t.shape[2]));var s=e;3===s.rank&&(s=e.as4D(1,e.shape[0],e.shape[1],e.shape[2])),C.assert(4===o.rank,"Error in conv2dDerFilter: input must be rank 4, but got shape "+(o.shape+".")),C.assert(4===s.rank,"Error in conv2dDerFilter: dy must be rank 4, but got shape "+(s.shape+".")),C.assert(4===r.length,"Error in conv2dDerFilter: filterShape must be length 4, but got "+(r+".")),C.assert(o.shape[3]===r[2],"Error in conv2dDerFilter: depth of input "+o.shape[3]+") must "+("match input depth in filter ("+r[2]+".")),C.assert(s.shape[3]===r[3],"Error in conv2dDerFilter: depth of dy ("+s.shape[3]+") must "+("match output depth for filter ("+r[3]+").")),null!=a&&C.assert(C.isInt(i),"Error in conv2dDerFilter: pad must be an integer when using, "+("dimRoundingMode "+a+" but got pad "+i+"."));var l=1,u=m.computeConv2DInfo(o.shape,r,n,l,i,a);return f.ENV.engine.runKernel(function(t){return t.conv2dDerFilter(o,s,u)},{x4D:o,dy4D:s})}function s(t,e,r,n,i,o){var s=A.convertToTensor(t,"x","conv2dTranspose"),l=A.convertToTensor(e,"filter","conv2dTranspose");return a(r,s,l,n,i,o)}function l(t,e,r,n,i,a,o){void 0===i&&(i="NHWC"),void 0===a&&(a=[1,1]);var s=A.convertToTensor(t,"x","depthwiseConv2d"),l=A.convertToTensor(e,"filter","depthwiseConv2d"),u=s,c=!1;3===s.rank&&(c=!0,u=s.as4D(1,s.shape[0],s.shape[1],s.shape[2])),C.assert(4===u.rank,"Error in depthwiseConv2d: input must be rank 4, but got "+("rank "+u.rank+".")),C.assert(4===l.rank,"Error in depthwiseConv2d: filter must be rank 4, but got rank "+(l.rank+".")),C.assert(u.shape[3]===l.shape[2],"Error in depthwiseConv2d: number of input channels "+("("+u.shape[3]+") must match the inChannels dimension in ")+("filter "+l.shape[2]+".")),null==a&&(a=[1,1]),C.assert(g(r,a),"Error in depthwiseConv2d: Either strides or dilations must be 1. "+("Got strides "+r+" and dilations '"+a+"'")),null!=o&&C.assert(C.isInt(n),"Error in depthwiseConv2d: pad must be an integer when using, "+("dimRoundingMode "+o+" but got pad "+n+"."));var I=m.computeConv2DInfo(u.shape,l.shape,r,a,n,o,!0),v=function(t){return C.assert(h(a),"Error in gradient of depthwiseConv2d: dilation rates greater than "+("1 are not yet supported. Got dilations '"+a+"'")),{x:function(){return p(u.shape,t,l,I)},$filter:function(){return d(u,t,l.shape,I)}}},y=f.ENV.engine.runKernel(function(t){return t.depthwiseConv2D(u,l,I)},{x:u,$filter:l},v);return c?y.as3D(y.shape[1],y.shape[2],y.shape[3]):y}function u(t,r,n,i,a,o,s){void 0===o&&(o=[1,1]),void 0===s&&(s="NHWC");var l=A.convertToTensor(t,"x","separableConv2d"),u=A.convertToTensor(r,"depthwiseFilter","separableConv2d"),c=A.convertToTensor(n,"pointwiseFilter","separableConv2d"),h=l,g=!1;if(3===l.rank&&(g=!0,h=l.as4D(1,l.shape[0],l.shape[1],l.shape[2])),"NCHW"===s)throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");C.assert(4===h.rank,"Error in separableConv2d: input must be rank 4, but got "+("rank "+h.rank+".")),C.assert(4===u.rank,"Error in separableConv2d: depthwise filter must be rank 4, but got "+("rank "+u.rank+".")),C.assert(4===c.rank,"Error in separableConv2d: pointwise filter must be rank 4, but got "+("rank "+u.rank+".")),C.assert(1===c.shape[0],"Error in separableConv2d: the first dimension of pointwise filter "+(" must be 1, but got "+c.shape[0]+".")),C.assert(1===c.shape[1],"Error in separableConv2d: the second dimension of pointwise filter "+(" must be 1, but got "+c.shape[1]+"."));var p=u.shape[2],d=u.shape[3];C.assert(c.shape[2]===p*d,"Error in separableConv2d: the third dimension of pointwise filter "+("must be "+p*d+", ")+("but got "+c.shape[2]+"."));var f=e.depthwiseConv2d(h,u,i,a,s,o),m=1,I=e.conv2d(f,c,m,"valid",s);return g?I.as3D(I.shape[1],I.shape[2],I.shape[3]):I}function c(t){return"number"==typeof t?[t,t]:t}function h(t){var e=c(t),r=e[0],n=e[1];return 1===r&&1===n}function g(t,e){return h(t)||h(e)}function p(t,e,r,n){var i=e,a=!1;3===e.rank&&(a=!0,i=e.as4D(1,e.shape[0],e.shape[1],e.shape[2]));var o=f.ENV.engine.runKernel(function(t){return t.depthwiseConv2DDerInput(i,r,n)},{dy4D:i});return a?o.as3D(o.shape[1],o.shape[2],o.shape[3]):o}function d(t,e,r,n){var i=t;3===t.rank&&(i=t.as4D(1,t.shape[0],t.shape[1],t.shape[2]));var a=e;return 3===a.rank&&(a=e.as4D(1,e.shape[0],e.shape[1],e.shape[2])),f.ENV.engine.runKernel(function(t){return t.depthwiseConv2DDerFilter(i,a,n)},{x4D:i,dy4D:a})}Object.defineProperty(e,"__esModule",{value:!0});var f=r(512),A=r(532),C=r(516),m=r(611),I=r(533);e.conv1d=I.op({conv1d_:n}),e.conv2d=I.op({conv2d_:i}),e.depthwiseConv2d=I.op({depthwiseConv2d_:l}),e.separableConv2d=I.op({separableConv2d_:u}),e.conv2dTranspose=I.op({conv2dTranspose_:s})},function(t,e,r){"use strict";function n(t,e,r,n,a,o){void 0===o&&(o="channelsLast");var l,u=s(e),c=u[0],h=u[1];if("channelsLast"===o)l=[c,h,t[3],t[3]];else{if("channelsFirst"!==o)throw new Error("Unknown dataFormat "+o);l=[c,h,t[1],t[1]]}var g=1;return i(t,l,r,g,n,a,!1,o)}function i(t,e,r,n,i,a,o,c){void 0===o&&(o=!1),void 0===c&&(c="channelsLast");var h=[-1,-1,-1,-1],g=h[0],p=h[1],d=h[2],f=h[3];if("channelsLast"===c)g=t[0],p=t[1],d=t[2],f=t[3];else{if("channelsFirst"!==c)throw new Error("Unknown dataFormat "+c);g=t[0],f=t[1],p=t[2],d=t[3]}var A,C=e[0],m=e[1],I=e[3],v=s(r),y=v[0],b=v[1],x=s(n),w=x[0],N=x[1],S=l(C,w),T=l(m,N),E=u(i,p,d,y,b,S,T,a),k=E.padInfo,O=E.outHeight,_=E.outWidth,P=o?I*f:I;return"channelsFirst"===c?A=[g,P,O,_]:"channelsLast"===c&&(A=[g,O,_,P]),{batchSize:g,dataFormat:c,inHeight:p,inWidth:d,inChannels:f,outHeight:O,outWidth:_,outChannels:P,padInfo:k,strideHeight:y,strideWidth:b,filterHeight:C,filterWidth:m,dilationHeight:w,dilationWidth:N,inShape:t,outShape:A,filterShape:e}}function a(t,e,r,n,i,a){null==i&&(i=o(t,e,n));var s=t[0],l=t[1],u=c((s-e+2*i)/n+1,a);h.assert(h.isInt(u),"The output # of rows ("+u+") must be an integer. Change the stride and/or zero pad parameters");var g=c((l-e+2*i)/n+1,a);return h.assert(h.isInt(g),"The output # of columns ("+g+") must be an integer. Change the stride and/or zero pad parameters"),[u,g,r]}function o(t,e,r,n){void 0===n&&(n=1);var i=l(e,n);return Math.floor((t[0]*(r-1)-r+i)/2)}function s(t){return"number"==typeof t?[t,t]:t}function l(t,e){return e<=1?t:t+(t-1)*(e-1)}function u(t,e,r,n,i,o,s,l){var u,c,h;if("number"==typeof t){var g=0===t?"VALID":"NUMBER";u={top:t,bottom:t,left:t,right:t,type:g};var p=a([e,r,1],o,1,n,t,l);c=p[0],h=p[1]}else if("same"===t){c=Math.ceil(e/n),h=Math.ceil(r/i);var d=(c-1)*n+o-e,f=(h-1)*i+s-r,A=Math.floor(d/2),C=d-A,m=Math.floor(f/2),I=f-m;u={top:A,bottom:C,left:m,right:I,type:"SAME"}}else{if("valid"!==t)throw Error("Unknown padding parameter: "+t);u={top:0,bottom:0,left:0,right:0,type:"VALID"},c=Math.ceil((e-o+1)/n),h=Math.ceil((r-s+1)/i)}return{padInfo:u,outHeight:c,outWidth:h}}function c(t,e){if(!e)return t;switch(e){case"round":return Math.round(t);case"ceil":return Math.ceil(t);case"floor":return Math.floor(t);default:throw new Error("Unknown roundingMode "+e)}}Object.defineProperty(e,"__esModule",{value:!0});var h=r(516);e.computePool2DInfo=n,e.computeConv2DInfo=i,e.computeDefaultPad=o},function(t,e,r){"use strict";function n(t,e,r,n){void 0===r&&(r=!1),void 0===n&&(n=!1);var i=s.convertToTensor(t,"a","matMul"),a=s.convertToTensor(e,"b","matMul"),u=r?i.shape[i.rank-2]:i.shape[i.rank-1],c=n?a.shape[a.rank-1]:a.shape[a.rank-2],h=r?i.shape[i.rank-1]:i.shape[i.rank-2],g=n?a.shape[a.rank-2]:a.shape[a.rank-1],p=i.shape.slice(0,-2),d=a.shape.slice(0,-2),f=l.sizeFromShape(p),A=l.sizeFromShape(d);l.assert(i.rank>=2&&a.rank>=2&&i.rank===a.rank,"Error in matMul: inputs must have the same rank of at least 2, "+("got ranks "+i.rank+" and "+a.rank+".")),l.assert(l.arraysEqual(p,d),"Error in matMul: outer dimensions ("+p+") and ("+(d+") of Tensors with shapes "+i.shape+" and ")+(a.shape+" must match.")),l.assert(u===c,"Error in matMul: inner shapes ("+u+") and ("+(c+") of Tensors with shapes "+i.shape+" and ")+(a.shape+" and transposeA="+r)+(" and transposeB="+n+" must match."));var C=i.shape.slice(0,-2).concat([h,g]),m=r?i.as3D(f,u,h):i.as3D(f,h,u),I=n?a.as3D(A,g,c):a.as3D(A,c,g),v=function(t){return r||n?!r&&n?{$a:function(){return t.matMul(I.toFloat(),!1,!1)},$b:function(){return t.matMul(m.toFloat(),!0,!1)}}:r&&!n?{$a:function(){return I.toFloat().matMul(t,!1,!0)},$b:function(){return m.toFloat().matMul(t,!1,!1)}}:{$a:function(){return I.toFloat().matMul(t,!0,!0)},$b:function(){return t.matMul(m.toFloat(),!0,!0)}}:{$a:function(){return t.matMul(I.toFloat(),!1,!0)},$b:function(){return m.toFloat().matMul(t,!0,!1)}}},y=o.ENV.engine.runKernel(function(t){return t.batchMatMul(m,I,r,n)},{$a:m,$b:I},v);return y.reshape(C)}function i(t,e){var r=s.convertToTensor(t,"v1","outerProduct"),n=s.convertToTensor(e,"v2","outerProduct");return l.assert(1===r.rank&&1===n.rank,"Error in outerProduct: inputs must be rank 1, but got ranks "+(r.rank+" and "+n.rank+".")),r.as2D(-1,1).matMul(n.as2D(1,-1))}function a(t,e){var r=s.convertToTensor(t,"t1","dot"),n=s.convertToTensor(e,"t2","dot");l.assert(!(1!==r.rank&&2!==r.rank||1!==n.rank&&2!==n.rank),"Error in dot: inputs must all be rank 1 or 2, but got ranks "+(r.rank+" and "+n.rank+"."));var i=1===r.rank?r.size:r.shape[1],a=1===n.rank?n.size:n.shape[0];return l.assert(i===a,"Error in dot: inner dimensions of inputs must match, but got "+(i+" and "+a+".")),1===r.rank&&1===n.rank?r.as2D(1,-1).matMul(n.as2D(-1,1)).asScalar():1===r.rank&&2===n.rank?r.as2D(1,-1).matMul(n.as2D(n.shape[0],n.shape[1])).as1D():2===r.rank&&1===n.rank?r.matMul(n.as2D(-1,1)).as1D():r.matMul(n.as2D(n.shape[0],n.shape[1]))}Object.defineProperty(e,"__esModule",{value:!0});var o=r(512),s=r(532),l=r(516),u=r(533);e.matMul=u.op({matMul_:n}),e.dot=u.op({dot_:a}),e.outerProduct=u.op({outerProduct_:i})},function(t,e,r){"use strict";function n(t){var r=u.convertToTensor(t,"x","reverse");return c.assert(1===r.rank,"Error in reverse1D: x must be rank 1 but got\n             rank "+r.rank+"."),e.reverse(r,0)}function i(t,r){var n=u.convertToTensor(t,"x","reverse");return c.assert(2===n.rank,"Error in reverse2D: x must be rank 2 but got\n             rank "+n.rank+"."),e.reverse(n,r)}function a(t,r){var n=u.convertToTensor(t,"x","reverse");return c.assert(3===n.rank,"Error in reverse3D: x must be rank 3 but got\n             rank "+n.rank+"."),e.reverse(n,r)}function o(t,r){var n=u.convertToTensor(t,"x","reverse");return c.assert(4===n.rank,"Error in reverse4D: x must be rank 4 but got\n             rank "+n.rank+"."),e.reverse(n,r)}function s(t,e){var r=u.convertToTensor(t,"x","reverse");if(0===r.rank)return r.clone();var n=h.parseAxisParam(e,r.shape),i=function(t){return{$x:function(){return t.reverse(n)}}},a=l.ENV.engine.runKernel(function(t){return t.reverse(r,n)},{$x:r},i);return a.reshapeAs(r)}Object.defineProperty(e,"__esModule",{value:!0});var l=r(512),u=r(532),c=r(516),h=r(526),g=r(533);e.reverse=g.op({reverse_:s}),e.reverse1d=g.op({reverse1d_:n}),e.reverse2d=g.op({reverse2d_:i}),e.reverse3d=g.op({reverse3d_:a}),e.reverse4d=g.op({reverse4d_:o})},function(t,e,r){"use strict";function n(t,e,r,n,i){var o=l.convertToTensor(t,"x","maxPool"),h=o,g=!1;3===o.rank&&(g=!0,h=o.as4D(1,o.shape[0],o.shape[1],o.shape[2])),u.assert(4===h.rank,"Error in maxPool: input must be rank 4 but got rank "+h.rank+"."),null!=i&&u.assert(u.isInt(n),"Error in maxPool: pad must be an integer when using, "+("dimRoundingMode "+i+" but got pad "+n+"."));var p=c.computePool2DInfo(h.shape,e,r,n,i),d=function(t,i){var o=i[0];return{x:function(){return a(t,h,o,e,r,n)}}},f=s.ENV.engine.runKernel(function(t,e){return e(t.maxPool(h,p))},{x:h},d);return g?f.as3D(f.shape[1],f.shape[2],f.shape[3]):f}function i(t,e,r,n,i){var a=l.convertToTensor(t,"x","avgPool");u.assert("float32"===a.dtype,"The input dtype to avgPool must be float32");var h=a,g=!1;3===a.rank&&(g=!0,h=a.as4D(1,a.shape[0],a.shape[1],a.shape[2])),u.assert(4===h.rank,"Error in avgPool: x must be rank 4 but got rank "+h.rank+"."),null!=i&&u.assert(u.isInt(n),"Error in avgPool: pad must be an integer when using, "+("dimRoundingMode "+i+" but got pad "+n+"."));var p=c.computePool2DInfo(h.shape,e,r,n),d=function(t){return{x:function(){return o(t,h,e,r,n)}}},f=s.ENV.engine.runKernel(function(t){return t.avgPool(h,p)},{x:h},d);return f=f.cast(a.dtype),g?f.as3D(f.shape[1],f.shape[2],f.shape[3]):f}function a(t,e,r,n,i,a,o){var h=l.convertToTensor(t,"dy","maxPoolBackprop"),g=l.convertToTensor(e,"input","maxPoolBackprop"),p=l.convertToTensor(r,"output","maxPoolBackprop");u.assert(g.rank===h.rank,"Rank of input ("+g.rank+") does not match rank of dy ("+h.rank+")"),u.assert(4===h.rank,"Error in maxPoolBackprop: dy must be rank 4 but got rank "+(h.rank+".")),u.assert(4===g.rank,"Error in maxPoolBackprop: input must be rank 4 but got rank "+(g.rank+".")),null!=o&&u.assert(u.isInt(a),"Error in maxPoolBackprop: pad must be an integer when using, "+("dimRoundingMode "+o+" but got pad "+a+"."));var d=c.computePool2DInfo(g.shape,n,i,a,o),f=s.ENV.engine.runKernel(function(t){
return t.maxPoolBackprop(h,g,p,d)},{$dy:h,$input:g});return f}function o(t,e,r,n,i){var a=l.convertToTensor(t,"dy","avgPoolBackprop"),o=l.convertToTensor(e,"input","avgPoolBackprop");u.assert(o.rank===a.rank,"Rank of input ("+o.rank+") does not match rank of dy ("+a.rank+")");var h=o,g=a,p=!1;3===o.rank&&(p=!0,h=o.as4D(1,o.shape[0],o.shape[1],o.shape[2]),g=a.as4D(1,a.shape[0],a.shape[1],a.shape[2])),u.assert(4===g.rank,"Error in avgPoolBackprop: dy must be rank 4 but got rank "+(g.rank+".")),u.assert(4===h.rank,"Error in avgPoolBackprop: input must be rank 4 but got rank "+(h.rank+"."));var d=c.computePool2DInfo(h.shape,r,n,i),f=s.ENV.engine.runKernel(function(t){return t.avgPoolBackprop(g,h,d)},{dy4D:g,input4D:h});return p?f.as3D(f.shape[1],f.shape[2],f.shape[3]):f}Object.defineProperty(e,"__esModule",{value:!0});var s=r(512),l=r(532),u=r(516),c=r(611),h=r(533);e.maxPool=h.op({maxPool_:n}),e.avgPool=h.op({avgPool_:i})},function(t,e,r){"use strict";function n(t,r,n){var i=u.convertToTensor(t,"x","slice1d");return c.assert(1===i.rank,"slice1d expects a rank-1 tensor, but got a rank-"+i.rank+" tensor"),e.slice(i,[r],[n])}function i(t,r,n){var i=u.convertToTensor(t,"x","slice2d");return c.assert(2===i.rank,"slice1d expects a rank-2 tensor, but got a rank-"+i.rank+" tensor"),e.slice(i,r,n)}function a(t,r,n){var i=u.convertToTensor(t,"x","slice3d");return c.assert(3===i.rank,"slice1d expects a rank-3 tensor, but got a rank-"+i.rank+" tensor"),e.slice(i,r,n)}function o(t,r,n){var i=u.convertToTensor(t,"x","slice4d");return c.assert(4===i.rank,"slice1d expects a rank-4 tensor, but got a rank-"+i.rank+" tensor"),e.slice(i,r,n)}function s(t,e,r){var n=u.convertToTensor(t,"x","slice");if(0===n.rank)throw new Error("Slicing scalar is not possible");var i;i="number"==typeof e?[e].concat(new Array(n.rank-1).fill(0)):e.length<n.rank?e.concat(new Array(n.rank-e.length).fill(0)):e.slice();var a;a=null==r?new Array(n.rank).fill(-1):"number"==typeof r?[r].concat(new Array(n.rank-1).fill(-1)):r.length<n.rank?r.concat(new Array(n.rank-r.length).fill(-1)):r,a=a.map(function(t,e){return t>=0?t:(c.assert(t===-1,"Bad value in size"),n.shape[e]-i[e])}),g.assertParamsValid(n,i,a);var o=n.shape,s=function(t){for(var e=[],r=0;r<t.rank;r++)e.push([i[r],o[r]-i[r]-a[r]]);return{$x:function(){return t.pad(e)}}};return l.ENV.engine.runKernel(function(t){return t.slice(n,i,a)},{$x:n},s)}Object.defineProperty(e,"__esModule",{value:!0});var l=r(512),u=r(532),c=r(516),h=r(533),g=r(530);e.slice=h.op({slice_:s}),e.slice1d=h.op({slice1d_:n}),e.slice2d=h.op({slice2d_:i}),e.slice3d=h.op({slice3d_:a}),e.slice4d=h.op({slice4d_:o})},function(t,e,r){"use strict";function n(t,e,r){void 0===e&&(e=null),void 0===r&&(r=!1);var n=f.convertToTensor(t,"x","logSumExp"),i=C.parseAxisParam(e,n.shape),a=n.max(i,!0),o=n.sub(a),s=o.exp(),l=s.sum(i),u=l.log(),c=a.reshape(u.shape).add(u);if(r){var h=C.expandShapeToKeepDim(c.shape,i);return c.reshape(h)}return c}function i(t,e,r){void 0===e&&(e=null),void 0===r&&(r=!1);var n=f.convertToTensor(t,"x","sum");"bool"===n.dtype&&(n=n.toInt());var i=C.parseAxisParam(e,n.shape),a=d.customGrad(function(t){var e=C.getAxesPermutation(i,t.rank),n=i,a=t;null!=e&&(a=t.transpose(e),n=C.getInnerMostAxes(n.length,t.rank));var o=p.ENV.engine.runKernel(function(t){return t.sum(a,n)},{permutedX:a});if(r){var s=C.expandShapeToKeepDim(o.shape,i);o=o.reshape(s)}var l=function(e){var r=t.shape.slice();i.forEach(function(t){r[t]=1});var n=e.reshape(r),a=n.mul(I.ones(t.shape,"float32"));return a};return{value:o,gradFunc:l}});return a(n)}function a(t,e,r){void 0===e&&(e=null),void 0===r&&(r=!1);var n=f.convertToTensor(t,"x","mean"),i=C.parseAxisParam(e,n.shape),a=C.computeOutAndReduceShapes(n.shape,i),o=a[1],s=A.sizeFromShape(o),l=d.customGrad(function(t){var n=I.scalar(s),a=n.dtype===t.dtype?t:t.cast(n.dtype),o=a.div(n),l=o.sum(e,r),u=function(e){var r=t.shape.slice();i.forEach(function(t){r[t]=1});var a=e.reshape(r),o=a.mul(I.ones(t.shape,"float32")).div(n);return o};return{value:l,gradFunc:u}});return l(n)}function o(t,e,r){void 0===e&&(e=null),void 0===r&&(r=!1);var n=f.convertToTensor(t,"x","min"),i=C.parseAxisParam(e,n.shape),a=i,o=C.getAxesPermutation(a,n.rank);null!=o&&(n=n.transpose(o),a=C.getInnerMostAxes(a.length,n.rank));var s=p.ENV.engine.runKernel(function(t){return t.min(n,a)},{$x:n});if(r){var l=C.expandShapeToKeepDim(s.shape,i);return s.reshape(l)}return s}function s(t,e,r){void 0===e&&(e=null),void 0===r&&(r=!1);var n=f.convertToTensor(t,"x","max"),i=C.parseAxisParam(e,n.shape),a=i,o=C.getAxesPermutation(a,n.rank);null!=o&&(n=n.transpose(o),a=C.getInnerMostAxes(a.length,n.rank));var s=p.ENV.engine.runKernel(function(t){return t.max(n,a)},{$x:n});if(r){var l=C.expandShapeToKeepDim(s.shape,i);return s.reshape(l)}return s}function l(t,e){void 0===e&&(e=0);var r=f.convertToTensor(t,"x","argMin");null==e&&(e=0);var n=C.parseAxisParam(e,r.shape),i=C.getAxesPermutation(n,r.rank);null!=i&&(r=r.transpose(i),n=C.getInnerMostAxes(n.length,r.rank));var a=function(t){return{$x:function(){return I.zerosLike(r)}}};return p.ENV.engine.runKernel(function(t){return t.argMin(r,n[0])},{$x:r},a)}function u(t,e){void 0===e&&(e=0);var r=f.convertToTensor(t,"x","argMax");null==e&&(e=0);var n=C.parseAxisParam(e,r.shape),i=C.getAxesPermutation(n,r.rank);null!=i&&(r=r.transpose(i),n=C.getInnerMostAxes(n.length,r.rank));var a=function(t){return{$x:function(){return I.zerosLike(r)}}};return p.ENV.engine.runKernel(function(t){return t.argMax(r,n[0])},{$x:r},a)}function c(t,e,r){void 0===e&&(e=null),void 0===r&&(r=!1);var n=f.convertToTensor(t,"x","all","bool");A.assert("bool"===n.dtype,"Error Tensor must be of type bool. Got: "+n.dtype);var i=C.parseAxisParam(e,n.shape),a=i,o=C.getAxesPermutation(a,n.rank);null!=o&&(n=n.transpose(o),a=C.getInnerMostAxes(a.length,n.rank));var s=p.ENV.engine.runKernel(function(t){return t.all(n,a)},{$x:n});if(r){var l=C.expandShapeToKeepDim(s.shape,i);return s.reshape(l)}return s}function h(t,e,r){void 0===e&&(e=null),void 0===r&&(r=!1);var n=f.convertToTensor(t,"x","any","bool");A.assert("bool"===n.dtype,"Error Tensor must be of type bool. Got: "+n.dtype);var i=C.parseAxisParam(e,n.shape),a=i,o=C.getAxesPermutation(a,n.rank);null!=o&&(n=n.transpose(o),a=C.getInnerMostAxes(a.length,n.rank));var s=p.ENV.engine.runKernel(function(t){return t.any(n,a)},{$x:n});if(r){var l=C.expandShapeToKeepDim(s.shape,i);return s.reshape(l)}return s}function g(t,e,r){void 0===e&&(e=null),void 0===r&&(r=!1),t=f.convertToTensor(t,"x","moments");var n=C.parseAxisParam(e,t.shape),i=t.mean(n,r),a=i.shape;r||(a=C.expandShapeToKeepDim(i.shape,n));var o=t.toFloat().sub(i.reshape(a)).square(),s=o.mean(n,r);return{mean:i,variance:s}}Object.defineProperty(e,"__esModule",{value:!0});var p=r(512),d=r(522),f=r(532),A=r(516),C=r(526),m=r(533),I=r(534);e.all=m.op({all_:c}),e.any=m.op({any_:h}),e.argMax=m.op({argMax_:u}),e.argMin=m.op({argMin_:l}),e.logSumExp=m.op({logSumExp_:n}),e.max=m.op({max_:s}),e.mean=m.op({mean_:a}),e.min=m.op({min_:o}),e.moments=m.op({moments_:g}),e.sum=m.op({sum_:i})},function(t,e,r){"use strict";function n(t,e){var r=C.convertToTensor(t,"a","notEqual"),n=C.convertToTensor(e,"b","notEqual");return A.assertTypesMatch(r,n),I.assertAndGetBroadcastShape(r.shape,n.shape),f.ENV.engine.runKernel(function(t){return t.notEqual(r,n)},{$a:r,$b:n})}function i(t,e){var r=C.convertToTensor(t,"a","notEqualStrict"),n=C.convertToTensor(e,"b","notEqualStrict");return m.assertShapesMatch(r.shape,n.shape,"Error in notEqualStrict: "),r.notEqual(n)}function a(t,e){var r=C.convertToTensor(t,"a","less"),n=C.convertToTensor(e,"b","less");return A.assertTypesMatch(r,n),I.assertAndGetBroadcastShape(r.shape,n.shape),f.ENV.engine.runKernel(function(t){return t.less(r,n)},{$a:r,$b:n})}function o(t,e){var r=C.convertToTensor(t,"a","lessStrict"),n=C.convertToTensor(e,"b","lessStrict");return m.assertShapesMatch(r.shape,n.shape,"Error in lessStrict: "),r.less(n)}function s(t,e){var r=C.convertToTensor(t,"a","equal"),n=C.convertToTensor(e,"b","equal");return A.assertTypesMatch(r,n),I.assertAndGetBroadcastShape(r.shape,n.shape),f.ENV.engine.runKernel(function(t){return t.equal(r,n)},{$a:r,$b:n})}function l(t,e){var r=C.convertToTensor(t,"a","equalStrict"),n=C.convertToTensor(e,"b","equalStrict");return m.assertShapesMatch(r.shape,n.shape,"Error in equalStrict: "),r.equal(n)}function u(t,e){var r=C.convertToTensor(t,"a","lessEqual"),n=C.convertToTensor(e,"b","lessEqual");return A.assertTypesMatch(r,n),I.assertAndGetBroadcastShape(r.shape,n.shape),f.ENV.engine.runKernel(function(t){return t.lessEqual(r,n)},{$a:r,$b:n})}function c(t,e){var r=C.convertToTensor(t,"a","lessEqualStrict"),n=C.convertToTensor(e,"b","lessEqualStrict");return m.assertShapesMatch(r.shape,n.shape,"Error in lessEqualStrict: "),r.lessEqual(n)}function h(t,e){var r=C.convertToTensor(t,"a","greater"),n=C.convertToTensor(e,"b","greater");return A.assertTypesMatch(r,n),I.assertAndGetBroadcastShape(r.shape,n.shape),f.ENV.engine.runKernel(function(t){return t.greater(r,n)},{$a:r,$b:n})}function g(t,e){var r=C.convertToTensor(t,"a","greaterStrict"),n=C.convertToTensor(e,"b","greaterStrict");return m.assertShapesMatch(r.shape,n.shape,"Error in greaterStrict: "),r.greater(n)}function p(t,e){var r=C.convertToTensor(t,"a","greaterEqual"),n=C.convertToTensor(e,"b","greaterEqual");A.assertTypesMatch(r,n),I.assertAndGetBroadcastShape(r.shape,n.shape);var i=function(t){return{$a:function(){return y.zerosLike(r)},$b:function(){return y.zerosLike(n)}}};return f.ENV.engine.runKernel(function(t){return t.greaterEqual(r,n)},{$a:r,$b:n},i)}function d(t,e){var r=C.convertToTensor(t,"a","greaterEqualStrict"),n=C.convertToTensor(e,"b","greaterEqualStrict");return m.assertShapesMatch(r.shape,n.shape,"Error in greaterEqualStrict: "),r.greaterEqual(n)}Object.defineProperty(e,"__esModule",{value:!0});var f=r(512),A=r(520),C=r(532),m=r(516),I=r(545),v=r(533),y=r(534);e.equal=v.op({equal_:s}),e.equalStrict=v.op({equalStrict_:l}),e.greater=v.op({greater_:h}),e.greaterEqual=v.op({greaterEqual_:p}),e.greaterEqualStrict=v.op({greaterEqualStrict_:d}),e.greaterStrict=v.op({greaterStrict_:g}),e.less=v.op({less_:a}),e.lessEqual=v.op({lessEqual_:u}),e.lessEqualStrict=v.op({lessEqualStrict_:c}),e.lessStrict=v.op({lessStrict_:o}),e.notEqual=v.op({notEqual_:n}),e.notEqualStrict=v.op({notEqualStrict_:i})},function(t,e,r){"use strict";function n(t,e){var r=S.convertToTensor(t,"a","add"),n=S.convertToTensor(e,"b","add");N.assertTypesMatch(r,n);var i=k.assertAndGetBroadcastShape(r.shape,n.shape),a=function(t){var e=function(){var e=t,n=k.getReductionAxes(r.shape,i);return n.length>0&&(e=e.sum(n)),e.reshape(r.shape)},a=function(){var e=t,r=k.getReductionAxes(n.shape,i);return r.length>0&&(e=e.sum(r)),e.reshape(n.shape)};return{$a:e,$b:a}};return w.ENV.engine.runKernel(function(t){return t.add(r,n)},{$a:r,$b:n},a)}function i(t){E.assert(Array.isArray(t),function(){return"The argument passed to tf.addN() must be a list of tensors"}),E.assert(t.length>=1,function(){return"Must pass at least one tensor to tf.addN(), but got "+t.length});var e=t.map(function(t,e){return S.convertToTensor(t,"tensors"+e,"addN")}),r=e[0];e.forEach(function(t){if(t.dtype!==r.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")}),e.forEach(function(t){if(!E.arraysEqual(t.shape,r.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")});var n=function(t){var r={};return e.forEach(function(e,n){r[n]=function(){return t.clone()}}),r},i=e;return w.ENV.engine.runKernel(function(t){return t.addN(e)},i,n)}function a(t,e){return E.assertShapesMatch(t.shape,e.shape,"Error in addStrict: "),t.add(e)}function o(t,e){var r=S.convertToTensor(t,"a","sub"),n=S.convertToTensor(e,"b","sub");N.assertTypesMatch(r,n);var i=k.assertAndGetBroadcastShape(r.shape,n.shape),a=function(t){var e=function(){var e=t,n=k.getReductionAxes(r.shape,i);return n.length>0&&(e=e.sum(n)),e.reshape(r.shape)},a=function(){var e=t,r=k.getReductionAxes(n.shape,i);return r.length>0&&(e=e.sum(r)),e.neg().reshape(n.shape)};return{$a:e,$b:a}};return w.ENV.engine.runKernel(function(t){return t.subtract(r,n)},{$a:r,$b:n},a)}function s(t,e){return E.assertShapesMatch(t.shape,e.shape,"Error in subStrict: "),t.sub(e)}function l(t,e){var r=S.convertToTensor(t,"base","pow"),n=S.convertToTensor(e,"exp","pow"),i=k.assertAndGetBroadcastShape(r.shape,n.shape);t=r.cast(T.upcastType(r.dtype,n.dtype)),e=n.cast(T.upcastType(r.dtype,n.dtype));var a=function(t,e){var a=e[0],o=function(){var e=t.mul(n.toFloat().mul(a.div(r))),o=k.getReductionAxes(r.shape,i);return o.length>0&&(e=e.sum(o)),e.reshape(r.shape)},s=function(){var e=t.mul(a.mul(r.log()).toFloat()),o=k.getReductionAxes(n.shape,i);return o.length>0&&(e=e.sum(o)),e.reshape(n.shape)};return{$base:o,$exp:s}};return w.ENV.engine.runKernel(function(t,e){return e(t.pow(r,n))},{$base:r,$exp:n},a)}function u(t,e){return E.assertShapesMatch(t.shape,e.shape,"Error in powStrict: "),t.pow(e)}function c(t,e){var r=S.convertToTensor(t,"a","mul"),n=S.convertToTensor(e,"b","mul");N.assertTypesMatch(r,n);var i=k.assertAndGetBroadcastShape(r.shape,n.shape),a=function(t){var e=function(){var e=t.mul(n.toFloat()),a=k.getReductionAxes(r.shape,i);return a.length>0?e.sum(a).reshape(r.shape):e},a=function(){var e=t.mul(r.toFloat()),a=k.getReductionAxes(n.shape,i);return a.length>0?e.sum(a).reshape(n.shape):e};return{$a:e,$b:a}};return w.ENV.engine.runKernel(function(t){return t.multiply(r,n)},{$a:r,$b:n},a)}function h(t,e){return E.assertShapesMatch(t.shape,e.shape,"Error in multiplyStrict: "),t.mul(e)}function g(t,r){var n=S.convertToTensor(t,"a","div"),i=S.convertToTensor(r,"b","div");N.assertTypesMatch(n,i);var a;if("int32"===n.dtype&&"int32"===i.dtype)return e.floorDiv(n,i);a=function(t){return t.realDivide(n,i)};var o=k.assertAndGetBroadcastShape(n.shape,i.shape),s=function(t){var e=function(){var e=t.div(i.toFloat()),r=k.getReductionAxes(n.shape,o);return r.length>0?e.sum(r).reshape(n.shape):e},r=function(){var e=t.mul(n.toFloat()),r=k.getReductionAxes(i.shape,o);r.length>0&&(e=e.sum(r).reshape(i.shape));var a=i.square();return e.div(a.toFloat()).neg()};return{$a:e,$b:r}};return w.ENV.engine.runKernel(a,{$a:n,$b:i},s)}function p(t,e){var r=S.convertToTensor(t,"a","floorDiv"),n=S.convertToTensor(e,"b","floorDiv");N.assertTypesMatch(r,n);var i=function(t){return t.floorDiv(r,n)},a=k.assertAndGetBroadcastShape(r.shape,n.shape),o=function(t){var e=function(){var e=t.div(n.toFloat()),i=k.getReductionAxes(r.shape,a);return i.length>0?e.sum(i).reshape(r.shape):e},i=function(){var e=t.mul(r.toFloat()),i=k.getReductionAxes(n.shape,a);i.length>0&&(e=e.sum(i).reshape(n.shape));var o=n.square();return e.div(o.toFloat()).neg()};return{$a:e,$b:i}};return w.ENV.engine.runKernel(i,{$a:r,$b:n},o)}function d(t,e){return E.assertShapesMatch(t.shape,e.shape,"Error in divideStrict: "),t.div(e)}function f(t,e){var r=S.convertToTensor(t,"a","mod"),n=S.convertToTensor(e,"b","mod");N.assertTypesMatch(r,n);var i=k.assertAndGetBroadcastShape(r.shape,n.shape),a=function(t){var e=function(){var e=k.getReductionAxes(r.shape,i);return e.length>0?t.sum(e).reshape(r.shape):t},a=function(){var e=t.mul(r.div(n).floor().neg()),a=k.getReductionAxes(n.shape,i);return a.length>0?e.sum(a).reshape(n.shape):e};return{$a:e,$b:a}};return w.ENV.engine.runKernel(function(t){return t.mod(r,n)},{$a:r,$b:n},a)}function A(t,e){return E.assertShapesMatch(t.shape,e.shape,"Error in modStrict: "),t.mod(e)}function C(t,e){var r=S.convertToTensor(t,"a","minimum"),n=S.convertToTensor(e,"b","minimum");N.assertTypesMatch(r,n),"bool"===r.dtype&&(r=r.toInt()),"bool"===n.dtype&&(n=n.toInt()),k.assertAndGetBroadcastShape(r.shape,n.shape);var i=function(t){var e=function(){return t.mul(r.lessEqual(n).toFloat())},i=function(){return t.mul(r.greater(n).toFloat())};return{$a:e,$b:i}};return w.ENV.engine.runKernel(function(t){return t.minimum(r,n)},{$a:r,$b:n},i)}function m(t,e){return E.assertShapesMatch(t.shape,e.shape,"Error in minimumStrict: "),t.minimum(e)}function I(t,e){var r=S.convertToTensor(t,"a","maximum"),n=S.convertToTensor(e,"b","maximum");N.assertTypesMatch(r,n),"bool"===r.dtype&&(r=r.toInt()),"bool"===n.dtype&&(n=n.toInt()),k.assertAndGetBroadcastShape(r.shape,n.shape);var i=function(t){var e=function(){return t.mul(r.greaterEqual(n).toFloat())},i=function(){return t.mul(r.less(n).toFloat())};return{$a:e,$b:i}};return w.ENV.engine.runKernel(function(t){return t.maximum(r,n)},{$a:r,$b:n},i)}function v(t,e){return E.assertShapesMatch(t.shape,e.shape,"Error in maximumStrict: "),t.maximum(e)}function y(t,e){var r=S.convertToTensor(t,"a","squaredDifference"),n=S.convertToTensor(e,"b","squaredDifference");N.assertTypesMatch(r,n),k.assertAndGetBroadcastShape(r.shape,n.shape);var i=function(t){var e=_.scalar(2),i=function(){return t.mul(r.sub(n).mul(e))},a=function(){return t.mul(n.sub(r).mul(e))};return{$a:i,$b:a}};return w.ENV.engine.runKernel(function(t){return t.squaredDifference(r,n)},{$a:r,$b:n},i)}function b(t,e){return E.assertShapesMatch(t.shape,e.shape,"Error in squaredDifferenceStrict: "),t.squaredDifference(e)}function x(t,r){var n=S.convertToTensor(t,"a","atan2"),i=S.convertToTensor(r,"b","atan2");N.assertTypesMatch(n,i);var a=k.assertAndGetBroadcastShape(n.shape,i.shape),o=function(t){var r=function(){var r=e.add(n.square(),i.square()),o=t.mul(i.div(r)),s=k.getReductionAxes(n.shape,a);return s.length>0&&(o=o.sum(s)),o.reshape(n.shape)},o=function(){var r=e.add(n.square(),i.square()),o=P.neg(t.mul(n.div(r))),s=k.getReductionAxes(i.shape,a);return s.length>0&&(o=o.sum(s)),o.reshape(i.shape)};return{$a:r,$b:o}};return w.ENV.engine.runKernel(function(t){return t.atan2(n,i)},{$a:n,$b:i},o)}Object.defineProperty(e,"__esModule",{value:!0});var w=r(512),N=r(520),S=r(532),T=r(536),E=r(516),k=r(545),O=r(533),_=r(534),P=r(609);e.add=O.op({add_:n}),e.addN=O.op({addN_:i}),e.addStrict=O.op({addStrict_:a}),e.atan2=O.op({atan2_:x}),e.div=O.op({div_:g}),e.divStrict=O.op({divStrict_:d}),e.floorDiv=O.op({floorDiv_:p}),e.maximum=O.op({maximum_:I}),e.maximumStrict=O.op({maximumStrict_:v}),e.minimum=O.op({minimum_:C}),e.minimumStrict=O.op({minimumStrict_:m}),e.mod=O.op({mod_:f}),e.modStrict=O.op({modStrict_:A}),e.mul=O.op({mul_:c}),e.mulStrict=O.op({mulStrict_:h}),e.pow=O.op({pow_:l}),e.powStrict=O.op({powStrict_:u}),e.squaredDifference=O.op({squaredDifference_:y}),e.squaredDifferenceStrict=O.op({squaredDifferenceStrict_:b}),e.sub=O.op({sub_:o}),e.subStrict=O.op({subStrict_:s})},function(t,e,r){"use strict";function n(t){var e=u.convertToTensor(t,"x","relu");if("bool"===e.dtype)return e.toInt();var r=function(t){var r=e.step();return{$x:function(){return t.mulStrict(r.toFloat())}}};return l.ENV.engine.runKernel(function(t){return t.relu(e)},{$x:e},r)}function i(t){var e=u.convertToTensor(t,"x","elu"),r=function(t,e){var r=e[0];return{$x:function(){return l.ENV.engine.runKernel(function(e){return e.eluDer(t,r)},{dy:t,y:r})}}};return l.ENV.engine.runKernel(function(t,r){return r(t.elu(e))},{$x:e},r)}function a(t){var e=u.convertToTensor(t,"x","selu"),r=function(t){return{$x:function(){var r=e.greater(d.scalar(0)),n=d.scalar(p.SELU_SCALEALPHA),i=d.scalar(p.SELU_SCALE),a=t.mul(i),o=t.mul(n).mul(e.toFloat().exp());return h.where(r,a,o)}}};return l.ENV.engine.runKernel(function(t){return t.selu(e)},{$x:e},r)}function o(t,e){void 0===e&&(e=.2);var r=u.convertToTensor(t,"x","leakyRelu");return c.maximum(d.scalar(e).mul(r),r)}function s(t,e){var r=u.convertToTensor(t,"x","prelu"),n=u.convertToTensor(e,"alpha","prelu"),i=d.scalar(0);return c.maximum(i,r).add(n.mul(c.minimum(i,r)))}Object.defineProperty(e,"__esModule",{value:!0});var l=r(512),u=r(532),c=r(618),h=r(620),g=r(533),p=r(589),d=r(534);e.elu=g.op({elu_:i}),e.leakyRelu=g.op({leakyRelu_:o}),e.prelu=g.op({prelu_:s}),e.relu=g.op({relu_:n}),e.selu=g.op({selu_:a})},function(t,e,r){"use strict";function n(t){var e=p.convertToTensor(t,"x","logicalNot","bool");return d.assert("bool"===e.dtype,"Error Array must be of type bool."),h.ENV.engine.runKernel(function(t){return t.logicalNot(e)},{$x:e})}function i(t,e){var r=p.convertToTensor(t,"a","logicalAnd","bool"),n=p.convertToTensor(e,"b","logicalAnd","bool");return d.assert("bool"===r.dtype&&"bool"===n.dtype,"Error Array must be of type bool."),f.assertAndGetBroadcastShape(r.shape,n.shape),h.ENV.engine.runKernel(function(t){return t.logicalAnd(r,n)},{$a:r,$b:n})}function a(t,e){var r=p.convertToTensor(t,"a","logicalOr","bool"),n=p.convertToTensor(e,"b","logicalOr","bool");return d.assert("bool"===r.dtype&&"bool"===n.dtype,"Error Array must be of type bool."),f.assertAndGetBroadcastShape(r.shape,n.shape),h.ENV.engine.runKernel(function(t){return t.logicalOr(r,n)},{$a:r,$b:n})}function o(t,r){var n=p.convertToTensor(t,"a","logicalXor","bool"),i=p.convertToTensor(r,"b","logicalXor","bool");return d.assert("bool"===n.dtype&&"bool"===i.dtype,"Error Array must be of type bool."),f.assertAndGetBroadcastShape(n.shape,i.shape),e.logicalOr(t,r).logicalAnd(e.logicalAnd(t,r).logicalNot())}function s(t,e,r){var n=p.convertToTensor(e,"a","where"),i=p.convertToTensor(r,"b","where"),a=p.convertToTensor(t,"condition","where","bool");d.assert("bool"===a.dtype,"Error Condition must be of type bool."),d.assertShapesMatch(n.shape,i.shape,"Error in where: "),1===a.rank?d.assert(a.shape[0]===n.shape[0],"The first dimension of `a` must match the size of `condition`."):d.assertShapesMatch(a.shape,i.shape,"Error in where: ");var o=function(t){return{$condition:function(){return C.zerosLike(a)},$a:function(){return t.mul(a.cast(n.dtype))},$b:function(){return t.mul(a.logicalNot().cast(i.dtype))}}};return h.ENV.engine.runKernel(function(t){return t.select(a,n,i)},{$condition:a,$a:n,$b:i},o)}function l(t){return u(this,void 0,void 0,function(){var e,r,n;return c(this,function(i){switch(i.label){case 0:return e=p.convertToTensor(t,"condition","where","bool"),d.assert("bool"===e.dtype,"Condition must be of type bool."),[4,e.data()];case 1:return r=i.sent(),n=g.whereImpl(e.shape,r),t!==e&&e.dispose(),[2,n]}})})}var u=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))(function(i,a){function o(t){try{l(n.next(t))}catch(t){a(t)}}function s(t){try{l(n.throw(t))}catch(t){a(t)}}function l(t){t.done?i(t.value):new r(function(e){e(t.value)}).then(o,s)}l((n=n.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){function r(t){return function(e){return n([t,e])}}function n(r){if(i)throw new TypeError("Generator is already executing.");for(;l;)try{if(i=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return l.label++,{value:r[1],done:!1};case 5:l.label++,a=r[1],r=[0];continue;case 7:r=l.ops.pop(),l.trys.pop();continue;default:if(o=l.trys,!(o=o.length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){l=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){l.label=r[1];break}if(6===r[0]&&l.label<o[1]){l.label=o[1],o=r;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(r);break}o[2]&&l.ops.pop(),l.trys.pop();continue}r=e.call(t,l)}catch(t){r=[6,t],a=0}finally{i=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}var i,a,o,s,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(e,"__esModule",{value:!0});var h=r(512),g=r(590),p=r(532),d=r(516),f=r(545),A=r(533),C=r(534);e.logicalAnd=A.op({logicalAnd_:i}),e.logicalNot=A.op({logicalNot_:n}),e.logicalOr=A.op({logicalOr_:a}),e.logicalXor=A.op({logicalXor_:o}),e.where=A.op({where_:s}),e.whereAsync=l},function(t,e,r){"use strict";function n(t,e){var r=a.convertToTensor(t,"x","transpose");if(null==e&&(e=r.shape.map(function(t,e){return e}).reverse()),o.assert(r.rank===e.length,"Error in transpose: rank of input "+r.rank+" "+("must match length of perm "+e+".")),e.forEach(function(t){o.assert(t>=0&&t<r.rank,"All entries in 'perm' must be between 0 and "+(r.rank-1)+(" but got "+e))}),r.rank<=1)return r.clone();var n=function(t){var r=s.getUndoAxesPermutation(e);return{$x:function(){return t.transpose(r)}}};return i.ENV.engine.runKernel(function(t){return t.transpose(r,e)},{$x:r},n)}Object.defineProperty(e,"__esModule",{value:!0});var i=r(512),a=r(532),o=r(516),s=r(526),l=r(533);e.transpose=l.op({transpose_:n})},function(t,e,r){"use strict";function n(t,e,r,n,s){void 0===e&&(e=5),void 0===r&&(r=1),void 0===n&&(n=1),void 0===s&&(s=.5);var l=a.convertToTensor(t,"x","localResponseNormalization");o.assert(4===l.rank||3===l.rank,"Error in localResponseNormalization: x must be rank 3 or 4 but got\n               rank "+l.rank+"."),o.assert(o.isInt(e),"Error in localResponseNormalization: depthRadius must be an integer\n                     but got depthRadius "+e+".");var u=l,c=!1;3===l.rank&&(c=!0,u=l.as4D(1,l.shape[0],l.shape[1],l.shape[2]));var h=function(t,a){var o=a[0];return{x4D:function(){return i.ENV.engine.runKernel(function(i){return i.LRNGrad(t,u,o,e,r,n,s)},{})}}},g=i.ENV.engine.runKernel(function(t,i){return i(t.localResponseNormalization4D(u,e,r,n,s))},{x4D:u},h);return c?g.as3D(g.shape[1],g.shape[2],g.shape[3]):g}Object.defineProperty(e,"__esModule",{value:!0});var i=r(512),a=r(532),o=r(516),s=r(533);e.localResponseNormalization=s.op({localResponseNormalization_:n})},function(t,e,r){"use strict";function n(t,e,r,n){void 0===e&&(e="euclidean"),void 0===r&&(r=null),void 0===n&&(n=!1),t=a.convertToTensor(t,"x","norm");var s=i(t,e,r),l=s.shape;if(n){var u=o.parseAxisParam(r,t.shape);l=o.expandShapeToKeepDim(s.shape,u)}return s.reshape(l)}function i(t,e,r){if(void 0===r&&(r=null),0===t.rank)return t.abs();if(1!==t.rank&&null===r)return i(t.reshape([-1]),e,r);if(1===t.rank||"number"==typeof r||r instanceof Array&&1===r.length){if(1===e)return t.abs().sum(r);if(e===1/0)return t.abs().max(r);if(e===-(1/0))return t.abs().min(r);if("euclidean"===e||2===e)return t.abs().pow(l.scalar(2,"int32")).sum(r).sqrt();throw new Error("Error in norm: invalid ord value: "+e)}if(r instanceof Array&&2===r.length){if(1===e)return t.abs().sum(r[0]).max(r[1]-1);if(e===1/0)return t.abs().sum(r[1]).max(r[0]);if(e===-(1/0))return t.abs().sum(r[1]).min(r[0]);if("fro"===e||"euclidean"===e)return t.square().sum(r).sqrt();throw new Error("Error in norm: invalid ord value: "+e)}throw new Error("Error in norm: invalid axis: "+r)}Object.defineProperty(e,"__esModule",{value:!0});var a=r(532),o=r(526),s=r(533),l=r(534);e.norm=s.op({norm_:n})},function(t,e,r){"use strict";function n(t,e,r){var n=u.convertToTensor(t,"x","unsortedSegmentSum"),i=u.convertToTensor(e,"segmentIds","unsortedSegmentSum","int32");c.assert("int32"===i.dtype,"segmentIds must be of dtype `int32`"),c.assert(c.isInt(r),"numSegments must be of dtype int");var a=function(t){var e=function(){return s(t,i)};return{$x:e}};return l.ENV.engine.runKernel(function(t){return t.unsortedSegmentSum(n,i,r)},{$x:n},a)}function i(t,r,n){void 0===n&&(n=0);var i=u.convertToTensor(t,"x","gather"),s=u.convertToTensor(r,"indices","gather","int32");c.assert("int32"===s.dtype,"Indices must be of dtype `int32`"),n=g.parseAxisParam(n,i.shape)[0];var h=function(t){var r=function(){if(0===n)return e.unsortedSegmentSum(t,s,i.shape[n]);var r=i.shape,l=s.size,u=r.slice(0,n),c=u.length,h=r.slice(n,r.length).slice(1),p=h.length,d=a(0,c),f=a(c+1,c+1+p),A=o([u,[l],h]),C=t.reshape(A),m=s.reshape([l]),I=o([[c],d,f]),v=C.transpose(I),y=e.unsortedSegmentSum(v,m,i.shape[n]),b=g.getUndoAxesPermutation(I);return y=y.transpose(b)};return{$x:r}};return l.ENV.engine.runKernel(function(t){return t.gather(i,s,n)},{$x:i},h)}function a(t,e){for(var r=[],n=t;n<e;++n)r.push(n);return r}function o(t){for(var e=[],r=0;r<t.length;++r)for(var n=0;n<t[r].length;++n)e.push(t[r][n]);return e}function s(t,r){for(var n=p.maximum(r,C.zerosLike(r)),i=e.gather(t,n),a=d.greaterEqual(r,C.scalar(0,"int32")),o=i.rank-a.rank,s=0;s<o;++s)a=h.expandDims(a,s+1);a=f.logicalAnd(a,C.ones(i.shape,"bool"));var l=C.zerosLike(i);return f.where(a,i,l)}Object.defineProperty(e,"__esModule",{value:!0});var l=r(512),u=r(532),c=r(516),h=r(591),g=r(526),p=r(618),d=r(617),f=r(620),A=r(533),C=r(534);e.gather=A.op({gather_:i}),e.unsortedSegmentSum=A.op({unsortedSegmentSum_:n})},function(t,e,r){"use strict";function n(t,e,r,n){for(var i=a.convertToTensor(e,"data","multiRNNCell"),o=a.convertToTensorArray(r,"c","multiRNNCell"),s=a.convertToTensorArray(n,"h","multiRNNCell"),l=i,u=[],c=0;c<t.length;c++){var h=t[c](l,o[c],s[c]);u.push(h[0]),u.push(h[1]),l=h[1]}for(var g=[],p=[],c=0;c<u.length;c+=2)g.push(u[c]),p.push(u[c+1]);return[g,p]}function i(t,e,r,n,i,o){var s=a.convertToTensor(t,"forgetBias","basicLSTMCell"),l=a.convertToTensor(e,"lstmKernel","basicLSTMCell"),u=a.convertToTensor(r,"lstmBias","basicLSTMCell"),c=a.convertToTensor(n,"data","basicLSTMCell"),h=a.convertToTensor(i,"c","basicLSTMCell"),g=a.convertToTensor(o,"h","basicLSTMCell"),p=c.concat(g,1),d=p.matMul(l),f=d.add(u),A=f.shape[0],C=f.shape[1]/4,m=[A,C],I=f.slice([0,0],m),v=f.slice([0,C],m),y=f.slice([0,2*C],m),b=f.slice([0,3*C],m),x=I.sigmoid().mulStrict(v.tanh()).addStrict(h.mulStrict(s.add(y).sigmoid())),w=x.tanh().mulStrict(b.sigmoid());return[x,w]}Object.defineProperty(e,"__esModule",{value:!0});var a=r(532),o=r(533);e.basicLSTMCell=o.op({basicLSTMCell_:i}),e.multiRNNCell=o.op({multiRNNCell_:n})},function(t,e,r){"use strict";function n(t,e,r,n,l){void 0===l&&(l=!0);var c=a.convertToTensor(t,"v","movingAverage"),h=a.convertToTensor(e,"x","movingAverage"),g=a.convertToTensor(r,"decay","movingAverage");i.assertTypesMatch(c,h),o.assert(o.arraysEqual(c.shape,h.shape),"Shape mismatch in v and x");var p=u.scalar(1),d=p.sub(g),f=h.sub(c).mul(d);if(l){o.assert(null!=n,"When using zeroDebias: true, step is required.");var A=a.convertToTensor(n,"step","movingAverage");f=f.div(p.sub(s.pow(g,A)))}return c.add(f)}Object.defineProperty(e,"__esModule",{value:!0});var i=r(520),a=r(532),o=r(516),s=r(618),l=r(533),u=r(534);e.movingAverage=l.op({movingAverage_:n})},function(t,e,r){"use strict";function n(t,e,r,n,o,s,l,u,c){if(void 0===o&&(o=0),void 0===s&&(s=0),void 0===l&&(l=0),void 0===u&&(u=0),void 0===c&&(c=0),0!==l)throw new Error("ellipsis mask is not yet supported");if(0!==u)throw new Error("new axis mask is not yet supported");var h=a.convertToTensor(t,"x","stridedSlice");return i.ENV.engine.runKernel(function(t){return t.stridedSlice(h,e,r,n,o,s,l,u,c)},{$x:h})}Object.defineProperty(e,"__esModule",{value:!0});var i=r(512),a=r(532),o=r(533);e.stridedSlice=o.op({stridedSlice_:n})},function(t,e,r){"use strict";function n(t,e,r){void 0===e&&(e=1),void 0===r&&(r=!0);var n=a.convertToTensor(t,"x","topk");if(0===n.rank)throw new Error("topk() expects the input to be of rank 1 or higher");var o=n.shape[n.shape.length-1];if(e>o)throw new Error("'k' passed to topk() must be <= the last dimension ("+o+") but got "+e);var s=i.ENV.engine.runKernel(function(t){return t.topk(n,e,r)},{$x:n}),l=s[0],u=s[1];return{values:l,indices:u}}Object.defineProperty(e,"__esModule",{value:!0});var i=r(512),a=r(532),o=r(533);e.topk=o.op({topk_:n})},function(t,e,r){"use strict";function n(t,e,r){void 0===r&&(r=d.SUM_BY_NONZERO_WEIGHTS);var n=A.convertToTensor(t,"losses","computeWeightedLoss"),i=null;null!=e&&(i=A.convertToTensor(e,"weights","computeWeightedLoss"));var a=null==i?n:n.mul(i);if(r===d.NONE)return a;if(r===d.SUM)return a.sum();if(r===d.MEAN){if(null==i)return a.mean();var o=C.sizeFromShape(n.shape)/C.sizeFromShape(i.shape),s=a.sum().div(i.sum());return o>1?s.div(y.scalar(o)):s}if(r===d.SUM_BY_NONZERO_WEIGHTS){if(null==i)return a.sum().div(y.scalar(n.size));var l=i.mul(y.ones(n.shape)),u=l.notEqual(y.scalar(0)).sum().toFloat();return a.sum().div(u)}throw Error("Unknown reduction: "+r)}function i(t,r,n,i){void 0===i&&(i=d.SUM_BY_NONZERO_WEIGHTS);var a=A.convertToTensor(t,"labels","absoluteDifference"),o=A.convertToTensor(r,"predictions","absoluteDifference"),s=null;
null!=n&&(s=A.convertToTensor(n,"weights","absoluteDifference")),C.assertShapesMatch(a.shape,o.shape,"Error in absoluteDifference: ");var l=a.sub(o).abs();return e.computeWeightedLoss(l,s,i)}function a(t,r,n,i){void 0===i&&(i=d.SUM_BY_NONZERO_WEIGHTS);var a=A.convertToTensor(t,"labels","meanSquaredError"),o=A.convertToTensor(r,"predictions","meanSquaredError"),s=null;null!=n&&(s=A.convertToTensor(n,"weights","meanSquaredError")),C.assertShapesMatch(a.shape,o.shape,"Error in meanSquaredError: ");var l=a.squaredDifference(o);return e.computeWeightedLoss(l,s,i)}function o(t,r,n,i,a){void 0===a&&(a=d.SUM_BY_NONZERO_WEIGHTS);var o=A.convertToTensor(t,"labels","cosineDistance"),s=A.convertToTensor(r,"predictions","cosineDistance"),l=null;null!=i&&(l=A.convertToTensor(i,"weights","cosineDistance")),C.assertShapesMatch(o.shape,s.shape,"Error in cosineDistance: ");var u=y.scalar(1),c=u.sub(o.mul(s).sum(n,!0));return e.computeWeightedLoss(c,l,a)}function s(t,r,n,i){void 0===i&&(i=d.SUM_BY_NONZERO_WEIGHTS);var a=A.convertToTensor(t,"labels","hingeLoss"),o=A.convertToTensor(r,"predictions","hingeLoss"),s=null;null!=n&&(s=A.convertToTensor(n,"weights","hingeLoss")),C.assertShapesMatch(a.shape,o.shape,"Error in hingeLoss: ");var l=y.scalar(1);a=y.scalar(2).mul(a).sub(l);var u=l.sub(a.mul(o)).relu();return e.computeWeightedLoss(u,s,i)}function l(t,r,n,i,a){void 0===i&&(i=1e-7),void 0===a&&(a=d.SUM_BY_NONZERO_WEIGHTS);var o=A.convertToTensor(t,"labels","logLoss"),s=A.convertToTensor(r,"predictions","logLoss"),l=null;null!=n&&(l=A.convertToTensor(n,"weights","logLoss")),C.assertShapesMatch(o.shape,s.shape,"Error in logLoss: ");var u=y.scalar(1),c=y.scalar(i),h=o.mul(s.add(c).log()).neg().sub(u.sub(o).mul(u.sub(s).add(c).log()));return e.computeWeightedLoss(h,l,a)}function u(t,e){var r=A.convertToTensor(t,"labels","sigmoidCrossEntropyWithLogits"),n=A.convertToTensor(e,"logits","sigmoidCrossEntropyWithLogits");C.assertShapesMatch(r.shape,n.shape,"Error in sigmoidCrossEntropyWithLogits: ");var i=n.relu(),a=n.mul(r),o=n.abs().neg().exp().log1p();return i.sub(a).add(o)}function c(t,r,n,i,a){void 0===i&&(i=0),void 0===a&&(a=d.SUM_BY_NONZERO_WEIGHTS);var o=A.convertToTensor(t,"multiClassLabels","sigmoidCrossEntropy"),s=A.convertToTensor(r,"logits","sigmoidCrossEntropy"),l=null;if(null!=n&&(l=A.convertToTensor(n,"weights","sigmoidCrossEntropy")),C.assertShapesMatch(o.shape,s.shape,"Error in sigmoidCrossEntropy: "),i>0){var c=y.scalar(i),h=y.scalar(1),g=y.scalar(.5);o=o.mul(h.sub(c)).add(g.mul(c))}var p=u(o,s);return e.computeWeightedLoss(p,l,a)}function h(t,r,n,i,a){void 0===i&&(i=1),void 0===a&&(a=d.SUM_BY_NONZERO_WEIGHTS);var o=A.convertToTensor(t,"labels","huberLoss"),s=A.convertToTensor(r,"predictions","huberLoss"),l=null;null!=n&&(l=A.convertToTensor(n,"weights","huberLoss")),C.assertShapesMatch(o.shape,s.shape,"Error in huberLoss: ");var u=y.scalar(i),c=s.sub(o).abs(),h=I.minimum(c,u),g=c.sub(h),p=y.scalar(.5).mul(h.square()).add(u.mul(g));return e.computeWeightedLoss(p,l,a)}function g(t,e,r){if(void 0===r&&(r=-1),r===-1&&(r=e.rank-1),r!==e.rank-1)throw Error("Softmax cross entropy along a non-last dimension is not yet "+("supported. Labels / logits was rank "+e.rank+" ")+("and dim was "+r));var n=f.customGrad(function(t,e){var n=!0,i=e.logSumExp([r],n),a=e.toFloat().sub(i),o=a.mul(t).neg(),s=o.sum([r]),l=function(e){var n=m.expandShapeToKeepDim(e.shape,[r]);return[e.reshape(n).mul(t.toFloat().sub(a.exp())),e.reshape(n).mul(a.exp().sub(t.toFloat()))]};return{value:s,gradFunc:l}});return n(t,e)}function p(t,r,n,i,a){void 0===i&&(i=0),void 0===a&&(a=d.SUM_BY_NONZERO_WEIGHTS);var o=A.convertToTensor(t,"onehotLabels","softmaxCrossEntropy"),s=A.convertToTensor(r,"logits","softmaxCrossEntropy"),l=null;if(null!=n&&(l=A.convertToTensor(n,"weights","softmaxCrossEntropy")),C.assertShapesMatch(o.shape,s.shape,"Error in softmaxCrossEntropy: "),i>0){var u=y.scalar(i),c=y.scalar(1),h=y.scalar(o.shape[1]);o=o.mul(c.sub(u)).add(u.div(h))}var p=g(o,s);return e.computeWeightedLoss(p,l,a)}Object.defineProperty(e,"__esModule",{value:!0});var d,f=r(522),A=r(532),C=r(516),m=r(526),I=r(618),v=r(533),y=r(534);!function(t){t[t.NONE=0]="NONE",t[t.MEAN=1]="MEAN",t[t.SUM=2]="SUM",t[t.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"}(d=e.Reduction||(e.Reduction={})),e.absoluteDifference=v.op({absoluteDifference_:i}),e.computeWeightedLoss=v.op({computeWeightedLoss_:n}),e.cosineDistance=v.op({cosineDistance_:o}),e.hingeLoss=v.op({hingeLoss_:s}),e.huberLoss=v.op({huberLoss_:h}),e.logLoss=v.op({logLoss_:l}),e.meanSquaredError=v.op({meanSquaredError_:a}),e.sigmoidCrossEntropy=v.op({sigmoidCrossEntropy_:c}),e.softmaxCrossEntropy=v.op({softmaxCrossEntropy_:p})},function(t,e,r){"use strict";function n(t){var e;if(Array.isArray(t)){e=!1,l.assert(null!=t&&t.length>0,"Gram-Schmidt process: input must not be null, undefined, or empty");for(var r=t[0].shape[0],n=1;n<t.length;++n)l.assert(t[n].shape[0]===r,"Gram-Schmidt: Non-unique lengths found in the input vectors: "+("("+t[n].shape[0]+" vs. "+r+")"))}else e=!0,t=c.split(t,t.shape[0],0).map(function(t){return u.squeeze(t,[0])});l.assert(t.length<=t[0].shape[0],"Gram-Schmidt: Number of vectors ("+t.length+") exceeds "+("number of dimensions ("+t[0].shape[0]+")."));for(var i=[],a=t,s=function(t){i.push(o.ENV.engine.tidy(function(){var e=a[t];if(t>0)for(var r=0;r<t;++r){var n=p.sum(i[r].mulStrict(e)).mul(i[r]);e=e.sub(n)}return e.div(h.norm(e,"euclidean"))}))},n=0;n<t.length;++n)s(n);return e?u.stack(i,0):i}function i(t,e){if(void 0===e&&(e=!1),t.rank<2)throw new Error("qr() requires input tensor to have a rank >= 2, but got rank "+t.rank);if(2===t.rank)return a(t,e);var r=t.shape.slice(0,t.shape.length-2).reduce(function(t,e){return t*e}),n=u.unstack(t.reshape([r,t.shape[t.shape.length-2],t.shape[t.shape.length-1]]),0),i=[],o=[];n.forEach(function(t){var r=a(t,e),n=r[0],s=r[1];i.push(n),o.push(s)});var s=u.stack(i,0).reshape(t.shape),l=u.stack(o,0).reshape(t.shape);return[s,l]}function a(t,e){return void 0===e&&(e=!1),o.ENV.engine.tidy(function(){if(2!==t.shape.length)throw new Error("qr2d() requires a 2D Tensor, but got a "+t.shape.length+"D Tensor.");for(var r=t.shape[0],n=t.shape[1],i=u.eye(r),a=t.clone(),l=d.tensor2d([[1]],[1,1]),c=l.clone(),h=r>=n?n:r,g=function(t){var e,u=a,h=c,g=i;e=o.ENV.engine.tidy(function(){var e=a.slice([t,t],[r-t,1]),o=e.norm(),s=a.slice([t,t],[1,1]),u=s.sign().neg(),h=s.sub(u.mul(o)),g=e.div(h);c=1===g.shape[0]?l.clone():l.concat(g.slice([1,0],[g.shape[0]-1,g.shape[1]]),0);var p=u.matMul(h).div(o).neg(),d=a.slice([t,0],[r-t,n]),f=p.mul(c);a=0===t?d.sub(f.matMul(c.transpose().matMul(d))):a.slice([0,0],[t,n]).concat(d.sub(f.matMul(c.transpose().matMul(d))),0);var A=i.slice([0,t],[r,i.shape[1]-t]);return i=0===t?A.sub(A.matMul(c).matMul(f.transpose())):i.slice([0,0],[r,t]).concat(A.sub(A.matMul(c).matMul(f.transpose())),1),[c,a,i]}),c=e[0],a=e[1],i=e[2],s.dispose([u,h,g])},p=0;p<h;++p)g(p);return!e&&r>n&&(i=i.slice([0,0],[r,n]),a=a.slice([0,0],[n,n])),[i,a]})}Object.defineProperty(e,"__esModule",{value:!0});var o=r(512),s=r(522),l=r(516),u=r(591),c=r(592),h=r(623),g=r(533),p=r(616),d=r(534);e.gramSchmidt=g.op({gramSchmidt_:n}),e.qr=g.op({qr_:i})},function(t,e,r){"use strict";function n(t,e,r){void 0===r&&(r=!1);var n=p.convertToTensor(t,"images","resizeBilinear");d.assert(3===n.rank||4===n.rank,"Error in resizeBilinear: x must be rank 3 or 4, but got "+("rank "+n.rank+".")),d.assert(2===e.length,"Error in resizeBilinear: new shape must 2D, but got shape "+(e+"."));var i=n,a=!1;3===n.rank&&(a=!0,i=n.as4D(1,n.shape[0],n.shape[1],n.shape[2]));var o=e[0],s=e[1],l=function(t,e){return t.resizeBilinear(i,o,s,r)},u=function(t,e){return{batchImages:function(){return h.ENV.engine.runKernel(function(e){return e.resizeBilinearBackprop(t,i,r)},{})}}},c=h.ENV.engine.runKernel(l,{batchImages:i},u);return a?c.as3D(c.shape[1],c.shape[2],c.shape[3]):c}function i(t,e,r){void 0===r&&(r=!1);var n=p.convertToTensor(t,"images","resizeNearestNeighbor");d.assert(3===n.rank||4===n.rank,"Error in resizeNearestNeighbor: x must be rank 3 or 4, but got "+("rank "+n.rank+".")),d.assert(2===e.length,"Error in resizeNearestNeighbor: new shape must 2D, but got shape "+(e+".")),d.assert("float32"===n.dtype||"int32"===n.dtype,"`images` must have `int32` or `float32` as dtype");var i=n,a=!1;3===n.rank&&(a=!0,i=n.as4D(1,n.shape[0],n.shape[1],n.shape[2]));var o=e[0],s=e[1],l=function(t,e){return t.resizeNearestNeighbor(i,o,s,r)},u=function(t,e){return{batchImages:function(){return h.ENV.engine.runKernel(function(e){return e.resizeNearestNeighborBackprop(t,i,r)},{})}}},c=h.ENV.engine.runKernel(l,{batchImages:i},u);return a?c.as3D(c.shape[1],c.shape[2],c.shape[3]):c}function a(t,e,r,n,i){void 0===n&&(n=.5),void 0===i&&(i=Number.NEGATIVE_INFINITY);var a=p.convertToTensor(t,"boxes","nonMaxSuppression"),o=p.convertToTensor(e,"scores","nonMaxSuppression"),l=s(a,o,r,n,i);return r=l.maxOutputSize,n=l.iouThreshold,i=l.scoreThreshold,h.ENV.engine.runKernel(function(t){return t.nonMaxSuppression(a,o,r,n,i)},{$boxes:a})}function o(t,e,r,n,i){return void 0===n&&(n=.5),void 0===i&&(i=Number.NEGATIVE_INFINITY),u(this,void 0,void 0,function(){var a,o,l,u,h,d;return c(this,function(c){switch(c.label){case 0:return a=p.convertToTensor(t,"boxes","nonMaxSuppressionAsync"),o=p.convertToTensor(e,"scores","nonMaxSuppressionAsync"),l=s(a,o,r,n,i),r=l.maxOutputSize,n=l.iouThreshold,i=l.scoreThreshold,[4,a.data()];case 1:return u=c.sent(),[4,o.data()];case 2:return h=c.sent(),d=g.nonMaxSuppressionImpl(u,h,r,n,i),a!==t&&a.dispose(),o!==e&&o.dispose(),[2,d]}})})}function s(t,e,r,n,i){null==n&&(n=.5),null==i&&(i=Number.NEGATIVE_INFINITY);var a=t.shape[0];return r=Math.min(r,a),d.assert(0<=n&&n<=1,"iouThreshold must be in [0, 1], but was '"+n+"'"),d.assert(2===t.rank,"boxes must be a 2D tensor, but was of rank '"+t.rank+"'"),d.assert(4===t.shape[1],"boxes must have 4 columns, but 2nd dimension was "+t.shape[1]),d.assert(1===e.rank,"scores must be a 1D tensor"),d.assert(e.shape[0]===a,"scores has incompatible shape with boxes. Expected "+a+", but was "+e.shape[0]),{maxOutputSize:r,iouThreshold:n,scoreThreshold:i}}function l(t,e,r,n,i,a){var o=p.convertToTensor(t,"image","cropAndResize","float32"),s=p.convertToTensor(e,"boxes","cropAndResize","float32"),l=p.convertToTensor(r,"boxInd","cropAndResize","int32");i=i||"bilinear",a=a||0;var u=s.shape[0];d.assert(4===o.rank,"Error in cropAndResize: image must be rank 4,"+("but got rank "+o.rank+".")),d.assert(2===s.rank&&4===s.shape[1],"Error in cropAndResize: boxes must be have size ["+u+",4] "+("but had shape "+s.shape+".")),d.assert(1===l.rank&&l.shape[0]===u,"Error in cropAndResize: boxInd must be have size ["+u+"] "+("but had shape "+s.shape+".")),d.assert("int32"===l.dtype,"Error in cropAndResize: boxInd must be of dtype int32, but got dtype "+(l.dtype+".")),d.assert(2===n.length,"Error in cropAndResize: cropSize must be of length 2, but got length "+(n.length+".")),d.assert(n[0]>=1&&n[1]>=1,"cropSize must be atleast [1,1], but was "+n),d.assert("bilinear"===i||"nearest"===i,"method must be bilinear or nearest, but was "+i);var c=function(t,e){return t.cropAndResize(o,s,l,n,i,a)},g=h.ENV.engine.runKernel(c,{$image:o,$boxes:s});return g}var u=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))(function(i,a){function o(t){try{l(n.next(t))}catch(t){a(t)}}function s(t){try{l(n.throw(t))}catch(t){a(t)}}function l(t){t.done?i(t.value):new r(function(e){e(t.value)}).then(o,s)}l((n=n.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){function r(t){return function(e){return n([t,e])}}function n(r){if(i)throw new TypeError("Generator is already executing.");for(;l;)try{if(i=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return l.label++,{value:r[1],done:!1};case 5:l.label++,a=r[1],r=[0];continue;case 7:r=l.ops.pop(),l.trys.pop();continue;default:if(o=l.trys,!(o=o.length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){l=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){l.label=r[1];break}if(6===r[0]&&l.label<o[1]){l.label=o[1],o=r;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(r);break}o[2]&&l.ops.pop(),l.trys.pop();continue}r=e.call(t,l)}catch(t){r=[6,t],a=0}finally{i=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}var i,a,o,s,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(e,"__esModule",{value:!0});var h=r(512),g=r(539),p=r(532),d=r(516),f=r(533);e.resizeBilinear=f.op({resizeBilinear_:n}),e.resizeNearestNeighbor=f.op({resizeNearestNeighbor_:i}),e.nonMaxSuppression=f.op({nonMaxSuppression_:a}),e.nonMaxSuppressionAsync=o,e.cropAndResize=l},function(t,e,r){(function(t){"use strict";function r(){return new Promise(function(t){return n(function(){return t()})})}Object.defineProperty(e,"__esModule",{value:!0});var n="undefined"!=typeof requestAnimationFrame?requestAnimationFrame:t;e.nextFrame=r}).call(e,r(633).setImmediate)},function(t,e,r){(function(t){function n(t,e){this._id=t,this._clearFn=e}var i="undefined"!=typeof t&&t||"undefined"!=typeof self&&self||window,a=Function.prototype.apply;e.setTimeout=function(){return new n(a.call(setTimeout,i,arguments),clearTimeout)},e.setInterval=function(){return new n(a.call(setInterval,i,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},n.prototype.unref=n.prototype.ref=function(){},n.prototype.close=function(){this._clearFn.call(i,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},r(634),e.setImmediate="undefined"!=typeof self&&self.setImmediate||"undefined"!=typeof t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||"undefined"!=typeof t&&t.clearImmediate||this&&this.clearImmediate}).call(e,function(){return this}())},function(t,e,r){(function(t,e){!function(t,r){"use strict";function n(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),r=0;r<e.length;r++)e[r]=arguments[r+1];var n={callback:t,args:e};return f[d]=n,p(d),d++}function i(t){delete f[t]}function a(t){var e=t.callback,n=t.args;switch(n.length){case 0:e();break;case 1:e(n[0]);break;case 2:e(n[0],n[1]);break;case 3:e(n[0],n[1],n[2]);break;default:e.apply(r,n)}}function o(t){if(A)setTimeout(o,0,t);else{var e=f[t];if(e){A=!0;try{a(e)}finally{i(t),A=!1}}}}function s(){p=function(t){e.nextTick(function(){o(t)})}}function l(){if(t.postMessage&&!t.importScripts){var e=!0,r=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=r,e}}function u(){var e="setImmediate$"+Math.random()+"$",r=function(r){r.source===t&&"string"==typeof r.data&&0===r.data.indexOf(e)&&o(+r.data.slice(e.length))};t.addEventListener?t.addEventListener("message",r,!1):t.attachEvent("onmessage",r),p=function(r){t.postMessage(e+r,"*")}}function c(){var t=new MessageChannel;t.port1.onmessage=function(t){var e=t.data;o(e)},p=function(e){t.port2.postMessage(e)}}function h(){var t=C.documentElement;p=function(e){var r=C.createElement("script");r.onreadystatechange=function(){o(e),r.onreadystatechange=null,t.removeChild(r),r=null},t.appendChild(r)}}function g(){p=function(t){setTimeout(o,0,t)}}if(!t.setImmediate){var p,d=1,f={},A=!1,C=t.document,m=Object.getPrototypeOf&&Object.getPrototypeOf(t);m=m&&m.setTimeout?m:t,"[object process]"==={}.toString.call(t.process)?s():l()?u():t.MessageChannel?c():C&&"onreadystatechange"in C.createElement("script")?h():g(),m.setImmediate=n,m.clearImmediate=i}}("undefined"==typeof self?"undefined"==typeof t?this:t:self)}).call(e,function(){return this}(),r(116))},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),r(636),r(645);var n=r(646);e.browserFiles=n.browserFiles;var i=r(647);e.browserHTTPRequest=i.browserHTTPRequest;var a=r(637);e.concatenateArrayBuffers=a.concatenateArrayBuffers,e.decodeWeights=a.decodeWeights,e.encodeWeights=a.encodeWeights,e.getModelArtifactsInfoForJSON=a.getModelArtifactsInfoForJSON;var o=r(649);e.fromMemory=o.fromMemory,e.withSaveHandler=o.withSaveHandler;var s=r(644),l=r(648);e.loadWeights=l.loadWeights;var u=s.IORouterRegistry.registerSaveRouter;e.registerSaveRouter=u;var c=s.IORouterRegistry.registerLoadRouter;e.registerLoadRouter=c;var h=s.IORouterRegistry.getSaveHandlers;e.getSaveHandlers=h;var g=s.IORouterRegistry.getLoadHandlers;e.getLoadHandlers=g;var p=r(643);e.copyModel=p.copyModel,e.listModels=p.listModels,e.moveModel=p.moveModel,e.removeModel=p.removeModel},function(t,e,r){"use strict";function n(){return l(this,void 0,void 0,function(){var t;return u(this,function(e){return t=i(),[2,new Promise(function(e,r){var n=t.deleteDatabase(d);n.onsuccess=function(){return e()},n.onerror=function(t){return r(t)}})]})})}function i(){if(!c.ENV.get("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");var t=window,e=t.indexedDB||t.mozIndexedDB||t.webkitIndexedDB||t.msIndexedDB||t.shimIndexedDB;if(null==e)throw new Error("The current browser does not appear to support IndexedDB.");return e}function a(t){var e=t.result;e.createObjectStore(A,{keyPath:"modelPath"}),e.createObjectStore(C,{keyPath:"modelPath"})}function o(t){return new m(t)}function s(t){return t.startsWith(m.URL_SCHEME)?t.slice(m.URL_SCHEME.length):t}var l=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))(function(i,a){function o(t){try{l(n.next(t))}catch(t){a(t)}}function s(t){try{l(n.throw(t))}catch(t){a(t)}}function l(t){t.done?i(t.value):new r(function(e){e(t.value)}).then(o,s)}l((n=n.apply(t,e||[])).next())})},u=this&&this.__generator||function(t,e){function r(t){return function(e){return n([t,e])}}function n(r){if(i)throw new TypeError("Generator is already executing.");for(;l;)try{if(i=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return l.label++,{value:r[1],done:!1};case 5:l.label++,a=r[1],r=[0];continue;case 7:r=l.ops.pop(),l.trys.pop();continue;default:if(o=l.trys,!(o=o.length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){l=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){l.label=r[1];break}if(6===r[0]&&l.label<o[1]){l.label=o[1],o=r;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(r);break}o[2]&&l.ops.pop(),l.trys.pop();continue}r=e.call(t,l)}catch(t){r=[6,t],a=0}finally{i=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}var i,a,o,s,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(e,"__esModule",{value:!0});var c=r(512),h=r(637),g=r(643),p=r(644),d="tensorflowjs",f=1,A="models_store",C="model_info_store";e.deleteDatabase=n;var m=function(){function t(t){if(this.indexedDB=i(),null==t||!t)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=t}return t.prototype.save=function(t){return l(this,void 0,void 0,function(){return u(this,function(e){if(t.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return[2,this.databaseAction(this.modelPath,t)]})})},t.prototype.load=function(){return l(this,void 0,void 0,function(){return u(this,function(t){return[2,this.databaseAction(this.modelPath)]})})},t.prototype.databaseAction=function(t,e){var r=this;return new Promise(function(t,n){var i=r.indexedDB.open(d,f);i.onupgradeneeded=function(){return a(i)},i.onsuccess=function(){var a=i.result;if(null==e){var o=a.transaction(A,"readonly"),s=o.objectStore(A),l=s.get(r.modelPath);l.onsuccess=function(){return null==l.result?(a.close(),n(new Error("Cannot find model with path '"+r.modelPath+"' in IndexedDB."))):void t(l.result.modelArtifacts)},l.onerror=function(t){return a.close(),n(l.error)},o.oncomplete=function(){return a.close()}}else{var u,c=h.getModelArtifactsInfoForJSON(e),g=a.transaction(C,"readwrite"),p=g.objectStore(C),d=p.put({modelPath:r.modelPath,modelArtifactsInfo:c});d.onsuccess=function(){u=a.transaction(A,"readwrite");var i=u.objectStore(A),o=i.put({modelPath:r.modelPath,modelArtifacts:e,modelArtifactsInfo:c});o.onsuccess=function(){return t({modelArtifactsInfo:c})},o.onerror=function(t){p=g.objectStore(C);var e=p.delete(r.modelPath);e.onsuccess=function(){return a.close(),n(o.error)},e.onerror=function(t){return a.close(),n(o.error)}}},d.onerror=function(t){return a.close(),n(d.error)},g.oncomplete=function(){null==u?a.close():u.oncomplete=function(){return a.close()}}}},i.onerror=function(t){return n(i.error)}})},t.URL_SCHEME="indexeddb://",t}();e.BrowserIndexedDB=m,e.indexedDBRouter=function(t){return c.ENV.get("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith(m.URL_SCHEME)?o(t.slice(m.URL_SCHEME.length)):null},p.IORouterRegistry.registerSaveRouter(e.indexedDBRouter),p.IORouterRegistry.registerLoadRouter(e.indexedDBRouter),e.browserIndexedDB=o;var I=function(){function t(){this.indexedDB=i()}return t.prototype.listModels=function(){return l(this,void 0,void 0,function(){var t=this;return u(this,function(e){return[2,new Promise(function(e,r){var n=t.indexedDB.open(d,f);n.onupgradeneeded=function(){return a(n)},n.onsuccess=function(){var t=n.result,i=t.transaction(C,"readonly"),a=i.objectStore(C),o=a.getAll();o.onsuccess=function(){for(var t={},r=0,n=o.result;r<n.length;r++){var i=n[r];t[i.modelPath]=i.modelArtifactsInfo}e(t)},o.onerror=function(e){return t.close(),r(o.error)},i.oncomplete=function(){return t.close()}},n.onerror=function(t){return r(n.error)}})]})})},t.prototype.removeModel=function(t){return l(this,void 0,void 0,function(){var e=this;return u(this,function(r){return t=s(t),[2,new Promise(function(r,n){var i=e.indexedDB.open(d,f);i.onupgradeneeded=function(){return a(i)},i.onsuccess=function(){var e,a=i.result,o=a.transaction(C,"readwrite"),s=o.objectStore(C),l=s.get(t);l.onsuccess=function(){if(null==l.result)return a.close(),n(new Error("Cannot find model with path '"+t+"' in IndexedDB."));var i=s.delete(t),o=function(){e=a.transaction(A,"readwrite");var i=e.objectStore(A),o=i.delete(t);o.onsuccess=function(){return r(l.result.modelArtifactsInfo)},o.onerror=function(t){return n(l.error)}};i.onsuccess=o,i.onerror=function(t){return o(),a.close(),n(l.error)}},l.onerror=function(t){return a.close(),n(l.error)},o.oncomplete=function(){null==e?a.close():e.oncomplete=function(){return a.close()}}},i.onerror=function(t){return n(i.error)}})]})})},t}();if(e.BrowserIndexedDBManager=I,c.ENV.get("IS_BROWSER"))try{g.ModelStoreManagerRegistry.registerManager(m.URL_SCHEME,new I)}catch(t){}},function(t,e,r){(function(t){"use strict";function n(t){return g(this,void 0,void 0,function(){var e,r,n,i,o;return p(this,function(s){switch(s.label){case 0:e=[],r=[];for(n in t){if(i=t[n],"float32"!==i.dtype&&"int32"!==i.dtype&&"bool"!==i.dtype)throw new Error("Unsupported dtype in weight '"+n+"': "+i.dtype);e.push({name:n,shape:i.shape,dtype:i.dtype}),r.push(i.data())}return[4,Promise.all(r)];case 1:return o=s.sent(),[2,{data:a(o),specs:e}]}})})}function i(t,e){for(var r={},n=0,i=(function(e){var i=e.name,a=e.dtype,o=e.shape,s=f.sizeFromShape(o),l=void 0;if("quantization"in e){var u=e.quantization;if("uint8"!==u.dtype&&"uint16"!==u.dtype)throw new Error("Weight "+e.name+" has unknown "+("quantization dtype "+u.dtype+". ")+"Supported quantization dtypes are: 'uint8' and 'uint16'.");var c=A.DTYPE_VALUE_SIZE_MAP[u.dtype],h=t.slice(n,n+s*c),g="uint8"===u.dtype?new Uint8Array(h):new Uint16Array(h);if("float32"===a)l=Float32Array.from(g,function(t){return t*u.scale+u.min});else{if("int32"!==a)throw new Error("Unsupported dtype in weight '"+i+"': "+a);l=Int32Array.from(g,function(t){return Math.round(t*u.scale+u.min)})}n+=s*c}else{var p=A.DTYPE_VALUE_SIZE_MAP[a],h=t.slice(n,n+s*p);if("float32"===a)l=new Float32Array(h);else if("int32"===a)l=new Int32Array(h);else{if("bool"!==a)throw new Error("Unsupported dtype in weight '"+i+"': "+a);l=new Uint8Array(h)}n+=s*p}var C=void 0;if("float32"===a)C=d.tensor(l,o,"float32");else if("int32"===a)C=d.tensor(l,o,"int32");else{if("bool"!==a)throw new Error("Unsupported dtype in weight '"+i+"': "+a);C=d.tensor(l,o,"bool")}r[i]=C}),a=0,o=e;a<o.length;a++){var s=o[a];i(s)}return r}function a(t){if(null===t)throw new Error("Invalid input value: "+JSON.stringify(t));var e=0,r=[];t.forEach(function(t){if(e+=t.byteLength,r.push(t.byteLength===t.buffer.byteLength?t:new t.constructor(t)),!(t instanceof Float32Array||t instanceof Int32Array||t instanceof Uint8Array))throw new Error("Unsupported TypedArray subtype: "+t.constructor.name)});var n=new Uint8Array(e),i=0;return r.forEach(function(t){n.set(new Uint8Array(t.buffer),i),i+=t.byteLength}),n.buffer}function o(e){return C?t.byteLength(e):new Blob([e]).size}function s(e){return C?t.from(e).toString("base64"):btoa(String.fromCharCode.apply(null,new Uint8Array(e)))}function l(e){if(C){var r=t.from(e,"base64");return r.buffer.slice(r.byteOffset,r.byteOffset+r.byteLength)}for(var n=atob(e),i=new Uint8Array(n.length),a=0;a<n.length;++a)i.set([n.charCodeAt(a)],a);return i.buffer}function u(t){var e=0;t.forEach(function(t){e+=t.byteLength});var r=new Uint8Array(e),n=0;return t.forEach(function(t){r.set(new Uint8Array(t),n),n+=t.byteLength}),r.buffer}function c(t){var e="/";for(t=t.trim();t.endsWith(e);)t=t.slice(0,t.length-1);var r=t.split(e);return r[r.length-1]}function h(t){if(t.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:null==t.modelTopology?0:o(JSON.stringify(t.modelTopology)),weightSpecsBytes:null==t.weightSpecs?0:o(JSON.stringify(t.weightSpecs)),weightDataBytes:null==t.weightData?0:t.weightData.byteLength}}var g=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))(function(i,a){function o(t){try{l(n.next(t))}catch(t){a(t)}}function s(t){try{l(n.throw(t))}catch(t){a(t)}}function l(t){t.done?i(t.value):new r(function(e){e(t.value)}).then(o,s)}l((n=n.apply(t,e||[])).next())})},p=this&&this.__generator||function(t,e){function r(t){return function(e){return n([t,e])}}function n(r){if(i)throw new TypeError("Generator is already executing.");for(;l;)try{if(i=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return l.label++,{value:r[1],done:!1};case 5:l.label++,a=r[1],r=[0];continue;case 7:r=l.ops.pop(),l.trys.pop();continue;default:if(o=l.trys,!(o=o.length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){l=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){l.label=r[1];break}if(6===r[0]&&l.label<o[1]){l.label=o[1],o=r;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(r);break}o[2]&&l.ops.pop(),l.trys.pop();continue}r=e.call(t,l)}catch(t){r=[6,t],a=0}finally{i=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}var i,a,o,s,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(e,"__esModule",{value:!0});var d=r(534),f=r(516),A=r(642);e.encodeWeights=n,e.decodeWeights=i,e.concatenateTypedArrays=a;var C="undefined"!=typeof t&&("undefined"==typeof Blob||"undefined"==typeof atob||"undefined"==typeof btoa);e.stringByteLength=o,e.arrayBufferToBase64String=s,e.base64StringToArrayBuffer=l,e.concatenateArrayBuffers=u,e.basename=c,e.getModelArtifactsInfoForJSON=h}).call(e,r(638).Buffer)},function(t,e,r){(function(t){/*!
	 * The buffer module from node.js, for the browser.
	 *
	 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
	 * @license  MIT
	 */
"use strict";function n(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}function i(){return o.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(t,e){if(i()<e)throw new RangeError("Invalid typed array length");return o.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e),t.__proto__=o.prototype):(null===t&&(t=new o(e)),t.length=e),t}function o(t,e,r){if(!(o.TYPED_ARRAY_SUPPORT||this instanceof o))return new o(t,e,r);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return c(this,t)}return s(this,t,e,r)}function s(t,e,r,n){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?p(t,e,r,n):"string"==typeof e?h(t,e,r):d(t,e)}function l(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function u(t,e,r,n){return l(e),e<=0?a(t,e):void 0!==r?"string"==typeof n?a(t,e).fill(r,n):a(t,e).fill(r):a(t,e)}function c(t,e){if(l(e),t=a(t,e<0?0:0|f(e)),!o.TYPED_ARRAY_SUPPORT)for(var r=0;r<e;++r)t[r]=0;return t}function h(t,e,r){if("string"==typeof r&&""!==r||(r="utf8"),!o.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|C(e,r);t=a(t,n);var i=t.write(e,r);return i!==n&&(t=t.slice(0,i)),t}function g(t,e){var r=e.length<0?0:0|f(e.length);t=a(t,r);for(var n=0;n<r;n+=1)t[n]=255&e[n];return t}function p(t,e,r,n){if(e.byteLength,r<0||e.byteLength<r)throw new RangeError("'offset' is out of bounds");if(e.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");return e=void 0===r&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,r):new Uint8Array(e,r,n),o.TYPED_ARRAY_SUPPORT?(t=e,t.__proto__=o.prototype):t=g(t,e),t}function d(t,e){if(o.isBuffer(e)){var r=0|f(e.length);return t=a(t,r),0===t.length?t:(e.copy(t,0,0,r),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||K(e.length)?a(t,0):g(t,e);if("Buffer"===e.type&&$(e.data))return g(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function f(t){if(t>=i())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i().toString(16)+" bytes");return 0|t}function A(t){return+t!=t&&(t=0),o.alloc(+t)}function C(t,e){if(o.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var r=t.length;if(0===r)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return H(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return X(t).length;default:if(n)return H(t).length;e=(""+e).toLowerCase(),n=!0}}function m(t,e,r){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if(r>>>=0,e>>>=0,r<=e)return"";for(t||(t="utf8");;)switch(t){case"hex":return M(this,e,r);case"utf8":case"utf-8":return k(this,e,r);case"ascii":return _(this,e,r);case"latin1":case"binary":return P(this,e,r);case"base64":return E(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function I(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function v(t,e,r,n,i){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof e&&(e=o.from(e,n)),o.isBuffer(e))return 0===e.length?-1:y(t,e,r,n,i);if("number"==typeof e)return e&=255,o.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):y(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function y(t,e,r,n,i){function a(t,e){return 1===o?t[e]:t.readUInt16BE(e*o)}var o=1,s=t.length,l=e.length;if(void 0!==n&&(n=String(n).toLowerCase(),"ucs2"===n||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;o=2,s/=2,l/=2,r/=2}var u;if(i){var c=-1;for(u=r;u<s;u++)if(a(t,u)===a(e,c===-1?0:u-c)){if(c===-1&&(c=u),u-c+1===l)return c*o}else c!==-1&&(u-=u-c),c=-1}else for(r+l>s&&(r=s-l),u=r;u>=0;u--){for(var h=!0,g=0;g<l;g++)if(a(t,u+g)!==a(e,g)){h=!1;break}if(h)return u}return-1}function b(t,e,r,n){r=Number(r)||0;var i=t.length-r;n?(n=Number(n),n>i&&(n=i)):n=i;var a=e.length;if(a%2!==0)throw new TypeError("Invalid hex string");n>a/2&&(n=a/2);for(var o=0;o<n;++o){var s=parseInt(e.substr(2*o,2),16);if(isNaN(s))return o;t[r+o]=s}return o}function x(t,e,r,n){return q(H(e,t.length-r),t,r,n)}function w(t,e,r,n){return q(Y(e),t,r,n)}function N(t,e,r,n){return w(t,e,r,n)}function S(t,e,r,n){return q(X(e),t,r,n)}function T(t,e,r,n){return q(Z(e,t.length-r),t,r,n)}function E(t,e,r){return 0===e&&r===t.length?J.fromByteArray(t):J.fromByteArray(t.slice(e,r))}function k(t,e,r){r=Math.min(t.length,r);for(var n=[],i=e;i<r;){var a=t[i],o=null,s=a>239?4:a>223?3:a>191?2:1;if(i+s<=r){var l,u,c,h;switch(s){case 1:a<128&&(o=a);break;case 2:l=t[i+1],128===(192&l)&&(h=(31&a)<<6|63&l,h>127&&(o=h));break;case 3:l=t[i+1],u=t[i+2],128===(192&l)&&128===(192&u)&&(h=(15&a)<<12|(63&l)<<6|63&u,h>2047&&(h<55296||h>57343)&&(o=h));break;case 4:l=t[i+1],u=t[i+2],c=t[i+3],128===(192&l)&&128===(192&u)&&128===(192&c)&&(h=(15&a)<<18|(63&l)<<12|(63&u)<<6|63&c,h>65535&&h<1114112&&(o=h))}}null===o?(o=65533,s=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),i+=s}return O(n)}function O(t){var e=t.length;if(e<=tt)return String.fromCharCode.apply(String,t);for(var r="",n=0;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=tt));return r}function _(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function P(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function M(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var i="",a=e;a<r;++a)i+=U(t[a]);return i}function D(t,e,r){for(var n=t.slice(e,r),i="",a=0;a<n.length;a+=2)i+=String.fromCharCode(n[a]+256*n[a+1]);return i}function R(t,e,r){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function L(t,e,r,n,i,a){if(!o.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<a)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function z(t,e,r,n){e<0&&(e=65535+e+1);for(var i=0,a=Math.min(t.length-r,2);i<a;++i)t[r+i]=(e&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function F(t,e,r,n){e<0&&(e=4294967295+e+1);for(var i=0,a=Math.min(t.length-r,4);i<a;++i)t[r+i]=e>>>8*(n?i:3-i)&255}function B(t,e,r,n,i,a){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function V(t,e,r,n,i){return i||B(t,e,r,4,3.4028234663852886e38,-3.4028234663852886e38),Q.write(t,e,r,n,23,4),r+4}function j(t,e,r,n,i){return i||B(t,e,r,8,1.7976931348623157e308,-1.7976931348623157e308),Q.write(t,e,r,n,52,8),r+8}function W(t){if(t=G(t).replace(et,""),t.length<2)return"";for(;t.length%4!==0;)t+="=";return t}function G(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function U(t){return t<16?"0"+t.toString(16):t.toString(16)}function H(t,e){e=e||1/0;for(var r,n=t.length,i=null,a=[],o=0;o<n;++o){if(r=t.charCodeAt(o),r>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&a.push(239,191,189);continue}if(o+1===n){(e-=3)>-1&&a.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&a.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(e-=3)>-1&&a.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;a.push(r)}else if(r<2048){if((e-=2)<0)break;a.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;a.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;a.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return a}function Y(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}function Z(t,e){for(var r,n,i,a=[],o=0;o<t.length&&!((e-=2)<0);++o)r=t.charCodeAt(o),n=r>>8,i=r%256,a.push(i),a.push(n);return a}function X(t){return J.toByteArray(W(t))}function q(t,e,r,n){for(var i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function K(t){return t!==t}var J=r(639),Q=r(640),$=r(641);e.Buffer=o,e.SlowBuffer=A,e.INSPECT_MAX_BYTES=50,o.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:n(),e.kMaxLength=i(),o.poolSize=8192,o._augment=function(t){return t.__proto__=o.prototype,t},o.from=function(t,e,r){return s(null,t,e,r)},o.TYPED_ARRAY_SUPPORT&&(o.prototype.__proto__=Uint8Array.prototype,o.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&o[Symbol.species]===o&&Object.defineProperty(o,Symbol.species,{value:null,configurable:!0})),o.alloc=function(t,e,r){return u(null,t,e,r)},o.allocUnsafe=function(t){return c(null,t)},o.allocUnsafeSlow=function(t){return c(null,t)},o.isBuffer=function(t){return!(null==t||!t._isBuffer)},o.compare=function(t,e){if(!o.isBuffer(t)||!o.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var r=t.length,n=e.length,i=0,a=Math.min(r,n);i<a;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},o.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(t,e){if(!$(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return o.alloc(0);var r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var n=o.allocUnsafe(e),i=0;for(r=0;r<t.length;++r){var a=t[r];if(!o.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,i),i+=a.length}return n},o.byteLength=C,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)I(this,e,e+1);return this},o.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)I(this,e,e+3),I(this,e+1,e+2);return this},o.prototype.swap64=function(){var t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)I(this,e,e+7),I(this,e+1,e+6),I(this,e+2,e+5),I(this,e+3,e+4);return this},o.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?k(this,0,t):m.apply(this,arguments)},o.prototype.equals=function(t){if(!o.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===o.compare(this,t)},o.prototype.inspect=function(){var t="",r=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(t+=" ... ")),"<Buffer "+t+">"},o.prototype.compare=function(t,e,r,n,i){if(!o.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),e<0||r>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&e>=r)return 0;if(n>=i)return-1;if(e>=r)return 1;if(e>>>=0,r>>>=0,n>>>=0,i>>>=0,this===t)return 0;for(var a=i-n,s=r-e,l=Math.min(a,s),u=this.slice(n,i),c=t.slice(e,r),h=0;h<l;++h)if(u[h]!==c[h]){a=u[h],s=c[h];break}return a<s?-1:s<a?1:0},o.prototype.includes=function(t,e,r){return this.indexOf(t,e,r)!==-1},o.prototype.indexOf=function(t,e,r){return v(this,t,e,r,!0)},o.prototype.lastIndexOf=function(t,e,r){return v(this,t,e,r,!1)},o.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-e;if((void 0===r||r>i)&&(r=i),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var a=!1;;)switch(n){case"hex":return b(this,t,e,r);case"utf8":case"utf-8":return x(this,t,e,r);case"ascii":return w(this,t,e,r);case"latin1":case"binary":return N(this,t,e,r);case"base64":return S(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,t,e,r);default:if(a)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),a=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var tt=4096;o.prototype.slice=function(t,e){var r=this.length;t=~~t,e=void 0===e?r:~~e,t<0?(t+=r,t<0&&(t=0)):t>r&&(t=r),e<0?(e+=r,e<0&&(e=0)):e>r&&(e=r),e<t&&(e=t);var n;if(o.TYPED_ARRAY_SUPPORT)n=this.subarray(t,e),n.__proto__=o.prototype;else{var i=e-t;n=new o(i,void 0);for(var a=0;a<i;++a)n[a]=this[a+t]}return n},o.prototype.readUIntLE=function(t,e,r){t|=0,e|=0,r||R(t,e,this.length);for(var n=this[t],i=1,a=0;++a<e&&(i*=256);)n+=this[t+a]*i;return n},o.prototype.readUIntBE=function(t,e,r){t|=0,e|=0,r||R(t,e,this.length);for(var n=this[t+--e],i=1;e>0&&(i*=256);)n+=this[t+--e]*i;return n},o.prototype.readUInt8=function(t,e){return e||R(t,1,this.length),this[t]},o.prototype.readUInt16LE=function(t,e){return e||R(t,2,this.length),this[t]|this[t+1]<<8},o.prototype.readUInt16BE=function(t,e){return e||R(t,2,this.length),this[t]<<8|this[t+1]},o.prototype.readUInt32LE=function(t,e){return e||R(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},o.prototype.readUInt32BE=function(t,e){return e||R(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},o.prototype.readIntLE=function(t,e,r){t|=0,e|=0,r||R(t,e,this.length);for(var n=this[t],i=1,a=0;++a<e&&(i*=256);)n+=this[t+a]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*e)),n},o.prototype.readIntBE=function(t,e,r){t|=0,e|=0,r||R(t,e,this.length);for(var n=e,i=1,a=this[t+--n];n>0&&(i*=256);)a+=this[t+--n]*i;return i*=128,a>=i&&(a-=Math.pow(2,8*e)),a},o.prototype.readInt8=function(t,e){return e||R(t,1,this.length),128&this[t]?(255-this[t]+1)*-1:this[t]},o.prototype.readInt16LE=function(t,e){e||R(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},o.prototype.readInt16BE=function(t,e){e||R(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},o.prototype.readInt32LE=function(t,e){return e||R(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},o.prototype.readInt32BE=function(t,e){return e||R(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},o.prototype.readFloatLE=function(t,e){return e||R(t,4,this.length),Q.read(this,t,!0,23,4)},o.prototype.readFloatBE=function(t,e){return e||R(t,4,this.length),Q.read(this,t,!1,23,4)},o.prototype.readDoubleLE=function(t,e){return e||R(t,8,this.length),Q.read(this,t,!0,52,8)},o.prototype.readDoubleBE=function(t,e){return e||R(t,8,this.length),Q.read(this,t,!1,52,8)},o.prototype.writeUIntLE=function(t,e,r,n){if(t=+t,e|=0,r|=0,!n){var i=Math.pow(2,8*r)-1;L(this,t,e,r,i,0)}var a=1,o=0;for(this[e]=255&t;++o<r&&(a*=256);)this[e+o]=t/a&255;return e+r},o.prototype.writeUIntBE=function(t,e,r,n){if(t=+t,e|=0,r|=0,!n){var i=Math.pow(2,8*r)-1;L(this,t,e,r,i,0)}var a=r-1,o=1;for(this[e+a]=255&t;--a>=0&&(o*=256);)this[e+a]=t/o&255;return e+r},o.prototype.writeUInt8=function(t,e,r){return t=+t,e|=0,r||L(this,t,e,1,255,0),o.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},o.prototype.writeUInt16LE=function(t,e,r){return t=+t,e|=0,r||L(this,t,e,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):z(this,t,e,!0),e+2},o.prototype.writeUInt16BE=function(t,e,r){return t=+t,e|=0,r||L(this,t,e,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):z(this,t,e,!1),e+2},o.prototype.writeUInt32LE=function(t,e,r){return t=+t,e|=0,r||L(this,t,e,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):F(this,t,e,!0),e+4},o.prototype.writeUInt32BE=function(t,e,r){return t=+t,e|=0,r||L(this,t,e,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):F(this,t,e,!1),e+4},o.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e|=0,!n){var i=Math.pow(2,8*r-1);L(this,t,e,r,i-1,-i)}var a=0,o=1,s=0;for(this[e]=255&t;++a<r&&(o*=256);)t<0&&0===s&&0!==this[e+a-1]&&(s=1),this[e+a]=(t/o>>0)-s&255;return e+r},o.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e|=0,!n){var i=Math.pow(2,8*r-1);L(this,t,e,r,i-1,-i)}var a=r-1,o=1,s=0;for(this[e+a]=255&t;--a>=0&&(o*=256);)t<0&&0===s&&0!==this[e+a+1]&&(s=1),this[e+a]=(t/o>>0)-s&255;return e+r},o.prototype.writeInt8=function(t,e,r){return t=+t,e|=0,r||L(this,t,e,1,127,-128),o.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},o.prototype.writeInt16LE=function(t,e,r){return t=+t,e|=0,r||L(this,t,e,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):z(this,t,e,!0),e+2},o.prototype.writeInt16BE=function(t,e,r){return t=+t,e|=0,r||L(this,t,e,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):z(this,t,e,!1),e+2},o.prototype.writeInt32LE=function(t,e,r){return t=+t,e|=0,r||L(this,t,e,4,2147483647,-2147483648),o.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):F(this,t,e,!0),e+4},o.prototype.writeInt32BE=function(t,e,r){return t=+t,e|=0,r||L(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),o.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):F(this,t,e,!1),e+4},o.prototype.writeFloatLE=function(t,e,r){return V(this,t,e,!0,r)},o.prototype.writeFloatBE=function(t,e,r){return V(this,t,e,!1,r)},o.prototype.writeDoubleLE=function(t,e,r){return j(this,t,e,!0,r)},o.prototype.writeDoubleBE=function(t,e,r){return j(this,t,e,!1,r)},o.prototype.copy=function(t,e,r,n){if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var i,a=n-r;if(this===t&&r<e&&e<n)for(i=a-1;i>=0;--i)t[i+e]=this[i+r];else if(a<1e3||!o.TYPED_ARRAY_SUPPORT)for(i=0;i<a;++i)t[i+e]=this[i+r];else Uint8Array.prototype.set.call(t,this.subarray(r,r+a),e);return a},o.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!o.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0);var a;if("number"==typeof t)for(a=e;a<r;++a)this[a]=t;else{var s=o.isBuffer(t)?t:H(new o(t,n).toString()),l=s.length;for(a=0;a<r-e;++a)this[a+e]=s[a%l]}return this};var et=/[^+\/0-9A-Za-z-_]/g}).call(e,function(){return this}())},function(t,e){"use strict";function r(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");r===-1&&(r=e);var n=r===e?0:4-r%4;return[r,n]}function n(t){var e=r(t),n=e[0],i=e[1];return 3*(n+i)/4-i}function i(t,e,r){return 3*(e+r)/4-r}function a(t){for(var e,n=r(t),a=n[0],o=n[1],s=new h(i(t,a,o)),l=0,u=o>0?a-4:a,g=0;g<u;g+=4)e=c[t.charCodeAt(g)]<<18|c[t.charCodeAt(g+1)]<<12|c[t.charCodeAt(g+2)]<<6|c[t.charCodeAt(g+3)],s[l++]=e>>16&255,s[l++]=e>>8&255,s[l++]=255&e;return 2===o&&(e=c[t.charCodeAt(g)]<<2|c[t.charCodeAt(g+1)]>>4,s[l++]=255&e),1===o&&(e=c[t.charCodeAt(g)]<<10|c[t.charCodeAt(g+1)]<<4|c[t.charCodeAt(g+2)]>>2,s[l++]=e>>8&255,s[l++]=255&e),s}function o(t){return u[t>>18&63]+u[t>>12&63]+u[t>>6&63]+u[63&t]}function s(t,e,r){for(var n,i=[],a=e;a<r;a+=3)n=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),i.push(o(n));return i.join("")}function l(t){for(var e,r=t.length,n=r%3,i=[],a=16383,o=0,l=r-n;o<l;o+=a)i.push(s(t,o,o+a>l?l:o+a));return 1===n?(e=t[r-1],i.push(u[e>>2]+u[e<<4&63]+"==")):2===n&&(e=(t[r-2]<<8)+t[r-1],i.push(u[e>>10]+u[e>>4&63]+u[e<<2&63]+"=")),i.join("")}e.byteLength=n,e.toByteArray=a,e.fromByteArray=l;for(var u=[],c=[],h="undefined"!=typeof Uint8Array?Uint8Array:Array,g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",p=0,d=g.length;p<d;++p)u[p]=g[p],c[g.charCodeAt(p)]=p;c["-".charCodeAt(0)]=62,c["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,r,n,i){var a,o,s=8*i-n-1,l=(1<<s)-1,u=l>>1,c=-7,h=r?i-1:0,g=r?-1:1,p=t[e+h];for(h+=g,a=p&(1<<-c)-1,p>>=-c,c+=s;c>0;a=256*a+t[e+h],h+=g,c-=8);for(o=a&(1<<-c)-1,a>>=-c,c+=n;c>0;o=256*o+t[e+h],h+=g,c-=8);if(0===a)a=1-u;else{if(a===l)return o?NaN:(p?-1:1)*(1/0);o+=Math.pow(2,n),a-=u}return(p?-1:1)*o*Math.pow(2,a-n)},e.write=function(t,e,r,n,i,a){var o,s,l,u=8*a-i-1,c=(1<<u)-1,h=c>>1,g=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:a-1,d=n?1:-1,f=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,o=c):(o=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-o))<1&&(o--,l*=2),e+=o+h>=1?g/l:g*Math.pow(2,1-h),e*l>=2&&(o++,l/=2),o+h>=c?(s=0,o=c):o+h>=1?(s=(e*l-1)*Math.pow(2,i),o+=h):(s=e*Math.pow(2,h-1)*Math.pow(2,i),o=0));i>=8;t[r+p]=255&s,p+=d,s/=256,i-=8);for(o=o<<i|s,u+=i;u>0;t[r+p]=255&o,p+=d,o/=256,u-=8);t[r+p-d]|=128*f}},function(t,e){var r={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DTYPE_VALUE_SIZE_MAP={float32:4,int32:4,uint16:2,uint8:1,bool:1}},function(t,e,r){"use strict";function n(t){if(t.indexOf(p)===-1)throw new Error("The url string provided does not contain a scheme. Supported schemes are: "+d.getSchemes().join(","));return{scheme:t.split(p)[0],path:t.split(p)[1]}}function i(t,e,r){return void 0===r&&(r=!1),u(this,void 0,void 0,function(){var i,a,o,s,l,u,p,f,A;return c(this,function(c){switch(c.label){case 0:return h.assert(t!==e,"Old path and new path are the same: '"+t+"'"),i=g.IORouterRegistry.getLoadHandlers(t),h.assert(i.length>0,"Copying failed because no load handler is found for source URL "+t+"."),h.assert(i.length<2,"Copying failed because more than one ("+i.length+") "+("load handlers for source URL "+t+".")),a=i[0],o=g.IORouterRegistry.getSaveHandlers(e),h.assert(o.length>0,"Copying failed because no save handler is found for destination URL "+(e+".")),h.assert(o.length<2,"Copying failed because more than one ("+i.length+") "+("save handlers for destination URL "+e+".")),s=o[0],l=n(t).scheme,u=n(t).path,p=l===n(t).scheme,[4,a.load()];case 1:return f=c.sent(),r&&p?[4,d.getManager(l).removeModel(u)]:[3,3];case 2:c.sent(),c.label=3;case 3:return[4,s.save(f)];case 4:return A=c.sent(),!r||p?[3,6]:[4,d.getManager(l).removeModel(u)];case 5:c.sent(),c.label=6;case 6:return[2,A.modelArtifactsInfo]}})})}function a(){return u(this,void 0,void 0,function(){var t,e,r,n,i,a,o,s;return c(this,function(l){switch(l.label){case 0:t=d.getSchemes(),e={},r=0,n=t,l.label=1;case 1:return r<n.length?(i=n[r],[4,d.getManager(i).listModels()]):[3,4];case 2:a=l.sent();for(o in a)s=i+p+o,e[s]=a[o];l.label=3;case 3:return r++,[3,1];case 4:return[2,e]}})})}function o(t){return u(this,void 0,void 0,function(){var e,r;return c(this,function(i){switch(i.label){case 0:return e=n(t),r=d.getManager(e.scheme),[4,r.removeModel(e.path)];case 1:return[2,i.sent()]}})})}function s(t,e){return u(this,void 0,void 0,function(){var r;return c(this,function(n){switch(n.label){case 0:return r=!1,[4,i(t,e,r)];case 1:return[2,n.sent()]}})})}function l(t,e){return u(this,void 0,void 0,function(){var r;return c(this,function(n){switch(n.label){case 0:return r=!0,[4,i(t,e,r)];case 1:return[2,n.sent()]}})})}var u=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))(function(i,a){function o(t){try{l(n.next(t))}catch(t){a(t)}}function s(t){try{l(n.throw(t))}catch(t){a(t)}}function l(t){t.done?i(t.value):new r(function(e){e(t.value)}).then(o,s)}l((n=n.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){function r(t){return function(e){return n([t,e])}}function n(r){if(i)throw new TypeError("Generator is already executing.");for(;l;)try{if(i=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return l.label++,{value:r[1],done:!1};case 5:l.label++,a=r[1],r=[0];continue;case 7:r=l.ops.pop(),l.trys.pop();continue;default:if(o=l.trys,!(o=o.length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){l=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){l.label=r[1];break}if(6===r[0]&&l.label<o[1]){l.label=o[1],o=r;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(r);break}o[2]&&l.ops.pop(),l.trys.pop();continue}r=e.call(t,l)}catch(t){r=[6,t],a=0}finally{i=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}var i,a,o,s,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(e,"__esModule",{value:!0});var h=r(516),g=r(644),p="://",d=function(){function t(){this.managers={}}return t.getInstance=function(){return null==t.instance&&(t.instance=new t),t.instance},t.registerManager=function(e,r){h.assert(null!=e,"scheme must not be undefined or null."),e.endsWith(p)&&(e=e.slice(0,e.indexOf(p))),h.assert(e.length>0,"scheme must not be an empty string.");var n=t.getInstance();h.assert(null==n.managers[e],"A model store manager is already registered for scheme '"+e+"'."),n.managers[e]=r},t.getManager=function(t){var e=this.getInstance().managers[t];if(null==e)throw new Error("Cannot find model manager for scheme '"+t+"'");return e},t.getSchemes=function(){return Object.keys(this.getInstance().managers)},t}();e.ModelStoreManagerRegistry=d,e.listModels=a,e.removeModel=o,e.copyModel=s,e.moveModel=l},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){this.saveRouters=[],this.loadRouters=[]}return t.getInstance=function(){return null==t.instance&&(t.instance=new t),t.instance},t.registerSaveRouter=function(e){t.getInstance().saveRouters.push(e)},t.registerLoadRouter=function(e){t.getInstance().loadRouters.push(e)},t.getSaveHandlers=function(e){return t.getHandlers(e,"save")},t.getLoadHandlers=function(e){return t.getHandlers(e,"load")},t.getHandlers=function(t,e){var r=[],n="load"===e?this.getInstance().loadRouters:this.getInstance().saveRouters;return n.forEach(function(e){var n=e(t);null!==n&&r.push(n)}),r},t}();e.IORouterRegistry=r},function(t,e,r){"use strict";function n(){if(!c.ENV.get("IS_BROWSER")||"undefined"==typeof window.localStorage)throw new Error("purgeLocalStorageModels() cannot proceed because local storage is unavailable in the current environment.");for(var t=window.localStorage,e=[],r=0;r<t.length;++r){var n=t.key(r),i=A+f;if(n.startsWith(i)&&n.length>i.length){t.removeItem(n);var o=a(n);e.indexOf(o)===-1&&e.push(o)}}return e}function i(t){return{info:[A,t,C].join(f),topology:[A,t,m].join(f),weightSpecs:[A,t,I].join(f),weightData:[A,t,v].join(f)}}function a(t){var e=t.split(f);if(e.length<3)throw new Error("Invalid key format: "+t);return e.slice(1,e.length-1).join(f)}function o(t){return t.startsWith(y.URL_SCHEME)?t.slice(y.URL_SCHEME.length):t}function s(t){return new y(t)}var l=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))(function(i,a){function o(t){try{l(n.next(t))}catch(t){a(t)}}function s(t){try{l(n.throw(t))}catch(t){a(t)}}function l(t){t.done?i(t.value):new r(function(e){e(t.value)}).then(o,s)}l((n=n.apply(t,e||[])).next())})},u=this&&this.__generator||function(t,e){function r(t){return function(e){return n([t,e])}}function n(r){if(i)throw new TypeError("Generator is already executing.");for(;l;)try{if(i=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return l.label++,{value:r[1],done:!1};case 5:l.label++,a=r[1],r=[0];continue;case 7:r=l.ops.pop(),l.trys.pop();continue;default:if(o=l.trys,!(o=o.length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){l=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){l.label=r[1];break}if(6===r[0]&&l.label<o[1]){l.label=o[1],o=r;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(r);break}o[2]&&l.ops.pop(),l.trys.pop();continue}r=e.call(t,l)}catch(t){r=[6,t],a=0}finally{i=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}var i,a,o,s,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(e,"__esModule",{value:!0});var c=r(512),h=r(516),g=r(637),p=r(643),d=r(644),f="/",A="tensorflowjs_models",C="info",m="model_topology",I="weight_specs",v="weight_data";e.purgeLocalStorageArtifacts=n;var y=function(){function t(t){if(!c.ENV.get("IS_BROWSER")||"undefined"==typeof window.localStorage)throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,null==t||!t)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=t,this.keys=i(this.modelPath)}return t.prototype.save=function(t){return l(this,void 0,void 0,function(){var e,r,n,i;return u(this,function(a){if(t.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");e=JSON.stringify(t.modelTopology),r=JSON.stringify(t.weightSpecs),n=g.getModelArtifactsInfoForJSON(t);try{return this.LS.setItem(this.keys.info,JSON.stringify(n)),this.LS.setItem(this.keys.topology,e),this.LS.setItem(this.keys.weightSpecs,r),this.LS.setItem(this.keys.weightData,g.arrayBufferToBase64String(t.weightData)),[2,{modelArtifactsInfo:n}]}catch(t){for(i in this.keys)this.LS.removeItem(this.keys[i]);throw new Error("Failed to save model '"+this.modelPath+"' to local storage: size quota being exceeded is a possible cause of this failure: "+("modelTopologyBytes="+n.modelTopologyBytes+", ")+("weightSpecsBytes="+n.weightSpecsBytes+", ")+("weightDataBytes="+n.weightDataBytes+"."))}return[2]})})},t.prototype.load=function(){return l(this,void 0,void 0,function(){var t,e,r,n,i;return u(this,function(a){if(t=JSON.parse(this.LS.getItem(this.keys.info)),null==t)throw new Error("In local storage, there is no model with name '"+this.modelPath+"'");if("JSON"!==t.modelTopologyType)throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");if(e={},r=JSON.parse(this.LS.getItem(this.keys.topology)),null==r)throw new Error("In local storage, the topology of model '"+this.modelPath+"' is missing.");if(e.modelTopology=r,n=JSON.parse(this.LS.getItem(this.keys.weightSpecs)),null==n)throw new Error("In local storage, the weight specs of model '"+this.modelPath+"' are missing.");if(e.weightSpecs=n,i=this.LS.getItem(this.keys.weightData),
null==i)throw new Error("In local storage, the binary weight values of model "+("'"+this.modelPath+"' are missing."));return e.weightData=g.base64StringToArrayBuffer(i),[2,e]})})},t.URL_SCHEME="localstorage://",t}();e.BrowserLocalStorage=y,e.localStorageRouter=function(t){return c.ENV.get("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith(y.URL_SCHEME)?s(t.slice(y.URL_SCHEME.length)):null},d.IORouterRegistry.registerSaveRouter(e.localStorageRouter),d.IORouterRegistry.registerLoadRouter(e.localStorageRouter),e.browserLocalStorage=s;var b=function(){function t(){h.assert(c.ENV.get("IS_BROWSER"),"Current environment is not a web browser"),h.assert("undefined"!=typeof window.localStorage,"Current browser does not appear to support localStorage"),this.LS=window.localStorage}return t.prototype.listModels=function(){return l(this,void 0,void 0,function(){var t,e,r,n,i,o;return u(this,function(s){for(t={},e=A+f,r=f+C,n=0;n<this.LS.length;++n)i=this.LS.key(n),i.startsWith(e)&&i.endsWith(r)&&(o=a(i),t[o]=JSON.parse(this.LS.getItem(i)));return[2,t]})})},t.prototype.removeModel=function(t){return l(this,void 0,void 0,function(){var e,r;return u(this,function(n){if(t=o(t),e=i(t),null==this.LS.getItem(e.info))throw new Error("Cannot find model at path '"+t+"'");return r=JSON.parse(this.LS.getItem(e.info)),this.LS.removeItem(e.info),this.LS.removeItem(e.topology),this.LS.removeItem(e.weightSpecs),this.LS.removeItem(e.weightData),[2,r]})})},t}();if(e.BrowserLocalStorageManager=b,c.ENV.get("IS_BROWSER"))try{p.ModelStoreManagerRegistry.registerManager(y.URL_SCHEME,new b)}catch(t){}},function(t,e,r){"use strict";function n(t){return void 0===t&&(t="model"),new p(t)}function i(t){return new d(t)}var a=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))(function(i,a){function o(t){try{l(n.next(t))}catch(t){a(t)}}function s(t){try{l(n.throw(t))}catch(t){a(t)}}function l(t){t.done?i(t.value):new r(function(e){e(t.value)}).then(o,s)}l((n=n.apply(t,e||[])).next())})},o=this&&this.__generator||function(t,e){function r(t){return function(e){return n([t,e])}}function n(r){if(i)throw new TypeError("Generator is already executing.");for(;l;)try{if(i=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return l.label++,{value:r[1],done:!1};case 5:l.label++,a=r[1],r=[0];continue;case 7:r=l.ops.pop(),l.trys.pop();continue;default:if(o=l.trys,!(o=o.length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){l=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){l.label=r[1];break}if(6===r[0]&&l.label<o[1]){l.label=o[1],o=r;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(r);break}o[2]&&l.ops.pop(),l.trys.pop();continue}r=e.call(t,l)}catch(t){r=[6,t],a=0}finally{i=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}var i,a,o,s,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(e,"__esModule",{value:!0});var s=r(512),l=r(637),u=r(644),c="model",h=".json",g=".weights.bin",p=function(){function t(e){if(!s.ENV.get("IS_BROWSER"))throw new Error("triggerDownloads() cannot proceed because the current environment is not a browser.");e.startsWith(t.URL_SCHEME)&&(e=e.slice(t.URL_SCHEME.length)),null!=e&&0!==e.length||(e=c),this.modelTopologyFileName=e+h,this.weightDataFileName=e+g}return t.prototype.save=function(t){return a(this,void 0,void 0,function(){var e,r,n,i,a,s;return o(this,function(o){if(e=window.URL.createObjectURL(new Blob([t.weightData],{type:"application/octet-stream"})),t.modelTopology instanceof ArrayBuffer)throw new Error("DownloadTrigger.save() does not support saving model topology in binary formats yet.");return r=[{paths:["./"+this.weightDataFileName],weights:t.weightSpecs}],n={modelTopology:t.modelTopology,weightsManifest:r},i=window.URL.createObjectURL(new Blob([JSON.stringify(n)],{type:"application/json"})),a=null==this.jsonAnchor?document.createElement("a"):this.jsonAnchor,a.download=this.modelTopologyFileName,a.href=i,a.click(),null!=t.weightData&&(s=null==this.weightDataAnchor?document.createElement("a"):this.weightDataAnchor,s.download=this.weightDataFileName,s.href=e,s.click()),[2,{modelArtifactsInfo:l.getModelArtifactsInfoForJSON(t)}]})})},t.URL_SCHEME="downloads://",t}();e.BrowserDownloads=p;var d=function(){function t(t){if(null==t||t.length<1)throw new Error("When calling browserFiles, at least 1 file is required, but received "+t);this.files=t}return t.prototype.load=function(){return a(this,void 0,void 0,function(){var t,e,r=this;return o(this,function(n){return t=this.files[0],e=this.files.slice(1),[2,new Promise(function(n,i){var a=new FileReader;a.onload=function(a){var o=JSON.parse(a.target.result),s=o.modelTopology;if(null==s)return void i(new Error("modelTopology field is missing from file "+t.name));0===e.length&&n({modelTopology:s});var u=o.weightsManifest;if(null==u)return void i(new Error("weightManifest field is missing from file "+t.name));var c;try{c=r.checkManifestAndWeightFiles(u,e)}catch(t){return void i(t)}var h=[],g=[],p=[];u.forEach(function(t){t.paths.forEach(function(t){g.push(t),p.push(null)}),h.push.apply(h,t.weights)}),u.forEach(function(t){t.paths.forEach(function(t){var e=new FileReader;e.onload=function(e){var r=e.target.result,i=g.indexOf(t);p[i]=r,p.indexOf(null)===-1&&n({modelTopology:s,weightSpecs:h,weightData:l.concatenateArrayBuffers(p)})},e.onerror=function(e){i("Failed to weights data from file of path '"+t+"'.")},e.readAsArrayBuffer(c[t])})})},a.onerror=function(e){i("Failed to read model topology and weights manifest JSON "+("from file '"+t.name+"'. BrowserFiles supports loading ")+"Keras-style tf.Model artifacts only.")},a.readAsText(t)})]})})},t.prototype.checkManifestAndWeightFiles=function(t,e){for(var r=[],n=e.map(function(t){return l.basename(t.name)}),i={},a=0,o=t;a<o.length;a++){var s=o[a];s.paths.forEach(function(t){var a=l.basename(t);if(r.indexOf(a)!==-1)throw new Error("Duplicate file basename found in weights manifest: "+("'"+a+"'"));if(r.push(a),n.indexOf(a)===-1)throw new Error("Weight file with basename '"+a+"' is not provided.");i[t]=e[n.indexOf(a)]})}if(r.length!==e.length)throw new Error("Mismatch in the number of files in weights manifest "+("("+r.length+") and the number of weight files provided ")+("("+e.length+")."));return i},t}();e.browserDownloadsRouter=function(t){return s.ENV.get("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith(p.URL_SCHEME)?n(t.slice(p.URL_SCHEME.length)):null},u.IORouterRegistry.registerSaveRouter(e.browserDownloadsRouter),e.browserDownloads=n,e.browserFiles=i},function(t,e,r){"use strict";function n(t){return null!=t.match(h.URL_SCHEME_REGEX)}function i(t,e){return new h(t,e)}var a=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))(function(i,a){function o(t){try{l(n.next(t))}catch(t){a(t)}}function s(t){try{l(n.throw(t))}catch(t){a(t)}}function l(t){t.done?i(t.value):new r(function(e){e(t.value)}).then(o,s)}l((n=n.apply(t,e||[])).next())})},o=this&&this.__generator||function(t,e){function r(t){return function(e){return n([t,e])}}function n(r){if(i)throw new TypeError("Generator is already executing.");for(;l;)try{if(i=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return l.label++,{value:r[1],done:!1};case 5:l.label++,a=r[1],r=[0];continue;case 7:r=l.ops.pop(),l.trys.pop();continue;default:if(o=l.trys,!(o=o.length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){l=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){l.label=r[1];break}if(6===r[0]&&l.label<o[1]){l.label=o[1],o=r;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(r);break}o[2]&&l.ops.pop(),l.trys.pop();continue}r=e.call(t,l)}catch(t){r=[6,t],a=0}finally{i=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}var i,a,o,s,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(e,"__esModule",{value:!0});var s=r(516),l=r(637),u=r(644),c=r(648),h=function(){function t(t,e){if(this.DEFAULT_METHOD="POST","undefined"==typeof fetch)throw new Error("browserHTTPRequest is not supported outside the web browser without a fetch polyfill.");if(s.assert(null!=t&&t.length>0,"URL path for browserHTTPRequest must not be null, undefined or empty."),Array.isArray(t)&&s.assert(2===t.length,"URL paths for browserHTTPRequest must have a length of 2, "+("(actual length is "+t.length+").")),this.path=t,null!=e&&null!=e.body)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=e||{}}return t.prototype.save=function(t){return a(this,void 0,void 0,function(){var e,r,n,i;return o(this,function(a){switch(a.label){case 0:if(t.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");return e=Object.assign({method:this.DEFAULT_METHOD},this.requestInit),e.body=new FormData,r=[{paths:["./model.weights.bin"],weights:t.weightSpecs}],n={modelTopology:t.modelTopology,weightsManifest:r},e.body.append("model.json",new Blob([JSON.stringify(n)],{type:"application/json"}),"model.json"),null!=t.weightData&&e.body.append("model.weights.bin",new Blob([t.weightData],{type:"application/octet-stream"}),"model.weights.bin"),[4,fetch(this.path,e)];case 1:if(i=a.sent(),200===i.status)return[2,{modelArtifactsInfo:l.getModelArtifactsInfoForJSON(t),responses:[i]}];throw new Error("BrowserHTTPRequest.save() failed due to HTTP response status "+(i.status+"."))}})})},t.prototype.load=function(){return a(this,void 0,void 0,function(){return o(this,function(t){return[2,Array.isArray(this.path)?this.loadBinaryModel():this.loadJSONModel()]})})},t.prototype.loadBinaryTopology=function(){return a(this,void 0,void 0,function(){var t,e;return o(this,function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,fetch(this.path[0],this.requestInit)];case 1:return t=r.sent(),[4,t.arrayBuffer()];case 2:return[2,r.sent()];case 3:throw e=r.sent(),new Error(this.path[0]+" not found. "+e);case 4:return[2]}})})},t.prototype.loadBinaryModel=function(){return a(this,void 0,void 0,function(){var t,e,r,n,i,a,s,l,u;return o(this,function(o){switch(o.label){case 0:return t=this.loadBinaryTopology(),[4,fetch(this.path[1],this.requestInit)];case 1:return e=o.sent(),[4,Promise.all([t,e])];case 2:return r=o.sent(),n=r[0],i=r[1],[4,i.json()];case 3:return a=o.sent(),null==a?[3,5]:[4,this.loadWeights(a)];case 4:u=o.sent(),s=u[0],l=u[1],o.label=5;case 5:return[2,{modelTopology:n,weightSpecs:s,weightData:l}]}})})},t.prototype.loadJSONModel=function(){return a(this,void 0,void 0,function(){var t,e,r,n,i,a,s,l;return o(this,function(o){switch(o.label){case 0:return[4,fetch(this.path,this.requestInit)];case 1:return t=o.sent(),[4,t.json()];case 2:if(e=o.sent(),r=e.modelTopology,n=e.weightsManifest,null==r&&null==n)throw new Error("The JSON from HTTP path "+this.path+" contains neither model topology or manifest for weights.");return null==n?[3,4]:(s=e.weightsManifest,[4,this.loadWeights(s)]);case 3:l=o.sent(),i=l[0],a=l[1],o.label=4;case 4:return[2,{modelTopology:r,weightSpecs:i,weightData:a}]}})})},t.prototype.loadWeights=function(t){return a(this,void 0,void 0,function(){var e,r,n,i,a,s,u,h,g;return o(this,function(o){switch(o.label){case 0:for(e=Array.isArray(this.path)?this.path[1]:this.path,r=[],n=0,i=t;n<i.length;n++)a=i[n],r.push.apply(r,a.weights);return s=e.substring(0,e.lastIndexOf("/")),s.endsWith("/")||(s+="/"),u=[],t.forEach(function(t){t.paths.forEach(function(t){u.push(s+t)})}),h=[r],g=l.concatenateArrayBuffers,[4,c.loadWeightsAsArrayBuffer(u,this.requestInit)];case 1:return[2,h.concat([g.apply(void 0,[o.sent()])])]}})})},t.URL_SCHEME_REGEX=/^https?:\/\//,t}();e.BrowserHTTPRequest=h,e.httpRequestRouter=function(t){if("undefined"==typeof fetch)return null;var e=!0;return(e=Array.isArray(t)?t.every(function(t){return n(t)}):n(t))?i(t):null},u.IORouterRegistry.registerSaveRouter(e.httpRequestRouter),u.IORouterRegistry.registerLoadRouter(e.httpRequestRouter),e.browserHTTPRequest=i},function(t,e,r){"use strict";function n(t,e){return a(this,void 0,void 0,function(){var r,n,i;return o(this,function(a){switch(a.label){case 0:return r=t.map(function(t){return fetch(t,e)}),[4,Promise.all(r)];case 1:return n=a.sent(),[4,Promise.all(n.map(function(t){return t.arrayBuffer()}))];case 2:return i=a.sent(),[2,i]}})})}function i(t,e,r,i){return void 0===e&&(e=""),a(this,void 0,void 0,function(){var a,c,h,g,p,d,f,A,C,m;return o(this,function(o){switch(o.label){case 0:if(a=t.map(function(){return!1}),c={},h=null!=r?r.map(function(){return!1}):[],g=[],t.forEach(function(t,e){var n=0;t.weights.forEach(function(t){var i="quantization"in t?t.quantization.dtype:t.dtype,o=u.DTYPE_VALUE_SIZE_MAP[i]*s.sizeFromShape(t.shape),l=function(){a[e]=!0,null==c[e]&&(c[e]=[]),c[e].push({manifestEntry:t,groupOffset:n,sizeBytes:o})};null!=r?r.forEach(function(e,r){e===t.name&&(l(),h[r]=!0)}):l(),g.push(t.name),n+=o})}),!h.every(function(t){return t}))throw p=r.filter(function(t,e){return!h[e]}),new Error("Could not find weights in manifest with names: "+(p.join(", ")+". \n")+"Manifest JSON has weights with names: "+(g.join(", ")+"."));return d=a.reduce(function(t,e,r){return e&&t.push(r),t},[]),f=[],d.forEach(function(r){t[r].paths.forEach(function(t){var r=e+(e.endsWith("/")?"":"/")+t;f.push(r)})}),[4,n(f,i)];case 1:return A=o.sent(),C={},m=0,d.forEach(function(e){for(var r=t[e].paths.length,n=0,i=0;i<r;i++)n+=A[m+i].byteLength;for(var a=new ArrayBuffer(n),o=new Uint8Array(a),s=0,u=0;u<r;u++){var h=new Uint8Array(A[m+u]);o.set(h,s),s+=h.byteLength}var g=c[e];g.forEach(function(t){var e=a.slice(t.groupOffset,t.groupOffset+t.sizeBytes),r=l.decodeWeights(e,[t.manifestEntry]);for(var n in r)C[n]=r[n]}),m+=r}),[2,C]}})})}var a=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))(function(i,a){function o(t){try{l(n.next(t))}catch(t){a(t)}}function s(t){try{l(n.throw(t))}catch(t){a(t)}}function l(t){t.done?i(t.value):new r(function(e){e(t.value)}).then(o,s)}l((n=n.apply(t,e||[])).next())})},o=this&&this.__generator||function(t,e){function r(t){return function(e){return n([t,e])}}function n(r){if(i)throw new TypeError("Generator is already executing.");for(;l;)try{if(i=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return l.label++,{value:r[1],done:!1};case 5:l.label++,a=r[1],r=[0];continue;case 7:r=l.ops.pop(),l.trys.pop();continue;default:if(o=l.trys,!(o=o.length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){l=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){l.label=r[1];break}if(6===r[0]&&l.label<o[1]){l.label=o[1],o=r;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(r);break}o[2]&&l.ops.pop(),l.trys.pop();continue}r=e.call(t,l)}catch(t){r=[6,t],a=0}finally{i=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}var i,a,o,s,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(e,"__esModule",{value:!0});var s=r(516),l=r(637),u=r(642);e.loadWeightsAsArrayBuffer=n,e.loadWeights=i},function(t,e){"use strict";function r(t,e,r){return new s(t,e,r)}function n(t){return new l(t)}var i=this&&this.__assign||Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},a=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))(function(i,a){function o(t){try{l(n.next(t))}catch(t){a(t)}}function s(t){try{l(n.throw(t))}catch(t){a(t)}}function l(t){t.done?i(t.value):new r(function(e){e(t.value)}).then(o,s)}l((n=n.apply(t,e||[])).next())})},o=this&&this.__generator||function(t,e){function r(t){return function(e){return n([t,e])}}function n(r){if(i)throw new TypeError("Generator is already executing.");for(;l;)try{if(i=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return l.label++,{value:r[1],done:!1};case 5:l.label++,a=r[1],r=[0];continue;case 7:r=l.ops.pop(),l.trys.pop();continue;default:if(o=l.trys,!(o=o.length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){l=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){l.label=r[1];break}if(6===r[0]&&l.label<o[1]){l.label=o[1],o=r;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(r);break}o[2]&&l.ops.pop(),l.trys.pop();continue}r=e.call(t,l)}catch(t){r=[6,t],a=0}finally{i=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}var i,a,o,s,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e,r){this.modelTopology=t,this.weightSpecs=e,this.weightData=r}return t.prototype.load=function(){return a(this,void 0,void 0,function(){var t;return o(this,function(e){return t={},null!=this.modelTopology&&(t=i({modelTopology:this.modelTopology},t)),null!=this.weightSpecs&&this.weightSpecs.length>0&&(t=i({weightSpecs:this.weightSpecs},t)),null!=this.weightData&&this.weightData.byteLength>0&&(t=i({weightData:this.weightData},t)),[2,t]})})},t}(),l=function(){function t(t){this.saveHandler=t}return t.prototype.save=function(t){return a(this,void 0,void 0,function(){return o(this,function(e){return[2,this.saveHandler(t)]})})},t}();e.fromMemory=r,e.withSaveHandler=n},function(t,e,r){"use strict";function n(t){i.assert(null!=t.className,"Class being registered does not have the static className property defined."),i.assert("string"==typeof t.className,"className is required to be a string, but got type "+typeof t.className),i.assert(t.className.length>0,"Class being registered has an empty-string as its className, which is disallowed."),o.register(t)}Object.defineProperty(e,"__esModule",{value:!0});var i=r(516),a=function(){function t(){}return t.prototype.getClassName=function(){return this.constructor.className},t.fromConfig=function(t,e){return new t(e)},t}();e.Serializable=a;var o=function(){function t(){this.classNameMap={}}return t.getMap=function(){return null==t.instance&&(t.instance=new t),t.instance},t.register=function(e){t.getMap().classNameMap[e.className]=[e,e.fromConfig]},t}();e.SerializationMap=o,e.registerClass=n},function(t,e,r){"use strict";function n(t,e,r){if(null==r&&(r=c.ENV.get("TEST_EPSILON")),t instanceof h.Tensor||e instanceof h.Tensor){if(t instanceof h.Tensor&&e instanceof h.Tensor){if(t.dtype!==e.dtype)throw new Error("Arrays are of different type actual: "+t.dtype+" "+("vs expected: "+e.dtype+"."));if(!g.arraysEqual(t.shape,e.shape))throw new Error("Arrays are of different shape actual: "+t.shape+" "+("vs expected: "+e.shape+"."))}}else{var n=t.constructor.name,i=e.constructor.name;if(n!==i)throw new Error("Arrays are of different type actual: "+n+" vs expected: "+i)}var a,o;if(a=t instanceof h.Tensor?t.dataSync():t,o=e instanceof h.Tensor?e.dataSync():e,a.length!==o.length)throw new Error("Arrays have different lengths actual: "+a.length+" vs "+("expected: "+o.length+".\n")+("Actual:   "+a+".\n")+("Expected: "+o+"."));for(var l=0;l<o.length;++l){var u=a[l],p=o[l];if(!s(u,Number(p),r))throw new Error("Arrays differ: actual["+l+"] = "+u+", expected["+l+"] = "+p+".\n"+("Actual:   "+a+".\n")+("Expected: "+o+"."))}}function i(t,e){t().then(function(){return e.fail()},function(){return e()})}function a(t,e){return n(t,e,0)}function o(t,e,r){if(null==r&&(r=c.ENV.get("TEST_EPSILON")),!s(t,e,r))throw new Error("Numbers differ: actual === "+t+", expected === "+e)}function s(t,e,r){return!(!isNaN(t)||!isNaN(e))||!(isNaN(t)||isNaN(e)||Math.abs(t-e)>r)}function l(t,e,r){var n;n=t instanceof h.Tensor?t.dataSync():t;for(var i=0;i<n.length;i++)if(n[i]<e||n[i]>r)throw new Error("Value out of range:"+n[i]+" low: "+e+", high: "+r)}function u(t,e){expect(new Float32Array(t)).toEqual(new Float32Array(e))}Object.defineProperty(e,"__esModule",{value:!0});var c=r(512),h=r(518),g=r(516);e.WEBGL_ENVS={HAS_WEBGL:!0},e.NODE_ENVS={IS_NODE:!0},e.CHROME_ENVS={IS_CHROME:!0},e.BROWSER_ENVS={IS_BROWSER:!0},e.CPU_ENVS={HAS_WEBGL:!1},e.ALL_ENVS={},e.expectArraysClose=n,e.expectPromiseToFail=i,e.expectArraysEqual=a,e.expectNumbersClose=o,e.expectValuesInRange=l,e.expectArrayBuffersEqual=u},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="0.12.17";e.version=r},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(562);e.gpgpu_util=n;var i=r(564);e.webgl_util=i;var a=r(511);e.MathBackendWebGL=a.MathBackendWebGL;var o=r(561);e.GPGPUContext=o.GPGPUContext},function(t,e,r){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=r(512),a=r(522),o=r(607),s=r(650),l=r(655),u=function(t){function e(e,r,n){void 0===n&&(n=null);var s=t.call(this)||this;return s.learningRate=e,s.rho=r,s.epsilon=n,s.accumulatedGrads={},s.accumulatedUpdates={},s.c=a.keep(o.scalar(-e)),s.rhoScalar=a.keep(o.scalar(r)),s.oneMinusRho=a.keep(o.scalar(1-r)),null===n&&(n=i.ENV.get("EPSILON")),s.epsilonScalar=a.keep(o.scalar(n)),s}return n(e,t),e.prototype.applyGradients=function(t){var e=this,r=function(r){var s=i.ENV.engine.registeredVariables[r];if(null==n.accumulatedGrads[r]){var l=!1;a.tidy(function(){e.accumulatedGrads[r]=o.zerosLike(s).variable(l)})}if(null==n.accumulatedUpdates[r]){var u=!1;a.tidy(function(){e.accumulatedUpdates[r]=o.zerosLike(s).variable(u)})}var c=t[r],h=n.accumulatedGrads[r],g=n.accumulatedUpdates[r];a.tidy(function(){var t=e.rhoScalar.mul(h).add(e.oneMinusRho.mul(c.square())),n=g.add(e.epsilonScalar).sqrt().div(h.add(e.epsilonScalar).sqrt()).mul(c),i=e.rhoScalar.mul(g).add(e.oneMinusRho.mul(n.square()));e.accumulatedGrads[r].assign(t),e.accumulatedUpdates[r].assign(i);var a=e.c.mul(n).add(s);s.assign(a)})},n=this;for(var s in t)r(s)},e.prototype.dispose=function(){var t=this;this.c.dispose(),this.epsilonScalar.dispose(),this.rhoScalar.dispose(),this.oneMinusRho.dispose(),null!=this.accumulatedUpdates&&(Object.keys(this.accumulatedUpdates).forEach(function(e){return t.accumulatedUpdates[e].dispose()}),Object.keys(this.accumulatedGrads).forEach(function(e){return t.accumulatedGrads[e].dispose()}))},e.prototype.getConfig=function(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}},e.fromConfig=function(t,e){return new t(e.learningRate,e.rho,e.epsilon)},e.className="AdadeltaOptimizer",e}(l.Optimizer);e.AdadeltaOptimizer=u,s.registerClass(u)},function(t,e,r){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=r(522),a=r(650),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.minimize=function(t,e,r){void 0===e&&(e=!1);var n=this.computeGradients(t,r),i=n.value,a=n.grads;this.applyGradients(a);var o=Object.keys(a);return o.forEach(function(t){return a[t].dispose()}),e?i:(i.dispose(),null)},e.prototype.computeGradients=function(t,e){return i.variableGrads(t,e)},e}(a.Serializable);e.Optimizer=o},function(t,e,r){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=r(512),a=r(522),o=r(607),s=r(650),l=r(655),u=function(t){function e(e,r){void 0===r&&(r=.1);var n=t.call(this)||this;return n.learningRate=e,n.initialAccumulatorValue=r,n.accumulatedGrads={},n.c=a.keep(o.scalar(-e)),n.epsilon=a.keep(o.scalar(i.ENV.get("EPSILON"))),n}return n(e,t),e.prototype.applyGradients=function(t){var e=this,r=function(r){var s=i.ENV.engine.registeredVariables[r];if(null==n.accumulatedGrads[r]){var l=!1;a.tidy(function(){e.accumulatedGrads[r]=o.fill(s.shape,e.initialAccumulatorValue).variable(l)})}var u=t[r],c=n.accumulatedGrads[r];a.tidy(function(){var t=c.add(u.square());e.accumulatedGrads[r].assign(t);var n=e.c.mul(u.div(t.add(e.epsilon).sqrt())).add(s);s.assign(n)})},n=this;for(var s in t)r(s)},e.prototype.dispose=function(){var t=this;this.epsilon.dispose(),this.c.dispose(),null!=this.accumulatedGrads&&Object.keys(this.accumulatedGrads).forEach(function(e){return t.accumulatedGrads[e].dispose()})},e.prototype.getConfig=function(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}},e.fromConfig=function(t,e){return new t(e.learningRate,e.initialAccumulatorValue)},e.className="AdagradOptimizer",e}(l.Optimizer);e.AdagradOptimizer=u,s.registerClass(u)},function(t,e,r){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=r(512),a=r(522),o=r(607),s=r(650),l=r(655),u=function(t){function e(e,r,n,s){void 0===s&&(s=null);var l=t.call(this)||this;return l.learningRate=e,l.beta1=r,l.beta2=n,l.epsilon=s,l.accumulatedFirstMoment={},l.accumulatedSecondMoment={},l.c=a.keep(o.scalar(-e)),l.beta1Scalar=a.keep(o.scalar(r)),l.beta2Scalar=a.keep(o.scalar(n)),a.tidy(function(){l.accBeta1=o.scalar(r).variable(),l.accBeta2=o.scalar(n).variable()}),l.oneMinusBeta1=a.keep(o.scalar(1-r)),l.oneMinusBeta2=a.keep(o.scalar(1-n)),l.one=a.keep(o.scalar(1)),null===s&&(s=i.ENV.get("EPSILON")),l.epsScalar=a.keep(o.scalar(s)),l}return n(e,t),e.prototype.applyGradients=function(t){var e=this;a.tidy(function(){var r=e.one.sub(e.accBeta1),n=e.one.sub(e.accBeta2);for(var a in t){var s=i.ENV.engine.registeredVariables[a];if(null==e.accumulatedFirstMoment[a]){var l=!1;e.accumulatedFirstMoment[a]=o.zerosLike(s).variable(l)}if(null==e.accumulatedSecondMoment[a]){var l=!1;e.accumulatedSecondMoment[a]=o.zerosLike(s).variable(l)}var u=t[a],c=e.accumulatedFirstMoment[a],h=e.accumulatedSecondMoment[a],g=e.beta1Scalar.mul(c).add(e.oneMinusBeta1.mul(u)),p=e.beta2Scalar.mul(h).add(e.oneMinusBeta2.mul(u.square())),d=g.div(r),f=p.div(n);e.accumulatedFirstMoment[a].assign(g),e.accumulatedSecondMoment[a].assign(p);var A=e.c.mul(d.div(e.epsScalar.add(f.sqrt()))).add(s);s.assign(A)}e.accBeta1.assign(e.accBeta1.mul(e.beta1Scalar)),e.accBeta2.assign(e.accBeta2.mul(e.beta2Scalar))})},e.prototype.dispose=function(){var t=this;this.c.dispose(),this.epsScalar.dispose(),this.beta1Scalar.dispose(),this.beta2Scalar.dispose(),this.accBeta1.dispose(),this.accBeta2.dispose(),this.oneMinusBeta1.dispose(),this.oneMinusBeta2.dispose(),this.one.dispose(),null!=this.accumulatedFirstMoment&&Object.keys(this.accumulatedFirstMoment).forEach(function(e){return t.accumulatedFirstMoment[e].dispose()}),null!=this.accumulatedSecondMoment&&Object.keys(this.accumulatedSecondMoment).forEach(function(e){return t.accumulatedSecondMoment[e].dispose()})},e.prototype.getConfig=function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}},e.fromConfig=function(t,e){return new t(e.learningRate,e.beta1,e.beta2,e.epsilon)},e.className="AdamOptimizer",e}(l.Optimizer);e.AdamOptimizer=u,s.registerClass(u)},function(t,e,r){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=r(512),a=r(522),o=r(607),s=r(650),l=r(655),u=function(t){function e(e,r,n,s,l){void 0===s&&(s=null),void 0===l&&(l=0);var u=t.call(this)||this;return u.learningRate=e,u.beta1=r,u.beta2=n,u.epsilon=s,u.decay=l,u.accumulatedFirstMoment={},u.accumulatedWeightedInfNorm={},u.c=a.keep(o.scalar(-e)),u.beta1Scalar=a.keep(o.scalar(r)),u.beta2Scalar=a.keep(o.scalar(n)),u.decayScalar=a.keep(o.scalar(l)),a.tidy(function(){u.iteration=o.scalar(0).variable(),u.accBeta1=o.scalar(r).variable()}),u.oneMinusBeta1=a.keep(o.scalar(1-r)),u.one=a.keep(o.scalar(1)),null===s&&(s=i.ENV.get("EPSILON")),u.epsScalar=a.keep(o.scalar(s)),u}return n(e,t),e.prototype.applyGradients=function(t){var e=this;a.tidy(function(){var r=e.one.sub(e.accBeta1),n=e.c.div(e.one.add(e.decayScalar.mul(e.iteration)));for(var a in t){var s=i.ENV.engine.registeredVariables[a];if(null==e.accumulatedFirstMoment[a]){var l=!1;e.accumulatedFirstMoment[a]=o.zerosLike(s).variable(l)}if(null==e.accumulatedWeightedInfNorm[a]){var l=!1;e.accumulatedWeightedInfNorm[a]=o.zerosLike(s).variable(l)}var u=t[a],c=e.accumulatedFirstMoment[a],h=e.accumulatedWeightedInfNorm[a],g=e.beta1Scalar.mul(c).add(e.oneMinusBeta1.mul(u)),p=e.beta2Scalar.mul(h),d=u.abs(),f=p.maximum(d);e.accumulatedFirstMoment[a].assign(g),e.accumulatedWeightedInfNorm[a].assign(f);var A=n.div(r).mul(g.div(e.epsScalar.add(f))).add(s);s.assign(A)}e.iteration.assign(e.iteration.add(e.one)),e.accBeta1.assign(e.accBeta1.mul(e.beta1Scalar))})},e.prototype.dispose=function(){var t=this;this.c.dispose(),this.epsScalar.dispose(),this.accBeta1.dispose(),this.beta1Scalar.dispose(),this.beta2Scalar.dispose(),this.oneMinusBeta1.dispose(),this.decayScalar.dispose(),this.iteration.dispose(),this.one.dispose(),null!=this.accumulatedFirstMoment&&Object.keys(this.accumulatedFirstMoment).forEach(function(e){return t.accumulatedFirstMoment[e].dispose()}),null!=this.accumulatedWeightedInfNorm&&Object.keys(this.accumulatedWeightedInfNorm).forEach(function(e){return t.accumulatedWeightedInfNorm[e].dispose()})},e.prototype.getConfig=function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}},e.fromConfig=function(t,e){return new t(e.learningRate,e.beta1,e.beta2,e.epsilon,e.decay)},e.className="AdamaxOptimizer",e}(l.Optimizer);e.AdamaxOptimizer=u,s.registerClass(u)},function(t,e,r){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=r(512),a=r(522),o=r(607),s=r(650),l=r(660),u=function(t){function e(e,r,n){void 0===n&&(n=!1);var i=t.call(this,e)||this;return i.learningRate=e,i.momentum=r,i.useNesterov=n,i.m=o.scalar(i.momentum),
i.accumulations={},i}return n(e,t),e.prototype.applyGradients=function(t){var e=this,r=function(r){var s=i.ENV.engine.registeredVariables[r];if(null==n.accumulations[r]){var l=!1;a.tidy(function(){e.accumulations[r]=o.zerosLike(s).variable(l)})}var u=n.accumulations[r],c=t[r];a.tidy(function(){var t,n=e.m.mul(u).add(c);t=e.useNesterov?e.c.mul(c.add(n.mul(e.m))).add(s):e.c.mul(n).add(s),e.accumulations[r].assign(n),s.assign(t)})},n=this;for(var s in t)r(s)},e.prototype.dispose=function(){if(t.prototype.dispose.call(this),this.m.dispose(),null!=this.accumulations)for(var e in this.accumulations)this.accumulations[e].dispose()},e.prototype.setMomentum=function(t){this.momentum=t},e.prototype.getConfig=function(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}},e.fromConfig=function(t,e){return new t(e.learningRate,e.momentum,e.useNesterov)},e.className="MomentumOptimizer",e}(l.SGDOptimizer);e.MomentumOptimizer=u,s.registerClass(u)},function(t,e,r){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=r(512),a=r(522),o=r(607),s=r(650),l=r(655),u=function(t){function e(e){var r=t.call(this)||this;return r.learningRate=e,r.setLearningRate(e),r}return n(e,t),e.prototype.applyGradients=function(t){var e=this,r=Object.keys(t);r.forEach(function(r){var n=t[r],o=i.ENV.engine.registeredVariables[r];a.tidy(function(){var t=e.c.mul(n).add(o);o.assign(t)})})},e.prototype.setLearningRate=function(t){this.learningRate=t,null!=this.c&&this.c.dispose(),this.c=a.keep(o.scalar(-t))},e.prototype.dispose=function(){this.c.dispose()},e.prototype.getConfig=function(){return{learningRate:this.learningRate}},e.fromConfig=function(t,e){return new t(e.learningRate)},e.className="SGDOptimizer",e}(l.Optimizer);e.SGDOptimizer=u,s.registerClass(u)},function(t,e,r){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=r(512),a=r(522),o=r(607),s=r(650),l=r(655),u=function(t){function e(e,r,n,s,l){void 0===r&&(r=.9),void 0===n&&(n=0),void 0===s&&(s=null),void 0===l&&(l=!1);var u=t.call(this)||this;return u.learningRate=e,u.decay=r,u.momentum=n,u.epsilon=s,u.accumulatedMeanSquares={},u.accumulatedMeanGrads={},u.accumulatedMoments={},u.c=a.keep(o.scalar(e)),u.decayScalar=a.keep(o.scalar(r)),u.momentumScalar=a.keep(o.scalar(n)),u.oneMinusDecay=a.keep(o.scalar(1-r)),u.centered=l,null===s&&(s=i.ENV.get("EPSILON")),u.epsilonScalar=a.keep(o.scalar(s)),u}return n(e,t),e.prototype.applyGradients=function(t){var e=this,r=function(r){var s=i.ENV.engine.registeredVariables[r];if(null==n.accumulatedMeanSquares[r]){var l=!1;a.tidy(function(){e.accumulatedMeanSquares[r]=o.zerosLike(s).variable(l)})}if(null==n.accumulatedMeanGrads[r]&&n.centered){var u=!1;a.tidy(function(){e.accumulatedMeanGrads[r]=o.zerosLike(s).variable(u)})}if(null==n.accumulatedMoments[r]){var c=!1;a.tidy(function(){e.accumulatedMoments[r]=o.zerosLike(s).variable(c)})}var h=n.accumulatedMeanSquares[r],g=n.accumulatedMeanGrads[r],p=n.accumulatedMoments[r],d=t[r];a.tidy(function(){var t=e.decayScalar.mul(h).add(e.oneMinusDecay.mul(d.square()));if(e.centered){var n=e.decayScalar.mul(g).add(e.oneMinusDecay.mul(d)),i=e.momentumScalar.mul(p).add(e.c.mul(d).div(t.sub(n.square().add(e.epsilonScalar)).sqrt()));e.accumulatedMeanSquares[r].assign(t),e.accumulatedMeanGrads[r].assign(n),e.accumulatedMoments[r].assign(i);var a=s.sub(i);s.assign(a)}else{var o=e.decayScalar.mul(h).add(e.oneMinusDecay.mul(d.square())),i=e.momentumScalar.mul(p).add(e.c.mul(d).div(o.add(e.epsilonScalar).sqrt()));e.accumulatedMeanSquares[r].assign(o),e.accumulatedMoments[r].assign(i);var a=s.sub(i);s.assign(a)}})},n=this;for(var s in t)r(s)},e.prototype.dispose=function(){var t=this;this.c.dispose(),this.epsilonScalar.dispose(),this.decayScalar.dispose(),this.momentumScalar.dispose(),this.oneMinusDecay.dispose(),null!=this.accumulatedMeanSquares&&Object.keys(this.accumulatedMeanSquares).forEach(function(e){return t.accumulatedMeanSquares[e].dispose()}),null!=this.accumulatedMeanGrads&&this.centered&&Object.keys(this.accumulatedMeanGrads).forEach(function(e){return t.accumulatedMeanGrads[e].dispose()}),null!=this.accumulatedMoments&&Object.keys(this.accumulatedMoments).forEach(function(e){return t.accumulatedMoments[e].dispose()})},e.prototype.getConfig=function(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}},e.fromConfig=function(t,e){return new t(e.learningRate,e.decay,e.momentum,e.epsilon,e.centered)},e.className="RMSPropOptimizer",e}(l.Optimizer);e.RMSPropOptimizer=u,s.registerClass(u)},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(654),i=r(656),a=r(657),o=r(658),s=r(659),l=r(663),u=r(661),c=r(660);[s.MomentumOptimizer,c.SGDOptimizer,n.AdadeltaOptimizer,i.AdagradOptimizer,u.RMSPropOptimizer,o.AdamaxOptimizer,a.AdamOptimizer],e.train={sgd:l.OptimizerConstructors.sgd,momentum:l.OptimizerConstructors.momentum,adadelta:l.OptimizerConstructors.adadelta,adagrad:l.OptimizerConstructors.adagrad,rmsprop:l.OptimizerConstructors.rmsprop,adamax:l.OptimizerConstructors.adamax,adam:l.OptimizerConstructors.adam}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(654),i=r(656),a=r(657),o=r(658),s=r(659),l=r(661),u=r(660),c=function(){function t(){}return t.sgd=function(t){return new u.SGDOptimizer(t)},t.momentum=function(t,e,r){return void 0===r&&(r=!1),new s.MomentumOptimizer(t,e,r)},t.rmsprop=function(t,e,r,n,i){return void 0===e&&(e=.9),void 0===r&&(r=0),void 0===n&&(n=null),void 0===i&&(i=!1),new l.RMSPropOptimizer(t,e,r,n,i)},t.adam=function(t,e,r,n){return void 0===t&&(t=.001),void 0===e&&(e=.9),void 0===r&&(r=.999),void 0===n&&(n=null),new a.AdamOptimizer(t,e,r,n)},t.adadelta=function(t,e,r){return void 0===t&&(t=.001),void 0===e&&(e=.95),void 0===r&&(r=null),new n.AdadeltaOptimizer(t,e,r)},t.adamax=function(t,e,r,n,i){return void 0===t&&(t=.002),void 0===e&&(e=.9),void 0===r&&(r=.999),void 0===n&&(n=null),void 0===i&&(i=0),new o.AdamaxOptimizer(t,e,r,n,i)},t.adagrad=function(t,e){return void 0===e&&(e=.1),new i.AdagradOptimizer(t,e)},t}();e.OptimizerConstructors=c},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(665);e.constraints=n;var i=r(671);e.initializers=i;var a=r(676);e.layers=a;var o=r(710);e.metrics=o;var s=r(711);e.regularizers=s;var l=r(684);e.CallbackList=l.CallbackList,e.CustomCallback=l.CustomCallback,e.History=l.History;var u=r(712);e.Callback=u.Callback;var c=r(678);e.SymbolicTensor=c.SymbolicTensor;var h=r(683);e.Model=h.Model;var g=r(682);e.input=g.input,e.loadModel=g.loadModel,e.model=g.model,e.sequential=g.sequential;var p=r(708);e.RNN=p.RNN;var d=r(695);e.Sequential=d.Sequential;var f=r(681);e.LayerVariable=f.LayerVariable;var A=r(693);e.version_layers=A.version},function(t,e,r){"use strict";function n(t){return new s.MaxNorm(t)}function i(t){return new s.UnitNorm(t)}function a(){return new s.NonNeg}function o(t){return new s.MinMaxNorm(t)}Object.defineProperty(e,"__esModule",{value:!0});var s=r(666);e.maxNorm=n,e.unitNorm=i,e.nonNeg=a,e.minMaxNorm=o},function(t,e,r){"use strict";function n(t,e){return u.tidy(function(){return l.sqrt(l.sum(l.mulStrict(t,t),e,!0))})}function i(t){return g.serializeKerasObject(t)}function a(t,e){return void 0===e&&(e={}),g.deserializeKerasObject(t,u.serialization.SerializationMap.getMap().classNameMap,e,"constraint")}function o(t){if(null==t)return null;if("string"==typeof t){var r=t in e.CONSTRAINT_IDENTIFIER_REGISTRY_SYMBOL_MAP?e.CONSTRAINT_IDENTIFIER_REGISTRY_SYMBOL_MAP[t]:t,n={className:r,config:{}};return a(n)}return t instanceof p?t:a(t)}var s=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var l=r(510),u=r(510),c=r(667),h=r(668),g=r(669),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype.getConfig=function(){return{}},e}(u.serialization.Serializable);e.Constraint=p;var d=function(t){function e(e){var r=t.call(this)||this;return r.defaultMaxValue=2,r.defaultAxis=0,r.maxValue=null!=e.maxValue?e.maxValue:r.defaultMaxValue,r.axis=null!=e.axis?e.axis:r.defaultAxis,r}return s(e,t),e.prototype.apply=function(t){var e=this;return u.tidy(function(){var r=n(t,e.axis),i=l.clipByValue(r,0,e.maxValue);return l.mul(t,l.div(i,l.add(h.getScalar(c.epsilon()),r)))})},e.prototype.getConfig=function(){return{maxValue:this.maxValue,axis:this.axis}},e.className="MaxNorm",e}(p);e.MaxNorm=d,u.serialization.SerializationMap.register(d);var f=function(t){function e(e){var r=t.call(this)||this;return r.defaultAxis=0,r.axis=null!=e.axis?e.axis:r.defaultAxis,r}return s(e,t),e.prototype.apply=function(t){var e=this;return u.tidy(function(){return l.div(t,l.add(h.getScalar(c.epsilon()),n(t,e.axis)))})},e.prototype.getConfig=function(){return{axis:this.axis}},e.className="UnitNorm",e}(p);e.UnitNorm=f,u.serialization.SerializationMap.register(f);var A=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype.apply=function(t){return l.relu(t)},e.className="NonNeg",e}(p);e.NonNeg=A,u.serialization.SerializationMap.register(A);var C=function(t){function e(e){var r=t.call(this)||this;return r.defaultMinValue=0,r.defaultMaxValue=1,r.defaultRate=1,r.defaultAxis=0,r.minValue=null!=e.minValue?e.minValue:r.defaultMinValue,r.maxValue=null!=e.maxValue?e.maxValue:r.defaultMaxValue,r.rate=null!=e.rate?e.rate:r.defaultRate,r.axis=null!=e.axis?e.axis:r.defaultAxis,r}return s(e,t),e.prototype.apply=function(t){var e=this;return u.tidy(function(){var r=n(t,e.axis),i=l.add(l.mul(h.getScalar(e.rate),l.clipByValue(r,e.minValue,e.maxValue)),l.mul(h.getScalar(1-e.rate),r));return l.mul(t,l.div(i,l.add(h.getScalar(c.epsilon()),r)))})},e.prototype.getConfig=function(){return{minValue:this.minValue,maxValue:this.maxValue,rate:this.rate,axis:this.axis}},e.className="MinMaxNorm",e}(p);e.MinMaxNorm=C,u.serialization.SerializationMap.register(C),e.CONSTRAINT_IDENTIFIER_REGISTRY_SYMBOL_MAP={maxNorm:"MaxNorm",minMaxNorm:"MinMaxNorm",nonNeg:"NonNeg",unitNorm:"UnitNorm"},e.serializeConstraint=i,e.deserializeConstraint=a,e.getConstraint=o},function(t,e,r){"use strict";function n(){return s}function i(t){s=t}function a(){return"channelsLast"}Object.defineProperty(e,"__esModule",{value:!0});var o=r(510),s=o.ENV.get("EPSILON");e.epsilon=n,e.setEpsilon=i,e.imageDataFormat=a},function(t,e,r){"use strict";function n(){return l++}function i(t){return void 0===t&&(t=""),t in u||(u[t]=0),u[t]+=1,t+u[t].toString()}function a(t,e){return void 0===e&&(e=h),null==c[e][t]&&(c[e][t]=s.scalar(t,e),s.keep(c[e][t])),c[e][t]}function o(){for(var t in c)for(var e in c[t])c[t][e].dispose(),delete c[t][e]}Object.defineProperty(e,"__esModule",{value:!0});var s=r(510),l=0;e.getNextUniqueTensorId=n;var u={};e.getUid=i;var c={float32:{},int32:{}},h="float32";e.getScalar=a,e.disposeScalarCache=o},function(t,e,r){"use strict";function n(t,e){if(Array.isArray(t)){for(var r=[],n=0;n<e;n++)r=r.concat(t);return r}var r=new Array(e);return r.fill(t),r}function i(t,e){if(!t)throw new b.AssertionError(e)}function a(t,e){for(var r=0,n=0,i=t;n<i.length;n++){var a=i[n];a===e&&r++}return r}function o(t){return 1===t.length?t[0]:t}function s(t){return Array.isArray(t)?t:[t]}function l(t){for(var e=s(t),r="",n=0,i=e;n<i.length;n++){var a=i[n];if(null==a.id)throw new b.ValueError("Object "+a+" passed to objectListUid without an id");""!==r&&(r+=", "),r+=Math.abs(a.id)}return r}function u(t){var e=t.replace(/(.)([A-Z][a-z0-9]+)/g,"$1_$2"),r=e.replace(/([a-z])([A-Z])/g,"$1_$2").toLowerCase();return"_"!==r[0]?r:"private"+r}function c(t){return t.length<=1?t:t.indexOf("_")===-1?t:t.replace(/[_]+(\w|$)/g,function(t,e){return e.toUpperCase()})}function h(t){return null===t||void 0===t?null:{className:t.getClassName(),config:t.getConfig()}}function g(t,e,r,n){if(void 0===e&&(e={}),void 0===r&&(r={}),void 0===n&&(n="object"),"string"==typeof t){var i=t,a=void 0;if(i in r)a=r[i];else if(i in x)a=x[i];else if(a=e[i],null==a)throw new b.ValueError("Unknown "+n+": "+t+". This may be due to one of the following reasons:\n"+("1. The "+n+" is defined in Python, in which ")+"case it needs to be ported to TensorFlow.js or your JavaScript code.\n"+("2. The custom "+n+" is defined in JavaScript, ")+"but is not registered properly with tf.serialization.registerClass().");return a}var o=t;if(null==o.className||null==o.config)throw new b.ValueError(n+": Improper config format: "+(JSON.stringify(o)+".\n")+"'className' and 'config' must set.");var s=o.className,l=void 0,u=void 0;if(s in r?(S=r.get(s),l=S[0],u=S[1]):s in x?(T=x.className,l=T[0],u=T[1]):s in e&&(E=e[s],l=E[0],u=E[1]),null==l)throw new b.ValueError("Unknown "+n+": "+s+". This may be due to one of the following reasons:\n"+("1. The "+n+" is defined in Python, in which ")+"case it needs to be ported to TensorFlow.js or your JavaScript code.\n"+("2. The custom "+n+" is defined in JavaScript, ")+"but is not registered properly with tf.serialization.registerClass().");if(null!=u){for(var c={},h=0,g=Object.keys(x);h<g.length;h++){var p=g[h];c[p]=x[p]}for(var d=0,f=Object.keys(r);d<f.length;d++){var p=f[d];c[p]=r[p]}var A=o.config;A.customObjects=c;for(var C=y({},x),m=0,I=Object.keys(r);m<I.length;m++){var p=I[m];x[p]=r[p]}var v=u(l,o.config);return x=y({},C),v}for(var C=y({},x),w=0,N=Object.keys(r);w<N.length;w++){var p=N[w];x[p]=r[p]}var v=new l(o.config);return x=y({},C),v;var S,T,E}function p(t,e){return t<e?-1:t>e?1:0}function d(t,e){return-1*p(t,e)}function f(t){switch(t){case"float32":return"float32";default:throw new b.ValueError("Invalid dtype: "+t)}}function A(t,e){if(null==t||null==e)return t===e;if(t.length!==e.length)return!1;for(var r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0}function C(t){if(null==t)return t;for(var e=[],r=0,n=t;r<n.length;r++){var i=n[r];e.indexOf(i)===-1&&e.push(i)}return e}function m(t){if(null==t)throw new b.ValueError("Invalid value in obj: "+JSON.stringify(t));for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function I(t,e,r){if(null!=r&&t.indexOf(r)<0)throw new b.ValueError(r+" is not a valid "+e+".  Valid values are "+t+" or null/undefined.")}function v(t,e,r,n){return void 0===r&&(r=0),void 0===n&&(n=1/0),i(r>=0),i(n>=r),Array.isArray(t)&&t.length>=r&&t.length<=n&&t.every(function(t){return typeof t===e})}var y=this&&this.__assign||Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t};Object.defineProperty(e,"__esModule",{value:!0});var b=r(670);e.pyListRepeat=n,e.assert=i,e.count=a,e.singletonOrArray=o,e.toList=s,e.objectListUid=l,e.toSnakeCase=u,e.toCamelCase=c;var x={};e.serializeKerasObject=h,e.deserializeKerasObject=g,e.numberCompare=p,e.reverseNumberCompare=d,e.stringToDType=f,e.stringsEqual=A,e.unique=C,e.isObjectEmpty=m,e.checkStringTypeUnionValue=I,e.checkArrayTypeAndLength=v},function(t,e){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){function e(r){var n=t.call(this,r)||this;return Object.setPrototypeOf(n,e.prototype),n}return r(e,t),e}(Error);e.AttributeError=n;var i=function(t){function e(r){var n=t.call(this,r)||this;return Object.setPrototypeOf(n,e.prototype),n}return r(e,t),e}(Error);e.RuntimeError=i;var a=function(t){function e(r){var n=t.call(this,r)||this;return Object.setPrototypeOf(n,e.prototype),n}return r(e,t),e}(Error);e.ValueError=a;var o=function(t){function e(r){var n=t.call(this,r)||this;return Object.setPrototypeOf(n,e.prototype),n}return r(e,t),e}(Error);e.NotImplementedError=o;var s=function(t){function e(r){var n=t.call(this,r)||this;return Object.setPrototypeOf(n,e.prototype),n}return r(e,t),e}(Error);e.AssertionError=s;var l=function(t){function e(r){var n=t.call(this,r)||this;return Object.setPrototypeOf(n,e.prototype),n}return r(e,t),e}(Error);e.IndexError=l},function(t,e,r){"use strict";function n(){return new A.Zeros}function i(){return new A.Ones}function a(t){return new A.Constant(t)}function o(t){return new A.RandomUniform(t)}function s(t){return new A.RandomNormal(t)}function l(t){return new A.TruncatedNormal(t)}function u(t){return new A.Identity(t)}function c(t){return new A.VarianceScaling(t)}function h(t){return new A.GlorotUniform(t)}function g(t){return new A.GlorotNormal(t)}function p(t){return new A.HeNormal(t)}function d(t){return new A.LeCunNormal(t)}function f(t){return new A.Orthogonal(t)}Object.defineProperty(e,"__esModule",{value:!0});var A=r(672);e.zeros=n,e.ones=i,e.constant=a,e.randomUniform=o,e.randomNormal=s,e.truncatedNormal=l,e.identity=u,e.varianceScaling=c,e.glorotUniform=h,e.glorotNormal=g,e.heNormal=p,e.leCunNormal=d,e.orthogonal=f},function(t,e,r){"use strict";function n(t){f.checkStringTypeUnionValue(e.VALID_FAN_MODE_VALUES,"FanMode",t)}function i(t){f.checkStringTypeUnionValue(e.VALID_DISTRIBUTION_VALUES,"Distribution",t)}function a(t,e){void 0===e&&(e="channelsLast");var r,n;if(p.checkDataFormat(e),2===t.length)r=t[0],n=t[1];else if([3,4,5].indexOf(t.length)!==-1){if("channelsFirst"===e){var i=A.arrayProd(t,2);r=t[1]*i,n=t[0]*i}else if("channelsLast"===e){var i=A.arrayProd(t,0,t.length-2);r=t[t.length-2]*i,n=t[t.length-1]*i}}else{var a=A.arrayProd(t);r=Math.sqrt(a),n=Math.sqrt(a)}return[r,n]}function o(t,e){return void 0===e&&(e={}),f.deserializeKerasObject(t,c.serialization.SerializationMap.getMap().classNameMap,e,"initializer")}function s(t){return f.serializeKerasObject(t)}function l(t){if("string"==typeof t){var r=t in e.INITIALIZER_IDENTIFIER_REGISTRY_SYMBOL_MAP?e.INITIALIZER_IDENTIFIER_REGISTRY_SYMBOL_MAP[t]:t;if("GlorotUniform"===r)return new S;if("GlorotNormal"===r)return new T;if("HeNormal"===r)return new E;if("LeCunNormal"===r)return new k;var n={className:r,config:{}};return o(n)}return t instanceof C?t:o(t)}var u=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var c=r(510),h=r(668),g=r(673),p=r(674),d=r(670),f=r(669),A=r(675);e.VALID_FAN_MODE_VALUES=["fanIn","fanOut","fanAvg"],e.checkFanMode=n,e.VALID_DISTRIBUTION_VALUES=["normal","uniform"],e.checkDistribution=i;var C=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return u(e,t),e.prototype.fromConfigUsesCustomObjects=function(){return!1},e.prototype.getConfig=function(){return{}},e}(c.serialization.Serializable);e.Initializer=C;var m=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return u(e,t),e.prototype.apply=function(t,e){return c.zeros(t,e)},e.className="Zeros",e}(C);e.Zeros=m,c.serialization.SerializationMap.register(m);var I=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return u(e,t),e.prototype.apply=function(t,e){return c.ones(t,e)},e.className="Ones",e}(C);e.Ones=I,c.serialization.SerializationMap.register(I);var v=function(t){function e(e){var r=t.call(this)||this;if("object"!=typeof e)throw new d.ValueError("Expected argument of type ConstantConfig but got "+e);if(void 0===e.value)throw new d.ValueError("config must have value set but got "+e);return r.value=e.value,r}return u(e,t),e.prototype.apply=function(t,e){var r=this;return c.tidy(function(){return c.mul(c.scalar(r.value),c.ones(t,e))})},e.prototype.getConfig=function(){return{value:this.value}},e.className="Constant",e}(C);e.Constant=v,c.serialization.SerializationMap.register(v);var y=function(t){function e(e){var r=t.call(this)||this;return r.DEFAULT_MINVAL=-.05,r.DEFAULT_MAXVAL=.05,r.minval=e.minval||r.DEFAULT_MINVAL,r.maxval=e.maxval||r.DEFAULT_MAXVAL,r.seed=e.seed,r}return u(e,t),e.prototype.apply=function(t,e){return c.randomUniform(t,this.minval,this.maxval,e)},e.prototype.getConfig=function(){return{minval:this.minval,maxval:this.maxval,seed:this.seed}},e.className="RandomUniform",e}(C);e.RandomUniform=y,c.serialization.SerializationMap.register(y);var b=function(t){function e(e){var r=t.call(this)||this;return r.DEFAULT_MEAN=0,r.DEFAULT_STDDEV=.05,r.mean=e.mean||r.DEFAULT_MEAN,r.stddev=e.stddev||r.DEFAULT_STDDEV,r.seed=e.seed,r}return u(e,t),e.prototype.apply=function(t,e){if("bool"===e)throw new d.NotImplementedError("randomNormal does not support dType bool.");return g.randomNormal(t,this.mean,this.stddev,e,this.seed)},e.prototype.getConfig=function(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}},e.className="RandomNormal",e}(C);e.RandomNormal=b,c.serialization.SerializationMap.register(b);var x=function(t){function e(e){var r=t.call(this)||this;return r.DEFAULT_MEAN=0,r.DEFAULT_STDDEV=.05,r.mean=e.mean||r.DEFAULT_MEAN,r.stddev=e.stddev||r.DEFAULT_STDDEV,r.seed=e.seed,r}return u(e,t),e.prototype.apply=function(t,e){if("bool"===e)throw new d.NotImplementedError("truncatedNormal does not support dType bool.");return c.truncatedNormal(t,this.mean,this.stddev,e,this.seed)},e.prototype.getConfig=function(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}},e.className="TruncatedNormal",e}(C);e.TruncatedNormal=x,c.serialization.SerializationMap.register(x);var w=function(t){function e(e){var r=t.call(this)||this;return r.gain=null!=e.gain?c.scalar(e.gain):h.getScalar(1),r}return u(e,t),e.prototype.apply=function(t,e){var r=this;return c.tidy(function(){if(2!==t.length||t[0]!==t[1])throw new d.ValueError("Identity matrix initializer can only be used for 2D square matrices.");return c.mul(r.gain,c.eye(t[0]))})},e.prototype.getConfig=function(){return{gain:this.gain.get()}},e.className="Identity",e}(C);e.Identity=w,c.serialization.SerializationMap.register(w);var N=function(t){function e(e){var r=t.call(this)||this;if(e.scale<0)throw new d.ValueError("scale must be a positive float. Got: "+e.scale);return r.scale=null==e.scale?1:e.scale,r.mode=e.mode,n(r.mode),r.distribution=e.distribution,i(r.distribution),r.seed=e.seed,r}return u(e,t),e.prototype.apply=function(t,e){var r=a(t),n=r[0],i=r[1],o=this.scale;if(o/="fanIn"===this.mode?Math.max(1,n):"fanOut"===this.mode?Math.max(1,i):Math.max(1,(n+i)/2),"normal"===this.distribution){var s=Math.sqrt(o);if("bool"===e)throw new d.NotImplementedError(this.getClassName()+" does not support dType bool.");return c.truncatedNormal(t,0,s,e,this.seed)}var l=Math.sqrt(3*o);return c.randomUniform(t,-l,l,e)},e.prototype.getConfig=function(){return{scale:this.scale,mode:this.mode,distribution:this.distribution,seed:this.seed}},e.className="VarianceScaling",e}(C);e.VarianceScaling=N,c.serialization.SerializationMap.register(N);var S=function(t){function e(e){return t.call(this,{scale:1,mode:"fanAvg",distribution:"uniform",seed:null==e?null:e.seed})||this}return u(e,t),e.prototype.getClassName=function(){return N.className},e}(N);e.GlorotUniform=S;var T=function(t){function e(e){return t.call(this,{scale:1,mode:"fanAvg",distribution:"normal",seed:null==e?null:e.seed})||this}return u(e,t),e.prototype.getClassName=function(){return N.className},e}(N);e.GlorotNormal=T;var E=function(t){function e(e){return t.call(this,{scale:2,mode:"fanIn",distribution:"normal",seed:null==e?null:e.seed})||this}return u(e,t),e.prototype.getClassName=function(){return N.className},e}(N);e.HeNormal=E;var k=function(t){function e(e){return t.call(this,{scale:1,mode:"fanIn",distribution:"normal",seed:null==e?null:e.seed})||this}return u(e,t),e.prototype.getClassName=function(){return N.className},e}(N);e.LeCunNormal=k;var O=function(t){function e(e){var r=t.call(this)||this;if(r.DEFAULT_GAIN=1,r.gain=null==e.gain?r.DEFAULT_GAIN:e.gain,r.seed=e.seed,null!=r.seed)throw new d.NotImplementedError("Random seed is not implemented for Orthogonal Initializer yet.");return r}return u(e,t),e.prototype.apply=function(t,e){var r=this;return c.tidy(function(){if(2!==t.length)throw new d.NotImplementedError("The Orthogonal Initializer does not support non-2D shapes yet.");t[0]*t[1]>2e3&&console.warn("Orthogonal initializer is being called on a matrix with more "+("than 2000 ("+t[0]*t[1]+") elements: ")+"Slowness may result.");var e=t[0]>t[1]?[t[1],t[0]]:t,n=g.randomNormal(e,0,1,"float32"),i=c.linalg.gramSchmidt(n);return t[0]>t[1]&&(i=i.transpose()),c.mul(h.getScalar(r.gain),i)})},e.prototype.getConfig=function(){return{gain:this.gain,seed:this.seed}},e.className="Orthogonal",e}(C);e.Orthogonal=O,c.serialization.SerializationMap.register(O),e.INITIALIZER_IDENTIFIER_REGISTRY_SYMBOL_MAP={constant:"Constant",glorotNormal:"GlorotNormal",glorotUniform:"GlorotUniform",heNormal:"HeNormal",identity:"Identity",leCunNormal:"LeCunNormal",ones:"Ones",orthogonal:"Orthogonal",randomNormal:"RandomNormal",randomUniform:"RandomUniform",truncatedNormal:"TruncatedNormal",varianceScaling:"VarianceScaling",zeros:"Zeros"},e.serializeInitializer=s,e.getInitializer=l},function(t,e,r){"use strict";function n(t){_.setBackend(t),F=t,M.disposeScalarCache()}function i(){return F}function a(){return!1}function o(t){var e=t.shape;return e.length>0?e.reduce(function(t,e){return t*e}):1}function s(t,e){return t.asType(e)}function l(t,e){void 0===e&&(e=-1);var r=t.shape.slice();return e<0&&(e=r.length+e+1),r.splice(e,0,1),t.reshape(r)}function u(t,e){return P.tidy(function(){if(2!==t.shape.length)throw new R.ValueError("repeat() expects a rank-2 tensor, but received a "+("rank-"+t.shape.length+" tensor."));var r=l(t,1);return C(r,[1,e,1])})}function c(t){var e=[L.arrayProd(t.shape)];return t.reshape(e)}function h(t){if(t.rank<=1)throw new R.ValueError("batchFlatten requires a minimum rank of 2. Got rank: "+t.rank+".");var e=[t.shape[0],L.arrayProd(t.shape,1)];return t.reshape(e)}function g(t,e,r){return P.tidy(function(){switch(t.rank){case 1:return _.slice1d(t,e,r);case 2:return _.slice2d(t,[e,0],[r,t.shape[1]]);case 3:return _.slice3d(t,[e,0,0],[r,t.shape[1],t.shape[2]]);case 4:return _.slice4d(t,[e,0,0,0],[r,t.shape[1],t.shape[2],t.shape[3]]);default:throw new R.ValueError("sliceAlongFirstAxis() received an unsupported tensor rank: "+t.rank)}})}function p(t,e,r){return P.tidy(function(){switch(t.rank){case 1:return _.slice1d(t,e,r);case 2:return _.slice2d(t,[0,e],[t.shape[0],r]);case 3:return _.slice3d(t,[0,0,e],[t.shape[0],t.shape[1],r]);case 4:return _.slice4d(t,[0,0,0,e],[t.shape[0],t.shape[1],t.shape[2],r]);default:throw new R.ValueError("sliceAlongLastAxis() received an unsupported tensor rank: "+t.rank)}})}function d(t,e,r,n){return P.tidy(function(){switch(t.rank){case 1:return _.slice1d(t,e,r);case 2:switch(n){case 1:return g(t,e,r);case 2:return p(t,e,r);default:throw new R.ValueError("The axis is not within the rank of the tensor "+n)}case 3:switch(n){case 1:return g(t,e,r);case 2:return _.slice3d(t,[0,e,0],[t.shape[0],r,t.shape[2]]);case 3:return p(t,e,r);default:throw new R.ValueError("The axis is not within the rank of the tensor "+n)}case 4:switch(n){case 1:return g(t,e,r);case 2:return _.slice4d(t,[0,e,0,0],[t.shape[0],r,t.shape[2],t.shape[3]]);case 3:return _.slice4d(t,[0,0,e,0],[t.shape[0],t.shape[1],r,t.shape[3]]);case 4:return p(t,e,r);default:throw new R.ValueError("The axis is not within the rank of the tensor "+n)}default:throw new R.ValueError("sliceAlongLastAxis() received an unsupported tensor rank: "+t.rank)}})}function f(t,e){void 0===e&&(e=-1);var r;return e<0&&(r=t[0].rank,e=0!==r?r:0),e===t[0].rank&&(e=-1),_.concat(t,e)}function A(t,e){switch(t.rank){case 1:return _.concat1d([t,e]);case 2:return _.concat2d([t,e],0);case 3:return _.concat3d([t,e],0);case 4:return _.concat4d([t,e],0);default:throw new R.ValueError("concatAlongFirstAxis() received an unsupported tensor rank: "+t.rank)}}function C(t,e){if(Array.isArray(e)||(e=[e]),t.rank!==e.length)throw new R.ValueError("The length of input n ("+e.length+") does not match "+("the number of dimensions in input x ("+t.rank+")"));return _.tile(t,e)}function m(t,e,r,n,i){return void 0===e&&(e=0),void 0===r&&(r=1),_.randomNormal(t,e,r,n,i)}function I(t,e){if(2!==e.rank)throw new R.NotImplementedError("dot support for y other than rank 2 is not yet implemented: y shape = "+e.shape);if(2===t.rank)return _.matMul(t,e);if(3===t.rank){var r=t.shape[0],n=t.shape[1],i=t.shape[2];return t=t.reshape([r*n,i]),_.matMul(t,e).reshape([r,n,e.shape[1]])}throw new R.NotImplementedError("dot support for x of rank "+t.rank+" is not yet implemented: x shape = "+t.shape)}function v(t){return P.tidy(function(){var e=P.zerosLike(t),r=P.onesLike(t);return P.where(_.equal(t,e),e,P.where(_.greater(t,P.zerosLike(t)),r,_.mul(M.getScalar(-1),r)))})}function y(t,e){return P.tidy(function(){if(1!==t.rank)throw new Error("Only 1D one-hot tensors are supported in the deeplearn backend, at present.");return t=t.toInt(),_.oneHot(t,e).toFloat()})}function b(t,e,r){return P.tidy(function(){return e=Array.isArray(e)?P.tensor1d(e,"int32"):e.toInt(),_.gather(t,e,r)})}function x(t){return _.mulStrict(t,t)}function w(t,e){return P.tidy(function(){if("number"==typeof e&&(e=P.scalar(Math.round(e),"int32")),"int32"!==e.dtype)throw new R.NotImplementedError("Non-int32 dtype ("+e.dtype+") is not supported by pow() yet");return _.pow(t,e)})}function N(t,e,r){return P.tidy(function(){if(null==r&&(r=z.imageDataFormat()),D.checkDataFormat(r),1!==e.rank&&e.rank!==t.rank)throw new R.ValueError("Unexpected bias dimensions: "+e.rank+"; expected it to be 1 or "+t.rank);var n,i=e.shape;if(5===t.rank)"channelsFirst"===r?n=1===i.length?t.add(e.reshape([1,i[0],1,1,1])):t.add(e.reshape([1,i[3],i[0],i[1],i[2]])):"channelsLast"===r&&(n=1===i.length?t.add(e.reshape([1,1,1,1,i[0]])):t.add(e.reshape([1].concat(i))));else if(4===t.rank)"channelsFirst"===r?n=1===i.length?t.add(e.reshape([1,i[0],1,1])):t.add(e.reshape([1,i[2],i[0],i[1]])):"channelsLast"===r&&(n=1===i.length?t.add(e.reshape([1,1,1,i[0]])):t.add(e.reshape([1].concat(i))));else if(3===t.rank)"channelsFirst"===r?n=1===i.length?t.add(e.reshape([1,i[0],1])):t.add(e.reshape([1,i[1],i[0]])):"channelsLast"===r&&(n=1===i.length?t.add(e.reshape([1,1,i[0]])):t.add(e.reshape([1].concat(i))));else{if(!(t.rank<3))throw new R.ValueError("Unsupported input rank by biasAdd: "+t.rank);n=t.add(e)}return n})}function S(t,e){if(void 0===e&&(e=1),1!==e)throw new R.NotImplementedError("Support for alpha values other than 1 ("+e+") is not implemented yet.");return _.elu(t)}function T(t){return P.tidy(function(){return _.div(t,_.add(M.getScalar(1),_.abs(t)))})}function E(t,e,r,n){return P.tidy(function(){if(null!=r&&!P.util.arraysEqual(t.shape,r))throw new R.NotImplementedError("Non-default noise shape is not implemented yet: "+JSON.stringify(r));if(null!=n)throw new R.NotImplementedError("seed is not implemented for dropout yet.");
var i=_.step(_.add(_.neg(e),_.randomUniform(t.shape,0,1,"float32")));return i=_.mul(_.div(M.getScalar(1),_.sub(M.getScalar(1),e)),i),_.mul(t,i)})}function k(t){return P.tidy(function(){var e=_.add(M.getScalar(.5),_.mul(M.getScalar(.2),t));return _.clipByValue(e,0,1)})}function O(t,e,r){return void 0===r&&(r=!1),r?t():e()}Object.defineProperty(e,"__esModule",{value:!0});var _=r(510),P=r(510),M=r(668),D=r(674),R=r(670),L=r(675),z=r(667),F="webgl";e.setBackend=n,e.getBackend=i,e.isBackendSymbolic=a,e.countParams=o,e.cast=s,e.expandDims=l,e.repeat=u,e.flatten=c,e.batchFlatten=h,e.sliceAlongFirstAxis=g,e.sliceAlongLastAxis=p,e.sliceAlongAxis=d,e.concatenate=f,e.concatAlongFirstAxis=A,e.tile=C,e.randomNormal=m,e.dot=I,e.sign=v,e.oneHot=y,e.gather=b,e.square=x,e.pow=w,e.biasAdd=N,e.elu=S,e.softsign=T,e.dropout=E,e.hardSigmoid=k,e.inTrainPhase=O},function(t,e,r){"use strict";function n(t){h.checkStringTypeUnionValue(e.VALID_DATA_FORMAT_VALUES,"DataFormat",t)}function i(t){h.checkStringTypeUnionValue(e.VALID_PADDING_MODE_VALUES,"PaddingMode",t)}function a(t){h.checkStringTypeUnionValue(e.VALID_POOL_MODE_VALUES,"PoolMode",t)}function o(t,e){p.push(t);try{var r=e();return p.pop(),r}catch(t){throw p.pop(),t}}function s(){return 0===p.length?"":p.join(d)+d}function l(t){if(!c(t))throw new Error("Not a valid tensor name: '"+t+"'");return s()+t}function u(t){if(!c(t))throw new Error("Not a valid tensor name: '"+t+"'");g.has(t)||g.set(t,0);var e=g.get(t);if(g.set(t,g.get(t)+1),e>0){var r=t+"_"+e;return g.set(r,1),r}return t}function c(t){return!!t.match(f)}Object.defineProperty(e,"__esModule",{value:!0});var h=r(669),g=new Map;e.VALID_DATA_FORMAT_VALUES=["channelsFirst","channelsLast"],e.checkDataFormat=n,e.VALID_PADDING_MODE_VALUES=["valid","same","causal"],e.checkPaddingMode=i,e.VALID_POOL_MODE_VALUES=["max","avg"],e.checkPoolMode=a;var p=[],d="/";e.nameScope=o,e.getScopedTensorName=l,e.getUniqueTensorName=u;var f=new RegExp(/^[A-Za-z][A-Za-z0-9\._\/]*$/);e.isValidTensorName=c},function(t,e,r){"use strict";function n(t){return t===parseInt(t.toString(),10)}function i(t,e,r){null==e&&(e=0),null==r&&(r=t.length);for(var n=1,i=e;i<r;++i)n*=t[i];return n}function a(t){return t=Array.isArray(t)?new Float32Array(t):t,d.tensor1d(t)}function o(t){return p.min(a(t)).dataSync()[0]}function s(t){return p.max(a(t)).dataSync()[0]}function l(t){return p.sum(a(t)).dataSync()[0]}function u(t){return l(t)/t.length}function c(t){var e=p.sub(a(t),d.scalar(u(t))),r=p.sum(p.mulStrict(e,e)).dataSync()[0];return r/t.length}function h(t){var e=t.slice().sort(function(t,e){return t-e}),r=Math.floor((e.length-1)/2),n=Math.ceil((e.length-1)/2);return r===n?e[r]:(e[r]+e[n])/2}function g(t,e){if(e<t)throw new f.ValueError("end ("+e+") < begin ("+t+") is forbidden.");for(var r=[],n=t;n<e;++n)r.push(n);return r}Object.defineProperty(e,"__esModule",{value:!0});var p=r(510),d=r(510),f=r(670);e.isInteger=n,e.arrayProd=i,e.min=o,e.max=s,e.sum=l,e.mean=u,e.variance=c,e.median=h,e.range=g},function(t,e,r){"use strict";function n(t){return new tt.InputLayer(t)}function i(t){return new nt.ELU(t)}function a(t){return new nt.ReLU(t)}function o(t){return new nt.LeakyReLU(t)}function s(t){return new nt.Softmax(t)}function l(t){return new nt.ThresholdedReLU(t)}function u(t){return new it.Conv1D(t)}function c(t){return new it.Conv2D(t)}function h(t){return new it.Conv2DTranspose(t)}function g(t){return new it.SeparableConv2D(t)}function p(t){return new it.Cropping2D(t)}function d(t){return new it.UpSampling2D(t)}function f(t){return new at.DepthwiseConv2D(t)}function A(t){return new ot.Activation(t)}function C(t){return new ot.Dense(t)}function m(t){return new ot.Dropout(t)}function I(t){return new ot.Flatten(t)}function v(t){return new ot.RepeatVector(t)}function y(t){return new ot.Reshape(t)}function b(t){return new ot.Permute(t)}function x(t){return new st.Embedding(t)}function w(t){return new lt.Add(t)}function N(t){return new lt.Average(t)}function S(t){return new lt.Concatenate(t)}function T(t){return new lt.Maximum(t)}function E(t){return new lt.Minimum(t)}function k(t){return new lt.Multiply(t)}function O(t){return new ut.BatchNormalization(t)}function _(t){return new ct.ZeroPadding2D(t)}function P(t){return new ht.AveragePooling1D(t)}function M(t){return P(t)}function D(t){return P(t)}function R(t){return new ht.AveragePooling2D(t)}function L(t){return R(t)}function z(t){return R(t)}function F(t){return new ht.GlobalAveragePooling1D(t)}function B(t){return new ht.GlobalAveragePooling2D(t)}function V(t){return new ht.GlobalMaxPooling1D(t)}function j(t){return new ht.GlobalMaxPooling2D(t)}function W(t){return new ht.MaxPooling1D(t)}function G(t){return new ht.MaxPooling2D(t)}function U(t){return new gt.GRU(t)}function H(t){return new gt.GRUCell(t)}function Y(t){return new gt.LSTM(t)}function Z(t){return new gt.LSTMCell(t)}function X(t){return new gt.SimpleRNN(t)}function q(t){return new gt.SimpleRNNCell(t)}function K(t){return new gt.RNN(t)}function J(t){return new gt.StackedRNNCells(t)}function Q(t){return new pt.Bidirectional(t)}function $(t){return new pt.TimeDistributed(t)}Object.defineProperty(e,"__esModule",{value:!0});var tt=r(677),et=r(678);e.Layer=et.Layer;var rt=r(682);e.input=rt.input;var nt=r(696),it=r(698),at=r(701),ot=r(702),st=r(703),lt=r(704),ut=r(705),ct=r(706),ht=r(707),gt=r(708);e.RNN=gt.RNN,e.RNNCell=gt.RNNCell;var pt=r(709);e.inputLayer=n,e.elu=i,e.reLU=a,e.leakyReLU=o,e.softmax=s,e.thresholdedReLU=l,e.conv1d=u,e.conv2d=c,e.conv2dTranspose=h,e.separableConv2d=g,e.cropping2D=p,e.upSampling2d=d,e.depthwiseConv2d=f,e.activation=A,e.dense=C,e.dropout=m,e.flatten=I,e.repeatVector=v,e.reshape=y,e.permute=b,e.embedding=x,e.add=w,e.average=N,e.concatenate=S,e.maximum=T,e.minimum=E,e.multiply=k,e.batchNormalization=O,e.zeroPadding2d=_,e.averagePooling1d=P,e.avgPool1d=M,e.avgPooling1d=D,e.averagePooling2d=R,e.avgPool2d=L,e.avgPooling2d=z,e.globalAveragePooling1d=F,e.globalAveragePooling2d=B,e.globalMaxPooling1d=V,e.globalMaxPooling2d=j,e.maxPooling1d=W,e.maxPooling2d=G,e.gru=U,e.gruCell=H,e.lstm=Y,e.lstmCell=Z,e.simpleRNN=X,e.simpleRNNCell=q,e.rnn=K,e.stackedRNNCells=J,e.bidirectional=Q,e.timeDistributed=$,e.globalMaxPool1d=V,e.globalMaxPool2d=j,e.maxPool1d=W,e.maxPool2d=G},function(t,e,r){"use strict";function n(t){if(null==t.batchShape&&null==t.shape)throw new Error("Please provide to Input either a `shape` or a `batchShape` argument. Note that `shape` does not include the batch dimension.");if(null!=t.batchShape&&null!=t.shape)throw new s.ValueError("Please provide either a `shape` or `batchShape` argument to Input, but not both.");var e=t.batchShape;null!=t.shape&&null==e&&(e=[null].concat(t.shape));var r=t.dtype;null==r&&(r="float32");var n=new u({batchInputShape:e,name:t.name,dtype:r,sparse:t.sparse}),i=n.inboundNodes[0].outputTensors;return i[0]}var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var a=r(510),o=r(668),s=r(670),l=r(678),u=function(t){function e(e){var r=t.call(this,{dtype:e.dtype,name:null!=e.name?e.name:o.getUid("input").toString()})||this;if(null==e.batchSize&&(e.batchSize=null),null==e.sparse&&(e.sparse=!1),r.trainable=!1,r.built=!0,r.sparse=e.sparse,null!=e.inputShape&&null!=e.batchInputShape)throw new s.ValueError("Only provide the inputShape OR batchInputShape argument to inputLayer, not both at the same time.");var n=e.batchInputShape;if(null==n){if(null==e.inputShape)throw new s.ValueError("An InputLayer should be passed either a `batchInputShape` or an `inputShape`.");n=[e.batchSize].concat(e.inputShape)}else if(null!=e.batchSize)throw new s.ValueError("Cannot specify batchSize if batchInputShape isspecified when creating an InputLayer.");var i=e.dtype||"float32";r.batchInputShape=n,r.dtype=i,r.inputSpec=[{shape:n}];var a=new l.SymbolicTensor(r.dtype,r.batchInputShape,r,[],{},r.name);return a.nodeIndex=0,a.tensorIndex=0,new l.Node({outboundLayer:r,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:[a],outputTensors:[a],inputMasks:[null],outputMasks:[null],inputShapes:[n],outputShapes:[n]}),r}return i(e,t),e.prototype.apply=function(t,e){throw new s.ValueError("Cannot pass any input to an InputLayer's apply() method. InputLayer name: "+this.name)},e.prototype.dispose=function(){return{refCountAfterDispose:this._refCount,numDisposedVariables:0}},e.prototype.getConfig=function(){return{batchInputShape:this.batchInputShape,dtype:this.dtype,sparse:this.sparse,name:this.name}},e.className="InputLayer",e}(l.Layer);e.InputLayer=u,a.serialization.SerializationMap.register(u),e.Input=n},function(t,e,r){"use strict";function n(t){t=h.toList(t);for(var e=[],r=0,n=t;r<n.length;r++){var i=n[r];e.push(i.shape)}return h.singletonOrArray(e)}function i(t){return"float32"}function a(t,e,r){if((null==e||null!=r&&r>0)&&(e=t.sourceLayer,r=t.nodeIndex),0===e.inboundNodes.length)return[t];var n=e.inboundNodes[r];if(0===n.inboundLayers.length)return n.inputTensors;for(var i=[],o=0;o<n.inboundLayers.length;o++)for(var s=n.inputTensors[o],l=n.inboundLayers[o],u=n.nodeIndices[o],c=a(s,l,u),h=0,g=c;h<g.length;h++){var p=g[h];i.indexOf(p)===-1&&i.push(p)}return i}var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var s=r(510),l=r(668),u=r(674),c=r(670),h=r(669),g=r(679),p=r(680),d=r(681),f=function(){function t(t){this.dtype=t.dtype,this.shape=t.shape,null!=t.shape?this.ndim=t.shape.length:this.ndim=t.ndim,this.maxNDim=t.maxNDim,this.minNDim=t.minNDim,this.axes=t.axes||{}}return t}();e.InputSpec=f;var A=function(){function t(t,e,r,n,i,a,o){this.dtype=t,this.shape=e,this.sourceLayer=r,this.inputs=n,this.callArgs=i,this.outputTensorIndex=o,this.id=l.getNextUniqueTensorId(),null!=a&&(this.originalName=u.getScopedTensorName(a),this.name=u.getUniqueTensorName(this.originalName)),this.rank=e.length}return t}();e.SymbolicTensor=A;var C=0,m=function(){function t(t,e){this.callArgs=e,this.id=C++,this.outboundLayer=t.outboundLayer,this.inboundLayers=t.inboundLayers,this.nodeIndices=t.nodeIndices,this.tensorIndices=t.tensorIndices,this.inputTensors=t.inputTensors,this.outputTensors=t.outputTensors,this.inputMasks=t.inputMasks,this.outputMasks=t.outputMasks,this.inputShapes=t.inputShapes,this.outputShapes=t.outputShapes;for(var r=0,n=t.inboundLayers;r<n.length;r++){var i=n[r];null!=i&&i.outboundNodes.push(this)}t.outboundLayer.inboundNodes.push(this)}return t.prototype.getConfig=function(){for(var t=[],e=0,r=this.inboundLayers;e<r.length;e++){var n=r[e];null!=n?t.push(n.name):t.push(null)}return{outboundLayer:this.outboundLayer?this.outboundLayer.name:null,inboundLayers:t,nodeIndices:this.nodeIndices,tensorIndices:this.tensorIndices}},t}();e.Node=m;var I=0,v=function(t){function e(e){var r=t.call(this)||this;r._callHook=null,r._addedWeightNames=[],r._stateful=!1,r.id=I++,r.activityRegularizer=null,r.inputSpec=null,r.supportsMasking=!1,r._trainableWeights=[],r._nonTrainableWeights=[],r._losses=[],r._updates=[],r._built=!1,r.inboundNodes=[],r.outboundNodes=[];var n=e.name;if(!n){var i=r.getClassName();n=h.toSnakeCase(i)+"_"+l.getUid(i)}if(r.name=n,r.trainable=null==e.trainable||e.trainable,r.updatable=null==e.updatable||e.updatable,null!=e.inputShape||null!=e.batchInputShape){var a=void 0;if(null!=e.batchInputShape)a=e.batchInputShape;else if(null!=e.inputShape){var o=null;null!=e.batchSize&&(o=e.batchSize),a=[o].concat(e.inputShape)}r.batchInputShape=a;var s=e.dtype;null==s&&(s=e.inputDType),null==s&&(s="float32"),r.dtype=s}return null!=e.weights?r.initialWeights=e.weights:r.initialWeights=null,r._refCount=null,r}return o(e,t),e.nodeKey=function(t,e){return t.name+"_ib-"+e.toString()},e.prototype.getNodeAtIndex=function(t,e){if(0===this.inboundNodes.length)throw new c.RuntimeError("The layer has never been called "+("and thus has no defined "+e+"."));if(this.inboundNodes.length<=t)throw new c.ValueError("Asked to get "+e+" at node "+t+", "+("but the layer has only "+this.inboundNodes.length+" inbound nodes."));return this.inboundNodes[t]},e.prototype.getInputAt=function(t){return h.singletonOrArray(this.getNodeAtIndex(t,"input").inputTensors)},e.prototype.getOutputAt=function(t){return h.singletonOrArray(this.getNodeAtIndex(t,"output").outputTensors)},Object.defineProperty(e.prototype,"input",{get:function(){if(this.inboundNodes.length>1)throw new c.AttributeError("Layer "+this.name+' has multiple inbound nodes, hence the notion of "layer input" is ill-defined. Use `getInputAt(nodeIndex)` instead.');if(0===this.inboundNodes.length)throw new c.AttributeError("Layer "+this.name+" is not connected, no input to return.");return h.singletonOrArray(this.getNodeAtIndex(0,"input").inputTensors)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"output",{get:function(){if(0===this.inboundNodes.length)throw new c.AttributeError("Layer "+this.name+" has no inbound nodes.");if(this.inboundNodes.length>1)throw new c.AttributeError("Layer "+this.name+' has multiple inbound nodes, hence the notion of "layer output" is ill-defined. Use `getOutputAt(nodeIndex)` instead.');return h.singletonOrArray(this.getNodeAtIndex(0,"output").outputTensors)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"losses",{get:function(){return this._losses},enumerable:!0,configurable:!0}),e.prototype.calculateLosses=function(){return this.losses.map(function(t){return t()})},Object.defineProperty(e.prototype,"updates",{get:function(){return this._updates},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"built",{get:function(){return this._built},set:function(t){this._built=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"trainableWeights",{get:function(){return this.trainable?this._trainableWeights:[]},set:function(t){this._trainableWeights=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nonTrainableWeights",{get:function(){return this.trainable?this._nonTrainableWeights:this._trainableWeights.concat(this._nonTrainableWeights)},set:function(t){this._nonTrainableWeights=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"weights",{get:function(){return this.trainableWeights.concat(this.nonTrainableWeights)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stateful",{get:function(){return this._stateful},enumerable:!0,configurable:!0}),e.prototype.resetStates=function(){if(!this.stateful)throw new Error("Cannot call the resetStates() method of a non-stateful Layer object.")},e.prototype.assertInputCompatibility=function(t){if(t=h.toList(t),null!=this.inputSpec&&0!==this.inputSpec.length){var e=h.toList(this.inputSpec);if(t.length!==e.length)throw new c.ValueError("Layer "+this.name+" expects "+e.length+" inputs, "+("but it received "+t.length+" input tensors. ")+("Input received: "+t));for(var r=0;r<t.length;r++){var n=t[r],i=e[r];if(null!=i){var a=n.rank;if(null!=i.ndim&&a!==i.ndim)throw new c.ValueError("Input "+r+" is incompatible with layer "+this.name+": "+("expected ndim="+i.ndim+", found ndim="+a));if(null!=i.maxNDim&&a>i.maxNDim)throw new c.ValueError("Input "+r+" is incompatible with layer "+this.name+(": expected max_ndim="+i.maxNDim+", found ndim="+a));if(null!=i.minNDim&&a<i.minNDim)throw new c.ValueError("Input "+r+" is incompatible with layer "+this.name+(": expected min_ndim="+i.minNDim+", found ndim="+a+"."));if(null!=i.dtype&&n.dtype!==i.dtype)throw new c.ValueError("Input "+r+" is incompatible with layer "+this.name+" "+(": expected dtype="+i.dtype+", found dtype="+n.dtype+"."));if(i.axes){var o=n.shape;for(var s in i.axes){var l=Number(s),u=i.axes[s],g=l>=0?o[l]:o[o.length+l];if(null!=u&&[u,null].indexOf(g)===-1)throw new c.ValueError("Input "+r+" is incompatible with layer "+(this.name+": expected axis "+l+" of input shape to ")+("have value "+u+" but got shape "+o+"."))}}if(null!=i.shape)for(var p=0;p<i.shape.length;++p){var d=i.shape[p],f=n.shape[p];if(null!=d&&null!=f&&d!==f)throw new c.ValueError("Input "+r+" is incompatible with layer "+(this.name+": expected shape="+i.shape+", ")+"found shape=${xShape}.")}}}}},e.prototype.call=function(t,e){return t},e.prototype.invokeCallHook=function(t,e){null!=this._callHook&&this._callHook(t,e)},e.prototype.setCallHook=function(t){this._callHook=t},e.prototype.clearCallHook=function(){this._callHook=null},e.prototype.apply=function(t,e){var r=this;e=e||{},this.assertNotDisposed();for(var a=h.toList(t),o=!0,s=0,l=a;s<l.length;s++){var g=l[s];if(!(g instanceof A)){o=!1;break}}for(var p=!0,d=0,f=a;d<f.length;d++){var g=f[d];if(g instanceof A){p=!1;break}}if(o===p)throw new c.ValueError("Arguments to apply() must be all SymbolicTensors or all Tensors");return u.nameScope(this.name,function(){if(!r.built){r.assertInputCompatibility(t);for(var o=[],s=0,l=h.toList(t);s<l.length;s++){var u=l[s];o.push(u.shape)}r.build(h.singletonOrArray(o)),r.built=!0,r.initialWeights&&r.setWeights(r.initialWeights),null===r._refCount&&p&&(r._refCount=1)}if(r.assertInputCompatibility(t),p){for(var g=r.call(t,e),d=h.toList(g),f=[],C=0,m=d;C<m.length;C++){var I=m[C];a.indexOf(I)!==-1&&(I=I.clone()),f.push(I)}if(g=h.singletonOrArray(f),null!=r.activityRegularizer)throw new c.NotImplementedError("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return g}var v=n(t),y=r.computeOutputShape(v),g=void 0,b=i(t);if(r.warnOnIncompatibleInputShape(Array.isArray(t)?v[0]:v),g=null!=y&&y.length>0&&Array.isArray(y[0])?y.map(function(n,i){return new A(b,n,r,h.toList(t),e,r.name,i)}):new A(b,y,r,h.toList(t),e,r.name),r.addInboundNode(t,g,null,null,v,y,e),r._refCount++,null!=r.activityRegularizer)throw new c.NotImplementedError("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return g})},e.prototype.warnOnIncompatibleInputShape=function(t){if(null!=this.batchInputShape)if(t.length!==this.batchInputShape.length)console.warn("The rank of the input tensor provided (shape: "+(JSON.stringify(t)+") does not match that of the ")+("batchInputShape ("+JSON.stringify(this.batchInputShape)+") ")+("of the layer "+this.name));else{var e=!1;this.batchInputShape.forEach(function(r,n){null!=r&&null!=t[n]&&t[n]!==r&&(e=!0)}),e&&console.warn("The shape of the input tensor "+("("+JSON.stringify(t)+") does not ")+("match the expectation of layer "+this.name+": ")+(""+JSON.stringify(this.batchInputShape)))}},Object.defineProperty(e.prototype,"outputShape",{get:function(){if(null==this.inboundNodes||0===this.inboundNodes.length)throw new c.AttributeError("The layer "+this.name+" has never been called and thus has no defined output shape.");for(var t=[],e=0,r=this.inboundNodes;e<r.length;e++){var n=r[e],i=JSON.stringify(n.outputShapes);t.indexOf(i)===-1&&t.push(i)}if(1===t.length){var a=this.inboundNodes[0].outputShapes;return Array.isArray(a)&&Array.isArray(a[0])&&1===a.length?a[0]:a}throw new c.AttributeError("The layer "+this.name+' has multiple inbound nodes with different output shapes. Hence the notion of "outut shape" is ill-defined for the layer.')},enumerable:!0,configurable:!0}),e.prototype.countParams=function(){if(!this.built)throw new c.RuntimeError("You tried to call countParams() on "+this.name+", but the layer is not built yet. Build it first by calling build(batchInputShape).");return p.countParamsInWeights(this.weights)},e.prototype.build=function(t){this.built=!0},e.prototype.getWeights=function(t){return void 0===t&&(t=!1),d.batchGetValue(t?this.trainableWeights:this.weights)},e.prototype.setWeights=function(t){var e=this;s.tidy(function(){var r=e.weights;if(r.length!==t.length)throw new c.ValueError('You called setWeights(weights) on layer "'+e.name+'" '+("with a weight list of length "+t.length+", ")+("but the layer was expecting "+r.length+" weights. ")+("Provided weights: "+t+"..."));if(0!==r.length){for(var n=[],i=d.batchGetValue(r),a=0;a<i.length;++a){var o=i[a],l=r[a],u=t[a];if(!s.util.arraysEqual(o.shape,u.shape))throw new c.ValueError("Layer weight shape "+o.shape+" not compatible with provided weight shape "+u.shape);n.push([l,u])}d.batchSetValue(n)}})},e.prototype.addWeight=function(t,e,r,n,i,a,o){if(this._addedWeightNames.indexOf(t)!==-1)throw new c.ValueError("Duplicate weight name "+t+" for layer "+this.name);this._addedWeightNames.push(t),null==r&&(r="float32");var s=new d.LayerVariable(n.apply(e,r),r,t,a,o);return null!=i&&this.addLoss(function(){return i.apply(s.read())}),null==a&&(a=!0),a?this._trainableWeights.push(s):this._nonTrainableWeights.push(s),s},e.prototype.addLoss=function(t){if(!(null==t||Array.isArray(t)&&0===t.length)){t=h.toList(t),void 0!==this._losses&&null!==this._losses&&(e=this.losses).push.apply(e,t);var e}},e.prototype.computeOutputShape=function(t){return t},e.prototype.computeMask=function(t,e){var r=this;if(!this.supportsMasking){if(null!=e){if(!Array.isArray(e))throw new TypeError("Layer "+this.name+" does not support masking,but was passed an inputMask.");e.forEach(function(t){if(null!=t)throw new TypeError("Layer "+r.name+" does not support masking,but was passed an inputMask.")})}return null}return e},e.prototype.addInboundNode=function(t,e,r,n,i,a,o){void 0===o&&(o=null);var s=h.toList(t);e=h.toList(e),r=h.toList(r),n=h.toList(n),i=g.normalizeShapeList(i),a=g.normalizeShapeList(a);for(var l=[],u=[],c=[],p=0,d=s;p<d.length;p++){var f=d[p];l.push(f.sourceLayer),u.push(f.nodeIndex),c.push(f.tensorIndex)}new m({outboundLayer:this,inboundLayers:l,nodeIndices:u,tensorIndices:c,inputTensors:s,outputTensors:e,inputMasks:r,outputMasks:n,inputShapes:i,outputShapes:a},o);for(var A=0;A<e.length;A++)e[A].sourceLayer=this,e[A].nodeIndex=this.inboundNodes.length-1,e[A].tensorIndex=A},e.prototype.getConfig=function(){var t={name:this.name,trainable:this.trainable};return null!=this.batchInputShape&&(t.batchInputShape=this.batchInputShape),null!=this.dtype&&(t.dtype=this.dtype),t},e.prototype.disposeWeights=function(){return this.weights.forEach(function(t){return t.dispose()}),this.weights.length},e.prototype.assertNotDisposed=function(){if(0===this._refCount)throw new Error("Layer '"+this.name+"' is already disposed.")},e.prototype.dispose=function(){if(!this.built)throw new Error("Cannot dispose Layer "+this.name+" because it has not been built yet.");if(null===this._refCount)throw new Error("Cannot dispose Layer "+this.name+" because it has not been used yet.");this.assertNotDisposed();var t=0;return 0===--this._refCount&&(t=this.disposeWeights()),{refCountAfterDispose:this._refCount,numDisposedVariables:t}},e}(s.serialization.Serializable);e.Layer=v,e.getSourceInputs=a},function(t,e,r){"use strict";function n(t){return Array.isArray(t)&&Array.isArray(t[0])}function i(t){return 0===t.length?[]:Array.isArray(t[0])?t:[t]}function a(t){var e;if(Array.isArray(t)){if(1!==t.length)throw new s.ValueError("Expected Tensor length to be 1; got "+t.length);e=t[0]}else e=t;return e}function o(t){if(Array.isArray(t)&&Array.isArray(t[0])){if(1===t.length)return t=t,t[0];throw new s.ValueError("Expected exactly 1 Shape; got "+t.length)}return t}Object.defineProperty(e,"__esModule",{value:!0});var s=r(670);e.isArrayOfShapes=n,e.normalizeShapeList=i,e.getExactlyOneTensor=a,e.getExactlyOneShape=o},function(t,e){"use strict";function r(t){for(var e=0,r=0,n=t;r<n.length;r++){var i=n[r];e+=0===i.shape.length?1:i.shape.reduce(function(t,e){return t*e})}return e}Object.defineProperty(e,"__esModule",{value:!0}),e.countParamsInWeights=r},function(t,e,r){"use strict";function n(t,e){if(t.shape.toString()!==e.shape.toString())throw new Error("Shape mismatch: "+JSON.stringify(t.shape)+" vs. "+JSON.stringify(e.shape))}function i(t,e,r,n){return new N(t,e,r,!0,n)}function a(t,e,r){return new N(I.zeros(t),e,r)}function o(t,e,r){return new N(I.zerosLike(t),e,r)}function s(t,e,r){var n=I.ones(t);return new N(n,e,r)}function l(t,e,r){var n=I.onesLike(t);return new N(n,e,r)}function u(t,e,r){return new N(I.eye(t),e,r)}function c(t,e,r,n,i,a){return void 0===a&&(a="randomUniform"),new N(I.randomUniform(t,e,r,n),n,a)}function h(t,e,r,n,i,a){if(void 0===e&&(e=0),void 0===r&&(r=1),void 0===a&&(a="truncatedNormal"),"bool"===n)throw new x.NotImplementedError("randomNormal does not support dType bool.");return new N(I.truncatedNormal(t,e,r,n,i),n,a)}function g(t,e,r,n,i,a){if(void 0===e&&(e=0),void 0===r&&(r=1),void 0===a&&(a="randomNormal"),"bool"===n)throw new x.NotImplementedError("randomNormalVariable does not support dType bool.");return new N(I.randomNormal(t,e,r,n,i),n,a)}function p(t,e){return t.write(e)}function d(t,e){return t.write(I.add(t.read(),e))}function f(t,e){return t.write(I.sub(t.read(),e))}function A(t){return t.map(function(t){return t.read()})}function C(t){t.map(function(t){var e=t[0];e.write(t[1])})}function m(t,e){var r=e.map(function(t){return t.read()}),n=v.variableGrads(t,r);return e.map(function(t){return n.grads[t.name]})}Object.defineProperty(e,"__esModule",{value:!0});var I=r(510),v=r(510),y=r(668),b=r(674),x=r(670),w="Variable",N=function(){function t(t,e,r,n,i){void 0===e&&(e="float32"),void 0===r&&(r=w),void 0===n&&(n=!0),void 0===i&&(i=null),this.dtype=null==e?"float32":e,this.shape=t.shape,this.id=y.getNextUniqueTensorId(),r=null==r?w:r,this.originalName=b.getScopedTensorName(r),this.name=b.getUniqueTensorName(this.originalName),this.trainable=n,this.constraint=i,this.val=I.variable(t,this.trainable,this.name,this.dtype)}return t.prototype.read=function(){return this.assertNotDisposed(),this.val},t.prototype.write=function(t){return this.assertNotDisposed(),n(this.val,t),this.val.id!==t.id&&(this.val.assign(t),null!=this.constraint&&this.val.assign(this.constraint.apply(this.val))),this},t.prototype.dispose=function(){this.assertNotDisposed(),this.val.dispose()},t.prototype.assertNotDisposed=function(){if(this.val.isDisposed)throw new Error("LayersVariable "+this.name+" is already disposed.")},t}();e.LayerVariable=N,e.variable=i,e.zerosVariable=a,e.zerosLike=o,e.onesVariable=s,e.onesLike=l,e.eyeVariable=u,e.randomUniformVariable=c,e.truncatedNormalVariable=h,e.randomNormalVariable=g,e.update=p,e.updateAdd=d,e.updateSub=f,e.batchGetValue=A,e.batchSetValue=C,e.gradients=m},function(t,e,r){"use strict";function n(t){return new l.Model(t)}function i(t){return new u.Sequential(t)}function a(t,e){return void 0===e&&(e=!0),u.loadModelInternal(t,e)}function o(t){return s.Input(t)}Object.defineProperty(e,"__esModule",{value:!0});var s=r(677),l=r(683),u=r(695);e.model=n,e.sequential=i,e.loadModel=a,e.input=o},function(t,e,r){"use strict";function n(t){return t instanceof I.Tensor}function i(t){return Array.isArray(t)}function a(t){return!n(t)&&!i(t)}function o(t,e,r,n,o){if(void 0===n&&(n=!0),void 0===o&&(o=""),null==e||0===e.length){if(null!=t){var s=!1;if(i(t)&&t.length>0)s=!0;else if(a(t)){for(var l in t)if(t.hasOwnProperty(l)){s=!0;break}}else s=!0;if(s)throw new w.ValueError("Error when checking model "+o+" expected no data, but got "+t)}return[]}if(null==t)return e.map(function(t){return null});var u;if(a(t)){t=t,u=[];for(var c=0,h=e;c<h.length;c++){var g=h[c];if(null==t[g])throw new w.ValueError('No data provided for "'+g+'". Need data for each key in: '+e);u.push(t[g])}}else if(i(t)){if(t=t,t.length!==e.length)throw new w.ValueError("Error when checking model "+o+": the Array of Tensors that you are passing to your model is not the size the "+("model expected. Expected to see "+e.length+" Tensor(s), but ")+("instead got the following list of Tensor(s): "+t));u=t}else{if(t=t,e.length>1)throw new w.ValueError("The model "+o+" expects "+e.length+" Tensor(s), but only received one Tensor. Found: Tensor with shape "+t.shape);u=[t]}for(var p=0;p<e.length;++p){var d=u[p];1===d.shape.length&&(u[p]=y.expandDims(d,1))}if(null!=r)for(var p=0;p<e.length;++p)if(null!=r[p]){var d=u[p];if(d.shape.length!==r[p].length)throw new w.ValueError("Error when checking "+o+": expected "+e[p]+" "+("to have "+r[p].length+" dimension(s). but got array with ")+("shape "+d.shape));for(var f=0;f<r[p].length;++f)if(0!==f||n){var A=d.shape[f],C=r[p][f];if(null!=C&&C>=0&&A!==C)throw new w.ValueError("Error when checking "+o+": expected "+e[p]+" "+("to have shape ["+r[p]+"], but got array with shape ")+("["+d.shape+"]."))}}return u}function s(t,e,r){var n=k.unique(t.map(function(t){return t.shape[0]}));n.sort();var i=k.unique(e.map(function(t){return t.shape[0]}));if(i.sort(),n.length>1)throw new w.ValueError("All input Tensors (x) should have the same number of samples. Got array shapes: "+JSON.stringify(t.map(function(t){return t.shape})));if(i.length>1)throw new w.ValueError("All target Tensors (y) should have the same number of samples. Got array shapes: "+JSON.stringify(e.map(function(t){return t.shape})));if(n.length>0&&i.length>0&&!I.util.arraysEqual(n,i))throw new w.ValueError("Input Tensors should have the same number of samples as target "+("Tensors. Found "+n[0]+" input sample(s) and "+i[0]+" target ")+"sample(s).")}function l(t,e,r){for(var n=[S.meanSquaredError,S.binaryCrossentropy,S.categoricalCrossentropy],i=0;i<t.length;++i){var a=t[i],o=e[i],s=r[i];if(null!=o){if(o===S.categoricalCrossentropy&&1===a.shape[a.shape.length-1])throw new w.ValueError("You are passing a target array of shape "+a.shape+" while using a loss 'categorical_crossentropy'. 'categorical_crossentropy'expects targets to be binary matrices (1s and 0s) of shape [samples, classes].");if(n.indexOf(o)!==-1)for(var l=a.shape.slice(1),u=s.slice(1),c=0;c<l.length;++c){var h=l[c],g=u[c];if(null!=g&&h!==g)throw new w.ValueError("A target Tensor with shape "+a.shape+" was passed for an "+("output of shape "+s+", while using a loss function that ")+"expects targets to have the same shape as the output.")}}}}function u(t,e){for(var r=[],n=0,i=null;n<t;)i=n+e,i>=t&&(i=t),r.push([n,i]),n=i;return r}function c(t,e,r){return null==t?[null]:Array.isArray(t)?t.map(function(t){return y.sliceAlongFirstAxis(t,e,r-e)}):y.sliceAlongFirstAxis(t,e,r-e)}function h(t,e){return m.tidy(function(){return null==t?null:Array.isArray(t)?t.map(function(t){return h(t,e)}):y.gather(t,"int32"===e.dtype?e:e.toInt())})}function g(t,e,r,n,i){void 0===n&&(n=!0),void 0===i&&(i="");var a;if(Array.isArray(t)){if(t.length!==e.length)throw new w.ValueError("Error when checking model "+i+": the Array of Tensors that you are passing to your model is not the size the "+("the model expected. Expected to see "+e.length+" Tensor(s),")+(" but instead got "+t.length+" Tensors(s)."));a=t}else{if(e.length>1)throw new w.ValueError("The model expects "+e.length+" "+i+" Tensors, but only received one Tensor. Found: array with shape "+(JSON.stringify(t.shape)+"."));a=[t]}if(null!=r)for(var o=0;o<e.length;++o)if(null!=r[o]){var s=a[o];if(s.shape.length!==r[o].length)throw new w.ValueError("Error when checking "+i+": expected "+e[o]+" "+("to have "+r[o].length+" dimension(s), but got array with ")+("shape "+JSON.stringify(s.shape)));for(var l=0;l<r[o].length;++l)if(0!==l||n){var u=s.shape[l],c=r[o][l];if(null!=c&&c!==u)throw new w.ValueError("Error when checking "+i+": expected "+(e[o]+" to have shape "+JSON.stringify(r[o])+" but ")+("got array with shape "+JSON.stringify(s.shape)+"."))}}}function p(t,e){if(null==t||Array.isArray(t)&&0===t.length)return e.map(function(t){return[]});if(Array.isArray(t))return e.map(function(e){return t});if(null!=t){for(var r=[],n=0,i=e;n<i.length;n++){var a=i[n],o=t.hasOwnProperty(a)?t[a]:[];Array.isArray(o)||(o=[o]),r.push(o)}return r}throw new TypeError("Type of metrics argument not understood. Expected an Array or Object, found: "+t);
}function d(t){m.util.assert(t>0&&Number.isInteger(t),"batchSize is required to be a positive integer, but got "+t)}var f=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),A=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))(function(i,a){function o(t){try{l(n.next(t))}catch(t){a(t)}}function s(t){try{l(n.throw(t))}catch(t){a(t)}}function l(t){t.done?i(t.value):new r(function(e){e(t.value)}).then(o,s)}l((n=n.apply(t,e||[])).next())})},C=this&&this.__generator||function(t,e){function r(t){return function(e){return n([t,e])}}function n(r){if(i)throw new TypeError("Generator is already executing.");for(;l;)try{if(i=1,a&&(o=a[2&r[0]?"return":r[0]?"throw":"next"])&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[0,o.value]),r[0]){case 0:case 1:o=r;break;case 4:return l.label++,{value:r[1],done:!1};case 5:l.label++,a=r[1],r=[0];continue;case 7:r=l.ops.pop(),l.trys.pop();continue;default:if(o=l.trys,!(o=o.length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){l=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){l.label=r[1];break}if(6===r[0]&&l.label<o[1]){l.label=o[1],o=r;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(r);break}o[2]&&l.ops.pop(),l.trys.pop();continue}r=e.call(t,l)}catch(t){r=[6,t],a=0}finally{i=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}var i,a,o,s,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(e,"__esModule",{value:!0});var m=r(510),I=r(510),v=r(668),y=r(673),b=r(684),x=r(674),w=r(670),N=r(685),S=r(686),T=r(687),E=r(688),k=r(669),O=r(689),_=r(675),P=r(690),M=r(694);e.isDataTensor=n,e.isDataArray=i,e.isDataDict=a,e.standardizeInputData=o,e.checkArrayLengths=s,e.makeBatches=u,e.sliceArraysByIndices=h;var D;!function(t){t[t.SILENT=0]="SILENT",t[t.VERBOSE=1]="VERBOSE"}(D=e.ModelLoggingVerbosity||(e.ModelLoggingVerbosity={}));var R=function(t){function e(e){var r=t.call(this,e)||this;return r.isTraining=!1,r}return f(e,t),e.prototype.summary=function(t,e,r){if(void 0===r&&(r=console.log),!this.built)throw new w.ValueError("This model has never been called, thus its weights have not been created yet. So no summary can be displayed. Build the model first (e.g., by calling it on some test data).");O.printSummary(this,t,e,r)},e.prototype.compile=function(t){var e=this;if(null==t.loss&&(t.loss=[]),this.loss=t.loss,"string"==typeof t.optimizer)this.optimizer=E.getOptimizer(t.optimizer);else{if(!(t.optimizer instanceof I.Optimizer))throw new w.ValueError("User-defined optimizer must be an instance of tf.Optimizer.");this.optimizer=t.optimizer}var r=[];if(Array.isArray(t.loss)||"string"==typeof t.loss||"function"==typeof t.loss)if(Array.isArray(t.loss)){if(t.loss.length!==this.outputs.length)throw new w.ValueError("When passing an Array as loss, it should have one entry per "+("model output. The model has "+this.outputs.length+" output(s), ")+("but you passed loss="+t.loss+"."));var n=t.loss;r=n.map(function(t){return S.get(t)})}else{var i=S.get(t.loss);this.outputs.map(function(t){r.push(i)})}else{t.loss=t.loss;for(var a in t.loss)if(this.outputNames.indexOf(a)===-1)throw new w.ValueError('Unknown entry in loss dictionary: "'+a+'". Only expect the following keys: '+this.outputNames);for(var o in this.outputNames)null==t.loss[o]&&console.warn('Output "'+o+'" is missing from loss dictionary. We assume this was done on purpose, and we will not be expecting data '+("to be passed to "+o+" during training")),r.push(S.get(t.loss[o]))}this.lossFunctions=r,this.feedOutputNames=[],this.feedOutputShapes=[],this.feedLossFns=[];for(var s=0;s<this.outputs.length;++s){var l=this.internalOutputShapes[s],u=this.outputNames[s];this.feedOutputNames.push(u),this.feedOutputShapes.push(l),this.feedLossFns.push(this.lossFunctions[s])}var c=[];this.metrics=t.metrics,this.metricsNames=["loss"],this.metricsTensors=[],x.nameScope("loss",function(){for(var t=0;t<e.outputs.length;++t)if(c.indexOf(t)===-1){var r=e.lossFunctions[t];e.outputs.length>1&&(e.metricsTensors.push([r,t]),e.metricsNames.push(e.outputNames[t]+"_loss"))}});var h=p(t.metrics,this.outputNames),g=function(t,r,n){e.outputNames.length>1&&(r=e.outputNames[t]+"_"+r),e.metricsNames.push(r),e.metricsTensors.push([n,t])};x.nameScope("metric",function(){for(var t=function(t){if(c.indexOf(t)!==-1)return"continue";var r=h[t],n=function(r){for(var n,i,a,o="",s=function(r){if(["accuracy","acc","crossentropy","ce"].indexOf(r)!==-1){var s=e.internalOutputShapes[t];1===s[s.length-1]||e.lossFunctions[t]===S.binaryCrossentropy?["accuracy","acc"].indexOf(r)!==-1?i=T.binaryAccuracy:["crossentropy","ce"].indexOf(r)!==-1&&(i=T.binaryCrossentropy):e.lossFunctions[t]===S.sparseCategoricalCrossentropy?["accuracy","acc"].indexOf(r)!==-1?i=T.sparseCategoricalAccuracy:["crossentropy","ce"].indexOf(r)!==-1&&(i=T.sparseCategoricalCrossentropy):["accuracy","acc"].indexOf(r)!==-1?i=T.categoricalAccuracy:["crossentropy","ce"].indexOf(r)!==-1&&(i=T.categoricalCrossentropy);var l=void 0;["accuracy","acc"].indexOf(r)!==-1?l="acc":["crossentropy","ce"].indexOf(r)!==-1&&(l="ce"),a=i,n=o+l}else{var u=T.get(r);a=u,n=o+r}var c;x.nameScope(n,function(){c=a}),g(t,n,c)},l=0,u=r;l<u.length;l++){var c=u[l];s(c)}};n(r)},r=0;r<e.outputs.length;++r)t(r)}),this.collectedTrainableWeights=this.trainableWeights},e.prototype.checkTrainableWeightsConsistency=function(){null!=this.collectedTrainableWeights&&this.trainableWeights.length!==this.collectedTrainableWeights.length&&console.warn("Discrepancy between trainableweights and collected trainable weights. Did you set `model.trainable` without calling `model.compile()` afterwards?")},e.prototype.evaluate=function(t,e,r){void 0===r&&(r={});var n=null==r.batchSize?32:r.batchSize;d(n);var i=this.standardizeUserData(t,e,!0,n),a=i[0].concat(i[1]);this.makeTestFunction();var o=this.testFunction,s=this.testLoop(o,a,n,r.verbose,r.steps);return k.singletonOrArray(s)},e.prototype.checkNumSamples=function(t,e,r,n){void 0===n&&(n="steps");var i;if(null!=r){if(i=null,null!=e)throw new w.ValueError("If "+n+" is set, batchSize must be null or undefined.Got batchSize = "+e)}else{if(null==t)throw new w.ValueError("Either the input data should have a defined shape, or "+(n+" shoud be specified."));i=Array.isArray(t)?t[0].shape[0]:t.shape[0]}return i},e.prototype.execute=function(t,e){if(Array.isArray(e)&&0===e.length)throw new w.ValueError("`outputs` is an empty Array, which is not allowed.");var r=Array.isArray(e),n=r?e:[e],i=this.retrieveSymbolicTensors(n),a=new M.FeedDict;if(t instanceof I.Tensor&&(t=[t]),Array.isArray(t)){if(t.length!==this.inputs.length)throw new w.ValueError("The number of inputs provided ("+t.length+") does not match the number of inputs of this model "+("("+this.inputs.length+")."));for(var o=0;o<this.inputs.length;++o)a.add(this.inputs[o],t[o])}else for(var s=0,l=this.inputs;s<l.length;s++){var u=l[s],c=t[u.name];if(null==c)throw new w.ValueError("No value is provided for the model's input "+u.name);a.add(u,c)}var h=M.execute(i,a);return r?h:h[0]},e.prototype.retrieveSymbolicTensors=function(t){for(var e=k.pyListRepeat(null,t.length),r=t.length,n=0,i=this.layers;n<i.length;n++){for(var a=i[n],o=Array.isArray(a.output)?a.output:[a.output],s=o.map(function(t){return t.name}),l=0;l<t.length;++l){var u=s.indexOf(t[l]);if(u!==-1&&(e[l]=o[u],r--),0===r)break}if(0===r)break}if(r>0){var c=[];throw e.forEach(function(e,r){null==e&&c.push(t[r])}),new w.ValueError("Cannot find SymbolicTensors for output name(s): "+JSON.stringify(c))}return e},e.prototype.predictLoop=function(t,e,r){var n=this;return void 0===e&&(e=32),void 0===r&&(r=!1),m.tidy(function(){var i=n.checkNumSamples(t);if(r)throw new w.NotImplementedError("Verbose predictLoop() is not implemented yet.");for(var a=u(i,e),o=[],s=function(e){var r=m.tidy(function(){var r=a[e][0],i=a[e][1],o=c(t,r,i),s=[];if(Array.isArray(o))for(var l=0;l<o.length;++l)s.push({key:n.inputs[l],value:o[l]});else s.push({key:n.inputs[0],value:o});var u=new M.FeedDict(s);return M.execute(n.outputs,u)});if(0===e)for(var i=0,s=r;i<s.length;i++){var l=s[i];o.push(l)}else for(var u=0;u<r.length;++u)o[u]=y.concatAlongFirstAxis(o[u],r[u])},l=0;l<a.length;++l)s(l);return k.singletonOrArray(o)})},e.prototype.predict=function(t,e){void 0===e&&(e={}),g(t,this.inputNames,this.feedInputShapes,!1);var r=null==e.batchSize?32:e.batchSize;return d(r),this.predictLoop(t,r)},e.prototype.predictOnBatch=function(t){return g(t,this.inputNames,this.feedInputShapes,!0),this.predictLoop(t,t.shape[0])},e.prototype.standardizeUserData=function(t,e,r,n){if(void 0===r&&(r=!0),null==this.optimizer)throw new w.RuntimeError("You must compile a model before training/testing. Use Model.compile(modelCompileConfig).");for(var i=[],a=0;a<this.feedOutputShapes.length;++a){var u=this.feedOutputShapes[a],c=this.feedLossFns[a];c===S.sparseCategoricalCrossentropy?i.push(u.slice(0,u.length-1).concat([1])):i.push(u)}if(t=o(t,this.feedInputNames,this.feedInputShapes,!1,"input"),e=o(e,this.feedOutputNames,i,!1,"target"),s(t,e,null),l(e,this.feedLossFns,this.feedOutputShapes),this.stateful&&null!=n&&n>0&&t[0].shape[0]%n!==0)throw new w.ValueError("In a stateful network, you should only pass inputs with a number of samples that is divisible by the batch size "+(n+". Found: "+t[0].shape[0]+" sample(s)."));return[t,e,null]},e.prototype.fitLoop=function(t,e,r,n,i,a,o,s,l,c,g,p,d,f,v){return A(this,void 0,void 0,function(){var A,x,S,T,E,k,O,P,M,D=this;return C(this,function(R){switch(R.label){case 0:if(null==n&&(n=32),null==i&&(i=1),null==c&&(c=!0),null==p&&(p=0),A=!1,null!=s&&null!=l&&(A=!0),null!=f&&(A=!0,null==d))throw new w.ValueError("Can only use `validationSteps` when doing step-wise training, i.e., `stepsPerEpoch` must be set.");if(x=this.checkNumSamples(e,n,d,"steps_per_epoch"),null!=x&&(S=_.range(0,x)),this.history=new b.History,T=new b.BaseLogger(v),o=null==o?[T]:[T].concat(o),o=o.concat([this.history]),a>0)throw new w.NotImplementedError("Verbose mode is not implemented yet.");return E=new b.CallbackList(o),E.setModel(this),E.setParams({epochs:i,initialEpoch:p,samples:x,steps:d,batchSize:n,verbose:a,doValidation:A,metrics:g}),[4,E.onTrainBegin()];case 1:R.sent(),this.stopTraining_=!1,k=function(i){var a,o,g,p,f,v;return C(this,function(b){switch(b.label){case 0:return[4,E.onEpochBegin(i)];case 1:if(b.sent(),a={},null==d)return[3,2];throw new w.NotImplementedError("stepsPerEpoch mode is not implemented yet.");case 2:if("batch"===c)throw new w.NotImplementedError("batch shuffling is not implemneted yet");c&&I.util.shuffle(S),o=I.tensor1d(S),g=u(x,n),p=function(i){var u;return C(this,function(c){switch(c.label){case 0:return u={},[4,E.onBatchBegin(i,u)];case 1:return c.sent(),m.tidy(function(){var c=g[i][0],p=g[i][1],d=y.sliceAlongFirstAxis(o,c,p-c);u.batch=i,u.size=p-c;for(var f=h(e,d),C=t(f),I=0;I<r.length;++I){var v=r[I],b=C[I];u[v]=b,m.keep(b)}if(i===g.length-1&&A)for(var x=D.testLoop(s,l,n),I=0;I<r.length;++I){var v=r[I],b=x[I];m.keep(b),a["val_"+v]=b}}),[4,E.onBatchEnd(i,u)];case 2:return c.sent(),N.disposeTensorsInLogs(u),O.stopTraining_?[2,"break"]:[2]}})},f=0,b.label=3;case 3:return f<g.length?[5,p(f)]:[3,6];case 4:if(v=b.sent(),"break"===v)return[3,6];b.label=5;case 5:return++f,[3,3];case 6:o.dispose(),b.label=7;case 7:return[4,E.onEpochEnd(i,a)];case 8:return b.sent(),O.stopTraining_?[2,"break"]:[2]}})},O=this,P=p,R.label=2;case 2:return P<i?[5,k(P)]:[3,5];case 3:if(M=R.sent(),"break"===M)return[3,5];R.label=4;case 4:return++P,[3,2];case 5:return[4,E.onTrainEnd()];case 6:return R.sent(),[4,this.history.syncData()];case 7:return R.sent(),[2,this.history]}})})},e.prototype.testLoop=function(t,e,r,n,i){var a=this;return void 0===n&&(n=0),m.tidy(function(){var o=a.checkNumSamples(e,r,i,"steps"),s=[];if(1===n)throw new w.NotImplementedError("Verbose mode is not implemented yet.");if(null!=i)throw new w.NotImplementedError("steps mode in testLoop() is not implemented yet");for(var l=u(o,r),c=I.tensor1d(_.range(0,o)),g=0;g<l.length;++g){var p=l[g][0],d=l[g][1],f=y.sliceAlongFirstAxis(c,p,d-p),A=h(e,f),C=t(A);if(0===g)for(var b=0;b<C.length;++b)s.push(v.getScalar(0));for(var b=0;b<C.length;++b){var x=C[b];s[b]=m.add(s[b],m.mul(v.getScalar(d-p),x))}}for(var b=0;b<s.length;++b)s[b]=m.div(s[b],v.getScalar(o));return s})},e.prototype.getDedupedMetricsNames=function(){for(var t=this.metricsNames,e=[],r=0;r<t.length;++r){var n=t[r],i=n;if(k.count(t,n)>1){var a=k.count(t.slice(0,r),n);i+="_"+a}e.push(i)}return e},e.prototype.makeTestFunction=function(){var t=this;this.testFunction=function(e){return m.tidy(function(){for(var r,n=[],i=e.slice(0,t.inputs.length),a=e.slice(t.inputs.length,t.inputs.length+t.outputs.length),o=[],s=0;s<t.inputs.length;++s)o.push({key:t.inputs[s],value:i[s]});for(var l=new M.FeedDict(o),u=M.execute(t.outputs,l),s=0;s<t.lossFunctions.length;++s){var c=t.lossFunctions[s],h=m.mean(c(a[s],u[s]));r=0===s?h:m.add(r,h),n.push(r)}for(var s=0;s<t.metricsTensors.length;++s){var g=t.metricsTensors[s][0],p=t.metricsTensors[s][1],d=m.mean(g(a[p],u[p]));n.push(d)}return n})}},e.prototype.fit=function(t,e,r){return void 0===r&&(r={}),A(this,void 0,void 0,function(){var n,i,a,o,s,l,u,h,g,p,f,A,I,v,y,x,N,S,T,E=this;return C(this,function(C){switch(C.label){case 0:if(this.isTraining)throw new Error("Cannot start training because another fit() call is ongoing.");this.isTraining=!0,C.label=1;case 1:if(C.trys.push([1,,3,4]),n=null==r.batchSize?32:r.batchSize,d(n),i=this.standardizeUserData(t,e,!1,n),a=i[0],o=i[1],s=!1,l=void 0,u=void 0,h=void 0,g=!1,null!=r.validationData&&r.validationData.length>0){if(s=!0,2!==r.validationData.length)throw 3===r.validationData.length?new w.NotImplementedError("validationData including sample weights is not supported yet."):new w.ValueError("When passing validation data, it must contain 2 (valX, valY) or 3 (valX, valY, valSampleWeight) items; "+(r.validationData+" is invalid."));l=r.validationData[0],u=r.validationData[1],p=this.standardizeUserData(l,u,!0,n),l=p[0],u=p[1],h=l.concat(u)}else null!=r.validationSplit&&r.validationSplit>0&&r.validationSplit<1?(s=!0,f=Math.floor(a[0].shape[0]*(1-r.validationSplit)),A=a[0].shape[0],l=c(a,f,A),a=c(a,0,f),u=c(o,f,A),o=c(o,0,f),g=!0,h=l.concat(u)):null!=r.validationSteps&&(s=!0);return I=a.concat(o),this.checkTrainableWeightsConsistency(),v=function(t){var e=[],r=[],n=t.slice(0,E.inputs.length),i=t.slice(E.inputs.length,E.inputs.length+E.outputs.length),a=[],o=function(){for(var t=[],o=0;o<E.inputs.length;++o)t.push({key:E.inputs[o],value:n[o]});for(var s,l=new M.FeedDict(t),u=M.execute(E.outputs,l,{training:!0}),o=0;o<E.lossFunctions.length;++o){var c=E.lossFunctions[o],h=c(i[o],u[o]);e.push(h);var g=m.mean(h);r.push(g),s=0===o?h:m.add(s,h)}for(var o=0;o<E.metricsTensors.length;++o){var p=E.metricsTensors[o][0],d=E.metricsTensors[o][1],f=m.mean(p(i[d],u[d]));m.keep(f),a.push(f)}return s=m.mean(s),E.calculateLosses().forEach(function(t){s=m.add(s,t)}),s},s=E.collectedTrainableWeights.map(function(t){return t.read()}),l=!0,u=E.optimizer.minimize(o,l,s);return[u].concat(a)},y=this.getDedupedMetricsNames(),x=void 0,N=void 0,s?(this.makeTestFunction(),x=this.testFunction,N=y.slice().concat(y.map(function(t){return"val_"+t}))):(x=null,h=[],N=y.slice()),S=b.standardizeCallbacks(r.callbacks),[4,this.fitLoop(v,I,y,n,r.epochs,r.verbose,S,x,h,r.shuffle,N,r.initialEpoch,null,null,r.yieldEvery)];case 2:return T=C.sent(),g&&(h.forEach(function(t){return t.dispose()}),a.forEach(function(t){return t.dispose()}),o.forEach(function(t){return t.dispose()})),this.isTraining=!1,[2,T];case 3:return this.isTraining=!1,[7];case 4:return[2]}})})},e.prototype.getNamedWeights=function(t){for(var e={},r=null!=t&&t.trainableOnly,n=r?this.trainableWeights:this.weights,i=this.getWeights(r),a=0;a<n.length;++a)r&&!n[a].trainable||(e[n[a].originalName]=i[a]);return e},Object.defineProperty(e.prototype,"stopTraining",{set:function(t){this.stopTraining_=t},enumerable:!0,configurable:!0}),e.prototype.save=function(t,e){return A(this,void 0,void 0,function(){var r,n,i,a,o;return C(this,function(s){switch(s.label){case 0:if("string"==typeof t){if(r=I.io.getSaveHandlers(t),0===r.length)throw new w.ValueError("Cannot find any save handlers for URL '"+t+"'");if(r.length>1)throw new w.ValueError("Found more than one ("+r.length+") save handlers for "+("URL '"+t+"'"));t=r[0]}if(null==t.save)throw new w.ValueError("Model.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");return[4,I.io.encodeWeights(this.getNamedWeights(e))];case 1:return n=s.sent(),i=!1,a=null,o=this.toJSON(a,i),[2,t.save({modelTopology:o,weightData:n.data,weightSpecs:n.specs})]}})})},e.className="Model",e}(P.Container);e.Model=R,I.serialization.SerializationMap.register(R)},function(t,e,r){"use strict";function n(t){if(null==t)return null;if(t instanceof h)return[t];if(Array.isArray(t)&&t[0]instanceof h)return t;var e=c.toList(t);return e.map(function(t){return new A(t)})}var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),a=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))(function(i,a){function o(t){try{l(n.next(t))}catch(t){a(t)}}function s(t){try{l(n.throw(t))}catch(t){a(t)}}function l(t){t.done?i(t.value):new r(function(e){e(t.value)}).then(o,s)}l((n=n.apply(t,e||[])).next())})},o=this&&this.__generator||function(t,e){function r(t){return function(e){return n([t,e])}}function n(r){if(i)throw new TypeError("Generator is already executing.");for(;l;)try{if(i=1,a&&(o=a[2&r[0]?"return":r[0]?"throw":"next"])&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[0,o.value]),r[0]){case 0:case 1:o=r;break;case 4:return l.label++,{value:r[1],done:!1};case 5:l.label++,a=r[1],r=[0];continue;case 7:r=l.ops.pop(),l.trys.pop();continue;default:if(o=l.trys,!(o=o.length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){l=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){l.label=r[1];break}if(6===r[0]&&l.label<o[1]){l.label=o[1],o=r;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(r);break}o[2]&&l.ops.pop(),l.trys.pop();continue}r=e.call(t,l)}catch(t){r=[6,t],a=0}finally{i=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}var i,a,o,s,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(e,"__esModule",{value:!0});var s=r(510),l=r(668),u=r(685),c=r(669),h=function(){function t(){this.validationData=null}return t.prototype.setParams=function(t){this.params=t},t.prototype.onEpochBegin=function(t,e){return a(this,void 0,void 0,function(){return o(this,function(t){return[2]})})},t.prototype.onEpochEnd=function(t,e){return a(this,void 0,void 0,function(){return o(this,function(t){return[2]})})},t.prototype.onBatchBegin=function(t,e){return a(this,void 0,void 0,function(){return o(this,function(t){return[2]})})},t.prototype.onBatchEnd=function(t,e){return a(this,void 0,void 0,function(){return o(this,function(t){return[2]})})},t.prototype.onTrainBegin=function(t){return a(this,void 0,void 0,function(){return o(this,function(t){return[2]})})},t.prototype.onTrainEnd=function(t){return a(this,void 0,void 0,function(){return o(this,function(t){return[2]})})},t.prototype.setModel=function(t){},t}();e.BaseCallback=h;var g=function(){function t(t,e){void 0===e&&(e=10),null==t&&(t=[]),this.callbacks=t,this.queueLength=e}return t.prototype.append=function(t){this.callbacks.push(t)},t.prototype.setParams=function(t){for(var e=0,r=this.callbacks;e<r.length;e++){var n=r[e];n.setParams(t)}},t.prototype.setModel=function(t){for(var e=0,r=this.callbacks;e<r.length;e++){var n=r[e];n.setModel(t)}},t.prototype.onEpochBegin=function(t,e){return a(this,void 0,void 0,function(){var r,n,i;return o(this,function(a){switch(a.label){case 0:null==e&&(e={}),r=0,n=this.callbacks,a.label=1;case 1:return r<n.length?(i=n[r],[4,i.onEpochBegin(t,e)]):[3,4];case 2:a.sent(),a.label=3;case 3:return r++,[3,1];case 4:return[2]}})})},t.prototype.onEpochEnd=function(t,e){return a(this,void 0,void 0,function(){var r,n,i;return o(this,function(a){switch(a.label){case 0:null==e&&(e={}),r=0,n=this.callbacks,a.label=1;case 1:return r<n.length?(i=n[r],[4,i.onEpochEnd(t,e)]):[3,4];case 2:a.sent(),a.label=3;case 3:return r++,[3,1];case 4:return[2]}})})},t.prototype.onBatchBegin=function(t,e){return a(this,void 0,void 0,function(){var r,n,i;return o(this,function(a){switch(a.label){case 0:null==e&&(e={}),r=0,n=this.callbacks,a.label=1;case 1:return r<n.length?(i=n[r],[4,i.onBatchBegin(t,e)]):[3,4];case 2:a.sent(),a.label=3;case 3:return r++,[3,1];case 4:return[2]}})})},t.prototype.onBatchEnd=function(t,e){return a(this,void 0,void 0,function(){var r,n,i;return o(this,function(a){switch(a.label){case 0:null==e&&(e={}),r=0,n=this.callbacks,a.label=1;case 1:return r<n.length?(i=n[r],[4,i.onBatchEnd(t,e)]):[3,4];case 2:a.sent(),a.label=3;case 3:return r++,[3,1];case 4:return[2]}})})},t.prototype.onTrainBegin=function(t){return a(this,void 0,void 0,function(){var e,r,n;return o(this,function(i){switch(i.label){case 0:null==t&&(t={}),e=0,r=this.callbacks,i.label=1;case 1:return e<r.length?(n=r[e],[4,n.onTrainBegin(t)]):[3,4];case 2:i.sent(),i.label=3;case 3:return e++,[3,1];case 4:return[2]}})})},t.prototype.onTrainEnd=function(t){return a(this,void 0,void 0,function(){var e,r,n;return o(this,function(i){switch(i.label){case 0:null==t&&(t={}),e=0,r=this.callbacks,i.label=1;case 1:return e<r.length?(n=r[e],[4,n.onTrainEnd(t)]):[3,4];case 2:i.sent(),i.label=3;case 3:return e++,[3,1];case 4:return[2]}})})},t}();e.CallbackList=g;var p=function(){function t(t){this.yieldEvery=t,this.batchCount=0,this.batchDurationsMillis=[],this.autoYieldEveryBatches=null,this.batchStartMillis=s.util.now()}return t.prototype.resolveOneTensorInLogs=function(t){return a(this,void 0,void 0,function(){var e,r,n,i,a;return o(this,function(o){switch(o.label){case 0:e=[];for(r in t)e.push(r);n=0,o.label=1;case 1:return n<e.length?(i=e[n],a=t[i],"number"==typeof a?[3,3]:[4,a.data()]):[3,4];case 2:return o.sent(),[3,4];case 3:return n++,[3,1];case 4:return[2]}})})},t.prototype.maybeYieldOnBatch=function(e){return a(this,void 0,void 0,function(){var r,n;return o(this,function(i){switch(i.label){case 0:return"auto"!==this.yieldEvery?[3,7]:(this.batchCount++,null!=this.autoYieldEveryBatches?[3,3]:[4,this.resolveOneTensorInLogs(e)]);case 1:return i.sent(),r=s.util.now(),[4,s.nextFrame()];case 2:return i.sent(),this.batchCount>t.SKIP_FIRST_BATCHES&&(this.batchDurationsMillis.push(r-this.batchStartMillis),this.batchDurationsMillis.length>=t.DECISION_BATCH_COUNT&&(n=this.batchDurationsMillis.reduce(function(t,e){return t+e})/this.batchDurationsMillis.length,this.autoYieldEveryBatches=Math.round(t.THRESHOLD_MILLIS/n),this.autoYieldEveryBatches<1&&(this.autoYieldEveryBatches=1))),this.batchStartMillis=s.util.now(),this.lastYieldBatchCount=this.batchCount,[3,6];case 3:return this.batchCount-this.lastYieldBatchCount>=this.autoYieldEveryBatches?[4,s.nextFrame()]:[3,6];case 4:return i.sent(),[4,this.resolveOneTensorInLogs(e)];case 5:i.sent(),this.lastYieldBatchCount=this.batchCount,i.label=6;case 6:return[3,9];case 7:return"batch"!==this.yieldEvery?[3,9]:[4,s.nextFrame()];case 8:i.sent(),i.label=9;case 9:return[2]}})})},t.prototype.maybeYieldOnEpoch=function(){return a(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return"epoch"!==this.yieldEvery?[3,2]:[4,s.nextFrame()];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.SKIP_FIRST_BATCHES=1,t.DECISION_BATCH_COUNT=2,t.THRESHOLD_MILLIS=16,t}();e.ModelTrainingYielder=p;var d=function(t){function e(e){var r=t.call(this)||this;return r.yieldEvery=e||"auto",r}return i(e,t),e.prototype.onTrainBegin=function(t){return a(this,void 0,void 0,function(){return o(this,function(t){return this.autoYielder=new p(this.yieldEvery),[2]})})},e.prototype.onEpochBegin=function(t){return a(this,void 0,void 0,function(){return o(this,function(t){return this.seen=0,this.totals={},[2]})})},e.prototype.onBatchEnd=function(t,e){return a(this,void 0,void 0,function(){var t,r,n,i,a=this;return o(this,function(o){switch(o.label){case 0:return[4,this.autoYielder.maybeYieldOnBatch(e)];case 1:o.sent(),null==e&&(e={}),t=null==e.size?0:e.size,this.seen+=t,r=function(r){var i=e[r];if("number"==typeof i)n.totals.hasOwnProperty(r)||(n.totals[r]=0),n.totals[r]=n.totals[r]+i*t;else{var o=void 0;r in n.totals?o=n.totals[r]:n.totals[r]=l.getScalar(0),n.totals[r]=s.tidy(function(){return s.add(a.totals[r],s.mul(i,l.getScalar(t)))}),null!=o&&o.dispose()}},n=this;for(i in e)r(i);return[2]}})})},e.prototype.onEpochEnd=function(t,e){return a(this,void 0,void 0,function(){var t,r,n,i,a,u=this;return o(this,function(o){switch(o.label){case 0:return[4,this.autoYielder.maybeYieldOnEpoch()];case 1:if(o.sent(),null!=e)for(t=function(t){return null==r.totals[t]?"continue":void("number"==typeof r.totals[t]?e[t]=r.totals[t]/r.seen:s.tidy(function(){e[t]=s.mul(s.div(l.getScalar(1),l.getScalar(u.seen)),u.totals[t]),u.totals[t].dispose(),s.keep(e[t])}))},r=this,n=0,i=this.params.metrics;n<i.length;n++)a=i[n],t(a);return[2]}})})},e}(h);e.BaseLogger=d;var f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onTrainBegin=function(t){return a(this,void 0,void 0,function(){return o(this,function(t){return this.epoch=[],this.history={},[2]})})},e.prototype.onEpochEnd=function(t,e){return a(this,void 0,void 0,function(){var r;return o(this,function(n){null==e&&(e={}),this.epoch.push(t);for(r in e)null==this.history[r]&&(this.history[r]=[]),this.history[r].push(e[r]);return[2]})})},e.prototype.syncData=function(){return a(this,void 0,void 0,function(){var t,e,r,n,i,a,s,l,u,c;return o(this,function(o){switch(o.label){case 0:t=[],e=[],r=[];for(n in this.history)for(i=this.history[n],a=0;a<i.length;++a)"number"!=typeof i[a]&&(s=i[a],t.push(s.data()),e.push(n),r.push(a));return[4,Promise.all(t)];case 1:for(l=o.sent(),u=0;u<l.length;++u)c=this.history[e[u]][r[u]],c.dispose(),this.history[e[u]][r[u]]=l[u][0];return[2]}})})},e}(h);e.History=f;var A=function(t){function e(e){var r=t.call(this)||this;return r.trainBegin=e.onTrainBegin,r.trainEnd=e.onTrainEnd,r.epochBegin=e.onEpochBegin,r.epochEnd=e.onEpochEnd,r.batchBegin=e.onBatchBegin,r.batchEnd=e.onBatchEnd,r}return i(e,t),e.prototype.onEpochBegin=function(t,e){return a(this,void 0,void 0,function(){return o(this,function(r){switch(r.label){case 0:return null==this.epochBegin?[3,3]:[4,u.resolveScalarsInLogs(e)];case 1:return r.sent(),[4,this.epochBegin(t,e)];case 2:r.sent(),r.label=3;case 3:return[2]}})})},e.prototype.onEpochEnd=function(t,e){return a(this,void 0,void 0,function(){return o(this,function(r){switch(r.label){case 0:return null==this.epochEnd?[3,3]:[4,u.resolveScalarsInLogs(e)];case 1:return r.sent(),[4,this.epochEnd(t,e)];case 2:r.sent(),r.label=3;case 3:return[2]}})})},e.prototype.onBatchBegin=function(t,e){return a(this,void 0,void 0,function(){return o(this,function(r){switch(r.label){case 0:return null==this.batchBegin?[3,3]:[4,u.resolveScalarsInLogs(e)];case 1:return r.sent(),[4,this.batchBegin(t,e)];case 2:r.sent(),r.label=3;case 3:return[2]}})})},e.prototype.onBatchEnd=function(t,e){return a(this,void 0,void 0,function(){return o(this,function(r){switch(r.label){case 0:return null==this.batchEnd?[3,3]:[4,u.resolveScalarsInLogs(e)];case 1:return r.sent(),[4,this.batchEnd(t,e)];case 2:r.sent(),r.label=3;case 3:return[2]}})})},e.prototype.onTrainBegin=function(t){return a(this,void 0,void 0,function(){return o(this,function(e){switch(e.label){case 0:return null==this.trainBegin?[3,3]:[4,u.resolveScalarsInLogs(t)];case 1:return e.sent(),[4,this.trainBegin(t)];case 2:e.sent(),e.label=3;case 3:return[2]}})})},e.prototype.onTrainEnd=function(t){return a(this,void 0,void 0,function(){return o(this,function(e){switch(e.label){case 0:return null==this.trainEnd?[3,3]:[4,u.resolveScalarsInLogs(t)];case 1:return e.sent(),[4,this.trainEnd(t)];case 2:e.sent(),e.label=3;case 3:return[2]}})})},e}(h);e.CustomCallback=A,e.standardizeCallbacks=n},function(t,e,r){"use strict";function n(t){return a(this,void 0,void 0,function(){var e,r,n,i,a,l,u,c;return o(this,function(o){switch(o.label){case 0:if(null==t)return[2];e=[],r=[],n=[];for(i in t)a=t[i],"number"!=typeof a&&(l=a,e.push(l.data()),r.push(i),n.push(l));return[4,Promise.all(e)];case 1:for(u=o.sent(),c=0;c<u.length;++c)t[r[c]]=u[c][0];return s.dispose(n),[2]}})})}function i(t){if(null!=t)for(var e in t){var r=t[e];"number"!=typeof r&&r.dispose()}}var a=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))(function(i,a){function o(t){try{l(n.next(t))}catch(t){a(t)}}function s(t){try{l(n.throw(t))}catch(t){a(t)}}function l(t){t.done?i(t.value):new r(function(e){e(t.value)}).then(o,s)}l((n=n.apply(t,e||[])).next())})},o=this&&this.__generator||function(t,e){function r(t){return function(e){return n([t,e])}}function n(r){if(i)throw new TypeError("Generator is already executing.");for(;l;)try{if(i=1,a&&(o=a[2&r[0]?"return":r[0]?"throw":"next"])&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[0,o.value]),r[0]){case 0:case 1:o=r;break;case 4:return l.label++,{value:r[1],done:!1};case 5:l.label++,a=r[1],r=[0];continue;case 7:r=l.ops.pop(),l.trys.pop();continue;default:if(o=l.trys,!(o=o.length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){l=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){l.label=r[1];break}if(6===r[0]&&l.label<o[1]){l.label=o[1],o=r;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(r);break}o[2]&&l.ops.pop(),l.trys.pop();continue}r=e.call(t,l)}catch(t){r=[6,t],a=0}finally{i=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}var i,a,o,s,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(e,"__esModule",{value:!0});var s=r(510);e.resolveScalarsInLogs=n,e.disposeTensorsInLogs=i},function(t,e,r){"use strict";function n(t,e){return y.tidy(function(){var r=v.sum(x.square(t),e,!0),n=v.mul(y.scalar(b.epsilon()),v.onesLike(t)),i=v.sqrt(v.maximum(r,n));return v.div(t,i)})}function i(t,e){return y.tidy(function(){return v.mean(x.square(v.sub(e,t)),-1)})}function a(t,e){return y.tidy(function(){return v.mean(v.abs(v.sub(e,t)),-1)})}function o(t,e){return y.tidy(function(){var r=v.sub(t,e),n=v.clipByValue(v.abs(t),b.epsilon(),Number.MAX_VALUE),i=v.abs(v.div(r,n));return v.mul(w.getScalar(100),v.mean(i,-1))})}function s(t,e){return y.tidy(function(){var r=w.getScalar(1),n=v.clipByValue(e,b.epsilon(),Number.MAX_VALUE),i=v.log(v.add(r,n)),a=v.clipByValue(t,b.epsilon(),Number.MAX_VALUE),o=v.log(v.add(r,a));return v.mean(x.square(v.sub(i,o)),-1)})}function l(t,e){return y.tidy(function(){var r=w.getScalar(0),n=w.getScalar(1),i=v.maximum(r,v.sub(n,v.mul(t,e)));return v.mean(x.square(i),-1)})}function u(t,e){return y.tidy(function(){var r=w.getScalar(0),n=w.getScalar(1),i=v.maximum(r,v.sub(n,v.mul(t,e)));return v.mean(i,-1)})}function c(t,e){return y.tidy(function(){var r=w.getScalar(0),n=w.getScalar(1),i=v.sum(v.mul(t,e),-1),a=v.max(v.mul(v.sub(n,t),e),-1);return v.maximum(r,v.add(n,v.sub(a,i)))})}function h(t,e){return y.tidy(function(){var r=w.getScalar(Math.log(2)),n=v.sub(e,t),i=v.sub(v.add(n,v.softplus(v.mul(w.getScalar(-2),n))),r);
return v.mean(i,-1)})}function g(t,e,r){return void 0===r&&(r=!1),y.tidy(function(){if(r)e=v.softmax(e);else{var n=v.sum(e,e.shape.length-1,!0);e=v.div(e,n)}return e=v.clipByValue(e,b.epsilon(),1-b.epsilon()),v.neg(v.sum(v.mul(t.toFloat(),v.log(e)),e.shape.length-1))})}function p(t,e,r){return void 0===r&&(r=!1),y.tidy(function(){var n=v.floor(x.flatten(t)).toInt(),i=e.shape,a=v.oneHot(n,i[i.length-1]).reshape(i);return g(a,e,r)})}function d(t,e){return y.tidy(function(){var r=v.maximum(e,v.zerosLike(e)),n=v.mul(e,t),i=v.log(v.add(w.getScalar(1),v.exp(v.neg(v.abs(e))))),a=v.add(v.sub(r,n),i);return a})}function f(t,e){return y.tidy(function(){var r;return r=v.clipByValue(e,b.epsilon(),1-b.epsilon()),r=v.log(v.div(r,v.sub(v.onesLike(r),r))),v.mean(d(t,r),-1)})}function A(t,e){return y.tidy(function(){var r=v.clipByValue(t,b.epsilon(),1),n=v.clipByValue(e,b.epsilon(),1);return v.sum(v.mul(t,v.log(v.div(r,n))),-1)})}function C(t,e){return y.tidy(function(){var r=v.log(v.add(w.getScalar(b.epsilon()),e));return v.mean(v.sub(e,v.mul(t,r)),-1)})}function m(t,e){return y.tidy(function(){var r=n(t,-1),i=n(e,-1),a=v.mul(r,i);return v.neg(v.sum(a,-1))})}function I(t){var e={meanSquaredError:i,meanAbsoluteError:a,meanAbsolutePercentageError:o,meanSquaredLogarithmicError:s,squaredHinge:l,hinge:u,categoricalHinge:c,logcosh:h,categoricalCrossentropy:g,sparseCategoricalCrossentropy:p,binaryCrossentropy:f,kullbackLeiblerDivergence:A,poisson:C,cosineProximity:m};if("string"==typeof t){if(t in e)return e[t];throw new N.ValueError("Unknown loss "+t)}return t}Object.defineProperty(e,"__esModule",{value:!0});var v=r(510),y=r(510),b=r(667),x=r(673),w=r(668),N=r(670);e.l2Normalize=n,e.meanSquaredError=i,e.meanAbsoluteError=a,e.meanAbsolutePercentageError=o,e.meanSquaredLogarithmicError=s,e.squaredHinge=l,e.hinge=u,e.categoricalHinge=c,e.logcosh=h,e.categoricalCrossentropy=g,e.sparseCategoricalCrossentropy=p,e.sigmoidCrossEntropyWithLogits=d,e.binaryCrossentropy=f,e.kullbackLeiblerDivergence=A,e.poisson=C,e.cosineProximity=m,e.mse=i,e.MSE=i,e.mae=a,e.MAE=a,e.mape=o,e.MAPE=o,e.msle=s,e.MSLE=s,e.kld=A,e.KLD=A,e.cosine=m,e.get=I},function(t,e,r){"use strict";function n(t,e){return h.tidy(function(){var r=c.mul(p.getScalar(.5),c.onesLike(e)),n=g.cast(c.greater(e,r),t.dtype);return c.mean(c.equal(t,n),-1)})}function i(t,e){return h.tidy(function(){return g.cast(c.equal(c.argMax(t,-1),c.argMax(e,-1)),"float32")})}function a(t,e){return A.binaryCrossentropy(t,e)}function o(t,e){throw new d.NotImplementedError}function s(t,e){throw new d.NotImplementedError}function l(t,e){throw new d.NotImplementedError}function u(t){var r={binaryAccuracy:n,categoricalAccuracy:i,categoricalCrossentropy:e.categoricalCrossentropy,sparseCategoricalCrossentropy:e.sparseCategoricalCrossentropy,mse:e.mse,MSE:e.MSE,mae:e.mae,MAE:e.MAE,mape:e.mape,MAPE:e.MAPE,cosine:e.cosine};if("string"==typeof t&&t in r)return r[t];if("string"!=typeof t&&null!=t)return t;throw new d.ValueError("Unknown metric "+t)}Object.defineProperty(e,"__esModule",{value:!0});var c=r(510),h=r(510),g=r(673),p=r(668),d=r(670),f=r(686),A=r(686);e.binaryAccuracy=n,e.categoricalAccuracy=i,e.binaryCrossentropy=a,e.sparseCategoricalAccuracy=o,e.topKCategoricalAccuracy=s,e.sparseTopKCategoricalAccuracy=l,e.mse=f.meanSquaredError,e.MSE=f.meanSquaredError,e.mae=f.meanAbsoluteError,e.MAE=f.meanAbsoluteError,e.mape=f.meanAbsolutePercentageError,e.MAPE=f.meanAbsolutePercentageError,e.categoricalCrossentropy=f.categoricalCrossentropy,e.cosine=f.cosineProximity,e.sparseCategoricalCrossentropy=f.sparseCategoricalCrossentropy,e.get=u},function(t,e,r){"use strict";function n(t){var e={Adagrad:function(){return i.train.adagrad(.01)},Adadelta:function(){return i.train.adadelta(1,.95,a.epsilon())},Adam:function(){return i.train.adam(.001,.9,.999,a.epsilon())},Adamax:function(){return i.train.adamax(.002,.9,.999,a.epsilon(),0)},RMSProp:function(){return i.train.rmsprop(.001,.9,0,a.epsilon())},SGD:function(){return i.train.sgd(.01)}};if(e.adagrad=e.Adagrad,e.adadelta=e.Adadelta,e.adam=e.Adam,e.adamax=e.Adamax,e.rmsprop=e.RMSProp,e.sgd=e.SGD,t in e)return e[t]();throw new o.ValueError("Unknown Optimizer "+t)}Object.defineProperty(e,"__esModule",{value:!0});var i=r(510),a=r(667),o=r(670);e.getOptimizer=n},function(t,e,r){"use strict";function n(t,e,r,n){void 0===n&&(n=console.log);var c=a(t),h=["Layer (type)","Output shape","Param #"];c?(e=e||65,r=r||[.45,.85,1]):(e=e||98,r=r||[.33,.55,.67,1]),r[r.length-1]<=1&&(r=r.map(function(t){return Math.floor(e*t)}));var g;if(!c){h.push("Receives inputs"),g=[];for(var p in t.nodesByDepth)g.push.apply(g,t.nodesByDepth[p])}n("_".repeat(e)),o(h,r,n),n("=".repeat(e));for(var d=t.layers,f=0;f<d.length;++f)c?s(d[f],r,n):l(d[f],r,g,n),n((f===d.length-1?"=":"_").repeat(e));t.checkTrainableWeightsConsistency();var A=i(t),C=u.countParamsInWeights(t.nonTrainableWeights);n("Total params: "+(A+C)),n("Trainable params: "+A),n("Non-trainable params: "+C),n("_".repeat(e))}function i(t){var e;return e=null!=t.collectedTrainableWeights?u.countParamsInWeights(t.collectedTrainableWeights):u.countParamsInWeights(t.trainableWeights)}function a(t){var e=!0,r=[],n=[];for(var i in t.nodesByDepth)r.push(t.nodesByDepth[i]);for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.length>1||1===s.length&&s[0].inboundLayers.length>1){e=!1;break}n.push.apply(n,s)}if(e)for(var l=0,u=t.layers;l<u.length;l++){for(var c=u[l],h=!1,g=0,p=c.inboundNodes;g<p.length;g++){var d=p[g];if(n.indexOf(d)!==-1){if(h){e=!1;break}h=!0}}if(!e)break}return e}function o(t,e,r){void 0===r&&(r=console.log);for(var n="",i=0;i<t.length;++i)i>0&&(n=n.slice(0,n.length-1)+" "),n+=t[i],n=n.slice(0,e[i]),n+=" ".repeat(e[i]-n.length);r(n)}function s(t,e,r){var n;try{n=JSON.stringify(t.outputShape)}catch(t){n="multiple"}var i=t.name,a=t.getClassName(),s=[i+" ("+a+")",n,t.countParams().toString()];o(s,e,r)}function l(t,e,r,n){var i;try{i=JSON.stringify(t.outputShape)}catch(t){i="multiple"}for(var a=[],s=0,l=t.inboundNodes;s<l.length;s++){var u=l[s];if(!(null!=r&&r.length>0&&r.indexOf(u)===-1))for(var c=0;c<u.inboundLayers.length;++c){var h=u.inboundLayers[c].name,g=u.nodeIndices[c],p=u.tensorIndices[c];a.push(h+"["+g+"]["+p+"]")}}var d=t.name,f=t.getClassName(),A=0===a.length?"":a[0],C=[d+" ("+f+")",i,t.countParams().toString(),A];o(C,e,n);for(var c=1;c<a.length;++c)o(["","","",a[c]],e,n)}Object.defineProperty(e,"__esModule",{value:!0});var u=r(680);e.printSummary=n},function(t,e,r){"use strict";function n(t,e,r,n){if(!r.startsWith("2."))throw new c.ValueError("Unsupported Keras version in weights being loaded: "+r);return e}function i(t,e,r){var n=g.stringToDType(t);return l.Tensor.make(e,{values:0===e.length?r:l.util.flatten(r)},n)}function a(t,e,r){void 0===r&&(r=!1);for(var a=t.keras_version,o=t.backend,s=e.map(function(t){return t.name}),u={},h=0,g=e;h<g.length;h++){var p=g[h];null!=p.name&&(null==u[p.name]&&(u[p.name]=[]),u[p.name].push(p))}for(var d=t.weights,A=[],C=0;C<s.length;++C){var m=s[C],I=d[m];null==I&&(I=[]);for(var v=[],y=0;y<I.length;++y){var b=I[y];v.push(new f.LayerVariable(i(b.dtype,b.shape,b.value)))}for(var x=0,w=u[m];x<w.length;x++){var p=w[x],N=p.weights;if(v=n(p,v,a,o),v.length!==N.length){if(!r)throw new c.ValueError("Layer #"+C+' (named "'+p.name+'") expects '+(N.length+" weight(s), but the saved weights ")+("have "+v.length+" element(s)."));console.warn("Skipping loading of weights of layer "+p.name+" "+("due to mismatch in number of weights: ("+v.length+" ")+("vs "+N.length+")."))}for(var S=0;S<v.length;++S)!r||l.util.arraysEqual(N[S].shape,v[S].shape)?A.push([N[S],v[S].read()]):console.warn("Skipping loading of weights for layer "+p.name+" due "+("to mismatch in shape ("+N[S].shape+" vs ")+(v[S].shape+")"))}}f.batchSetValue(A)}function o(t,e,r){void 0===r&&(r=!0);for(var n={},i=0,a=0,o=e;a<o.length;a++)for(var s=o[a],l=0,u=s.weights;l<u.length;l++){var h=u[l];if(null!=n[h.originalName])throw new c.ValueError("Duplicate weight name: "+h.originalName);n[h.originalName]=h,i++}var g=[];for(var p in t){if(null!=n[p])g.push([n[p],t[p]]);else if(r)throw new c.ValueError("Provided weight data has no target variable: "+p);delete n[p]}if(r){var d=[];for(var A in n)d.push(A);if(d.length>0)throw new c.ValueError(d.length+" of "+i+" weights are not set: "+d)}f.batchSetValue(g)}var s=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var l=r(510),u=r(668),c=r(670),h=r(691),g=r(669),p=r(692),d=r(679),f=r(681),A=r(693),C=r(677),m=r(678);e.loadWeightsFromJson=a,e.loadWeightsFromNamedTensorMap=o;var I=function(t){function e(r){var n=t.call(this,{})||this;if(n.containerNodes=new Set,n.name=r.name,null==n.name){var i=n.getClassName().toLowerCase();n.name=u.getUid(i)}if(n.supportsMasking=!1,n.trainable=!0,n.updatable=!0,Array.isArray(r.inputs)?n.inputs=r.inputs.slice():n.inputs=[r.inputs],Array.isArray(r.outputs)?n.outputs=r.outputs.slice():n.outputs=[r.outputs],g.unique(n.inputs).length!==n.inputs.length)throw new c.ValueError("The list of inputs passed to the model is redundant. All inputs should only appear once. Found: "+n.inputs.map(function(t){return t.name}));g.unique(n.outputs).length!==n.outputs.length&&console.warn("The list of outputs passed to the model is redundant. All outputs should only appear once. Found: "+n.outputs.map(function(t){return t.name})),n.inputLayers=[],n.inputLayersNodeIndices=[],n.inputLayersTensorIndices=[],n.outputLayers=[],n.outputLayersNodeIndices=[],n.outputLayersTensorIndices=[],n.layers=[];for(var a=0,o=n.outputs;a<o.length;a++){var s=o[a],l=s.sourceLayer,h=s.nodeIndex,p=s.tensorIndex;n.outputLayers.push(l),n.outputLayersNodeIndices.push(h),n.outputLayersTensorIndices.push(p)}for(var d=0,f=n.inputs;d<f.length;d++){var s=f[d],l=s.sourceLayer,h=s.nodeIndex,p=s.tensorIndex;g.assert(0===h,"input layer has >1 nodes"),g.assert(0===p,"input layer has >1 tensors"),n.inputLayers.push(l),n.inputLayersNodeIndices.push(h),n.inputLayersTensorIndices.push(p)}n.inputNames=[],n.outputNames=[],n.feedInputShapes=[],n.feedInputNames=[],n.feedOutputNames=[];for(var A=0;A<n.inputLayers.length;A++){var l=n.inputLayers[A];if(!(l instanceof C.InputLayer))throw new TypeError("Input layers to a Model must be InputLayer objects. "+("Received inputs: "+r.inputs+". ")+("Input "+A+" (0-based) originates ")+("from layer type "+l.getClassName()+"."));n.inputNames.push(l.name),n.feedInputShapes.push(l.batchInputShape),n.feedInputNames.push(l.name)}for(var I=0,v=n.outputLayers;I<v.length;I++){var l=v[I];n.outputNames.push(l.name)}n.internalInputShapes=n.inputs.map(function(t){return t.shape}),n.internalOutputShapes=n.outputs.map(function(t){return t.shape});for(var y={},b={},x={},w={},N={},S=[],T=(function(t,r,i,a,o,s){null!=a&&null!=o&&null!=s||(a=t.sourceLayer,o=t.nodeIndex,s=t.tensorIndex);var l=a.inboundNodes[o];if(i.indexOf(l)!==-1)throw new c.RuntimeError("The tensor "+t.name+' at layer "'+a.name+'" is part of a cycle.');if(r.indexOf(l)===-1){n.containerNodes.add(e.nodeKey(a,o)),a.id in N||(N[a.id]=Object.keys(N).length),i.indexOf(l)===-1&&i.push(l);for(var u=l.inboundLayers.length,h=0;h<u;h++){var g=l.inputTensors[h],p=l.inboundLayers[h],d=l.nodeIndices[h],f=l.tensorIndices[h];T(g,r,i,p,d,f)}for(r.push(l);i.indexOf(l)>=0;)i.splice(i.indexOf(l),1);S.push(l)}}),E=[],k=[],O=0,_=n.outputs;O<_.length;O++){var s=_[O];T(s,E,k)}for(var P=S.slice().reverse(),M=0,D=P;M<D.length;M++){var R=D[M];b[R.id]=R,R.id in y||(y[R.id]=0);var L=y[R.id],z=null==x[R.outboundLayer.id]?0:x[R.outboundLayer.id];L=Math.max(L,z),x[R.outboundLayer.id]=L,w[R.outboundLayer.id]=R.outboundLayer,y[R.id]=L;for(var A=0;A<R.inboundLayers.length;A++){var F=R.inboundLayers[A],h=R.nodeIndices[A],B=F.inboundNodes[h],V=null==y[B.id]?0:y[B.id];y[B.id]=Math.max(L+1,V),b[B.id]=B}}var j={};for(var W in y){var L=y[W];L in j||(j[L]=[]),j[L].push(b[W])}var G={};for(var U in x){var L=x[U];L in G||(G[L]=[]),G[L].push(w[U])}var H=Object.keys(G).map(function(t){return parseInt(t,10)}).sort(g.reverseNumberCompare);n.layers=[];for(var Y=0,Z=H;Y<Z.length;Y++){var L=Z[Y],X=G[L];X.sort(function(t,e){var r=N[t.id],n=N[e.id];return r<n?-1:r>n?1:0});for(var q=0,K=X;q<K.length;q++){var l=K[q];n.layers.push(l)}}n.layersByDepth=G,H=Object.keys(j).map(function(t){return parseInt(t,10)}).sort(g.reverseNumberCompare);for(var J=n.inputs.slice(),Q=[],$=0,tt=H;$<tt.length;$++)for(var L=tt[$],et=0,rt=j[L];et<rt.length;et++){var R=rt[et],l=R.outboundLayer;if(null!=l){for(var nt=0,it=R.inputTensors;nt<it.length;nt++){var s=it[nt];if(J.indexOf(s)===-1)throw new c.RuntimeError("Graph disconnected: cannot obtain value for tensor "+s+(' at layer "'+l.name+'". ')+"The following previous layers were accessed without issue: "+Q)}for(var at=0,ot=R.outputTensors;at<ot.length;at++){var s=ot[at];J.push(s)}Q.push(l.name)}}n.nodesByDepth=j;for(var st=n.layers.map(function(t){return t.name}),lt=function(t){var e=st.filter(function(e){return e===t}).length;if(1!==e)throw new c.RuntimeError('The name "'+t+'" is used '+e+" times in the model. All layer names should be unique. Layer names: "+JSON.stringify(st))},ut=0,ct=st;ut<ct.length;ut++){var ht=ct[ut];lt(ht)}return n.outboundNodes=[],n.inboundNodes=[],new m.Node({outboundLayer:n,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:n.inputs,outputTensors:n.outputs,inputMasks:n.inputs.map(function(t){return null}),outputMasks:n.outputs.map(function(t){return null}),inputShapes:n.inputs.map(function(t){return t.shape}),outputShapes:n.outputs.map(function(t){return t.shape})}),n.built=!0,n._refCount=1,n}return s(e,t),e.prototype.assertNotDisposed=function(){if(0===this._refCount)throw new Error("Container '"+this.name+"' is already disposed.")},e.prototype.dispose=function(){this.assertNotDisposed();var t={refCountAfterDispose:null,numDisposedVariables:0};if(0===--this._refCount)for(var e=0,r=this.layers;e<r.length;e++){var n=r[e];t.numDisposedVariables+=n.dispose().numDisposedVariables}return t.refCountAfterDispose=this._refCount,t},Object.defineProperty(e.prototype,"trainableWeights",{get:function(){if(this._trainableWeights.length>0)throw new c.ValueError("Container instance unexpectedly contains _trainableWeights.The trainable weights of a Container are a union of the trainable weights of its consituent Layers. Its own _trainableWeights must remain an empty Array.");if(!this.trainable)return[];for(var t=[],e=0,r=this.layers;e<r.length;e++){var n=r[e];t=t.concat(n.trainableWeights)}return t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nonTrainableWeights",{get:function(){for(var t=[],e=0,r=this.layers;e<r.length;e++){var n=r[e];t.push.apply(t,n.nonTrainableWeights)}if(!this.trainable){for(var i=[],a=0,o=this.layers;a<o.length;a++){var n=o[a];i.push.apply(i,n.trainableWeights)}return i.concat(t)}return t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"weights",{get:function(){return this.trainableWeights.concat(this.nonTrainableWeights)},enumerable:!0,configurable:!0}),e.prototype.loadWeights=function(t,e,r,n){void 0===e&&(e=!1),void 0===r&&(r=!1),void 0===n&&(n=!0),r?o(t,this.layers,n):a(t,this.layers,e)},e.prototype.updatedConfig=function(){var t=this.getConfig(),e={className:this.getClassName(),config:t,kerasVersion:"tfjs-layers "+A.version,backend:"TensorFlow.js"};return e},e.prototype.toJSON=function(t,e){void 0===e&&(e=!0);var r=p.convertTsToPythonic(this.updatedConfig());return e?JSON.stringify(r):r},e.prototype.call=function(t,e){var r=this;return l.tidy(function(){t=g.toList(t);var n;return n="mask"in e?g.toList(e.mask):g.pyListRepeat(null,t.length),r.runInternalGraph(t,n)[0]})},e.prototype.computeMask=function(t,e){var r=this;return l.tidy(function(){t=g.toList(t);var n;return n=null==e?g.pyListRepeat(null,t.length):g.toList(e),r.runInternalGraph(t,n)[1]})},e.prototype.computeOutputShape=function(t){var e=d.normalizeShapeList(t);if(e.length!==this.inputLayers.length)throw new c.ValueError("Invalid inputShape argument "+t+": "+("model has "+this.inputLayers.length+" tensor inputs."));for(var r={},n=0;n<e.length;n++){var i=this.inputLayers[n],a=e[n],o=i.name+"_0_0";r[o]=a}var s=Object.keys(this.nodesByDepth).map(function(t){return parseInt(t,10)}).sort(g.reverseNumberCompare);if(s.length>1)for(var l=0,u=s;l<u.length;l++)for(var h=u[l],p=this.nodesByDepth[h],f=0,A=p;f<A.length;f++){var C=A[f],i=C.outboundLayer;if(this.inputLayers.map(function(t){return t.id}).indexOf(i.id)===-1){for(var m=[],I=0;I<C.inboundLayers.length;I++){var v=C.inboundLayers[I],y=C.nodeIndices[I],b=C.tensorIndices[I],o=v.name+"_"+y+"_"+b,x=r[o];m.push(x)}for(var w=i.computeOutputShape(g.singletonOrArray(m)),N=d.normalizeShapeList(w),S=i.inboundNodes.indexOf(C),I=0;I<N.length;I++){var o=i.name+"_"+S+"_"+I;r[o]=N[I]}}}for(var T=[],E=[],n=0;n<this.outputLayers.length;n++){var i=this.outputLayers[n],S=this.outputLayersNodeIndices[n],b=this.outputLayersTensorIndices[n],o=i.name+"_"+S+"_"+b;E.push(o)}for(var n=0;n<E.length;n++){var k=E[n];g.assert(k in r),T.push(r[k])}return g.singletonOrArray(T)},e.prototype.runInternalGraph=function(t,e){null==e&&(e=g.pyListRepeat(null,t.length));for(var r={},n=0;n<this.inputs.length;++n){var i=this.inputs[n],a=t[n],o=e[n];r[i.id]=[a,o]}for(var s=Object.keys(this.nodesByDepth).map(function(t){return parseInt(t,10)}).sort(g.reverseNumberCompare),l=0,u=s;l<u.length;l++)for(var h=u[l],p=this.nodesByDepth[h],d=0,f=p;d<f.length;d++){for(var A=f[d],C=A.outboundLayer,m=A.inputTensors,I=A.outputTensors,v=new Array,y=0,b=m;y<b.length;y++){var i=b[y];i.id in r&&v.push(r[i.id])}if(v.length===m.length){var x={},w=void 0,N=void 0,S=void 0,T=void 0;if(null!=A.callArgs&&(x=A.callArgs),1===v.length){var E=v[0],k=E[0],O=E[1];null==x.mask&&(x.mask=O),S=g.toList(C.call(k,x)),T=g.toList(C.computeMask(k,O)),w=[k],N=[O]}else w=v.map(function(t){return t[0]}),N=v.map(function(t){return t[1]}),null==x.mask&&(x.mask=N),S=g.toList(C.call(w,x)),T=g.toList(C.computeMask(w,N));if(C.activityRegularizer)throw new c.NotImplementedError("Model invocation with concrete Tensor value(s) in the presence of activity regularizer(s) is not supported yet.");for(var n=0;n<I.length;++n){var i=I[n],a=S[n],o=T[n];r[i.id]=[a,o]}}}for(var _=[],P=[],M=[],D=0,R=this.outputs;D<R.length;D++){var i=R[D];g.assert(i.id in r,"Could not compute output "+i.name+" : "+i.id);var L=r[i.id],z=L[0],o=L[1];M.push(z.shape),_.push(z),P.push(o)}return[_,P,M]},e.prototype.buildNodeConversionMap=function(t){for(var r,n={},i=0,a=this.layers;i<a.length;i++){var o=a[i];r=o instanceof e?1:0;for(var s=0;s<o.inboundNodes.length;s++){var l=e.nodeKey(o,s);l in this.containerNodes&&(n[l]=r,r+=1)}}return n},e.prototype.getLayer=function(t,e){if(null!=e){if(this.layers.length<=e)throw new c.ValueError("Was asked to retrieve layer at index "+e+", but model only "+("has "+this.layers.length+" layer(s)."));return this.layers[e]}if(null==t)throw new c.ValueError("Provide either a layer name or layer index");for(var r=0,n=this.layers;r<n.length;r++){var i=n[r];if(i.name===t)return i}throw new c.ValueError("No such layer: "+t)},e.prototype.calculateLosses=function(){var t=this;return l.tidy(function(){for(var r=[],n=0,i=t.layers;n<i.length;n++)for(var a=i[n],o=0;o<a.inboundNodes.length;++o){var s=e.nodeKey(a,o);t.containerNodes.has(s)&&r.push.apply(r,a.calculateLosses())}return r})},e.prototype.getConfig=function(){for(var t={name:this.name},r=this.buildNodeConversionMap(this.layers),n=[],i=0,a=this.layers;i<a.length;i++){for(var o=a[i],s=o.getClassName(),l=o.getConfig(),u=[],c=0;c<o.inboundNodes.length;c++){var h=o.inboundNodes[c],g=e.nodeKey(o,c),p={};if(this.containerNodes.has(g)){if(h.callArgs)try{JSON.stringify(h.callArgs),p=h.callArgs}catch(t){console.warn("Layer "+o.name+" was passed non-serializable keyword arguments: "+(h.callArgs+". They will not be included ")+"in the serialized model (and thus will be missing at deserialization time)."),p={}}if(h.inboundLayers.length>0){for(var d=[],f=0;f<h.inboundLayers.length;f++){var A=h.inboundLayers[f],C=h.nodeIndices[f],m=h.tensorIndices[f],I=e.nodeKey(A,C),v=r[I];null!==v&&void 0!==v||(v=0),d.push([A.name,v,m,p])}u.push(d)}}}n.push({name:o.name,className:s,config:l,inboundNodes:u})}t.layers=n;for(var y=[],f=0;f<this.inputLayers.length;f++){var o=this.inputLayers[f],C=this.inputLayersNodeIndices[f],g=e.nodeKey(o,C);if(this.containerNodes.has(g)){var v=r[g];null!==v&&void 0!==v||(v=0);var m=this.inputLayersTensorIndices[f];y.push([o.name,v,m])}}t.inputLayers=y;for(var b=[],f=0;f<this.outputLayers.length;f++){var o=this.outputLayers[f],C=this.outputLayersNodeIndices[f],g=e.nodeKey(o,C);if(this.containerNodes.has(g)){var v=r[g];null!==v&&void 0!==v||(v=0);var m=this.outputLayersTensorIndices[f];b.push([o.name,v,m])}}return t.outputLayers=b,t},e.fromConfig=function(t,e){function r(t,e){t.name in o?o[t.name].push(e):o[t.name]=[e]}function n(t,e){for(var n,i=[],o=0,s=e;o<s.length;o++){var l=s[o],u=l[0],h=l[1],p=l[2];if(3===l.length)n={};else{if(4!==l.length)throw new c.ValueError("Improperly formatted model config for layer "+JSON.stringify(t)+": "+JSON.stringify(l));n=l[3]}if(!(u in a))return void r(t,e);var d=a[u];if(d.inboundNodes.length<=h)return void r(t,e);var f=d.inboundNodes[h];i.push(f.outputTensors[p])}i.length>0&&t.apply(g.singletonOrArray(i),n)}function i(t){var n=t.name,i=h.deserialize(t,null!=e.customObjects?e.customObjects:{});a[n]=i;for(var o=t.inboundNodes,s=0,l=o;s<l.length;s++){var u=l[s];if(!(u instanceof Array))throw new c.ValueError("Corrupted configuration, expected array for nodeData: "+u);r(i,u)}}for(var a={},o={},s=e.name,l=e.layers,u=0,p=l;u<p.length;u++){var d=p[u];i(d)}for(;!g.isObjectEmpty(o);)for(var f=0,A=l;f<A.length;f++){var d=A[f],C=a[d.name];if(C.name in o){for(var m=0,I=o[C.name];m<I.length;m++){var v=I[m];n(C,v)}delete o[C.name]}}for(var y=[],b=[],x=e.inputLayers,w=0,N=x;w<N.length;w++){var d=N[w],S=d[0],T=d[1],E=d[2];g.assert(S in a);var C=a[S],k=C.inboundNodes[T].outputTensors;y.push(k[E])}for(var O=e.outputLayers,_=0,P=O;_<P.length;_++){var d=P[_],S=d[0],T=d[1],E=d[2];g.assert(S in a);var C=a[S],k=C.inboundNodes[T].outputTensors;b.push(k[E])}return new t({inputs:y,outputs:b,name:s})},Object.defineProperty(e.prototype,"stateful",{get:function(){if(this._stateful)throw new c.ValueError("Container instance unexpectedly has _stateful = true. The statefulness of a Container is determined by the Layers it contains. Its _stateful property must remain the default false.");for(var t=0,e=this.layers;t<e.length;t++){var r=e[t];if(r.stateful)return!0}return!1},enumerable:!0,configurable:!0}),e.prototype.resetStates=function(){var t=this;l.tidy(function(){t.layers.forEach(function(t){t.stateful&&t.resetStates()})})},e}(m.Layer);e.Container=I},function(t,e,r){"use strict";function n(t,e){return void 0===e&&(e={}),a.deserializeKerasObject(t,i.serialization.SerializationMap.getMap().classNameMap,e,"layer")}Object.defineProperty(e,"__esModule",{value:!0});var i=r(510),a=r(669);e.deserialize=n},function(t,e,r){"use strict";function n(t,e,r){return("inboundNodes"===t||"outputLayers"===t||"inputLayers"===t)&&0===e&&"string"==typeof r}function i(t,e){if(null===t)return null;if("string"==typeof t)return o.toCamelCase(t);if("number"==typeof t||"boolean"==typeof t)return t;if(t instanceof Array){for(var r=[],a=t.length,s=0;s<a;++s){var l=t[s];n(e,s,l)?r.push(l):r.push(i(l,e))}return r}for(var u={},c=0,h=Object.keys(t);c<h.length;c++){var g=h[c],p=t[g];if("name"===g&&"string"==typeof p)u[g]=p;else{var d=o.toCamelCase(g);u[d]=i(p,d)}}return u}function a(t,e){if(null===t||void 0===t)return null;if("string"==typeof t)return o.toSnakeCase(t);if("number"==typeof t||"boolean"==typeof t)return t;if(t instanceof Array){for(var r=[],i=t.length,s=0;s<i;++s){var l=t[s];n(e,s,l)?r.push(l):r.push(a(l,e))}return r}for(var u={},c=0,h=Object.keys(t);c<h.length;c++){var g=h[c],p=t[g],d=o.toSnakeCase(g);"name"!==g&&"className"!==g||"string"!=typeof p?u[d]=a(p,g):u[d]=p}return u}Object.defineProperty(e,"__esModule",{value:!0});var o=r(669);e.convertPythonicToTs=i,e.convertTsToPythonic=a},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="0.7.5";e.version=r},function(t,e,r){"use strict";function n(t,e){if(null!=t.shape){if(t.shape.length!==e.shape.length)throw new l.ValueError("The rank of feed ("+e.shape.length+") does not match the rank of "+("the key ("+t.shape.length+")."));for(var r=0;r<t.shape.length;++r)if(null!=t.shape[r]&&t.shape[r]!==e.shape[r])throw new l.ValueError("The "+r+"-th dimension of the feed ("+e.shape[r]+") is "+("incompatible with that of the key ("+t.shape[r]+")."))}if(null==t.dtype||t.dtype===e.dtype)return e;try{return s.cast(e,t.dtype)}catch(r){throw new l.ValueError("The dtype of the feed ("+e.dtype+") can not be cast to the dtype "+("of the key '"+t.name+"' ("+t.dtype+")."))}}function i(t,e,r){for(var n=Array.isArray(t),i=n?t:[t],o=[],s=new c(e),l=0,u=i;l<u.length;l++){var h=u[l];o.push(a(h,s,r))}return n?o:o[0]}function a(t,e,r){if(e.hasKey(t))return e.getValue(t);if(t.sourceLayer instanceof u.InputLayer)throw new l.ValueError("Missing a feed value for SymbolicTensor from InputLayer "+("'"+u.InputLayer.name+"'"));for(var n=t.inputs,i=[],s=0,c=n;s<c.length;s++){var h=c[s],g=a(h,e,r);i.push(g)}var p=t.sourceLayer.apply(i,r);Array.isArray(p)||(p=[p]);for(var d=o(t),f=Array.isArray(d)?d:[d],A=0;A<f.length;++A)e.add(f[A],p[A]);return 1===p.length?p[0]:p[t.outputTensorIndex]}function o(t){var e;if(1===t.sourceLayer.inboundNodes.length)e=t.sourceLayer.output;else{for(var r=null,n=0;n<t.sourceLayer.inboundNodes.length;++n)for(var i=0,a=t.sourceLayer.inboundNodes[n].outputTensors;i<a.length;i++){var o=a[i];if(o.id===t.id){r=n;break}}e=t.sourceLayer.getOutputAt(r)}return e}Object.defineProperty(e,"__esModule",{value:!0});var s=r(510),l=r(670),u=r(677),c=function(){function t(e){if(this.id2Value={},e instanceof t)for(var r in e.id2Value)this.id2Value[r]=e.id2Value[r];else{if(null==e)return;for(var n=0,i=e;n<i.length;n++){var a=i[n];this.add(a.key,a.value)}}}return t.prototype.add=function(t,e){if(null!=this.id2Value[t.id])throw new l.ValueError("Duplicate key: name="+t.name+", id="+t.id);return this.id2Value[t.id]=n(t,e),this},t.prototype.addFeed=function(t){this.add(t.key,t.value)},t.prototype.hasKey=function(t){return null!=this.id2Value[t.id]},t.prototype.getValue=function(t){if(null==this.id2Value[t.id])throw new l.ValueError("Nonexistent key: "+JSON.stringify(t));return this.id2Value[t.id]},t}();e.FeedDict=c,e.execute=i},function(t,e,r){"use strict";function n(t,e){return s(this,void 0,void 0,function(){var r,n,i,a,o,s,c,h,g,p;return l(this,function(l){switch(l.label){case 0:return r=t.modelTopology,null!=r.model_config&&(r=r.model_config),n=C.convertPythonicToTs(r),i=f.deserialize(n,e),null==t.weightsManifest?[3,2]:[4,u.io.loadWeights(t.weightsManifest,t.pathPrefix,i.weights.map(function(t){return t.originalName}))];case 1:for(a=l.sent(),o={},s=0,c=i.weights;s<c.length;s++)h=c[s],o[h.originalName]=a[h.originalName];g=null,p=!0,i.loadWeights(o,g,p),l.label=2;case 2:return[2,i]}})})}function i(t,e){return void 0===e&&(e=!0),s(this,void 0,void 0,function(){var r;return l(this,function(n){if("string"==typeof t){if(r=u.io.getLoadHandlers(t),0===r.length)r.push(u.io.browserHTTPRequest(t));else if(r.length>1)throw new d.ValueError("Found more than one ("+r.length+") load handlers for "+("URL '"+t+"'"));t=r[0]}return[2,a(t,void 0,e)]})})}function a(t,e,r){return void 0===r&&(r=!0),s(this,void 0,void 0,function(){var n,i,a,o,s;return l(this,function(l){switch(l.label){case 0:if(null==t.load)throw new d.ValueError("Cannot proceed with model loading because the IOHandler provided does not have the `load` method implemented.");return[4,t.load()];case 1:if(n=l.sent(),i=n.modelTopology,null!=i.model_config&&(i=i.model_config),a=f.deserialize(C.convertPythonicToTs(i),e),null!=n.weightData){if(null==n.weightSpecs)throw new d.ValueError("Model artifacts contains weight data, but not weight specs. Therefore loading of weights cannot proceed.");o=!1,s=!0,a.loadWeights(u.io.decodeWeights(n.weightData,n.weightSpecs),o,s,r)}return[2,a]}})})}var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),s=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))(function(i,a){function o(t){try{l(n.next(t))}catch(t){a(t)}}function s(t){try{l(n.throw(t))}catch(t){a(t)}}function l(t){t.done?i(t.value):new r(function(e){e(t.value)}).then(o,s)}l((n=n.apply(t,e||[])).next())})},l=this&&this.__generator||function(t,e){function r(t){return function(e){return n([t,e])}}function n(r){if(i)throw new TypeError("Generator is already executing.");for(;l;)try{if(i=1,a&&(o=a[2&r[0]?"return":r[0]?"throw":"next"])&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[0,o.value]),r[0]){case 0:case 1:o=r;break;case 4:return l.label++,{value:r[1],done:!1};case 5:l.label++,a=r[1],r=[0];continue;case 7:r=l.ops.pop(),l.trys.pop();continue;default:if(o=l.trys,!(o=o.length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){l=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){l.label=r[1];break}if(6===r[0]&&l.label<o[1]){l.label=o[1],o=r;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(r);break}o[2]&&l.ops.pop(),l.trys.pop();continue}r=e.call(t,l)}catch(t){r=[6,t],a=0}finally{i=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}var i,a,o,s,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(e,"__esModule",{value:!0});var u=r(510),c=r(668),h=r(677),g=r(678),p=r(683),d=r(670),f=r(691),A=r(669),C=r(692),m=r(679);e.modelFromJSON=n,e.loadModelInternal=i,e.loadModelFromIOHandler=a;var I=function(t){function e(e){var r=t.call(this,{inputs:[],outputs:[]})||this;if(e=e||{},r.trainable=!0,r._updatable=!0,r.built=!1,r.name=null!=e.name?e.name:c.getUid("sequential_"),null!=e.layers)for(var n=0,i=e.layers;n<i.length;n++){var a=i[n];r.add(a)}return r}return o(e,t),e.prototype.add=function(t){var r,n=t instanceof e||t instanceof p.Model;if(n){if(r=t,1!==r.outputs.length)throw new d.ValueError("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");if(1!==r.inputs.length)throw new d.ValueError("All layers in a Sequential model should have a single input tensor. For multi-input layers, use the functional API.")}if(0===this.outputs.length){if(0===t.inboundNodes.length){if(null==t.batchInputShape)throw new d.ValueError("The first layer in a Sequential model must get an `inputShape` or `batchInputShape` argument.");var i=h.Input({batchShape:t.batchInputShape,dtype:t.dtype,name:t.name+"_input"});t.apply(i)}if(n)this.outputs=r.outputs,this.inputs=r.inputs;else{if(1!==t.inboundNodes.length)throw new d.ValueError("A layer added to a Sequential model must not already be "+("connected somewhere else. Model received layer "+t.name+" ")+("which has "+t.inboundNodes.length+" pre-existing inbound ")+"connections.");if(1!==t.inboundNodes[0].outputTensors.length)throw new d.ValueError("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.outputs=[t.inboundNodes[0].outputTensors[0]],this.inputs=g.getSourceInputs(this.outputs[0])}this.inboundNodes=[],new g.Node({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:this.inputs,outputTensors:this.outputs,
inputMasks:A.pyListRepeat(null,this.inputs.length),outputMasks:[null],inputShapes:this.inputs.map(function(t){return t.shape}),outputShapes:this.outputs[0].shape})}else{var a=t.apply(this.outputs[0]);if(Array.isArray(a))throw new TypeError("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.outputs=[a],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}this.layers.push(t),this.built=!1},e.prototype.pop=function(){if(0===this.layers.length)throw new TypeError("There are no layers in the model.");if(this.layers.pop(),0===this.layers.length)this.outputs=[],this.inboundNodes=[],this.outboundNodes=[];else{var t=this.layers.length-1;this.layers[t].outboundNodes=[],this.outputs=[this.layers[t].output],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}},e.prototype.call=function(t,e){return null==this.model&&this.build(),this.model.call(t,e)},e.prototype.build=function(t){if(m.getExactlyOneShape(t),0===this.inputs.length||0===this.outputs.length)throw new TypeError("Sequential model cannot be built: model is empty. Add some layers first.");this.model=new p.Model({inputs:this.inputs,outputs:this.outputs[0],name:this.name+"_model"}),this.model.trainable=this.trainable,this.model.updatable=this.updatable,this.supportsMasking=this.model.supportsMasking,this.inputLayers=this.model.inputLayers,this.inputLayersNodeIndices=this.model.inputLayersNodeIndices,this.inputLayersTensorIndices=this.model.inputLayersTensorIndices,this.outputLayers=this.model.outputLayers,this.outputLayersNodeIndices=this.model.outputLayersNodeIndices,this.outputLayersTensorIndices=this.model.outputLayersTensorIndices,this.nodesByDepth=this.model.nodesByDepth,this.containerNodes=this.model.containerNodes,this.outputNames=this.model.outputNames,this.inputNames=this.model.inputNames,this.built=!0},e.prototype.countParams=function(){return this.built||this.build(),t.prototype.countParams.call(this)},e.prototype.summary=function(e,r,n){void 0===n&&(n=console.log),this.built||this.build(),t.prototype.summary.call(this,e,r,n)},e.prototype.setWeights=function(t){null==this.model&&this.build(),this.model.setWeights(t)},Object.defineProperty(e.prototype,"updatable",{get:function(){return this._updatable},set:function(t){this.built&&(this.model.updatable=t),this._updatable=t},enumerable:!0,configurable:!0}),e.prototype.evaluate=function(t,e,r){if(void 0===r&&(r={}),!this.built)throw new d.RuntimeError("The model needs to be compiled before being used.");return this.model.evaluate(t,e,r)},e.prototype.predict=function(t,e){return void 0===e&&(e={}),null==this.model&&this.build(),this.model.predict(t,e)},e.prototype.predictOnBatch=function(t){return null==this.model&&this.build(),this.model.predictOnBatch(t)},e.prototype.compile=function(t){this.build(),this.model.compile(t),this.optimizer=this.model.optimizer,this.loss=this.model.loss,this.metrics=this.model.metrics,this.metricsTensors=this.model.metricsTensors,this.metricsNames=this.model.metricsNames},e.prototype.fit=function(t,e,r){return void 0===r&&(r={}),s(this,void 0,void 0,function(){return l(this,function(n){if(!this.built)throw new d.RuntimeError("The model needs to be compiled before being used.");return[2,this.model.fit(t,e,r)]})})},e.fromConfig=function(t,r){var n=new t({});if(!(n instanceof e))throw new d.ValueError("Sequential.fromConfig called on non-Sequential input: "+n);if(!(r instanceof Array))throw new d.ValueError("Sequential.fromConfig called without an array of configs");if(null==r[0].className||"Merge"===r[0].className)throw new d.ValueError("Legacy serialization format not supported yet.");for(var i=0,a=r;i<a.length;i++){var o=a[i],s=f.deserialize(o);n.add(s)}return n},Object.defineProperty(e.prototype,"stopTraining",{set:function(t){this.model.stopTraining=t},enumerable:!0,configurable:!0}),e.prototype.getConfig=function(){for(var t=[],e=0,r=this.layers;e<r.length;e++){var n=r[e];t.push({className:n.getClassName(),config:n.getConfig()})}return t},e.className="Sequential",e}(p.Model);e.Sequential=I,u.serialization.SerializationMap.register(I)},function(t,e,r){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=r(510),a=r(697),o=r(673),s=r(678),l=r(668),u=r(670),c=r(679),h=function(t){function e(e){var r=t.call(this,null==e?{}:e)||this;return r.supportsMasking=!0,null!=e&&(r.maxValue=e.maxValue),r}return n(e,t),e.prototype.call=function(t,e){t=c.getExactlyOneTensor(t);var r=i.relu(t);return null!=this.maxValue&&(r=i.clipByValue(r,0,this.maxValue)),r},e.prototype.computeOutputShape=function(t){return t},e.prototype.getConfig=function(){var e={maxValue:this.maxValue},r=t.prototype.getConfig.call(this);return Object.assign(e,r),e},e.className="ReLU",e}(s.Layer);e.ReLU=h,i.serialization.SerializationMap.register(h);var g=function(t){function e(e){var r=t.call(this,null==e?{}:e)||this;return r.DEFAULT_ALPHA=.3,null==e&&(e={}),r.alpha=null==e.alpha?r.DEFAULT_ALPHA:e.alpha,r}return n(e,t),e.prototype.call=function(t,e){var r=c.getExactlyOneTensor(t);return i.leakyRelu(r,this.alpha)},e.prototype.computeOutputShape=function(t){return t},e.prototype.getConfig=function(){var e={alpha:this.alpha},r=t.prototype.getConfig.call(this);return Object.assign(e,r),e},e.className="LeakyReLU",e}(s.Layer);e.LeakyReLU=g,i.serialization.SerializationMap.register(g);var p=function(t){function e(e){var r=t.call(this,null==e?{}:e)||this;if(r.DEFAULT_ALPHA=1,null==e&&(e={}),null!=e.alpha&&e.alpha!==r.DEFAULT_ALPHA)throw new u.NotImplementedError("Non-default alpha value ("+e.alpha+") is not supported by the ELU layer yet.");return r.alpha=null==e.alpha?r.DEFAULT_ALPHA:e.alpha,r}return n(e,t),e.prototype.call=function(t,e){var r=c.getExactlyOneTensor(t);return i.elu(r)},e.prototype.computeOutputShape=function(t){return t},e.prototype.getConfig=function(){var e={alpha:this.alpha},r=t.prototype.getConfig.call(this);return Object.assign(e,r),e},e.className="ELU",e}(s.Layer);e.ELU=p,i.serialization.SerializationMap.register(p);var d=function(t){function e(e){var r=t.call(this,null==e?{}:e)||this;return r.DEFAULT_THETA=1,null==e&&(e={}),r.theta=null==e.theta?r.DEFAULT_THETA:e.theta,r.thetaTensor=l.getScalar(r.theta),r}return n(e,t),e.prototype.call=function(t,e){var r=c.getExactlyOneTensor(t);return r.mul(o.cast(r.greater(this.thetaTensor),"float32"))},e.prototype.computeOutputShape=function(t){return t},e.prototype.getConfig=function(){var e={theta:this.theta},r=t.prototype.getConfig.call(this);return Object.assign(e,r),e},e.className="ThresholdedReLU",e}(s.Layer);e.ThresholdedReLU=d,i.serialization.SerializationMap.register(d);var f=function(t){function e(e){var r=t.call(this,null==e?{}:e)||this;return r.DEFAULT_AXIS=1,null==e&&(e={}),r.softmax=(new a.Softmax).apply,r.axis=null==e.axis?r.DEFAULT_AXIS:e.axis,r}return n(e,t),e.prototype.call=function(t,e){var r=c.getExactlyOneTensor(t);return this.softmax(r,this.axis)},e.prototype.computeOutputShape=function(t){return t},e.prototype.getConfig=function(){var e={axis:this.axis},r=t.prototype.getConfig.call(this);return Object.assign(e,r),e},e.className="Softmax",e}(s.Layer);e.Softmax=f,i.serialization.SerializationMap.register(f)},function(t,e,r){"use strict";function n(t){return t.getClassName()}function i(t,e){return void 0===e&&(e={}),h.deserializeKerasObject(t,l.serialization.SerializationMap.getMap().classNameMap,e,"activation")}function a(t){if(null==t){var e={className:"linear",config:{}};return i(e)}if("string"==typeof t){var e={className:t,config:{}};return i(e)}return t instanceof g?t:i(t)}var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var s=r(510),l=r(510),u=r(673),c=r(668),h=r(669),g=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.getConfig=function(){return{}},e}(l.serialization.Serializable);e.Activation=g;var p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.apply=function(t,e){return void 0===e&&(e=1),u.elu(t,e)},e.className="elu",e}(g);e.Elu=p,l.serialization.SerializationMap.register(p);var d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.apply=function(t){return s.selu(t)},e.className="selu",e}(g);e.Selu=d,l.serialization.SerializationMap.register(d);var f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.apply=function(t){return s.relu(t)},e.className="relu",e}(g);e.Relu=f,l.serialization.SerializationMap.register(f);var A=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.apply=function(t){return l.tidy(function(){return s.minimum(c.getScalar(6),s.relu(t))})},e.className="relu6",e}(g);e.Relu6=A,l.serialization.SerializationMap.register(A);var C=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.apply=function(t){return t},e.className="linear",e}(g);e.Linear=C,l.serialization.SerializationMap.register(C);var m=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.apply=function(t){return s.sigmoid(t)},e.className="sigmoid",e}(g);e.Sigmoid=m,l.serialization.SerializationMap.register(m);var I=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.apply=function(t){return u.hardSigmoid(t)},e.className="hardSigmoid",e}(g);e.HardSigmoid=I,l.serialization.SerializationMap.register(I);var v=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.apply=function(t){return s.softplus(t)},e.className="softplus",e}(g);e.Softplus=v,l.serialization.SerializationMap.register(v);var y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.apply=function(t){return u.softsign(t)},e.className="softsign",e}(g);e.Softsign=y,l.serialization.SerializationMap.register(y);var b=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.apply=function(t){return s.tanh(t)},e.className="tanh",e}(g);e.Tanh=b,l.serialization.SerializationMap.register(b);var x=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.apply=function(t,e){return void 0===e&&(e=-1),s.softmax(t,e)},e.className="softmax",e}(g);e.Softmax=x,l.serialization.SerializationMap.register(x),e.serializeActivation=n,e.deserializeActivation=i,e.getActivation=a},function(t,e,r){"use strict";function n(t,e){return c.tidy(function(){return d.checkDataFormat(e),"channelsFirst"===e?u.transpose(t,[0,2,3,1]):t})}function i(t,e,r,n,i,a,o){return void 0===n&&(n=1),void 0===i&&(i="valid"),void 0===o&&(o=1),c.tidy(function(){if(null==a&&(a=g.imageDataFormat()),d.checkDataFormat(a),3!==t.shape.length)throw new C.ValueError("The input of a conv1dWithBias operation should be 3, but is "+(t.shape.length+" instead."));if(3!==e.shape.length)throw new C.ValueError("The kernel for a conv1dWithBias operation should be 3, but is "+(e.shape.length+" instead"));if(null!=r&&1!==r.shape.length)throw new C.ValueError("The bias for a conv1dWithBias operation should be 1, but is "+(e.shape.length+" instead"));if("channelsFirst"===a&&(t=u.transpose(t,[0,2,1])),"causal"===i)throw new C.NotImplementedError("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");var s=u.conv1d(t,e,n,"same"===i?"same":"valid","NWC",o);return null!=r&&(s=p.biasAdd(s,r)),s})}function a(t,e,r,n,a,o){return void 0===r&&(r=1),void 0===n&&(n="valid"),void 0===o&&(o=1),c.tidy(function(){return d.checkDataFormat(a),i(t,e,null,r,n,a,o)})}function o(t,e,r,n,i,a){return void 0===r&&(r=[1,1]),void 0===n&&(n="valid"),c.tidy(function(){return d.checkDataFormat(i),s(t,e,null,r,n,i,a)})}function s(t,e,r,i,a,o,s){return void 0===i&&(i=[1,1]),void 0===a&&(a="valid"),c.tidy(function(){if(null==o&&(o=g.imageDataFormat()),d.checkDataFormat(o),3!==t.rank&&4!==t.rank)throw new C.ValueError("conv2dWithBias expects input to be of rank 3 or 4, but received "+(t.rank+"."));if(3!==e.rank&&4!==e.rank)throw new C.ValueError("conv2dWithBias expects kernel to be of rank 3 or 4, but received "+(t.rank+"."));var l=n(t,o);if("causal"===a)throw new C.NotImplementedError("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");return l=u.conv2d(l,e,i,"same"===a?"same":"valid","NHWC",s),null!=r&&(l=p.biasAdd(l,r)),"channelsFirst"===o&&(l=u.transpose(l,[0,3,1,2])),l})}var l=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var u=r(510),c=r(510),h=r(697),g=r(667),p=r(673),d=r(674),f=r(666),A=r(678),C=r(670),m=r(672),I=r(699),v=r(700),y=r(669),b=r(679);e.preprocessConv2DInput=n,e.conv1dWithBias=i,e.conv1d=a,e.conv2d=o,e.conv2dWithBias=s;var x=function(t){function e(r,n){var i=t.call(this,n)||this;if(i.bias=null,i.DEFAULT_KERNEL_INITIALIZER="glorotNormal",i.DEFAULT_BIAS_INITIALIZER="zeros",e.verifyConfig(n),i.rank=r,1!==i.rank&&2!==i.rank)throw new C.NotImplementedError("Convolution layer for rank other than 1 or 2 ("+i.rank+") is not implemented yet.");if(i.kernelSize=v.normalizeArray(n.kernelSize,r,"kernelSize"),i.strides=v.normalizeArray(null==n.strides?1:n.strides,r,"strides"),i.padding=null==n.padding?"valid":n.padding,d.checkPaddingMode(i.padding),i.dataFormat=null==n.dataFormat?"channelsLast":n.dataFormat,d.checkDataFormat(i.dataFormat),i.activation=h.getActivation(n.activation),i.useBias=null==n.useBias||n.useBias,i.biasInitializer=m.getInitializer(n.biasInitializer||i.DEFAULT_BIAS_INITIALIZER),i.biasConstraint=f.getConstraint(n.biasConstraint),i.biasRegularizer=I.getRegularizer(n.biasRegularizer),i.activityRegularizer=I.getRegularizer(n.activityRegularizer),i.dilationRate=v.normalizeArray(null==n.dilationRate?1:n.dilationRate,r,"dilationRate"),1===i.rank&&Array.isArray(i.dilationRate)&&1!==i.dilationRate.length)throw new C.ValueError("dilationRate must be a number or an array of a single number for 1D convolution, but received "+JSON.stringify(i.dilationRate));if(2===i.rank)if("number"==typeof i.dilationRate)i.dilationRate=[i.dilationRate,i.dilationRate];else if(2!==i.dilationRate.length)throw new C.ValueError("dilationRate must be a number or array of two numbers for 2D convolution, but received "+JSON.stringify(i.dilationRate));return i}return l(e,t),e.verifyConfig=function(t){if(y.assert("kernelSize"in t,"required key 'kernelSize' not in config"),"number"!=typeof t.kernelSize&&!y.checkArrayTypeAndLength(t.kernelSize,"number",1,2))throw new C.ValueError("BaseConv expects config.kernelSize to be number or number[] with "+("length 1 or 2, but received "+JSON.stringify(t.kernelSize)+"."))},e.prototype.getConfig=function(){var e={kernelSize:this.kernelSize,strides:this.strides,padding:this.padding,dataFormat:this.dataFormat,dilationRate:this.dilationRate,activation:h.serializeActivation(this.activation),useBias:this.useBias,biasInitializer:m.serializeInitializer(this.biasInitializer),biasRegularizer:I.serializeRegularizer(this.biasRegularizer),activityRegularizer:I.serializeRegularizer(this.activityRegularizer),biasConstraint:f.serializeConstraint(this.biasConstraint)},r=t.prototype.getConfig.call(this);return Object.assign(e,r),e},e}(A.Layer);e.BaseConv=x;var w=function(t){function e(r,n){var i=t.call(this,r,n)||this;return i.kernel=null,e.verifyConfig(n),i.filters=n.filters,i.kernelInitializer=m.getInitializer(n.kernelInitializer||i.DEFAULT_KERNEL_INITIALIZER),i.kernelConstraint=f.getConstraint(n.kernelConstraint),i.kernelRegularizer=I.getRegularizer(n.kernelRegularizer),i}return l(e,t),e.prototype.build=function(t){t=b.getExactlyOneShape(t);var e="channelsFirst"===this.dataFormat?1:t.length-1;if(null==t[e])throw new C.ValueError("The channel dimension of the input should be defined. Found "+t[e]);var r=t[e],n=this.kernelSize.concat([r,this.filters]);this.kernel=this.addWeight("kernel",n,null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[{ndim:this.rank+2,axes:(i={},i[e]=r,i)}],this.built=!0;var i},e.prototype.call=function(t,e){var r=this;return c.tidy(function(){t=b.getExactlyOneTensor(t);var e,n=null==r.bias?null:r.bias.read();if(1===r.rank)e=i(t,r.kernel.read(),n,r.strides[0],r.padding,r.dataFormat,r.dilationRate[0]);else if(2===r.rank)e=s(t,r.kernel.read(),n,r.strides,r.padding,r.dataFormat,r.dilationRate);else if(3===r.rank)throw new C.NotImplementedError("3D convolution is not implemented yet.");return null!=r.activation&&(e=r.activation.apply(e)),e})},e.prototype.computeOutputShape=function(t){t=b.getExactlyOneShape(t);for(var e=[],r="channelsLast"===this.dataFormat?t.slice(1,t.length-1):t.slice(2),n=0;n<r.length;++n){var i=v.convOutputLength(r[n],this.kernelSize[n],this.padding,this.strides[n],"number"==typeof this.dilationRate?this.dilationRate:this.dilationRate[n]);e.push(i)}var a=[t[0]];return"channelsLast"===this.dataFormat?(a=a.concat(e),a.push(this.filters)):(a.push(this.filters),a=a.concat(e)),a},e.prototype.getConfig=function(){var e={filters:this.filters,kernelInitializer:m.serializeInitializer(this.kernelInitializer),kernelRegularizer:I.serializeRegularizer(this.kernelRegularizer),kernelConstraint:f.serializeConstraint(this.kernelConstraint)},r=t.prototype.getConfig.call(this);return Object.assign(e,r),e},e.verifyConfig=function(t){if(!("filters"in t)||"number"!=typeof t.filters||t.filters<1)throw new C.ValueError("Convolution layer expected config.filters to be a 'number' > 0 but got "+JSON.stringify(t.filters))},e}(x);e.Conv=w;var N=function(t){function e(r){var n=t.call(this,2,r)||this;return e.verifyConfig(r),n}return l(e,t),e.prototype.getConfig=function(){var e=t.prototype.getConfig.call(this);return delete e.rank,e},e.verifyConfig=function(t){if("number"!=typeof t.kernelSize&&!y.checkArrayTypeAndLength(t.kernelSize,"number",1,2))throw new C.ValueError("Conv2D expects config.kernelSize to be number or number[] with "+("length 1 or 2, but received "+JSON.stringify(t.kernelSize)+"."))},e.className="Conv2D",e}(w);e.Conv2D=N,c.serialization.SerializationMap.register(N);var S=function(t){function e(e){var r=t.call(this,e)||this;if(r.inputSpec=[new A.InputSpec({ndim:4})],"same"!==r.padding&&"valid"!==r.padding)throw new C.ValueError("Conv2DTranspose currently supports only padding modes 'same' and 'valid', but received padding mode "+r.padding);return r}return l(e,t),e.prototype.build=function(t){if(t=b.getExactlyOneShape(t),4!==t.length)throw new C.ValueError("Input should have rank 4; Received input shape: "+JSON.stringify(t));var e="channelsFirst"===this.dataFormat?1:t.length-1;if(null==t[e])throw new C.ValueError("The channel dimension of the inputs should be defined. Found `None`.");var r=t[e],n=this.kernelSize.concat([this.filters,r]);this.kernel=this.addWeight("kernel",n,"float32",this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[new A.InputSpec({ndim:4,axes:(i={},i[e]=r,i)})],this.built=!0;var i},e.prototype.call=function(t,e){var r=this;return u.tidy(function(){var e=b.getExactlyOneTensor(t);if(4!==e.shape.length)throw new C.ValueError("Conv2DTranspose.call() expects input tensor to be rank-4, but received a tensor of rank-"+e.shape.length);var n,i,a=e.shape,o=a[0];"channelsFirst"===r.dataFormat?(n=2,i=3):(n=1,i=2);var s=a[n],l=a[i],c=r.kernelSize[0],h=r.kernelSize[1],g=r.strides[0],d=r.strides[1],f=v.deconvLength(s,g,c,r.padding),A=v.deconvLength(l,d,h,r.padding),m=[o,f,A,r.filters];"channelsLast"!==r.dataFormat&&(e=u.transpose(e,[0,2,3,1]));var I=u.conv2dTranspose(e,r.kernel.read(),m,r.strides,r.padding);return"channelsLast"!==r.dataFormat&&(I=u.transpose(I,[0,3,1,2])),null!=r.bias&&(I=p.biasAdd(I,r.bias.read(),r.dataFormat)),null!=r.activation&&(I=r.activation.apply(I)),I})},e.prototype.computeOutputShape=function(t){t=b.getExactlyOneShape(t);var e,r,n,i=t.slice();"channelsFirst"===this.dataFormat?(e=1,r=2,n=3):(e=3,r=1,n=2);var a=this.kernelSize[0],o=this.kernelSize[1],s=this.strides[0],l=this.strides[1];return i[e]=this.filters,i[r]=v.deconvLength(i[r],s,a,this.padding),i[n]=v.deconvLength(i[n],l,o,this.padding),i},e.prototype.getConfig=function(){var e=t.prototype.getConfig.call(this);return delete e.dilationRate,e},e.className="Conv2DTranspose",e}(N);e.Conv2DTranspose=S,c.serialization.SerializationMap.register(S);var T=function(t){function e(e,r){var n=t.call(this,e,r)||this;if(n.DEFAULT_DEPTHWISE_INITIALIZER="glorotUniform",n.DEFAULT_POINTWISE_INITIALIZER="glorotUniform",n.depthwiseKernel=null,n.pointwiseKernel=null,null==r.filters)throw new C.ValueError("The `filters` configuration field is required by SeparableConv, but is unspecified.");if(null!=r.kernelInitializer||null!=r.kernelRegularizer||null!=r.kernelConstraint)throw new C.ValueError("Fields kernelInitializer, kernelRegularizer and kernelConstraint are invalid for SeparableConv2D. Use depthwiseInitializer, depthwiseRegularizer, depthwiseConstraint, pointwiseInitializer, pointwiseRegularizer and pointwiseConstraint instead.");if(null!=r.padding&&"same"!==r.padding&&"valid"!==r.padding)throw new C.ValueError("SeparableConv"+n.rank+"D supports only padding modes: 'same' and 'valid', but received "+JSON.stringify(r.padding));return n.depthMultiplier=null==r.depthMultiplier?1:r.depthMultiplier,n.depthwiseInitializer=m.getInitializer(r.depthwiseInitializer||n.DEFAULT_DEPTHWISE_INITIALIZER),n.depthwiseRegularizer=I.getRegularizer(r.depthwiseRegularizer),n.depthwiseConstraint=f.getConstraint(r.depthwiseConstraint),n.pointwiseInitializer=m.getInitializer(r.depthwiseInitializer||n.DEFAULT_POINTWISE_INITIALIZER),n.pointwiseRegularizer=I.getRegularizer(r.pointwiseRegularizer),n.pointwiseConstraint=f.getConstraint(r.pointwiseConstraint),n}return l(e,t),e.prototype.build=function(t){if(t=b.getExactlyOneShape(t),t.length<this.rank+2)throw new C.ValueError("Inputs to SeparableConv"+this.rank+"D should have rank "+(this.rank+2+", but received input shape: ")+(""+JSON.stringify(t)));var e="channelsFirst"===this.dataFormat?1:t.length-1;if(null==t[e]||t[e]<0)throw new C.ValueError("The channel dimension of the inputs should be defined, but found "+JSON.stringify(t[e]));for(var r=t[e],n=this.kernelSize.concat([r,this.depthMultiplier]),i=[],a=0;a<this.rank;++a)i.push(1);i.push(r*this.depthMultiplier,this.filters);var o=!0;this.depthwiseKernel=this.addWeight("depthwise_kernel",n,"float32",this.depthwiseInitializer,this.depthwiseRegularizer,o,this.depthwiseConstraint),this.pointwiseKernel=this.addWeight("pointwise_kernel",i,"float32",this.pointwiseInitializer,this.pointwiseRegularizer,o,this.pointwiseConstraint),this.useBias?this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,o,this.biasConstraint):this.bias=null,this.inputSpec=[new A.InputSpec({ndim:this.rank+2,axes:(s={},s[e]=r,s)})],this.built=!0;var s},e.prototype.call=function(t,e){var r=this;return c.tidy(function(){t=b.getExactlyOneTensor(t);var e;if(1===r.rank)throw new C.NotImplementedError("1D separable convolution is not implemented yet.");return 2===r.rank&&("channelsFirst"===r.dataFormat&&(t=u.transpose(t,[0,2,3,1])),e=u.separableConv2d(t,r.depthwiseKernel.read(),r.pointwiseKernel.read(),r.strides,r.padding,r.dilationRate,"NHWC")),r.useBias&&(e=p.biasAdd(e,r.bias.read(),r.dataFormat)),null!=r.activation&&(e=r.activation.apply(e)),"channelsFirst"===r.dataFormat&&(e=u.transpose(e,[0,3,1,2])),e})},e.prototype.getConfig=function(){var e=t.prototype.getConfig.call(this);return delete e.rank,delete e.kernelInitializer,delete e.kernelRegularizer,delete e.kernelConstraint,e.depthwiseInitializer=m.serializeInitializer(this.depthwiseInitializer),e.pointwiseInitializer=m.serializeInitializer(this.pointwiseInitializer),e.depthwiseRegularizer=I.serializeRegularizer(this.depthwiseRegularizer),e.pointwiseRegularizer=I.serializeRegularizer(this.pointwiseRegularizer),e.depthwiseConstraint=f.serializeConstraint(this.depthwiseConstraint),e.pointwiseConstraint=f.serializeConstraint(this.pointwiseConstraint),e},e.className="SeparableConv",e}(w);e.SeparableConv=T;var E=function(t){function e(e){return t.call(this,2,e)||this}return l(e,t),e.className="SeparableConv2D",e}(T);e.SeparableConv2D=E,c.serialization.SerializationMap.register(E);var k=function(t){function e(r){var n=t.call(this,1,r)||this;return e.verifyConfig(r),n.inputSpec=[{ndim:3}],n}return l(e,t),e.prototype.getConfig=function(){var e=t.prototype.getConfig.call(this);return delete e.rank,delete e.dataFormat,e},e.verifyConfig=function(t){if("number"!=typeof t.kernelSize&&!y.checkArrayTypeAndLength(t.kernelSize,"number",1,1))throw new C.ValueError("Conv1D expects config.kernelSize to be number or number[] with "+("length 1, but received "+JSON.stringify(t.kernelSize)+"."))},e.className="Conv1D",e}(w);e.Conv1D=k,c.serialization.SerializationMap.register(k);var O=function(t){function e(e){var r=t.call(this,e)||this;return"number"==typeof e.cropping?r.cropping=[[e.cropping,e.cropping],[e.cropping,e.cropping]]:"number"==typeof e.cropping[0]?r.cropping=[[e.cropping[0],e.cropping[0]],[e.cropping[1],e.cropping[1]]]:r.cropping=e.cropping,r.dataFormat=void 0===e.dataFormat?"channelsLast":e.dataFormat,r.inputSpec=[{ndim:4}],r}return l(e,t),e.prototype.computeOutputShape=function(t){return"channelsFirst"===this.dataFormat?[t[0],t[1],t[2]-this.cropping[0][0]-this.cropping[0][1],t[2]-this.cropping[1][0]-this.cropping[1][1]]:[t[0],t[1]-this.cropping[0][0]-this.cropping[0][1],t[2]-this.cropping[1][0]-this.cropping[1][1],t[3]]},e.prototype.call=function(t,e){var r=this;return c.tidy(function(){if(t=b.getExactlyOneTensor(t),"channelsLast"===r.dataFormat){var e=p.sliceAlongAxis(t,r.cropping[0][0],t.shape[1]-r.cropping[0][0]-r.cropping[0][1],2);return p.sliceAlongAxis(e,r.cropping[1][0],t.shape[2]-r.cropping[1][1]-r.cropping[1][0],3)}var e=p.sliceAlongAxis(t,r.cropping[0][0],t.shape[2]-r.cropping[0][0]-r.cropping[0][1],3);return p.sliceAlongAxis(e,r.cropping[1][0],t.shape[3]-r.cropping[1][1]-r.cropping[1][0],4)})},e.prototype.getConfig=function(){var e={cropping:this.cropping,dataFormat:this.dataFormat},r=t.prototype.getConfig.call(this);return Object.assign(e,r),e},e.className="Cropping2D",e}(A.Layer);e.Cropping2D=O,c.serialization.SerializationMap.register(O);var _=function(t){function e(e){var r=t.call(this,e)||this;return r.DEFAULT_SIZE=[2,2],r.inputSpec=[{ndim:4}],r.size=null==e.size?r.DEFAULT_SIZE:e.size,r.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,r}return l(e,t),e.prototype.computeOutputShape=function(t){if("channelsFirst"===this.dataFormat){var e=null==t[2]?null:this.size[0]*t[2],r=null==t[3]?null:this.size[1]*t[3];return[t[0],t[1],e,r]}var e=null==t[1]?null:this.size[0]*t[1],r=null==t[2]?null:this.size[1]*t[2];return[t[0],e,r,t[3]]},e.prototype.call=function(t,e){var r=this;return u.tidy(function(){var e=b.getExactlyOneTensor(t),n=e.shape;if("channelsFirst"===r.dataFormat){e=u.transpose(e,[0,2,3,1]);var i=r.size[0]*n[2],a=r.size[1]*n[3],o=e.resizeNearestNeighbor([i,a]);return u.transpose(o,[0,3,1,2])}var i=r.size[0]*n[1],a=r.size[1]*n[2];return e.resizeNearestNeighbor([i,a])})},e.prototype.getConfig=function(){var e={size:this.size,dataFormat:this.dataFormat},r=t.prototype.getConfig.call(this);return Object.assign(e,r),e},e.className="UpSampling2D",e}(A.Layer);e.UpSampling2D=_,c.serialization.SerializationMap.register(_)},function(t,e,r){"use strict";function n(t){return new f({l1:null!=t?t.l1:null,l2:0})}function i(t){return new f({l2:null!=t?t.l2:null,l1:0})}function a(t){return p.serializeKerasObject(t)}function o(t,e){return void 0===e&&(e={}),p.deserializeKerasObject(t,c.serialization.SerializationMap.getMap().classNameMap,e,"regularizer")}function s(t){if(null==t)return null;if("string"==typeof t){var r=t in e.REGULARIZER_IDENTIFIER_REGISTRY_SYMBOL_MAP?e.REGULARIZER_IDENTIFIER_REGISTRY_SYMBOL_MAP[t]:t,n={className:r,config:{}};return o(n)}return t instanceof d?t:o(t)}var l=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var u=r(510),c=r(510),h=r(668),g=r(673),p=r(669),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return l(e,t),e}(c.serialization.Serializable);e.Regularizer=d;var f=function(t){function e(e){var r=t.call(this)||this,n=null==e||null==e.l1?.01:e.l1,i=null==e||null==e.l2?.01:e.l2;return r.hasL1=0!==n,r.hasL2=0!==i,r.l1=h.getScalar(n),r.l2=h.getScalar(i),r}return l(e,t),e.prototype.apply=function(t){var e=this;return c.tidy(function(){var r=c.zeros([1]);return e.hasL1&&(r=c.add(r,c.sum(u.mul(e.l1,c.abs(t))))),e.hasL2&&(r=c.add(r,c.sum(u.mul(e.l2,g.square(t))))),r.asScalar()})},e.prototype.getConfig=function(){return{l1:this.l1.dataSync()[0],l2:this.l2.dataSync()[0]}},e.fromConfig=function(t,e){return new t({l1:e.l1,l2:e.l2})},e.className="L1L2",e}(d);e.L1L2=f,c.serialization.SerializationMap.register(f),e.l1=n,e.l2=i,e.REGULARIZER_IDENTIFIER_REGISTRY_SYMBOL_MAP={l1l2:"L1L2"},e.serializeRegularizer=a,e.deserializeRegularizer=o,e.getRegularizer=s},function(t,e,r){"use strict";function n(t,e,r){if("number"==typeof t)return s.pyListRepeat(t,e);if(t.length!==e)throw new o.ValueError("The "+r+" argument must be a tuple of "+e+" integers. Received: "+(t.length+" elements."));for(var n=0;n<e;++n){var i=t[n];if(!l.isInteger(i))throw new o.ValueError("The "+r+" argument must be a tuple of "+e+" integers. Received: "+(JSON.stringify(t)+" including a non-integer number ")+(""+i))}return t}function i(t,e,r,n,i){if(void 0===i&&(i=1),null==t)return t;var a,o=e+(e-1)*(i-1);return a="same"===r?t:t-o+1,Math.floor((a+n-1)/n)}function a(t,e,r,n){if(null==t)return null;if("valid"===n)t=t*e+l.max([r-e,0]);else{if("same"!==n)throw new o.ValueError("Unsupport padding mode: "+n+".");t*=e}return t}Object.defineProperty(e,"__esModule",{value:!0});var o=r(670),s=r(669),l=r(675);e.normalizeArray=n,e.convOutputLength=i,e.deconvLength=a},function(t,e,r){"use strict";function n(t,e,r,n,i,l){return void 0===r&&(r=[1,1]),void 0===n&&(n="valid"),o.tidy(function(){null==i&&(i=s.imageDataFormat()),u.checkDataFormat(i);var o=A.preprocessConv2DInput(t,i);if(4!==t.rank)throw new h.ValueError("Input for depthwiseConv2d is required to be 4-D, but is instead "+(t.rank+"-D"));if(4!==e.rank)throw new h.ValueError("depthwiseKernel is required to be 4-D, but is instead "+(e.rank+"-D"));return o=a.depthwiseConv2d(o,e,r,"same"===n?"same":"valid","NHWC",l),
"channelsFirst"===i&&(o=a.transpose(o,[0,3,1,2])),o})}var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var a=r(510),o=r(510),s=r(667),l=r(673),u=r(674),c=r(666),h=r(670),g=r(672),p=r(699),d=r(700),f=r(679),A=r(698);e.depthwiseConv2d=n;var C=function(t){function e(e){var r=t.call(this,2,e)||this;return r.depthwiseKernel=null,r.depthMultiplier=null==e.depthMultiplier?1:e.depthMultiplier,r.depthwiseInitializer=g.getInitializer(e.depthwiseInitializer||r.DEFAULT_KERNEL_INITIALIZER),r.depthwiseConstraint=c.getConstraint(e.depthwiseConstraint),r.depthwiseRegularizer=p.getRegularizer(e.depthwiseRegularizer),r}return i(e,t),e.prototype.build=function(t){if(t=f.getExactlyOneShape(t),t.length<4)throw new h.ValueError("Inputs to DepthwiseConv2D should have rank 4. "+("Received input shape: "+JSON.stringify(t)+"."));var e="channelsFirst"===this.dataFormat?1:3;if(null==t[e]||t[e]<0)throw new h.ValueError("The channel dimension of the inputs to DepthwiseConv2D should "+("be defined, but is not ("+t[e]+")."));var r=t[e],n=[this.kernelSize[0],this.kernelSize[1],r,this.depthMultiplier];this.depthwiseKernel=this.addWeight("depthwise_kernel",n,null,this.depthwiseInitializer,this.depthwiseRegularizer,!0,this.depthwiseConstraint),this.useBias?this.bias=this.addWeight("bias",[r*this.depthMultiplier],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0},e.prototype.call=function(t,e){var r=this;return o.tidy(function(){t=f.getExactlyOneTensor(t);var e=n(t,r.depthwiseKernel.read(),r.strides,r.padding,r.dataFormat,null);return r.useBias&&(e=l.biasAdd(e,r.bias.read(),r.dataFormat)),null!=r.activation&&(e=r.activation.apply(e)),e})},e.prototype.computeOutputShape=function(t){t=f.getExactlyOneShape(t);var e="channelsFirst"===this.dataFormat?t[2]:t[1],r="channelsFirst"===this.dataFormat?t[3]:t[2],n="channelsFirst"===this.dataFormat?t[1]*this.depthMultiplier:t[3]*this.depthMultiplier,i=d.convOutputLength(e,this.kernelSize[0],this.padding,this.strides[0]),a=d.convOutputLength(r,this.kernelSize[1],this.padding,this.strides[1]);return"channelsFirst"===this.dataFormat?[t[0],n,i,a]:[t[0],i,a,n]},e.prototype.getConfig=function(){var e=t.prototype.getConfig.call(this);return e.depthMultiplier=this.depthMultiplier,e.depthwiseInitializer=g.serializeInitializer(this.depthwiseInitializer),e.depthwiseRegularizer=p.serializeRegularizer(this.depthwiseRegularizer),e.depthwiseConstraint=c.serializeConstraint(this.depthwiseRegularizer),e},e.className="DepthwiseConv2D",e}(A.BaseConv);e.DepthwiseConv2D=C,o.serialization.SerializationMap.register(C)},function(t,e,r){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=r(510),a=r(697),o=r(668),s=r(673),l=r(666),u=r(678),c=r(670),h=r(672),g=r(699),p=r(675),d=r(679),f=function(t){function e(e){var r=t.call(this,e)||this;if(r.rate=Math.max(Math.min(e.rate,1),0),r.rateScalar=o.getScalar(r.rate),r.noiseShape=e.noiseShape,r.seed=e.seed,null!=r.seed)throw new c.NotImplementedError("Non-default seed is not implemented in Dropout layer yet: "+r.seed);return r.supportsMasking=!0,r}return n(e,t),e.prototype.getNoiseShape=function(t){if(null==this.noiseShape)return this.noiseShape;for(var e=t.shape,r=[],n=0;n<this.noiseShape.length;++n)r.push(null==this.noiseShape[n]?e[n]:this.noiseShape[n]);return r},e.prototype.call=function(t,e){var r=this;return i.tidy(function(){r.invokeCallHook(t,e);var n=d.getExactlyOneTensor(t);if(null!=r.noiseShape&&!i.util.arraysEqual(n.shape,r.noiseShape))throw new c.NotImplementedError("Non-default noise shape is not implemented in Dropout layer yet: "+JSON.stringify(r.noiseShape));if(0<r.rate&&r.rate<1){var a=null!=e.training&&e.training,o=r.getNoiseShape(n),l=s.inTrainPhase(function(){return s.dropout(n,r.rateScalar,o,r.seed)},function(){return n},a);return l}return t})},e.prototype.getConfig=function(){var e={rate:this.rate,noiseShape:this.noiseShape,seed:this.seed},r=t.prototype.getConfig.call(this);return Object.assign(e,r),e},e.className="Dropout",e}(u.Layer);e.Dropout=f,i.serialization.SerializationMap.register(f);var A=function(t){function e(e){var r=t.call(this,e)||this;if(r.activation=null,r.useBias=!0,r.kernel=null,r.bias=null,r.DEFAULT_KERNEL_INITIALIZER="glorotNormal",r.DEFAULT_BIAS_INITIALIZER="zeros",null==e.batchInputShape&&null==e.inputShape&&null!=e.inputDim){var n=null;null!=e.batchSize&&(n=e.batchSize),r.batchInputShape=[n,e.inputDim]}return r.units=e.units,r.activation=a.getActivation(e.activation),null!=e.useBias&&(r.useBias=e.useBias),r.kernelInitializer=h.getInitializer(e.kernelInitializer||r.DEFAULT_KERNEL_INITIALIZER),r.biasInitializer=h.getInitializer(e.biasInitializer||r.DEFAULT_BIAS_INITIALIZER),r.kernelConstraint=l.getConstraint(e.kernelConstraint),r.biasConstraint=l.getConstraint(e.biasConstraint),r.kernelRegularizer=g.getRegularizer(e.kernelRegularizer),r.biasRegularizer=g.getRegularizer(e.biasRegularizer),r.activityRegularizer=g.getRegularizer(e.activityRegularizer),r.inputSpec=[{minNDim:2}],r}return n(e,t),e.prototype.build=function(t){t=d.getExactlyOneShape(t);var e=t[t.length-1];null==this.kernel&&(this.kernel=this.addWeight("kernel",[e,this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint))),this.inputSpec=[{minNDim:2,axes:(r={},r[-1]=e,r)}],this.built=!0;var r},e.prototype.computeOutputShape=function(t){t=d.getExactlyOneShape(t);var e=t.slice();return e[e.length-1]=this.units,e},e.prototype.call=function(t,e){var r=this;return i.tidy(function(){r.invokeCallHook(t,e);var n=d.getExactlyOneTensor(t),i=s.dot(n,r.kernel.read());return null!=r.bias&&(i=s.biasAdd(i,r.bias.read())),null!=r.activation&&(i=r.activation.apply(i)),i})},e.prototype.getConfig=function(){var e={units:this.units,activation:a.serializeActivation(this.activation),useBias:this.useBias,kernelInitializer:h.serializeInitializer(this.kernelInitializer),biasInitializer:h.serializeInitializer(this.biasInitializer),kernelRegularizer:g.serializeRegularizer(this.kernelRegularizer),biasRegularizer:g.serializeRegularizer(this.biasRegularizer),activityRegularizer:g.serializeRegularizer(this.activityRegularizer),kernelConstraint:l.serializeConstraint(this.kernelConstraint),biasConstraint:l.serializeConstraint(this.biasConstraint)},r=t.prototype.getConfig.call(this);return Object.assign(e,r),e},e.className="Dense",e}(u.Layer);e.Dense=A,i.serialization.SerializationMap.register(A);var C=function(t){function e(e){var r=t.call(this,e||{})||this;return r.inputSpec=[{minNDim:3}],r}return n(e,t),e.prototype.computeOutputShape=function(t){t=d.getExactlyOneShape(t);for(var e=0,r=t.slice(1);e<r.length;e++){var n=r[e];if(null==n)throw new c.ValueError('The shape of the input to "Flatten" is not fully defined '+("(got "+t.slice(1)+"). Make sure to pass a complete ")+'"input_shape" or "batch_input_shape" argument to the first layer in your model.')}return[t[0],p.arrayProd(t,1)]},e.prototype.call=function(t,e){var r=this;return i.tidy(function(){return r.invokeCallHook(t,e),s.batchFlatten(d.getExactlyOneTensor(t))})},e.className="Flatten",e}(u.Layer);e.Flatten=C,i.serialization.SerializationMap.register(C);var m=function(t){function e(e){var r=t.call(this,e)||this;return r.supportsMasking=!0,r.activation=a.getActivation(e.activation),r}return n(e,t),e.prototype.call=function(t,e){var r=this;return i.tidy(function(){r.invokeCallHook(t,e);var n=d.getExactlyOneTensor(t);return r.activation.apply(n)})},e.prototype.getConfig=function(){var e={activation:a.serializeActivation(this.activation)},r=t.prototype.getConfig.call(this);return Object.assign(e,r),e},e.className="Activation",e}(u.Layer);e.Activation=m,i.serialization.SerializationMap.register(m);var I=function(t){function e(e){var r=t.call(this,e)||this;return r.n=e.n,r.inputSpec=[{ndim:2}],r}return n(e,t),e.prototype.computeOutputShape=function(t){return[t[0],this.n,t[1]]},e.prototype.call=function(t,e){var r=this;return i.tidy(function(){return t=d.getExactlyOneTensor(t),s.repeat(t,r.n)})},e.prototype.getConfig=function(){var e={n:this.n},r=t.prototype.getConfig.call(this);return Object.assign(e,r),e},e.className="RepeatVector",e}(u.Layer);e.RepeatVector=I,i.serialization.SerializationMap.register(I);var v=function(t){function e(e){var r=t.call(this,e)||this;r.targetShape=e.targetShape;for(var n=0;n<r.targetShape.length;++n)r.isUnknown(r.targetShape[n])&&(r.targetShape[n]=null);return r}return n(e,t),e.prototype.isUnknown=function(t){return t<0||null==t},e.prototype.fixUnknownDimension=function(t,e){for(var r="Total size of new array must be unchanged.",n=e.slice(),i=1,a=null,o=0;o<n.length;++o){var s=n[o];if(this.isUnknown(s)){if(null!==a)throw new c.ValueError("Can only specifiy one unknown dimension.");a=o}else i*=s}var l=p.arrayProd(t);if(null!==a){if(0===i||l%i!==0)throw new c.ValueError(r);n[a]=l/i}else if(l!==i)throw new c.ValueError(r);return n},e.prototype.computeOutputShape=function(t){for(var e=!1,r=0;r<t.length;++r)if(this.isUnknown(t[r])){e=!0;break}return e?t.slice(0,1).concat(this.targetShape):t.slice(0,1).concat(this.fixUnknownDimension(t.slice(1),this.targetShape))},e.prototype.call=function(t,e){var r=this;return i.tidy(function(){r.invokeCallHook(t,e);var n=d.getExactlyOneTensor(t),i=n.shape,a=i.slice(0,1).concat(r.fixUnknownDimension(i.slice(1),r.targetShape));return n.reshape(a)})},e.prototype.getConfig=function(){var e={targetShape:this.targetShape},r=t.prototype.getConfig.call(this);return Object.assign(e,r),e},e.className="Reshape",e}(u.Layer);e.Reshape=v,i.serialization.SerializationMap.register(v);var y=function(t){function e(e){var r=t.call(this,e)||this;if(null==e.dims)throw new Error("Required configuration field `dims` is missing during Permute constructor call.");if(!Array.isArray(e.dims))throw new Error("Permute constructor requires `dims` to be an Array, but received "+(e.dims+" instead."));var n=p.range(1,e.dims.length+1);if(!i.util.arraysEqual(e.dims.slice().sort(),n))throw new Error("Invalid permutation `dims`: "+JSON.stringify(e.dims)+" `dims` must contain consecutive integers starting from 1.");return r.dims=e.dims,r.dimsIncludingBatch=[0].concat(r.dims),r.inputSpec=[new u.InputSpec({ndim:r.dims.length+1})],r}return n(e,t),e.prototype.computeOutputShape=function(t){t=d.getExactlyOneShape(t);var e=t.slice();return this.dims.forEach(function(r,n){e[n+1]=t[r]}),e},e.prototype.call=function(t,e){return i.transpose(d.getExactlyOneTensor(t),this.dimsIncludingBatch)},e.prototype.getConfig=function(){var e={dims:this.dims},r=t.prototype.getConfig.call(this);return Object.assign(e,r),e},e.className="Permute",e}(u.Layer);e.Permute=y,i.serialization.SerializationMap.register(y)},function(t,e,r){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=r(510),a=r(673),o=r(666),s=r(678),l=r(670),u=r(672),c=r(699),h=r(669),g=r(679),p=function(t){function e(e){var r=t.call(this,e)||this;if(r.embeddings=null,r.DEFAULT_EMBEDDINGS_INITIALIZER="randomUniform",null==e.batchInputShape&&null==e.inputShape){var n=null;null!=e.batchSize&&(n=e.batchSize),null==e.inputLength?r.batchInputShape=[n,null]:r.batchInputShape=[n].concat(h.toList(e.inputLength))}return r.inputDim=e.inputDim,r.outputDim=e.outputDim,r.embeddingsInitializer=u.getInitializer(e.embeddingsInitializer||r.DEFAULT_EMBEDDINGS_INITIALIZER),r.embeddingsRegularizer=c.getRegularizer(e.embeddingsRegularizer),r.activityRegularizer=c.getRegularizer(e.activityRegularizer),r.embeddingsConstraint=o.getConstraint(e.embeddingsConstraint),r.maskZero=e.maskZero,r.inputLength=e.inputLength,r}return n(e,t),e.prototype.build=function(t){this.embeddings=this.addWeight("embeddings",[this.inputDim,this.outputDim],this.dtype,this.embeddingsInitializer,this.embeddingsRegularizer,!0,this.embeddingsConstraint),this.built=!0},e.prototype.warnOnIncompatibleInputShape=function(t){},e.prototype.computeMask=function(t,e){throw new l.NotImplementedError("computeMask has not been implemented for Embedding yet")},e.prototype.computeOutputShape=function(t){if(t=g.getExactlyOneShape(t),null==this.inputLength)return t.concat([this.outputDim]);var e=h.toList(this.inputLength);if(e.length!==t.length-1)throw new l.ValueError('"inputLength" is '+this.inputLength+", but received input shape has shape "+t);for(var r=0,n=0;n<e.length;++n){var i=e[n],a=t[n+1];if(null!=i&&null!=a&&i!==a)throw new l.ValueError('"inputLength" is '+this.inputLength+", but received input shape has shape "+t);null==i&&(e[r]=a),r++}return[t[0]].concat(e,[this.outputDim])},e.prototype.call=function(t,e){var r=this;return i.tidy(function(){r.invokeCallHook(t,e);var n=g.getExactlyOneTensor(t);"int32"!==n.dtype&&(n=a.cast(n,"int32"));var i=a.gather(r.embeddings.read(),n.as1D());return i.reshape(g.getExactlyOneShape(r.computeOutputShape(n.shape)))})},e.prototype.getConfig=function(){var e={inputDim:this.inputDim,outputDim:this.outputDim,embeddingsInitializer:u.serializeInitializer(this.embeddingsInitializer),embeddingsRegularizer:c.serializeRegularizer(this.embeddingsRegularizer),activityRegularizer:c.serializeRegularizer(this.activityRegularizer),embeddingsConstraint:o.serializeConstraint(this.embeddingsConstraint),maskZero:this.maskZero,inputLength:this.inputLength},r=t.prototype.getConfig.call(this);return Object.assign(e,r),e},e.className="Embedding",e}(s.Layer);e.Embedding=p,i.serialization.SerializationMap.register(p)},function(t,e,r){"use strict";function n(t){if(Array.isArray(t)){var e=new v({});return e.apply(t)}return new v(t)}function i(t){if(Array.isArray(t)){var e=new y({});return e.apply(t)}return new y(t)}function a(t){if(Array.isArray(t)){var e=new b({});return e.apply(t)}return new b(t)}function o(t){if(Array.isArray(t)){var e=new x({});return e.apply(t)}return new x(t)}function s(t){if(Array.isArray(t)){var e=new w({});return e.apply(t)}return new w(t)}function l(t){if(Array.isArray(t)){var e=new N({});return e.apply(t)}return new N(t)}var u=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var c=r(510),h=r(510),g=r(668),p=r(673),d=r(678),f=r(670),A=r(669),C=r(675),m=r(679),I=function(t){function e(e){var r=t.call(this,e||{})||this;return r.supportsMasking=!0,r}return u(e,t),e.prototype.mergeFunction=function(t){throw new f.NotImplementedError},e.prototype.computeElementwiseOpOutputShape=function(t,e){if(null==t||null==e)return null;if(t.length<e.length)return this.computeElementwiseOpOutputShape(e,t);if(0===e.length)return t;for(var r=t.slice(0,t.length-e.length),n=0;n<e.length;++n){var i=t[t.length-e.length+n],a=e[n];if(null==i||null==a||i<0||a<0)r.push(null);else if(1===i)r.push(a);else if(1===a)r.push(i);else{if(i!==a)throw new f.ValueError("Operands could not be broadcast together with shapes "+JSON.stringify(t)+" "+JSON.stringify(e));r.push(i)}}return r},e.prototype.build=function(t){if(Array.isArray(t)&&!Array.isArray(t[0])&&(t=[m.getExactlyOneShape(t)]),t=t,t.length<2)throw new f.ValueError("A merge layer should be called on an Array of at least 2 inputs."+(" Got "+t.length+" input(s)."));for(var e=[],r=0,n=t;r<n.length;r++){var i=n[r];null!=i&&null!==i[0]&&e.push(i[0])}if(e=A.unique(e),e.length>1)throw new f.ValueError("Can not merge tensors with different batch sizes. "+("Got tensors with shapes: "+JSON.stringify(t)+"."));for(var a=null==t[0]?null:t[0].slice(1),o=1;o<t.length;++o){var i=null==t[o]?null:t[o].slice(1);a=this.computeElementwiseOpOutputShape(a,i)}var s=t.map(function(t){return t.length});t.indexOf(null)===-1&&1===A.unique(s).length?this.reshapeRequired=!1:this.reshapeRequired=!0},e.prototype.call=function(t,e){var r=this;return h.tidy(function(){if(t=t,r.reshapeRequired){var e=[],n=t.map(function(t){return t.rank});if(n.indexOf(null)===-1){for(var i=C.max(n),a=0,o=t;a<o.length;a++){for(var s=o[a],l=s.rank,u=0;u<i-l;++u)s=p.expandDims(s,1);e.push(s)}return r.mergeFunction(e)}for(var h=!1,g=0,d=t;g<d.length;g++){var s=d[g],l=s.rank;if(null==l){var f=s.shape,A=f[0],m=f.slice(1).concat([A]),I=s.reshape([A].concat(C.arrayProd(f.slice(1))));I=c.transpose(I,[1,0]),I=I.reshape(m),e.push(I),h=!0}else if(l>1){var v=C.range(1,l).concat([0]);e.push(c.transpose(s,v)),h=!0}else e.push(s)}var y=r.mergeFunction(e),b=y.rank;if(h)if(null==b){var x=y.shape,w=x.length,A=x[w-1],m=[A].concat(x.slice(0,x.length-1));y=c.transpose(y.reshape([-1,A]),[1,0]).reshape(m)}else if(b>1){var v=[b-1].concat(C.range(0,b-1));y=c.transpose(y,v)}return y}return r.mergeFunction(t)})},e.prototype.computeOutputShape=function(t){t=t;var e;e=null==t[0]?null:t[0].slice(1);for(var r=1;r<t.length;++r){var n=null==t[r]?null:t[r].slice(1);e=this.computeElementwiseOpOutputShape(e,n)}for(var i=[],a=0,o=t;a<o.length;a++){var n=o[a];null!=n&&null!==n[0]&&i.push(n[0])}return i=A.unique(i),e=1===i.length?i.concat(e):[null].concat(e)},e}(d.Layer);e.Merge=I;var v=function(t){function e(e){return t.call(this,e)||this}return u(e,t),e.prototype.mergeFunction=function(t){return h.tidy(function(){for(var e=t[0].clone(),r=1;r<t.length;++r)e=c.add(e,t[r]);return e})},e.className="Add",e}(I);e.Add=v,h.serialization.SerializationMap.register(v),e.add=n;var y=function(t){function e(e){return t.call(this,e)||this}return u(e,t),e.prototype.mergeFunction=function(t){return h.tidy(function(){for(var e=t[0].clone(),r=1;r<t.length;++r)e=c.mul(e,t[r]);return e})},e.className="Multiply",e}(I);e.Multiply=y,h.serialization.SerializationMap.register(y),e.multiply=i;var b=function(t){function e(e){return t.call(this,e)||this}return u(e,t),e.prototype.mergeFunction=function(t){return h.tidy(function(){for(var e=t[0].clone(),r=1;r<t.length;++r)e=c.add(e,t[r]);return c.mul(g.getScalar(1/t.length),e)})},e.className="Average",e}(I);e.Average=b,h.serialization.SerializationMap.register(b),e.average=a;var x=function(t){function e(e){return t.call(this,e)||this}return u(e,t),e.prototype.mergeFunction=function(t){return h.tidy(function(){for(var e=t[0],r=1;r<t.length;++r)e=c.maximum(e,t[r]);return e})},e.className="Maximum",e}(I);e.Maximum=x,h.serialization.SerializationMap.register(x),e.maximum=o;var w=function(t){function e(e){return t.call(this,e)||this}return u(e,t),e.prototype.mergeFunction=function(t){return h.tidy(function(){for(var e=t[0],r=1;r<t.length;++r)e=c.minimum(e,t[r]);return e})},e.className="Minimum",e}(I);e.Minimum=w,h.serialization.SerializationMap.register(w),e.minimum=s;var N=function(t){function e(e){var r=t.call(this,e)||this;return r.DEFAULT_AXIS=-1,null==e&&(e={}),r.axis=null==e.axis?r.DEFAULT_AXIS:e.axis,r.supportsMasking=!0,r.reshapeRequired=!1,r}return u(e,t),e.prototype.build=function(t){if(!Array.isArray(t)||!Array.isArray(t[0])||1===t.length)throw new f.ValueError("A `Concatenate` layer should be called on a list of at least 2 inputs");t=t;for(var e=!0,r=0,n=t;r<n.length;r++){var i=n[r];if(null!=i){e=!1;break}}if(!e){for(var a=[],o=0;o<t.length;++o){var s=t[o].slice();s.splice(this.axis,1);for(var l=!1,u=0,c=a;u<c.length;u++){var i=c[u];if(h.util.arraysEqual(i,s)){l=!0;break}}l||a.push(s)}if(a.length>1)throw new f.ValueError("A `Concatenate` layer requires inputs with matching shapes except for the concat axis. Got input shapes: "+JSON.stringify(t))}},e.prototype.mergeFunction=function(t){var e=this;return h.tidy(function(){return p.concatenate(t,e.axis)})},e.prototype.computeOutputShape=function(t){if(!Array.isArray(t)||!Array.isArray(t[0]))throw new f.ValueError("A `Concatenate` layer should be called on a list of inputs.");for(var e=t,r=e[0].slice(),n=this.axis<0?r.length+this.axis:this.axis,i=0,a=e.slice(1);i<a.length;i++){var o=a[i];if(null==r[n]||null==o[n]){r[n]=null;break}r[n]+=o[n]}return r},e.prototype.getConfig=function(){var e={axis:this.axis},r=t.prototype.getConfig.call(this);return Object.assign(e,r),e},e.className="Concatenate",e}(I);e.Concatenate=N,h.serialization.SerializationMap.register(N),e.concatenate=l},function(t,e,r){"use strict";function n(t,e,r,n,i,a){void 0===a&&(a=.001);var o;if(2===t.rank)o=l.batchNormalization2d(t,e,r,a,i,n);else if(3===t.rank)o=l.batchNormalization3d(t,e,r,a,i,n);else{if(4!==t.rank)throw new p.NotImplementedError("batchNormalization is not implememnted for array of rank "+t.rank+" yet");o=l.batchNormalization4d(t,e,r,a,i,n)}return o}function i(t,e,r,i,a){return void 0===a&&(a=.001),u.tidy(function(){var o=l.moments(t,i),s=o.mean,u=o.variance,c=n(t,s,u,r,e,a);return[c,s,u]})}function a(t,e,r,i,a){return void 0===a&&(a=.001),u.tidy(function(){for(var o=l.moments(t,i),s=o.mean,u=o.variance,c=[],h=0,g=C.range(0,t.rank);h<g.length;h++){var p=g[h];i.indexOf(p)!==-1?c.push(1):c.push(t.shape[p])}var d=s.reshape(c),f=u.reshape(c),A=null==e?null:e.reshape(c),m=null==r?null:r.reshape(c),I=n(t,d,f,m,A,a);return[I,s,u]})}function o(t,e,r,n,o){return void 0===o&&(o=.001),u.util.arraysEqual(n.slice().sort(),C.range(0,t.rank-1))?i(t,e,r,n,o):a(t,e,r,n,o)}var s=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var l=r(510),u=r(510),c=r(666),h=r(678),g=r(668),p=r(670),d=r(672),f=r(699),A=r(669),C=r(675),m=r(679);e.batchNormalization=n,e.normalizeBatchInTraining=o;var I=function(t){function e(e){var r=t.call(this,e)||this;return r.supportsMasking=!0,r.axis=null==e.axis?-1:e.axis,r.momentum=null==e.momentum?.99:e.momentum,r.epsilon=null==e.epsilon?.001:e.epsilon,r.center=null==e.center||e.center,r.scale=null==e.scale||e.scale,r.betaInitializer=d.getInitializer(e.betaInitializer||"zeros"),r.gammaInitializer=d.getInitializer(e.gammaInitializer||"ones"),r.movingMeanInitializer=d.getInitializer(e.movingMeanInitializer||"zeros"),r.movingVarianceInitializer=d.getInitializer(e.movingVarianceInitializer||"ones"),r.betaConstraint=c.getConstraint(e.betaConstraint),r.gammaConstraint=c.getConstraint(e.gammaConstraint),r.betaRegularizer=f.getRegularizer(e.betaRegularizer),r.gammaRegularizer=f.getRegularizer(e.gammaRegularizer),r.stepCount=0,r}return s(e,t),e.prototype.build=function(t){t=m.getExactlyOneShape(t);var e=this.axis>=0?this.axis:this.axis+t.length,r=t[e];if(null==r)throw new p.ValueError("Axis "+e+" of input tensor should have a defined dimension but the layer received an input with shape "+(JSON.stringify(t)+"."));this.inputSpec=[new h.InputSpec({ndim:t.length,axes:(i={},i[e]=r,i)})];var n=[r];this.scale&&(this.gamma=this.addWeight("gamma",n,null,this.gammaInitializer,this.gammaRegularizer,!0,this.gammaConstraint)),this.center&&(this.beta=this.addWeight("beta",n,null,this.betaInitializer,this.betaRegularizer,!0,this.betaConstraint)),this.movingMean=this.addWeight("moving_mean",n,null,this.movingMeanInitializer,null,!1),this.movingVariance=this.addWeight("moving_variance",n,null,this.movingVarianceInitializer,null,!1),this.built=!0;var i},e.prototype.call=function(t,e){var r=this;return u.tidy(function(){var i=null!=e.training&&e.training,a=m.getExactlyOneTensor(t),s=a.shape,c=s.length,h=C.range(0,c),p=r.axis>=0?r.axis:r.axis+c;h.splice(p,1);var d=A.pyListRepeat(1,c);d[p]=s[p];var f=h.slice();f.sort();var I=!u.util.arraysEqual(f,C.range(0,c).slice(0,c-1)),v=function(){if(I){var t=r.movingMean.read().reshape(d),e=r.movingVariance.read().reshape(d),i=r.center?r.beta.read().reshape(d):null,o=r.scale?r.gamma.read().reshape(d):null;return n(a,t,e,i,o,r.epsilon)}return n(a,r.movingMean.read(),r.movingVariance.read(),null==r.beta?null:r.beta.read(),null==r.gamma?null:r.gamma.read(),r.epsilon)};if(!i)return v();var y=o(a,r.gamma.read(),r.beta.read(),h,r.epsilon),b=y[0],x=y[1],w=y[2],N=C.arrayProd(h.map(function(t){return a.shape[t]})),S=w.mul(g.getScalar(N/(N-(1+r.epsilon)))),T=function(){r.stepCount++;var t=l.movingAverage(r.movingMean.read(),x,r.momentum,r.stepCount);r.movingMean.write(t);var e=l.movingAverage(r.movingVariance.read(),S,r.momentum,r.stepCount);r.movingVariance.write(e)};return T(),b})},e.prototype.getConfig=function(){var e={axis:this.axis,momentum:this.momentum,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:d.serializeInitializer(this.betaInitializer),gammaInitializer:d.serializeInitializer(this.gammaInitializer),movingMeanInitializer:d.serializeInitializer(this.movingMeanInitializer),movingVarianceInitializer:d.serializeInitializer(this.movingVarianceInitializer),betaRegularizer:f.serializeRegularizer(this.betaRegularizer),gammaRegularizer:f.serializeRegularizer(this.gammaRegularizer),betaConstraint:c.serializeConstraint(this.betaConstraint),gammaConstraint:c.serializeConstraint(this.gammaConstraint)},r=t.prototype.getConfig.call(this);return Object.assign(e,r),e},e.className="BatchNormalization",e}(h.Layer);e.BatchNormalization=I,u.serialization.SerializationMap.register(I)},function(t,e,r){"use strict";function n(t,e){return s.tidy(function(){if(3!==t.rank)throw new c.ValueError("temporalPadding expects input tensor to be 3-D, but received a "+(t.rank+"-D tensor."));if(null==e&&(e=[1,1]),2!==e.length)throw new c.ValueError("temporalPadding expects input padding pattern to be a length-2 "+("array, but received a length-"+e.length+" array."));var r=[[0,0],e,[0,0]];return o.pad(t,r)})}function i(t,e,r){return s.tidy(function(){if(4!==t.rank)throw new c.ValueError("temporalPadding expects input tensor to be 4-D, but received a "+(t.rank+"-D tensor."));if(null==e&&(e=[[1,1],[1,1]]),2!==e.length||2!==e[0].length||2!==e[1].length)throw new c.ValueError("spatial2dPadding expects `padding` to be an Array of two Arrays, each of which is an Array of two integers.");if(null==r&&(r=l.imageDataFormat()),"channelsLast"!==r&&"channelsFirst"!==r)throw new c.ValueError("Unknown data format: "+r+". Supported data formats are 'channelsLast' and 'channelsFirst.");var n;return n="channelsFirst"===r?[[0,0],[0,0],e[0],e[1]]:[[0,0],e[0],e[1],[0,0]],o.pad(t,n)})}var a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=r(510),s=r(510),l=r(667),u=r(678),c=r(670),h=r(679);e.temporalPadding=n,e.spatial2dPadding=i;var g=function(t){function e(e){var r=this;if(null==e&&(e={}),r=t.call(this,e)||this,r.dataFormat=null==e.dataFormat?l.imageDataFormat():e.dataFormat,null==e.padding)r.padding=[[1,1],[1,1]];else if("number"==typeof e.padding)r.padding=[[e.padding,e.padding],[e.padding,e.padding]];else{if(e.padding=e.padding,2!==e.padding.length)throw new c.ValueError("ZeroPadding2D expects padding to be a length-2 array, but "+("received a length-"+e.padding.length+" array."));var n=void 0,i=void 0;if("number"==typeof e.padding[0])n=[e.padding[0],e.padding[0]],i=[e.padding[1],e.padding[1]];else{if(e.padding=e.padding,2!==e.padding[0].length)throw new c.ValueError("ZeroPadding2D expects height padding to be a length-2 array, "+("but received a length-"+e.padding[0].length+" array."));if(n=e.padding[0],2!==e.padding[1].length)throw new c.ValueError("ZeroPadding2D expects width padding to be a length-2 array, "+("but received a length-"+e.padding[1].length+" array."));i=e.padding[1]}r.padding=[n,i]}return r.inputSpec=[new u.InputSpec({ndim:4})],r}return a(e,t),e.prototype.computeOutputShape=function(t){t=h.getExactlyOneShape(t);var e,r;return"channelsFirst"===this.dataFormat?(e=null!=t[2]&&t[2]>=0?t[2]+this.padding[0][0]+this.padding[0][1]:null,r=null!=t[3]&&t[3]>=0?t[3]+this.padding[1][0]+this.padding[1][1]:null,[t[0],t[1],e,r]):(e=null!=t[1]&&t[1]>=0?t[1]+this.padding[0][0]+this.padding[0][1]:null,r=null!=t[2]&&t[2]>=0?t[2]+this.padding[1][0]+this.padding[1][1]:null,[t[0],e,r,t[3]])},e.prototype.call=function(t,e){var r=this;return s.tidy(function(){return i(h.getExactlyOneTensor(t),r.padding,r.dataFormat)})},e.prototype.getConfig=function(){var e={padding:this.padding,dataFormat:this.dataFormat},r=t.prototype.getConfig.call(this);return Object.assign(e,r),e},e.className="ZeroPadding2D",e}(u.Layer);e.ZeroPadding2D=g,s.serialization.SerializationMap.register(g)},function(t,e,r){"use strict";function n(t,e,r,n,i,l){return o.tidy(function(){u.checkDataFormat(i),u.checkPoolMode(l),u.checkPaddingMode(n),null==r&&(r=[1,1]),null==n&&(n="valid"),null==i&&(i=s.imageDataFormat()),null==l&&(l="max"),t=f.preprocessConv2DInput(t,i);var o,c="same"===n?"same":"valid";return o="max"===l?a.maxPool(t,e,r,c):a.avgPool(t,e,r,c),"channelsFirst"===i&&(o=a.transpose(o,[0,3,1,2])),o})}var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var a=r(510),o=r(510),s=r(667),l=r(673),u=r(674),c=r(678),h=r(678),g=r(670),p=r(700),d=r(679),f=r(698);e.pool2d=n;var A=function(t){function e(e){var r=this;if(null==e.poolSize&&(e.poolSize=2),r=t.call(this,e)||this,"number"==typeof e.poolSize)r.poolSize=[e.poolSize];else{if(!Array.isArray(e.poolSize)||1!==e.poolSize.length||"number"!=typeof e.poolSize[0])throw new g.ValueError("poolSize for 1D convolutional layer must be a number or an Array of a single number, but received "+JSON.stringify(e.poolSize));r.poolSize=e.poolSize}if(null==e.strides)r.strides=r.poolSize;else if("number"==typeof e.strides)r.strides=[e.strides];else{if(!Array.isArray(e.strides)||1!==e.strides.length||"number"!=typeof e.strides[0])throw new g.ValueError("strides for 1D convolutional layer must be a number or an Array of a single number, but received "+JSON.stringify(e.strides));r.strides=e.strides}return r.padding=null==e.padding?"valid":e.padding,u.checkPaddingMode(r.padding),r.inputSpec=[new c.InputSpec({ndim:3})],r}return i(e,t),e.prototype.computeOutputShape=function(t){t=d.getExactlyOneShape(t);var e=p.convOutputLength(t[1],this.poolSize[0],this.padding,this.strides[0]);return[t[0],e,t[2]]},e.prototype.call=function(t,e){var r=this;return o.tidy(function(){r.invokeCallHook(t,e),t=l.expandDims(d.getExactlyOneTensor(t),2);var n=r.poolingFunction(d.getExactlyOneTensor(t),[r.poolSize[0],1],[r.strides[0],1],r.padding,"channelsLast");return a.squeeze(n,[2])})},e.prototype.getConfig=function(){var e={poolSize:this.poolSize,padding:this.padding,strides:this.strides},r=t.prototype.getConfig.call(this);
return Object.assign(e,r),e},e}(h.Layer);e.Pooling1D=A;var C=function(t){function e(e){return t.call(this,e)||this}return i(e,t),e.prototype.poolingFunction=function(t,e,r,i,a){return u.checkDataFormat(a),u.checkPaddingMode(i),n(t,e,r,i,a,"max")},e.className="MaxPooling1D",e}(A);e.MaxPooling1D=C,o.serialization.SerializationMap.register(C);var m=function(t){function e(e){return t.call(this,e)||this}return i(e,t),e.prototype.poolingFunction=function(t,e,r,i,a){return u.checkDataFormat(a),u.checkPaddingMode(i),n(t,e,r,i,a,"avg")},e.className="AveragePooling1D",e}(A);e.AveragePooling1D=m,o.serialization.SerializationMap.register(m);var I=function(t){function e(e){var r=this;if(null==e.poolSize&&(e.poolSize=[2,2]),r=t.call(this,e)||this,r.poolSize=Array.isArray(e.poolSize)?e.poolSize:[e.poolSize,e.poolSize],null==e.strides)r.strides=r.poolSize;else if(Array.isArray(e.strides)){if(2!==e.strides.length)throw new g.ValueError("If the strides property of a 2D pooling layer is an Array, it is expected to have a length of 2, but received length "+(e.strides.length+"."));r.strides=e.strides}else r.strides=[e.strides,e.strides];return r.padding=null==e.padding?"valid":e.padding,r.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,u.checkDataFormat(r.dataFormat),u.checkPaddingMode(r.padding),r.inputSpec=[new c.InputSpec({ndim:4})],r}return i(e,t),e.prototype.computeOutputShape=function(t){t=d.getExactlyOneShape(t);var e="channelsFirst"===this.dataFormat?t[2]:t[1],r="channelsFirst"===this.dataFormat?t[3]:t[2];return e=p.convOutputLength(e,this.poolSize[0],this.padding,this.strides[0]),r=p.convOutputLength(r,this.poolSize[1],this.padding,this.strides[1]),"channelsFirst"===this.dataFormat?[t[0],t[1],e,r]:[t[0],e,r,t[3]]},e.prototype.call=function(t,e){var r=this;return o.tidy(function(){return r.invokeCallHook(t,e),r.poolingFunction(d.getExactlyOneTensor(t),r.poolSize,r.strides,r.padding,r.dataFormat)})},e.prototype.getConfig=function(){var e={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},r=t.prototype.getConfig.call(this);return Object.assign(e,r),e},e}(h.Layer);e.Pooling2D=I;var v=function(t){function e(e){return t.call(this,e)||this}return i(e,t),e.prototype.poolingFunction=function(t,e,r,i,a){return u.checkDataFormat(a),u.checkPaddingMode(i),n(t,e,r,i,a,"max")},e.className="MaxPooling2D",e}(I);e.MaxPooling2D=v,o.serialization.SerializationMap.register(v);var y=function(t){function e(e){return t.call(this,e)||this}return i(e,t),e.prototype.poolingFunction=function(t,e,r,i,a){return u.checkDataFormat(a),u.checkPaddingMode(i),n(t,e,r,i,a,"avg")},e.className="AveragePooling2D",e}(I);e.AveragePooling2D=y,o.serialization.SerializationMap.register(y);var b=function(t){function e(e){var r=t.call(this,e)||this;return r.inputSpec=[new c.InputSpec({ndim:3})],r}return i(e,t),e.prototype.computeOutputShape=function(t){return[t[0],t[2]]},e.prototype.call=function(t,e){throw new g.NotImplementedError},e}(h.Layer);e.GlobalPooling1D=b;var x=function(t){function e(e){return t.call(this,e)||this}return i(e,t),e.prototype.call=function(t,e){return o.tidy(function(){var e=d.getExactlyOneTensor(t);return a.mean(e,1)})},e.className="GlobalAveragePooling1D",e}(b);e.GlobalAveragePooling1D=x,o.serialization.SerializationMap.register(x);var w=function(t){function e(e){return t.call(this,e)||this}return i(e,t),e.prototype.call=function(t,e){return o.tidy(function(){var e=d.getExactlyOneTensor(t);return a.max(e,1)})},e.className="GlobalMaxPooling1D",e}(b);e.GlobalMaxPooling1D=w,o.serialization.SerializationMap.register(w);var N=function(t){function e(e){var r=t.call(this,e)||this;return r.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,u.checkDataFormat(r.dataFormat),r.inputSpec=[new c.InputSpec({ndim:4})],r}return i(e,t),e.prototype.computeOutputShape=function(t){return t=t,"channelsLast"===this.dataFormat?[t[0],t[3]]:[t[0],t[1]]},e.prototype.call=function(t,e){throw new g.NotImplementedError},e.prototype.getConfig=function(){var e={dataFormat:this.dataFormat},r=t.prototype.getConfig.call(this);return Object.assign(e,r),e},e}(h.Layer);e.GlobalPooling2D=N;var S=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.call=function(t,e){var r=this;return o.tidy(function(){var e=d.getExactlyOneTensor(t);return"channelsLast"===r.dataFormat?a.mean(e,[1,2]):a.mean(e,[2,3])})},e.className="GlobalAveragePooling2D",e}(N);e.GlobalAveragePooling2D=S,o.serialization.SerializationMap.register(S);var T=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.call=function(t,e){var r=this;return o.tidy(function(){var e=d.getExactlyOneTensor(t);return"channelsLast"===r.dataFormat?a.max(e,[1,2]):a.max(e,[2,3])})},e.className="GlobalMaxPooling2D",e}(N);e.GlobalMaxPooling2D=T,o.serialization.SerializationMap.register(T)},function(t,e,r){"use strict";function n(t,e,r,n){function i(t){return null==t||Array.isArray(t)?t:[t]}if(Array.isArray(t)){if(null!=e||null!=r)throw new f.ValueError("When inputs is an array, neither initialState or constants should be provided");null!=n&&(r=t.slice(t.length-n,t.length),t=t.slice(0,t.length-n)),t.length>1&&(e=t.slice(1,t.length)),t=t[0]}return e=i(e),r=i(r),{inputs:t,initialState:e,constants:r}}function i(t,e,r,n,i,a,o,l){void 0===n&&(n=!1),void 0===o&&(o=!1);var u=e.shape.length;if(u<3)throw new f.ValueError("Input should be at least 3D, but is "+u+"D.");var c=[1,0].concat(m.range(2,u));if(e=s.transpose(e,c),null!=i)throw new f.NotImplementedError("The rnn() function of the deeplearn.js backend does not support masking yet.");if(null!=a)throw new f.NotImplementedError("The rnn() functoin of the deeplearn.js backend does not support constants yet.");o&&console.warn("Backend rnn(): the unroll = true option is not applicable to the imperative deeplearn.js backend."),n&&(e=s.reverse(e,0));for(var g,p,d=r,A=e.shape[0],C=0;C<A;++C){var I=h.sliceAlongFirstAxis(e,C,1);I=I.reshape(I.shape.slice(1));var v=t(I,d);p=v[0],g=0===C?p.reshape([1].concat(p.shape)):h.concatAlongFirstAxis(g,p.reshape([1].concat(p.shape))),d=v[1]}return[p,s.transpose(g,[1,0].concat(m.range(2,g.shape.length))),d]}function a(t,e,r,n){function i(){return h.dropout(t(),c.getScalar(e))}if(void 0===r&&(r=null),void 0===n&&(n=1),n>1){for(var a=[],o=0;o<n;o++)a.push(h.inTrainPhase(i,t,r));return a.forEach(function(t){return s.keep(t)}),a}return s.keep(h.inTrainPhase(i,t,r))}var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var s=r(510),l=r(510),u=r(697),c=r(668),h=r(673),g=r(666),p=r(678),d=r(678),f=r(670),A=r(672),C=r(699),m=r(675),I=r(679),v=r(681),y=r(691);e.standardizeArgs=n,e.rnn=i;var b=function(t){function e(e){var r,n=t.call(this,e)||this;if(null==e.cell)throw new f.ValueError("cell property is missing for the constructor of RNN.");if(r=Array.isArray(e.cell)?new O({cells:e.cell}):e.cell,null==r.stateSize)throw new f.ValueError("The RNN cell should have an attribute `stateSize` (tuple of integers, one integer per RNN state).");return n.cell=r,n.returnSequences=null!=e.returnSequences&&e.returnSequences,n.returnState=null!=e.returnState&&e.returnState,n.goBackwards=null!=e.goBackwards&&e.goBackwards,n._stateful=null!=e.stateful&&e.stateful,n.unroll=null!=e.unroll&&e.unroll,n.supportsMasking=!0,n.inputSpec=[new p.InputSpec({ndim:3})],n.stateSpec=null,n.states=null,n.numConstants=null,n.keptStates=[],n}return o(e,t),e.prototype.getStates=function(){if(null==this.states){var t=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1;return m.range(0,t).map(function(t){return null})}return this.states},e.prototype.setStates=function(t){this.states=t},e.prototype.computeOutputShape=function(t){I.isArrayOfShapes(t)&&(t=t[0]),t=t;var e=this.cell.stateSize;Array.isArray(e)||(e=[e]);var r,n=e[0];if(r=this.returnSequences?[t[0],t[1],n]:[t[0],n],this.returnState){for(var i=[],a=0,o=e;a<o.length;a++){var s=o[a];i.push([t[0],s])}return[r].concat(i)}return r},e.prototype.computeMask=function(t,e){throw new f.NotImplementedError("computeMask has not been implemented for RNN yet")},e.prototype.build=function(t){var e=null;if(null!=this.numConstants)throw new f.NotImplementedError("Constants support is not implemented in RNN yet.");I.isArrayOfShapes(t)&&(t=t[0]),t=t;var r=this.stateful?t[0]:null,n=t[t.length-1];this.inputSpec[0]=new p.InputSpec({shape:[r,null,n]});var i=[t[0]].concat(t.slice(2));if(null!=e)throw new f.NotImplementedError("Constants support is not implemented in RNN yet.");this.cell.build(i);var a;if(a=Array.isArray(this.cell.stateSize)?this.cell.stateSize:[this.cell.stateSize],null!=this.stateSpec){if(!l.util.arraysEqual(this.stateSpec.map(function(t){return t.shape[t.shape.length-1]}),a))throw new f.ValueError("An initialState was passed that is not compatible with "+("cell.stateSize. Received stateSpec="+this.stateSpec+"; ")+("However cell.stateSize is "+this.cell.stateSize))}else this.stateSpec=a.map(function(t){return new p.InputSpec({shape:[null,t]})});this.stateful&&this.resetStates()},e.prototype.resetStates=function(t){var e=this;l.tidy(function(){if(!e.stateful)throw new f.AttributeError("Cannot call resetStates() on an RNN Layer that is not stateful.");var r=e.inputSpec[0].shape[0];if(null==r)throw new f.ValueError("If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.");if(null==e.states)Array.isArray(e.cell.stateSize)?e.states=e.cell.stateSize.map(function(t){return s.zeros([r,t])}):e.states=[s.zeros([r,e.cell.stateSize])];else if(null==t)s.dispose(e.states),null!=e.keptStates&&(s.dispose(e.keptStates),e.keptStates=[]),Array.isArray(e.cell.stateSize)?e.states=e.cell.stateSize.map(function(t){return s.zeros([r,t])}):e.states[0]=s.zeros([r,e.cell.stateSize]);else{if(e.keptStates.push(e.states.slice()),Array.isArray(t)||(t=[t]),t.length!==e.states.length)throw new f.ValueError("Layer "+e.name+" expects "+e.states.length+" state(s), "+("but it received "+t.length+" state value(s). Input ")+("received: "+t));for(var n=0;n<e.states.length;++n){var i=t[n],a=Array.isArray(e.cell.stateSize)?e.cell.stateSize[n]:e.cell.stateSize,o=[r,a];if(!l.util.arraysEqual(i.shape,o))throw new f.ValueError("State "+n+" is incompatible with layer "+e.name+": "+("expected shape="+o+", received shape="+i.shape));e.states[n]=i}}e.states.forEach(function(t){return s.keep(t)})})},e.prototype.apply=function(e,r){var i=null==r?null:r.initialState,a=null==r?null:r.constants;null==r&&(r={});var o=n(e,i,a,this.numConstants);e=o.inputs,i=o.initialState,a=o.constants;var s=[],l=[];if(null!=i){r.initialState=i,s=s.concat(i),this.stateSpec=[];for(var u=0,c=i;u<c.length;u++){var h=c[u];this.stateSpec.push(new p.InputSpec({shape:h.shape}))}l=l.concat(this.stateSpec)}null!=a&&(r.constants=a,s=s.concat(a),this.numConstants=a.length);var g=s[0]instanceof p.SymbolicTensor;if(g){var d=[e].concat(s),f=this.inputSpec.concat(l),A=this.inputSpec;this.inputSpec=f;var C=t.prototype.apply.call(this,d,r);return this.inputSpec=A,C}return t.prototype.apply.call(this,e,r)},e.prototype.call=function(t,e){var r=this;return l.tidy(function(){var n=null==e?null:e.mask,a=null==e?null:e.training,o=null==e?null:e.initialState;if(t=I.getExactlyOneTensor(t),null==o&&(o=r.stateful?r.states:r.getInitialState(t)),null!=n)throw new f.NotImplementedError("Masking is not implemented for RNN yet");var s=Array.isArray(r.cell.stateSize)?r.cell.stateSize.length:1;if(o.length!==s)throw new f.ValueError("RNN Layer has "+s+" state(s) but was passed "+(o.length+" initial state(s)."));var l=t.shape,u=l[1];r.unroll&&console.warn("Ignoring unroll = true for RNN layer, due to imperative backend.");var c={training:a},h=function(t,e){var n=r.cell.call([t].concat(e),c);return[n[0],n.slice(1)]},g=i(h,t,o,r.goBackwards,null,null,r.unroll,u),p=g[0],d=g[1],A=g[2];r.stateful&&r.resetStates(A);var C=r.returnSequences?d:p;return r.returnState?[C].concat(A):C})},e.prototype.getInitialState=function(t){var e=this;return l.tidy(function(){var r=s.zeros(t.shape);return r=s.sum(r,[1,2]),r=h.expandDims(r),Array.isArray(e.cell.stateSize)?e.cell.stateSize.map(function(t){return t>1?h.tile(r,[1,t]):r}):e.cell.stateSize>1?[h.tile(r,[1,e.cell.stateSize])]:[r]})},Object.defineProperty(e.prototype,"trainableWeights",{get:function(){return this.trainable?this.cell.trainableWeights:[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nonTrainableWeights",{get:function(){return this.trainable?this.cell.nonTrainableWeights:this.cell.weights},enumerable:!0,configurable:!0}),e.prototype.getConfig=function(){var e={returnSequences:this.returnSequences,returnState:this.returnState,goBackwards:this.goBackwards,stateful:this.stateful,unroll:this.unroll};null!=this.numConstants&&(e.numConstants=this.numConstants);var r=this.cell.getConfig();e.cell={className:this.cell.getClassName(),config:r};var n=t.prototype.getConfig.call(this);return Object.assign(e,n),e},e.className="RNN",e}(d.Layer);e.RNN=b,l.serialization.SerializationMap.register(b);var x=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e}(d.Layer);e.RNNCell=x;var w=function(t){function e(e){var r=t.call(this,e)||this;return r.DEFAULT_ACTIVATION="tanh",r.DEFAULT_KERNEL_INITIALIZER="glorotNormal",r.DEFAULT_RECURRENT_INITIALIZER="orthogonal",r.DEFAULT_BIAS_INITIALIZER="zeros",r.units=e.units,r.activation=u.getActivation(null==e.activation?r.DEFAULT_ACTIVATION:e.activation),r.useBias=null==e.useBias||e.useBias,r.kernelInitializer=A.getInitializer(e.kernelInitializer||r.DEFAULT_KERNEL_INITIALIZER),r.recurrentInitializer=A.getInitializer(e.recurrentInitializer||r.DEFAULT_RECURRENT_INITIALIZER),r.biasInitializer=A.getInitializer(e.biasInitializer||r.DEFAULT_BIAS_INITIALIZER),r.kernelRegularizer=C.getRegularizer(e.kernelRegularizer),r.recurrentRegularizer=C.getRegularizer(e.recurrentRegularizer),r.biasRegularizer=C.getRegularizer(e.biasRegularizer),r.kernelConstraint=g.getConstraint(e.kernelConstraint),r.recurrentConstraint=g.getConstraint(e.recurrentConstraint),r.biasConstraint=g.getConstraint(e.biasConstraint),r.dropout=m.min([1,m.max([0,null==e.dropout?0:e.dropout])]),r.recurrentDropout=m.min([1,m.max([0,null==e.recurrentDropout?0:e.recurrentDropout])]),r.stateSize=r.units,r.dropoutMask=null,r.recurrentDropoutMask=null,r}return o(e,t),e.prototype.build=function(t){t=I.getExactlyOneShape(t),this.kernel=this.addWeight("kernel",[t[t.length-1],this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0},e.prototype.call=function(t,e){var r=this;return l.tidy(function(){if(t=t,2!==t.length)throw new f.ValueError("SimpleRNNCell expects 2 input Tensors, got "+t.length+".");var n=t[1];t=t[0];var i=null!=e.training&&e.training;0<r.dropout&&r.dropout<1&&null==r.dropoutMask&&(r.dropoutMask=a(function(){return s.onesLike(t)},r.dropout,i)),0<r.recurrentDropout&&r.recurrentDropout<1&&null==r.recurrentDropoutMask&&(r.recurrentDropoutMask=a(function(){return s.onesLike(n)},r.recurrentDropout,i));var o,l=r.dropoutMask,u=r.recurrentDropoutMask;o=null!=l?h.dot(s.mul(t,l),r.kernel.read()):h.dot(t,r.kernel.read()),null!=r.bias&&(o=h.biasAdd(o,r.bias.read())),null!=u&&(n=s.mul(n,u));var c=s.add(o,h.dot(n,r.recurrentKernel.read()));return null!=r.activation&&(c=r.activation.apply(c)),[c,c]})},e.prototype.getConfig=function(){var e={units:this.units,activation:u.serializeActivation(this.activation),useBias:this.useBias,kernelInitializer:A.serializeInitializer(this.kernelInitializer),recurrentInitializer:A.serializeInitializer(this.recurrentInitializer),biasInitializer:A.serializeInitializer(this.biasInitializer),kernelRegularizer:C.serializeRegularizer(this.kernelRegularizer),recurrentRegularizer:C.serializeRegularizer(this.recurrentRegularizer),biasRegularizer:C.serializeRegularizer(this.biasRegularizer),activityRegularizer:C.serializeRegularizer(this.activityRegularizer),kernelConstraint:g.serializeConstraint(this.kernelConstraint),recurrentConstraint:g.serializeConstraint(this.recurrentConstraint),biasConstraint:g.serializeConstraint(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout},r=t.prototype.getConfig.call(this);return Object.assign(e,r),e},e.className="SimpleRNNCell",e}(x);e.SimpleRNNCell=w,l.serialization.SerializationMap.register(w);var N=function(t){function e(e){var r=this;return e.cell=new w(e),r=t.call(this,e)||this}return o(e,t),e.prototype.call=function(e,r){var n=this;return l.tidy(function(){null!=n.cell.dropoutMask&&(s.dispose(n.cell.dropoutMask),n.cell.dropoutMask=null),null!=n.cell.recurrentDropoutMask&&(s.dispose(n.cell.recurrentDropoutMask),n.cell.recurrentDropoutMask=null);var i=null==r?null:r.mask,a=null==r?null:r.training,o=null==r?null:r.initialState;return t.prototype.call.call(n,e,{mask:i,training:a,initialState:o})})},Object.defineProperty(e.prototype,"units",{get:function(){return this.cell.units},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activation",{get:function(){return this.cell.activation},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"useBias",{get:function(){return this.cell.useBias},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"kernelInitializer",{get:function(){return this.cell.kernelInitializer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"recurrentInitializer",{get:function(){return this.cell.recurrentInitializer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"biasInitializer",{get:function(){return this.cell.biasInitializer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"kernelRegularizer",{get:function(){return this.cell.kernelRegularizer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"recurrentRegularizer",{get:function(){return this.cell.recurrentRegularizer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"biasRegularizer",{get:function(){return this.cell.biasRegularizer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"kernelConstraint",{get:function(){return this.cell.kernelConstraint},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"recurrentConstraint",{get:function(){return this.cell.recurrentConstraint},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"biasConstraint",{get:function(){return this.cell.biasConstraint},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dropout",{get:function(){return this.cell.dropout},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"recurrentDropout",{get:function(){return this.cell.recurrentDropout},enumerable:!0,configurable:!0}),e.prototype.getConfig=function(){var e={units:this.units,activation:u.serializeActivation(this.activation),useBias:this.useBias,kernelInitializer:A.serializeInitializer(this.kernelInitializer),recurrentInitializer:A.serializeInitializer(this.recurrentInitializer),biasInitializer:A.serializeInitializer(this.biasInitializer),kernelRegularizer:C.serializeRegularizer(this.kernelRegularizer),recurrentRegularizer:C.serializeRegularizer(this.recurrentRegularizer),biasRegularizer:C.serializeRegularizer(this.biasRegularizer),activityRegularizer:C.serializeRegularizer(this.activityRegularizer),kernelConstraint:g.serializeConstraint(this.kernelConstraint),recurrentConstraint:g.serializeConstraint(this.recurrentConstraint),biasConstraint:g.serializeConstraint(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout},r=t.prototype.getConfig.call(this);return delete r.cell,Object.assign(e,r),e},e.className="SimpleRNN",e}(b);e.SimpleRNN=N,l.serialization.SerializationMap.register(N);var S=function(t){function e(e){var r=t.call(this,e)||this;return r.DEFAULT_ACTIVATION="tanh",r.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",r.DEFAULT_KERNEL_INITIALIZER="glorotNormal",r.DEFAULT_RECURRENT_INITIALIZER="orthogonal",r.DEFAULT_BIAS_INITIALIZER="zeros",r.units=e.units,r.activation=u.getActivation(void 0===e.activation?r.DEFAULT_ACTIVATION:e.activation),r.recurrentActivation=u.getActivation(void 0===e.recurrentActivation?r.DEFAULT_RECURRENT_ACTIVATION:e.recurrentActivation),r.useBias=null==e.useBias||e.useBias,r.kernelInitializer=A.getInitializer(e.kernelInitializer||r.DEFAULT_KERNEL_INITIALIZER),r.recurrentInitializer=A.getInitializer(e.recurrentInitializer||r.DEFAULT_RECURRENT_INITIALIZER),r.biasInitializer=A.getInitializer(e.biasInitializer||r.DEFAULT_BIAS_INITIALIZER),r.kernelRegularizer=C.getRegularizer(e.kernelRegularizer),r.recurrentRegularizer=C.getRegularizer(e.recurrentRegularizer),r.biasRegularizer=C.getRegularizer(e.biasRegularizer),r.kernelConstraint=g.getConstraint(e.kernelConstraint),r.recurrentConstraint=g.getConstraint(e.recurrentConstraint),r.biasConstraint=g.getConstraint(e.biasConstraint),r.dropout=m.min([1,m.max([0,null==e.dropout?0:e.dropout])]),r.recurrentDropout=m.min([1,m.max([0,null==e.recurrentDropout?0:e.recurrentDropout])]),r.implementation=e.implementation,r.stateSize=r.units,r.dropoutMask=null,r.recurrentDropoutMask=null,r}return o(e,t),e.prototype.build=function(t){t=I.getExactlyOneShape(t);var e=t[t.length-1];this.kernel=this.addWeight("kernel",[e,3*this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,3*this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight("bias",[3*this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0},e.prototype.call=function(t,e){var r=this;return l.tidy(function(){if(t=t,2!==t.length)throw new f.ValueError("GRUCell expects 2 input Tensors (inputs, h, c), got "+(t.length+"."));var n=null!=e.training&&e.training,i=t[1];t=t[0],0<r.dropout&&r.dropout<1&&null==r.dropoutMask&&(r.dropoutMask=a(function(){return s.onesLike(t)},r.dropout,n,3)),0<r.recurrentDropout&&r.recurrentDropout<1&&null==r.recurrentDropoutMask&&(r.recurrentDropoutMask=a(function(){return s.onesLike(i)},r.recurrentDropout,n,3));var o,l,u,g=r.dropoutMask,p=r.recurrentDropoutMask;if(1===r.implementation){var d=h.sliceAlongLastAxis(r.kernel.read(),0,r.units),A=h.sliceAlongLastAxis(r.kernel.read(),r.units,r.units),C=h.sliceAlongLastAxis(r.kernel.read(),2*r.units,r.units),m=h.sliceAlongLastAxis(r.recurrentKernel.read(),0,r.units),I=h.sliceAlongLastAxis(r.recurrentKernel.read(),r.units,r.units),v=h.sliceAlongLastAxis(r.recurrentKernel.read(),2*r.units,r.units),y=void 0,b=void 0,x=void 0;0<r.dropout&&r.dropout<1?(y=s.mul(t,g[0]),b=s.mul(t,g[1]),x=s.mul(t,g[2])):(y=t,b=t,x=t);var w=h.dot(y,d),N=h.dot(b,A),S=h.dot(x,C);if(r.useBias){var T=h.sliceAlongFirstAxis(r.bias.read(),0,r.units),E=h.sliceAlongFirstAxis(r.bias.read(),r.units,r.units),k=h.sliceAlongFirstAxis(r.bias.read(),2*r.units,r.units);w=h.biasAdd(w,T),N=h.biasAdd(N,E),S=h.biasAdd(S,k)}var O=void 0,_=void 0,P=void 0;0<r.recurrentDropout&&r.recurrentDropout<1?(O=s.mul(i,p[0]),_=s.mul(i,p[1]),P=s.mul(i,p[2])):(O=i,_=i,P=i),o=r.recurrentActivation.apply(s.add(w,h.dot(O,m))),l=r.recurrentActivation.apply(s.add(N,h.dot(_,I))),u=r.activation.apply(s.add(S,h.dot(s.mul(l,P),v)))}else{0<r.dropout&&r.dropout<1&&(t=s.mul(t,g[0]));var M=h.dot(t,r.kernel.read());r.useBias&&(M=h.biasAdd(M,r.bias.read())),0<r.dropout&&r.dropout<1&&(i=s.mul(i,p[0]));var D=h.dot(i,h.sliceAlongLastAxis(r.recurrentKernel.read(),0,2*r.units)),w=h.sliceAlongLastAxis(M,0,r.units),N=h.sliceAlongLastAxis(M,r.units,r.units),R=h.sliceAlongLastAxis(D,0,r.units),L=h.sliceAlongLastAxis(D,r.units,r.units);o=r.recurrentActivation.apply(s.add(w,R)),l=r.recurrentActivation.apply(s.add(N,L));var S=h.sliceAlongLastAxis(M,2*r.units,r.units),z=h.dot(s.mul(l,i),h.sliceAlongLastAxis(r.recurrentKernel.read(),2*r.units,r.units));u=r.activation.apply(s.add(S,z))}var F=s.add(s.mul(o,i),s.mul(s.add(c.getScalar(1),s.neg(o)),u));return[F,F]})},e.prototype.getConfig=function(){var e={units:this.units,activation:u.serializeActivation(this.activation),recurrentActivation:u.serializeActivation(this.recurrentActivation),useBias:this.useBias,kernelInitializer:A.serializeInitializer(this.kernelInitializer),recurrentInitializer:A.serializeInitializer(this.recurrentInitializer),biasInitializer:A.serializeInitializer(this.biasInitializer),kernelRegularizer:C.serializeRegularizer(this.kernelRegularizer),recurrentRegularizer:C.serializeRegularizer(this.recurrentRegularizer),biasRegularizer:C.serializeRegularizer(this.biasRegularizer),activityRegularizer:C.serializeRegularizer(this.activityRegularizer),kernelConstraint:g.serializeConstraint(this.kernelConstraint),recurrentConstraint:g.serializeConstraint(this.recurrentConstraint),biasConstraint:g.serializeConstraint(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation},r=t.prototype.getConfig.call(this);return Object.assign(e,r),e},e.className="GRUCell",e}(x);e.GRUCell=S,l.serialization.SerializationMap.register(S);var T=function(t){function e(e){var r=this;return 0===e.implementation&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),e.cell=new S(e),r=t.call(this,e)||this}return o(e,t),e.prototype.call=function(e,r){var n=this;return l.tidy(function(){null!=n.cell.dropoutMask&&(s.dispose(n.cell.dropoutMask),n.cell.dropoutMask=null),null!=n.cell.recurrentDropoutMask&&(s.dispose(n.cell.recurrentDropoutMask),n.cell.recurrentDropoutMask=null);var i=null==r?null:r.mask,a=null==r?null:r.training,o=null==r?null:r.initialState;return t.prototype.call.call(n,e,{mask:i,training:a,initialState:o})})},Object.defineProperty(e.prototype,"units",{get:function(){return this.cell.units},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activation",{get:function(){return this.cell.activation},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"recurrentActivation",{get:function(){return this.cell.recurrentActivation},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"useBias",{get:function(){return this.cell.useBias},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"kernelInitializer",{get:function(){return this.cell.kernelInitializer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"recurrentInitializer",{get:function(){return this.cell.recurrentInitializer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"biasInitializer",{get:function(){return this.cell.biasInitializer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"kernelRegularizer",{get:function(){return this.cell.kernelRegularizer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"recurrentRegularizer",{get:function(){return this.cell.recurrentRegularizer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"biasRegularizer",{get:function(){return this.cell.biasRegularizer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"kernelConstraint",{get:function(){return this.cell.kernelConstraint},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"recurrentConstraint",{get:function(){return this.cell.recurrentConstraint},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"biasConstraint",{get:function(){return this.cell.biasConstraint},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dropout",{get:function(){return this.cell.dropout},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"recurrentDropout",{get:function(){return this.cell.recurrentDropout},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"implementation",{get:function(){return this.cell.implementation},enumerable:!0,configurable:!0}),e.prototype.getConfig=function(){var e={units:this.units,activation:u.serializeActivation(this.activation),recurrentActivation:u.serializeActivation(this.recurrentActivation),useBias:this.useBias,kernelInitializer:A.serializeInitializer(this.kernelInitializer),recurrentInitializer:A.serializeInitializer(this.recurrentInitializer),biasInitializer:A.serializeInitializer(this.biasInitializer),kernelRegularizer:C.serializeRegularizer(this.kernelRegularizer),recurrentRegularizer:C.serializeRegularizer(this.recurrentRegularizer),biasRegularizer:C.serializeRegularizer(this.biasRegularizer),activityRegularizer:C.serializeRegularizer(this.activityRegularizer),kernelConstraint:g.serializeConstraint(this.kernelConstraint),recurrentConstraint:g.serializeConstraint(this.recurrentConstraint),biasConstraint:g.serializeConstraint(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation},r=t.prototype.getConfig.call(this);return delete r.cell,Object.assign(e,r),e},e.fromConfig=function(t,e){return 0===e.implmentation&&(e.implementation=1),new t(e)},e.className="GRU",e}(b);e.GRU=T,l.serialization.SerializationMap.register(T);var E=function(t){function e(e){var r=t.call(this,e)||this;return r.DEFAULT_ACTIVATION="tanh",r.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",r.DEFAULT_KERNEL_INITIALIZER="glorotNormal",r.DEFAULT_RECURRENT_INITIALIZER="orthogonal",r.DEFAULT_BIAS_INITIALIZER="zeros",r.units=e.units,r.activation=u.getActivation(void 0===e.activation?r.DEFAULT_ACTIVATION:e.activation),r.recurrentActivation=u.getActivation(void 0===e.recurrentActivation?r.DEFAULT_RECURRENT_ACTIVATION:e.recurrentActivation),r.useBias=null==e.useBias||e.useBias,r.kernelInitializer=A.getInitializer(e.kernelInitializer||r.DEFAULT_KERNEL_INITIALIZER),r.recurrentInitializer=A.getInitializer(e.recurrentInitializer||r.DEFAULT_RECURRENT_INITIALIZER),r.biasInitializer=A.getInitializer(e.biasInitializer||r.DEFAULT_BIAS_INITIALIZER),r.unitForgetBias=e.unitForgetBias,r.kernelRegularizer=C.getRegularizer(e.kernelRegularizer),r.recurrentRegularizer=C.getRegularizer(e.recurrentRegularizer),r.biasRegularizer=C.getRegularizer(e.biasRegularizer),r.kernelConstraint=g.getConstraint(e.kernelConstraint),r.recurrentConstraint=g.getConstraint(e.recurrentConstraint),r.biasConstraint=g.getConstraint(e.biasConstraint),r.dropout=m.min([1,m.max([0,null==e.dropout?0:e.dropout])]),r.recurrentDropout=m.min([1,m.max([0,null==e.recurrentDropout?0:e.recurrentDropout])]),r.implementation=e.implementation,r.stateSize=[r.units,r.units],r.dropoutMask=null,r.recurrentDropoutMask=null,r}return o(e,t),e.prototype.build=function(t){t=I.getExactlyOneShape(t);var e=t[t.length-1];this.kernel=this.addWeight("kernel",[e,4*this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,4*this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint);var r;if(this.useBias){if(this.unitForgetBias){var n=this.biasInitializer,i=this.units;r=new(a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.apply=function(t,e){var r=n.apply([i]),a=(new A.Ones).apply([i]),o=n.apply([2*i]);
return h.concatAlongFirstAxis(h.concatAlongFirstAxis(r,a),o)},e}(A.Initializer),a.className="CustomInit",a)}else r=this.biasInitializer;this.bias=this.addWeight("bias",[4*this.units],null,r,this.biasRegularizer,!0,this.biasConstraint)}else this.bias=null;this.built=!0;var a},e.prototype.call=function(t,e){var r=this;return l.tidy(function(){var n=null!=e.training&&e.training;if(t=t,3!==t.length)throw new f.ValueError("LSTMCell expects 3 input Tensors (inputs, h, c), got "+(t.length+"."));var i=t[1],o=t[2];t=t[0],0<r.dropout&&r.dropout<1&&null==r.dropoutMask&&(r.dropoutMask=a(function(){return s.onesLike(t)},r.dropout,n,4)),0<r.recurrentDropout&&r.recurrentDropout<1&&null==r.recurrentDropoutMask&&(r.recurrentDropoutMask=a(function(){return s.onesLike(i)},r.recurrentDropout,n,4));var l,u,c,g,p=r.dropoutMask,d=r.recurrentDropoutMask;if(1===r.implementation){var A=h.sliceAlongLastAxis(r.kernel.read(),0,r.units),C=h.sliceAlongLastAxis(r.kernel.read(),r.units,r.units),m=h.sliceAlongLastAxis(r.kernel.read(),2*r.units,r.units),I=h.sliceAlongLastAxis(r.kernel.read(),3*r.units,r.units),v=h.sliceAlongLastAxis(r.recurrentKernel.read(),0,r.units),y=h.sliceAlongLastAxis(r.recurrentKernel.read(),r.units,r.units),b=h.sliceAlongLastAxis(r.recurrentKernel.read(),2*r.units,r.units),x=h.sliceAlongLastAxis(r.recurrentKernel.read(),3*r.units,r.units),w=void 0,N=void 0,S=void 0,T=void 0;0<r.dropout&&r.dropout<1?(w=s.mul(t,p[0]),N=s.mul(t,p[1]),S=s.mul(t,p[2]),T=s.mul(t,p[3])):(w=t,N=t,S=t,T=t);var E=h.dot(w,A),k=h.dot(N,C),O=h.dot(S,m),_=h.dot(T,I);if(r.useBias){var P=h.sliceAlongFirstAxis(r.bias.read(),0,r.units),M=h.sliceAlongFirstAxis(r.bias.read(),r.units,r.units),D=h.sliceAlongFirstAxis(r.bias.read(),2*r.units,r.units),R=h.sliceAlongFirstAxis(r.bias.read(),3*r.units,r.units);E=h.biasAdd(E,P),k=h.biasAdd(k,M),O=h.biasAdd(O,D),_=h.biasAdd(_,R)}var L=void 0,z=void 0,F=void 0,B=void 0;0<r.recurrentDropout&&r.recurrentDropout<1?(L=s.mul(i,d[0]),z=s.mul(i,d[1]),F=s.mul(i,d[2]),B=s.mul(i,d[3])):(L=i,z=i,F=i,B=i),l=r.recurrentActivation.apply(s.add(E,h.dot(L,v))),u=r.recurrentActivation.apply(s.add(k,h.dot(z,y))),c=s.add(s.mul(u,o),s.mul(l,r.activation.apply(s.add(O,h.dot(F,b))))),g=r.recurrentActivation.apply(s.add(_,h.dot(B,x)))}else{0<r.dropout&&r.dropout<1&&(t=s.mul(t,p[0]));var V=h.dot(t,r.kernel.read());0<r.recurrentDropout&&r.recurrentDropout<1&&(i=s.mul(i,d[0])),V=s.add(V,h.dot(i,r.recurrentKernel.read())),r.useBias&&(V=h.biasAdd(V,r.bias.read()));var j=h.sliceAlongLastAxis(V,0,r.units),W=h.sliceAlongLastAxis(V,r.units,r.units),G=h.sliceAlongLastAxis(V,2*r.units,r.units),U=h.sliceAlongLastAxis(V,3*r.units,r.units);l=r.recurrentActivation.apply(j),u=r.recurrentActivation.apply(W),c=s.add(s.mul(u,o),s.mul(l,r.activation.apply(G))),g=r.recurrentActivation.apply(U)}var H=s.mul(g,r.activation.apply(c));return[H,H,c]})},e.prototype.getConfig=function(){var e={units:this.units,activation:u.serializeActivation(this.activation),recurrentActivation:u.serializeActivation(this.recurrentActivation),useBias:this.useBias,kernelInitializer:A.serializeInitializer(this.kernelInitializer),recurrentInitializer:A.serializeInitializer(this.recurrentInitializer),biasInitializer:A.serializeInitializer(this.biasInitializer),unitForgetBias:this.unitForgetBias,kernelRegularizer:C.serializeRegularizer(this.kernelRegularizer),recurrentRegularizer:C.serializeRegularizer(this.recurrentRegularizer),biasRegularizer:C.serializeRegularizer(this.biasRegularizer),activityRegularizer:C.serializeRegularizer(this.activityRegularizer),kernelConstraint:g.serializeConstraint(this.kernelConstraint),recurrentConstraint:g.serializeConstraint(this.recurrentConstraint),biasConstraint:g.serializeConstraint(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation},r=t.prototype.getConfig.call(this);return Object.assign(e,r),e},e.className="LSTMCell",e}(x);e.LSTMCell=E,l.serialization.SerializationMap.register(E);var k=function(t){function e(e){var r=this;return 0===e.implementation&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),e.cell=new E(e),r=t.call(this,e)||this}return o(e,t),e.prototype.call=function(e,r){var n=this;return l.tidy(function(){null!=n.cell.dropoutMask&&(s.dispose(n.cell.dropoutMask),n.cell.dropoutMask=null),null!=n.cell.recurrentDropoutMask&&(s.dispose(n.cell.recurrentDropoutMask),n.cell.recurrentDropoutMask=null);var i=null==r?null:r.mask,a=null==r?null:r.training,o=null==r?null:r.initialState;return t.prototype.call.call(n,e,{mask:i,training:a,initialState:o})})},Object.defineProperty(e.prototype,"units",{get:function(){return this.cell.units},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activation",{get:function(){return this.cell.activation},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"recurrentActivation",{get:function(){return this.cell.recurrentActivation},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"useBias",{get:function(){return this.cell.useBias},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"kernelInitializer",{get:function(){return this.cell.kernelInitializer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"recurrentInitializer",{get:function(){return this.cell.recurrentInitializer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"biasInitializer",{get:function(){return this.cell.biasInitializer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"unitForgetBias",{get:function(){return this.cell.unitForgetBias},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"kernelRegularizer",{get:function(){return this.cell.kernelRegularizer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"recurrentRegularizer",{get:function(){return this.cell.recurrentRegularizer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"biasRegularizer",{get:function(){return this.cell.biasRegularizer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"kernelConstraint",{get:function(){return this.cell.kernelConstraint},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"recurrentConstraint",{get:function(){return this.cell.recurrentConstraint},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"biasConstraint",{get:function(){return this.cell.biasConstraint},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dropout",{get:function(){return this.cell.dropout},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"recurrentDropout",{get:function(){return this.cell.recurrentDropout},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"implementation",{get:function(){return this.cell.implementation},enumerable:!0,configurable:!0}),e.prototype.getConfig=function(){var e={units:this.units,activation:u.serializeActivation(this.activation),recurrentActivation:u.serializeActivation(this.recurrentActivation),useBias:this.useBias,kernelInitializer:A.serializeInitializer(this.kernelInitializer),recurrentInitializer:A.serializeInitializer(this.recurrentInitializer),biasInitializer:A.serializeInitializer(this.biasInitializer),unitForgetBias:this.unitForgetBias,kernelRegularizer:C.serializeRegularizer(this.kernelRegularizer),recurrentRegularizer:C.serializeRegularizer(this.recurrentRegularizer),biasRegularizer:C.serializeRegularizer(this.biasRegularizer),activityRegularizer:C.serializeRegularizer(this.activityRegularizer),kernelConstraint:g.serializeConstraint(this.kernelConstraint),recurrentConstraint:g.serializeConstraint(this.recurrentConstraint),biasConstraint:g.serializeConstraint(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation},r=t.prototype.getConfig.call(this);return delete r.cell,Object.assign(e,r),e},e.fromConfig=function(t,e){return 0===e.implmentation&&(e.implementation=1),new t(e)},e.className="LSTM",e}(b);e.LSTM=k,l.serialization.SerializationMap.register(k);var O=function(t){function e(e){var r=t.call(this,e)||this;return r.cells=e.cells,r}return o(e,t),Object.defineProperty(e.prototype,"stateSize",{get:function(){for(var t=[],e=0,r=this.cells.slice().reverse();e<r.length;e++){var n=r[e];Array.isArray(n.stateSize)?t.push.apply(t,n.stateSize):t.push(n.stateSize)}return t},enumerable:!0,configurable:!0}),e.prototype.call=function(t,e){var r=this;return l.tidy(function(){t=t;for(var n=t.slice(1),i=[],a=0,o=r.cells.slice().reverse();a<o.length;a++){var s=o[a];Array.isArray(s.stateSize)?i.push(n.splice(0,s.stateSize.length)):i.push(n.splice(0,1))}i.reverse();for(var l,u=[],c=0;c<r.cells.length;++c){var s=r.cells[c];n=i[c],l=0===c?[t[0]].concat(n):[l[0]].concat(n),l=s.call(l,e),u.push(l.slice(1))}n=[];for(var h=0,g=u.slice().reverse();h<g.length;h++){var p=g[h];n.push.apply(n,p)}return[l[0]].concat(n)})},e.prototype.build=function(t){I.isArrayOfShapes(t)&&(t=t[0]),t=t;for(var e,r=0,n=this.cells;r<n.length;r++){var i=n[r];i.build(t),e=Array.isArray(i.stateSize)?i.stateSize[0]:i.stateSize,t=[t[0],e]}this.built=!0},e.prototype.getConfig=function(){for(var e=[],r=0,n=this.cells;r<n.length;r++){var i=n[r];e.push({className:this.getClassName(),config:i.getConfig()})}var a={cells:e},o=t.prototype.getConfig.call(this);return Object.assign(a,o),a},e.fromConfig=function(t,e,r){void 0===r&&(r={});for(var n=[],i=0,a=e.cells;i<a.length;i++){var o=a[i];n.push(y.deserialize(o,r))}return new t({cells:n})},Object.defineProperty(e.prototype,"trainableWeights",{get:function(){if(!this.trainable)return[];for(var t=[],e=0,r=this.cells;e<r.length;e++){var n=r[e];t.push.apply(t,n.trainableWeights)}return t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nonTrainableWeights",{get:function(){for(var t=[],e=0,r=this.cells;e<r.length;e++){var n=r[e];t.push.apply(t,n.nonTrainableWeights)}if(!this.trainable){for(var i=[],a=0,o=this.cells;a<o.length;a++){var n=o[a];i.push.apply(i,n.trainableWeights)}return i.concat(t)}return t},enumerable:!0,configurable:!0}),e.prototype.getWeights=function(){for(var t=[],e=0,r=this.cells;e<r.length;e++){var n=r[e];t.push.apply(t,n.weights)}return v.batchGetValue(t)},e.prototype.setWeights=function(t){for(var e=[],r=0,n=this.cells;r<n.length;r++)for(var i=n[r],a=i.weights.length,o=t.splice(a),s=0;s<i.weights.length;++s)e.push([i.weights[s],o[s]]);v.batchSetValue(e)},e.className="StackedRNNCells",e}(x);e.StackedRNNCells=O,l.serialization.SerializationMap.register(O)},function(t,e,r){"use strict";function n(t){g.checkStringTypeUnionValue(e.VALID_BIDIRECTIONAL_MERGE_MODES,"BidirectionalMergeMode",t)}var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var a=r(510),o=r(510),s=r(668),l=r(673),u=r(674),c=r(678),h=r(670),g=r(669),p=r(679),d=r(708),f=r(691),A=function(t){function e(e){var r=t.call(this,e)||this;return r.layer=e.layer,r}return i(e,t),e.prototype.build=function(t){this.built=!0},Object.defineProperty(e.prototype,"trainable",{get:function(){return null!=this.layer&&this.layer.trainable},set:function(t){null!=this.layer&&(this.layer.trainable=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"trainableWeights",{get:function(){return this.layer.trainableWeights},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nonTrainableWeights",{get:function(){return this.layer.nonTrainableWeights},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"updates",{get:function(){return this.layer._updates},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"losses",{get:function(){return this.layer.losses},enumerable:!0,configurable:!0}),e.prototype.getWeights=function(){return this.layer.getWeights()},e.prototype.setWeights=function(t){this.layer.setWeights(t)},e.prototype.getConfig=function(){var e={layer:{className:this.layer.getClassName(),config:this.layer.getConfig()}},r=t.prototype.getConfig.call(this);return Object.assign(e,r),e},e.fromConfig=function(t,e,r){void 0===r&&(r={});var n=e.layer,i=f.deserialize(n,r);delete e.layer;var a={layer:i};return Object.assign(a,e),new t(a)},e}(c.Layer);e.Wrapper=A;var C=function(t){function e(e){var r=t.call(this,e)||this;return r.supportsMasking=!0,r}return i(e,t),e.prototype.build=function(e){if(e=p.getExactlyOneShape(e),e.length<3)throw new h.ValueError("TimeDistributed layer expects an input shape >= 3D, but received input shape "+JSON.stringify(e));this.inputSpec=[{shape:e}];var r=[e[0]].concat(e.slice(2));this.layer.built||(this.layer.build(r),this.layer.built=!0),t.prototype.build.call(this,e)},e.prototype.computeOutputShape=function(t){t=p.getExactlyOneShape(t);var e=[t[0]].concat(t.slice(2)),r=this.layer.computeOutputShape(e),n=t[1];return[r[0],n].concat(r.slice(1))},e.prototype.call=function(t,e){var r=this;return o.tidy(function(){t=p.getExactlyOneTensor(t);var n=function(t,n){var i=r.layer.call(t,e);return[i,[]]},i=d.rnn(n,t,[],!1,null,null,!1,t.shape[1]),a=i[1];return a})},e.className="TimeDistributed",e}(A);e.TimeDistributed=C,o.serialization.SerializationMap.register(C),e.VALID_BIDIRECTIONAL_MERGE_MODES=["sum","mul","concat","ave"],e.checkBidirectionalMergeMode=n;var m=function(t){function e(e){var r=t.call(this,e)||this,i=e.layer.getConfig();if(r.forwardLayer=f.deserialize({className:e.layer.getClassName(),config:i}),i.goBackwards=i.goBackwards!==!0,r.backwardLayer=f.deserialize({className:e.layer.getClassName(),config:i}),r.forwardLayer.name="forward_"+r.forwardLayer.name,r.backwardLayer.name="backward_"+r.backwardLayer.name,n(e.mergeMode),r.mergeMode=e.mergeMode,e.weights)throw new h.NotImplementedError("weights support is not implemented for Bidirectional layer yet.");return r._stateful=e.layer.stateful,r.returnSequences=e.layer.returnSequences,r.returnState=e.layer.returnState,r.supportsMasking=!0,r._trainable=!0,r.inputSpec=e.layer.inputSpec,r.numConstants=null,r}return i(e,t),Object.defineProperty(e.prototype,"trainable",{get:function(){return this._trainable},set:function(t){this._trainable=t,null!=this.forwardLayer&&(this.forwardLayer.trainable=t),null!=this.backwardLayer&&(this.backwardLayer.trainable=t)},enumerable:!0,configurable:!0}),e.prototype.getWeights=function(){return this.forwardLayer.getWeights().concat(this.backwardLayer.getWeights())},e.prototype.setWeights=function(t){var e=t.length,r=Math.floor(e/2);this.forwardLayer.setWeights(t.slice(0,r)),this.backwardLayer.setWeights(t.slice(r))},e.prototype.computeOutputShape=function(t){var e=this.forwardLayer.computeOutputShape(t);Array.isArray(e)&&Array.isArray(e[0])||(e=[e]),e=e;var r,n,i;return this.returnState?(i=e.slice(1),r=e[0]):r=e[0],r=r,"concat"===this.mergeMode?(r[r.length-1]*=2,n=[r]):n=null==this.mergeMode?[r,r.slice()]:[r],this.returnState?null==this.mergeMode?n.concat(i).concat(i.slice()):[r].concat(i).concat(i.slice()):g.singletonOrArray(n)},e.prototype.apply=function(e,r){var n=null==r?null:r.initialState,i=null==r?null:r.constants;null==r&&(r={});var a=d.standardizeArgs(e,n,i,this.numConstants);if(e=a.inputs,n=a.initialState,i=a.constants,Array.isArray(e)&&(n=e.slice(1),e=e[0]),(null==n||0===n.length)&&null==i)return t.prototype.apply.call(this,e,r);var o=[],s=[];if(null!=n){var l=n.length;if(l%2>0)throw new h.ValueError("When passing `initialState` to a Bidrectional RNN, the state should be an Array containing the states of the underlying RNNs.");r.initialState=n,o.push.apply(o,n);var u=n.map(function(t){return new c.InputSpec({shape:t.shape})});this.forwardLayer.stateSpec=u.slice(0,l/2),this.backwardLayer.stateSpec=u.slice(l/2),s.push.apply(s,u)}if(null!=i)throw new h.NotImplementedError("Support for constants in Bidirectional layers is not implemented yet.");for(var g=o[0]instanceof c.SymbolicTensor,p=0,f=o;p<f.length;p++){var A=f[p];if(A instanceof c.SymbolicTensor!==g)throw new h.ValueError("The initial state of a Bidirectional layer cannot be specified as a mix of symbolic and non-symbolic tensors")}if(g){var C=[e].concat(o),m=this.inputSpec.concat(s),I=this.inputSpec;this.inputSpec=m;var v=t.prototype.apply.call(this,C,r);return this.inputSpec=I,v}return t.prototype.apply.call(this,e,r)},e.prototype.call=function(t,e){var r=this;return o.tidy(function(){if(null!=e.mask)throw new h.NotImplementedError("The support for masking is not implemented for Bidirectional layers yet.");var n,i,o=e.initialState;if(null==o)n=r.forwardLayer.call(t,e),i=r.backwardLayer.call(t,e);else{var u=o.slice(0,o.length/2),c=o.slice(o.length/2);n=r.forwardLayer.call(t,Object.assign(e,{initialState:u})),i=r.forwardLayer.call(t,Object.assign(e,{initialState:c}))}var g;r.returnState&&(Array.isArray(n)&&(g=n.slice(1).concat(i.slice(1))),n=n[0],i=i[0]),r.returnSequences&&(i=a.reverse(i,1));var p;return"concat"===r.mergeMode?p=l.concatenate([n,i]):"sum"===r.mergeMode?p=a.add(n,i):"ave"===r.mergeMode?p=a.mul(s.getScalar(.5),a.add(n,i)):"mul"===r.mergeMode?p=a.mul(n,i):null==r.mergeMode&&(p=[n,i]),r.returnState?null==r.mergeMode?p.concat(g):[p].concat(g):p})},e.prototype.resetStates=function(t){this.forwardLayer.resetStates(),this.backwardLayer.resetStates()},e.prototype.build=function(t){var e=this;u.nameScope(this.forwardLayer.name,function(){e.forwardLayer.build(t)}),u.nameScope(this.backwardLayer.name,function(){e.backwardLayer.build(t)}),this.built=!0},Object.defineProperty(e.prototype,"trainableWeights",{get:function(){return this.forwardLayer.trainableWeights.concat(this.backwardLayer.trainableWeights)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nonTrainableWeights",{get:function(){return this.forwardLayer.nonTrainableWeights.concat(this.backwardLayer.nonTrainableWeights)},enumerable:!0,configurable:!0}),e.prototype.getConfig=function(){var e={mergeMode:this.mergeMode},r=t.prototype.getConfig.call(this);return Object.assign(e,r),e},e.fromConfig=function(t,e){var r=f.deserialize(e.layer);if(delete e.layer,null!=e.numConstants)throw new h.NotImplementedError("Deserialization of a Bidirectional layer with numConstants present is not supported yet.");var n=e;return n.layer=r,new t(n)},e.className="Bidirectional",e}(A);e.Bidirectional=m,o.serialization.SerializationMap.register(m)},function(t,e,r){"use strict";function n(t,e){return A.binaryAccuracy(t,e)}function i(t,e){return A.binaryCrossentropy(t,e)}function a(t,e){return A.categoricalAccuracy(t,e)}function o(t,e){return A.categoricalCrossentropy(t,e)}function s(t,e){return f.cosineProximity(t,e)}function l(t,e){return f.meanAbsoluteError(t,e)}function u(t,e){return f.meanAbsolutePercentageError(t,e)}function c(t,e){return f.meanAbsolutePercentageError(t,e)}function h(t,e){return f.meanAbsolutePercentageError(t,e)}function g(t,e){return f.meanSquaredError(t,e)}function p(t,e){return f.meanSquaredError(t,e)}function d(t,e){return f.meanSquaredError(t,e)}Object.defineProperty(e,"__esModule",{value:!0});var f=r(686),A=r(687);e.binaryAccuracy=n,e.binaryCrossentropy=i,e.categoricalAccuracy=a,e.categoricalCrossentropy=o,e.cosineProximity=s,e.meanAbsoluteError=l,e.meanAbsolutePercentageError=u,e.MAPE=c,e.mape=h,e.meanSquaredError=g,e.MSE=p,e.mse=d},function(t,e,r){"use strict";function n(t){return new s.L1L2(t)}function i(t){return o.l1(t)}function a(t){return o.l2(t)}Object.defineProperty(e,"__esModule",{value:!0});var o=r(699),s=r(699);e.l1l2=n,e.l1=i,e.l2=a},function(t,e,r){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=r(684),a=r(683),o=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.model=null,e}return n(e,t),e.prototype.setModel=function(t){if(!(t instanceof a.Model))throw new Error("model must be a Model, not some other Container");this.model=t},e}(i.BaseCallback);e.Callback=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(714);e.FrozenModel=n.FrozenModel,e.loadFrozenModel=n.loadFrozenModel;var i=r(770);e.version_converter=i.version},function(t,e,r){"use strict";function n(t,e,r){return i(this,void 0,void 0,function(){var n;return a(this,function(i){switch(i.label){case 0:return n=new c(t,e,r),[4,n.load()];case 1:return i.sent(),[2,n]}})})}var i=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))(function(i,a){function o(t){try{l(n.next(t))}catch(t){a(t)}}function s(t){try{l(n.throw(t))}catch(t){a(t)}}function l(t){t.done?i(t.value):new r(function(e){e(t.value)}).then(o,s)}l((n=n.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){function r(t){return function(e){return n([t,e])}}function n(r){if(i)throw new TypeError("Generator is already executing.");for(;l;)try{if(i=1,a&&(o=a[2&r[0]?"return":r[0]?"throw":"next"])&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[0,o.value]),r[0]){case 0:case 1:o=r;break;case 4:return l.label++,{value:r[1],done:!1};case 5:l.label++,a=r[1],r=[0];continue;case 7:r=l.ops.pop(),l.trys.pop();continue;default:if(o=l.trys,!(o=o.length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){l=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){l.label=r[1];break}if(6===r[0]&&l.label<o[1]){l.label=o[1],o=r;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(r);break}o[2]&&l.ops.pop(),l.trys.pop();continue}r=e.call(t,l)}catch(t){r=[6,t],a=0}finally{i=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}var i,a,o,s,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(e,"__esModule",{value:!0});var o=r(510),s=r(715),l=r(734),u=r(751),c=function(){function t(t,e,r){this.modelUrl=t,this.weightManifestUrl=e,this.requestOption=r,this.version="n/a"}return Object.defineProperty(t.prototype,"modelVersion",{get:function(){return this.version},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputNodes",{get:function(){return this.executor.inputNodes},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outputNodes",{get:function(){return this.executor.outputNodes},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputs",{get:function(){return this.executor.inputs},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outputs",{get:function(){return this.executor.outputs},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"weights",{get:function(){return this.executor.weightMap},enumerable:!0,configurable:!0}),t.prototype.findIOHandler=function(){var t=[this.modelUrl,this.weightManifestUrl];if(this.requestOption)this.handler=o.io.browserHTTPRequest(t,this.requestOption);else{var e=o.io.getLoadHandlers(t);if(0===e.length)e.push(o.io.browserHTTPRequest(t,this.requestOption));else if(e.length>1)throw new Error("Found more than one ("+e.length+") load handlers for "+("URL '"+[t]+"'"));this.handler=e[0]}},t.prototype.load=function(){return i(this,void 0,void 0,function(){var t,e,r;return a(this,function(n){switch(n.label){case 0:if(this.findIOHandler(),null==this.handler.load)throw new Error("Cannot proceed with model loading because the IOHandler provided does not have the `load` method implemented.");return[4,this.handler.load()];case 1:return t=n.sent(),e=s.tensorflow.GraphDef.decode(new Uint8Array(t.modelTopology)),this.version=e.versions.producer+"."+e.versions.minConsumer,r=o.io.decodeWeights(t.weightData,t.weightSpecs),this.executor=new u.GraphExecutor(l.OperationMapper.Instance.transformGraph(e)),this.executor.weightMap=this.convertTensorMapToTensorsMap(r),[2,!0]}})})},t.prototype.predict=function(t,e){return this.execute(t,this.outputNodes)},t.prototype.constructTensorMap=function(t){var e=t instanceof o.Tensor?[t]:t;if(e.length!==this.inputNodes.length)throw new Error("Input tensor count mismatch,"+("the frozen model has "+this.inputNodes.length+" placeholders, ")+("while there are "+e.length+" input tensors."));return this.inputNodes.reduce(function(t,r,n){return t[r]=e[n],t},{})},t.prototype.execute=function(t,e){if(e=e||this.outputNodes,(t instanceof o.Tensor||Array.isArray(t))&&(t=this.constructTensorMap(t)),this.executor.isControlFlowModel||this.executor.isDynamicShapeModel)throw new Error("The model contains control flow or dynamic shape ops, please use executeAsync method");var r=this.executor.execute(this.convertTensorMapToTensorsMap(t),e),n=Object.keys(r);return Array.isArray(e)&&e.length>1?e.map(function(t){return r[t]}):r[n[0]]},t.prototype.executeAsync=function(t,e){return i(this,void 0,void 0,function(){var r,n;return a(this,function(i){switch(i.label){case 0:if(!this.executor.isControlFlowModel&&!this.executor.isDynamicShapeModel)throw new Error("The model does not contain control flow or dynamic shape ops, please use execute method for better performance.");return e=e||this.outputNodes,(t instanceof o.Tensor||Array.isArray(t))&&(t=this.constructTensorMap(t)),[4,this.executor.executeAsync(this.convertTensorMapToTensorsMap(t),e)];case 1:return r=i.sent(),n=Object.keys(r),[2,Array.isArray(e)&&e.length>1?e.map(function(t){return r[t]}):r[n[0]]]}})})},t.prototype.convertTensorMapToTensorsMap=function(t){return Object.keys(t).reduce(function(e,r){return e[r]=[t[r]],e},{})},t.prototype.dispose=function(){this.executor.dispose()},t}();e.FrozenModel=c,e.loadFrozenModel=n},function(t,e,r){"use strict";var n=r(716),i=n.Reader,a=n.util,o=n.roots.default||(n.roots.default={});o.tensorflow=function(){var t={};return t.Any=function(){function t(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)null!=t[e[r]]&&(this[e[r]]=t[e[r]])}return t.prototype.typeUrl="",t.prototype.value=a.newBuffer([]),t.decode=function(t,e){t instanceof i||(t=i.create(t));for(var r=void 0===e?t.len:t.pos+e,n=new o.tensorflow.Any;t.pos<r;){var a=t.uint32();switch(a>>>3){case 1:n.typeUrl=t.string();break;case 2:n.value=t.bytes();break;default:t.skipType(7&a)}}return n},t}(),t.DataType=function(){var t={},e=Object.create(t);return e[t[0]="DT_INVALID"]=0,e[t[1]="DT_FLOAT"]=1,e[t[2]="DT_DOUBLE"]=2,e[t[3]="DT_INT32"]=3,e[t[4]="DT_UINT8"]=4,e[t[5]="DT_INT16"]=5,e[t[6]="DT_INT8"]=6,e[t[7]="DT_STRING"]=7,e[t[8]="DT_COMPLEX64"]=8,e[t[9]="DT_INT64"]=9,e[t[10]="DT_BOOL"]=10,e[t[11]="DT_QINT8"]=11,e[t[12]="DT_QUINT8"]=12,e[t[13]="DT_QINT32"]=13,e[t[14]="DT_BFLOAT16"]=14,e[t[101]="DT_FLOAT_REF"]=101,e[t[102]="DT_DOUBLE_REF"]=102,e[t[103]="DT_INT32_REF"]=103,e[t[104]="DT_UINT8_REF"]=104,e[t[105]="DT_INT16_REF"]=105,e[t[106]="DT_INT8_REF"]=106,e[t[107]="DT_STRING_REF"]=107,e[t[108]="DT_COMPLEX64_REF"]=108,e[t[109]="DT_INT64_REF"]=109,e[t[110]="DT_BOOL_REF"]=110,e[t[111]="DT_QINT8_REF"]=111,e[t[112]="DT_QUINT8_REF"]=112,e[t[113]="DT_QINT32_REF"]=113,e[t[114]="DT_BFLOAT16_REF"]=114,e}(),t.TensorShape=function(){function t(t){if(this.dim=[],t)for(var e=Object.keys(t),r=0;r<e.length;++r)null!=t[e[r]]&&(this[e[r]]=t[e[r]])}return t.prototype.dim=a.emptyArray,t.prototype.unknownRank=!1,t.decode=function(t,e){t instanceof i||(t=i.create(t));for(var r=void 0===e?t.len:t.pos+e,n=new o.tensorflow.TensorShape;t.pos<r;){var a=t.uint32();switch(a>>>3){case 2:n.dim&&n.dim.length||(n.dim=[]),n.dim.push(o.tensorflow.TensorShape.Dim.decode(t,t.uint32()));break;case 3:n.unknownRank=t.bool();break;default:t.skipType(7&a)}}return n},t.Dim=function(){function t(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)null!=t[e[r]]&&(this[e[r]]=t[e[r]])}return t.prototype.size=a.Long?a.Long.fromBits(0,0,!1):0,t.prototype.name="",t.decode=function(t,e){t instanceof i||(t=i.create(t));for(var r=void 0===e?t.len:t.pos+e,n=new o.tensorflow.TensorShape.Dim;t.pos<r;){var a=t.uint32();switch(a>>>3){case 1:n.size=t.int64();break;case 2:n.name=t.string();break;default:t.skipType(7&a)}}return n},t}(),t}(),t.Tensor=function(){function t(t){if(this.floatVal=[],this.doubleVal=[],this.intVal=[],this.stringVal=[],this.scomplexVal=[],this.int64Val=[],this.boolVal=[],this.uint32Val=[],this.uint64Val=[],t)for(var e=Object.keys(t),r=0;r<e.length;++r)null!=t[e[r]]&&(this[e[r]]=t[e[r]])}return t.prototype.dtype=0,t.prototype.tensorShape=null,t.prototype.versionNumber=0,t.prototype.tensorContent=a.newBuffer([]),t.prototype.floatVal=a.emptyArray,t.prototype.doubleVal=a.emptyArray,t.prototype.intVal=a.emptyArray,t.prototype.stringVal=a.emptyArray,t.prototype.scomplexVal=a.emptyArray,t.prototype.int64Val=a.emptyArray,t.prototype.boolVal=a.emptyArray,t.prototype.uint32Val=a.emptyArray,t.prototype.uint64Val=a.emptyArray,t.decode=function(t,e){t instanceof i||(t=i.create(t));for(var r=void 0===e?t.len:t.pos+e,n=new o.tensorflow.Tensor;t.pos<r;){var a=t.uint32();switch(a>>>3){case 1:n.dtype=t.int32();break;case 2:n.tensorShape=o.tensorflow.TensorShape.decode(t,t.uint32());break;case 3:n.versionNumber=t.int32();break;case 4:n.tensorContent=t.bytes();break;case 5:if(n.floatVal&&n.floatVal.length||(n.floatVal=[]),2===(7&a))for(var s=t.uint32()+t.pos;t.pos<s;)n.floatVal.push(t.float());else n.floatVal.push(t.float());break;case 6:if(n.doubleVal&&n.doubleVal.length||(n.doubleVal=[]),2===(7&a))for(var s=t.uint32()+t.pos;t.pos<s;)n.doubleVal.push(t.double());else n.doubleVal.push(t.double());break;case 7:if(n.intVal&&n.intVal.length||(n.intVal=[]),2===(7&a))for(var s=t.uint32()+t.pos;t.pos<s;)n.intVal.push(t.int32());else n.intVal.push(t.int32());break;case 8:n.stringVal&&n.stringVal.length||(n.stringVal=[]),n.stringVal.push(t.bytes());break;case 9:if(n.scomplexVal&&n.scomplexVal.length||(n.scomplexVal=[]),2===(7&a))for(var s=t.uint32()+t.pos;t.pos<s;)n.scomplexVal.push(t.float());else n.scomplexVal.push(t.float());break;case 10:if(n.int64Val&&n.int64Val.length||(n.int64Val=[]),2===(7&a))for(var s=t.uint32()+t.pos;t.pos<s;)n.int64Val.push(t.int64());else n.int64Val.push(t.int64());break;case 11:if(n.boolVal&&n.boolVal.length||(n.boolVal=[]),2===(7&a))for(var s=t.uint32()+t.pos;t.pos<s;)n.boolVal.push(t.bool());else n.boolVal.push(t.bool());break;case 16:if(n.uint32Val&&n.uint32Val.length||(n.uint32Val=[]),2===(7&a))for(var s=t.uint32()+t.pos;t.pos<s;)n.uint32Val.push(t.uint32());else n.uint32Val.push(t.uint32());break;case 17:if(n.uint64Val&&n.uint64Val.length||(n.uint64Val=[]),2===(7&a))for(var s=t.uint32()+t.pos;t.pos<s;)n.uint64Val.push(t.uint64());else n.uint64Val.push(t.uint64());break;default:t.skipType(7&a)}}return n},t}(),t.AttrValue=function(){function t(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)null!=t[e[r]]&&(this[e[r]]=t[e[r]])}t.prototype.list=null,t.prototype.s=a.newBuffer([]),t.prototype.i=a.Long?a.Long.fromBits(0,0,!1):0,t.prototype.f=0,t.prototype.b=!1,t.prototype.type=0,t.prototype.shape=null,t.prototype.tensor=null,t.prototype.placeholder="",t.prototype.func=null;var e;return Object.defineProperty(t.prototype,"value",{get:a.oneOfGetter(e=["list","s","i","f","b","type","shape","tensor","placeholder","func"]),set:a.oneOfSetter(e)}),t.decode=function(t,e){t instanceof i||(t=i.create(t));for(var r=void 0===e?t.len:t.pos+e,n=new o.tensorflow.AttrValue;t.pos<r;){var a=t.uint32();switch(a>>>3){case 1:n.list=o.tensorflow.AttrValue.ListValue.decode(t,t.uint32());break;case 2:n.s=t.bytes();break;case 3:n.i=t.int64();break;case 4:n.f=t.float();break;case 5:n.b=t.bool();break;case 6:n.type=t.int32();break;case 7:n.shape=o.tensorflow.TensorShape.decode(t,t.uint32());break;case 8:n.tensor=o.tensorflow.Tensor.decode(t,t.uint32());break;case 9:n.placeholder=t.string();break;case 10:n.func=o.tensorflow.NameAttrList.decode(t,t.uint32());
break;default:t.skipType(7&a)}}return n},t.ListValue=function(){function t(t){if(this.s=[],this.i=[],this.f=[],this.b=[],this.type=[],this.shape=[],this.tensor=[],this.func=[],t)for(var e=Object.keys(t),r=0;r<e.length;++r)null!=t[e[r]]&&(this[e[r]]=t[e[r]])}return t.prototype.s=a.emptyArray,t.prototype.i=a.emptyArray,t.prototype.f=a.emptyArray,t.prototype.b=a.emptyArray,t.prototype.type=a.emptyArray,t.prototype.shape=a.emptyArray,t.prototype.tensor=a.emptyArray,t.prototype.func=a.emptyArray,t.decode=function(t,e){t instanceof i||(t=i.create(t));for(var r=void 0===e?t.len:t.pos+e,n=new o.tensorflow.AttrValue.ListValue;t.pos<r;){var a=t.uint32();switch(a>>>3){case 2:n.s&&n.s.length||(n.s=[]),n.s.push(t.bytes());break;case 3:if(n.i&&n.i.length||(n.i=[]),2===(7&a))for(var s=t.uint32()+t.pos;t.pos<s;)n.i.push(t.int64());else n.i.push(t.int64());break;case 4:if(n.f&&n.f.length||(n.f=[]),2===(7&a))for(var s=t.uint32()+t.pos;t.pos<s;)n.f.push(t.float());else n.f.push(t.float());break;case 5:if(n.b&&n.b.length||(n.b=[]),2===(7&a))for(var s=t.uint32()+t.pos;t.pos<s;)n.b.push(t.bool());else n.b.push(t.bool());break;case 6:if(n.type&&n.type.length||(n.type=[]),2===(7&a))for(var s=t.uint32()+t.pos;t.pos<s;)n.type.push(t.int32());else n.type.push(t.int32());break;case 7:n.shape&&n.shape.length||(n.shape=[]),n.shape.push(o.tensorflow.TensorShape.decode(t,t.uint32()));break;case 8:n.tensor&&n.tensor.length||(n.tensor=[]),n.tensor.push(o.tensorflow.Tensor.decode(t,t.uint32()));break;case 9:n.func&&n.func.length||(n.func=[]),n.func.push(o.tensorflow.NameAttrList.decode(t,t.uint32()));break;default:t.skipType(7&a)}}return n},t}(),t}(),t.NameAttrList=function(){function t(t){if(this.attr={},t)for(var e=Object.keys(t),r=0;r<e.length;++r)null!=t[e[r]]&&(this[e[r]]=t[e[r]])}return t.prototype.name="",t.prototype.attr=a.emptyObject,t.decode=function(t,e){t instanceof i||(t=i.create(t));for(var r,n=void 0===e?t.len:t.pos+e,s=new o.tensorflow.NameAttrList;t.pos<n;){var l=t.uint32();switch(l>>>3){case 1:s.name=t.string();break;case 2:t.skip().pos++,s.attr===a.emptyObject&&(s.attr={}),r=t.string(),t.pos++,s.attr[r]=o.tensorflow.AttrValue.decode(t,t.uint32());break;default:t.skipType(7&l)}}return s},t}(),t.NodeDef=function(){function t(t){if(this.input=[],this.attr={},t)for(var e=Object.keys(t),r=0;r<e.length;++r)null!=t[e[r]]&&(this[e[r]]=t[e[r]])}return t.prototype.name="",t.prototype.op="",t.prototype.input=a.emptyArray,t.prototype.device="",t.prototype.attr=a.emptyObject,t.decode=function(t,e){t instanceof i||(t=i.create(t));for(var r,n=void 0===e?t.len:t.pos+e,s=new o.tensorflow.NodeDef;t.pos<n;){var l=t.uint32();switch(l>>>3){case 1:s.name=t.string();break;case 2:s.op=t.string();break;case 3:s.input&&s.input.length||(s.input=[]),s.input.push(t.string());break;case 4:s.device=t.string();break;case 5:t.skip().pos++,s.attr===a.emptyObject&&(s.attr={}),r=t.string(),t.pos++,s.attr[r]=o.tensorflow.AttrValue.decode(t,t.uint32());break;default:t.skipType(7&l)}}return s},t}(),t.VersionDef=function(){function t(t){if(this.badConsumers=[],t)for(var e=Object.keys(t),r=0;r<e.length;++r)null!=t[e[r]]&&(this[e[r]]=t[e[r]])}return t.prototype.producer=0,t.prototype.minConsumer=0,t.prototype.badConsumers=a.emptyArray,t.decode=function(t,e){t instanceof i||(t=i.create(t));for(var r=void 0===e?t.len:t.pos+e,n=new o.tensorflow.VersionDef;t.pos<r;){var a=t.uint32();switch(a>>>3){case 1:n.producer=t.int32();break;case 2:n.minConsumer=t.int32();break;case 3:if(n.badConsumers&&n.badConsumers.length||(n.badConsumers=[]),2===(7&a))for(var s=t.uint32()+t.pos;t.pos<s;)n.badConsumers.push(t.int32());else n.badConsumers.push(t.int32());break;default:t.skipType(7&a)}}return n},t}(),t.GraphDef=function(){function t(t){if(this.node=[],t)for(var e=Object.keys(t),r=0;r<e.length;++r)null!=t[e[r]]&&(this[e[r]]=t[e[r]])}return t.prototype.node=a.emptyArray,t.prototype.versions=null,t.prototype.library=null,t.decode=function(t,e){t instanceof i||(t=i.create(t));for(var r=void 0===e?t.len:t.pos+e,n=new o.tensorflow.GraphDef;t.pos<r;){var a=t.uint32();switch(a>>>3){case 1:n.node&&n.node.length||(n.node=[]),n.node.push(o.tensorflow.NodeDef.decode(t,t.uint32()));break;case 4:n.versions=o.tensorflow.VersionDef.decode(t,t.uint32());break;case 2:n.library=o.tensorflow.FunctionDefLibrary.decode(t,t.uint32());break;default:t.skipType(7&a)}}return n},t}(),t.CollectionDef=function(){function t(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)null!=t[e[r]]&&(this[e[r]]=t[e[r]])}t.prototype.nodeList=null,t.prototype.bytesList=null,t.prototype.int64List=null,t.prototype.floatList=null,t.prototype.anyList=null;var e;return Object.defineProperty(t.prototype,"kind",{get:a.oneOfGetter(e=["nodeList","bytesList","int64List","floatList","anyList"]),set:a.oneOfSetter(e)}),t.decode=function(t,e){t instanceof i||(t=i.create(t));for(var r=void 0===e?t.len:t.pos+e,n=new o.tensorflow.CollectionDef;t.pos<r;){var a=t.uint32();switch(a>>>3){case 1:n.nodeList=o.tensorflow.CollectionDef.NodeList.decode(t,t.uint32());break;case 2:n.bytesList=o.tensorflow.CollectionDef.BytesList.decode(t,t.uint32());break;case 3:n.int64List=o.tensorflow.CollectionDef.Int64List.decode(t,t.uint32());break;case 4:n.floatList=o.tensorflow.CollectionDef.FloatList.decode(t,t.uint32());break;case 5:n.anyList=o.tensorflow.CollectionDef.AnyList.decode(t,t.uint32());break;default:t.skipType(7&a)}}return n},t.NodeList=function(){function t(t){if(this.value=[],t)for(var e=Object.keys(t),r=0;r<e.length;++r)null!=t[e[r]]&&(this[e[r]]=t[e[r]])}return t.prototype.value=a.emptyArray,t.decode=function(t,e){t instanceof i||(t=i.create(t));for(var r=void 0===e?t.len:t.pos+e,n=new o.tensorflow.CollectionDef.NodeList;t.pos<r;){var a=t.uint32();switch(a>>>3){case 1:n.value&&n.value.length||(n.value=[]),n.value.push(t.string());break;default:t.skipType(7&a)}}return n},t}(),t.BytesList=function(){function t(t){if(this.value=[],t)for(var e=Object.keys(t),r=0;r<e.length;++r)null!=t[e[r]]&&(this[e[r]]=t[e[r]])}return t.prototype.value=a.emptyArray,t.decode=function(t,e){t instanceof i||(t=i.create(t));for(var r=void 0===e?t.len:t.pos+e,n=new o.tensorflow.CollectionDef.BytesList;t.pos<r;){var a=t.uint32();switch(a>>>3){case 1:n.value&&n.value.length||(n.value=[]),n.value.push(t.bytes());break;default:t.skipType(7&a)}}return n},t}(),t.Int64List=function(){function t(t){if(this.value=[],t)for(var e=Object.keys(t),r=0;r<e.length;++r)null!=t[e[r]]&&(this[e[r]]=t[e[r]])}return t.prototype.value=a.emptyArray,t.decode=function(t,e){t instanceof i||(t=i.create(t));for(var r=void 0===e?t.len:t.pos+e,n=new o.tensorflow.CollectionDef.Int64List;t.pos<r;){var a=t.uint32();switch(a>>>3){case 1:if(n.value&&n.value.length||(n.value=[]),2===(7&a))for(var s=t.uint32()+t.pos;t.pos<s;)n.value.push(t.int64());else n.value.push(t.int64());break;default:t.skipType(7&a)}}return n},t}(),t.FloatList=function(){function t(t){if(this.value=[],t)for(var e=Object.keys(t),r=0;r<e.length;++r)null!=t[e[r]]&&(this[e[r]]=t[e[r]])}return t.prototype.value=a.emptyArray,t.decode=function(t,e){t instanceof i||(t=i.create(t));for(var r=void 0===e?t.len:t.pos+e,n=new o.tensorflow.CollectionDef.FloatList;t.pos<r;){var a=t.uint32();switch(a>>>3){case 1:if(n.value&&n.value.length||(n.value=[]),2===(7&a))for(var s=t.uint32()+t.pos;t.pos<s;)n.value.push(t.float());else n.value.push(t.float());break;default:t.skipType(7&a)}}return n},t}(),t.AnyList=function(){function t(t){if(this.value=[],t)for(var e=Object.keys(t),r=0;r<e.length;++r)null!=t[e[r]]&&(this[e[r]]=t[e[r]])}return t.prototype.value=a.emptyArray,t.decode=function(t,e){t instanceof i||(t=i.create(t));for(var r=void 0===e?t.len:t.pos+e,n=new o.tensorflow.CollectionDef.AnyList;t.pos<r;){var a=t.uint32();switch(a>>>3){case 1:n.value&&n.value.length||(n.value=[]),n.value.push(o.tensorflow.Any.decode(t,t.uint32()));break;default:t.skipType(7&a)}}return n},t}(),t}(),t.SaverDef=function(){function t(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)null!=t[e[r]]&&(this[e[r]]=t[e[r]])}return t.prototype.filenameTensorName="",t.prototype.saveTensorName="",t.prototype.restoreOpName="",t.prototype.maxToKeep=0,t.prototype.sharded=!1,t.prototype.keepCheckpointEveryNHours=0,t.prototype.version=0,t.decode=function(t,e){t instanceof i||(t=i.create(t));for(var r=void 0===e?t.len:t.pos+e,n=new o.tensorflow.SaverDef;t.pos<r;){var a=t.uint32();switch(a>>>3){case 1:n.filenameTensorName=t.string();break;case 2:n.saveTensorName=t.string();break;case 3:n.restoreOpName=t.string();break;case 4:n.maxToKeep=t.int32();break;case 5:n.sharded=t.bool();break;case 6:n.keepCheckpointEveryNHours=t.float();break;case 7:n.version=t.int32();break;default:t.skipType(7&a)}}return n},t.CheckpointFormatVersion=function(){var t={},e=Object.create(t);return e[t[0]="LEGACY"]=0,e[t[1]="V1"]=1,e[t[2]="V2"]=2,e}(),t}(),t.TensorInfo=function(){function t(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)null!=t[e[r]]&&(this[e[r]]=t[e[r]])}t.prototype.name="",t.prototype.cooSparse=null,t.prototype.dtype=0,t.prototype.tensorShape=null;var e;return Object.defineProperty(t.prototype,"encoding",{get:a.oneOfGetter(e=["name","cooSparse"]),set:a.oneOfSetter(e)}),t.decode=function(t,e){t instanceof i||(t=i.create(t));for(var r=void 0===e?t.len:t.pos+e,n=new o.tensorflow.TensorInfo;t.pos<r;){var a=t.uint32();switch(a>>>3){case 1:n.name=t.string();break;case 4:n.cooSparse=o.tensorflow.TensorInfo.CooSparse.decode(t,t.uint32());break;case 2:n.dtype=t.int32();break;case 3:n.tensorShape=o.tensorflow.TensorShape.decode(t,t.uint32());break;default:t.skipType(7&a)}}return n},t.CooSparse=function(){function t(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)null!=t[e[r]]&&(this[e[r]]=t[e[r]])}return t.prototype.valuesTensorName="",t.prototype.indicesTensorName="",t.prototype.denseShapeTensorName="",t.decode=function(t,e){t instanceof i||(t=i.create(t));for(var r=void 0===e?t.len:t.pos+e,n=new o.tensorflow.TensorInfo.CooSparse;t.pos<r;){var a=t.uint32();switch(a>>>3){case 1:n.valuesTensorName=t.string();break;case 2:n.indicesTensorName=t.string();break;case 3:n.denseShapeTensorName=t.string();break;default:t.skipType(7&a)}}return n},t}(),t}(),t.SignatureDef=function(){function t(t){if(this.inputs={},this.outputs={},t)for(var e=Object.keys(t),r=0;r<e.length;++r)null!=t[e[r]]&&(this[e[r]]=t[e[r]])}return t.prototype.inputs=a.emptyObject,t.prototype.outputs=a.emptyObject,t.prototype.methodName="",t.decode=function(t,e){t instanceof i||(t=i.create(t));for(var r,n=void 0===e?t.len:t.pos+e,s=new o.tensorflow.SignatureDef;t.pos<n;){var l=t.uint32();switch(l>>>3){case 1:t.skip().pos++,s.inputs===a.emptyObject&&(s.inputs={}),r=t.string(),t.pos++,s.inputs[r]=o.tensorflow.TensorInfo.decode(t,t.uint32());break;case 2:t.skip().pos++,s.outputs===a.emptyObject&&(s.outputs={}),r=t.string(),t.pos++,s.outputs[r]=o.tensorflow.TensorInfo.decode(t,t.uint32());break;case 3:s.methodName=t.string();break;default:t.skipType(7&l)}}return s},t}(),t.AssetFileDef=function(){function t(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)null!=t[e[r]]&&(this[e[r]]=t[e[r]])}return t.prototype.tensorInfo=null,t.prototype.filename="",t.decode=function(t,e){t instanceof i||(t=i.create(t));for(var r=void 0===e?t.len:t.pos+e,n=new o.tensorflow.AssetFileDef;t.pos<r;){var a=t.uint32();switch(a>>>3){case 1:n.tensorInfo=o.tensorflow.TensorInfo.decode(t,t.uint32());break;case 2:n.filename=t.string();break;default:t.skipType(7&a)}}return n},t}(),t.OpDef=function(){function t(t){if(this.inputArg=[],this.outputArg=[],this.attr=[],t)for(var e=Object.keys(t),r=0;r<e.length;++r)null!=t[e[r]]&&(this[e[r]]=t[e[r]])}return t.prototype.name="",t.prototype.inputArg=a.emptyArray,t.prototype.outputArg=a.emptyArray,t.prototype.attr=a.emptyArray,t.prototype.deprecation=null,t.prototype.summary="",t.prototype.description="",t.prototype.isCommutative=!1,t.prototype.isAggregate=!1,t.prototype.isStateful=!1,t.prototype.allowsUninitializedInput=!1,t.decode=function(t,e){t instanceof i||(t=i.create(t));for(var r=void 0===e?t.len:t.pos+e,n=new o.tensorflow.OpDef;t.pos<r;){var a=t.uint32();switch(a>>>3){case 1:n.name=t.string();break;case 2:n.inputArg&&n.inputArg.length||(n.inputArg=[]),n.inputArg.push(o.tensorflow.OpDef.ArgDef.decode(t,t.uint32()));break;case 3:n.outputArg&&n.outputArg.length||(n.outputArg=[]),n.outputArg.push(o.tensorflow.OpDef.ArgDef.decode(t,t.uint32()));break;case 4:n.attr&&n.attr.length||(n.attr=[]),n.attr.push(o.tensorflow.OpDef.AttrDef.decode(t,t.uint32()));break;case 8:n.deprecation=o.tensorflow.OpDef.OpDeprecation.decode(t,t.uint32());break;case 5:n.summary=t.string();break;case 6:n.description=t.string();break;case 18:n.isCommutative=t.bool();break;case 16:n.isAggregate=t.bool();break;case 17:n.isStateful=t.bool();break;case 19:n.allowsUninitializedInput=t.bool();break;default:t.skipType(7&a)}}return n},t.ArgDef=function(){function t(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)null!=t[e[r]]&&(this[e[r]]=t[e[r]])}return t.prototype.name="",t.prototype.description="",t.prototype.type=0,t.prototype.typeAttr="",t.prototype.numberAttr="",t.prototype.typeListAttr="",t.prototype.isRef=!1,t.decode=function(t,e){t instanceof i||(t=i.create(t));for(var r=void 0===e?t.len:t.pos+e,n=new o.tensorflow.OpDef.ArgDef;t.pos<r;){var a=t.uint32();switch(a>>>3){case 1:n.name=t.string();break;case 2:n.description=t.string();break;case 3:n.type=t.int32();break;case 4:n.typeAttr=t.string();break;case 5:n.numberAttr=t.string();break;case 6:n.typeListAttr=t.string();break;case 16:n.isRef=t.bool();break;default:t.skipType(7&a)}}return n},t}(),t.AttrDef=function(){function t(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)null!=t[e[r]]&&(this[e[r]]=t[e[r]])}return t.prototype.name="",t.prototype.type="",t.prototype.defaultValue=null,t.prototype.description="",t.prototype.hasMinimum=!1,t.prototype.minimum=a.Long?a.Long.fromBits(0,0,!1):0,t.prototype.allowedValues=null,t.decode=function(t,e){t instanceof i||(t=i.create(t));for(var r=void 0===e?t.len:t.pos+e,n=new o.tensorflow.OpDef.AttrDef;t.pos<r;){var a=t.uint32();switch(a>>>3){case 1:n.name=t.string();break;case 2:n.type=t.string();break;case 3:n.defaultValue=o.tensorflow.AttrValue.decode(t,t.uint32());break;case 4:n.description=t.string();break;case 5:n.hasMinimum=t.bool();break;case 6:n.minimum=t.int64();break;case 7:n.allowedValues=o.tensorflow.AttrValue.decode(t,t.uint32());break;default:t.skipType(7&a)}}return n},t}(),t.OpDeprecation=function(){function t(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)null!=t[e[r]]&&(this[e[r]]=t[e[r]])}return t.prototype.version=0,t.prototype.explanation="",t.decode=function(t,e){t instanceof i||(t=i.create(t));for(var r=void 0===e?t.len:t.pos+e,n=new o.tensorflow.OpDef.OpDeprecation;t.pos<r;){var a=t.uint32();switch(a>>>3){case 1:n.version=t.int32();break;case 2:n.explanation=t.string();break;default:t.skipType(7&a)}}return n},t}(),t}(),t.OpList=function(){function t(t){if(this.op=[],t)for(var e=Object.keys(t),r=0;r<e.length;++r)null!=t[e[r]]&&(this[e[r]]=t[e[r]])}return t.prototype.op=a.emptyArray,t.decode=function(t,e){t instanceof i||(t=i.create(t));for(var r=void 0===e?t.len:t.pos+e,n=new o.tensorflow.OpList;t.pos<r;){var a=t.uint32();switch(a>>>3){case 1:n.op&&n.op.length||(n.op=[]),n.op.push(o.tensorflow.OpDef.decode(t,t.uint32()));break;default:t.skipType(7&a)}}return n},t}(),t.MetaGraphDef=function(){function t(t){if(this.collectionDef={},this.signatureDef={},this.assetFileDef=[],t)for(var e=Object.keys(t),r=0;r<e.length;++r)null!=t[e[r]]&&(this[e[r]]=t[e[r]])}return t.prototype.metaInfoDef=null,t.prototype.graphDef=null,t.prototype.saverDef=null,t.prototype.collectionDef=a.emptyObject,t.prototype.signatureDef=a.emptyObject,t.prototype.assetFileDef=a.emptyArray,t.decode=function(t,e){t instanceof i||(t=i.create(t));for(var r,n=void 0===e?t.len:t.pos+e,s=new o.tensorflow.MetaGraphDef;t.pos<n;){var l=t.uint32();switch(l>>>3){case 1:s.metaInfoDef=o.tensorflow.MetaGraphDef.MetaInfoDef.decode(t,t.uint32());break;case 2:s.graphDef=o.tensorflow.GraphDef.decode(t,t.uint32());break;case 3:s.saverDef=o.tensorflow.SaverDef.decode(t,t.uint32());break;case 4:t.skip().pos++,s.collectionDef===a.emptyObject&&(s.collectionDef={}),r=t.string(),t.pos++,s.collectionDef[r]=o.tensorflow.CollectionDef.decode(t,t.uint32());break;case 5:t.skip().pos++,s.signatureDef===a.emptyObject&&(s.signatureDef={}),r=t.string(),t.pos++,s.signatureDef[r]=o.tensorflow.SignatureDef.decode(t,t.uint32());break;case 6:s.assetFileDef&&s.assetFileDef.length||(s.assetFileDef=[]),s.assetFileDef.push(o.tensorflow.AssetFileDef.decode(t,t.uint32()));break;default:t.skipType(7&l)}}return s},t.MetaInfoDef=function(){function t(t){if(this.tags=[],t)for(var e=Object.keys(t),r=0;r<e.length;++r)null!=t[e[r]]&&(this[e[r]]=t[e[r]])}return t.prototype.metaGraphVersion="",t.prototype.strippedOpList=null,t.prototype.anyInfo=null,t.prototype.tags=a.emptyArray,t.prototype.tensorflowVersion="",t.prototype.tensorflowGitVersion="",t.decode=function(t,e){t instanceof i||(t=i.create(t));for(var r=void 0===e?t.len:t.pos+e,n=new o.tensorflow.MetaGraphDef.MetaInfoDef;t.pos<r;){var a=t.uint32();switch(a>>>3){case 1:n.metaGraphVersion=t.string();break;case 2:n.strippedOpList=o.tensorflow.OpList.decode(t,t.uint32());break;case 3:n.anyInfo=o.tensorflow.Any.decode(t,t.uint32());break;case 4:n.tags&&n.tags.length||(n.tags=[]),n.tags.push(t.string());break;case 5:n.tensorflowVersion=t.string();break;case 6:n.tensorflowGitVersion=t.string();break;default:t.skipType(7&a)}}return n},t}(),t}(),t.SavedModel=function(){function t(t){if(this.metaGraphs=[],t)for(var e=Object.keys(t),r=0;r<e.length;++r)null!=t[e[r]]&&(this[e[r]]=t[e[r]])}return t.prototype.savedModelSchemaVersion=a.Long?a.Long.fromBits(0,0,!1):0,t.prototype.metaGraphs=a.emptyArray,t.decode=function(t,e){t instanceof i||(t=i.create(t));for(var r=void 0===e?t.len:t.pos+e,n=new o.tensorflow.SavedModel;t.pos<r;){var a=t.uint32();switch(a>>>3){case 1:n.savedModelSchemaVersion=t.int64();break;case 2:n.metaGraphs&&n.metaGraphs.length||(n.metaGraphs=[]),n.metaGraphs.push(o.tensorflow.MetaGraphDef.decode(t,t.uint32()));break;default:t.skipType(7&a)}}return n},t}(),t.FunctionDefLibrary=function(){function t(t){if(this.function=[],this.gradient=[],t)for(var e=Object.keys(t),r=0;r<e.length;++r)null!=t[e[r]]&&(this[e[r]]=t[e[r]])}return t.prototype.function=a.emptyArray,t.prototype.gradient=a.emptyArray,t.decode=function(t,e){t instanceof i||(t=i.create(t));for(var r=void 0===e?t.len:t.pos+e,n=new o.tensorflow.FunctionDefLibrary;t.pos<r;){var a=t.uint32();switch(a>>>3){case 1:n.function&&n.function.length||(n.function=[]),n.function.push(o.tensorflow.FunctionDef.decode(t,t.uint32()));break;case 2:n.gradient&&n.gradient.length||(n.gradient=[]),n.gradient.push(o.tensorflow.GradientDef.decode(t,t.uint32()));break;default:t.skipType(7&a)}}return n},t}(),t.FunctionDef=function(){function t(t){if(this.attr={},this.nodeDef=[],this.ret={},t)for(var e=Object.keys(t),r=0;r<e.length;++r)null!=t[e[r]]&&(this[e[r]]=t[e[r]])}return t.prototype.signature=null,t.prototype.attr=a.emptyObject,t.prototype.nodeDef=a.emptyArray,t.prototype.ret=a.emptyObject,t.decode=function(t,e){t instanceof i||(t=i.create(t));for(var r,n=void 0===e?t.len:t.pos+e,s=new o.tensorflow.FunctionDef;t.pos<n;){var l=t.uint32();switch(l>>>3){case 1:s.signature=o.tensorflow.OpDef.decode(t,t.uint32());break;case 5:t.skip().pos++,s.attr===a.emptyObject&&(s.attr={}),r=t.string(),t.pos++,s.attr[r]=o.tensorflow.AttrValue.decode(t,t.uint32());break;case 3:s.nodeDef&&s.nodeDef.length||(s.nodeDef=[]),s.nodeDef.push(o.tensorflow.NodeDef.decode(t,t.uint32()));break;case 4:t.skip().pos++,s.ret===a.emptyObject&&(s.ret={}),r=t.string(),t.pos++,s.ret[r]=t.string();break;default:t.skipType(7&l)}}return s},t}(),t.GradientDef=function(){function t(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)null!=t[e[r]]&&(this[e[r]]=t[e[r]])}return t.prototype.functionName="",t.prototype.gradientFunc="",t.decode=function(t,e){t instanceof i||(t=i.create(t));for(var r=void 0===e?t.len:t.pos+e,n=new o.tensorflow.GradientDef;t.pos<r;){var a=t.uint32();switch(a>>>3){case 1:n.functionName=t.string();break;case 2:n.gradientFunc=t.string();break;default:t.skipType(7&a)}}return n},t}(),t}(),t.exports=o},function(t,e,r){"use strict";t.exports=r(717)},function(t,e,r){"use strict";function n(){i.Reader._configure(i.BufferReader),i.util._configure()}var i=e;i.build="minimal",i.Writer=r(718),i.BufferWriter=r(728),i.Reader=r(729),i.BufferReader=r(730),i.util=r(719),i.rpc=r(731),i.roots=r(733),i.configure=n,i.Writer._configure(i.BufferWriter),n()},function(t,e,r){"use strict";function n(t,e,r){this.fn=t,this.len=e,this.next=void 0,this.val=r}function i(){}function a(t){this.head=t.head,this.tail=t.tail,this.len=t.len,this.next=t.states}function o(){this.len=0,this.head=new n(i,0,0),this.tail=this.head,this.states=null}function s(t,e,r){e[r]=255&t}function l(t,e,r){for(;t>127;)e[r++]=127&t|128,t>>>=7;e[r]=t}function u(t,e){this.len=t,this.next=void 0,this.val=e}function c(t,e,r){for(;t.hi;)e[r++]=127&t.lo|128,t.lo=(t.lo>>>7|t.hi<<25)>>>0,t.hi>>>=7;for(;t.lo>127;)e[r++]=127&t.lo|128,t.lo=t.lo>>>7;e[r++]=t.lo}function h(t,e,r){e[r]=255&t,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24}t.exports=o;var g,p=r(719),d=p.LongBits,f=p.base64,A=p.utf8;o.create=p.Buffer?function(){return(o.create=function(){return new g})()}:function(){return new o},o.alloc=function(t){return new p.Array(t)},p.Array!==Array&&(o.alloc=p.pool(o.alloc,p.Array.prototype.subarray)),o.prototype._push=function(t,e,r){return this.tail=this.tail.next=new n(t,e,r),this.len+=e,this},u.prototype=Object.create(n.prototype),u.prototype.fn=l,o.prototype.uint32=function(t){return this.len+=(this.tail=this.tail.next=new u((t>>>=0)<128?1:t<16384?2:t<2097152?3:t<268435456?4:5,t)).len,this},o.prototype.int32=function(t){return t<0?this._push(c,10,d.fromNumber(t)):this.uint32(t)},o.prototype.sint32=function(t){return this.uint32((t<<1^t>>31)>>>0)},o.prototype.uint64=function(t){var e=d.from(t);return this._push(c,e.length(),e)},o.prototype.int64=o.prototype.uint64,o.prototype.sint64=function(t){var e=d.from(t).zzEncode();return this._push(c,e.length(),e)},o.prototype.bool=function(t){return this._push(s,1,t?1:0)},o.prototype.fixed32=function(t){return this._push(h,4,t>>>0)},o.prototype.sfixed32=o.prototype.fixed32,o.prototype.fixed64=function(t){var e=d.from(t);return this._push(h,4,e.lo)._push(h,4,e.hi)},o.prototype.sfixed64=o.prototype.fixed64,o.prototype.float=function(t){return this._push(p.float.writeFloatLE,4,t)},o.prototype.double=function(t){return this._push(p.float.writeDoubleLE,8,t)};var C=p.Array.prototype.set?function(t,e,r){e.set(t,r)}:function(t,e,r){for(var n=0;n<t.length;++n)e[r+n]=t[n]};o.prototype.bytes=function(t){var e=t.length>>>0;if(!e)return this._push(s,1,0);if(p.isString(t)){var r=o.alloc(e=f.length(t));f.decode(t,r,0),t=r}return this.uint32(e)._push(C,e,t)},o.prototype.string=function(t){var e=A.length(t);return e?this.uint32(e)._push(A.write,e,t):this._push(s,1,0)},o.prototype.fork=function(){return this.states=new a(this),this.head=this.tail=new n(i,0,0),this.len=0,this},o.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new n(i,0,0),this.len=0),this},o.prototype.ldelim=function(){var t=this.head,e=this.tail,r=this.len;return this.reset().uint32(r),r&&(this.tail.next=t.next,this.tail=e,this.len+=r),this},o.prototype.finish=function(){for(var t=this.head.next,e=this.constructor.alloc(this.len),r=0;t;)t.fn(t.val,e,r),r+=t.len,t=t.next;return e},o._configure=function(t){g=t}},function(t,e,r){(function(t){"use strict";function n(t,e,r){for(var n=Object.keys(e),i=0;i<n.length;++i)void 0!==t[n[i]]&&r||(t[n[i]]=e[n[i]]);return t}function i(t){function e(t,r){return this instanceof e?(Object.defineProperty(this,"message",{get:function(){return t}}),Error.captureStackTrace?Error.captureStackTrace(this,e):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),void(r&&n(this,r))):new e(t,r)}return(e.prototype=Object.create(Error.prototype)).constructor=e,Object.defineProperty(e.prototype,"name",{get:function(){return t}}),e.prototype.toString=function(){return this.name+": "+this.message},e}var a=e;a.asPromise=r(720),a.base64=r(721),a.EventEmitter=r(722),a.float=r(723),a.inquire=r(724),a.utf8=r(725),a.pool=r(726),a.LongBits=r(727),a.global="undefined"!=typeof window&&window||"undefined"!=typeof t&&t||"undefined"!=typeof self&&self||this,a.emptyArray=Object.freeze?Object.freeze([]):[],a.emptyObject=Object.freeze?Object.freeze({}):{},a.isNode=Boolean(a.global.process&&a.global.process.versions&&a.global.process.versions.node),a.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},a.isString=function(t){return"string"==typeof t||t instanceof String},a.isObject=function(t){return t&&"object"==typeof t},a.isset=a.isSet=function(t,e){var r=t[e];return!(null==r||!t.hasOwnProperty(e))&&("object"!=typeof r||(Array.isArray(r)?r.length:Object.keys(r).length)>0)},a.Buffer=function(){try{var t=a.inquire("buffer").Buffer;return t.prototype.utf8Write?t:null}catch(t){return null}}(),a._Buffer_from=null,a._Buffer_allocUnsafe=null,a.newBuffer=function(t){return"number"==typeof t?a.Buffer?a._Buffer_allocUnsafe(t):new a.Array(t):a.Buffer?a._Buffer_from(t):"undefined"==typeof Uint8Array?t:new Uint8Array(t)},a.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,a.Long=a.global.dcodeIO&&a.global.dcodeIO.Long||a.global.Long||a.inquire("long"),a.key2Re=/^true|false|0|1$/,a.key32Re=/^-?(?:0|[1-9][0-9]*)$/,a.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,a.longToHash=function(t){return t?a.LongBits.from(t).toHash():a.LongBits.zeroHash},a.longFromHash=function(t,e){var r=a.LongBits.fromHash(t);return a.Long?a.Long.fromBits(r.lo,r.hi,e):r.toNumber(Boolean(e))},a.merge=n,a.lcFirst=function(t){return t.charAt(0).toLowerCase()+t.substring(1)},a.newError=i,a.ProtocolError=i("ProtocolError"),a.oneOfGetter=function(t){for(var e={},r=0;r<t.length;++r)e[t[r]]=1;return function(){for(var t=Object.keys(this),r=t.length-1;r>-1;--r)if(1===e[t[r]]&&void 0!==this[t[r]]&&null!==this[t[r]])return t[r]}},a.oneOfSetter=function(t){return function(e){for(var r=0;r<t.length;++r)t[r]!==e&&delete this[t[r]]}},a.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},a._configure=function(){var t=a.Buffer;return t?(a._Buffer_from=t.from!==Uint8Array.from&&t.from||function(e,r){return new t(e,r)},void(a._Buffer_allocUnsafe=t.allocUnsafe||function(e){return new t(e)})):void(a._Buffer_from=a._Buffer_allocUnsafe=null)}}).call(e,function(){return this}())},function(t,e){"use strict";function r(t,e){for(var r=new Array(arguments.length-1),n=0,i=2,a=!0;i<arguments.length;)r[n++]=arguments[i++];return new Promise(function(i,o){r[n]=function(t){if(a)if(a=!1,t)o(t);else{for(var e=new Array(arguments.length-1),r=0;r<e.length;)e[r++]=arguments[r];i.apply(null,e)}};try{t.apply(e||null,r)}catch(t){a&&(a=!1,o(t))}})}t.exports=r},function(t,e){"use strict";var r=e;r.length=function(t){var e=t.length;if(!e)return 0;for(var r=0;--e%4>1&&"="===t.charAt(e);)++r;return Math.ceil(3*t.length)/4-r};for(var n=new Array(64),i=new Array(123),a=0;a<64;)i[n[a]=a<26?a+65:a<52?a+71:a<62?a-4:a-59|43]=a++;r.encode=function(t,e,r){for(var i,a=null,o=[],s=0,l=0;e<r;){var u=t[e++];switch(l){case 0:o[s++]=n[u>>2],i=(3&u)<<4,l=1;break;case 1:o[s++]=n[i|u>>4],i=(15&u)<<2,l=2;break;case 2:o[s++]=n[i|u>>6],o[s++]=n[63&u],l=0}s>8191&&((a||(a=[])).push(String.fromCharCode.apply(String,o)),s=0)}return l&&(o[s++]=n[i],o[s++]=61,1===l&&(o[s++]=61)),a?(s&&a.push(String.fromCharCode.apply(String,o.slice(0,s))),a.join("")):String.fromCharCode.apply(String,o.slice(0,s))};var o="invalid encoding";r.decode=function(t,e,r){for(var n,a=r,s=0,l=0;l<t.length;){var u=t.charCodeAt(l++);if(61===u&&s>1)break;if(void 0===(u=i[u]))throw Error(o);switch(s){case 0:n=u,s=1;break;case 1:e[r++]=n<<2|(48&u)>>4,n=u,s=2;break;case 2:e[r++]=(15&n)<<4|(60&u)>>2,n=u,s=3;break;case 3:e[r++]=(3&n)<<6|u,s=0}}if(1===s)throw Error(o);return r-a},r.test=function(t){return/^(?:[A-Za-z0-9+\/]{4})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/.test(t)}},function(t,e){"use strict";function r(){this._listeners={}}t.exports=r,r.prototype.on=function(t,e,r){return(this._listeners[t]||(this._listeners[t]=[])).push({fn:e,ctx:r||this}),this},r.prototype.off=function(t,e){if(void 0===t)this._listeners={};else if(void 0===e)this._listeners[t]=[];else for(var r=this._listeners[t],n=0;n<r.length;)r[n].fn===e?r.splice(n,1):++n;return this},r.prototype.emit=function(t){var e=this._listeners[t];if(e){for(var r=[],n=1;n<arguments.length;)r.push(arguments[n++]);for(n=0;n<e.length;)e[n].fn.apply(e[n++].ctx,r)}return this}},function(t,e){"use strict";function r(t){return"undefined"!=typeof Float32Array?function(){function e(t,e,r){a[0]=t,e[r]=o[0],e[r+1]=o[1],e[r+2]=o[2],e[r+3]=o[3]}function r(t,e,r){a[0]=t,e[r]=o[3],e[r+1]=o[2],e[r+2]=o[1],e[r+3]=o[0]}function n(t,e){return o[0]=t[e],o[1]=t[e+1],o[2]=t[e+2],o[3]=t[e+3],a[0]}function i(t,e){return o[3]=t[e],o[2]=t[e+1],o[1]=t[e+2],o[0]=t[e+3],a[0]}var a=new Float32Array([-0]),o=new Uint8Array(a.buffer),s=128===o[3];t.writeFloatLE=s?e:r,t.writeFloatBE=s?r:e,t.readFloatLE=s?n:i,t.readFloatBE=s?i:n}():function(){function e(t,e,r,n){var i=e<0?1:0;if(i&&(e=-e),0===e)t(1/e>0?0:2147483648,r,n);else if(isNaN(e))t(2143289344,r,n);else if(e>3.4028234663852886e38)t((i<<31|2139095040)>>>0,r,n);else if(e<1.1754943508222875e-38)t((i<<31|Math.round(e/1.401298464324817e-45))>>>0,r,n);else{var a=Math.floor(Math.log(e)/Math.LN2),o=8388607&Math.round(e*Math.pow(2,-a)*8388608);t((i<<31|a+127<<23|o)>>>0,r,n)}}function r(t,e,r){var n=t(e,r),i=2*(n>>31)+1,a=n>>>23&255,o=8388607&n;return 255===a?o?NaN:i*(1/0):0===a?1.401298464324817e-45*i*o:i*Math.pow(2,a-150)*(o+8388608)}t.writeFloatLE=e.bind(null,n),t.writeFloatBE=e.bind(null,i),t.readFloatLE=r.bind(null,a),t.readFloatBE=r.bind(null,o)}(),"undefined"!=typeof Float64Array?function(){function e(t,e,r){a[0]=t,e[r]=o[0],e[r+1]=o[1],e[r+2]=o[2],e[r+3]=o[3],e[r+4]=o[4],e[r+5]=o[5],e[r+6]=o[6],e[r+7]=o[7]}function r(t,e,r){a[0]=t,e[r]=o[7],e[r+1]=o[6],e[r+2]=o[5],e[r+3]=o[4],e[r+4]=o[3],e[r+5]=o[2],e[r+6]=o[1],e[r+7]=o[0]}function n(t,e){return o[0]=t[e],o[1]=t[e+1],o[2]=t[e+2],o[3]=t[e+3],o[4]=t[e+4],o[5]=t[e+5],o[6]=t[e+6],o[7]=t[e+7],a[0]}function i(t,e){return o[7]=t[e],o[6]=t[e+1],o[5]=t[e+2],o[4]=t[e+3],o[3]=t[e+4],o[2]=t[e+5],o[1]=t[e+6],o[0]=t[e+7],a[0]}var a=new Float64Array([-0]),o=new Uint8Array(a.buffer),s=128===o[7];t.writeDoubleLE=s?e:r,t.writeDoubleBE=s?r:e,t.readDoubleLE=s?n:i,t.readDoubleBE=s?i:n}():function(){function e(t,e,r,n,i,a){var o=n<0?1:0;if(o&&(n=-n),0===n)t(0,i,a+e),t(1/n>0?0:2147483648,i,a+r);else if(isNaN(n))t(0,i,a+e),t(2146959360,i,a+r);else if(n>1.7976931348623157e308)t(0,i,a+e),t((o<<31|2146435072)>>>0,i,a+r);else{var s;if(n<2.2250738585072014e-308)s=n/5e-324,t(s>>>0,i,a+e),t((o<<31|s/4294967296)>>>0,i,a+r);else{var l=Math.floor(Math.log(n)/Math.LN2);1024===l&&(l=1023),s=n*Math.pow(2,-l),t(4503599627370496*s>>>0,i,a+e),t((o<<31|l+1023<<20|1048576*s&1048575)>>>0,i,a+r)}}}function r(t,e,r,n,i){var a=t(n,i+e),o=t(n,i+r),s=2*(o>>31)+1,l=o>>>20&2047,u=4294967296*(1048575&o)+a;return 2047===l?u?NaN:s*(1/0):0===l?5e-324*s*u:s*Math.pow(2,l-1075)*(u+4503599627370496)}t.writeDoubleLE=e.bind(null,n,0,4),t.writeDoubleBE=e.bind(null,i,4,0),t.readDoubleLE=r.bind(null,a,0,4),t.readDoubleBE=r.bind(null,o,4,0)}(),t}function n(t,e,r){e[r]=255&t,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24}function i(t,e,r){e[r]=t>>>24,e[r+1]=t>>>16&255,e[r+2]=t>>>8&255,e[r+3]=255&t}function a(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24)>>>0}function o(t,e){return(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0}t.exports=r(r)},function(module,exports){"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);
if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(t){}return null}module.exports=inquire},function(t,e){"use strict";var r=e;r.length=function(t){for(var e=0,r=0,n=0;n<t.length;++n)r=t.charCodeAt(n),r<128?e+=1:r<2048?e+=2:55296===(64512&r)&&56320===(64512&t.charCodeAt(n+1))?(++n,e+=4):e+=3;return e},r.read=function(t,e,r){var n=r-e;if(n<1)return"";for(var i,a=null,o=[],s=0;e<r;)i=t[e++],i<128?o[s++]=i:i>191&&i<224?o[s++]=(31&i)<<6|63&t[e++]:i>239&&i<365?(i=((7&i)<<18|(63&t[e++])<<12|(63&t[e++])<<6|63&t[e++])-65536,o[s++]=55296+(i>>10),o[s++]=56320+(1023&i)):o[s++]=(15&i)<<12|(63&t[e++])<<6|63&t[e++],s>8191&&((a||(a=[])).push(String.fromCharCode.apply(String,o)),s=0);return a?(s&&a.push(String.fromCharCode.apply(String,o.slice(0,s))),a.join("")):String.fromCharCode.apply(String,o.slice(0,s))},r.write=function(t,e,r){for(var n,i,a=r,o=0;o<t.length;++o)n=t.charCodeAt(o),n<128?e[r++]=n:n<2048?(e[r++]=n>>6|192,e[r++]=63&n|128):55296===(64512&n)&&56320===(64512&(i=t.charCodeAt(o+1)))?(n=65536+((1023&n)<<10)+(1023&i),++o,e[r++]=n>>18|240,e[r++]=n>>12&63|128,e[r++]=n>>6&63|128,e[r++]=63&n|128):(e[r++]=n>>12|224,e[r++]=n>>6&63|128,e[r++]=63&n|128);return r-a}},function(t,e){"use strict";function r(t,e,r){var n=r||8192,i=n>>>1,a=null,o=n;return function(r){if(r<1||r>i)return t(r);o+r>n&&(a=t(n),o=0);var s=e.call(a,o,o+=r);return 7&o&&(o=(7|o)+1),s}}t.exports=r},function(t,e,r){"use strict";function n(t,e){this.lo=t>>>0,this.hi=e>>>0}t.exports=n;var i=r(719),a=n.zero=new n(0,0);a.toNumber=function(){return 0},a.zzEncode=a.zzDecode=function(){return this},a.length=function(){return 1};var o=n.zeroHash="\0\0\0\0\0\0\0\0";n.fromNumber=function(t){if(0===t)return a;var e=t<0;e&&(t=-t);var r=t>>>0,i=(t-r)/4294967296>>>0;return e&&(i=~i>>>0,r=~r>>>0,++r>4294967295&&(r=0,++i>4294967295&&(i=0))),new n(r,i)},n.from=function(t){if("number"==typeof t)return n.fromNumber(t);if(i.isString(t)){if(!i.Long)return n.fromNumber(parseInt(t,10));t=i.Long.fromString(t)}return t.low||t.high?new n(t.low>>>0,t.high>>>0):a},n.prototype.toNumber=function(t){if(!t&&this.hi>>>31){var e=~this.lo+1>>>0,r=~this.hi>>>0;return e||(r=r+1>>>0),-(e+4294967296*r)}return this.lo+4294967296*this.hi},n.prototype.toLong=function(t){return i.Long?new i.Long(0|this.lo,0|this.hi,Boolean(t)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(t)}};var s=String.prototype.charCodeAt;n.fromHash=function(t){return t===o?a:new n((s.call(t,0)|s.call(t,1)<<8|s.call(t,2)<<16|s.call(t,3)<<24)>>>0,(s.call(t,4)|s.call(t,5)<<8|s.call(t,6)<<16|s.call(t,7)<<24)>>>0)},n.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},n.prototype.zzEncode=function(){var t=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^t)>>>0,this.lo=(this.lo<<1^t)>>>0,this},n.prototype.zzDecode=function(){var t=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^t)>>>0,this.hi=(this.hi>>>1^t)>>>0,this},n.prototype.length=function(){var t=this.lo,e=(this.lo>>>28|this.hi<<4)>>>0,r=this.hi>>>24;return 0===r?0===e?t<16384?t<128?1:2:t<2097152?3:4:e<16384?e<128?5:6:e<2097152?7:8:r<128?9:10}},function(t,e,r){"use strict";function n(){a.call(this)}function i(t,e,r){t.length<40?o.utf8.write(t,e,r):e.utf8Write(t,r)}t.exports=n;var a=r(718);(n.prototype=Object.create(a.prototype)).constructor=n;var o=r(719),s=o.Buffer;n.alloc=function(t){return(n.alloc=o._Buffer_allocUnsafe)(t)};var l=s&&s.prototype instanceof Uint8Array&&"set"===s.prototype.set.name?function(t,e,r){e.set(t,r)}:function(t,e,r){if(t.copy)t.copy(e,r,0,t.length);else for(var n=0;n<t.length;)e[r++]=t[n++]};n.prototype.bytes=function(t){o.isString(t)&&(t=o._Buffer_from(t,"base64"));var e=t.length>>>0;return this.uint32(e),e&&this._push(l,e,t),this},n.prototype.string=function(t){var e=s.byteLength(t);return this.uint32(e),e&&this._push(i,e,t),this}},function(t,e,r){"use strict";function n(t,e){return RangeError("index out of range: "+t.pos+" + "+(e||1)+" > "+t.len)}function i(t){this.buf=t,this.pos=0,this.len=t.length}function a(){var t=new c(0,0),e=0;if(!(this.len-this.pos>4)){for(;e<3;++e){if(this.pos>=this.len)throw n(this);if(t.lo=(t.lo|(127&this.buf[this.pos])<<7*e)>>>0,this.buf[this.pos++]<128)return t}return t.lo=(t.lo|(127&this.buf[this.pos++])<<7*e)>>>0,t}for(;e<4;++e)if(t.lo=(t.lo|(127&this.buf[this.pos])<<7*e)>>>0,this.buf[this.pos++]<128)return t;if(t.lo=(t.lo|(127&this.buf[this.pos])<<28)>>>0,t.hi=(t.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return t;if(e=0,this.len-this.pos>4){for(;e<5;++e)if(t.hi=(t.hi|(127&this.buf[this.pos])<<7*e+3)>>>0,this.buf[this.pos++]<128)return t}else for(;e<5;++e){if(this.pos>=this.len)throw n(this);if(t.hi=(t.hi|(127&this.buf[this.pos])<<7*e+3)>>>0,this.buf[this.pos++]<128)return t}throw Error("invalid varint encoding")}function o(t,e){return(t[e-4]|t[e-3]<<8|t[e-2]<<16|t[e-1]<<24)>>>0}function s(){if(this.pos+8>this.len)throw n(this,8);return new c(o(this.buf,this.pos+=4),o(this.buf,this.pos+=4))}t.exports=i;var l,u=r(719),c=u.LongBits,h=u.utf8,g="undefined"!=typeof Uint8Array?function(t){if(t instanceof Uint8Array||Array.isArray(t))return new i(t);throw Error("illegal buffer")}:function(t){if(Array.isArray(t))return new i(t);throw Error("illegal buffer")};i.create=u.Buffer?function(t){return(i.create=function(t){return u.Buffer.isBuffer(t)?new l(t):g(t)})(t)}:g,i.prototype._slice=u.Array.prototype.subarray||u.Array.prototype.slice,i.prototype.uint32=function(){var t=4294967295;return function(){if(t=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return t;if(t=(t|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return t;if(t=(t|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return t;if(t=(t|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return t;if(t=(t|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return t;if((this.pos+=5)>this.len)throw this.pos=this.len,n(this,10);return t}}(),i.prototype.int32=function(){return 0|this.uint32()},i.prototype.sint32=function(){var t=this.uint32();return t>>>1^-(1&t)|0},i.prototype.bool=function(){return 0!==this.uint32()},i.prototype.fixed32=function(){if(this.pos+4>this.len)throw n(this,4);return o(this.buf,this.pos+=4)},i.prototype.sfixed32=function(){if(this.pos+4>this.len)throw n(this,4);return 0|o(this.buf,this.pos+=4)},i.prototype.float=function(){if(this.pos+4>this.len)throw n(this,4);var t=u.float.readFloatLE(this.buf,this.pos);return this.pos+=4,t},i.prototype.double=function(){if(this.pos+8>this.len)throw n(this,4);var t=u.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,t},i.prototype.bytes=function(){var t=this.uint32(),e=this.pos,r=this.pos+t;if(r>this.len)throw n(this,t);return this.pos+=t,Array.isArray(this.buf)?this.buf.slice(e,r):e===r?new this.buf.constructor(0):this._slice.call(this.buf,e,r)},i.prototype.string=function(){var t=this.bytes();return h.read(t,0,t.length)},i.prototype.skip=function(t){if("number"==typeof t){if(this.pos+t>this.len)throw n(this,t);this.pos+=t}else do if(this.pos>=this.len)throw n(this);while(128&this.buf[this.pos++]);return this},i.prototype.skipType=function(t){switch(t){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!==(t=7&this.uint32());)this.skipType(t);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+t+" at offset "+this.pos)}return this},i._configure=function(t){l=t;var e=u.Long?"toLong":"toNumber";u.merge(i.prototype,{int64:function(){return a.call(this)[e](!1)},uint64:function(){return a.call(this)[e](!0)},sint64:function(){return a.call(this).zzDecode()[e](!1)},fixed64:function(){return s.call(this)[e](!0)},sfixed64:function(){return s.call(this)[e](!1)}})}},function(t,e,r){"use strict";function n(t){i.call(this,t)}t.exports=n;var i=r(729);(n.prototype=Object.create(i.prototype)).constructor=n;var a=r(719);a.Buffer&&(n.prototype._slice=a.Buffer.prototype.slice),n.prototype.string=function(){var t=this.uint32();return this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+t,this.len))}},function(t,e,r){"use strict";var n=e;n.Service=r(732)},function(t,e,r){"use strict";function n(t,e,r){if("function"!=typeof t)throw TypeError("rpcImpl must be a function");i.EventEmitter.call(this),this.rpcImpl=t,this.requestDelimited=Boolean(e),this.responseDelimited=Boolean(r)}t.exports=n;var i=r(719);(n.prototype=Object.create(i.EventEmitter.prototype)).constructor=n,n.prototype.rpcCall=function t(e,r,n,a,o){if(!a)throw TypeError("request must be specified");var s=this;if(!o)return i.asPromise(t,s,e,r,n,a);if(!s.rpcImpl)return void setTimeout(function(){o(Error("already ended"))},0);try{return s.rpcImpl(e,r[s.requestDelimited?"encodeDelimited":"encode"](a).finish(),function(t,r){if(t)return s.emit("error",t,e),o(t);if(null===r)return void s.end(!0);if(!(r instanceof n))try{r=n[s.responseDelimited?"decodeDelimited":"decode"](r)}catch(t){return s.emit("error",t,e),o(t)}return s.emit("data",r,e),o(null,r)})}catch(t){return s.emit("error",t,e),void setTimeout(function(){o(t)},0)}},n.prototype.end=function(t){return this.rpcImpl&&(t||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},function(t,e){"use strict";t.exports={}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(715),i=r(735),a=r(736),o=r(737),s=r(738),l=r(739),u=r(740),c=r(741),h=r(742),g=r(743),p=r(744),d=r(745),f=r(746),A=r(747),C=r(748),m=r(749),I=r(750),v=["Switch","Merge","Enter","Exit","NextIteration"],y=["NonMaxSuppressionV2","NonMaxSuppressionV3","Where"],b=function(){function t(){var t=[a,o,s,l,u,c,h,d,p,g,f,A,C,m,I],e=[].concat.apply([],t.map(function(t){return t.json}));this.opMappers=e.reduce(function(t,e){return t[e.tfOpName]=e,t},{})}return Object.defineProperty(t,"Instance",{get:function(){return this._instance||(this._instance=new this)},enumerable:!0,configurable:!0}),t.prototype.isControlFlow=function(t){return v.some(function(e){return e===t.op})},t.prototype.isDynamicShape=function(t){return y.some(function(e){return e===t.op})},t.prototype.transformGraph=function(t){var e=this,r=t.node,n=!1,a=!1,o=[],s=r.reduce(function(t,r){return t[r.name]=e.mapNode(r),e.isControlFlow(r)&&(n=!0),e.isDynamicShape(r)&&(a=!0),"Placeholder"===r.op&&o.push(t[r.name]),t},{}),l=[],u=[];return Object.keys(s).forEach(function(t){var e=s[t];e.inputNames.forEach(function(t){var r=i.getNodeNameAndIndex(t)[0];e.inputs.push(s[r]),s[r].children.push(e)}),0===e.inputs.length&&l.push(e)}),Object.keys(s).forEach(function(t){var e=s[t];0===e.children.length&&u.push(e)}),{nodes:s,inputs:l,outputs:u,placeholders:o,withControlFlow:n,withDynamicShape:a}},t.prototype.mapNode=function(t){var e=this,r=this.opMappers[t.op];if(void 0===r)throw new Error("Tensorflow Op is not supported: "+t.op);var n={name:t.name,op:r.dlOpName,category:r.category,inputNames:(t.input||[]).map(function(t){return t.startsWith("^")?t.substr(1):t}),inputs:[],children:[],params:{}};return r.params&&(n.params=r.params.reduce(function(r,n){var i=n.tfInputIndex,a=n.tfInputParamLength,o=n.type,s=void 0;if(void 0===i)switch(n.type){case"string":s=e.getStringParam(t.attr,n.tfParamName,n.defaultValue),void 0===s&&n.tfParamNameDeprecated&&(s=e.getStringParam(t.attr,n.tfParamNameDeprecated,n.defaultValue));break;case"number":s=e.getNumberParam(t.attr,n.tfParamName,n.defaultValue),void 0===s&&n.tfParamNameDeprecated&&(s=e.getNumberParam(t.attr,n.tfParamNameDeprecated,n.defaultValue));break;case"number[]":s=e.getNumericArrayParam(t.attr,n.tfParamName,n.defaultValue),void 0===s&&n.tfParamNameDeprecated&&(s=e.getNumericArrayParam(t.attr,n.tfParamNameDeprecated,n.defaultValue));break;case"bool":s=e.getBoolParam(t.attr,n.tfParamName,n.defaultValue),void 0===s&&n.tfParamNameDeprecated&&(s=e.getBoolParam(t.attr,n.tfParamNameDeprecated,n.defaultValue));break;case"shape":s=e.getTensorShapeParam(t.attr,n.tfParamName,n.defaultValue),void 0===s&&n.tfParamNameDeprecated&&(s=e.getTensorShapeParam(t.attr,n.tfParamNameDeprecated,n.defaultValue));break;case"dtype":s=e.getDtypeParam(t.attr,n.tfParamName,n.defaultValue),void 0===s&&n.tfParamNameDeprecated&&(s=e.getDtypeParam(t.attr,n.tfParamNameDeprecated,n.defaultValue));break;case"tensor":case"tensors":break;default:throw new Error("Unsupported param type: "+n.type+" for op: "+t.op)}return r[n.dlParamName]={value:s,inputIndex:i,type:o,inputParamLength:a},r},{})),n},t.prototype.getStringParam=function(t,e,r,n){void 0===n&&(n=!1);var i=t[e];if(void 0!==i){var a=String.fromCharCode.apply(null,i.s);return n?a:a.toLowerCase()}return r},t.prototype.getBoolParam=function(t,e,r){var n=t[e];return n?n.b:r},t.prototype.getNumberParam=function(t,e,r){var n=t[e],i=n?n[n.value]:r;return"number"==typeof i?i:i.toInt()},t.prototype.getDtypeParam=function(t,e,r){var i=t[e];if(i&&i.type)switch(i.type){case n.tensorflow.DataType.DT_FLOAT:return"float32";case n.tensorflow.DataType.DT_INT32:return"int32";case n.tensorflow.DataType.DT_BOOL:return"bool";default:return r}return r},t.prototype.getTensorShapeParam=function(t,e,r){var n=t[e];return n&&n.shape?n.shape.dim.map(function(t){return"number"==typeof t.size?t.size:t.size.toInt()}):r},t.prototype.getNumericArrayParam=function(t,e,r){var n=t[e];return n?(n.list.f&&n.list.f.length?n.list.f:n.list.i).map(function(t){return"number"==typeof t?t:t.toInt()}):r},t}();e.OperationMapper=b},function(t,e){"use strict";function r(t,e,r,i){var a=e.params[t];if(a&&void 0!==a.inputIndex){if("tensor"===a.type)return n(e.inputNames[a.inputIndex],r,i);if("tensors"===a.type){var o=0===a.inputIndex?0===a.inputParamLength?e.inputNames:e.inputNames.slice(a.inputIndex,-a.inputParamLength):e.inputNames.splice(a.inputIndex);return o.map(function(t){return n(t,r,i)})}var s=Array.prototype.slice.call(n(e.inputNames.slice(a.inputIndex)[0],r,i).dataSync());return"number"===a.type?s[0]:s}return a&&a.value}function n(t,e,r){var n=o(t),i=n[0],s=n[1],l=r.currentContextIds.find(function(t){return!!e[a(i,t)]});return void 0!==l?e[a(i,l)][s]:void 0}function i(t,e){var r=o(t),n=r[0],i=r[1];return[a(n,e&&e.currentContextId),i]}function a(t,e){return e?t+"-"+e:t}function o(t){var e=t.lastIndexOf(":");if(e===-1)return[t,0];var r=t.substring(0,e);return[r,Number(t.substring(e+1))]}function s(t,e){for(var r=[],n=0;n<t.length;n+=e)r.push(t.slice(n,n+e));return r}Object.defineProperty(e,"__esModule",{value:!0}),e.getParamValue=r,e.getTensor=n,e.getNodeNameAndIndex=i,e.parseNodeName=o,e.split=s},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.json=[{tfOpName:"Add",dlOpName:"add",category:"arithmetic",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddN",dlOpName:"addN",category:"arithmetic",params:[{tfInputIndex:0,tfInputParamLength:0,dlParamName:"tensors",type:"tensors"}]},{tfOpName:"BiasAdd",dlOpName:"add",category:"arithmetic",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sub",dlOpName:"sub",category:"arithmetic",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"RealDiv",dlOpName:"div",category:"arithmetic",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Div",dlOpName:"div",category:"arithmetic",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorDiv",dlOpName:"floorDiv",category:"arithmetic",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mul",dlOpName:"mul",category:"arithmetic",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Maximum",dlOpName:"maximum",category:"arithmetic",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"}]},{tfOpName:"Minimum",dlOpName:"minimum",category:"arithmetic",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"}]},{tfOpName:"Pow",dlOpName:"pow",category:"arithmetic",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SquaredDifference",dlOpName:"squaredDifference",category:"arithmetic",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mod",dlOpName:"mod",category:"arithmetic",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]}]},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.json=[{tfOpName:"Abs",dlOpName:"abs",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acos",dlOpName:"acos",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asin",dlOpName:"asin",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"atan",dlOpName:"atan",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ceil",dlOpName:"ceil",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ClipByValue",dlOpName:"clipByValue",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"clip_value_min",dlParamName:"clipValueMin",type:"number"},{tfParamName:"clip_value_max",dlParamName:"clipValueMax",type:"number"}]},{tfOpName:"Cos",dlOpName:"cos",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cosh",dlOpName:"cosh",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Elu",dlOpName:"elu",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Exp",dlOpName:"exp",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Floor",dlOpName:"floor",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log",dlOpName:"log",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Neg",dlOpName:"neg",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu",dlOpName:"relu",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu6",dlOpName:"clipByValue",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0},{dlParamName:"clipValueMin",type:"number",defaultValue:0},{dlParamName:"clipValueMax",type:"number",defaultValue:6}]},{tfOpName:"Selu",dlOpName:"selu",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sigmoid",dlOpName:"sigmoid",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sin",dlOpName:"sin",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sinh",dlOpName:"sinh",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sqrt",dlOpName:"sqrt",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Rsqrt",dlOpName:"rsqrt",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Square",dlOpName:"square",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tan",dlOpName:"tan",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tanh",dlOpName:"tanh",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sign",dlOpName:"sign",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Round",dlOpName:"round",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Expm1",dlOpName:"expm1",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log1p",dlOpName:"log1p",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Reciprocal",dlOpName:"reciprocal",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Reciprocal",dlOpName:"reciprocal",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Softplus",dlOpName:"softplus",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asinh",dlOpName:"asinh",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acosh",dlOpName:"acosh",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atanh",dlOpName:"atanh",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Erf",dlOpName:"erf",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]}]},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.json=[{tfOpName:"LoopCond",dlOpName:"loopCond",category:"control",params:[{tfInputIndex:0,dlParamName:"pred",type:"tensor"}]},{tfOpName:"Switch",dlOpName:"switch",category:"control",params:[{tfInputIndex:0,dlParamName:"data",type:"tensor"},{tfInputIndex:1,dlParamName:"pred",type:"tensor"}]},{tfOpName:"Merge",dlOpName:"merge",category:"control",params:[{tfInputIndex:0,tfInputParamLength:0,dlParamName:"tensors",type:"tensors"}]},{tfOpName:"Enter",dlOpName:"enter",category:"control",params:[{tfInputIndex:0,dlParamName:"tensor",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0},{tfParamName:"frame_name",dlParamName:"frameName",type:"string"},{tfParamName:"is_constant",dlParamName:"isConstant",type:"bool"}]},{tfOpName:"Exit",dlOpName:"exit",category:"control",params:[{tfInputIndex:0,dlParamName:"tensor",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NextIteration",dlOpName:"nextIteration",category:"control",params:[{tfInputIndex:0,dlParamName:"tensor",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayV3",dlOpName:"tensorArray",category:"control",params:[{tfInputIndex:0,dlParamName:"size",type:"number"},{tfParamName:"dtype",dlParamName:"dtype",type:"dtype"},{tfParamName:"element_shape",dlParamName:"elementShape",type:"shape"},{tfParamName:"dynamic_size",dlParamName:"dynamicSize",type:"bool"},{tfParamName:"clear_after_read",dlParamName:"clearAfterRead",type:"bool"},{tfParamName:"identical_element_shapes",dlParamName:"identicalElementShapes",type:"bool"},{tfParamName:"tensor_array_name",dlParamName:"name",type:"string"}]},{tfOpName:"TensorArrayWriteV3",dlOpName:"tensorArrayWrite",category:"control",params:[{tfInputIndex:0,dlParamName:"tensorArrayId",type:"number"},{tfInputIndex:1,dlParamName:"index",type:"number"},{tfInputIndex:2,dlParamName:"tensor",type:"tensor"},{tfInputIndex:3,dlParamName:"flowIn",type:"number"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayReadV3",dlOpName:"tensorArrayRead",category:"control",params:[{tfInputIndex:0,dlParamName:"tensorArrayId",type:"number"},{tfInputIndex:1,dlParamName:"index",type:"number"},{tfInputIndex:2,dlParamName:"flowIn",type:"number"},{tfParamName:"dtype",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayGatherV3",dlOpName:"tensorArrayGather",category:"control",params:[{tfInputIndex:0,dlParamName:"tensorArrayId",type:"number"},{tfInputIndex:1,dlParamName:"indices",type:"number[]"},{tfInputIndex:2,dlParamName:"flowIn",type:"number"},{tfParamName:"dtype",dlParamName:"dtype",type:"dtype"},{tfParamName:"element_shape",dlParamName:"elementShape",type:"shape"}]},{tfOpName:"TensorArrayScatterV3",dlOpName:"tensorArrayScatter",category:"control",params:[{tfInputIndex:0,dlParamName:"tensorArrayId",type:"number"},{tfInputIndex:1,dlParamName:"indices",type:"number[]"},{tfInputIndex:2,dlParamName:"tensor",type:"tensor"},{tfInputIndex:3,dlParamName:"flowIn",type:"number"},{tfParamName:"T",dlParamName:"dtype",type:"dtype"}]},{tfOpName:"TensorArrayConcatV3",dlOpName:"tensorArrayConcat",category:"control",params:[{tfInputIndex:0,dlParamName:"tensorArrayId",type:"number"},{tfInputIndex:1,dlParamName:"flowIn",type:"number"},{tfParamName:"dtype",dlParamName:"dtype",type:"dtype"},{tfParamName:"element_shape_except0",dlParamName:"elementShapeExcept0",type:"shape",notSupported:!0}]},{tfOpName:"TensorArraySplitV3",dlOpName:"tensorArraySplit",category:"control",params:[{tfInputIndex:0,dlParamName:"tensorArrayId",type:"number"},{tfInputIndex:1,dlParamName:"tensor",type:"tensor"},{tfInputIndex:2,dlParamName:"lengths",type:"number[]"},{tfInputIndex:3,dlParamName:"flowIn",type:"number"},{tfParamName:"T",dlParamName:"dtype",type:"dtype"}]},{tfOpName:"TensorArraySizeV3",dlOpName:"tensorArraySize",category:"control",params:[{tfInputIndex:0,dlParamName:"tensorArrayId",type:"number"},{tfInputIndex:1,dlParamName:"flowIn",type:"number"}]},{tfOpName:"TensorArrayCloseV3",dlOpName:"tensorArrayClose",category:"control",params:[{tfInputIndex:0,dlParamName:"tensorArrayId",type:"number"}]}]},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.json=[{tfOpName:"AvgPool",dlOpName:"avgPool",category:"convolution",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"strides",dlParamName:"strides",type:"number[]"},{tfParamName:"padding",dlParamName:"pad",type:"string"},{tfParamName:"data_format",dlParamName:"dataFormat",type:"string",notSupported:!0},{tfParamName:"ksize",dlParamName:"kernelSize",type:"number[]"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool",dlOpName:"maxPool",category:"convolution",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"strides",dlParamName:"strides",type:"number[]"},{tfParamName:"padding",dlParamName:"pad",type:"string"},{tfParamName:"data_format",dlParamName:"dataFormat",type:"string",notSupported:!0},{tfParamName:"ksize",dlParamName:"kernelSize",type:"number[]"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Conv1D",dlOpName:"conv1d",category:"convolution",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"filter",type:"tensor"},{tfParamName:"stride",dlParamName:"stride",type:"number"},{tfParamName:"padding",dlParamName:"pad",type:"string"},{tfParamName:"data_format",dlParamName:"dataFormat",type:"string",defaultValue:"NWC"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0},{tfParamName:"dilation",dlParamName:"dilation",type:"number",defaultValue:1}]},{tfOpName:"Conv2D",dlOpName:"conv2d",category:"convolution",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"filter",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0},{tfParamName:"strides",dlParamName:"strides",type:"number[]"},{tfParamName:"padding",dlParamName:"pad",type:"string"},{tfParamName:"useCudnnOnGpu",dlParamName:"useCudnnOnGpu",type:"bool"},{tfParamName:"data_format",dlParamName:"dataFormat",type:"string",defaultValue:"NHWC"},{tfParamName:"dilations",dlParamName:"dilations",type:"number[]"}]},{tfOpName:"Conv2DBackpropInput",dlOpName:"conv2dTranspose",category:"convolution",params:[{tfInputIndex:2,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"filter",type:"tensor"},{tfInputIndex:0,dlParamName:"outputShape",type:"number[]"},{tfParamName:"strides",dlParamName:"strides",type:"number[]"},{tfParamName:"padding",dlParamName:"pad",type:"string"},{tfParamName:"data_format",dlParamName:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"DepthwiseConv2d",dlOpName:"depthwiseConv2d",category:"convolution",params:[{tfInputIndex:0,dlParamName:"input",type:"tensor"},{tfInputIndex:1,dlParamName:"filter",type:"tensor"},{tfParamName:"strides",dlParamName:"strides",type:"number[]"},{tfParamName:"padding",dlParamName:"pad",type:"string"},{tfParamName:"data_format",dlParamName:"dataFormat",type:"string",defaultValue:"NHWC"},{tfParamName:"dilations",dlParamName:"dilations",type:"number[]"}]},{tfOpName:"DepthwiseConv2dNative",dlOpName:"depthwiseConv2d",category:"convolution",params:[{tfInputIndex:0,dlParamName:"input",type:"tensor"},{tfInputIndex:1,dlParamName:"filter",type:"tensor"},{tfParamName:"strides",dlParamName:"strides",type:"number[]"},{tfParamName:"padding",dlParamName:"pad",type:"string"},{tfParamName:"data_format",dlParamName:"dataFormat",type:"string",defaultValue:"NHWC"},{tfParamName:"dilations",dlParamName:"dilations",type:"number[]"}]}]},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.json=[{tfOpName:"Fill",dlOpName:"fill",category:"creation",params:[{tfInputIndex:0,dlParamName:"shape",type:"number[]"},{tfInputIndex:1,dlParamName:"value",type:"number"},{tfParamName:"T",dlParamName:"dtype",type:"dtype"}]},{tfOpName:"LinSpace",dlOpName:"linspace",
category:"creation",params:[{tfInputIndex:0,dlParamName:"start",type:"number"},{tfInputIndex:1,dlParamName:"stop",type:"number"},{tfInputIndex:2,dlParamName:"num",type:"number"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"OneHot",dlOpName:"oneHot",category:"creation",params:[{tfInputIndex:0,dlParamName:"indices",type:"tensor"},{tfInputIndex:1,dlParamName:"depth",type:"number"},{tfInputIndex:2,dlParamName:"onValue",type:"number",defaultValue:1},{tfInputIndex:3,dlParamName:"offValue",type:"number",defaultValue:0},{tfParamName:"axis",dlParamName:"axis",type:"number",notSupported:!0},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ones",dlOpName:"ones",category:"creation",params:[{tfInputIndex:0,dlParamName:"shape",type:"number[]"},{tfParamName:"T",dlParamName:"dtype",type:"dtype"}]},{tfOpName:"OnesLike",dlOpName:"onesLike",category:"creation",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"dtype",dlParamName:"dtype",type:"dtype"}]},{tfOpName:"RandomUniform",dlOpName:"randomUniform",category:"creation",params:[{tfInputIndex:0,dlParamName:"shape",type:"number[]"},{tfParamName:"minval",dlParamName:"minval",type:"number",defaultValue:0},{tfParamName:"maxval",dlParamName:"maxval",type:"number",defaultValue:1},{tfParamName:"dtype",dlParamName:"dtype",type:"dtype"},{tfParamName:"seed",dlParamName:"seed",type:"number",defaultValue:0},{tfParamName:"seed2",dlParamName:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfParamName:"T",dlParamName:"T",type:"number",notSupported:!0}]},{tfOpName:"Range",dlOpName:"range",category:"creation",params:[{tfInputIndex:0,dlParamName:"start",type:"number"},{tfInputIndex:1,dlParamName:"stop",type:"number"},{tfInputIndex:2,dlParamName:"step",type:"number",defaultValue:0},{tfParamName:"Tidx",dlParamName:"dtype",type:"dtype"}]},{tfOpName:"truncatedNormal",dlOpName:"truncatedNormal",category:"creation",params:[{tfInputIndex:0,dlParamName:"shape",type:"number[]"},{tfParamName:"means",dlParamName:"mean",type:"number",defaultValue:0},{tfParamName:"stddev",dlParamName:"stdDev",type:"number",defaultValue:1},{tfParamName:"seed",dlParamName:"seed",type:"number"},{tfParamName:"seed2",dlParamName:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfParamName:"dtype",dlParamName:"dtype",type:"dtype"},{tfParamName:"T",dlParamName:"T",type:"number",notSupported:!0}]},{tfOpName:"Zeros",dlOpName:"zeros",category:"creation",params:[{tfInputIndex:0,dlParamName:"shape",type:"number[]"},{tfParamName:"T",dlParamName:"dtype",type:"dtype"}]},{tfOpName:"ZerosLike",dlOpName:"zerosLike",category:"creation",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype"}]}]},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.json=[{tfOpName:"NonMaxSuppressionV2",dlOpName:"nonMaxSuppression",category:"dynamic",params:[{tfInputIndex:0,dlParamName:"boxes",type:"tensor"},{tfInputIndex:1,dlParamName:"scores",type:"tensor"},{tfInputIndex:2,dlParamName:"maxOutputSize",type:"number"},{tfInputIndex:3,dlParamName:"iouThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV3",dlOpName:"nonMaxSuppression",category:"dynamic",params:[{tfInputIndex:0,dlParamName:"boxes",type:"tensor"},{tfInputIndex:1,dlParamName:"scores",type:"tensor"},{tfInputIndex:2,dlParamName:"maxOutputSize",type:"number"},{tfInputIndex:3,dlParamName:"iouThreshold",type:"number"},{tfInputIndex:4,dlParamName:"scoreThreshold",type:"number"}]},{tfOpName:"Where",dlOpName:"whereAsync",category:"dynamic",params:[{tfInputIndex:0,dlParamName:"condition",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]}]},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.json=[{tfOpName:"TopKV2",dlOpName:"topK",category:"evaluation",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"k",type:"number"},{tfParamName:"sorted",dlParamName:"sorted",type:"bool"}]}]},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.json=[{tfOpName:"PlaceholderWithDefault",dlOpName:"placeholder",category:"graph",params:[{tfInputIndex:0,dlParamName:"default",type:"tensor"},{tfParamName:"shape",dlParamName:"shape",type:"shape"},{tfParamName:"dtype",dlParamName:"dtype",type:"dtype"}]},{tfOpName:"Placeholder",dlOpName:"placeholder",category:"graph",params:[{tfParamName:"shape",dlParamName:"shape",type:"shape"},{tfParamName:"dtype",dlParamName:"dtype",type:"dtype"}]},{tfOpName:"Const",dlOpName:"const",category:"graph"},{tfOpName:"Identity",dlOpName:"identity",category:"graph",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"}]},{tfOpName:"Snapshot",dlOpName:"snapshot",category:"graph",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"}]},{tfOpName:"Rank",dlOpName:"rank",category:"graph",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"}]},{tfOpName:"Size",dlOpName:"size",category:"graph",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"}]},{tfOpName:"Shape",dlOpName:"shape",category:"graph",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"}]},{tfOpName:"Print",dlOpName:"print",category:"graph",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,tfInputParamLength:1,dlParamName:"data",type:"tensors"},{tfParamName:"message",dlParamName:"message",type:"string"},{tfParamName:"first_n",dlParamName:"firstN",type:"number",notSupprted:!0},{tfParamName:"summarize",dlParamName:"summarize",type:"number",defaultValue:3}]},{tfOpName:"NoOp",dlOpName:"noop",category:"graph",params:[]},{tfOpName:"StopGradient",dlOpName:"stopGradient",category:"graph",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"}]},{tfOpName:"FakeQuantWithMinMaxVars",dlOpName:"fakeQuantWithMinMaxVars",category:"graph",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"min",dlParamName:"min",type:"number"},{tfParamName:"max",dlParamName:"max",type:"number"}]}]},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.json=[{tfOpName:"ResizeBilinear",dlOpName:"resizeBilinear",category:"image",params:[{tfInputIndex:0,dlParamName:"images",type:"tensor"},{tfInputIndex:1,dlParamName:"size",type:"number[]"},{tfParamName:"align_corners",dlParamName:"alignCorners",type:"bool"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ResizeNearestNeighbor",dlOpName:"resizeNearestNeighbor",category:"image",params:[{tfInputIndex:0,dlParamName:"images",type:"tensor"},{tfInputIndex:1,dlParamName:"size",type:"number[]"},{tfParamName:"align_corners",dlParamName:"alignCorners",type:"bool"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]}]},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.json=[{tfOpName:"Equal",dlOpName:"equal",category:"logical",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NotEqual",dlOpName:"notEqual",category:"logical",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Greater",dlOpName:"greater",category:"logical",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"GreaterEqual",dlOpName:"greaterEqual",category:"logical",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Less",dlOpName:"less",category:"logical",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LessEqual",dlOpName:"lessEqual",category:"logical",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalAnd",dlOpName:"logicalAnd",category:"logical",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalNot",dlOpName:"logicalNot",category:"logical",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalOr",dlOpName:"logicalOr",category:"logical",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Select",dlOpName:"where",category:"logical",params:[{tfInputIndex:0,dlParamName:"condition",type:"tensor"},{tfInputIndex:1,dlParamName:"a",type:"tensor"},{tfInputIndex:2,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]}]},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.json=[{tfOpName:"MatMul",dlOpName:"matMul",category:"matrices",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"transpose_a",dlParamName:"transposeA",type:"bool",defaultValue:!1},{tfParamName:"transpose_b",dlParamName:"transposeB",type:"bool",defaultValue:!1},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Transpose",dlOpName:"transpose",category:"matrices",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"perm",type:"number[]"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]}]},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.json=[{tfOpName:"FusedBatchNorm",dlOpName:"batchNormalization",category:"normalization",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"scale",type:"tensor"},{tfInputIndex:2,dlParamName:"offset",type:"tensor"},{tfInputIndex:3,dlParamName:"mean",type:"tensor"},{tfInputIndex:4,dlParamName:"variance",type:"tensor"},{tfParamName:"epsilon",dlParamName:"epsilon",type:"number",defaultValue:.001},{tfParamName:"data_format",dlParamName:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV2",dlOpName:"batchNormalization",category:"normalization",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"scale",type:"tensor"},{tfInputIndex:2,dlParamName:"offset",type:"tensor"},{tfInputIndex:3,dlParamName:"mean",type:"tensor"},{tfInputIndex:4,dlParamName:"variance",type:"tensor"},{tfParamName:"epsilon",dlParamName:"epsilon",type:"number",defaultValue:.001},{tfParamName:"data_format",dlParamName:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"LRN",dlOpName:"localResponseNormalization",category:"normalization",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"depth_radius",dlParamName:"radius",type:"number",defaultValue:5},{tfParamName:"bias",dlParamName:"bias",type:"number",defaultValue:1},{tfParamName:"alpha",dlParamName:"alpha",type:"number",defaultValue:1},{tfParamName:"beta",dlParamName:"beta",type:"number",defaultValue:.5}]},{tfOpName:"Softmax",dlOpName:"softmax",category:"normalization",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"}]}]},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.json=[{tfOpName:"Max",dlOpName:"max",category:"reduction",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"axis",type:"number[]"},{tfParamName:"keep_dims",dlParamName:"keepDims",type:"bool"}]},{tfOpName:"Mean",dlOpName:"mean",category:"reduction",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"axis",type:"number[]"},{tfParamName:"keep_dims",dlParamName:"keepDims",type:"bool"}]},{tfOpName:"Min",dlOpName:"min",category:"reduction",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"axis",type:"number[]"},{tfParamName:"keep_dims",dlParamName:"keepDims",type:"bool"}]},{tfOpName:"Sum",dlOpName:"sum",category:"reduction",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"axis",type:"number[]"},{tfParamName:"keep_dims",dlParamName:"keepDims",type:"bool"}]},{tfOpName:"All",dlOpName:"all",category:"reduction",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"axis",type:"number[]"},{tfParamName:"keep_dims",dlParamName:"keepDims",type:"bool"}]},{tfOpName:"Any",dlOpName:"any",category:"reduction",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"axis",type:"number[]"},{tfParamName:"keep_dims",dlParamName:"keepDims",type:"bool"}]},{tfOpName:"ArgMax",dlOpName:"argMax",category:"reduction",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"axis",type:"number"}]},{tfOpName:"ArgMin",dlOpName:"argMin",category:"reduction",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"axis",type:"number"}]}]},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.json=[{tfOpName:"ConcatV2",dlOpName:"concat",category:"slice_join",params:[{tfInputIndex:0,tfInputParamLength:1,dlParamName:"tensors",type:"tensors"},{tfInputIndex:-1,dlParamName:"axis",type:"number"}]},{tfOpName:"Concat",dlOpName:"concat",category:"slice_join",params:[{tfInputIndex:1,tfInputParamLength:1,dlParamName:"tensors",type:"tensors"},{tfInputIndex:0,dlParamName:"axis",type:"number"}]},{tfOpName:"GatherV2",dlOpName:"gather",category:"slice_join",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"indices",type:"tensor"},{tfParamName:"axis",dlParamName:"axis",type:"number",defaultValue:0}]},{tfOpName:"Gather",dlOpName:"gather",category:"slice_join",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"indices",type:"tensor"},{tfParamName:"axis",dlParamName:"axis",type:"number",defaultValue:0},{tfParamName:"validate_indices",dlParamName:"validateIndices",type:"bool",notSupported:!0}]},{tfOpName:"Reverse",dlOpName:"reverse",category:"slice_join",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"axis",type:"number"}]},{tfOpName:"ReverseV2",dlOpName:"reverse",category:"slice_join",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"axis",type:"number"}]},{tfOpName:"Slice",dlOpName:"slice",category:"slice_join",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"begin",type:"number[]"},{tfInputIndex:2,dlParamName:"size",type:"number[]"}]},{tfOpName:"StridedSlice",dlOpName:"stridedSlice",category:"slice_join",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"begin",type:"number[]"},{tfInputIndex:2,dlParamName:"end",type:"number[]"},{tfInputIndex:3,dlParamName:"strides",type:"number[]"},{tfParamName:"begin_mask",dlParamName:"beginMask",type:"number",defaultValue:0},{tfParamName:"end_mask",dlParamName:"endMask",type:"number",defaultValue:0},{tfParamName:"new_axis_mask",dlParamName:"newAxisMask",type:"number",defaultValue:0},{tfParamName:"ellipsis_mask",dlParamName:"ellipsisMask",type:"number",defaultValue:0},{tfParamName:"shrink_axis_mask",dlParamName:"shrinkAxisMask",type:"number",defaultValue:0}]},{tfOpName:"Pack",dlOpName:"stack",category:"slice_join",params:[{tfInputIndex:0,tfInputParamLength:0,dlParamName:"tensors",type:"tensors"},{tfParamName:"axis",dlParamName:"axis",type:"number",defaultValue:0}]},{tfOpName:"Unpack",dlOpName:"unstack",category:"slice_join",params:[{tfInputIndex:0,tfInputParamLength:0,dlParamName:"tensor",type:"tensor"},{tfParamName:"axis",dlParamName:"axis",type:"number",defaultValue:0},{tfParamName:"num",dlParamName:"num",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Tile",dlOpName:"tile",category:"slice_join",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"reps",type:"number[]"}]},{tfOpName:"Split",dlOpName:"split",category:"slice_join",params:[{tfInputIndex:0,dlParamName:"axis",type:"number",defaultValue:0},{tfInputIndex:1,dlParamName:"x",type:"tensor"},{tfParamName:"num_split",dlParamName:"numOrSizeSplits",type:"number",defaultValue:1}]}]},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.json=[{tfOpName:"Cast",dlOpName:"cast",category:"transformation",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"SrcT",dlParamName:"sdtype",type:"dtype",notSupported:!0},{tfParamName:"DstT",dlParamName:"dtype",type:"dtype"}]},{tfOpName:"ExpandDims",dlOpName:"expandDims",category:"transformation",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,tfParamNameDeprecated:"dim",dlParamName:"axis",type:"number"}]},{tfOpName:"Pad",dlOpName:"pad",category:"transformation",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"padding",type:"number[]"},{tfParamName:"constant_value",dlParamName:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"PadV2",dlOpName:"pad",category:"transformation",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"padding",type:"number[]"},{tfInputIndex:2,dlParamName:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"Reshape",dlOpName:"reshape",category:"transformation",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"shape",type:"number[]"}]},{tfOpName:"Squeeze",dlOpName:"squeeze",category:"transformation",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"axis",tfParamNameDeprecated:"squeeze_dims",dlParamName:"axis",type:"number[]"}]},{tfOpName:"SpaceToBatchND",dlOpName:"spaceToBatchND",category:"transformation",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"blockShape",type:"number[]"},{tfInputIndex:2,dlParamName:"paddings",type:"number[]"}]},{tfOpName:"BatchToSpaceND",dlOpName:"batchToSpaceND",category:"transformation",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"blockShape",type:"number[]"},{tfInputIndex:2,dlParamName:"crops",type:"number[]"}]}]},function(t,e,r){"use strict";var n=this&&this.__assign||Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},i=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))(function(i,a){function o(t){try{l(n.next(t))}catch(t){a(t)}}function s(t){try{l(n.throw(t))}catch(t){a(t)}}function l(t){t.done?i(t.value):new r(function(e){e(t.value)}).then(o,s)}l((n=n.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){function r(t){return function(e){return n([t,e])}}function n(r){if(i)throw new TypeError("Generator is already executing.");for(;l;)try{if(i=1,a&&(o=a[2&r[0]?"return":r[0]?"throw":"next"])&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[0,o.value]),r[0]){case 0:case 1:o=r;break;case 4:return l.label++,{value:r[1],done:!1};case 5:l.label++,a=r[1],r=[0];continue;case 7:r=l.ops.pop(),l.trys.pop();continue;default:if(o=l.trys,!(o=o.length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){l=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){l.label=r[1];break}if(6===r[0]&&l.label<o[1]){l.label=o[1],o=r;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(r);break}o[2]&&l.ops.pop(),l.trys.pop();continue}r=e.call(t,l)}catch(t){r=[6,t],a=0}finally{i=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}var i,a,o,s,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(e,"__esModule",{value:!0});var o=r(510),s=r(735),l=r(752),u=r(769),c=function(){function t(t){this.graph=t,this.compiledOrder=[],this._weightMap={},this.placeholders=t.placeholders,this._outputs=t.outputs,this.compile()}return Object.defineProperty(t.prototype,"weightMap",{get:function(){return this._weightMap},set:function(t){var e=Object.keys(t).map(function(e){return t[e].map(function(t){return t.id})});this.weightIds=[].concat.apply([],e),this._weightMap=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputs",{get:function(){return this.placeholders.map(function(t){return{name:t.name,shape:t.params.shape?t.params.shape.value:void 0,dtype:t.params.dtype?t.params.dtype.value:void 0}})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outputs",{get:function(){return this._outputs.map(function(t){return{name:t.name,shape:t.params.shape?t.params.shape.value:void 0,dtype:t.params.dtype?t.params.dtype.value:void 0}})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputNodes",{get:function(){return this.placeholders.map(function(t){return t.name})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outputNodes",{get:function(){return this.outputs.map(function(t){return t.name})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isControlFlowModel",{get:function(){return this.graph.withControlFlow},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDynamicShapeModel",{get:function(){return this.graph.withDynamicShape},enumerable:!0,configurable:!0}),t.prototype.compile=function(){if(!this.graph.withControlFlow&&!this.graph.withDynamicShape)for(var t=this.graph.inputs.slice(),e={};t.length>0;){var r=t.pop();e[r.name]=!0,this.compiledOrder.push(r),r.children.forEach(function(r){!e[r.name]&&r.inputNames.every(function(t){var r=s.getNodeNameAndIndex(t)[0];return e[r]})&&t.push(r)})}},t.prototype.execute=function(t,e){var r=this;this.checkInput(t),this.checkInputShapeAndType(t);var i={},a=o.tidy(function(){var a=new u.ExecutionContext(r._weightMap,i),o=r.compiledOrder.reduce(function(t,e){return t[e.name]=l.executeOp(e,t,a),t},n({},r.weightMap,t));return r.findOutputs(o,a,e)});return a},t.prototype.executeAsync=function(t,e){return i(this,void 0,void 0,function(){var r,n,i,o,s,l,c,h=this;return a(this,function(a){switch(a.label){case 0:return this.checkInput(t),this.checkInputShapeAndType(t),r={},n=new u.ExecutionContext(this._weightMap,r),[4,this.executeWithControlFlow(t,n)];case 1:return i=a.sent(),o=this.findOutputs(i,n,e),s=Object.keys(o).map(function(t){return o[t].id}),l=Object.keys(t).map(function(e){return t[e].map(function(t){return t.id})}),c=[].concat.apply([],l),Object.keys(i).forEach(function(t){var e=i[t];e.forEach(function(t){t&&s.indexOf(t.id)===-1&&c.indexOf(t.id)===-1&&h.weightIds.indexOf(t.id)===-1&&t.dispose()})}),[2,o]}})})},t.prototype.executeWithControlFlow=function(t,e){return i(this,void 0,void 0,function(){var r,i,o,s;return a(this,function(a){switch(a.label){case 0:r=this.graph.inputs.map(function(t){return{node:t,contexts:e.currentContext}}),i=n({},this.weightMap,t),o={},a.label=1;case 1:return r.length>0?(s=this.processStack(r,e,i,o),[4,Promise.all(s)]):[3,3];case 2:return a.sent(),[3,1];case 3:return[2,i]}})})},t.prototype.processStack=function(t,e,r,n){for(var i=this,a=[],o=function(){var o=t.pop();e.currentContext=o.contexts;var c="";"enter"===o.node.op&&s.getParamValue("isConstant",o.node,r,e)&&(c=s.getNodeNameAndIndex(o.node.name,e)[0]);var h=l.executeOp(o.node,r,e);c||(c=s.getNodeNameAndIndex(o.node.name,e)[0]);var g=e.currentContext;h instanceof Promise?a.push(h.then(function(a){return r[c]=a,e.currentContext=g,i.processChildNodes(o.node,t,e,r,n),a})):(r[c]=h,u.processChildNodes(o.node,t,e,r,n))},u=this;t.length>0;)o();return a},t.prototype.processChildNodes=function(t,e,r,n,i){t.children.forEach(function(t){var a=s.getNodeNameAndIndex(t.name,r)[0];i[a]||("merge"===t.op?t.inputNames.some(function(t){return!!s.getTensor(t,n,r)})&&(i[a]=!0,e.push({contexts:r.currentContext,node:t})):t.inputNames.every(function(t){return!!s.getTensor(t,n,r)})&&(i[a]=!0,e.push({contexts:r.currentContext,node:t})))})},t.prototype.findOutputs=function(t,e,r){!r||r instanceof Array||(r=[r]);var n=r||this.graph.outputs.map(function(t){return t.name});return n.reduce(function(r,n){return r[n]=s.getTensor(n,t,e),r},{})},t.prototype.dispose=function(){var t=this;Object.keys(this.weightMap).forEach(function(e){return t.weightMap[e].forEach(function(t){return t.dispose()})})},t.prototype.checkInputShapeAndType=function(t){this.placeholders.forEach(function(e){var r=t[e.name][0];if(e.params.shape&&e.params.shape.value){var n=e.params.shape.value,i=n.length===r.shape.length&&r.shape.every(function(t,e){return n[e]===-1||n[e]===t});o.util.assert(i,"The shape of dict['"+e.name+"'] provided in model.execute(dict) must be ["+n+"], but was ["+r.shape+"]")}e.params.dtype&&e.params.dtype.value&&o.util.assert(r.dtype===e.params.dtype.value,"The dtype of dict['"+e.name+"'] provided in model.execute(dict) must be "+e.params.dtype.value+", but was "+r.dtype)})},t.prototype.checkInput=function(t){var e=this,r=Object.keys(t),n=[],i=[];if(this.inputNodes.forEach(function(t){r.indexOf(t)===-1&&n.push(t)}),r.forEach(function(t){e.inputNodes.indexOf(t)===-1&&i.push(t)}),n.length>0)throw new Error("The dict provided in model.execute(dict) has the keys "+("["+r+"], but is missing the required keys: ["+n+"]."));if(i.length>0)throw new Error("The dict provided in model.execute(dict) has "+("unused keys: ["+i+"]. Please provide only the following keys: ")+("["+this.inputNodes+"]."))},t}();e.GraphExecutor=c},function(t,e,r){"use strict";function n(t,e,r){switch(t.category){case"arithmetic":return i.executeOp(t,e,r);case"basic_math":return a.executeOp(t,e,r);case"control":return o.executeOp(t,e,r);case"convolution":return s.executeOp(t,e,r);case"creation":return l.executeOp(t,e,r);case"dynamic":return u.executeOp(t,e,r);case"evaluation":return c.executeOp(t,e,r);case"image":return g.executeOp(t,e,r);case"graph":return h.executeOp(t,e,r);case"logical":return p.executeOp(t,e,r);case"matrices":return d.executeOp(t,e,r);case"normalization":return f.executeOp(t,e,r);case"reduction":return A.executeOp(t,e,r);case"slice_join":return C.executeOp(t,e,r);case"transformation":return m.executeOp(t,e,r);default:throw TypeError("Node type "+t.op+" is not implemented")}}Object.defineProperty(e,"__esModule",{value:!0});var i=r(753),a=r(754),o=r(755),s=r(757),l=r(758),u=r(759),c=r(760),h=r(761),g=r(762),p=r(763),d=r(764),f=r(765),A=r(766),C=r(767),m=r(768);e.executeOp=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(510),i=r(735);e.executeOp=function(t,e,r){switch(t.op){case"add":return[n.add(i.getParamValue("a",t,e,r),i.getParamValue("b",t,e,r))];case"addN":return[n.addN(i.getParamValue("tensors",t,e,r))];case"mod":return[n.mod(i.getParamValue("a",t,e,r),i.getParamValue("b",t,e,r))];case"mul":return[n.mul(i.getParamValue("a",t,e,r),i.getParamValue("b",t,e,r))];case"div":return[n.div(i.getParamValue("a",t,e,r),i.getParamValue("b",t,e,r))];case"floorDiv":return[n.floorDiv(i.getParamValue("a",t,e,r),i.getParamValue("b",t,e,r))];case"sub":return[n.sub(i.getParamValue("a",t,e,r),i.getParamValue("b",t,e,r))];case"minimum":return[n.minimum(i.getParamValue("a",t,e,r),i.getParamValue("b",t,e,r))];case"maximum":return[n.maximum(i.getParamValue("a",t,e,r),i.getParamValue("b",t,e,r))];case"pow":return[n.pow(i.getParamValue("a",t,e,r),i.getParamValue("b",t,e,r))];case"squaredDifference":return[n.squaredDifference(i.getParamValue("a",t,e,r),i.getParamValue("b",t,e,r))];default:throw TypeError("Node type "+t.op+" is not implemented")}},e.CATEGORY="arithmetic"},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(510),i=r(735);e.executeOp=function(t,e,r){switch(t.op){case"abs":return[n.abs(i.getParamValue("x",t,e,r))];case"acos":return[n.acos(i.getParamValue("x",t,e,r))];case"acosh":return[n.acosh(i.getParamValue("x",t,e,r))];case"asin":return[n.asin(i.getParamValue("x",t,e,r))];case"asinh":return[n.asinh(i.getParamValue("x",t,e,r))];case"atan":return[n.atan(i.getParamValue("x",t,e,r))];case"atanh":return[n.atanh(i.getParamValue("x",t,e,r))];case"ceil":return[n.ceil(i.getParamValue("x",t,e,r))];case"cos":return[n.cos(i.getParamValue("x",t,e,r))];case"cosh":return[n.cosh(i.getParamValue("x",t,e,r))];case"elu":return[n.elu(i.getParamValue("x",t,e,r))];case"erf":return[n.erf(i.getParamValue("x",t,e,r))];case"exp":return[n.exp(i.getParamValue("x",t,e,r))];case"expm1":return[n.expm1(i.getParamValue("x",t,e,r))];case"floor":return[n.floor(i.getParamValue("x",t,e,r))];case"log":return[n.log(i.getParamValue("x",t,e,r))];case"log1p":return[n.log1p(i.getParamValue("x",t,e,r))];case"neg":return[n.neg(i.getParamValue("x",t,e,r))];case"reciprocal":return[n.reciprocal(i.getParamValue("x",t,e,r))];case"relu":return[n.relu(i.getParamValue("x",t,e,r))];case"round":return[n.round(i.getParamValue("x",t,e,r))];case"selu":return[n.selu(i.getParamValue("x",t,e,r))];case"sigmoid":return[n.sigmoid(i.getParamValue("x",t,e,r))];case"sin":return[n.sin(i.getParamValue("x",t,e,r))];case"sign":return[n.sign(i.getParamValue("x",t,e,r))];case"sinh":return[n.sinh(i.getParamValue("x",t,e,r))];case"softplus":return[n.softplus(i.getParamValue("x",t,e,r))];case"sqrt":return[n.sqrt(i.getParamValue("x",t,e,r))];case"square":return[n.square(i.getParamValue("x",t,e,r))];case"tanh":return[n.tanh(i.getParamValue("x",t,e,r))];case"tan":return[n.tan(i.getParamValue("x",t,e,r))];case"clipByValue":return[n.clipByValue(i.getParamValue("x",t,e,r),i.getParamValue("clipValueMin",t,e,r),i.getParamValue("clipValueMax",t,e,r))];case"rsqrt":return[n.div(n.scalar(1,"float32"),n.sqrt(i.getTensor(t.inputNames[0],e,r)))];default:throw TypeError("Node type "+t.op+" is not implemented")}},e.CATEGORY="basic_math"},function(t,e,r){"use strict";function n(t,e,r){return i(this,void 0,void 0,function(){var n,i,u,c,h,g,p,d,f,A,C,m,I,v,y,b,x,w,N,S,T,E,k,O,_,P,M,D,R,L,z,F,B,V,j,W,G,U,H,Y,Z,X;return a(this,function(a){switch(a.label){case 0:switch(n=t.op){case"loopCond":return[3,1];case"switch":return[3,2];case"merge":return[3,4];case"enter":return[3,5];case"exit":return[3,6];case"nextIteration":return[3,7];case"tensorArray":return[3,8];case"tensorArrayWrite":return[3,9];case"tensorArrayRead":return[3,10];case"tensorArrayGather":return[3,11];case"tensorArrayScatter":return[3,12];case"tensorArrayConcat":return[3,13];case"tensorArraySplit":return[3,14];case"tensorArraySize":return[3,15];case"tensorArrayClose":return[3,16]}return[3,17];case 1:return[2,[l.getParamValue("pred",t,e,r)]];case 2:return i=l.getParamValue("pred",t,e,r),u=l.getParamValue("data",t,e,r),[4,i.data()];case 3:return[2,a.sent()[0]?[void 0,u]:[u,void 0]];case 4:return c=t.inputNames.find(function(t){return void 0!==l.getTensor(t,e,r)}),[2,c?[l.getTensor(c,e,r)]:void 0];case 5:return h=l.getParamValue("frameName",t,e,r),g=l.getParamValue("tensor",t,e,r),r.enterFrame(h),[2,[g]];case 6:return p=l.getParamValue("tensor",t,e,r),r.exitFrame(),[2,[p]];case 7:return d=l.getParamValue("tensor",t,e,r),r.nextIteration(),[2,[d]];case 8:return f=l.getParamValue("size",t,e,r),A=l.getParamValue("dtype",t,e,r),C=l.getParamValue("elementShape",t,e,r),m=l.getParamValue("dynamicSize",t,e,r),I=l.getParamValue("clearAfterRead",t,e,r),v=l.getParamValue("identicalElementShapes",t,e,r),y=l.getParamValue("name",t,e,r),b=new s.TensorArray(y,A,f,C,v,m,I),r.addTensorArray(b),[2,[o.scalar(b.id),o.scalar(1)]];case 9:return x=l.getParamValue("tensorArrayId",t,e,r),w=l.getParamValue("index",t,e,r),N=l.getParamValue("tensor",t,e,r),S=r.getTensorArray(x),S.write(w,N),[2,[o.scalar(1)]];case 10:return T=l.getParamValue("tensorArrayId",t,e,r),E=l.getParamValue("index",t,e,r),k=r.getTensorArray(T),[2,[k.read(E)]];case 11:return O=l.getParamValue("tensorArrayId",t,e,r),_=l.getParamValue("indices",t,e,r),P=l.getParamValue("dtype",t,e,r),
M=r.getTensorArray(O),[2,[M.gather(_,P)]];case 12:return D=l.getParamValue("tensorArrayId",t,e,r),R=l.getParamValue("indices",t,e,r),L=l.getParamValue("tensor",t,e,r),z=r.getTensorArray(D),z.scatter(R,L),[2,[o.scalar(1)]];case 13:return F=l.getParamValue("tensorArrayId",t,e,r),B=r.getTensorArray(F),V=l.getParamValue("dtype",t,e,r),[2,[B.concat(V)]];case 14:return j=l.getParamValue("tensorArrayId",t,e,r),W=l.getParamValue("tensor",t,e,r),G=l.getParamValue("lengths",t,e,r),U=r.getTensorArray(j),U.split(G,W),[2,[o.scalar(1)]];case 15:return H=l.getParamValue("tensorArrayId",t,e,r),Y=r.getTensorArray(H),[2,[o.scalar(Y.size(),"int32")]];case 16:return Z=l.getParamValue("tensorArrayId",t,e,r),X=r.getTensorArray(Z),X.clearAndClose(),[2,[]];case 17:throw TypeError("Node type "+t.op+" is not implemented")}})})}var i=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))(function(i,a){function o(t){try{l(n.next(t))}catch(t){a(t)}}function s(t){try{l(n.throw(t))}catch(t){a(t)}}function l(t){t.done?i(t.value):new r(function(e){e(t.value)}).then(o,s)}l((n=n.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){function r(t){return function(e){return n([t,e])}}function n(r){if(i)throw new TypeError("Generator is already executing.");for(;l;)try{if(i=1,a&&(o=a[2&r[0]?"return":r[0]?"throw":"next"])&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[0,o.value]),r[0]){case 0:case 1:o=r;break;case 4:return l.label++,{value:r[1],done:!1};case 5:l.label++,a=r[1],r=[0];continue;case 7:r=l.ops.pop(),l.trys.pop();continue;default:if(o=l.trys,!(o=o.length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){l=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){l.label=r[1];break}if(6===r[0]&&l.label<o[1]){l.label=o[1],o=r;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(r);break}o[2]&&l.ops.pop(),l.trys.pop();continue}r=e.call(t,l)}catch(t){r=[6,t],a=0}finally{i=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}var i,a,o,s,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(e,"__esModule",{value:!0});var o=r(510),s=r(756),l=r(735);e.executeOp=n,e.CATEGORY="control"},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(510),i=function(){function t(e,r,n,i,a,o,s){this.name=e,this.dtype=r,this.maxSize=n,this.elementShape=i,this.identicalElementShapes=a,this.dynamicSize=o,this.clearAfterRead=s,this.tensors=[],this.closed_=!1,this.id=t.nextId++}return Object.defineProperty(t.prototype,"closed",{get:function(){return this.closed_},enumerable:!0,configurable:!0}),t.prototype.clearAndClose=function(){this.tensors.forEach(function(t){return t.tensor.dispose()}),this.tensors=[],this.closed_=!0},t.prototype.size=function(){return this.tensors.length},t.prototype.read=function(t){if(this.closed_)throw new Error("TensorArray "+this.name+" has already been closed.");if(t<0||t>=this.tensors.length)throw new Error("Tried to read from index "+t+", but array size is: "+this.tensors.length);var e=this.tensors[t];if(e.cleared)throw new Error("TensorArray "+this.name+": Could not read index "+t+" twice because it was cleared after a previous read (perhaps try setting clear_after_read = false?).");return this.clearAfterRead&&(e.cleared=!0),e.read=!0,e.tensor},t.prototype.readMany=function(t){var e=this;return t.map(function(t){return e.read(t)})},t.prototype.write=function(t,e){if(this.closed_)throw new Error("TensorArray "+this.name+" has already been closed.");if(t<0||!this.dynamicSize&&t>=this.maxSize)throw new Error("Tried to write to index "+t+", but array is not resizeable and size is: "+this.maxSize);var r=this.tensors[t]||{};if(e.dtype!==this.dtype)throw new Error("TensorArray "+this.name+": Could not write to TensorArray index "+t+",\n          because the value dtype is "+e.dtype+", but TensorArray dtype is "+this.dtype+".");if(0===this.size()&&0===this.elementShape.length&&(this.elementShape=e.shape),this.assertShapesMatch(this.elementShape,e.shape,"TensorArray "+this.name+": Could not write to TensorArray index "+t+"."),r&&r.read)throw new Error("TensorArray "+this.name+": Could not write to TensorArray index "+t+", because it has already been read.");if(r&&r.written)throw new Error("TensorArray "+this.name+": Could not write to TensorArray index "+t+", because it has already been written.");r.tensor=e,r.written=!0,this.tensors[t]=r},t.prototype.writeMany=function(t,e){var r=this;if(t.length!==e.length)throw new Error("TensorArray "+this.name+": could not write multiple tensors,"+("because the index size: "+t.length+" is not the same as tensors size: "+e.length+"."));t.forEach(function(t,n){return r.write(t,e[n])})},t.prototype.gather=function(t,e){if(e&&e!==this.dtype)throw new Error("TensorArray dtype is "+this.dtype+" but gather requested dtype "+e);if(!t){t=[];for(var r=0;r<this.size();r++)t.push(r)}if(0===t.length)return n.tensor([],[0].concat(this.elementShape));var i=this.readMany(t);return this.assertShapesMatch(this.elementShape,i[0].shape,"TensorArray shape mismatch: "),n.stack(i,0)},t.prototype.concat=function(t){if(t&&t!==this.dtype)throw new Error("TensorArray dtype is "+this.dtype+" but concat requested dtype "+t);if(0===this.size())return n.tensor([],[0].concat(this.elementShape));for(var e=[],r=0;r<this.size();r++)e.push(r);var i=this.readMany(e);return this.assertShapesMatch(this.elementShape,i[0].shape,"TensorArray shape mismatch: tensor array shape ("+this.elementShape+") vs first tensor shape ("+i[0].shape+")"),n.concat(i,0)},t.prototype.scatter=function(t,e){if(e.dtype!==this.dtype)throw new Error("TensorArray dtype is "+this.dtype+" but tensor has dtype "+e.dtype);if(t.length!==e.shape[0])throw new Error("Expected len(indices) == tensor.shape[0], but saw: "+t.length+" vs. "+e.shape[0]);var r=Math.max.apply(Math,t);if(!this.dynamicSize&&r>=this.maxSize)throw new Error("Max index must be < array size ("+r+"  vs. "+this.maxSize+")");this.writeMany(t,n.unstack(e,0))},t.prototype.split=function(t,e){var r=this;if(e.dtype!==this.dtype)throw new Error("TensorArray dtype is "+this.dtype+" but tensor has dtype "+e.dtype);var i=0,a=t.map(function(t){return i+=t});if(i!==e.shape[0])throw new Error("Expected sum of lengths to be equal to\n          tensor.shape[0], but sum of lengths is\n        "+i+", and tensor's shape is: "+e.shape);if(!this.dynamicSize&&t.length!==this.maxSize)throw new Error("TensorArray's size is not equal to the size of lengths ("+this.maxSize+" vs. "+t.length+"), and the TensorArray is not marked as dynamically resizeable");var o=0===i?0:e.size/i,s=[];n.tidy(function(){e=e.reshape([1,i,o]);for(var l=0;l<t.length;++l){var u=0===l?0:a[l-1],c=[0,u,0],h=[1,t[l],o];s[l]=n.slice(e,c,h).reshape(r.elementShape)}return s});for(var l=[],u=0;u<t.length;u++)l[u]=u;this.writeMany(l,s)},t.prototype.assertShapesMatch=function(t,e,r){void 0===r&&(r=""),n.util.assert(this.arraysEqual(t,e),r+(" Shapes "+t+" and "+e+" must match"))},t.prototype.arraysEqual=function(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(t[r]!==-1&&e[r]!==-1&&t[r]!==e[r])return!1;return!0},t.nextId=0,t}();e.TensorArray=i},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(510),i=r(735);e.executeOp=function(t,e,r){switch(t.op){case"conv1d":var a=i.getParamValue("stride",t,e,r),o=i.getParamValue("pad",t,e,r),s=i.getParamValue("dataFormat",t,e,r).toUpperCase(),l=i.getParamValue("dilation",t,e,r);return[n.conv1d(i.getParamValue("x",t,e,r),i.getParamValue("filter",t,e,r),a,o,s,l)];case"conv2d":var a=i.getParamValue("strides",t,e,r),o=i.getParamValue("pad",t,e,r),s=i.getParamValue("dataFormat",t,e,r).toUpperCase(),u=i.getParamValue("dilations",t,e,r);return[n.conv2d(i.getParamValue("x",t,e,r),i.getParamValue("filter",t,e,r),[a[1],a[2]],o,s,[u[0],u[1]])];case"conv2dTranspose":var c=i.getParamValue("outputShape",t,e,r),a=i.getParamValue("strides",t,e,r),o=i.getParamValue("pad",t,e,r);return[n.conv2dTranspose(i.getParamValue("x",t,e,r),i.getParamValue("filter",t,e,r),c,[a[1],a[2]],o)];case"depthwiseConv2d":var a=i.getParamValue("strides",t,e,r),o=i.getParamValue("pad",t,e,r),u=i.getParamValue("dilations",t,e,r),s=i.getParamValue("dataFormat",t,e,r).toUpperCase();return[n.depthwiseConv2d(i.getParamValue("input",t,e,r),i.getParamValue("filter",t,e,r),[a[1],a[2]],o,s,[u[0],u[1]])];case"avgPool":var a=i.getParamValue("strides",t,e,r),o=i.getParamValue("pad",t,e,r),h=i.getParamValue("kernelSize",t,e,r);return[n.avgPool(i.getParamValue("x",t,e,r),[h[1],h[2]],[a[1],a[2]],o)];case"maxPool":var a=i.getParamValue("strides",t,e,r),o=i.getParamValue("pad",t,e,r),h=i.getParamValue("kernelSize",t,e,r);return[n.maxPool(i.getParamValue("x",t,e,r),[h[1],h[2]],[a[1],a[2]],o)];default:throw TypeError("Node type "+t.op+" is not implemented")}},e.CATEGORY="convolution"},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(510),i=r(735);e.executeOp=function(t,e,r){switch(t.op){case"fill":var a=i.getParamValue("shape",t,e,r),o=i.getParamValue("dtype",t,e,r),s=i.getParamValue("value",t,e,r);return[n.fill(a,s,o)];case"linspace":var l=i.getParamValue("start",t,e,r),u=i.getParamValue("stop",t,e,r),c=i.getParamValue("num",t,e,r);return[n.linspace(l,u,c)];case"oneHot":var h=i.getParamValue("indices",t,e,r),g=i.getParamValue("depth",t,e,r),p=i.getParamValue("onValue",t,e,r),d=i.getParamValue("offValue",t,e,r);return[n.oneHot(h,g,p,d)];case"ones":return[n.ones(i.getParamValue("shape",t,e,r),i.getParamValue("dtype",t,e,r))];case"onesLike":return[n.onesLike(i.getParamValue("x",t,e,r))];case"randomUniform":return[n.randomUniform(i.getParamValue("shape",t,e,r),i.getParamValue("minval",t,e,r),i.getParamValue("maxval",t,e,r),i.getParamValue("dtype",t,e,r))];case"range":var l=i.getParamValue("start",t,e,r),f=i.getParamValue("stop",t,e,r),A=i.getParamValue("step",t,e,r);return[n.range(l,f,A,i.getParamValue("dtype",t,e,r))];case"truncatedNormal":var a=i.getParamValue("shape",t,e,r),C=i.getParamValue("mean",t,e,r),m=i.getParamValue("stdDev",t,e,r),I=i.getParamValue("seed",t,e,r);return[n.truncatedNormal(a,C,m,i.getParamValue("dtype",t,e,r),I)];case"zeros":return[n.zeros(i.getParamValue("shape",t,e,r),i.getParamValue("dtype",t,e,r))];case"zerosLike":return[n.zerosLike(i.getParamValue("x",t,e,r))];default:throw TypeError("Node type "+t.op+" is not implemented")}},e.CATEGORY="creation"},function(t,e,r){"use strict";function n(t,e,r){return i(this,void 0,void 0,function(){var n,i,l,u,c,h;return a(this,function(a){switch(a.label){case 0:switch(n=t.op){case"nonMaxSuppression":return[3,1];case"whereAsync":return[3,3]}return[3,5];case 1:return i=s.getParamValue("boxes",t,e,r),l=s.getParamValue("scores",t,e,r),u=s.getParamValue("maxOutputSize",t,e,r),c=s.getParamValue("iouThreshold",t,e,r),h=s.getParamValue("scoreThreshold",t,e,r),[4,o.image.nonMaxSuppressionAsync(i,l,u,c,h)];case 2:return[2,[a.sent()]];case 3:return[4,o.whereAsync(s.getParamValue("condition",t,e,r))];case 4:return[2,[a.sent()]];case 5:throw TypeError("Node type "+t.op+" is not implemented")}})})}var i=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))(function(i,a){function o(t){try{l(n.next(t))}catch(t){a(t)}}function s(t){try{l(n.throw(t))}catch(t){a(t)}}function l(t){t.done?i(t.value):new r(function(e){e(t.value)}).then(o,s)}l((n=n.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){function r(t){return function(e){return n([t,e])}}function n(r){if(i)throw new TypeError("Generator is already executing.");for(;l;)try{if(i=1,a&&(o=a[2&r[0]?"return":r[0]?"throw":"next"])&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[0,o.value]),r[0]){case 0:case 1:o=r;break;case 4:return l.label++,{value:r[1],done:!1};case 5:l.label++,a=r[1],r=[0];continue;case 7:r=l.ops.pop(),l.trys.pop();continue;default:if(o=l.trys,!(o=o.length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){l=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){l.label=r[1];break}if(6===r[0]&&l.label<o[1]){l.label=o[1],o=r;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(r);break}o[2]&&l.ops.pop(),l.trys.pop();continue}r=e.call(t,l)}catch(t){r=[6,t],a=0}finally{i=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}var i,a,o,s,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(e,"__esModule",{value:!0});var o=r(510),s=r(735);e.executeOp=n,e.CATEGORY="dynamic"},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(510),i=r(735);e.executeOp=function(t,e,r){switch(t.op){case"topK":var a=i.getParamValue("x",t,e,r),o=i.getParamValue("k",t,e,r),s=i.getParamValue("sorted",t,e,r),l=n.topk(a,o,s);return[l.values,l.indices];default:throw TypeError("Node type "+t.op+" is not implemented")}},e.CATEGORY="evaluation"},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(510),i=r(735);e.executeOp=function(t,e,r){switch(t.op){case"const":return e[t.name];case"placeholder":var a=i.getParamValue("default",t,e,r);return[i.getTensor(t.name,e,r)||a];case"identity":case"stopGradient":case"fakeQuantWithMinMaxVars":return[i.getParamValue("x",t,e,r)];case"snapshot":var o=i.getParamValue("x",t,e,r);return[o.clone()];case"shape":return[n.tensor1d(i.getParamValue("x",t,e,r).shape,"int32")];case"size":return[n.scalar(i.getParamValue("x",t,e,r).size,"int32")];case"rank":return[n.scalar(i.getParamValue("x",t,e,r).rank,"int32")];case"noop":return[];case"print":var s=i.getParamValue("x",t,e,r),l=i.getParamValue("data",t,e,r),u=i.getParamValue("message",t,e,r),c=i.getParamValue("summarize",t,e,r);console.warn("The graph has a tf.print() operation,usually used for debugging, which slows down performance."),console.log(u);for(var h=0;h<l.length;h++)console.log(Array.prototype.slice.call(l[0].dataSync()).slice(0,c));return[s];default:throw TypeError("Node type "+t.op+" is not implemented")}},e.CATEGORY="graph"},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(510),i=r(735);e.executeOp=function(t,e,r){switch(t.op){case"resizeBilinear":var a=i.getParamValue("images",t,e,r),o=i.getParamValue("size",t,e,r),s=i.getParamValue("alignCorners",t,e,r);return[n.image.resizeBilinear(a,[o[0],o[1]],s)];case"resizeNearestNeighbor":var a=i.getParamValue("images",t,e,r),o=i.getParamValue("size",t,e,r),s=i.getParamValue("alignCorners",t,e,r);return[n.image.resizeNearestNeighbor(a,[o[0],o[1]],s)];default:throw TypeError("Node type "+t.op+" is not implemented")}},e.CATEGORY="image"},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(510),i=r(735);e.executeOp=function(t,e,r){switch(t.op){case"equal":return[n.equal(i.getParamValue("a",t,e,r),i.getParamValue("b",t,e,r))];case"notEqual":return[n.notEqual(i.getParamValue("a",t,e,r),i.getParamValue("b",t,e,r))];case"greater":return[n.greater(i.getParamValue("a",t,e,r),i.getParamValue("b",t,e,r))];case"greaterEqual":return[n.greaterEqual(i.getParamValue("a",t,e,r),i.getParamValue("b",t,e,r))];case"less":return[n.less(i.getParamValue("a",t,e,r),i.getParamValue("b",t,e,r))];case"lessEqual":return[n.lessEqual(i.getParamValue("a",t,e,r),i.getParamValue("b",t,e,r))];case"logicalAnd":return[n.logicalAnd(i.getParamValue("a",t,e,r),i.getParamValue("b",t,e,r))];case"logicalNot":return[n.logicalNot(i.getParamValue("a",t,e,r))];case"logicalOr":return[n.logicalOr(i.getParamValue("a",t,e,r),i.getParamValue("b",t,e,r))];case"where":return[n.where(i.getParamValue("condition",t,e,r),i.getParamValue("a",t,e,r),i.getParamValue("b",t,e,r))];default:throw TypeError("Node type "+t.op+" is not implemented")}},e.CATEGORY="logical"},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(510),i=r(735);e.executeOp=function(t,e,r){switch(t.op){case"matMul":return[n.matMul(i.getParamValue("a",t,e,r),i.getParamValue("b",t,e,r),i.getParamValue("transposeA",t,e,r),i.getParamValue("transposeB",t,e,r))];case"transpose":return[n.transpose(i.getParamValue("x",t,e,r),i.getParamValue("perm",t,e,r))];default:throw TypeError("Node type "+t.op+" is not implemented")}},e.CATEGORY="matrices"},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(510),i=r(735);e.executeOp=function(t,e,r){switch(t.op){case"batchNormalization":return[n.batchNormalization(i.getParamValue("x",t,e,r),i.getParamValue("mean",t,e,r),i.getParamValue("variance",t,e,r),i.getParamValue("epsilon",t,e,r),i.getParamValue("scale",t,e,r),i.getParamValue("offset",t,e,r))];case"localResponseNormalization":return[n.localResponseNormalization(i.getParamValue("x",t,e,r),i.getParamValue("radius",t,e,r),i.getParamValue("bias",t,e,r),i.getParamValue("alpha",t,e,r),i.getParamValue("beta",t,e,r))];case"softmax":return[n.softmax(i.getParamValue("x",t,e,r))];default:throw TypeError("Node type "+t.op+" is not implemented")}},e.CATEGORY="normalization"},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(510),i=r(735);e.executeOp=function(t,e,r){switch(t.op){case"max":var a=i.getParamValue("axis",t,e,r),o=i.getParamValue("keepDims",t,e,r);return[n.max(i.getParamValue("x",t,e,r),a,o)];case"mean":var a=i.getParamValue("axis",t,e,r),o=i.getParamValue("keepDims",t,e,r);return[n.mean(i.getParamValue("x",t,e,r),a,o)];case"min":var a=i.getParamValue("axis",t,e,r),o=i.getParamValue("keepDims",t,e,r);return[n.min(i.getParamValue("x",t,e,r),a,o)];case"sum":var a=i.getParamValue("axis",t,e,r),o=i.getParamValue("keepDims",t,e,r);return[n.sum(i.getParamValue("x",t,e,r),a,o)];case"all":var a=i.getParamValue("axis",t,e,r),o=i.getParamValue("keepDims",t,e,r);return[n.all(i.getParamValue("x",t,e,r),a,o)];case"any":var a=i.getParamValue("axis",t,e,r),o=i.getParamValue("keepDims",t,e,r);return[n.any(i.getParamValue("x",t,e,r),a,o)];case"argMax":var a=i.getParamValue("axis",t,e,r);return[n.argMax(i.getParamValue("x",t,e,r),a)];case"argMin":var a=i.getParamValue("axis",t,e,r);return[n.argMin(i.getParamValue("x",t,e,r),a)];default:throw TypeError("Node type "+t.op+" is not implemented")}},e.CATEGORY="reduction"},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(510),i=r(735);e.executeOp=function(t,e,r){switch(t.op){case"concat":var a=i.getParamValue("axis",t,e,r),o=i.getParamValue("tensors",t,e,r);return[n.concat(o,a)];case"gather":var a=i.getParamValue("axis",t,e,r),s=i.getParamValue("x",t,e,r),l=i.getParamValue("indices",t,e,r);return[n.gather(s,l,a)];case"reverse":var a=i.getParamValue("axis",t,e,r),s=i.getParamValue("x",t,e,r);return[n.reverse(s,a)];case"slice":var u=i.getParamValue("begin",t,e,r),c=i.getParamValue("size",t,e,r);return[n.slice(i.getParamValue("x",t,e,r),u,c)];case"stridedSlice":var u=i.getParamValue("begin",t,e,r),h=i.getParamValue("end",t,e,r),g=i.getParamValue("strides",t,e,r),p=i.getParamValue("beginMask",t,e,r),d=i.getParamValue("endMask",t,e,r),f=i.getParamValue("ellipsisMask",t,e,r),A=i.getParamValue("newAxisMask",t,e,r),C=i.getParamValue("shrinkAxisMask",t,e,r),m=i.getParamValue("x",t,e,r);if(1===u.length&&m.shape.length>1)for(var I=1;I<m.shape.length;I++)u.push(0),h.push(m.shape[I]),g.push(g[0]);return[n.stridedSlice(m,u,h,g,p,d,f,A,C)];case"stack":return n.tidy(function(){var a=i.getParamValue("axis",t,e,r),o=i.getParamValue("tensors",t,e,r),s=o[0].shape,l=o[0].squeeze().shape,u=o.map(function(t){var e=n.util.arraysEqual(t.shape,s);if(!e&&!n.util.arraysEqual(t.squeeze().shape,l))throw new Error("the input tensors shape does not match");return e?t:t.reshape(s)});return[n.stack(u,a)]});case"unstack":return n.tidy(function(){var a=i.getParamValue("axis",t,e,r),o=i.getParamValue("tensor",t,e,r);return n.unstack(o,a)});case"tile":var v=i.getParamValue("reps",t,e,r);return[n.tile(i.getParamValue("x",t,e,r),v)];case"split":var a=i.getParamValue("axis",t,e,r),y=i.getParamValue("numOrSizeSplits",t,e,r);return n.split(i.getParamValue("x",t,e,r),y,a);default:throw TypeError("Node type "+t.op+" is not implemented")}},e.CATEGORY="slice_join"},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(510),i=r(735);e.executeOp=function(t,e,r){switch(t.op){case"cast":return[n.cast(i.getParamValue("x",t,e,r),i.getParamValue("dtype",t,e,r))];case"expandDims":var a=i.getParamValue("axis",t,e,r);return[n.expandDims(i.getParamValue("x",t,e,r),a)];case"squeeze":var a=i.getParamValue("axis",t,e,r);return[n.squeeze(i.getParamValue("x",t,e,r),a)];case"reshape":return[n.reshape(i.getParamValue("x",t,e,r),i.getParamValue("shape",t,e,r))];case"pad":return[n.pad(i.getParamValue("x",t,e,r),i.split(i.getParamValue("padding",t,e,r),2),i.getParamValue("constantValue",t,e,r))];case"spaceToBatchND":var o=i.getParamValue("blockShape",t,e,r),s=i.split(i.getParamValue("paddings",t,e,r),2);return[n.spaceToBatchND(i.getParamValue("x",t,e,r),o,s)];case"batchToSpaceND":var o=i.getParamValue("blockShape",t,e,r),l=i.split(i.getParamValue("crops",t,e,r),2);return[n.batchToSpaceND(i.getParamValue("x",t,e,r),o,l)];default:throw TypeError("Node type "+t.op+" is not implemented")}},e.CATEGORY="transformation"},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){this.weightMap=t,this.tensorArrayMap=e,this.rootContext={id:0,frameName:"",iterationId:0},this.contexts=[this.rootContext],this.lastId=0,this.generateCurrentContextIds()}return t.prototype.newFrame=function(t,e){return{id:t,frameName:e,iterationId:0}},Object.defineProperty(t.prototype,"currentContext",{get:function(){return this.contexts},set:function(t){this.contexts!==t&&(this.contexts=t,this.generateCurrentContextIds())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentContextId",{get:function(){return this._currentContextIds[0]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentContextIds",{get:function(){return this._currentContextIds},enumerable:!0,configurable:!0}),t.prototype.generateCurrentContextIds=function(){for(var t=[],e=0;e<this.contexts.length-1;e++){var r=this.contexts.slice(0,this.contexts.length-e);t.push(this.contextIdforContexts(r))}t.push(""),this._currentContextIds=t},t.prototype.contextIdforContexts=function(t){return t?t.map(function(t){return 0===t.id&&0===t.iterationId?"":t.frameName+"-"+t.iterationId}).join("/"):""},t.prototype.enterFrame=function(t){this.contexts&&(this.lastId++,this.contexts=this.contexts.slice(),this.contexts.push(this.newFrame(this.lastId,t)),this._currentContextIds.unshift(this.contextIdforContexts(this.contexts)))},t.prototype.exitFrame=function(){if(!(this.contexts&&this.contexts.length>1))throw new Error("Cannot exit frame, the context is empty");this.contexts=this.contexts.slice(),this.contexts.splice(-1),this.currentContextIds.shift()},t.prototype.nextIteration=function(){if(!(this.contexts&&this.contexts.length>0))throw new Error("Cannot increase frame iteration, the context is empty");this.contexts=this.contexts.slice(),this.lastId++;var t=Object.assign({},this.contexts[this.contexts.length-1]);t.iterationId+=1,t.id=this.lastId,this.contexts.splice(-1,1,t),this._currentContextIds.splice(0,1,this.contextIdforContexts(this.contexts))},t.prototype.getWeight=function(t){return this.weightMap[t]},t.prototype.addTensorArray=function(t){this.tensorArrayMap[t.id]=t},t.prototype.getTensorArray=function(t){return this.tensorArrayMap[t]},t}();e.ExecutionContext=r},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="0.5.9";e.version=r},,,,,,,,,function(t,e,r){(function(t){"use strict";r(780),r(1037),r(1039),r(1042),r(1044),r(1046),r(1048),r(1051),r(1053),r(1055),r(1059),t._babelPolyfill&&"undefined"!=typeof console&&console.warn&&console.warn("@babel/polyfill is loaded more than once on this page. This is probably not desirable/intended and may have consequences if different versions of the polyfills are applied sequentially. If you do need to load the polyfill more than once, use @babel/polyfill/noConflict instead to bypass the warning."),t._babelPolyfill=!0}).call(e,function(){return this}())},function(t,e,r){r(781),r(830),r(831),r(832),r(833),r(835),r(838),r(839),r(840),r(841),r(842),r(843),r(844),r(845),r(846),r(848),r(850),r(852),r(854),r(857),r(858),r(859),r(863),r(865),r(867),r(870),r(871),r(872),r(873),r(875),r(876),r(877),r(878),r(879),r(880),r(881),r(883),r(884),r(885),r(887),r(888),r(889),r(891),r(893),r(894),r(895),r(896),r(897),r(898),r(899),r(900),r(901),r(902),r(903),r(904),r(905),r(910),r(911),r(915),r(916),r(917),r(918),r(920),r(921),r(922),r(923),r(924),r(925),r(926),r(927),r(928),r(929),r(930),r(931),r(932),r(933),r(934),r(936),r(937),r(939),r(940),r(946),r(947),r(949),r(950),r(951),r(955),r(956),r(957),r(958),r(959),r(961),r(962),r(963),r(964),r(967),r(969),r(970),r(971),r(973),r(975),r(977),r(979),r(980),r(981),r(985),r(986),r(987),r(989),r(999),r(1003),r(1004),r(1006),r(1007),r(1011),r(1012),r(1014),r(1015),r(1016),r(1017),r(1018),r(1019),r(1020),r(1021),r(1022),r(1023),r(1024),r(1025),r(1026),r(1027),r(1028),r(1029),r(1030),r(1031),r(1032),r(1034),r(1035),r(1036),t.exports=r(787)},function(t,e,r){"use strict";var n=r(782),i=r(783),a=r(784),o=r(786),s=r(796),l=r(803).KEY,u=r(785),c=r(799),h=r(804),g=r(797),p=r(805),d=r(806),f=r(807),A=r(808),C=r(823),m=r(790),I=r(791),v=r(811),y=r(794),b=r(795),x=r(824),w=r(827),N=r(829),S=r(789),T=r(809),E=N.f,k=S.f,O=w.f,_=n.Symbol,P=n.JSON,M=P&&P.stringify,D="prototype",R=p("_hidden"),L=p("toPrimitive"),z={}.propertyIsEnumerable,F=c("symbol-registry"),B=c("symbols"),V=c("op-symbols"),j=Object[D],W="function"==typeof _,G=n.QObject,U=!G||!G[D]||!G[D].findChild,H=a&&u(function(){return 7!=x(k({},"a",{get:function(){return k(this,"a",{value:7}).a}})).a})?function(t,e,r){var n=E(j,e);n&&delete j[e],k(t,e,r),n&&t!==j&&k(j,e,n)}:k,Y=function(t){var e=B[t]=x(_[D]);return e._k=t,e},Z=W&&"symbol"==typeof _.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof _},X=function(t,e,r){return t===j&&X(V,e,r),m(t),e=y(e,!0),m(r),i(B,e)?(r.enumerable?(i(t,R)&&t[R][e]&&(t[R][e]=!1),r=x(r,{enumerable:b(0,!1)})):(i(t,R)||k(t,R,b(1,{})),t[R][e]=!0),H(t,e,r)):k(t,e,r)},q=function(t,e){m(t);for(var r,n=A(e=v(e)),i=0,a=n.length;a>i;)X(t,r=n[i++],e[r]);return t},K=function(t,e){return void 0===e?x(t):q(x(t),e)},J=function(t){var e=z.call(this,t=y(t,!0));return!(this===j&&i(B,t)&&!i(V,t))&&(!(e||!i(this,t)||!i(B,t)||i(this,R)&&this[R][t])||e)},Q=function(t,e){if(t=v(t),e=y(e,!0),t!==j||!i(B,e)||i(V,e)){var r=E(t,e);return!r||!i(B,e)||i(t,R)&&t[R][e]||(r.enumerable=!0),r}},$=function(t){for(var e,r=O(v(t)),n=[],a=0;r.length>a;)i(B,e=r[a++])||e==R||e==l||n.push(e);return n},tt=function(t){for(var e,r=t===j,n=O(r?V:v(t)),a=[],o=0;n.length>o;)!i(B,e=n[o++])||r&&!i(j,e)||a.push(B[e]);return a};W||(_=function(){if(this instanceof _)throw TypeError("Symbol is not a constructor!");var t=g(arguments.length>0?arguments[0]:void 0),e=function(r){this===j&&e.call(V,r),i(this,R)&&i(this[R],t)&&(this[R][t]=!1),H(this,t,b(1,r))};return a&&U&&H(j,t,{configurable:!0,set:e}),Y(t)},s(_[D],"toString",function(){return this._k}),N.f=Q,S.f=X,r(828).f=w.f=$,r(822).f=J,r(821).f=tt,a&&!r(800)&&s(j,"propertyIsEnumerable",J,!0),d.f=function(t){return Y(p(t))}),o(o.G+o.W+o.F*!W,{Symbol:_});for(var et="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),rt=0;et.length>rt;)p(et[rt++]);for(var nt=T(p.store),it=0;nt.length>it;)f(nt[it++]);o(o.S+o.F*!W,"Symbol",{for:function(t){return i(F,t+="")?F[t]:F[t]=_(t)},keyFor:function(t){if(!Z(t))throw TypeError(t+" is not a symbol!");for(var e in F)if(F[e]===t)return e},useSetter:function(){U=!0},useSimple:function(){U=!1}}),o(o.S+o.F*!W,"Object",{create:K,defineProperty:X,defineProperties:q,getOwnPropertyDescriptor:Q,getOwnPropertyNames:$,getOwnPropertySymbols:tt}),P&&o(o.S+o.F*(!W||u(function(){var t=_();return"[null]"!=M([t])||"{}"!=M({a:t})||"{}"!=M(Object(t))})),"JSON",{stringify:function(t){for(var e,r,n=[t],i=1;arguments.length>i;)n.push(arguments[i++]);if(r=e=n[1],(I(e)||void 0!==t)&&!Z(t))return C(e)||(e=function(t,e){if("function"==typeof r&&(e=r.call(this,t,e)),!Z(e))return e}),n[1]=e,M.apply(P,n)}}),_[D][L]||r(788)(_[D],L,_[D].valueOf),h(_,"Symbol"),h(Math,"Math",!0),h(n.JSON,"JSON",!0)},function(t,e){var r=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},function(t,e){var r={}.hasOwnProperty;t.exports=function(t,e){return r.call(t,e)}},function(t,e,r){t.exports=!r(785)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,r){var n=r(782),i=r(787),a=r(788),o=r(796),s=r(801),l="prototype",u=function(t,e,r){var c,h,g,p,d=t&u.F,f=t&u.G,A=t&u.S,C=t&u.P,m=t&u.B,I=f?n:A?n[e]||(n[e]={}):(n[e]||{})[l],v=f?i:i[e]||(i[e]={}),y=v[l]||(v[l]={});f&&(r=e);for(c in r)h=!d&&I&&void 0!==I[c],g=(h?I:r)[c],p=m&&h?s(g,n):C&&"function"==typeof g?s(Function.call,g):g,I&&o(I,c,g,t&u.U),v[c]!=g&&a(v,c,p),C&&y[c]!=g&&(y[c]=g)};n.core=i,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},function(t,e){var r=t.exports={version:"2.6.5"};"number"==typeof __e&&(__e=r)},function(t,e,r){var n=r(789),i=r(795);t.exports=r(784)?function(t,e,r){return n.f(t,e,i(1,r))}:function(t,e,r){return t[e]=r,t}},function(t,e,r){var n=r(790),i=r(792),a=r(794),o=Object.defineProperty;e.f=r(784)?Object.defineProperty:function(t,e,r){if(n(t),e=a(e,!0),n(r),i)try{return o(t,e,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(t[e]=r.value),t}},function(t,e,r){var n=r(791);t.exports=function(t){if(!n(t))throw TypeError(t+" is not an object!");return t}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,r){t.exports=!r(784)&&!r(785)(function(){return 7!=Object.defineProperty(r(793)("div"),"a",{get:function(){return 7}}).a})},function(t,e,r){var n=r(791),i=r(782).document,a=n(i)&&n(i.createElement);t.exports=function(t){return a?i.createElement(t):{}}},function(t,e,r){var n=r(791);t.exports=function(t,e){if(!n(t))return t;var r,i;if(e&&"function"==typeof(r=t.toString)&&!n(i=r.call(t)))return i;if("function"==typeof(r=t.valueOf)&&!n(i=r.call(t)))return i;if(!e&&"function"==typeof(r=t.toString)&&!n(i=r.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,r){var n=r(782),i=r(788),a=r(783),o=r(797)("src"),s=r(798),l="toString",u=(""+s).split(l);r(787).inspectSource=function(t){return s.call(t)},(t.exports=function(t,e,r,s){var l="function"==typeof r;l&&(a(r,"name")||i(r,"name",e)),t[e]!==r&&(l&&(a(r,o)||i(r,o,t[e]?""+t[e]:u.join(String(e)))),t===n?t[e]=r:s?t[e]?t[e]=r:i(t,e,r):(delete t[e],i(t,e,r)))})(Function.prototype,l,function(){return"function"==typeof this&&this[o]||s.call(this)})},function(t,e){var r=0,n=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++r+n).toString(36))}},function(t,e,r){t.exports=r(799)("native-function-to-string",Function.toString)},function(t,e,r){var n=r(787),i=r(782),a="__core-js_shared__",o=i[a]||(i[a]={});(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:n.version,mode:r(800)?"pure":"global",copyright:" 2019 Denis Pushkarev (zloirock.ru)"})},function(t,e){t.exports=!1},function(t,e,r){var n=r(802);t.exports=function(t,e,r){if(n(t),void 0===e)return t;switch(r){case 1:return function(r){return t.call(e,r)};case 2:return function(r,n){return t.call(e,r,n)};case 3:return function(r,n,i){
return t.call(e,r,n,i)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,r){var n=r(797)("meta"),i=r(791),a=r(783),o=r(789).f,s=0,l=Object.isExtensible||function(){return!0},u=!r(785)(function(){return l(Object.preventExtensions({}))}),c=function(t){o(t,n,{value:{i:"O"+ ++s,w:{}}})},h=function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!a(t,n)){if(!l(t))return"F";if(!e)return"E";c(t)}return t[n].i},g=function(t,e){if(!a(t,n)){if(!l(t))return!0;if(!e)return!1;c(t)}return t[n].w},p=function(t){return u&&d.NEED&&l(t)&&!a(t,n)&&c(t),t},d=t.exports={KEY:n,NEED:!1,fastKey:h,getWeak:g,onFreeze:p}},function(t,e,r){var n=r(789).f,i=r(783),a=r(805)("toStringTag");t.exports=function(t,e,r){t&&!i(t=r?t:t.prototype,a)&&n(t,a,{configurable:!0,value:e})}},function(t,e,r){var n=r(799)("wks"),i=r(797),a=r(782).Symbol,o="function"==typeof a,s=t.exports=function(t){return n[t]||(n[t]=o&&a[t]||(o?a:i)("Symbol."+t))};s.store=n},function(t,e,r){e.f=r(805)},function(t,e,r){var n=r(782),i=r(787),a=r(800),o=r(806),s=r(789).f;t.exports=function(t){var e=i.Symbol||(i.Symbol=a?{}:n.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:o.f(t)})}},function(t,e,r){var n=r(809),i=r(821),a=r(822);t.exports=function(t){var e=n(t),r=i.f;if(r)for(var o,s=r(t),l=a.f,u=0;s.length>u;)l.call(t,o=s[u++])&&e.push(o);return e}},function(t,e,r){var n=r(810),i=r(820);t.exports=Object.keys||function(t){return n(t,i)}},function(t,e,r){var n=r(783),i=r(811),a=r(815)(!1),o=r(819)("IE_PROTO");t.exports=function(t,e){var r,s=i(t),l=0,u=[];for(r in s)r!=o&&n(s,r)&&u.push(r);for(;e.length>l;)n(s,r=e[l++])&&(~a(u,r)||u.push(r));return u}},function(t,e,r){var n=r(812),i=r(814);t.exports=function(t){return n(i(t))}},function(t,e,r){var n=r(813);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==n(t)?t.split(""):Object(t)}},function(t,e){var r={}.toString;t.exports=function(t){return r.call(t).slice(8,-1)}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,r){var n=r(811),i=r(816),a=r(818);t.exports=function(t){return function(e,r,o){var s,l=n(e),u=i(l.length),c=a(o,u);if(t&&r!=r){for(;u>c;)if(s=l[c++],s!=s)return!0}else for(;u>c;c++)if((t||c in l)&&l[c]===r)return t||c||0;return!t&&-1}}},function(t,e,r){var n=r(817),i=Math.min;t.exports=function(t){return t>0?i(n(t),9007199254740991):0}},function(t,e){var r=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?n:r)(t)}},function(t,e,r){var n=r(817),i=Math.max,a=Math.min;t.exports=function(t,e){return t=n(t),t<0?i(t+e,0):a(t,e)}},function(t,e,r){var n=r(799)("keys"),i=r(797);t.exports=function(t){return n[t]||(n[t]=i(t))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,r){var n=r(813);t.exports=Array.isArray||function(t){return"Array"==n(t)}},function(t,e,r){var n=r(790),i=r(825),a=r(820),o=r(819)("IE_PROTO"),s=function(){},l="prototype",u=function(){var t,e=r(793)("iframe"),n=a.length,i="<",o=">";for(e.style.display="none",r(826).appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write(i+"script"+o+"document.F=Object"+i+"/script"+o),t.close(),u=t.F;n--;)delete u[l][a[n]];return u()};t.exports=Object.create||function(t,e){var r;return null!==t?(s[l]=n(t),r=new s,s[l]=null,r[o]=t):r=u(),void 0===e?r:i(r,e)}},function(t,e,r){var n=r(789),i=r(790),a=r(809);t.exports=r(784)?Object.defineProperties:function(t,e){i(t);for(var r,o=a(e),s=o.length,l=0;s>l;)n.f(t,r=o[l++],e[r]);return t}},function(t,e,r){var n=r(782).document;t.exports=n&&n.documentElement},function(t,e,r){var n=r(811),i=r(828).f,a={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(t){try{return i(t)}catch(t){return o.slice()}};t.exports.f=function(t){return o&&"[object Window]"==a.call(t)?s(t):i(n(t))}},function(t,e,r){var n=r(810),i=r(820).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,i)}},function(t,e,r){var n=r(822),i=r(795),a=r(811),o=r(794),s=r(783),l=r(792),u=Object.getOwnPropertyDescriptor;e.f=r(784)?u:function(t,e){if(t=a(t),e=o(e,!0),l)try{return u(t,e)}catch(t){}if(s(t,e))return i(!n.f.call(t,e),t[e])}},function(t,e,r){var n=r(786);n(n.S,"Object",{create:r(824)})},function(t,e,r){var n=r(786);n(n.S+n.F*!r(784),"Object",{defineProperty:r(789).f})},function(t,e,r){var n=r(786);n(n.S+n.F*!r(784),"Object",{defineProperties:r(825)})},function(t,e,r){var n=r(811),i=r(829).f;r(834)("getOwnPropertyDescriptor",function(){return function(t,e){return i(n(t),e)}})},function(t,e,r){var n=r(786),i=r(787),a=r(785);t.exports=function(t,e){var r=(i.Object||{})[t]||Object[t],o={};o[t]=e(r),n(n.S+n.F*a(function(){r(1)}),"Object",o)}},function(t,e,r){var n=r(836),i=r(837);r(834)("getPrototypeOf",function(){return function(t){return i(n(t))}})},function(t,e,r){var n=r(814);t.exports=function(t){return Object(n(t))}},function(t,e,r){var n=r(783),i=r(836),a=r(819)("IE_PROTO"),o=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),n(t,a)?t[a]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?o:null}},function(t,e,r){var n=r(836),i=r(809);r(834)("keys",function(){return function(t){return i(n(t))}})},function(t,e,r){r(834)("getOwnPropertyNames",function(){return r(827).f})},function(t,e,r){var n=r(791),i=r(803).onFreeze;r(834)("freeze",function(t){return function(e){return t&&n(e)?t(i(e)):e}})},function(t,e,r){var n=r(791),i=r(803).onFreeze;r(834)("seal",function(t){return function(e){return t&&n(e)?t(i(e)):e}})},function(t,e,r){var n=r(791),i=r(803).onFreeze;r(834)("preventExtensions",function(t){return function(e){return t&&n(e)?t(i(e)):e}})},function(t,e,r){var n=r(791);r(834)("isFrozen",function(t){return function(e){return!n(e)||!!t&&t(e)}})},function(t,e,r){var n=r(791);r(834)("isSealed",function(t){return function(e){return!n(e)||!!t&&t(e)}})},function(t,e,r){var n=r(791);r(834)("isExtensible",function(t){return function(e){return!!n(e)&&(!t||t(e))}})},function(t,e,r){var n=r(786);n(n.S+n.F,"Object",{assign:r(847)})},function(t,e,r){"use strict";var n=r(809),i=r(821),a=r(822),o=r(836),s=r(812),l=Object.assign;t.exports=!l||r(785)(function(){var t={},e={},r=Symbol(),n="abcdefghijklmnopqrst";return t[r]=7,n.split("").forEach(function(t){e[t]=t}),7!=l({},t)[r]||Object.keys(l({},e)).join("")!=n})?function(t,e){for(var r=o(t),l=arguments.length,u=1,c=i.f,h=a.f;l>u;)for(var g,p=s(arguments[u++]),d=c?n(p).concat(c(p)):n(p),f=d.length,A=0;f>A;)h.call(p,g=d[A++])&&(r[g]=p[g]);return r}:l},function(t,e,r){var n=r(786);n(n.S,"Object",{is:r(849)})},function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},function(t,e,r){var n=r(786);n(n.S,"Object",{setPrototypeOf:r(851).set})},function(t,e,r){var n=r(791),i=r(790),a=function(t,e){if(i(t),!n(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,n){try{n=r(801)(Function.call,r(829).f(Object.prototype,"__proto__").set,2),n(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,r){return a(t,r),e?t.__proto__=r:n(t,r),t}}({},!1):void 0),check:a}},function(t,e,r){"use strict";var n=r(853),i={};i[r(805)("toStringTag")]="z",i+""!="[object z]"&&r(796)(Object.prototype,"toString",function(){return"[object "+n(this)+"]"},!0)},function(t,e,r){var n=r(813),i=r(805)("toStringTag"),a="Arguments"==n(function(){return arguments}()),o=function(t,e){try{return t[e]}catch(t){}};t.exports=function(t){var e,r,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=o(e=Object(t),i))?r:a?n(e):"Object"==(s=n(e))&&"function"==typeof e.callee?"Arguments":s}},function(t,e,r){var n=r(786);n(n.P,"Function",{bind:r(855)})},function(t,e,r){"use strict";var n=r(802),i=r(791),a=r(856),o=[].slice,s={},l=function(t,e,r){if(!(e in s)){for(var n=[],i=0;i<e;i++)n[i]="a["+i+"]";s[e]=Function("F,a","return new F("+n.join(",")+")")}return s[e](t,r)};t.exports=Function.bind||function(t){var e=n(this),r=o.call(arguments,1),s=function(){var n=r.concat(o.call(arguments));return this instanceof s?l(e,n.length,n):a(e,n,t)};return i(e.prototype)&&(s.prototype=e.prototype),s}},function(t,e){t.exports=function(t,e,r){var n=void 0===r;switch(e.length){case 0:return n?t():t.call(r);case 1:return n?t(e[0]):t.call(r,e[0]);case 2:return n?t(e[0],e[1]):t.call(r,e[0],e[1]);case 3:return n?t(e[0],e[1],e[2]):t.call(r,e[0],e[1],e[2]);case 4:return n?t(e[0],e[1],e[2],e[3]):t.call(r,e[0],e[1],e[2],e[3])}return t.apply(r,e)}},function(t,e,r){var n=r(789).f,i=Function.prototype,a=/^\s*function ([^ (]*)/,o="name";o in i||r(784)&&n(i,o,{configurable:!0,get:function(){try{return(""+this).match(a)[1]}catch(t){return""}}})},function(t,e,r){"use strict";var n=r(791),i=r(837),a=r(805)("hasInstance"),o=Function.prototype;a in o||r(789).f(o,a,{value:function(t){if("function"!=typeof this||!n(t))return!1;if(!n(this.prototype))return t instanceof this;for(;t=i(t);)if(this.prototype===t)return!0;return!1}})},function(t,e,r){var n=r(786),i=r(860);n(n.G+n.F*(parseInt!=i),{parseInt:i})},function(t,e,r){var n=r(782).parseInt,i=r(861).trim,a=r(862),o=/^[-+]?0[xX]/;t.exports=8!==n(a+"08")||22!==n(a+"0x16")?function(t,e){var r=i(String(t),3);return n(r,e>>>0||(o.test(r)?16:10))}:n},function(t,e,r){var n=r(786),i=r(814),a=r(785),o=r(862),s="["+o+"]",l="",u=RegExp("^"+s+s+"*"),c=RegExp(s+s+"*$"),h=function(t,e,r){var i={},s=a(function(){return!!o[t]()||l[t]()!=l}),u=i[t]=s?e(g):o[t];r&&(i[r]=u),n(n.P+n.F*s,"String",i)},g=h.trim=function(t,e){return t=String(i(t)),1&e&&(t=t.replace(u,"")),2&e&&(t=t.replace(c,"")),t};t.exports=h},function(t,e){t.exports="\t\n\v\f\r \u2028\u2029\ufeff"},function(t,e,r){var n=r(786),i=r(864);n(n.G+n.F*(parseFloat!=i),{parseFloat:i})},function(t,e,r){var n=r(782).parseFloat,i=r(861).trim;t.exports=1/n(r(862)+"-0")!==-(1/0)?function(t){var e=i(String(t),3),r=n(e);return 0===r&&"-"==e.charAt(0)?-0:r}:n},function(t,e,r){"use strict";var n=r(782),i=r(783),a=r(813),o=r(866),s=r(794),l=r(785),u=r(828).f,c=r(829).f,h=r(789).f,g=r(861).trim,p="Number",d=n[p],f=d,A=d.prototype,C=a(r(824)(A))==p,m="trim"in String.prototype,I=function(t){var e=s(t,!1);if("string"==typeof e&&e.length>2){e=m?e.trim():g(e,3);var r,n,i,a=e.charCodeAt(0);if(43===a||45===a){if(r=e.charCodeAt(2),88===r||120===r)return NaN}else if(48===a){switch(e.charCodeAt(1)){case 66:case 98:n=2,i=49;break;case 79:case 111:n=8,i=55;break;default:return+e}for(var o,l=e.slice(2),u=0,c=l.length;u<c;u++)if(o=l.charCodeAt(u),o<48||o>i)return NaN;return parseInt(l,n)}}return+e};if(!d(" 0o1")||!d("0b1")||d("+0x1")){d=function(t){var e=arguments.length<1?0:t,r=this;return r instanceof d&&(C?l(function(){A.valueOf.call(r)}):a(r)!=p)?o(new f(I(e)),r,d):I(e)};for(var v,y=r(784)?u(f):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),b=0;y.length>b;b++)i(f,v=y[b])&&!i(d,v)&&h(d,v,c(f,v));d.prototype=A,A.constructor=d,r(796)(n,p,d)}},function(t,e,r){var n=r(791),i=r(851).set;t.exports=function(t,e,r){var a,o=e.constructor;return o!==r&&"function"==typeof o&&(a=o.prototype)!==r.prototype&&n(a)&&i&&i(t,a),t}},function(t,e,r){"use strict";var n=r(786),i=r(817),a=r(868),o=r(869),s=1..toFixed,l=Math.floor,u=[0,0,0,0,0,0],c="Number.toFixed: incorrect invocation!",h="0",g=function(t,e){for(var r=-1,n=e;++r<6;)n+=t*u[r],u[r]=n%1e7,n=l(n/1e7)},p=function(t){for(var e=6,r=0;--e>=0;)r+=u[e],u[e]=l(r/t),r=r%t*1e7},d=function(){for(var t=6,e="";--t>=0;)if(""!==e||0===t||0!==u[t]){var r=String(u[t]);e=""===e?r:e+o.call(h,7-r.length)+r}return e},f=function(t,e,r){return 0===e?r:e%2===1?f(t,e-1,r*t):f(t*t,e/2,r)},A=function(t){for(var e=0,r=t;r>=4096;)e+=12,r/=4096;for(;r>=2;)e+=1,r/=2;return e};n(n.P+n.F*(!!s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!r(785)(function(){s.call({})})),"Number",{toFixed:function(t){var e,r,n,s,l=a(this,c),u=i(t),C="",m=h;if(u<0||u>20)throw RangeError(c);if(l!=l)return"NaN";if(l<=-1e21||l>=1e21)return String(l);if(l<0&&(C="-",l=-l),l>1e-21)if(e=A(l*f(2,69,1))-69,r=e<0?l*f(2,-e,1):l/f(2,e,1),r*=4503599627370496,e=52-e,e>0){for(g(0,r),n=u;n>=7;)g(1e7,0),n-=7;for(g(f(10,n,1),0),n=e-1;n>=23;)p(1<<23),n-=23;p(1<<n),g(1,1),p(2),m=d()}else g(0,r),g(1<<-e,0),m=d()+o.call(h,u);return u>0?(s=m.length,m=C+(s<=u?"0."+o.call(h,u-s)+m:m.slice(0,s-u)+"."+m.slice(s-u))):m=C+m,m}})},function(t,e,r){var n=r(813);t.exports=function(t,e){if("number"!=typeof t&&"Number"!=n(t))throw TypeError(e);return+t}},function(t,e,r){"use strict";var n=r(817),i=r(814);t.exports=function(t){var e=String(i(this)),r="",a=n(t);if(a<0||a==1/0)throw RangeError("Count can't be negative");for(;a>0;(a>>>=1)&&(e+=e))1&a&&(r+=e);return r}},function(t,e,r){"use strict";var n=r(786),i=r(785),a=r(868),o=1..toPrecision;n(n.P+n.F*(i(function(){return"1"!==o.call(1,void 0)})||!i(function(){o.call({})})),"Number",{toPrecision:function(t){var e=a(this,"Number#toPrecision: incorrect invocation!");return void 0===t?o.call(e):o.call(e,t)}})},function(t,e,r){var n=r(786);n(n.S,"Number",{EPSILON:Math.pow(2,-52)})},function(t,e,r){var n=r(786),i=r(782).isFinite;n(n.S,"Number",{isFinite:function(t){return"number"==typeof t&&i(t)}})},function(t,e,r){var n=r(786);n(n.S,"Number",{isInteger:r(874)})},function(t,e,r){var n=r(791),i=Math.floor;t.exports=function(t){return!n(t)&&isFinite(t)&&i(t)===t}},function(t,e,r){var n=r(786);n(n.S,"Number",{isNaN:function(t){return t!=t}})},function(t,e,r){var n=r(786),i=r(874),a=Math.abs;n(n.S,"Number",{isSafeInteger:function(t){return i(t)&&a(t)<=9007199254740991}})},function(t,e,r){var n=r(786);n(n.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(t,e,r){var n=r(786);n(n.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(t,e,r){var n=r(786),i=r(864);n(n.S+n.F*(Number.parseFloat!=i),"Number",{parseFloat:i})},function(t,e,r){var n=r(786),i=r(860);n(n.S+n.F*(Number.parseInt!=i),"Number",{parseInt:i})},function(t,e,r){var n=r(786),i=r(882),a=Math.sqrt,o=Math.acosh;n(n.S+n.F*!(o&&710==Math.floor(o(Number.MAX_VALUE))&&o(1/0)==1/0),"Math",{acosh:function(t){return(t=+t)<1?NaN:t>94906265.62425156?Math.log(t)+Math.LN2:i(t-1+a(t-1)*a(t+1))}})},function(t,e){t.exports=Math.log1p||function(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:Math.log(1+t)}},function(t,e,r){function n(t){return isFinite(t=+t)&&0!=t?t<0?-n(-t):Math.log(t+Math.sqrt(t*t+1)):t}var i=r(786),a=Math.asinh;i(i.S+i.F*!(a&&1/a(0)>0),"Math",{asinh:n})},function(t,e,r){var n=r(786),i=Math.atanh;n(n.S+n.F*!(i&&1/i(-0)<0),"Math",{atanh:function(t){return 0==(t=+t)?t:Math.log((1+t)/(1-t))/2}})},function(t,e,r){var n=r(786),i=r(886);n(n.S,"Math",{cbrt:function(t){return i(t=+t)*Math.pow(Math.abs(t),1/3)}})},function(t,e){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},function(t,e,r){var n=r(786);n(n.S,"Math",{clz32:function(t){return(t>>>=0)?31-Math.floor(Math.log(t+.5)*Math.LOG2E):32}})},function(t,e,r){var n=r(786),i=Math.exp;n(n.S,"Math",{cosh:function(t){return(i(t=+t)+i(-t))/2}})},function(t,e,r){var n=r(786),i=r(890);n(n.S+n.F*(i!=Math.expm1),"Math",{expm1:i})},function(t,e){var r=Math.expm1;t.exports=!r||r(10)>22025.465794806718||r(10)<22025.465794806718||r(-2e-17)!=-2e-17?function(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:Math.exp(t)-1}:r},function(t,e,r){var n=r(786);n(n.S,"Math",{fround:r(892)})},function(t,e,r){var n=r(886),i=Math.pow,a=i(2,-52),o=i(2,-23),s=i(2,127)*(2-o),l=i(2,-126),u=function(t){return t+1/a-1/a};t.exports=Math.fround||function(t){var e,r,i=Math.abs(t),c=n(t);return i<l?c*u(i/l/o)*l*o:(e=(1+o/a)*i,r=e-(e-i),r>s||r!=r?c*(1/0):c*r)}},function(t,e,r){var n=r(786),i=Math.abs;n(n.S,"Math",{hypot:function(t,e){for(var r,n,a=0,o=0,s=arguments.length,l=0;o<s;)r=i(arguments[o++]),l<r?(n=l/r,a=a*n*n+1,l=r):r>0?(n=r/l,a+=n*n):a+=r;return l===1/0?1/0:l*Math.sqrt(a)}})},function(t,e,r){var n=r(786),i=Math.imul;n(n.S+n.F*r(785)(function(){return i(4294967295,5)!=-5||2!=i.length}),"Math",{imul:function(t,e){var r=65535,n=+t,i=+e,a=r&n,o=r&i;return 0|a*o+((r&n>>>16)*o+a*(r&i>>>16)<<16>>>0)}})},function(t,e,r){var n=r(786);n(n.S,"Math",{log10:function(t){return Math.log(t)*Math.LOG10E}})},function(t,e,r){var n=r(786);n(n.S,"Math",{log1p:r(882)})},function(t,e,r){var n=r(786);n(n.S,"Math",{log2:function(t){return Math.log(t)/Math.LN2}})},function(t,e,r){var n=r(786);n(n.S,"Math",{sign:r(886)})},function(t,e,r){var n=r(786),i=r(890),a=Math.exp;n(n.S+n.F*r(785)(function(){return!Math.sinh(-2e-17)!=-2e-17}),"Math",{sinh:function(t){return Math.abs(t=+t)<1?(i(t)-i(-t))/2:(a(t-1)-a(-t-1))*(Math.E/2)}})},function(t,e,r){var n=r(786),i=r(890),a=Math.exp;n(n.S,"Math",{tanh:function(t){var e=i(t=+t),r=i(-t);return e==1/0?1:r==1/0?-1:(e-r)/(a(t)+a(-t))}})},function(t,e,r){var n=r(786);n(n.S,"Math",{trunc:function(t){return(t>0?Math.floor:Math.ceil)(t)}})},function(t,e,r){var n=r(786),i=r(818),a=String.fromCharCode,o=String.fromCodePoint;n(n.S+n.F*(!!o&&1!=o.length),"String",{fromCodePoint:function(t){for(var e,r=[],n=arguments.length,o=0;n>o;){if(e=+arguments[o++],i(e,1114111)!==e)throw RangeError(e+" is not a valid code point");r.push(e<65536?a(e):a(((e-=65536)>>10)+55296,e%1024+56320))}return r.join("")}})},function(t,e,r){var n=r(786),i=r(811),a=r(816);n(n.S,"String",{raw:function(t){for(var e=i(t.raw),r=a(e.length),n=arguments.length,o=[],s=0;r>s;)o.push(String(e[s++])),s<n&&o.push(String(arguments[s]));return o.join("")}})},function(t,e,r){"use strict";r(861)("trim",function(t){return function(){return t(this,3)}})},function(t,e,r){"use strict";var n=r(906)(!0);r(907)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,r=this._i;return r>=e.length?{value:void 0,done:!0}:(t=n(e,r),this._i+=t.length,{value:t,done:!1})})},function(t,e,r){var n=r(817),i=r(814);t.exports=function(t){return function(e,r){var a,o,s=String(i(e)),l=n(r),u=s.length;return l<0||l>=u?t?"":void 0:(a=s.charCodeAt(l),a<55296||a>56319||l+1===u||(o=s.charCodeAt(l+1))<56320||o>57343?t?s.charAt(l):a:t?s.slice(l,l+2):(a-55296<<10)+(o-56320)+65536)}}},function(t,e,r){"use strict";var n=r(800),i=r(786),a=r(796),o=r(788),s=r(908),l=r(909),u=r(804),c=r(837),h=r(805)("iterator"),g=!([].keys&&"next"in[].keys()),p="@@iterator",d="keys",f="values",A=function(){return this};t.exports=function(t,e,r,C,m,I,v){l(r,e,C);var y,b,x,w=function(t){if(!g&&t in E)return E[t];switch(t){case d:return function(){return new r(this,t)};case f:return function(){return new r(this,t)}}return function(){return new r(this,t)}},N=e+" Iterator",S=m==f,T=!1,E=t.prototype,k=E[h]||E[p]||m&&E[m],O=k||w(m),_=m?S?w("entries"):O:void 0,P="Array"==e?E.entries||k:k;if(P&&(x=c(P.call(new t)),x!==Object.prototype&&x.next&&(u(x,N,!0),n||"function"==typeof x[h]||o(x,h,A))),S&&k&&k.name!==f&&(T=!0,O=function(){return k.call(this)}),n&&!v||!g&&!T&&E[h]||o(E,h,O),s[e]=O,s[N]=A,m)if(y={values:S?O:w(f),keys:I?O:w(d),entries:_},v)for(b in y)b in E||a(E,b,y[b]);else i(i.P+i.F*(g||T),e,y);return y}},function(t,e){t.exports={}},function(t,e,r){"use strict";var n=r(824),i=r(795),a=r(804),o={};r(788)(o,r(805)("iterator"),function(){return this}),t.exports=function(t,e,r){t.prototype=n(o,{next:i(1,r)}),a(t,e+" Iterator")}},function(t,e,r){"use strict";var n=r(786),i=r(906)(!1);n(n.P,"String",{codePointAt:function(t){return i(this,t)}})},function(t,e,r){"use strict";var n=r(786),i=r(816),a=r(912),o="endsWith",s=""[o];n(n.P+n.F*r(914)(o),"String",{endsWith:function(t){var e=a(this,t,o),r=arguments.length>1?arguments[1]:void 0,n=i(e.length),l=void 0===r?n:Math.min(i(r),n),u=String(t);return s?s.call(e,u,l):e.slice(l-u.length,l)===u}})},function(t,e,r){var n=r(913),i=r(814);t.exports=function(t,e,r){if(n(e))throw TypeError("String#"+r+" doesn't accept regex!");return String(i(t))}},function(t,e,r){var n=r(791),i=r(813),a=r(805)("match");t.exports=function(t){var e;return n(t)&&(void 0!==(e=t[a])?!!e:"RegExp"==i(t))}},function(t,e,r){var n=r(805)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(r){try{return e[n]=!1,!"/./"[t](e)}catch(t){}}return!0}},function(t,e,r){"use strict";var n=r(786),i=r(912),a="includes";n(n.P+n.F*r(914)(a),"String",{includes:function(t){return!!~i(this,t,a).indexOf(t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,r){var n=r(786);n(n.P,"String",{repeat:r(869)})},function(t,e,r){"use strict";var n=r(786),i=r(816),a=r(912),o="startsWith",s=""[o];n(n.P+n.F*r(914)(o),"String",{startsWith:function(t){var e=a(this,t,o),r=i(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),n=String(t);return s?s.call(e,n,r):e.slice(r,r+n.length)===n}})},function(t,e,r){"use strict";r(919)("anchor",function(t){return function(e){return t(this,"a","name",e)}})},function(t,e,r){var n=r(786),i=r(785),a=r(814),o=/"/g,s=function(t,e,r,n){var i=String(a(t)),s="<"+e;return""!==r&&(s+=" "+r+'="'+String(n).replace(o,"&quot;")+'"'),s+">"+i+"</"+e+">"};t.exports=function(t,e){var r={};r[t]=e(s),n(n.P+n.F*i(function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}),"String",r)}},function(t,e,r){"use strict";r(919)("big",function(t){return function(){return t(this,"big","","")}})},function(t,e,r){"use strict";r(919)("blink",function(t){return function(){return t(this,"blink","","")}})},function(t,e,r){"use strict";r(919)("bold",function(t){return function(){return t(this,"b","","")}})},function(t,e,r){"use strict";r(919)("fixed",function(t){return function(){return t(this,"tt","","")}})},function(t,e,r){"use strict";r(919)("fontcolor",function(t){return function(e){return t(this,"font","color",e)}})},function(t,e,r){"use strict";r(919)("fontsize",function(t){return function(e){return t(this,"font","size",e)}})},function(t,e,r){"use strict";r(919)("italics",function(t){return function(){return t(this,"i","","")}})},function(t,e,r){"use strict";r(919)("link",function(t){return function(e){return t(this,"a","href",e)}})},function(t,e,r){"use strict";r(919)("small",function(t){return function(){return t(this,"small","","")}})},function(t,e,r){"use strict";r(919)("strike",function(t){return function(){return t(this,"strike","","")}})},function(t,e,r){"use strict";r(919)("sub",function(t){return function(){return t(this,"sub","","")}})},function(t,e,r){"use strict";r(919)("sup",function(t){return function(){return t(this,"sup","","")}})},function(t,e,r){var n=r(786);n(n.S,"Date",{now:function(){return(new Date).getTime()}})},function(t,e,r){"use strict";var n=r(786),i=r(836),a=r(794);n(n.P+n.F*r(785)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(t){var e=i(this),r=a(e);return"number"!=typeof r||isFinite(r)?e.toISOString():null}})},function(t,e,r){var n=r(786),i=r(935);n(n.P+n.F*(Date.prototype.toISOString!==i),"Date",{toISOString:i})},function(t,e,r){"use strict";var n=r(785),i=Date.prototype.getTime,a=Date.prototype.toISOString,o=function(t){return t>9?t:"0"+t};t.exports=n(function(){return"0385-07-25T07:06:39.999Z"!=a.call(new Date(-5e13-1))})||!n(function(){a.call(new Date(NaN))})?function(){if(!isFinite(i.call(this)))throw RangeError("Invalid time value");var t=this,e=t.getUTCFullYear(),r=t.getUTCMilliseconds(),n=e<0?"-":e>9999?"+":"";return n+("00000"+Math.abs(e)).slice(n?-6:-4)+"-"+o(t.getUTCMonth()+1)+"-"+o(t.getUTCDate())+"T"+o(t.getUTCHours())+":"+o(t.getUTCMinutes())+":"+o(t.getUTCSeconds())+"."+(r>99?r:"0"+o(r))+"Z"}:a},function(t,e,r){var n=Date.prototype,i="Invalid Date",a="toString",o=n[a],s=n.getTime;new Date(NaN)+""!=i&&r(796)(n,a,function(){var t=s.call(this);return t===t?o.call(this):i})},function(t,e,r){var n=r(805)("toPrimitive"),i=Date.prototype;n in i||r(788)(i,n,r(938))},function(t,e,r){"use strict";var n=r(790),i=r(794),a="number";t.exports=function(t){if("string"!==t&&t!==a&&"default"!==t)throw TypeError("Incorrect hint");return i(n(this),t!=a)}},function(t,e,r){var n=r(786);n(n.S,"Array",{isArray:r(823)})},function(t,e,r){"use strict";var n=r(801),i=r(786),a=r(836),o=r(941),s=r(942),l=r(816),u=r(943),c=r(944);i(i.S+i.F*!r(945)(function(t){Array.from(t)}),"Array",{from:function(t){var e,r,i,h,g=a(t),p="function"==typeof this?this:Array,d=arguments.length,f=d>1?arguments[1]:void 0,A=void 0!==f,C=0,m=c(g);if(A&&(f=n(f,d>2?arguments[2]:void 0,2)),void 0==m||p==Array&&s(m))for(e=l(g.length),r=new p(e);e>C;C++)u(r,C,A?f(g[C],C):g[C]);else for(h=m.call(g),r=new p;!(i=h.next()).done;C++)u(r,C,A?o(h,f,[i.value,C],!0):i.value);return r.length=C,r}})},function(t,e,r){var n=r(790);t.exports=function(t,e,r,i){try{return i?e(n(r)[0],r[1]):e(r)}catch(e){var a=t.return;throw void 0!==a&&n(a.call(t)),e}}},function(t,e,r){var n=r(908),i=r(805)("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(n.Array===t||a[i]===t)}},function(t,e,r){"use strict";var n=r(789),i=r(795);t.exports=function(t,e,r){e in t?n.f(t,e,i(0,r)):t[e]=r}},function(t,e,r){var n=r(853),i=r(805)("iterator"),a=r(908);t.exports=r(787).getIteratorMethod=function(t){if(void 0!=t)return t[i]||t["@@iterator"]||a[n(t)]}},function(t,e,r){var n=r(805)("iterator"),i=!1;try{var a=[7][n]();a.return=function(){i=!0},Array.from(a,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var r=!1;try{var a=[7],o=a[n]();o.next=function(){return{done:r=!0}},a[n]=function(){return o},t(a)}catch(t){}return r}},function(t,e,r){"use strict";var n=r(786),i=r(943);n(n.S+n.F*r(785)(function(){function t(){}return!(Array.of.call(t)instanceof t)}),"Array",{of:function(){for(var t=0,e=arguments.length,r=new("function"==typeof this?this:Array)(e);e>t;)i(r,t,arguments[t++]);return r.length=e,r}})},function(t,e,r){"use strict";var n=r(786),i=r(811),a=[].join;n(n.P+n.F*(r(812)!=Object||!r(948)(a)),"Array",{join:function(t){return a.call(i(this),void 0===t?",":t)}})},function(t,e,r){"use strict";var n=r(785);t.exports=function(t,e){return!!t&&n(function(){e?t.call(null,function(){},1):t.call(null)})}},function(t,e,r){"use strict";var n=r(786),i=r(826),a=r(813),o=r(818),s=r(816),l=[].slice;n(n.P+n.F*r(785)(function(){i&&l.call(i)}),"Array",{slice:function(t,e){var r=s(this.length),n=a(this);if(e=void 0===e?r:e,"Array"==n)return l.call(this,t,e);for(var i=o(t,r),u=o(e,r),c=s(u-i),h=new Array(c),g=0;g<c;g++)h[g]="String"==n?this.charAt(i+g):this[i+g];return h}})},function(t,e,r){"use strict";var n=r(786),i=r(802),a=r(836),o=r(785),s=[].sort,l=[1,2,3];n(n.P+n.F*(o(function(){l.sort(void 0)})||!o(function(){l.sort(null)})||!r(948)(s)),"Array",{sort:function(t){return void 0===t?s.call(a(this)):s.call(a(this),i(t))}})},function(t,e,r){"use strict";var n=r(786),i=r(952)(0),a=r(948)([].forEach,!0);n(n.P+n.F*!a,"Array",{forEach:function(t){return i(this,t,arguments[1])}})},function(t,e,r){var n=r(801),i=r(812),a=r(836),o=r(816),s=r(953);t.exports=function(t,e){var r=1==t,l=2==t,u=3==t,c=4==t,h=6==t,g=5==t||h,p=e||s;return function(e,s,d){for(var f,A,C=a(e),m=i(C),I=n(s,d,3),v=o(m.length),y=0,b=r?p(e,v):l?p(e,0):void 0;v>y;y++)if((g||y in m)&&(f=m[y],A=I(f,y,C),t))if(r)b[y]=A;else if(A)switch(t){case 3:return!0;case 5:return f;case 6:return y;case 2:b.push(f)}else if(c)return!1;return h?-1:u||c?c:b}}},function(t,e,r){var n=r(954);t.exports=function(t,e){return new(n(t))(e)}},function(t,e,r){var n=r(791),i=r(823),a=r(805)("species");t.exports=function(t){var e;return i(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!i(e.prototype)||(e=void 0),n(e)&&(e=e[a],null===e&&(e=void 0))),void 0===e?Array:e}},function(t,e,r){"use strict";var n=r(786),i=r(952)(1);n(n.P+n.F*!r(948)([].map,!0),"Array",{map:function(t){return i(this,t,arguments[1])}})},function(t,e,r){"use strict";var n=r(786),i=r(952)(2);n(n.P+n.F*!r(948)([].filter,!0),"Array",{filter:function(t){return i(this,t,arguments[1])}})},function(t,e,r){"use strict";var n=r(786),i=r(952)(3);n(n.P+n.F*!r(948)([].some,!0),"Array",{some:function(t){return i(this,t,arguments[1])}})},function(t,e,r){"use strict";var n=r(786),i=r(952)(4);n(n.P+n.F*!r(948)([].every,!0),"Array",{every:function(t){return i(this,t,arguments[1])}})},function(t,e,r){"use strict";var n=r(786),i=r(960);n(n.P+n.F*!r(948)([].reduce,!0),"Array",{reduce:function(t){return i(this,t,arguments.length,arguments[1],!1)}})},function(t,e,r){var n=r(802),i=r(836),a=r(812),o=r(816);t.exports=function(t,e,r,s,l){n(e);var u=i(t),c=a(u),h=o(u.length),g=l?h-1:0,p=l?-1:1;if(r<2)for(;;){if(g in c){s=c[g],g+=p;break}if(g+=p,l?g<0:h<=g)throw TypeError("Reduce of empty array with no initial value")}for(;l?g>=0:h>g;g+=p)g in c&&(s=e(s,c[g],g,u));return s}},function(t,e,r){"use strict";var n=r(786),i=r(960);n(n.P+n.F*!r(948)([].reduceRight,!0),"Array",{reduceRight:function(t){return i(this,t,arguments.length,arguments[1],!0)}})},function(t,e,r){"use strict";var n=r(786),i=r(815)(!1),a=[].indexOf,o=!!a&&1/[1].indexOf(1,-0)<0;n(n.P+n.F*(o||!r(948)(a)),"Array",{indexOf:function(t){return o?a.apply(this,arguments)||0:i(this,t,arguments[1])}})},function(t,e,r){"use strict";var n=r(786),i=r(811),a=r(817),o=r(816),s=[].lastIndexOf,l=!!s&&1/[1].lastIndexOf(1,-0)<0;n(n.P+n.F*(l||!r(948)(s)),"Array",{lastIndexOf:function(t){if(l)return s.apply(this,arguments)||0;var e=i(this),r=o(e.length),n=r-1;for(arguments.length>1&&(n=Math.min(n,a(arguments[1]))),n<0&&(n=r+n);n>=0;n--)if(n in e&&e[n]===t)return n||0;return-1}})},function(t,e,r){var n=r(786);n(n.P,"Array",{copyWithin:r(965)}),r(966)("copyWithin")},function(t,e,r){"use strict";var n=r(836),i=r(818),a=r(816);t.exports=[].copyWithin||function(t,e){var r=n(this),o=a(r.length),s=i(t,o),l=i(e,o),u=arguments.length>2?arguments[2]:void 0,c=Math.min((void 0===u?o:i(u,o))-l,o-s),h=1;for(l<s&&s<l+c&&(h=-1,l+=c-1,s+=c-1);c-- >0;)l in r?r[s]=r[l]:delete r[s],s+=h,l+=h;return r}},function(t,e,r){var n=r(805)("unscopables"),i=Array.prototype;void 0==i[n]&&r(788)(i,n,{}),t.exports=function(t){i[n][t]=!0}},function(t,e,r){var n=r(786);n(n.P,"Array",{fill:r(968)}),r(966)("fill")},function(t,e,r){"use strict";var n=r(836),i=r(818),a=r(816);t.exports=function(t){for(var e=n(this),r=a(e.length),o=arguments.length,s=i(o>1?arguments[1]:void 0,r),l=o>2?arguments[2]:void 0,u=void 0===l?r:i(l,r);u>s;)e[s++]=t;return e}},function(t,e,r){"use strict";var n=r(786),i=r(952)(5),a="find",o=!0;a in[]&&Array(1)[a](function(){o=!1}),n(n.P+n.F*o,"Array",{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),r(966)(a)},function(t,e,r){"use strict";var n=r(786),i=r(952)(6),a="findIndex",o=!0;a in[]&&Array(1)[a](function(){o=!1}),n(n.P+n.F*o,"Array",{findIndex:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),r(966)(a)},function(t,e,r){r(972)("Array")},function(t,e,r){"use strict";var n=r(782),i=r(789),a=r(784),o=r(805)("species");t.exports=function(t){var e=n[t];a&&e&&!e[o]&&i.f(e,o,{configurable:!0,get:function(){return this}})}},function(t,e,r){"use strict";var n=r(966),i=r(974),a=r(908),o=r(811);t.exports=r(907)(Array,"Array",function(t,e){this._t=o(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,r=this._i++;return!t||r>=t.length?(this._t=void 0,i(1)):"keys"==e?i(0,r):"values"==e?i(0,t[r]):i(0,[r,t[r]])},"values"),a.Arguments=a.Array,n("keys"),n("values"),n("entries")},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,r){var n=r(782),i=r(866),a=r(789).f,o=r(828).f,s=r(913),l=r(976),u=n.RegExp,c=u,h=u.prototype,g=/a/g,p=/a/g,d=new u(g)!==g;if(r(784)&&(!d||r(785)(function(){return p[r(805)("match")]=!1,u(g)!=g||u(p)==p||"/a/i"!=u(g,"i")}))){u=function(t,e){var r=this instanceof u,n=s(t),a=void 0===e;
return!r&&n&&t.constructor===u&&a?t:i(d?new c(n&&!a?t.source:t,e):c((n=t instanceof u)?t.source:t,n&&a?l.call(t):e),r?this:h,u)};for(var f=(function(t){t in u||a(u,t,{configurable:!0,get:function(){return c[t]},set:function(e){c[t]=e}})}),A=o(c),C=0;A.length>C;)f(A[C++]);h.constructor=u,u.prototype=h,r(796)(n,"RegExp",u)}r(972)("RegExp")},function(t,e,r){"use strict";var n=r(790);t.exports=function(){var t=n(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,r){"use strict";var n=r(978);r(786)({target:"RegExp",proto:!0,forced:n!==/./.exec},{exec:n})},function(t,e,r){"use strict";var n=r(976),i=RegExp.prototype.exec,a=String.prototype.replace,o=i,s="lastIndex",l=function(){var t=/a/,e=/b*/g;return i.call(t,"a"),i.call(e,"a"),0!==t[s]||0!==e[s]}(),u=void 0!==/()??/.exec("")[1],c=l||u;c&&(o=function(t){var e,r,o,c,h=this;return u&&(r=new RegExp("^"+h.source+"$(?!\\s)",n.call(h))),l&&(e=h[s]),o=i.call(h,t),l&&o&&(h[s]=h.global?o.index+o[0].length:e),u&&o&&o.length>1&&a.call(o[0],r,function(){for(c=1;c<arguments.length-2;c++)void 0===arguments[c]&&(o[c]=void 0)}),o}),t.exports=o},function(t,e,r){"use strict";r(980);var n=r(790),i=r(976),a=r(784),o="toString",s=/./[o],l=function(t){r(796)(RegExp.prototype,o,t,!0)};r(785)(function(){return"/a/b"!=s.call({source:"a",flags:"b"})})?l(function(){var t=n(this);return"/".concat(t.source,"/","flags"in t?t.flags:!a&&t instanceof RegExp?i.call(t):void 0)}):s.name!=o&&l(function(){return s.call(this)})},function(t,e,r){r(784)&&"g"!=/./g.flags&&r(789).f(RegExp.prototype,"flags",{configurable:!0,get:r(976)})},function(t,e,r){"use strict";var n=r(790),i=r(816),a=r(982),o=r(983);r(984)("match",1,function(t,e,r,s){return[function(r){var n=t(this),i=void 0==r?void 0:r[e];return void 0!==i?i.call(r,n):new RegExp(r)[e](String(n))},function(t){var e=s(r,t,this);if(e.done)return e.value;var l=n(t),u=String(this);if(!l.global)return o(l,u);var c=l.unicode;l.lastIndex=0;for(var h,g=[],p=0;null!==(h=o(l,u));){var d=String(h[0]);g[p]=d,""===d&&(l.lastIndex=a(u,i(l.lastIndex),c)),p++}return 0===p?null:g}]})},function(t,e,r){"use strict";var n=r(906)(!0);t.exports=function(t,e,r){return e+(r?n(t,e).length:1)}},function(t,e,r){"use strict";var n=r(853),i=RegExp.prototype.exec;t.exports=function(t,e){var r=t.exec;if("function"==typeof r){var a=r.call(t,e);if("object"!=typeof a)throw new TypeError("RegExp exec method returned something other than an Object or null");return a}if("RegExp"!==n(t))throw new TypeError("RegExp#exec called on incompatible receiver");return i.call(t,e)}},function(t,e,r){"use strict";r(977);var n=r(796),i=r(788),a=r(785),o=r(814),s=r(805),l=r(978),u=s("species"),c=!a(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}),h=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var r="ab".split(t);return 2===r.length&&"a"===r[0]&&"b"===r[1]}();t.exports=function(t,e,r){var g=s(t),p=!a(function(){var e={};return e[g]=function(){return 7},7!=""[t](e)}),d=p?!a(function(){var e=!1,r=/a/;return r.exec=function(){return e=!0,null},"split"===t&&(r.constructor={},r.constructor[u]=function(){return r}),r[g](""),!e}):void 0;if(!p||!d||"replace"===t&&!c||"split"===t&&!h){var f=/./[g],A=r(o,g,""[t],function(t,e,r,n,i){return e.exec===l?p&&!i?{done:!0,value:f.call(e,r,n)}:{done:!0,value:t.call(r,e,n)}:{done:!1}}),C=A[0],m=A[1];n(String.prototype,t,C),i(RegExp.prototype,g,2==e?function(t,e){return m.call(t,this,e)}:function(t){return m.call(t,this)})}}},function(t,e,r){"use strict";var n=r(790),i=r(836),a=r(816),o=r(817),s=r(982),l=r(983),u=Math.max,c=Math.min,h=Math.floor,g=/\$([$&`']|\d\d?|<[^>]*>)/g,p=/\$([$&`']|\d\d?)/g,d=function(t){return void 0===t?t:String(t)};r(984)("replace",2,function(t,e,r,f){function A(t,e,n,a,o,s){var l=n+t.length,u=a.length,c=p;return void 0!==o&&(o=i(o),c=g),r.call(s,c,function(r,i){var s;switch(i.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,n);case"'":return e.slice(l);case"<":s=o[i.slice(1,-1)];break;default:var c=+i;if(0===c)return r;if(c>u){var g=h(c/10);return 0===g?r:g<=u?void 0===a[g-1]?i.charAt(1):a[g-1]+i.charAt(1):r}s=a[c-1]}return void 0===s?"":s})}return[function(n,i){var a=t(this),o=void 0==n?void 0:n[e];return void 0!==o?o.call(n,a,i):r.call(String(a),n,i)},function(t,e){var i=f(r,t,this,e);if(i.done)return i.value;var h=n(t),g=String(this),p="function"==typeof e;p||(e=String(e));var C=h.global;if(C){var m=h.unicode;h.lastIndex=0}for(var I=[];;){var v=l(h,g);if(null===v)break;if(I.push(v),!C)break;var y=String(v[0]);""===y&&(h.lastIndex=s(g,a(h.lastIndex),m))}for(var b="",x=0,w=0;w<I.length;w++){v=I[w];for(var N=String(v[0]),S=u(c(o(v.index),g.length),0),T=[],E=1;E<v.length;E++)T.push(d(v[E]));var k=v.groups;if(p){var O=[N].concat(T,S,g);void 0!==k&&O.push(k);var _=String(e.apply(void 0,O))}else _=A(N,g,S,T,k,e);S>=x&&(b+=g.slice(x,S)+_,x=S+N.length)}return b+g.slice(x)}]})},function(t,e,r){"use strict";var n=r(790),i=r(849),a=r(983);r(984)("search",1,function(t,e,r,o){return[function(r){var n=t(this),i=void 0==r?void 0:r[e];return void 0!==i?i.call(r,n):new RegExp(r)[e](String(n))},function(t){var e=o(r,t,this);if(e.done)return e.value;var s=n(t),l=String(this),u=s.lastIndex;i(u,0)||(s.lastIndex=0);var c=a(s,l);return i(s.lastIndex,u)||(s.lastIndex=u),null===c?-1:c.index}]})},function(t,e,r){"use strict";var n=r(913),i=r(790),a=r(988),o=r(982),s=r(816),l=r(983),u=r(978),c=r(785),h=Math.min,g=[].push,p="split",d="length",f="lastIndex",A=4294967295,C=!c(function(){RegExp(A,"y")});r(984)("split",2,function(t,e,r,c){var m;return m="c"=="abbc"[p](/(b)*/)[1]||4!="test"[p](/(?:)/,-1)[d]||2!="ab"[p](/(?:ab)*/)[d]||4!="."[p](/(.?)(.?)/)[d]||"."[p](/()()/)[d]>1||""[p](/.?/)[d]?function(t,e){var i=String(this);if(void 0===t&&0===e)return[];if(!n(t))return r.call(i,t,e);for(var a,o,s,l=[],c=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),h=0,p=void 0===e?A:e>>>0,C=new RegExp(t.source,c+"g");(a=u.call(C,i))&&(o=C[f],!(o>h&&(l.push(i.slice(h,a.index)),a[d]>1&&a.index<i[d]&&g.apply(l,a.slice(1)),s=a[0][d],h=o,l[d]>=p)));)C[f]===a.index&&C[f]++;return h===i[d]?!s&&C.test("")||l.push(""):l.push(i.slice(h)),l[d]>p?l.slice(0,p):l}:"0"[p](void 0,0)[d]?function(t,e){return void 0===t&&0===e?[]:r.call(this,t,e)}:r,[function(r,n){var i=t(this),a=void 0==r?void 0:r[e];return void 0!==a?a.call(r,i,n):m.call(String(i),r,n)},function(t,e){var n=c(m,t,this,e,m!==r);if(n.done)return n.value;var u=i(t),g=String(this),p=a(u,RegExp),d=u.unicode,f=(u.ignoreCase?"i":"")+(u.multiline?"m":"")+(u.unicode?"u":"")+(C?"y":"g"),I=new p(C?u:"^(?:"+u.source+")",f),v=void 0===e?A:e>>>0;if(0===v)return[];if(0===g.length)return null===l(I,g)?[g]:[];for(var y=0,b=0,x=[];b<g.length;){I.lastIndex=C?b:0;var w,N=l(I,C?g:g.slice(b));if(null===N||(w=h(s(I.lastIndex+(C?0:b)),g.length))===y)b=o(g,b,d);else{if(x.push(g.slice(y,b)),x.length===v)return x;for(var S=1;S<=N.length-1;S++)if(x.push(N[S]),x.length===v)return x;b=y=w}}return x.push(g.slice(y)),x}]})},function(t,e,r){var n=r(790),i=r(802),a=r(805)("species");t.exports=function(t,e){var r,o=n(t).constructor;return void 0===o||void 0==(r=n(o)[a])?e:i(r)}},function(t,e,r){"use strict";var n,i,a,o,s=r(800),l=r(782),u=r(801),c=r(853),h=r(786),g=r(791),p=r(802),d=r(990),f=r(991),A=r(988),C=r(992).set,m=r(993)(),I=r(994),v=r(995),y=r(996),b=r(997),x="Promise",w=l.TypeError,N=l.process,S=N&&N.versions,T=S&&S.v8||"",E=l[x],k="process"==c(N),O=function(){},_=i=I.f,P=!!function(){try{var t=E.resolve(1),e=(t.constructor={})[r(805)("species")]=function(t){t(O,O)};return(k||"function"==typeof PromiseRejectionEvent)&&t.then(O)instanceof e&&0!==T.indexOf("6.6")&&y.indexOf("Chrome/66")===-1}catch(t){}}(),M=function(t){var e;return!(!g(t)||"function"!=typeof(e=t.then))&&e},D=function(t,e){if(!t._n){t._n=!0;var r=t._c;m(function(){for(var n=t._v,i=1==t._s,a=0,o=function(e){var r,a,o,s=i?e.ok:e.fail,l=e.resolve,u=e.reject,c=e.domain;try{s?(i||(2==t._h&&z(t),t._h=1),s===!0?r=n:(c&&c.enter(),r=s(n),c&&(c.exit(),o=!0)),r===e.promise?u(w("Promise-chain cycle")):(a=M(r))?a.call(r,l,u):l(r)):u(n)}catch(t){c&&!o&&c.exit(),u(t)}};r.length>a;)o(r[a++]);t._c=[],t._n=!1,e&&!t._h&&R(t)})}},R=function(t){C.call(l,function(){var e,r,n,i=t._v,a=L(t);if(a&&(e=v(function(){k?N.emit("unhandledRejection",i,t):(r=l.onunhandledrejection)?r({promise:t,reason:i}):(n=l.console)&&n.error&&n.error("Unhandled promise rejection",i)}),t._h=k||L(t)?2:1),t._a=void 0,a&&e.e)throw e.v})},L=function(t){return 1!==t._h&&0===(t._a||t._c).length},z=function(t){C.call(l,function(){var e;k?N.emit("rejectionHandled",t):(e=l.onrejectionhandled)&&e({promise:t,reason:t._v})})},F=function(t){var e=this;e._d||(e._d=!0,e=e._w||e,e._v=t,e._s=2,e._a||(e._a=e._c.slice()),D(e,!0))},B=function(t){var e,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===t)throw w("Promise can't be resolved itself");(e=M(t))?m(function(){var n={_w:r,_d:!1};try{e.call(t,u(B,n,1),u(F,n,1))}catch(t){F.call(n,t)}}):(r._v=t,r._s=1,D(r,!1))}catch(t){F.call({_w:r,_d:!1},t)}}};P||(E=function(t){d(this,E,x,"_h"),p(t),n.call(this);try{t(u(B,this,1),u(F,this,1))}catch(t){F.call(this,t)}},n=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},n.prototype=r(998)(E.prototype,{then:function(t,e){var r=_(A(this,E));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=k?N.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&D(this,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),a=function(){var t=new n;this.promise=t,this.resolve=u(B,t,1),this.reject=u(F,t,1)},I.f=_=function(t){return t===E||t===o?new a(t):i(t)}),h(h.G+h.W+h.F*!P,{Promise:E}),r(804)(E,x),r(972)(x),o=r(787)[x],h(h.S+h.F*!P,x,{reject:function(t){var e=_(this),r=e.reject;return r(t),e.promise}}),h(h.S+h.F*(s||!P),x,{resolve:function(t){return b(s&&this===o?E:this,t)}}),h(h.S+h.F*!(P&&r(945)(function(t){E.all(t).catch(O)})),x,{all:function(t){var e=this,r=_(e),n=r.resolve,i=r.reject,a=v(function(){var r=[],a=0,o=1;f(t,!1,function(t){var s=a++,l=!1;r.push(void 0),o++,e.resolve(t).then(function(t){l||(l=!0,r[s]=t,--o||n(r))},i)}),--o||n(r)});return a.e&&i(a.v),r.promise},race:function(t){var e=this,r=_(e),n=r.reject,i=v(function(){f(t,!1,function(t){e.resolve(t).then(r.resolve,n)})});return i.e&&n(i.v),r.promise}})},function(t,e){t.exports=function(t,e,r,n){if(!(t instanceof e)||void 0!==n&&n in t)throw TypeError(r+": incorrect invocation!");return t}},function(t,e,r){var n=r(801),i=r(941),a=r(942),o=r(790),s=r(816),l=r(944),u={},c={},e=t.exports=function(t,e,r,h,g){var p,d,f,A,C=g?function(){return t}:l(t),m=n(r,h,e?2:1),I=0;if("function"!=typeof C)throw TypeError(t+" is not iterable!");if(a(C)){for(p=s(t.length);p>I;I++)if(A=e?m(o(d=t[I])[0],d[1]):m(t[I]),A===u||A===c)return A}else for(f=C.call(t);!(d=f.next()).done;)if(A=i(f,m,d.value,e),A===u||A===c)return A};e.BREAK=u,e.RETURN=c},function(t,e,r){var n,i,a,o=r(801),s=r(856),l=r(826),u=r(793),c=r(782),h=c.process,g=c.setImmediate,p=c.clearImmediate,d=c.MessageChannel,f=c.Dispatch,A=0,C={},m="onreadystatechange",I=function(){var t=+this;if(C.hasOwnProperty(t)){var e=C[t];delete C[t],e()}},v=function(t){I.call(t.data)};g&&p||(g=function(t){for(var e=[],r=1;arguments.length>r;)e.push(arguments[r++]);return C[++A]=function(){s("function"==typeof t?t:Function(t),e)},n(A),A},p=function(t){delete C[t]},"process"==r(813)(h)?n=function(t){h.nextTick(o(I,t,1))}:f&&f.now?n=function(t){f.now(o(I,t,1))}:d?(i=new d,a=i.port2,i.port1.onmessage=v,n=o(a.postMessage,a,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(n=function(t){c.postMessage(t+"","*")},c.addEventListener("message",v,!1)):n=m in u("script")?function(t){l.appendChild(u("script"))[m]=function(){l.removeChild(this),I.call(t)}}:function(t){setTimeout(o(I,t,1),0)}),t.exports={set:g,clear:p}},function(t,e,r){var n=r(782),i=r(992).set,a=n.MutationObserver||n.WebKitMutationObserver,o=n.process,s=n.Promise,l="process"==r(813)(o);t.exports=function(){var t,e,r,u=function(){var n,i;for(l&&(n=o.domain)&&n.exit();t;){i=t.fn,t=t.next;try{i()}catch(n){throw t?r():e=void 0,n}}e=void 0,n&&n.enter()};if(l)r=function(){o.nextTick(u)};else if(!a||n.navigator&&n.navigator.standalone)if(s&&s.resolve){var c=s.resolve(void 0);r=function(){c.then(u)}}else r=function(){i.call(n,u)};else{var h=!0,g=document.createTextNode("");new a(u).observe(g,{characterData:!0}),r=function(){g.data=h=!h}}return function(n){var i={fn:n,next:void 0};e&&(e.next=i),t||(t=i,r()),e=i}}},function(t,e,r){"use strict";function n(t){var e,r;this.promise=new t(function(t,n){if(void 0!==e||void 0!==r)throw TypeError("Bad Promise constructor");e=t,r=n}),this.resolve=i(e),this.reject=i(r)}var i=r(802);t.exports.f=function(t){return new n(t)}},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,e,r){var n=r(782),i=n.navigator;t.exports=i&&i.userAgent||""},function(t,e,r){var n=r(790),i=r(791),a=r(994);t.exports=function(t,e){if(n(t),i(e)&&e.constructor===t)return e;var r=a.f(t),o=r.resolve;return o(e),r.promise}},function(t,e,r){var n=r(796);t.exports=function(t,e,r){for(var i in e)n(t,i,e[i],r);return t}},function(t,e,r){"use strict";var n=r(1e3),i=r(1001),a="Map";t.exports=r(1002)(a,function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{get:function(t){var e=n.getEntry(i(this,a),t);return e&&e.v},set:function(t,e){return n.def(i(this,a),0===t?0:t,e)}},n,!0)},function(t,e,r){"use strict";var n=r(789).f,i=r(824),a=r(998),o=r(801),s=r(990),l=r(991),u=r(907),c=r(974),h=r(972),g=r(784),p=r(803).fastKey,d=r(1001),f=g?"_s":"size",A=function(t,e){var r,n=p(e);if("F"!==n)return t._i[n];for(r=t._f;r;r=r.n)if(r.k==e)return r};t.exports={getConstructor:function(t,e,r,u){var c=t(function(t,n){s(t,c,e,"_i"),t._t=e,t._i=i(null),t._f=void 0,t._l=void 0,t[f]=0,void 0!=n&&l(n,r,t[u],t)});return a(c.prototype,{clear:function(){for(var t=d(this,e),r=t._i,n=t._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete r[n.i];t._f=t._l=void 0,t[f]=0},delete:function(t){var r=d(this,e),n=A(r,t);if(n){var i=n.n,a=n.p;delete r._i[n.i],n.r=!0,a&&(a.n=i),i&&(i.p=a),r._f==n&&(r._f=i),r._l==n&&(r._l=a),r[f]--}return!!n},forEach:function(t){d(this,e);for(var r,n=o(t,arguments.length>1?arguments[1]:void 0,3);r=r?r.n:this._f;)for(n(r.v,r.k,this);r&&r.r;)r=r.p},has:function(t){return!!A(d(this,e),t)}}),g&&n(c.prototype,"size",{get:function(){return d(this,e)[f]}}),c},def:function(t,e,r){var n,i,a=A(t,e);return a?a.v=r:(t._l=a={i:i=p(e,!0),k:e,v:r,p:n=t._l,n:void 0,r:!1},t._f||(t._f=a),n&&(n.n=a),t[f]++,"F"!==i&&(t._i[i]=a)),t},getEntry:A,setStrong:function(t,e,r){u(t,e,function(t,r){this._t=d(t,e),this._k=r,this._l=void 0},function(){for(var t=this,e=t._k,r=t._l;r&&r.r;)r=r.p;return t._t&&(t._l=r=r?r.n:t._t._f)?"keys"==e?c(0,r.k):"values"==e?c(0,r.v):c(0,[r.k,r.v]):(t._t=void 0,c(1))},r?"entries":"values",!r,!0),h(e)}}},function(t,e,r){var n=r(791);t.exports=function(t,e){if(!n(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},function(t,e,r){"use strict";var n=r(782),i=r(786),a=r(796),o=r(998),s=r(803),l=r(991),u=r(990),c=r(791),h=r(785),g=r(945),p=r(804),d=r(866);t.exports=function(t,e,r,f,A,C){var m=n[t],I=m,v=A?"set":"add",y=I&&I.prototype,b={},x=function(t){var e=y[t];a(y,t,"delete"==t?function(t){return!(C&&!c(t))&&e.call(this,0===t?0:t)}:"has"==t?function(t){return!(C&&!c(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return C&&!c(t)?void 0:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,r){return e.call(this,0===t?0:t,r),this})};if("function"==typeof I&&(C||y.forEach&&!h(function(){(new I).entries().next()}))){var w=new I,N=w[v](C?{}:-0,1)!=w,S=h(function(){w.has(1)}),T=g(function(t){new I(t)}),E=!C&&h(function(){for(var t=new I,e=5;e--;)t[v](e,e);return!t.has(-0)});T||(I=e(function(e,r){u(e,I,t);var n=d(new m,e,I);return void 0!=r&&l(r,A,n[v],n),n}),I.prototype=y,y.constructor=I),(S||E)&&(x("delete"),x("has"),A&&x("get")),(E||N)&&x(v),C&&y.clear&&delete y.clear}else I=f.getConstructor(e,t,A,v),o(I.prototype,r),s.NEED=!0;return p(I,t),b[t]=I,i(i.G+i.W+i.F*(I!=m),b),C||f.setStrong(I,t,A),I}},function(t,e,r){"use strict";var n=r(1e3),i=r(1001),a="Set";t.exports=r(1002)(a,function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return n.def(i(this,a),t=0===t?0:t,t)}},n)},function(t,e,r){"use strict";var n,i=r(782),a=r(952)(0),o=r(796),s=r(803),l=r(847),u=r(1005),c=r(791),h=r(1001),g=r(1001),p=!i.ActiveXObject&&"ActiveXObject"in i,d="WeakMap",f=s.getWeak,A=Object.isExtensible,C=u.ufstore,m=function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},I={get:function(t){if(c(t)){var e=f(t);return e===!0?C(h(this,d)).get(t):e?e[this._i]:void 0}},set:function(t,e){return u.def(h(this,d),t,e)}},v=t.exports=r(1002)(d,m,I,u,!0,!0);g&&p&&(n=u.getConstructor(m,d),l(n.prototype,I),s.NEED=!0,a(["delete","has","get","set"],function(t){var e=v.prototype,r=e[t];o(e,t,function(e,i){if(c(e)&&!A(e)){this._f||(this._f=new n);var a=this._f[t](e,i);return"set"==t?this:a}return r.call(this,e,i)})}))},function(t,e,r){"use strict";var n=r(998),i=r(803).getWeak,a=r(790),o=r(791),s=r(990),l=r(991),u=r(952),c=r(783),h=r(1001),g=u(5),p=u(6),d=0,f=function(t){return t._l||(t._l=new A)},A=function(){this.a=[]},C=function(t,e){return g(t.a,function(t){return t[0]===e})};A.prototype={get:function(t){var e=C(this,t);if(e)return e[1]},has:function(t){return!!C(this,t)},set:function(t,e){var r=C(this,t);r?r[1]=e:this.a.push([t,e])},delete:function(t){var e=p(this.a,function(e){return e[0]===t});return~e&&this.a.splice(e,1),!!~e}},t.exports={getConstructor:function(t,e,r,a){var u=t(function(t,n){s(t,u,e,"_i"),t._t=e,t._i=d++,t._l=void 0,void 0!=n&&l(n,r,t[a],t)});return n(u.prototype,{delete:function(t){if(!o(t))return!1;var r=i(t);return r===!0?f(h(this,e)).delete(t):r&&c(r,this._i)&&delete r[this._i]},has:function(t){if(!o(t))return!1;var r=i(t);return r===!0?f(h(this,e)).has(t):r&&c(r,this._i)}}),u},def:function(t,e,r){var n=i(a(e),!0);return n===!0?f(t).set(e,r):n[t._i]=r,t},ufstore:f}},function(t,e,r){"use strict";var n=r(1005),i=r(1001),a="WeakSet";r(1002)(a,function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return n.def(i(this,a),t,!0)}},n,!1,!0)},function(t,e,r){"use strict";var n=r(786),i=r(1008),a=r(1009),o=r(790),s=r(818),l=r(816),u=r(791),c=r(782).ArrayBuffer,h=r(988),g=a.ArrayBuffer,p=a.DataView,d=i.ABV&&c.isView,f=g.prototype.slice,A=i.VIEW,C="ArrayBuffer";n(n.G+n.W+n.F*(c!==g),{ArrayBuffer:g}),n(n.S+n.F*!i.CONSTR,C,{isView:function(t){return d&&d(t)||u(t)&&A in t}}),n(n.P+n.U+n.F*r(785)(function(){return!new g(2).slice(1,void 0).byteLength}),C,{slice:function(t,e){if(void 0!==f&&void 0===e)return f.call(o(this),t);for(var r=o(this).byteLength,n=s(t,r),i=s(void 0===e?r:e,r),a=new(h(this,g))(l(i-n)),u=new p(this),c=new p(a),d=0;n<i;)c.setUint8(d++,u.getUint8(n++));return a}}),r(972)(C)},function(t,e,r){for(var n,i=r(782),a=r(788),o=r(797),s=o("typed_array"),l=o("view"),u=!(!i.ArrayBuffer||!i.DataView),c=u,h=0,g=9,p="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");h<g;)(n=i[p[h++]])?(a(n.prototype,s,!0),a(n.prototype,l,!0)):c=!1;t.exports={ABV:u,CONSTR:c,TYPED:s,VIEW:l}},function(t,e,r){"use strict";function n(t,e,r){var n,i,a,o=new Array(r),s=8*r-e-1,l=(1<<s)-1,u=l>>1,c=23===e?j(2,-24)-j(2,-77):0,h=0,g=t<0||0===t&&1/t<0?1:0;for(t=V(t),t!=t||t===F?(i=t!=t?1:0,n=l):(n=W(G(t)/U),t*(a=j(2,-n))<1&&(n--,a*=2),t+=n+u>=1?c/a:c*j(2,1-u),t*a>=2&&(n++,a/=2),n+u>=l?(i=0,n=l):n+u>=1?(i=(t*a-1)*j(2,e),n+=u):(i=t*j(2,u-1)*j(2,e),n=0));e>=8;o[h++]=255&i,i/=256,e-=8);for(n=n<<e|i,s+=e;s>0;o[h++]=255&n,n/=256,s-=8);return o[--h]|=128*g,o}function i(t,e,r){var n,i=8*r-e-1,a=(1<<i)-1,o=a>>1,s=i-7,l=r-1,u=t[l--],c=127&u;for(u>>=7;s>0;c=256*c+t[l],l--,s-=8);for(n=c&(1<<-s)-1,c>>=-s,s+=e;s>0;n=256*n+t[l],l--,s-=8);if(0===c)c=1-o;else{if(c===a)return n?NaN:u?-F:F;n+=j(2,e),c-=o}return(u?-1:1)*n*j(2,c-e)}function a(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]}function o(t){return[255&t]}function s(t){return[255&t,t>>8&255]}function l(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function u(t){return n(t,52,8)}function c(t){return n(t,23,4)}function h(t,e,r){S(t[_],e,{get:function(){return this[r]}})}function g(t,e,r,n){var i=+r,a=w(i);if(a+e>t[q])throw z(M);var o=t[X]._b,s=a+t[K],l=o.slice(s,s+e);return n?l:l.reverse()}function p(t,e,r,n,i,a){var o=+r,s=w(o);if(s+e>t[q])throw z(M);for(var l=t[X]._b,u=s+t[K],c=n(+i),h=0;h<e;h++)l[u+h]=c[a?h:e-h-1]}var d=r(782),f=r(784),A=r(800),C=r(1008),m=r(788),I=r(998),v=r(785),y=r(990),b=r(817),x=r(816),w=r(1010),N=r(828).f,S=r(789).f,T=r(968),E=r(804),k="ArrayBuffer",O="DataView",_="prototype",P="Wrong length!",M="Wrong index!",D=d[k],R=d[O],L=d.Math,z=d.RangeError,F=d.Infinity,B=D,V=L.abs,j=L.pow,W=L.floor,G=L.log,U=L.LN2,H="buffer",Y="byteLength",Z="byteOffset",X=f?"_b":H,q=f?"_l":Y,K=f?"_o":Z;if(C.ABV){if(!v(function(){D(1)})||!v(function(){new D(-1)})||v(function(){return new D,new D(1.5),new D(NaN),D.name!=k})){D=function(t){return y(this,D),new B(w(t))};for(var J,Q=D[_]=B[_],$=N(B),tt=0;$.length>tt;)(J=$[tt++])in D||m(D,J,B[J]);A||(Q.constructor=D)}var et=new R(new D(2)),rt=R[_].setInt8;et.setInt8(0,2147483648),et.setInt8(1,2147483649),!et.getInt8(0)&&et.getInt8(1)||I(R[_],{setInt8:function(t,e){rt.call(this,t,e<<24>>24)},setUint8:function(t,e){rt.call(this,t,e<<24>>24)}},!0)}else D=function(t){y(this,D,k);var e=w(t);this._b=T.call(new Array(e),0),this[q]=e},R=function(t,e,r){y(this,R,O),y(t,D,O);var n=t[q],i=b(e);if(i<0||i>n)throw z("Wrong offset!");if(r=void 0===r?n-i:x(r),i+r>n)throw z(P);this[X]=t,this[K]=i,this[q]=r},f&&(h(D,Y,"_l"),h(R,H,"_b"),h(R,Y,"_l"),h(R,Z,"_o")),I(R[_],{getInt8:function(t){return g(this,1,t)[0]<<24>>24},getUint8:function(t){return g(this,1,t)[0]},getInt16:function(t){var e=g(this,2,t,arguments[1]);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=g(this,2,t,arguments[1]);return e[1]<<8|e[0]},getInt32:function(t){return a(g(this,4,t,arguments[1]))},getUint32:function(t){return a(g(this,4,t,arguments[1]))>>>0},getFloat32:function(t){return i(g(this,4,t,arguments[1]),23,4)},getFloat64:function(t){return i(g(this,8,t,arguments[1]),52,8)},setInt8:function(t,e){p(this,1,t,o,e)},setUint8:function(t,e){p(this,1,t,o,e)},setInt16:function(t,e){p(this,2,t,s,e,arguments[2])},setUint16:function(t,e){p(this,2,t,s,e,arguments[2])},setInt32:function(t,e){p(this,4,t,l,e,arguments[2])},setUint32:function(t,e){p(this,4,t,l,e,arguments[2])},setFloat32:function(t,e){p(this,4,t,c,e,arguments[2])},setFloat64:function(t,e){p(this,8,t,u,e,arguments[2])}});E(D,k),E(R,O),m(R[_],C.VIEW,!0),e[k]=D,e[O]=R},function(t,e,r){var n=r(817),i=r(816);t.exports=function(t){if(void 0===t)return 0;var e=n(t),r=i(e);if(e!==r)throw RangeError("Wrong length!");return r}},function(t,e,r){var n=r(786);n(n.G+n.W+n.F*!r(1008).ABV,{DataView:r(1009).DataView})},function(t,e,r){r(1013)("Int8",1,function(t){return function(e,r,n){return t(this,e,r,n)}})},function(t,e,r){"use strict";if(r(784)){var n=r(800),i=r(782),a=r(785),o=r(786),s=r(1008),l=r(1009),u=r(801),c=r(990),h=r(795),g=r(788),p=r(998),d=r(817),f=r(816),A=r(1010),C=r(818),m=r(794),I=r(783),v=r(853),y=r(791),b=r(836),x=r(942),w=r(824),N=r(837),S=r(828).f,T=r(944),E=r(797),k=r(805),O=r(952),_=r(815),P=r(988),M=r(973),D=r(908),R=r(945),L=r(972),z=r(968),F=r(965),B=r(789),V=r(829),j=B.f,W=V.f,G=i.RangeError,U=i.TypeError,H=i.Uint8Array,Y="ArrayBuffer",Z="Shared"+Y,X="BYTES_PER_ELEMENT",q="prototype",K=Array[q],J=l.ArrayBuffer,Q=l.DataView,$=O(0),tt=O(2),et=O(3),rt=O(4),nt=O(5),it=O(6),at=_(!0),ot=_(!1),st=M.values,lt=M.keys,ut=M.entries,ct=K.lastIndexOf,ht=K.reduce,gt=K.reduceRight,pt=K.join,dt=K.sort,ft=K.slice,At=K.toString,Ct=K.toLocaleString,mt=k("iterator"),It=k("toStringTag"),vt=E("typed_constructor"),yt=E("def_constructor"),bt=s.CONSTR,xt=s.TYPED,wt=s.VIEW,Nt="Wrong length!",St=O(1,function(t,e){return _t(P(t,t[yt]),e)}),Tt=a(function(){return 1===new H(new Uint16Array([1]).buffer)[0]}),Et=!!H&&!!H[q].set&&a(function(){new H(1).set({})}),kt=function(t,e){var r=d(t);if(r<0||r%e)throw G("Wrong offset!");return r},Ot=function(t){if(y(t)&&xt in t)return t;throw U(t+" is not a typed array!")},_t=function(t,e){if(!(y(t)&&vt in t))throw U("It is not a typed array constructor!");return new t(e)},Pt=function(t,e){return Mt(P(t,t[yt]),e)},Mt=function(t,e){for(var r=0,n=e.length,i=_t(t,n);n>r;)i[r]=e[r++];return i},Dt=function(t,e,r){j(t,e,{get:function(){return this._d[r]}})},Rt=function(t){var e,r,n,i,a,o,s=b(t),l=arguments.length,c=l>1?arguments[1]:void 0,h=void 0!==c,g=T(s);if(void 0!=g&&!x(g)){for(o=g.call(s),n=[],e=0;!(a=o.next()).done;e++)n.push(a.value);s=n}for(h&&l>2&&(c=u(c,arguments[2],2)),e=0,r=f(s.length),i=_t(this,r);r>e;e++)i[e]=h?c(s[e],e):s[e];return i},Lt=function(){for(var t=0,e=arguments.length,r=_t(this,e);e>t;)r[t]=arguments[t++];return r},zt=!!H&&a(function(){Ct.call(new H(1))}),Ft=function(){return Ct.apply(zt?ft.call(Ot(this)):Ot(this),arguments)},Bt={copyWithin:function(t,e){return F.call(Ot(this),t,e,arguments.length>2?arguments[2]:void 0)},every:function(t){return rt(Ot(this),t,arguments.length>1?arguments[1]:void 0)},fill:function(t){return z.apply(Ot(this),arguments)},filter:function(t){return Pt(this,tt(Ot(this),t,arguments.length>1?arguments[1]:void 0))},find:function(t){return nt(Ot(this),t,arguments.length>1?arguments[1]:void 0)},findIndex:function(t){return it(Ot(this),t,arguments.length>1?arguments[1]:void 0)},forEach:function(t){$(Ot(this),t,arguments.length>1?arguments[1]:void 0)},indexOf:function(t){return ot(Ot(this),t,arguments.length>1?arguments[1]:void 0)},includes:function(t){return at(Ot(this),t,arguments.length>1?arguments[1]:void 0)},join:function(t){return pt.apply(Ot(this),arguments)},lastIndexOf:function(t){return ct.apply(Ot(this),arguments)},map:function(t){return St(Ot(this),t,arguments.length>1?arguments[1]:void 0)},reduce:function(t){return ht.apply(Ot(this),arguments)},reduceRight:function(t){return gt.apply(Ot(this),arguments)},reverse:function(){for(var t,e=this,r=Ot(e).length,n=Math.floor(r/2),i=0;i<n;)t=e[i],e[i++]=e[--r],e[r]=t;return e},some:function(t){return et(Ot(this),t,arguments.length>1?arguments[1]:void 0)},sort:function(t){return dt.call(Ot(this),t)},subarray:function(t,e){var r=Ot(this),n=r.length,i=C(t,n);return new(P(r,r[yt]))(r.buffer,r.byteOffset+i*r.BYTES_PER_ELEMENT,f((void 0===e?n:C(e,n))-i))}},Vt=function(t,e){return Pt(this,ft.call(Ot(this),t,e))},jt=function(t){Ot(this);var e=kt(arguments[1],1),r=this.length,n=b(t),i=f(n.length),a=0;if(i+e>r)throw G(Nt);for(;a<i;)this[e+a]=n[a++]},Wt={entries:function(){return ut.call(Ot(this))},keys:function(){return lt.call(Ot(this))},values:function(){return st.call(Ot(this))}},Gt=function(t,e){return y(t)&&t[xt]&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},Ut=function(t,e){return Gt(t,e=m(e,!0))?h(2,t[e]):W(t,e)},Ht=function(t,e,r){return!(Gt(t,e=m(e,!0))&&y(r)&&I(r,"value"))||I(r,"get")||I(r,"set")||r.configurable||I(r,"writable")&&!r.writable||I(r,"enumerable")&&!r.enumerable?j(t,e,r):(t[e]=r.value,t)};bt||(V.f=Ut,B.f=Ht),o(o.S+o.F*!bt,"Object",{getOwnPropertyDescriptor:Ut,defineProperty:Ht}),a(function(){At.call({})})&&(At=Ct=function(){return pt.call(this)});var Yt=p({},Bt);p(Yt,Wt),g(Yt,mt,Wt.values),p(Yt,{slice:Vt,set:jt,constructor:function(){},toString:At,toLocaleString:Ft}),Dt(Yt,"buffer","b"),Dt(Yt,"byteOffset","o"),Dt(Yt,"byteLength","l"),Dt(Yt,"length","e"),j(Yt,It,{get:function(){return this[xt]}}),t.exports=function(t,e,r,l){l=!!l;var u=t+(l?"Clamped":"")+"Array",h="get"+t,p="set"+t,d=i[u],C=d||{},m=d&&N(d),I=!d||!s.ABV,b={},x=d&&d[q],T=function(t,r){var n=t._d;return n.v[h](r*e+n.o,Tt)},E=function(t,r,n){var i=t._d;l&&(n=(n=Math.round(n))<0?0:n>255?255:255&n),i.v[p](r*e+i.o,n,Tt)},k=function(t,e){j(t,e,{get:function(){return T(this,e)},set:function(t){return E(this,e,t)},enumerable:!0})};I?(d=r(function(t,r,n,i){c(t,d,u,"_d");var a,o,s,l,h=0,p=0;if(y(r)){if(!(r instanceof J||(l=v(r))==Y||l==Z))return xt in r?Mt(d,r):Rt.call(d,r);a=r,p=kt(n,e);var C=r.byteLength;if(void 0===i){if(C%e)throw G(Nt);if(o=C-p,o<0)throw G(Nt)}else if(o=f(i)*e,o+p>C)throw G(Nt);s=o/e}else s=A(r),o=s*e,a=new J(o);for(g(t,"_d",{b:a,o:p,l:o,e:s,v:new Q(a)});h<s;)k(t,h++)}),x=d[q]=w(Yt),g(x,"constructor",d)):a(function(){d(1)})&&a(function(){new d(-1)})&&R(function(t){new d,new d(null),new d(1.5),new d(t)},!0)||(d=r(function(t,r,n,i){c(t,d,u);var a;return y(r)?r instanceof J||(a=v(r))==Y||a==Z?void 0!==i?new C(r,kt(n,e),i):void 0!==n?new C(r,kt(n,e)):new C(r):xt in r?Mt(d,r):Rt.call(d,r):new C(A(r))}),$(m!==Function.prototype?S(C).concat(S(m)):S(C),function(t){t in d||g(d,t,C[t])}),d[q]=x,n||(x.constructor=d));var O=x[mt],_=!!O&&("values"==O.name||void 0==O.name),P=Wt.values;g(d,vt,!0),g(x,xt,u),g(x,wt,!0),g(x,yt,d),(l?new d(1)[It]==u:It in x)||j(x,It,{get:function(){return u}}),b[u]=d,o(o.G+o.W+o.F*(d!=C),b),o(o.S,u,{BYTES_PER_ELEMENT:e}),o(o.S+o.F*a(function(){C.of.call(d,1)}),u,{from:Rt,of:Lt}),X in x||g(x,X,e),o(o.P,u,Bt),L(u),o(o.P+o.F*Et,u,{set:jt}),o(o.P+o.F*!_,u,Wt),n||x.toString==At||(x.toString=At),o(o.P+o.F*a(function(){new d(1).slice()}),u,{slice:Vt}),o(o.P+o.F*(a(function(){return[1,2].toLocaleString()!=new d([1,2]).toLocaleString()})||!a(function(){x.toLocaleString.call([1,2])})),u,{toLocaleString:Ft}),D[u]=_?O:P,n||_||g(x,mt,P)}}else t.exports=function(){}},function(t,e,r){r(1013)("Uint8",1,function(t){return function(e,r,n){return t(this,e,r,n)}})},function(t,e,r){r(1013)("Uint8",1,function(t){return function(e,r,n){return t(this,e,r,n)}},!0)},function(t,e,r){r(1013)("Int16",2,function(t){return function(e,r,n){return t(this,e,r,n)}})},function(t,e,r){r(1013)("Uint16",2,function(t){return function(e,r,n){return t(this,e,r,n)}})},function(t,e,r){r(1013)("Int32",4,function(t){return function(e,r,n){return t(this,e,r,n)}})},function(t,e,r){r(1013)("Uint32",4,function(t){return function(e,r,n){return t(this,e,r,n)}})},function(t,e,r){r(1013)("Float32",4,function(t){return function(e,r,n){return t(this,e,r,n)}})},function(t,e,r){r(1013)("Float64",8,function(t){return function(e,r,n){return t(this,e,r,n)}})},function(t,e,r){var n=r(786),i=r(802),a=r(790),o=(r(782).Reflect||{}).apply,s=Function.apply;n(n.S+n.F*!r(785)(function(){o(function(){})}),"Reflect",{apply:function(t,e,r){var n=i(t),l=a(r);return o?o(n,e,l):s.call(n,e,l)}})},function(t,e,r){var n=r(786),i=r(824),a=r(802),o=r(790),s=r(791),l=r(785),u=r(855),c=(r(782).Reflect||{}).construct,h=l(function(){function t(){}return!(c(function(){},[],t)instanceof t)}),g=!l(function(){c(function(){})});n(n.S+n.F*(h||g),"Reflect",{construct:function(t,e){a(t),o(e);var r=arguments.length<3?t:a(arguments[2]);if(g&&!h)return c(t,e,r);if(t==r){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var n=[null];return n.push.apply(n,e),new(u.apply(t,n))}var l=r.prototype,p=i(s(l)?l:Object.prototype),d=Function.apply.call(t,p,e);return s(d)?d:p}})},function(t,e,r){var n=r(789),i=r(786),a=r(790),o=r(794);i(i.S+i.F*r(785)(function(){Reflect.defineProperty(n.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(t,e,r){a(t),e=o(e,!0),a(r);try{return n.f(t,e,r),!0}catch(t){return!1}}})},function(t,e,r){var n=r(786),i=r(829).f,a=r(790);n(n.S,"Reflect",{deleteProperty:function(t,e){var r=i(a(t),e);return!(r&&!r.configurable)&&delete t[e]}})},function(t,e,r){"use strict";var n=r(786),i=r(790),a=function(t){this._t=i(t),this._i=0;var e,r=this._k=[];for(e in t)r.push(e)};r(909)(a,"Object",function(){var t,e=this,r=e._k;do if(e._i>=r.length)return{
value:void 0,done:!0};while(!((t=r[e._i++])in e._t));return{value:t,done:!1}}),n(n.S,"Reflect",{enumerate:function(t){return new a(t)}})},function(t,e,r){function n(t,e){var r,s,c=arguments.length<3?t:arguments[2];return u(t)===c?t[e]:(r=i.f(t,e))?o(r,"value")?r.value:void 0!==r.get?r.get.call(c):void 0:l(s=a(t))?n(s,e,c):void 0}var i=r(829),a=r(837),o=r(783),s=r(786),l=r(791),u=r(790);s(s.S,"Reflect",{get:n})},function(t,e,r){var n=r(829),i=r(786),a=r(790);i(i.S,"Reflect",{getOwnPropertyDescriptor:function(t,e){return n.f(a(t),e)}})},function(t,e,r){var n=r(786),i=r(837),a=r(790);n(n.S,"Reflect",{getPrototypeOf:function(t){return i(a(t))}})},function(t,e,r){var n=r(786);n(n.S,"Reflect",{has:function(t,e){return e in t}})},function(t,e,r){var n=r(786),i=r(790),a=Object.isExtensible;n(n.S,"Reflect",{isExtensible:function(t){return i(t),!a||a(t)}})},function(t,e,r){var n=r(786);n(n.S,"Reflect",{ownKeys:r(1033)})},function(t,e,r){var n=r(828),i=r(821),a=r(790),o=r(782).Reflect;t.exports=o&&o.ownKeys||function(t){var e=n.f(a(t)),r=i.f;return r?e.concat(r(t)):e}},function(t,e,r){var n=r(786),i=r(790),a=Object.preventExtensions;n(n.S,"Reflect",{preventExtensions:function(t){i(t);try{return a&&a(t),!0}catch(t){return!1}}})},function(t,e,r){function n(t,e,r){var l,g,p=arguments.length<4?t:arguments[3],d=a.f(c(t),e);if(!d){if(h(g=o(t)))return n(g,e,r,p);d=u(0)}if(s(d,"value")){if(d.writable===!1||!h(p))return!1;if(l=a.f(p,e)){if(l.get||l.set||l.writable===!1)return!1;l.value=r,i.f(p,e,l)}else i.f(p,e,u(0,r));return!0}return void 0!==d.set&&(d.set.call(p,r),!0)}var i=r(789),a=r(829),o=r(837),s=r(783),l=r(786),u=r(795),c=r(790),h=r(791);l(l.S,"Reflect",{set:n})},function(t,e,r){var n=r(786),i=r(851);i&&n(n.S,"Reflect",{setPrototypeOf:function(t,e){i.check(t,e);try{return i.set(t,e),!0}catch(t){return!1}}})},function(t,e,r){r(1038),t.exports=r(787).Array.includes},function(t,e,r){"use strict";var n=r(786),i=r(815)(!0);n(n.P,"Array",{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),r(966)("includes")},function(t,e,r){r(1040),t.exports=r(787).String.padStart},function(t,e,r){"use strict";var n=r(786),i=r(1041),a=r(996),o=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(a);n(n.P+n.F*o,"String",{padStart:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0,!0)}})},function(t,e,r){var n=r(816),i=r(869),a=r(814);t.exports=function(t,e,r,o){var s=String(a(t)),l=s.length,u=void 0===r?" ":String(r),c=n(e);if(c<=l||""==u)return s;var h=c-l,g=i.call(u,Math.ceil(h/u.length));return g.length>h&&(g=g.slice(0,h)),o?g+s:s+g}},function(t,e,r){r(1043),t.exports=r(787).String.padEnd},function(t,e,r){"use strict";var n=r(786),i=r(1041),a=r(996),o=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(a);n(n.P+n.F*o,"String",{padEnd:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0,!1)}})},function(t,e,r){r(1045),t.exports=r(806).f("asyncIterator")},function(t,e,r){r(807)("asyncIterator")},function(t,e,r){r(1047),t.exports=r(787).Object.getOwnPropertyDescriptors},function(t,e,r){var n=r(786),i=r(1033),a=r(811),o=r(829),s=r(943);n(n.S,"Object",{getOwnPropertyDescriptors:function(t){for(var e,r,n=a(t),l=o.f,u=i(n),c={},h=0;u.length>h;)r=l(n,e=u[h++]),void 0!==r&&s(c,e,r);return c}})},function(t,e,r){r(1049),t.exports=r(787).Object.values},function(t,e,r){var n=r(786),i=r(1050)(!1);n(n.S,"Object",{values:function(t){return i(t)}})},function(t,e,r){var n=r(809),i=r(811),a=r(822).f;t.exports=function(t){return function(e){for(var r,o=i(e),s=n(o),l=s.length,u=0,c=[];l>u;)a.call(o,r=s[u++])&&c.push(t?[r,o[r]]:o[r]);return c}}},function(t,e,r){r(1052),t.exports=r(787).Object.entries},function(t,e,r){var n=r(786),i=r(1050)(!0);n(n.S,"Object",{entries:function(t){return i(t)}})},function(t,e,r){"use strict";r(989),r(1054),t.exports=r(787).Promise.finally},function(t,e,r){"use strict";var n=r(786),i=r(787),a=r(782),o=r(988),s=r(997);n(n.P+n.R,"Promise",{finally:function(t){var e=o(this,i.Promise||a.Promise),r="function"==typeof t;return this.then(r?function(r){return s(e,t()).then(function(){return r})}:t,r?function(r){return s(e,t()).then(function(){throw r})}:t)}})},function(t,e,r){r(1056),r(1057),r(1058),t.exports=r(787)},function(t,e,r){var n=r(782),i=r(786),a=r(996),o=[].slice,s=/MSIE .\./.test(a),l=function(t){return function(e,r){var n=arguments.length>2,i=!!n&&o.call(arguments,2);return t(n?function(){("function"==typeof e?e:Function(e)).apply(this,i)}:e,r)}};i(i.G+i.B+i.F*s,{setTimeout:l(n.setTimeout),setInterval:l(n.setInterval)})},function(t,e,r){var n=r(786),i=r(992);n(n.G+n.B,{setImmediate:i.set,clearImmediate:i.clear})},function(t,e,r){for(var n=r(973),i=r(809),a=r(796),o=r(782),s=r(788),l=r(908),u=r(805),c=u("iterator"),h=u("toStringTag"),g=l.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},d=i(p),f=0;f<d.length;f++){var A,C=d[f],m=p[C],I=o[C],v=I&&I.prototype;if(v&&(v[c]||s(v,c,g),v[h]||s(v,h,C),l[C]=g,m))for(A in n)v[A]||a(v,A,n[A],!0)}},function(t,e){!function(e){"use strict";function r(t,e,r,n){var a=e&&e.prototype instanceof i?e:i,o=Object.create(a.prototype),s=new p(n||[]);return o._invoke=u(t,r,s),o}function n(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}function i(){}function a(){}function o(){}function s(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function l(t){function e(r,i,a,o){var s=n(t[r],t,i);if("throw"!==s.type){var l=s.arg,u=l.value;return u&&"object"==typeof u&&m.call(u,"__await")?Promise.resolve(u.__await).then(function(t){e("next",t,a,o)},function(t){e("throw",t,a,o)}):Promise.resolve(u).then(function(t){l.value=t,a(l)},function(t){return e("throw",t,a,o)})}o(s.arg)}function r(t,r){function n(){return new Promise(function(n,i){e(t,r,n,i)})}return i=i?i.then(n,n):n()}var i;this._invoke=r}function u(t,e,r){var i=N;return function(a,o){if(i===T)throw new Error("Generator is already running");if(i===E){if("throw"===a)throw o;return f()}for(r.method=a,r.arg=o;;){var s=r.delegate;if(s){var l=c(s,r);if(l){if(l===k)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===N)throw i=E,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=T;var u=n(t,e,r);if("normal"===u.type){if(i=r.done?E:S,u.arg===k)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(i=E,r.method="throw",r.arg=u.arg)}}}function c(t,e){var r=t.iterator[e.method];if(r===A){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=A,c(t,e),"throw"===e.method))return k;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return k}var i=n(r,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,k;var a=i.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=A),e.delegate=null,k):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,k)}function h(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function g(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function p(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(h,this),this.reset(!0)}function d(t){if(t){var e=t[v];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,n=function e(){for(;++r<t.length;)if(m.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=A,e.done=!0,e};return n.next=n}}return{next:f}}function f(){return{value:A,done:!0}}var A,C=Object.prototype,m=C.hasOwnProperty,I="function"==typeof Symbol?Symbol:{},v=I.iterator||"@@iterator",y=I.asyncIterator||"@@asyncIterator",b=I.toStringTag||"@@toStringTag",x="object"==typeof t,w=e.regeneratorRuntime;if(w)return void(x&&(t.exports=w));w=e.regeneratorRuntime=x?t.exports:{},w.wrap=r;var N="suspendedStart",S="suspendedYield",T="executing",E="completed",k={},O={};O[v]=function(){return this};var _=Object.getPrototypeOf,P=_&&_(_(d([])));P&&P!==C&&m.call(P,v)&&(O=P);var M=o.prototype=i.prototype=Object.create(O);a.prototype=M.constructor=o,o.constructor=a,o[b]=a.displayName="GeneratorFunction",w.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===a||"GeneratorFunction"===(e.displayName||e.name))},w.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,o):(t.__proto__=o,b in t||(t[b]="GeneratorFunction")),t.prototype=Object.create(M),t},w.awrap=function(t){return{__await:t}},s(l.prototype),l.prototype[y]=function(){return this},w.AsyncIterator=l,w.async=function(t,e,n,i){var a=new l(r(t,e,n,i));return w.isGeneratorFunction(e)?a:a.next().then(function(t){return t.done?t.value:a.next()})},s(M),M[b]="Generator",M[v]=function(){return this},M.toString=function(){return"[object Generator]"},w.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},w.values=d,p.prototype={constructor:p,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=A,this.done=!1,this.delegate=null,this.method="next",this.arg=A,this.tryEntries.forEach(g),!t)for(var e in this)"t"===e.charAt(0)&&m.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=A)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){function e(e,n){return a.type="throw",a.arg=t,r.next=e,n&&(r.method="next",r.arg=A),!!n}if(this.done)throw t;for(var r=this,n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n],a=i.completion;if("root"===i.tryLoc)return e("end");if(i.tryLoc<=this.prev){var o=m.call(i,"catchLoc"),s=m.call(i,"finallyLoc");if(o&&s){if(this.prev<i.catchLoc)return e(i.catchLoc,!0);if(this.prev<i.finallyLoc)return e(i.finallyLoc)}else if(o){if(this.prev<i.catchLoc)return e(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return e(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&m.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,k):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),k},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),g(r),k}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;g(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:d(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=A),k}}}(function(){return this||"object"==typeof self&&self}()||Function("return this")())},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;(function(module){"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};/*!
	 * @skatejs/web-components v1.0.0 - https://github.com/skatejs/web-components#readme
	 * MIT Licensed
	 */
!function(t,e){if("object"===_typeof(exports)&&"object"===_typeof(module))module.exports=e();else{__WEBPACK_AMD_DEFINE_ARRAY__=[],__WEBPACK_AMD_DEFINE_FACTORY__=e,__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__,!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}}(void 0,function(){return function(t){function e(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var r={};return e.m=t,e.c=r,e.i=function(t){return t},e.d=function(t,r,n){e.o(t,r)||Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=42)}([function(t,e,r){var n=r(2),i=r(31),a="function"==typeof Symbol&&"symbol"===_typeof(Symbol()),o=Object.prototype.toString,s=function(t){return"function"==typeof t&&"[object Function]"===o.call(t)},l=function(){var t={};try{Object.defineProperty(t,"x",{enumerable:!1,value:t});for(var e in t)return!1;return t.x===t}catch(t){return!1}},u=Object.defineProperty&&l(),c=function(t,e,r,n){(!(e in t)||s(n)&&n())&&(u?Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:r,writable:!0}):t[e]=r)},h=function(t,e){var r=arguments.length>2?arguments[2]:{},o=n(e);a&&(o=o.concat(Object.getOwnPropertySymbols(e))),i(o,function(n){c(t,n,e[n],r[n])})};h.supportsDescriptors=!!u,t.exports=h},function(t,e,r){var n=Function.prototype.toString,i=/^\s*class /,a=function(t){try{var e=n.call(t),r=e.replace(/\/\/.*\n/g,""),a=r.replace(/\/\*[.\s\S]*\*\//g,""),o=a.replace(/\n/gm," ").replace(/ {2}/g," ");return i.test(o)}catch(t){return!1}},o=function(t){try{return!a(t)&&(n.call(t),!0)}catch(t){return!1}},s=Object.prototype.toString,l="[object Function]",u="[object GeneratorFunction]",c="function"==typeof Symbol&&"symbol"===_typeof(Symbol.toStringTag);t.exports=function(t){if(!t)return!1;if("function"!=typeof t&&"object"!==("undefined"==typeof t?"undefined":_typeof(t)))return!1;if(c)return o(t);if(a(t))return!1;var e=s.call(t);return e===l||e===u}},function(t,e,r){var n=Object.prototype.hasOwnProperty,i=Object.prototype.toString,a=Array.prototype.slice,o=r(36),s=Object.prototype.propertyIsEnumerable,l=!s.call({toString:null},"toString"),u=s.call(function(){},"prototype"),c=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],h=function(t){var e=t.constructor;return e&&e.prototype===t},g={$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},p=function(){if("undefined"==typeof window)return!1;for(var t in window)try{if(!g["$"+t]&&n.call(window,t)&&null!==window[t]&&"object"===_typeof(window[t]))try{h(window[t])}catch(t){return!0}}catch(t){return!0}return!1}(),d=function(t){if("undefined"==typeof window||!p)return h(t);try{return h(t)}catch(t){return!1}},f=function(t){var e=null!==t&&"object"===("undefined"==typeof t?"undefined":_typeof(t)),r="[object Function]"===i.call(t),a=o(t),s=e&&"[object String]"===i.call(t),h=[];if(!e&&!r&&!a)throw new TypeError("Object.keys called on a non-object");var g=u&&r;if(s&&t.length>0&&!n.call(t,0))for(var p=0;p<t.length;++p)h.push(String(p));if(a&&t.length>0)for(var f=0;f<t.length;++f)h.push(String(f));else for(var A in t)g&&"prototype"===A||!n.call(t,A)||h.push(String(A));if(l)for(var C=d(t),m=0;m<c.length;++m)C&&"constructor"===c[m]||!n.call(t,c[m])||h.push(c[m]);return h};f.shim=function(){if(Object.keys){var t=function(){return 2===(Object.keys(arguments)||"").length}(1,2);if(!t){var e=Object.keys;Object.keys=function(t){return e(o(t)?a.call(t):t)}}}else Object.keys=f;return Object.keys||f},t.exports=f},function(t,e,r){var n=r(5),i=r(0).supportsDescriptors;/*! https://mths.be/array-from v0.2.0 by @mathias */
t.exports=function(t){var e=i?Object.defineProperty:function(t,e,r){t[e]=r.value},r=this;if(null===t||"undefined"==typeof t)throw new TypeError("`Array.from` requires an array-like object, not `null` or `undefined`");var a,o,s=n.ToObject(t);if("undefined"!=typeof arguments[1]){if(a=arguments[1],!n.IsCallable(a))throw new TypeError("When provided, the second argument to `Array.from` must be a function");arguments.length>2&&(o=arguments[2])}for(var l,u,c=n.ToLength(s.length),h=n.IsCallable(r)?n.ToObject(new r(c)):new Array(c),g=0;g<c;)l=s[g],u=a?"undefined"==typeof o?a(l,g):n.Call(a,o,[l,g]):l,e(h,g,{configurable:!0,enumerable:!0,value:u,writable:!0}),g+=1;return h.length=c,h}},function(t,e,r){var n=r(5),i=r(3),a=function(t){try{return t(),!0}catch(t){return!1}};t.exports=function(){var t=n.IsCallable(Array.from)&&a(function(){Array.from({length:-(1/0)})})&&!a(function(){Array.from([],void 0)});return t?Array.from:i}},function(t,e,r){var n=Object.prototype.toString,i="function"==typeof Symbol&&"symbol"===_typeof(Symbol.iterator),a=i?Symbol.prototype.toString:n,o=r(7),s=r(6),l=Number.MAX_SAFE_INTEGER||Math.pow(2,53)-1,u=r(26),c=r(9),h=r(8),g=r(27),p=r(29),d=parseInt,f=r(11),A=f.call(Function.call,String.prototype.slice),C=f.call(Function.call,RegExp.prototype.test,/^0b[01]+$/i),m=f.call(Function.call,RegExp.prototype.test,/^0o[0-7]+$/i),I=["","",""].join(""),v=new RegExp("["+I+"]","g"),y=f.call(Function.call,RegExp.prototype.test,v),b=/^[\-\+]0x[0-9a-f]+$/i,x=f.call(Function.call,RegExp.prototype.test,b),w=["\t\n\v\f\r ","\u2028","\u2029\ufeff"].join(""),N=new RegExp("(^["+w+"]+)|(["+w+"]+$)","g"),S=f.call(Function.call,String.prototype.replace),T=function(t){return S(t,N,"")},E=r(25),k=r(34),O=u(u({},E),{Call:function(t,e){var r=arguments.length>2?arguments[2]:[];if(!this.IsCallable(t))throw new TypeError(t+" is not a function");return t.apply(e,r)},ToPrimitive:p,ToNumber:function(t){var e=g(t)?t:p(t,"number");if("symbol"===("undefined"==typeof e?"undefined":_typeof(e)))throw new TypeError("Cannot convert a Symbol value to a number");if("string"==typeof e){if(C(e))return this.ToNumber(d(A(e,2),2));if(m(e))return this.ToNumber(d(A(e,2),8));if(y(e)||x(e))return NaN;var r=T(e);if(r!==e)return this.ToNumber(r)}return Number(e)},ToInt16:function(t){var e=this.ToUint16(t);return e>=32768?e-65536:e},ToInt8:function(t){var e=this.ToUint8(t);return e>=128?e-256:e},ToUint8:function(t){var e=this.ToNumber(t);if(o(e)||0===e||!s(e))return 0;var r=c(e)*Math.floor(Math.abs(e));return h(r,256)},ToUint8Clamp:function(t){var e=this.ToNumber(t);if(o(e)||e<=0)return 0;if(e>=255)return 255;var r=Math.floor(t);return r+.5<e?r+1:e<r+.5?r:r%2!==0?r+1:r},ToString:function(t){if("symbol"===("undefined"==typeof t?"undefined":_typeof(t)))throw new TypeError("Cannot convert a Symbol value to a string");return String(t)},ToObject:function(t){return this.RequireObjectCoercible(t),Object(t)},ToPropertyKey:function(t){var e=this.ToPrimitive(t,String);return"symbol"===("undefined"==typeof e?"undefined":_typeof(e))?a.call(e):this.ToString(e)},ToLength:function(t){var e=this.ToInteger(t);return e<=0?0:e>l?l:e},CanonicalNumericIndexString:function(t){if("[object String]"!==n.call(t))throw new TypeError("must be a string");if("-0"===t)return-0;var e=this.ToNumber(t);return this.SameValue(this.ToString(e),t)?e:void 0},RequireObjectCoercible:E.CheckObjectCoercible,IsArray:Array.isArray||function(t){return"[object Array]"===n.call(t)},IsConstructor:function(t){return"function"==typeof t&&!!t.prototype},IsExtensible:function(t){return!Object.preventExtensions||!g(t)&&Object.isExtensible(t)},IsInteger:function(t){if("number"!=typeof t||o(t)||!s(t))return!1;var e=Math.abs(t);return Math.floor(e)===e},IsPropertyKey:function(t){return"string"==typeof t||"symbol"===("undefined"==typeof t?"undefined":_typeof(t))},IsRegExp:function(t){if(!t||"object"!==("undefined"==typeof t?"undefined":_typeof(t)))return!1;if(i){var e=t[Symbol.match];if("undefined"!=typeof e)return E.ToBoolean(e)}return k(t)},SameValueZero:function(t,e){return t===e||o(t)&&o(e)},Type:function(t){return"symbol"===("undefined"==typeof t?"undefined":_typeof(t))?"Symbol":E.Type(t)},SpeciesConstructor:function(t,e){if("Object"!==this.Type(t))throw new TypeError("Assertion failed: Type(O) is not Object");var r=t.constructor;if("undefined"==typeof r)return e;if("Object"!==this.Type(r))throw new TypeError("O.constructor is not an Object");var n=i&&Symbol.species?r[Symbol.species]:void 0;if(null==n)return e;if(this.IsConstructor(n))return n;throw new TypeError("no constructor found")}});delete O.CheckObjectCoercible,t.exports=O},function(t,e){var r=Number.isNaN||function(t){return t!==t};t.exports=Number.isFinite||function(t){return"number"==typeof t&&!r(t)&&t!==1/0&&t!==-(1/0)}},function(t,e){t.exports=Number.isNaN||function(t){return t!==t}},function(t,e){t.exports=function(t,e){var r=t%e;return Math.floor(r>=0?r:r+e)}},function(t,e){t.exports=function(t){return t>=0?1:-1}},function(t,e){t.exports=function(t){return null===t||"function"!=typeof t&&"object"!==("undefined"==typeof t?"undefined":_typeof(t))}},function(t,e,r){var n=r(32);t.exports=Function.prototype.bind||n},function(t,e,r){var n=r(2),i=r(11),a=function(t){return"undefined"!=typeof t&&null!==t},o=r(37)(),s=Object,l=i.call(Function.call,Array.prototype.push),u=i.call(Function.call,Object.prototype.propertyIsEnumerable),c=o?Object.getOwnPropertySymbols:null;t.exports=function(t,e){if(!a(t))throw new TypeError("target must be an object");var r,i,h,g,p,d,f,A=s(t);for(r=1;r<arguments.length;++r){i=s(arguments[r]),g=n(i);var C=o&&(Object.getOwnPropertySymbols||c);if(C)for(p=C(i),h=0;h<p.length;++h)f=p[h],u(i,f)&&l(g,f);for(h=0;h<g.length;++h)f=g[h],d=i[f],u(i,f)&&(A[f]=d)}return A}},function(t,e,r){var n=r(12),i=function(){if(!Object.assign)return!1;for(var t="abcdefghijklmnopqrst",e=t.split(""),r={},n=0;n<e.length;++n)r[e[n]]=e[n];var i=Object.assign({},r),a="";for(var o in i)a+=o;return t!==a},a=function(){if(!Object.assign||!Object.preventExtensions)return!1;var t=Object.preventExtensions({1:2});try{Object.assign(t,"xy")}catch(e){return"y"===t[1]}return!1};t.exports=function(){return Object.assign?i()?n:a()?n:Object.assign:n}},function(t,e){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(t){"object"===("undefined"==typeof window?"undefined":_typeof(window))&&(r=window)}t.exports=r},function(t,e,r){r(21).shim(),r(38).shim(),r(30).polyfill(),r(23),r(20),r(16);var n=window,i=n.navigator,a=i.userAgent,o=a.indexOf("Safari/60")!==-1;o&&a.match(/Version\/([^\s]+)/)[1],[0,1].map(function(t){return"10.0."+t}).concat(["10.0"]);r(24),r(19),r(17),r(18)},function(t,e,r){(function(){!function(){function t(t){function r(e,r){Object.defineProperty(e,"innerHTML",{enumerable:r.enumerable,configurable:!0,get:r.get,set:function(e){var n=this,i=void 0;if(h(this)&&(i=[],p(this,function(t){t!==n&&i.push(t)})),r.set.call(this,e),i)for(var a=0;a<i.length;a++){var o=i[a];1===o.__CE_state&&t.disconnectedCallback(o)}return this.ownerDocument.__CE_hasRegistry?t.f(this):t.l(this),e}})}function n(e,r){d(e,"insertAdjacentElement",function(e,n){var i=h(n);return e=r.call(this,e,n),i&&t.a(n),h(e)&&t.b(n),e})}if(k&&d(Element.prototype,"attachShadow",function(t){return this.__CE_shadowRoot=t=k.call(this,t)}),O&&O.get)r(Element.prototype,O);else if(H&&H.get)r(HTMLElement.prototype,H);else{var a=A.call(document,"div");t.u(function(t){r(t,{enumerable:!0,configurable:!0,get:function(){return x.call(this,!0).innerHTML},set:function(t){var e="template"===this.localName?this.content:this;for(a.innerHTML=t;0<e.childNodes.length;)S.call(e,e.childNodes[0]);for(;0<a.childNodes.length;)w.call(e,a.childNodes[0])}})})}d(Element.prototype,"setAttribute",function(e,r){if(1!==this.__CE_state)return P.call(this,e,r);var n=_.call(this,e);P.call(this,e,r),r=_.call(this,e),t.attributeChangedCallback(this,e,n,r,null)}),d(Element.prototype,"setAttributeNS",function(e,r,n){if(1!==this.__CE_state)return R.call(this,e,r,n);var i=D.call(this,e,r);R.call(this,e,r,n),n=D.call(this,e,r),t.attributeChangedCallback(this,r,i,n,e)}),d(Element.prototype,"removeAttribute",function(e){if(1!==this.__CE_state)return M.call(this,e);var r=_.call(this,e);M.call(this,e),null!==r&&t.attributeChangedCallback(this,e,r,null,null)}),d(Element.prototype,"removeAttributeNS",function(e,r){if(1!==this.__CE_state)return L.call(this,e,r);var n=D.call(this,e,r);L.call(this,e,r);var i=D.call(this,e,r);n!==i&&t.attributeChangedCallback(this,r,n,i,e)}),Y?n(HTMLElement.prototype,Y):z?n(Element.prototype,z):console.warn("Custom Elements: `Element#insertAdjacentElement` was not patched."),i(t,Element.prototype,{s:F,append:B}),e(t,{w:V,I:j,replaceWith:W,remove:G})}function e(t,e){function r(e){return function(r){for(var n=[],i=0;i<arguments.length;++i)n[i-0]=arguments[i];i=[];for(var a=[],o=0;o<n.length;o++){var s=n[o];if(s instanceof Element&&h(s)&&a.push(s),s instanceof DocumentFragment)for(s=s.firstChild;s;s=s.nextSibling)i.push(s);else i.push(s)}for(e.apply(this,n),n=0;n<a.length;n++)t.a(a[n]);if(h(this))for(n=0;n<i.length;n++)a=i[n],a instanceof Element&&t.b(a)}}var n=Element.prototype;void 0!==e.w&&(n.before=r(e.w)),void 0!==e.w&&(n.after=r(e.I)),void 0!==e.replaceWith&&d(n,"replaceWith",function(r){for(var n=[],i=0;i<arguments.length;++i)n[i-0]=arguments[i];i=[];for(var a=[],o=0;o<n.length;o++){var s=n[o];if(s instanceof Element&&h(s)&&a.push(s),s instanceof DocumentFragment)for(s=s.firstChild;s;s=s.nextSibling)i.push(s);else i.push(s)}for(o=h(this),e.replaceWith.apply(this,n),n=0;n<a.length;n++)t.a(a[n]);if(o)for(t.a(this),n=0;n<i.length;n++)a=i[n],a instanceof Element&&t.b(a)}),void 0!==e.remove&&d(n,"remove",function(){var r=h(this);e.remove.call(this),r&&t.a(this)})}function r(t){function e(e,r){Object.defineProperty(e,"textContent",{enumerable:r.enumerable,configurable:!0,get:r.get,set:function(e){if(this.nodeType===Node.TEXT_NODE)r.set.call(this,e);else{var n=void 0;if(this.firstChild){var i=this.childNodes,a=i.length;if(0<a&&h(this)){n=Array(a);for(var o=0;o<a;o++)n[o]=i[o]}}if(r.set.call(this,e),n)for(e=0;e<n.length;e++)t.a(n[e])}}})}d(Node.prototype,"insertBefore",function(e,r){if(e instanceof DocumentFragment){var n=Array.prototype.slice.apply(e.childNodes);if(e=N.call(this,e,r),h(this))for(r=0;r<n.length;r++)t.b(n[r]);return e}return n=h(e),r=N.call(this,e,r),n&&t.a(e),h(this)&&t.b(e),r}),d(Node.prototype,"appendChild",function(e){if(e instanceof DocumentFragment){var r=Array.prototype.slice.apply(e.childNodes);if(e=w.call(this,e),h(this))for(var n=0;n<r.length;n++)t.b(r[n]);return e}return r=h(e),n=w.call(this,e),r&&t.a(e),h(this)&&t.b(e),n}),d(Node.prototype,"cloneNode",function(e){return e=x.call(this,e),this.ownerDocument.__CE_hasRegistry?t.f(e):t.l(e),e}),d(Node.prototype,"removeChild",function(e){var r=h(e),n=S.call(this,e);return r&&t.a(e),n}),d(Node.prototype,"replaceChild",function(e,r){if(e instanceof DocumentFragment){var n=Array.prototype.slice.apply(e.childNodes);if(e=T.call(this,e,r),h(this))for(t.a(r),r=0;r<n.length;r++)t.b(n[r]);return e}n=h(e);var i=T.call(this,e,r),a=h(this);return a&&t.a(r),n&&t.a(e),a&&t.b(e),i}),E&&E.get?e(Node.prototype,E):t.u(function(t){e(t,{enumerable:!0,configurable:!0,get:function(){for(var t=[],e=0;e<this.childNodes.length;e++)t.push(this.childNodes[e].textContent);return t.join("")},set:function(t){for(;this.firstChild;)S.call(this,this.firstChild);w.call(this,document.createTextNode(t))}})})}function n(t){d(Document.prototype,"createElement",function(e){if(this.__CE_hasRegistry){var r=t.c(e);if(r)return new r.constructor}return e=A.call(this,e),t.g(e),e}),d(Document.prototype,"importNode",function(e,r){return e=m.call(this,e,r),this.__CE_hasRegistry?t.f(e):t.l(e),e}),d(Document.prototype,"createElementNS",function(e,r){if(this.__CE_hasRegistry&&(null===e||"http://www.w3.org/1999/xhtml"===e)){var n=t.c(r);if(n)return new n.constructor}return e=C.call(this,e,r),t.g(e),e}),i(t,Document.prototype,{s:I,append:v})}function i(t,e,r){function n(e){return function(r){for(var n=[],i=0;i<arguments.length;++i)n[i-0]=arguments[i];i=[];for(var a=[],o=0;o<n.length;o++){var s=n[o];if(s instanceof Element&&h(s)&&a.push(s),s instanceof DocumentFragment)for(s=s.firstChild;s;s=s.nextSibling)i.push(s);else i.push(s)}for(e.apply(this,n),n=0;n<a.length;n++)t.a(a[n]);if(h(this))for(n=0;n<i.length;n++)a=i[n],a instanceof Element&&t.b(a)}}void 0!==r.s&&(e.prepend=n(r.s)),void 0!==r.append&&(e.append=n(r.append))}function a(t){window.HTMLElement=function(){function e(){var e=this.constructor,r=t.K(e);if(!r)throw Error("The custom element being constructed was not registered with `customElements`.");var n=r.constructionStack;if(0===n.length)return n=A.call(document,r.localName),Object.setPrototypeOf(n,e.prototype),n.__CE_state=1,n.__CE_definition=r,t.g(n),n;r=n.length-1;var i=n[r];if(i===Z)throw Error("The HTMLElement constructor was either called reentrantly for this constructor or called multiple times.");return n[r]=Z,Object.setPrototypeOf(i,e.prototype),t.g(i),i}return e.prototype=U.prototype,e}()}function o(t){this.c=!1,this.a=t,this.h=new Map,this.f=function(t){return t()},this.b=!1,this.g=[],this.i=new l(t,document)}function s(){var t=this;this.b=this.a=void 0,this.f=new Promise(function(e){t.b=e,t.a&&e(t.a)})}function l(t,e){this.c=t,this.a=e,this.b=void 0,this.c.f(this.a),"loading"===this.a.readyState&&(this.b=new MutationObserver(this.g.bind(this)),this.b.observe(this.a,{childList:!0,subtree:!0}))}function u(){this.o=new Map,this.m=new Map,this.j=[],this.h=!1}function c(t){var e=f.has(t);return t=/^[a-z][.0-9_a-z]*-[\-.0-9_a-z]*$/.test(t),!e&&t}function h(t){var e=t.isConnected;if(void 0!==e)return e;for(;t&&!(t.__CE_isImportDocument||t instanceof Document);)t=t.parentNode||(window.ShadowRoot&&t instanceof ShadowRoot?t.host:void 0);return!(!t||!(t.__CE_isImportDocument||t instanceof Document))}function g(t,e){for(;e&&e!==t&&!e.nextSibling;)e=e.parentNode;return e&&e!==t?e.nextSibling:null}function p(t,e,r){r=r?r:new Set;for(var n=t;n;){if(n.nodeType===Node.ELEMENT_NODE){var i=n;e(i);var a=i.localName;if("link"===a&&"import"===i.getAttribute("rel")){if(n=i.import,n instanceof Node&&!r.has(n))for(r.add(n),n=n.firstChild;n;n=n.nextSibling)p(n,e,r);n=g(t,i);continue}if("template"===a){n=g(t,i);continue}if(i=i.__CE_shadowRoot)for(i=i.firstChild;i;i=i.nextSibling)p(i,e,r)}n=n.firstChild?n.firstChild:g(t,n)}}function d(t,e,r){t[e]=r}!function(t){function e(t,e){if("function"==typeof window.CustomEvent)return new CustomEvent(t,e);var r=document.createEvent("CustomEvent");return r.initCustomEvent(t,!!e.bubbles,!!e.cancelable,e.detail),r}function r(t){if(c)return t.ownerDocument!==document?t.ownerDocument:null;var e=t.__importDoc;if(!e&&t.parentNode){if(e=t.parentNode,"function"==typeof e.closest)e=e.closest("link[rel=import]");else for(;!s(e)&&(e=e.parentNode););t.__importDoc=e}return e}function n(t){var e=document.querySelectorAll("link[rel=import]:not(import-dependency)"),r=e.length;r?u(e,function(e){return o(e,function(){0===--r&&t()})}):t()}function i(t){function e(){"loading"!==document.readyState&&document.body&&(document.removeEventListener("readystatechange",e),t())}document.addEventListener("readystatechange",e),e()}function a(t){i(function(){return n(function(){return t&&t()})})}function o(t,e){if(t.__loaded)e&&e();else if("script"===t.localName&&!t.src||"style"===t.localName&&!t.firstChild)t.__loaded=!0,e&&e();else{var r=function r(n){t.removeEventListener(n.type,r),t.__loaded=!0,e&&e()};t.addEventListener("load",r),m&&"style"===t.localName||t.addEventListener("error",r)}}function s(t){return t.nodeType===Node.ELEMENT_NODE&&"link"===t.localName&&"import"===t.rel}function l(){var t=this;this.a={},this.b=0,this.f=new MutationObserver(function(e){return t.l(e)}),this.f.observe(document.head,{childList:!0,subtree:!0}),this.c(document)}function u(t,e,r){var n=t?t.length:0,i=r?-1:1;for(r=r?n-1:0;r<n&&0<=r;r+=i)e(t[r],r)}var c="import"in document.createElement("link"),h=null;!1=="currentScript"in document&&Object.defineProperty(document,"currentScript",{get:function(){return h||("complete"!==document.readyState?document.scripts[document.scripts.length-1]:null)},configurable:!0});var g=/(^\/)|(^#)|(^[\w-\d]*:)/,p=/(url\()([^)]*)(\))/g,d=/(@import[\s]+(?!url\())([^;]*)(;)/g,f=/(<link[^>]*)(rel=['|"]?stylesheet['|"]?[^>]*>)/g,A={J:function(t,e){if(t.href&&t.setAttribute("href",A.A(t.getAttribute("href"),e)),t.src&&t.setAttribute("src",A.A(t.getAttribute("src"),e)),"style"===t.localName){var r=A.D(t.textContent,e,p);t.textContent=A.D(r,e,d)}},D:function(t,e,r){return t.replace(r,function(t,r,n,i){return t=n.replace(/["']/g,""),e&&(t=A.F(t,e)),r+"'"+t+"'"+i})},A:function(t,e){return t&&g.test(t)?t:A.F(t,e)},F:function(t,e){if(void 0===A.v){A.v=!1;try{var r=new URL("b","http://a");r.pathname="c%20d",A.v="http://a/c%20d"===r.href}catch(t){}}return A.v?new URL(t,e).href:(r=A.H,r||(r=document.implementation.createHTMLDocument("temp"),A.H=r,r.C=r.createElement("base"),r.head.appendChild(r.C),r.B=r.createElement("a")),r.C.href=e,r.B.href=t,r.B.href||t)}},C={async:!0,load:function(t,e,r){if(t)if(t.match(/^data:/)){t=t.split(",");var n=t[1];n=-1<t[0].indexOf(";base64")?atob(n):decodeURIComponent(n),e(n)}else{var i=new XMLHttpRequest;i.open("GET",t,C.async),i.onload=function(){var t=i.responseURL||i.getResponseHeader("Location");t&&0===t.indexOf("/")&&(t=(location.origin||location.protocol+"//"+location.host)+t);var n=i.response||i.responseText;304===i.status||0===i.status||200<=i.status&&300>i.status?e(n,t):r(n)},i.send()}else r("error: href must be specified")}},m=/Trident/.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent);if(l.prototype.c=function(t){var e=this;u(t.querySelectorAll("link[rel=import]"),function(t){return e.h(t)})},l.prototype.h=function(t){var e=this,r=t.href;if(void 0!==this.a[r]){var n=this.a[r];n&&n.__loaded&&(t.import=n,this.g(t))}else this.b++,this.a[r]="pending",C.load(r,function(t,n){t=e.m(t,n||r),e.a[r]=t,e.b--,e.c(t),e.i()},function(){e.a[r]=null,e.b--,e.i()})},l.prototype.m=function(t,e){if(!t)return document.createDocumentFragment();m&&(t=t.replace(f,function(t,e,r){return-1===t.indexOf("type=")?e+" type=import-disable "+r:t}));var r=document.createElement("template");if(r.innerHTML=t,r.content)t=r.content;else for(t=document.createDocumentFragment();r.firstChild;)t.appendChild(r.firstChild);(r=t.querySelector("base"))&&(e=A.A(r.getAttribute("href"),e),r.removeAttribute("href"));var n=0;return u(t.querySelectorAll('link[rel=import], link[rel=stylesheet][href][type=import-disable],\n    style:not([type]), link[rel=stylesheet][href]:not([type]),\n    script:not([type]), script[type="application/javascript"],\n    script[type="text/javascript"]'),function(t){o(t),A.J(t,e),t.setAttribute("import-dependency",""),"script"===t.localName&&!t.src&&t.textContent&&(t.setAttribute("src","data:text/javascript;charset=utf-8,"+encodeURIComponent(t.textContent+("\n//# sourceURL="+e+(n?"-"+n:"")+".js\n"))),t.textContent="",n++)}),t},l.prototype.i=function(){var t=this;if(!this.b){this.f.disconnect(),this.flatten(document);var e=!1,r=!1,n=function(){r&&e&&(t.c(document),t.b||(t.f.observe(document.head,{childList:!0,subtree:!0}),t.j()))};this.u(function(){r=!0,n()}),this.o(function(){e=!0,n()})}},l.prototype.flatten=function(t){var e=this;u(t.querySelectorAll("link[rel=import]"),function(t){var r=e.a[t.href];(t.import=r)&&r.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&(e.a[t.href]=t,t.readyState="loading",t.import=t,e.flatten(r),t.appendChild(r))})},l.prototype.o=function(t){function e(i){if(i<n){var a=r[i],s=document.createElement("script");a.removeAttribute("import-dependency"),u(a.attributes,function(t){return s.setAttribute(t.name,t.value)}),h=s,a.parentNode.replaceChild(s,a),o(s,function(){h=null,e(i+1)})}else t()}var r=document.querySelectorAll("script[import-dependency]"),n=r.length;e(0)},l.prototype.u=function(t){var e=document.querySelectorAll("style[import-dependency],\n    link[rel=stylesheet][import-dependency]"),n=e.length;if(n){var i=m&&!!document.querySelector("link[rel=stylesheet][href][type=import-disable]");u(e,function(e){if(o(e,function(){e.removeAttribute("import-dependency"),0===--n&&t()}),i&&e.parentNode!==document.head){var a=document.createElement(e.localName);for(a.__appliedElement=e,a.setAttribute("type","import-placeholder"),e.parentNode.insertBefore(a,e.nextSibling),a=r(e);a&&r(a);)a=r(a);a.parentNode!==document.head&&(a=null),document.head.insertBefore(e,a),e.removeAttribute("type")}})}else t()},l.prototype.j=function(){var t=this;u(document.querySelectorAll("link[rel=import]"),function(e){return t.g(e)},!0)},l.prototype.g=function(t){t.__loaded||(t.__loaded=!0,t.import&&(t.import.readyState="complete"),t.dispatchEvent(e(t.import?"load":"error",{bubbles:!1,cancelable:!1,detail:void 0})))},l.prototype.l=function(t){var e=this;u(t,function(t){return u(t.addedNodes,function(t){t&&t.nodeType===Node.ELEMENT_NODE&&(s(t)?e.h(t):e.c(t))})})},c){u(document.querySelectorAll("link[rel=import]"),function(t){t.import&&"loading"===t.import.readyState||(t.__loaded=!0)});var I=function(t){t=t.target,s(t)&&(t.__loaded=!0)};document.addEventListener("load",I,!0),document.addEventListener("error",I,!0)}else{var v=Object.getOwnPropertyDescriptor(Node.prototype,"baseURI");Object.defineProperty((!v||v.configurable?Node:Element).prototype,"baseURI",{get:function(){var t=s(this)?this:r(this);return t?t.href:v&&v.get?v.get.call(this):(document.querySelector("base")||window.location).href},configurable:!0,enumerable:!0}),i(function(){return new l})}a(function(){return document.dispatchEvent(e("HTMLImportsLoaded",{cancelable:!0,bubbles:!0,detail:void 0}))}),t.useNative=c,t.whenReady=a,t.importForElement=r}(window.HTMLImports=window.HTMLImports||{});var f=new Set("annotation-xml color-profile font-face font-face-src font-face-uri font-face-format font-face-name missing-glyph".split(" "));u.prototype.L=function(t,e){this.o.set(t,e),this.m.set(e.constructor,e)},u.prototype.c=function(t){return this.o.get(t)},u.prototype.K=function(t){return this.m.get(t)},u.prototype.u=function(t){this.h=!0,this.j.push(t)},u.prototype.l=function(t){var e=this;this.h&&p(t,function(t){return e.g(t)})},u.prototype.g=function(t){if(this.h&&!t.__CE_patched){t.__CE_patched=!0;for(var e=0;e<this.j.length;e++)this.j[e](t)}},u.prototype.b=function(t){var e=[];for(p(t,function(t){return e.push(t)}),t=0;t<e.length;t++){var r=e[t];1===r.__CE_state?this.connectedCallback(r):this.i(r)}},u.prototype.a=function(t){var e=[];for(p(t,function(t){return e.push(t)}),t=0;t<e.length;t++){var r=e[t];1===r.__CE_state&&this.disconnectedCallback(r)}},u.prototype.f=function(t,e){var r=this;e=e?e:{};var n=e.M||new Set,i=e.G||function(t){return r.i(t)},a=[];if(p(t,function(t){if("link"===t.localName&&"import"===t.getAttribute("rel")){var e=t.import;e instanceof Node&&"complete"===e.readyState?(e.__CE_isImportDocument=!0,e.__CE_hasRegistry=!0):t.addEventListener("load",function(){var e=t.import;if(!e.__CE_documentLoadHandled){e.__CE_documentLoadHandled=!0,e.__CE_isImportDocument=!0,e.__CE_hasRegistry=!0;var a=new Set(n);a.delete(e),r.f(e,{M:a,G:i})}})}else a.push(t)},n),this.h)for(t=0;t<a.length;t++)this.g(a[t]);for(t=0;t<a.length;t++)i(a[t])},u.prototype.i=function(t){if(void 0===t.__CE_state){var e=this.c(t.localName);if(e){e.constructionStack.push(t);var r=e.constructor;try{try{if(new r!==t)throw Error("The custom element constructor did not produce the element being upgraded.")}finally{e.constructionStack.pop()}}catch(e){throw t.__CE_state=2,e}if(t.__CE_state=1,t.__CE_definition=e,e.attributeChangedCallback)for(e=e.observedAttributes,r=0;r<e.length;r++){var n=e[r],i=t.getAttribute(n);null!==i&&this.attributeChangedCallback(t,n,null,i,null)}h(t)&&this.connectedCallback(t)}}},u.prototype.connectedCallback=function(t){var e=t.__CE_definition;e.connectedCallback&&e.connectedCallback.call(t)},u.prototype.disconnectedCallback=function(t){var e=t.__CE_definition;e.disconnectedCallback&&e.disconnectedCallback.call(t)},u.prototype.attributeChangedCallback=function(t,e,r,n,i){var a=t.__CE_definition;a.attributeChangedCallback&&-1<a.observedAttributes.indexOf(e)&&a.attributeChangedCallback.call(t,e,r,n,i)},l.prototype.f=function(){this.b&&this.b.disconnect()},l.prototype.g=function(t){var e=this.a.readyState;for("interactive"!==e&&"complete"!==e||this.f(),e=0;e<t.length;e++)for(var r=t[e].addedNodes,n=0;n<r.length;n++)this.c.f(r[n])},s.prototype.c=function(){if(this.a)throw Error("Already resolved.");this.a=void 0,this.b&&this.b(void 0)},o.prototype.define=function(t,e){var r=this;if(!(e instanceof Function))throw new TypeError("Custom element constructors must be functions.");if(!c(t))throw new SyntaxError("The element name '"+t+"' is not valid.");if(this.a.c(t))throw Error("A custom element with name '"+t+"' has already been defined.");if(this.c)throw Error("A custom element is already being defined.");this.c=!0;try{var n=function(t){var e=i[t];if(void 0!==e&&!(e instanceof Function))throw Error("The '"+t+"' callback must be a function.");return e},i=e.prototype;if(!(i instanceof Object))throw new TypeError("The custom element constructor's prototype is not an object.");var a=n("connectedCallback"),o=n("disconnectedCallback"),s=n("adoptedCallback"),l=n("attributeChangedCallback"),u=e.observedAttributes||[]}catch(t){return}finally{this.c=!1}e={localName:t,constructor:e,connectedCallback:a,disconnectedCallback:o,adoptedCallback:s,attributeChangedCallback:l,observedAttributes:u,constructionStack:[]},this.a.L(t,e),this.g.push(e),this.b||(this.b=!0,this.f(function(){return r.j()}))},o.prototype.j=function(){var t=this;if(!1!==this.b){this.b=!1;for(var e=this.g,r=[],n=new Map,i=0;i<e.length;i++)n.set(e[i].localName,[]);for(this.a.f(document,{G:function(e){if(void 0===e.__CE_state){var i=e.localName,a=n.get(i);a?a.push(e):t.a.c(i)&&r.push(e)}}}),i=0;i<r.length;i++)this.a.i(r[i]);for(;0<e.length;){var a=e.shift();i=a.localName,a=n.get(a.localName);for(var o=0;o<a.length;o++)this.a.i(a[o]);(i=this.h.get(i))&&i.c()}}},o.prototype.get=function(t){if(t=this.a.c(t))return t.constructor},o.prototype.whenDefined=function(t){if(!c(t))return Promise.reject(new SyntaxError("'"+t+"' is not a valid custom element name."));var e=this.h.get(t);return e?e.f:(e=new s,this.h.set(t,e),this.a.c(t)&&!this.g.some(function(e){return e.localName===t})&&e.c(),e.f)},o.prototype.l=function(t){this.i.f();var e=this.f;this.f=function(r){return t(function(){return e(r)})}},window.CustomElementRegistry=o,o.prototype.define=o.prototype.define,o.prototype.get=o.prototype.get,o.prototype.whenDefined=o.prototype.whenDefined,o.prototype.polyfillWrapFlushCallback=o.prototype.l;var A=window.Document.prototype.createElement,C=window.Document.prototype.createElementNS,m=window.Document.prototype.importNode,I=window.Document.prototype.prepend,v=window.Document.prototype.append,y=window.DocumentFragment.prototype.prepend,b=window.DocumentFragment.prototype.append,x=window.Node.prototype.cloneNode,w=window.Node.prototype.appendChild,N=window.Node.prototype.insertBefore,S=window.Node.prototype.removeChild,T=window.Node.prototype.replaceChild,E=Object.getOwnPropertyDescriptor(window.Node.prototype,"textContent"),k=window.Element.prototype.attachShadow,O=Object.getOwnPropertyDescriptor(window.Element.prototype,"innerHTML"),_=window.Element.prototype.getAttribute,P=window.Element.prototype.setAttribute,M=window.Element.prototype.removeAttribute,D=window.Element.prototype.getAttributeNS,R=window.Element.prototype.setAttributeNS,L=window.Element.prototype.removeAttributeNS,z=window.Element.prototype.insertAdjacentElement,F=window.Element.prototype.prepend,B=window.Element.prototype.append,V=window.Element.prototype.before,j=window.Element.prototype.after,W=window.Element.prototype.replaceWith,G=window.Element.prototype.remove,U=window.HTMLElement,H=Object.getOwnPropertyDescriptor(window.HTMLElement.prototype,"innerHTML"),Y=window.HTMLElement.prototype.insertAdjacentElement,Z=new function(){},X=window.customElements;X&&!X.forcePolyfill&&"function"==typeof X.define&&"function"==typeof X.get||(X=new u,a(X),n(X),i(X,DocumentFragment.prototype,{s:y,append:b}),r(X),t(X),document.__CE_hasRegistry=!0,y=new o(X),Object.defineProperty(window,"customElements",{configurable:!0,enumerable:!0,value:y})),y=window.customElements;var q=window.HTMLImports;if(window.WebComponents=window.WebComponents||{},y&&y.polyfillWrapFlushCallback){var K,J=function(){if(K){var t=K;return K=null,t(),!0}},Q=q.whenReady;y.polyfillWrapFlushCallback(function(t){K=t,Q(J)}),q.whenReady=function(t){Q(function(){J()?q.whenReady(t):t()})}}q.whenReady(function(){requestAnimationFrame(function(){window.WebComponents.ready=!0,document.dispatchEvent(new CustomEvent("WebComponentsReady",{bubbles:!0}))})}),y=document.createElement("style"),y.textContent="body {transition: opacity ease-in 0.2s; } \nbody[unresolved] {opacity: 0; display: block; overflow: hidden; position: relative; } \n",b=document.querySelector("head"),b.insertBefore(y,b.firstChild)}()}).call(self)},function(t,e){},function(t,e){},function(t,e,r){},function(t,e){/**
	       * @license
	       * Copyright (c) 2016 The Polymer Project Authors. All rights reserved.
	       * This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
	       * The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
	       * The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
	       * Code distributed by Google as part of the polymer project is also
	       * subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
	       */
!function(){var t="undefined"==typeof HTMLTemplateElement;/Trident/.test(navigator.userAgent)&&!function(){var t=Document.prototype.importNode;Document.prototype.importNode=function(){var e=t.apply(this,arguments);if(e.nodeType===Node.DOCUMENT_FRAGMENT_NODE){var r=this.createDocumentFragment();return r.appendChild(e),r}return e}}();var e=Node.prototype.cloneNode,r=Document.prototype.createElement,n=Document.prototype.importNode,i=function(){if(!t){var e=document.createElement("template"),r=document.createElement("template");r.content.appendChild(document.createElement("div")),e.content.appendChild(r);var n=e.cloneNode(!0);return 0===n.content.childNodes.length||0===n.content.firstChild.content.childNodes.length||!(document.createDocumentFragment().cloneNode()instanceof DocumentFragment)}}(),a="template",o=function(){};if(t){var s=function(t){Object.defineProperty(t,"innerHTML",{get:function(){for(var t="",e=this.content.firstChild;e;e=e.nextSibling)t+=e.outerHTML||u(e.data);return t},set:function(t){for(c.body.innerHTML=t,o.bootstrap(c);this.content.firstChild;)this.content.removeChild(this.content.firstChild);for(;c.body.firstChild;)this.content.appendChild(c.body.firstChild)},configurable:!0})},l=function(t){switch(t){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case"":return"&nbsp;"}},u=function(t){return t.replace(f,l)},c=document.implementation.createHTMLDocument("template"),h=!0,g=document.createElement("style");g.textContent=a+"{display:none;}";var p=document.head;p.insertBefore(g,p.firstElementChild),o.prototype=Object.create(HTMLElement.prototype);var d=!document.createElement("div").hasOwnProperty("innerHTML");o.decorate=function(t){if(!t.content){t.content=c.createDocumentFragment();for(var e;e=t.firstChild;)t.content.appendChild(e);if(d)t.__proto__=o.prototype;else if(t.cloneNode=function(t){return o._cloneNode(this,t)},h)try{s(t)}catch(t){h=!1}o.bootstrap(t.content)}},s(o.prototype),o.bootstrap=function(t){for(var e,r=t.querySelectorAll(a),n=0,i=r.length;n<i&&(e=r[n]);n++)o.decorate(e)},document.addEventListener("DOMContentLoaded",function(){o.bootstrap(document)}),Document.prototype.createElement=function(){var t=r.apply(this,arguments);return"template"===t.localName&&o.decorate(t),t};var f=/[&\u00A0<>]/g}(t||i)&&(o._cloneNode=function(t,r){var n=e.call(t,!1);return this.decorate&&this.decorate(n),r&&(n.content.appendChild(e.call(t.content,!0)),this.fixClonedDom(n.content,t.content)),n},o.prototype.cloneNode=function(t){return o._cloneNode(this,t)},o.fixClonedDom=function(t,e){if(e.querySelectorAll)for(var r,n,i=e.querySelectorAll(a),o=t.querySelectorAll(a),s=0,l=o.length;s<l;s++)n=i[s],r=o[s],this.decorate&&this.decorate(n),r.parentNode.replaceChild(n.cloneNode(!0),r)},Node.prototype.cloneNode=function(t){var r;if(this instanceof DocumentFragment){if(!t)return this.ownerDocument.createDocumentFragment();r=this.ownerDocument.importNode(this,!0)}else r=e.call(this,t);return t&&o.fixClonedDom(r,this),r},Document.prototype.importNode=function(t,e){if(t.localName===a)return o._cloneNode(t,e);var r=n.call(this,t,e);return e&&o.fixClonedDom(r,t),r},i&&(window.HTMLTemplateElement.prototype.cloneNode=function(t){return o._cloneNode(this,t)})),t&&(window.HTMLTemplateElement=o)}()},function(t,e,r){var n=r(0),i=r(3),a=r(4),o=r(22),s=function(t){return i.apply(this||Array,arguments)};n(s,{getPolyfill:a,implementation:i,shim:o}),t.exports=s},function(t,e,r){var n=r(0),i=r(4);t.exports=function(){var t=i();return n(Array,{from:t},{from:function(){return Array.from!==t}}),t}},function(module,exports){window.customElements&&eval("/**\n * @license\n * Copyright (c) 2016 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n */\n\n/**\n * This shim allows elements written in, or compiled to, ES5 to work on native\n * implementations of Custom Elements.\n *\n * ES5-style classes don't work with native Custom Elements because the\n * HTMLElement constructor uses the value of `new.target` to look up the custom\n * element definition for the currently called constructor. `new.target` is only\n * set when `new` is called and is only propagated via super() calls. super()\n * is not emulatable in ES5. The pattern of `SuperClass.call(this)`` only works\n * when extending other ES5-style classes, and does not propagate `new.target`.\n *\n * This shim allows the native HTMLElement constructor to work by generating and\n * registering a stand-in class instead of the users custom element class. This\n * stand-in class's constructor has an actual call to super().\n * `customElements.define()` and `customElements.get()` are both overridden to\n * hide this stand-in class from users.\n *\n * In order to create instance of the user-defined class, rather than the stand\n * in, the stand-in's constructor swizzles its instances prototype and invokes\n * the user-defined constructor. When the user-defined constructor is called\n * directly it creates an instance of the stand-in class to get a real extension\n * of HTMLElement and returns that.\n *\n * There are two important constructors: A patched HTMLElement constructor, and\n * the StandInElement constructor. They both will be called to create an element\n * but which is called first depends on whether the browser creates the element\n * or the user-defined constructor is called directly. The variables\n * `browserConstruction` and `userConstruction` control the flow between the\n * two constructors.\n *\n * This shim should be better than forcing the polyfill because:\n *   1. It's smaller\n *   2. All reaction timings are the same as native (mostly synchronous)\n *   3. All reaction triggering DOM operations are automatically supported\n *\n * There are some restrictions and requirements on ES5 constructors:\n *   1. All constructors in a inheritance hierarchy must be ES5-style, so that\n *      they can be called with Function.call(). This effectively means that the\n *      whole application must be compiled to ES5.\n *   2. Constructors must return the value of the emulated super() call. Like\n *      `return SuperClass.call(this)`\n *   3. The `this` reference should not be used before the emulated super() call\n *      just like `this` is illegal to use before super() in ES6.\n *   4. Constructors should not create other custom elements before the emulated\n *      super() call. This is the same restriction as with native custom\n *      elements.\n *\n *  Compiling valid class-based custom elements to ES5 will satisfy these\n *  requirements with the latest version of popular transpilers.\n */\n(() => {\n  'use strict';\n\n  const NativeHTMLElement = window.HTMLElement;\n  const nativeDefine = window.customElements.define;\n  const nativeGet = window.customElements.get;\n\n  /**\n   * Map of user-provided constructors to tag names.\n   *\n   * @type {Map<Function, string>}\n   */\n  const tagnameByConstructor = new Map();\n\n  /**\n   * Map of tag names to user-provided constructors.\n   *\n   * @type {Map<string, Function>}\n   */\n  const constructorByTagname = new Map();\n\n\n  /**\n   * Whether the constructors are being called by a browser process, ie parsing\n   * or createElement.\n   */\n  let browserConstruction = false;\n\n  /**\n   * Whether the constructors are being called by a user-space process, ie\n   * calling an element constructor.\n   */\n  let userConstruction = false;\n\n  window.HTMLElement = function() {\n    if (!browserConstruction) {\n      const tagname = tagnameByConstructor.get(this.constructor);\n      const fakeClass = nativeGet.call(window.customElements, tagname);\n\n      // Make sure that the fake constructor doesn't call back to this constructor\n      userConstruction = true;\n      const instance = new (fakeClass)();\n      return instance;\n    }\n    // Else do nothing. This will be reached by ES5-style classes doing\n    // HTMLElement.call() during initialization\n    browserConstruction = false;\n  };\n  // By setting the patched HTMLElement's prototype property to the native\n  // HTMLElement's prototype we make sure that:\n  //     document.createElement('a') instanceof HTMLElement\n  // works because instanceof uses HTMLElement.prototype, which is on the\n  // ptototype chain of built-in elements.\n  window.HTMLElement.prototype = NativeHTMLElement.prototype;\n\n  window.customElements.define = (tagname, elementClass) => {\n    const elementProto = elementClass.prototype;\n    const StandInElement = class extends NativeHTMLElement {\n      constructor() {\n        // Call the native HTMLElement constructor, this gives us the\n        // under-construction instance as `this`:\n        super();\n\n        // The prototype will be wrong up because the browser used our fake\n        // class, so fix it:\n        Object.setPrototypeOf(this, elementProto);\n\n        if (!userConstruction) {\n          // Make sure that user-defined constructor bottom's out to a do-nothing\n          // HTMLElement() call\n          browserConstruction = true;\n          // Call the user-defined constructor on our instance:\n          elementClass.call(this);\n        }\n        userConstruction = false;\n      }\n    };\n    const standInProto = StandInElement.prototype;\n    StandInElement.observedAttributes = elementClass.observedAttributes;\n    standInProto.connectedCallback = elementProto.connectedCallback;\n    standInProto.disconnectedCallback = elementProto.disconnectedCallback;\n    standInProto.attributeChangedCallback = elementProto.attributeChangedCallback;\n    standInProto.adoptedCallback = elementProto.adoptedCallback;\n\n    tagnameByConstructor.set(elementClass, tagname);\n    constructorByTagname.set(tagname, elementClass);\n    nativeDefine.call(window.customElements, tagname, StandInElement);\n  };\n\n  window.customElements.get = (tagname) => constructorByTagname.get(tagname);\n\n})();")},function(t,e){(function(){}).call(this)},function(t,e,r){var n=r(7),i=r(6),a=r(9),o=r(8),s=r(1),l=r(28),u={ToPrimitive:l,ToBoolean:function(t){return Boolean(t)},ToNumber:function(t){return Number(t)},ToInteger:function(t){var e=this.ToNumber(t);return n(e)?0:0!==e&&i(e)?a(e)*Math.floor(Math.abs(e)):e},ToInt32:function(t){return this.ToNumber(t)>>0},ToUint32:function(t){return this.ToNumber(t)>>>0},ToUint16:function(t){var e=this.ToNumber(t);if(n(e)||0===e||!i(e))return 0;var r=a(e)*Math.floor(Math.abs(e));return o(r,65536)},ToString:function(t){return String(t)},ToObject:function(t){return this.CheckObjectCoercible(t),Object(t)},CheckObjectCoercible:function(t,e){if(null==t)throw new TypeError(e||"Cannot call method on "+t);return t},IsCallable:s,SameValue:function(t,e){return t===e?0!==t||1/t===1/e:n(t)&&n(e)},Type:function(t){return null===t?"Null":"undefined"==typeof t?"Undefined":"function"==typeof t||"object"===("undefined"==typeof t?"undefined":_typeof(t))?"Object":"number"==typeof t?"Number":"boolean"==typeof t?"Boolean":"string"==typeof t?"String":void 0}};t.exports=u},function(t,e){var r=Object.prototype.hasOwnProperty;t.exports=Object.assign||function(t,e){for(var n in e)r.call(e,n)&&(t[n]=e[n]);return t}},function(t,e){t.exports=function(t){return null===t||"function"!=typeof t&&"object"!==("undefined"==typeof t?"undefined":_typeof(t))}},function(t,e,r){var n=Object.prototype.toString,i=r(10),a=r(1),o={"[[DefaultValue]]":function(t,e){var r=e||("[object Date]"===n.call(t)?String:Number);if(r===String||r===Number){var o,s,l=r===String?["toString","valueOf"]:["valueOf","toString"];for(s=0;s<l.length;++s)if(a(t[l[s]])&&(o=t[l[s]](),i(o)))return o;throw new TypeError("No default value")}throw new TypeError("invalid [[DefaultValue]] hint supplied")}};t.exports=function(t,e){return i(t)?t:o["[[DefaultValue]]"](t,e)}},function(t,e,r){var n="function"==typeof Symbol&&"symbol"===_typeof(Symbol.iterator),i=r(10),a=r(1),o=r(33),s=r(35),l=function(t,e){if("undefined"==typeof t||null===t)throw new TypeError("Cannot call method on "+t);if("string"!=typeof e||"number"!==e&&"string"!==e)throw new TypeError('hint must be "string" or "number"');var r,n,o,s="string"===e?["toString","valueOf"]:["valueOf","toString"];for(o=0;o<s.length;++o)if(r=t[s[o]],a(r)&&(n=r.call(t),i(n)))return n;throw new TypeError("No default value")},u=function(t,e){var r=t[e];if(null!==r&&"undefined"!=typeof r){if(!a(r))throw new TypeError(r+" returned for property "+e+" of object "+t+" is not a function");return r}};t.exports=function(t,e){if(i(t))return t;var r="default";arguments.length>1&&(e===String?r="string":e===Number&&(r="number"));var a;if(n&&(Symbol.toPrimitive?a=u(t,Symbol.toPrimitive):s(t)&&(a=Symbol.prototype.valueOf)),"undefined"!=typeof a){var c=a.call(t,r);if(i(c))return c;throw new TypeError("unable to convert exotic object to primitive")}return"default"===r&&(o(t)||s(t))&&(r="string"),l(t,"default"===r?"number":r)}},function(t,e,r){(function(e,n){/*!
	                     * @overview es6-promise - a tiny implementation of Promises/A+.
	                     * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
	                     * @license   Licensed under MIT license
	                     *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
	                     * @version   4.0.5
	                     */
!function(e,r){t.exports=r()}(this,function(){function t(t){return"function"==typeof t||"object"===("undefined"==typeof t?"undefined":_typeof(t))&&null!==t}function i(t){return"function"==typeof t}function a(t){q=t}function o(t){K=t}function s(){return function(){return e.nextTick(g)}}function l(){return"undefined"!=typeof X?function(){X(g)}:h()}function u(){var t=0,e=new $(g),r=document.createTextNode("");return e.observe(r,{characterData:!0}),function(){r.data=t=++t%2}}function c(){var t=new MessageChannel;return t.port1.onmessage=g,function(){return t.port2.postMessage(0)}}function h(){var t=setTimeout;return function(){return t(g,1)}}function g(){for(var t=0;t<Z;t+=2){var e=rt[t],r=rt[t+1];e(r),rt[t]=void 0,rt[t+1]=void 0}Z=0}function p(){try{var t=r(41);return X=t.runOnLoop||t.runOnContext,l()}catch(t){return h()}}function d(t,e){var r=arguments,n=this,i=new this.constructor(A);void 0===i[it]&&R(i);var a=n._state;return a?!function(){var t=r[a-1];K(function(){return P(a,i,t,n._result)})}():E(n,i,t,e),i}function f(t){var e=this;if(t&&"object"===("undefined"==typeof t?"undefined":_typeof(t))&&t.constructor===e)return t;var r=new e(A);return w(r,t),r}function A(){}function C(){return new TypeError("You cannot resolve a promise with itself")}function m(){return new TypeError("A promises callback cannot return that same promise.")}function I(t){try{return t.then}catch(t){return lt.error=t,lt}}function v(t,e,r,n){try{t.call(e,r,n)}catch(t){return t}}function y(t,e,r){K(function(t){var n=!1,i=v(r,e,function(r){n||(n=!0,e!==r?w(t,r):S(t,r))},function(e){n||(n=!0,T(t,e))},"Settle: "+(t._label||" unknown promise"));!n&&i&&(n=!0,T(t,i))},t)}function b(t,e){e._state===ot?S(t,e._result):e._state===st?T(t,e._result):E(e,void 0,function(e){return w(t,e)},function(e){return T(t,e)})}function x(t,e,r){e.constructor===t.constructor&&r===d&&e.constructor.resolve===f?b(t,e):r===lt?T(t,lt.error):void 0===r?S(t,e):i(r)?y(t,e,r):S(t,e)}function w(e,r){e===r?T(e,C()):t(r)?x(e,r,I(r)):S(e,r)}function N(t){t._onerror&&t._onerror(t._result),k(t)}function S(t,e){t._state===at&&(t._result=e,t._state=ot,0!==t._subscribers.length&&K(k,t))}function T(t,e){t._state===at&&(t._state=st,t._result=e,K(N,t))}function E(t,e,r,n){var i=t._subscribers,a=i.length;t._onerror=null,i[a]=e,i[a+ot]=r,i[a+st]=n,0===a&&t._state&&K(k,t)}function k(t){var e=t._subscribers,r=t._state;if(0!==e.length){for(var n=void 0,i=void 0,a=t._result,o=0;o<e.length;o+=3)n=e[o],i=e[o+r],n?P(r,n,i,a):i(a);t._subscribers.length=0}}function O(){this.error=null}function _(t,e){try{return t(e)}catch(t){return ut.error=t,ut}}function P(t,e,r,n){var a=i(r),o=void 0,s=void 0,l=void 0,u=void 0;if(a){if(o=_(r,n),o===ut?(u=!0,s=o.error,o=null):l=!0,e===o)return void T(e,m())}else o=n,l=!0;e._state!==at||(a&&l?w(e,o):u?T(e,s):t===ot?S(e,o):t===st&&T(e,o))}function M(t,e){try{e(function(e){w(t,e)},function(e){T(t,e)})}catch(e){T(t,e)}}function D(){return ct++}function R(t){t[it]=ct++,t._state=void 0,t._result=void 0,t._subscribers=[]}function L(t,e){this._instanceConstructor=t,this.promise=new t(A),this.promise[it]||R(this.promise),Y(e)?(this._input=e,this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?S(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&S(this.promise,this._result))):T(this.promise,z())}function z(){return new Error("Array Methods must be provided an Array")}function F(t){return new L(this,t).promise}function B(t){var e=this;return new e(Y(t)?function(r,n){for(var i=t.length,a=0;a<i;a++)e.resolve(t[a]).then(r,n)}:function(t,e){return e(new TypeError("You must pass an array to race."))})}function V(t){var e=this,r=new e(A);return T(r,t),r}function j(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function W(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function G(t){this[it]=D(),this._result=this._state=void 0,this._subscribers=[],A!==t&&("function"!=typeof t&&j(),this instanceof G?M(this,t):W())}function U(){var t=void 0;if("undefined"!=typeof n)t=n;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var r=null;try{r=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===r&&!e.cast)return}t.Promise=G}var H=void 0;H=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};var Y=H,Z=0,X=void 0,q=void 0,K=function(t,e){rt[Z]=t,rt[Z+1]=e,Z+=2,2===Z&&(q?q(g):nt())},J="undefined"!=typeof window?window:void 0,Q=J||{},$=Q.MutationObserver||Q.WebKitMutationObserver,tt="undefined"==typeof self&&"undefined"!=typeof e&&"[object process]"==={}.toString.call(e),et="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,rt=new Array(1e3),nt=void 0;nt=tt?s():$?u():et?c():void 0===J?p():h();var it=Math.random().toString(36).substring(16),at=void 0,ot=1,st=2,lt=new O,ut=new O,ct=0;return L.prototype._enumerate=function(){for(var t=this.length,e=this._input,r=0;this._state===at&&r<t;r++)this._eachEntry(e[r],r)},L.prototype._eachEntry=function(t,e){var r=this._instanceConstructor,n=r.resolve;if(n===f){var i=I(t);if(i===d&&t._state!==at)this._settledAt(t._state,e,t._result);else if("function"!=typeof i)this._remaining--,this._result[e]=t;else if(r===G){var a=new r(A);x(a,t,i),this._willSettleAt(a,e)}else this._willSettleAt(new r(function(e){return e(t)}),e)}else this._willSettleAt(n(t),e)},L.prototype._settledAt=function(t,e,r){var n=this.promise;n._state===at&&(this._remaining--,t===st?T(n,r):this._result[e]=r),0===this._remaining&&S(n,this._result)},L.prototype._willSettleAt=function(t,e){var r=this;E(t,void 0,function(t){return r._settledAt(ot,e,t)},function(t){return r._settledAt(st,e,t)})},G.all=F,G.race=B,G.resolve=f,G.reject=V,G._setScheduler=a,G._setAsap=o,G._asap=K,G.prototype={constructor:G,then:d,catch:function(t){return this.then(null,t)}},G.polyfill=U,G.Promise=G,G})}).call(e,r(40),r(14))},function(t,e){var r=Object.prototype.hasOwnProperty,n=Object.prototype.toString;t.exports=function(t,e,i){if("[object Function]"!==n.call(e))throw new TypeError("iterator must be a function");var a=t.length;if(a===+a)for(var o=0;o<a;o++)e.call(i,t[o],o,t);else for(var s in t)r.call(t,s)&&e.call(i,t[s],s,t)}},function(t,e){var r="Function.prototype.bind called on incompatible ",n=Array.prototype.slice,i=Object.prototype.toString,a="[object Function]";t.exports=function(t){var e=this;if("function"!=typeof e||i.call(e)!==a)throw new TypeError(r+e);for(var o,s=n.call(arguments,1),l=function(){if(this instanceof o){var r=e.apply(this,s.concat(n.call(arguments)));return Object(r)===r?r:this}return e.apply(t,s.concat(n.call(arguments)))},u=Math.max(0,e.length-s.length),c=[],h=0;h<u;h++)c.push("$"+h);if(o=Function("binder","return function ("+c.join(",")+"){ return binder.apply(this,arguments); }")(l),e.prototype){var g=function(){};g.prototype=e.prototype,o.prototype=new g,g.prototype=null}return o}},function(t,e,r){var n=Date.prototype.getDay,i=function(t){try{return n.call(t),!0}catch(t){return!1}},a=Object.prototype.toString,o="[object Date]",s="function"==typeof Symbol&&"symbol"===_typeof(Symbol.toStringTag);t.exports=function(t){return"object"===("undefined"==typeof t?"undefined":_typeof(t))&&null!==t&&(s?i(t):a.call(t)===o)}},function(t,e,r){var n=RegExp.prototype.exec,i=function(t){try{return n.call(t),!0}catch(t){return!1}},a=Object.prototype.toString,o="[object RegExp]",s="function"==typeof Symbol&&"symbol"===_typeof(Symbol.toStringTag);t.exports=function(t){return"object"===("undefined"==typeof t?"undefined":_typeof(t))&&(s?i(t):a.call(t)===o)}},function(t,e,r){var n=Object.prototype.toString,i="function"==typeof Symbol&&"symbol"===_typeof(Symbol());if(i){var a=Symbol.prototype.toString,o=/^Symbol\(.*\)$/,s=function(t){return"symbol"===_typeof(t.valueOf())&&o.test(a.call(t))};t.exports=function(t){if("symbol"===("undefined"==typeof t?"undefined":_typeof(t)))return!0;if("[object Symbol]"!==n.call(t))return!1;try{return s(t)}catch(t){return!1}}}else t.exports=function(t){return!1}},function(t,e,r){var n=Object.prototype.toString;t.exports=function(t){var e=n.call(t),r="[object Arguments]"===e;return r||(r="[object Array]"!==e&&null!==t&&"object"===("undefined"==typeof t?"undefined":_typeof(t))&&"number"==typeof t.length&&t.length>=0&&"[object Function]"===n.call(t.callee)),r}},function(t,e,r){var n=r(2);t.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"===_typeof(Symbol.iterator))return!0;var t={},e=Symbol("test"),r=Object(e);if("string"==typeof e)return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;var i=42;t[e]=i;for(e in t)return!1;if(0!==n(t).length)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var a=Object.getOwnPropertySymbols(t);if(1!==a.length||a[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(t,e);if(o.value!==i||o.enumerable!==!0)return!1}return!0}},function(t,e,r){var n=r(0),i=r(12),a=r(13),o=r(39),s=a();n(s,{implementation:i,getPolyfill:a,shim:o}),t.exports=s},function(t,e,r){var n=r(0),i=r(13);t.exports=function(){var t=i();return n(Object,{assign:t},{assign:function(){return Object.assign!==t}}),t}},function(t,e){function r(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function i(t){if(c===setTimeout)return setTimeout(t,0);if((c===r||!c)&&setTimeout)return c=setTimeout,setTimeout(t,0);try{return c(t,0)}catch(e){try{return c.call(null,t,0)}catch(e){return c.call(this,t,0)}}}function a(t){if(h===clearTimeout)return clearTimeout(t);if((h===n||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(t);try{return h(t)}catch(e){try{return h.call(null,t)}catch(e){return h.call(this,t)}}}function o(){f&&p&&(f=!1,p.length?d=p.concat(d):A=-1,d.length&&s())}function s(){if(!f){var t=i(o);f=!0;for(var e=d.length;e;){for(p=d,d=[];++A<e;)p&&p[A].run();A=-1,e=d.length}p=null,f=!1,a(t)}}function l(t,e){this.fun=t,this.array=e}function u(){}var c,h,g=t.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:r}catch(t){c=r}try{h="function"==typeof clearTimeout?clearTimeout:n}catch(t){h=n}}();var p,d=[],f=!1,A=-1;g.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];d.push(new l(t,e)),1!==d.length||f||i(s)},l.prototype.run=function(){this.fun.apply(null,this.array)},g.title="browser",g.browser=!0,g.env={},g.argv=[],g.version="",g.versions={},g.on=u,g.addListener=u,g.once=u,g.off=u,g.removeListener=u,g.removeAllListeners=u,g.emit=u,g.binding=function(t){throw new Error("process.binding is not supported")},g.cwd=function(){return"/"},g.chdir=function(t){throw new Error("process.chdir is not supported")},g.umask=function(){return 0}},function(t,e){},function(t,e,r){t.exports=r(15)}])})}).call(exports,__webpack_require__(596)(module))},function(t,e){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(){var t;window.AmCharts?t=window.AmCharts:(t={},window.AmCharts=t,t.themes={},t.maps={},t.inheriting={},t.charts=[],t.onReadyArray=[],t.useUTC=!1,t.updateRate=60,t.uid=0,t.lang={},t.translations={},t.mapTranslations={},t.windows={},t.initHandlers=[],t.amString="am",t.pmString="pm"),t.Class=function(e){var r=function(){arguments[0]!==t.inheriting&&(this.events={},this.construct.apply(this,arguments))};e.inherits?(r.prototype=new e.inherits(t.inheriting),r.base=e.inherits.prototype,delete e.inherits):(r.prototype.createEvents=function(){for(var t=0;t<arguments.length;t++)this.events[arguments[t]]=[]},r.prototype.listenTo=function(t,e,r){this.removeListener(t,e,r),t.events[e].push({handler:r,scope:this})},r.prototype.addListener=function(t,e,r){this.removeListener(this,t,e),t&&this.events[t]&&this.events[t].push({handler:e,scope:r})},r.prototype.removeListener=function(t,e,r){if(t&&t.events&&(t=t.events[e]))for(e=t.length-1;0<=e;e--)t[e].handler===r&&t.splice(e,1)},r.prototype.fire=function(t){for(var e=this.events[t.type],r=0;r<e.length;r++){var n=e[r];n.handler.call(n.scope,t)}});for(var n in e)r.prototype[n]=e[n];return r},t.addChart=function(e){window.requestAnimationFrame?t.animationRequested||(t.animationRequested=!0,window.requestAnimationFrame(t.update)):t.updateInt||(t.updateInt=setInterval(function(){t.update()},Math.round(1e3/t.updateRate))),t.charts.push(e)},t.removeChart=function(e){for(var r=t.charts,n=r.length-1;0<=n;n--)r[n]==e&&r.splice(n,1);0===r.length&&(t.requestAnimation&&(window.cancelAnimationFrame(t.requestAnimation),t.animationRequested=!1),t.updateInt&&(clearInterval(t.updateInt),t.updateInt=NaN))},t.isModern=!0,t.getIEVersion=function(){var t,e,r=0;return"Microsoft Internet Explorer"==navigator.appName&&(t=navigator.userAgent,e=/MSIE ([0-9]{1,}[.0-9]{0,})/,null!==e.exec(t)&&(r=parseFloat(RegExp.$1))),r},t.applyLang=function(e,r){var n=t.translations;r.dayNames=t.extend({},t.dayNames),r.shortDayNames=t.extend({},t.shortDayNames),r.monthNames=t.extend({},t.monthNames),r.shortMonthNames=t.extend({},t.shortMonthNames),r.amString="am",r.pmString="pm",n&&(n=n[e])&&(t.lang=n,r.langObj=n,n.monthNames&&(r.dayNames=t.extend({},n.dayNames),r.shortDayNames=t.extend({},n.shortDayNames),r.monthNames=t.extend({},n.monthNames),r.shortMonthNames=t.extend({},n.shortMonthNames)),n.am&&(r.amString=n.am),n.pm&&(r.pmString=n.pm)),t.amString=r.amString,t.pmString=r.pmString},t.IEversion=t.getIEVersion(),9>t.IEversion&&0<t.IEversion&&(t.isModern=!1,t.isIE=!0),t.dx=0,t.dy=0,(document.addEventListener||window.opera)&&(t.isNN=!0,t.isIE=!1,t.dx=.5,t.dy=.5),document.attachEvent&&(t.isNN=!1,t.isIE=!0,t.isModern||(t.dx=0,t.dy=0)),window.chrome&&(t.chrome=!0),t.handleMouseUp=function(e){for(var r=t.charts,n=0;n<r.length;n++){var i=r[n];i&&i.handleReleaseOutside&&i.handleReleaseOutside(e)}},t.handleMouseMove=function(e){for(var r=t.charts,n=0;n<r.length;n++){var i=r[n];i&&i.handleMouseMove&&i.handleMouseMove(e)}},t.handleWheel=function(e){for(var r=t.charts,n=0;n<r.length;n++){var i=r[n];if(i&&i.mouseIsOver){(i.mouseWheelScrollEnabled||i.mouseWheelZoomEnabled)&&i.handleWheel&&i.handleWheel(e);break}}},t.resetMouseOver=function(){for(var e=t.charts,r=0;r<e.length;r++){var n=e[r];n&&(n.mouseIsOver=!1)}},t.ready=function(e){t.onReadyArray.push(e)},t.handleLoad=function(){t.isReady=!0;for(var e=t.onReadyArray,r=0;r<e.length;r++){var n=e[r];isNaN(t.processDelay)?n():setTimeout(n,t.processDelay*r)}},t.addInitHandler=function(e,r){t.initHandlers.push({method:e,types:r})},t.callInitHandler=function(e){var r=t.initHandlers;if(t.initHandlers)for(var n=0;n<r.length;n++){var i=r[n];i.types?t.isInArray(i.types,e.type)&&i.method(e):i.method(e)}},t.getUniqueId=function(){return t.uid++,"AmChartsEl-"+t.uid},t.isNN&&(document.addEventListener("mousemove",t.handleMouseMove),document.addEventListener("mouseup",t.handleMouseUp,!0),window.addEventListener("load",t.handleLoad,!0),window.addEventListener("DOMMouseScroll",t.handleWheel,!0),document.addEventListener("mousewheel",t.handleWheel,!0)),t.isIE&&(document.attachEvent("onmousemove",t.handleMouseMove),document.attachEvent("onmouseup",t.handleMouseUp),window.attachEvent("onload",t.handleLoad),document.attachEvent("onmousewheel",t.handleWheel)),t.clear=function(){var e=t.charts;if(e)for(var r=e.length-1;0<=r;r--)e[r].clear();t.updateInt&&clearInterval(t.updateInt),t.requestAnimation&&window.cancelAnimationFrame(t.requestAnimation),t.charts=[],t.isNN&&(document.removeEventListener("mousemove",t.handleMouseMove,!0),document.removeEventListener("mouseup",t.handleMouseUp,!0),window.removeEventListener("load",t.handleLoad,!0),window.removeEventListener("DOMMouseScroll",t.handleWheel,!0),document.removeEventListener("mousewheel",t.handleWheel,!0)),t.isIE&&(document.detachEvent("onmousemove",t.handleMouseMove),document.detachEvent("onmouseup",t.handleMouseUp),window.detachEvent("onload",t.handleLoad))},t.makeChart=function(e,r,n){var i=r.type,a=r.theme;t.isString(a)&&(a=t.themes[a],r.theme=a);var o;switch(i){case"serial":o=new t.AmSerialChart(a);break;case"xy":o=new t.AmXYChart(a);break;case"pie":o=new t.AmPieChart(a);break;case"radar":o=new t.AmRadarChart(a);break;case"gauge":o=new t.AmAngularGauge(a);break;case"funnel":o=new t.AmFunnelChart(a);break;case"map":o=new t.AmMap(a);break;case"stock":o=new t.AmStockChart(a);break;case"gantt":o=new t.AmGanttChart(a)}return t.extend(o,r),t.isReady?isNaN(n)?o.write(e):setTimeout(function(){t.realWrite(o,e)},n):t.ready(function(){isNaN(n)?o.write(e):setTimeout(function(){t.realWrite(o,e)},n)}),o},t.realWrite=function(t,e){t.write(e)},t.updateCount=0,t.validateAt=Math.round(t.updateRate/10),t.update=function(){var e=t.charts;t.updateCount++;var r=!1;if(t.updateCount==t.validateAt&&(r=!0,t.updateCount=0),e)for(var n=e.length-1;0<=n;n--)e[n].update&&e[n].update(),r&&(e[n].autoResize?e[n].validateSize&&e[n].validateSize():e[n].premeasure&&e[n].premeasure());window.requestAnimationFrame&&(t.requestAnimation=window.requestAnimationFrame(t.update))},t.bezierX=3,t.bezierY=6,"complete"==document.readyState&&t.handleLoad()}(),function(){var t=window.AmCharts;t.toBoolean=function(t,e){if(void 0===t)return e;switch(String(t).toLowerCase()){case"true":case"yes":case"1":return!0;case"false":case"no":case"0":case null:return!1;default:return!!t}},t.removeFromArray=function(t,e){var r;if(void 0!==e&&void 0!==t)for(r=t.length-1;0<=r;r--)t[r]==e&&t.splice(r,1)},t.getPath=function(){var t=document.getElementsByTagName("script");if(t)for(var e=0;e<t.length;e++){var r=t[e].src;if(-1!==r.search(/\/(amcharts|ammap)\.js/))return r.replace(/\/(amcharts|ammap)\.js.*/,"/")}},t.normalizeUrl=function(t){return""!==t&&-1===t.search(/\/$/)?t+"/":t},t.isAbsolute=function(t){return 0===t.search(/^http[s]?:|^\//)},t.isInArray=function(t,e){for(var r=0;r<t.length;r++)if(t[r]==e)return!0;return!1},t.getDecimals=function(t){var e=0;return isNaN(t)||(t=String(t),-1!=t.indexOf("e-")?e=Number(t.split("-")[1]):-1!=t.indexOf(".")&&(e=t.split(".")[1].length)),e},t.wordwrap=function(e,r,n,i){var a,o,s,l;if(e+="",1>r)return e;for(a=-1,e=(l=e.split(/\r\n|\n|\r/)).length;++a<e;l[a]+=s){for(s=l[a],l[a]="";s.length>r;l[a]+=t.trim(s.slice(0,o))+((s=s.slice(o)).length?n:""))o=2==i||(o=s.slice(0,r+1).match(/\S*(\s)?$/))[1]?r:o.input.length-o[0].length||1==i&&r||o.input.length+(o=s.slice(r).match(/^\S*/))[0].length;s=t.trim(s)}return l.join(n)},t.trim=function(t){return t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},t.wrappedText=function(e,r,n,i,a,o,s,l){var u=t.text(e,r,n,i,a,o,s);if(u){var c=u.getBBox();if(c.width>l){var h="\n";t.isModern||(h="<br>"),l=Math.floor(l/(c.width/r.length)),2<l&&(l-=2),r=t.wordwrap(r,l,h,!0),u.remove(),u=t.text(e,r,n,i,a,o,s)}}return u},t.getStyle=function(t,e){var r="";if(document.defaultView&&document.defaultView.getComputedStyle)try{r=document.defaultView.getComputedStyle(t,"").getPropertyValue(e)}catch(t){}else t.currentStyle&&(e=e.replace(/\-(\w)/g,function(t,e){return e.toUpperCase()}),r=t.currentStyle[e]);return r},t.removePx=function(t){if(void 0!==t)return Number(t.substring(0,t.length-2))},t.getURL=function(e,r){if(e)if("_self"!=r&&r)if("_top"==r&&window.top)window.top.location.href=e;else if("_parent"==r&&window.parent)window.parent.location.href=e;else if("_blank"==r)window.open(e);else{var n=document.getElementsByName(r)[0];n?n.src=e:(n=t.windows[r])&&n.opener&&!n.opener.closed?n.location.href=e:t.windows[r]=window.open(e)}else window.location.href=e},t.ifArray=function(t){return!!(t&&"object"==("undefined"==typeof t?"undefined":r(t))&&0<t.length)},t.callMethod=function(t,e){var r;for(r=0;r<e.length;r++){var n=e[r];if(n){n[t]&&n[t]();var i=n.length;if(0<i){var a;for(a=0;a<i;a++){var o=n[a];o&&o[t]&&o[t]()}}}}},t.toNumber=function(t){return"number"==typeof t?t:Number(String(t).replace(/[^0-9\-.]+/g,""))},t.toColor=function(t){if(""!==t&&void 0!==t)if(-1!=t.indexOf(",")){t=t.split(",");var e;for(e=0;e<t.length;e++){var r=t[e].substring(t[e].length-6,t[e].length);t[e]="#"+r}}else t=t.substring(t.length-6,t.length),t="#"+t;return t},t.toCoordinate=function(t,e,r){var n;return void 0!==t&&(t=String(t),r&&r<e&&(e=r),n=Number(t),-1!=t.indexOf("!")&&(n=e-Number(t.substr(1))),-1!=t.indexOf("%")&&(n=e*Number(t.substr(0,t.length-1))/100)),n},t.fitToBounds=function(t,e,r){return t<e&&(t=e),t>r&&(t=r),t},t.isDefined=function(t){return void 0!==t},t.stripNumbers=function(t){return t.replace(/[0-9]+/g,"")},t.roundTo=function(t,e){if(0>e)return t;var r=Math.pow(10,e);return Math.round(t*r)/r},t.toFixed=function(t,e){var r=String(Math.round(t*Math.pow(10,e)));if(0<e){var n=r.length;if(n<e){var i;for(i=0;i<e-n;i++)r="0"+r}return n=r.substring(0,r.length-e),""===n&&(n=0),n+"."+r.substring(r.length-e,r.length)}return String(r)},t.formatDuration=function(e,r,n,i,a,o){var s=t.intervals,l=o.decimalSeparator;if(e>=s[r].contains){var u=e-Math.floor(e/s[r].contains)*s[r].contains;return"ss"==r?(u=t.formatNumber(u,o),1==u.split(l)[0].length&&(u="0"+u)):u=t.roundTo(u,o.precision),("mm"==r||"hh"==r)&&10>u&&(u="0"+u),n=u+""+i[r]+n,e=Math.floor(e/s[r].contains),r=s[r].nextInterval,t.formatDuration(e,r,n,i,a,o)}if("ss"==r&&(e=t.formatNumber(e,o),1==e.split(l)[0].length&&(e="0"+e)),("mm"==r||"hh"==r)&&10>e&&(e="0"+e),n=e+""+i[r]+n,s[a].count>s[r].count)for(e=s[r].count;e<s[a].count;e++)r=s[r].nextInterval,"ss"==r||"mm"==r||"hh"==r?n="00"+i[r]+n:"DD"==r&&(n="0"+i[r]+n);return":"==n.charAt(n.length-1)&&(n=n.substring(0,n.length-1)),n},t.formatNumber=function(e,r,n,i,a){e=t.roundTo(e,r.precision),isNaN(n)&&(n=r.precision);var o=r.decimalSeparator;r=r.thousandsSeparator;var s;s=0>e?"-":"",e=Math.abs(e);var l=String(e),u=!1;-1!=l.indexOf("e")&&(u=!0),0<=n&&!u&&(l=t.toFixed(e,n));var c="";if(u)c=l;else{var h,l=l.split("."),u=String(l[0]);for(h=u.length;0<=h;h-=3)c=h!=u.length?0!==h?u.substring(h-3,h)+r+c:u.substring(h-3,h)+c:u.substring(h-3,h);void 0!==l[1]&&(c=c+o+l[1]),void 0!==n&&0<n&&"0"!=c&&(c=t.addZeroes(c,o,n))}return c=s+c,""===s&&!0===i&&0!==e&&(c="+"+c),!0===a&&(c+="%"),c},t.addZeroes=function(e,r,n){return e=e.split(r),void 0===e[1]&&0<n&&(e[1]="0"),e[1].length<n?(e[1]+="0",t.addZeroes(e[0]+r+e[1],r,n)):void 0!==e[1]?e[0]+r+e[1]:e[0]},t.scientificToNormal=function(t){var e;t=String(t).split("e");var r;if("-"==t[1].substr(0,1)){for(e="0.",r=0;r<Math.abs(Number(t[1]))-1;r++)e+="0";e+=t[0].split(".").join("")}else{var n=0;for(e=t[0].split("."),e[1]&&(n=e[1].length),e=t[0].split(".").join(""),r=0;r<Math.abs(Number(t[1]))-n;r++)e+="0"}return e},t.toScientific=function(t,e){if(0===t)return"0";var r=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),n=String(n).split(".").join(e);return String(n)+"e"+r},t.randomColor=function(){return"#"+("00000"+(16777216*Math.random()<<0).toString(16)).substr(-6)},t.hitTest=function(e,r,n){var i=!1,a=e.x,o=e.x+e.width,s=e.y,l=e.y+e.height,u=t.isInRectangle;return i||(i=u(a,s,r)),i||(i=u(a,l,r)),i||(i=u(o,s,r)),i||(i=u(o,l,r)),i||!0===n||(i=t.hitTest(r,e,!0)),i},t.isInRectangle=function(t,e,r){return t>=r.x-5&&t<=r.x+r.width+5&&e>=r.y-5&&e<=r.y+r.height+5},t.isPercents=function(t){if(-1!=String(t).indexOf("%"))return!0},t.formatValue=function(e,r,n,i,a,o,s,l){if(r){void 0===a&&(a="");var u;for(u=0;u<n.length;u++){var c=n[u],h=r[c];void 0!==h&&(h=o?t.addPrefix(h,l,s,i):t.formatNumber(h,i),e=e.replace(new RegExp("\\[\\["+a+c+"\\]\\]","g"),h))}}return e},t.formatDataContextValue=function(t,e){if(t){var r,n=t.match(/\[\[.*?\]\]/g);for(r=0;r<n.length;r++){var i=n[r],i=i.substr(2,i.length-4);void 0!==e[i]&&(t=t.replace(new RegExp("\\[\\["+i+"\\]\\]","g"),e[i]))}}return t},t.massReplace=function(t,e){for(var r in e)if(e.hasOwnProperty(r)){var n=e[r];void 0===n&&(n=""),t=t.replace(r,n)}return t},t.cleanFromEmpty=function(t){return t.replace(/\[\[[^\]]*\]\]/g,"")},t.addPrefix=function(e,r,n,i,a){var o,s,l,u=t.formatNumber(e,i),c="";if(0===e)return"0";if(0>e&&(c="-"),e=Math.abs(e),1<e){for(o=r.length-1;-1<o;o--)if(e>=r[o].number&&(s=e/r[o].number,l=Number(i.precision),1>l&&(l=1),n=t.roundTo(s,l),l=t.formatNumber(n,{precision:-1,decimalSeparator:i.decimalSeparator,thousandsSeparator:i.thousandsSeparator}),!a||s==n)){u=c+""+l+r[o].prefix;break}}else for(o=0;o<n.length;o++)if(e<=n[o].number){s=e/n[o].number,l=Math.abs(Math.floor(Math.log(s)*Math.LOG10E)),s=t.roundTo(s,l),u=c+""+s+n[o].prefix;break}return u},t.remove=function(t){t&&t.remove()},t.getEffect=function(t){return">"==t&&(t="easeOutSine"),"<"==t&&(t="easeInSine"),"elastic"==t&&(t="easeOutElastic"),t},t.getObjById=function(t,e){var r,n;for(n=0;n<t.length;n++){var i=t[n];if(i.id==e){r=i;break}}return r},t.applyTheme=function(e,r,n){r||(r=t.theme);try{r=JSON.parse(JSON.stringify(r))}catch(t){}r&&r[n]&&t.extend(e,r[n])},t.isString=function(t){return"string"==typeof t},t.extend=function(t,e,r){var n;t||(t={});for(n in e)r?t.hasOwnProperty(n)||(t[n]=e[n]):t[n]=e[n];return t},t.copyProperties=function(t,e){for(var r in t)t.hasOwnProperty(r)&&"events"!=r&&void 0!==t[r]&&"function"!=typeof t[r]&&"cname"!=r&&(e[r]=t[r])},t.processObject=function(e,r,n,i){if(!1==e instanceof r&&(e=i?t.extend(new r(n),e):t.extend(e,new r(n),!0),e.listeners))for(var a in e.listeners)r=e.listeners[a],e.addListener(r.event,r.method);return e},t.fixNewLines=function(t){var e=RegExp("\\n","g");return t&&(t=t.replace(e,"<br />")),t},t.fixBrakes=function(e){if(t.isModern){var r=RegExp("<br>","g");e&&(e=e.replace(r,"\n"))}else e=t.fixNewLines(e);return e},t.deleteObject=function(e,n){if(e&&(void 0!==n&&null!==n||(n=20),0!==n))if("[object Array]"===Object.prototype.toString.call(e))for(var i=0;i<e.length;i++)t.deleteObject(e[i],n-1),e[i]=null;else if(e&&!e.tagName)try{for(i in e.theme=null,e)e[i]&&("object"==r(e[i])&&t.deleteObject(e[i],n-1),"function"!=typeof e[i]&&(e[i]=null))}catch(t){}},t.bounce=function(t,e,r,n,i){return(e/=i)<1/2.75?7.5625*n*e*e+r:e<2/2.75?n*(7.5625*(e-=1.5/2.75)*e+.75)+r:e<2.5/2.75?n*(7.5625*(e-=2.25/2.75)*e+.9375)+r:n*(7.5625*(e-=2.625/2.75)*e+.984375)+r},t.easeInOutQuad=function(t,e,r,n,i){return e/=i/2,1>e?n/2*e*e+r:(e--,-n/2*(e*(e-2)-1)+r)},t.easeInSine=function(t,e,r,n,i){return-n*Math.cos(e/i*(Math.PI/2))+n+r},t.easeOutSine=function(t,e,r,n,i){return n*Math.sin(e/i*(Math.PI/2))+r},t.easeOutElastic=function(t,e,r,n,i){t=1.70158;var a=0,o=n;return 0===e?r:1==(e/=i)?r+n:(a||(a=.3*i),o<Math.abs(n)?(o=n,t=a/4):t=a/(2*Math.PI)*Math.asin(n/o),o*Math.pow(2,-10*e)*Math.sin(2*(e*i-t)*Math.PI/a)+n+r)},t.fixStepE=function(e){e=e.toExponential(0).split("e");var r=Number(e[1]);return 9==Number(e[0])&&r++,t.generateNumber(1,r)},t.generateNumber=function(t,e){var r,n="";r=0>e?Math.abs(e)-1:Math.abs(e);var i;for(i=0;i<r;i++)n+="0";return 0>e?Number("0."+n+String(t)):Number(String(t)+n)},t.setCN=function(t,e,r,n){if(t.addClassNames&&e&&(e=e.node)&&r){var i=e.getAttribute("class");t=t.classNamePrefix+"-",n&&(t=""),i?e.setAttribute("class",i+" "+t+r):e.setAttribute("class",t+r)}},t.removeCN=function(t,e,r){e&&(e=e.node)&&r&&(e=e.classList)&&e.remove(t.classNamePrefix+"-"+r)},t.parseDefs=function(e,n){for(var i in e){var a=r(e[i]);if(0<e[i].length&&"object"==a)for(var o=0;o<e[i].length;o++)a=document.createElementNS(t.SVG_NS,i),n.appendChild(a),t.parseDefs(e[i][o],a);else"object"==a?(a=document.createElementNS(t.SVG_NS,i),n.appendChild(a),t.parseDefs(e[i],a)):n.setAttribute(i,e[i])}}}(),function(){var t=window.AmCharts;t.AxisBase=t.Class({construct:function(e){this.createEvents("clickItem","rollOverItem","rollOutItem"),this.titleDY=this.y=this.x=this.dy=this.dx=0,this.axisThickness=1,this.axisColor="#000000",this.axisAlpha=1,this.gridCount=this.tickLength=5,this.gridAlpha=.15,this.gridThickness=1,this.gridColor="#000000",this.dashLength=0,this.labelFrequency=1,this.showLastLabel=this.showFirstLabel=!0,this.fillColor="#FFFFFF",this.fillAlpha=0,this.labelsEnabled=!0,this.labelRotation=0,this.autoGridCount=!0,this.offset=0,this.guides=[],this.visible=!0,this.counter=0,this.guides=[],this.ignoreAxisWidth=this.inside=!1,this.minHorizontalGap=75,this.minVerticalGap=35,this.titleBold=!0,this.minorGridEnabled=!1,this.minorGridAlpha=.07,this.autoWrap=!1,this.titleAlign="middle",this.labelOffset=0,this.bcn="axis-",this.centerLabels=!1,this.firstDayOfWeek=1,this.centerLabelOnFullPeriod=this.markPeriodChange=this.boldPeriodBeginning=!0,this.periods=[{period:"fff",count:1},{period:"fff",count:5},{period:"fff",count:10},{period:"fff",count:50},{period:"fff",count:100},{period:"fff",count:500},{period:"ss",count:1},{period:"ss",count:5},{period:"ss",count:10},{period:"ss",count:30},{period:"mm",count:1},{period:"mm",count:5},{period:"mm",count:10},{period:"mm",count:30},{period:"hh",count:1},{period:"hh",count:3},{period:"hh",count:6},{period:"hh",count:12},{period:"DD",count:1},{period:"DD",count:2},{period:"DD",count:3},{period:"DD",count:4},{period:"DD",count:5},{period:"WW",count:1},{period:"MM",count:1},{period:"MM",count:2},{period:"MM",count:3},{period:"MM",count:6},{period:"YYYY",count:1},{period:"YYYY",count:2},{period:"YYYY",count:5},{period:"YYYY",count:10},{period:"YYYY",count:50},{period:"YYYY",count:100}],this.dateFormats=[{period:"fff",format:"NN:SS.QQQ"},{period:"ss",format:"JJ:NN:SS"},{period:"mm",format:"JJ:NN"},{period:"hh",format:"JJ:NN"},{period:"DD",format:"MMM DD"},{period:"WW",format:"MMM DD"},{period:"MM",format:"MMM"},{period:"YYYY",format:"YYYY"}],this.nextPeriod={fff:"ss",ss:"mm",mm:"hh",hh:"DD",DD:"MM",MM:"YYYY"},t.applyTheme(this,e,"AxisBase")},zoom:function(t,e){this.start=t,this.end=e,this.dataChanged=!0,this.draw()},fixAxisPosition:function(){var t=this.position;"H"==this.orientation?("left"==t&&(t="bottom"),"right"==t&&(t="top")):("bottom"==t&&(t="left"),"top"==t&&(t="right")),this.position=t},init:function(){this.createBalloon()},draw:function(){var t=this.chart;this.prevBY=this.prevBX=NaN,this.allLabels=[],this.counter=0,this.destroy(),this.fixAxisPosition(),this.setBalloonBounds(),this.labels=[];var e=t.container,r=e.set();t.gridSet.push(r),this.set=r,e=e.set(),t.axesLabelsSet.push(e),this.labelsSet=e,this.axisLine=new this.axisRenderer(this),this.autoGridCount?("V"==this.orientation?(t=this.height/this.minVerticalGap,3>t&&(t=3)):t=this.width/this.minHorizontalGap,this.gridCountR=Math.max(t,1)):this.gridCountR=this.gridCount,this.axisWidth=this.axisLine.axisWidth,this.addTitle()},setOrientation:function(t){this.orientation=t?"H":"V"},addTitle:function(){var e=this.title;if(this.titleLabel=null,e){var r=this.chart,n=this.titleColor;void 0===n&&(n=r.color);var i=this.titleFontSize;isNaN(i)&&(i=r.fontSize+1),e=t.text(r.container,e,n,r.fontFamily,i,this.titleAlign,this.titleBold),t.setCN(r,e,this.bcn+"title"),this.titleLabel=e}},positionTitle:function(){var e=this.titleLabel;if(e){var r,n,i=this.labelsSet,a={};0<i.length()?a=i.getBBox():(a.x=0,a.y=0,a.width=this.width,a.height=this.height,t.VML&&(a.y+=this.y,a.x+=this.x)),i.push(e);var i=a.x,o=a.y;t.VML&&(o-=this.y,i-=this.x);var s=a.width,a=a.height,l=this.width,u=this.height,c=0,h=e.getBBox().height/2,g=this.inside,p=this.titleAlign;switch(this.position){case"top":r="left"==p?-1:"right"==p?l:l/2,n=o-10-h;break;case"bottom":r="left"==p?-1:"right"==p?l:l/2,n=o+a+10+h;break;case"left":r=i-10-h,g&&(r-=5),c=-90,n=("left"==p?u+1:"right"==p?-1:u/2)+this.titleDY;break;case"right":r=i+s+10+h,g&&(r+=7),
n=("left"==p?u+2:"right"==p?-2:u/2)+this.titleDY,c=-90}this.marginsChanged?(e.translate(r,n),this.tx=r,this.ty=n):e.translate(this.tx,this.ty),this.marginsChanged=!1,isNaN(this.titleRotation)||(c=this.titleRotation),0!==c&&e.rotate(c)}},pushAxisItem:function(t,e){var r=this,n=t.graphics();0<n.length()&&(e?r.labelsSet.push(n):r.set.push(n)),(n=t.getLabel())&&(r.labelsSet.push(n),n.click(function(e){r.handleMouse(e,t,"clickItem")}).touchend(function(e){r.handleMouse(e,t,"clickItem")}).mouseover(function(e){r.handleMouse(e,t,"rollOverItem")}).mouseout(function(e){r.handleMouse(e,t,"rollOutItem")}))},handleMouse:function(t,e,r){this.fire({type:r,value:e.value,serialDataItem:e.serialDataItem,axis:this,target:e.label,chart:this.chart,event:t})},addGuide:function(e){for(var r=this.guides,n=!1,i=r.length,a=0;a<r.length;a++)r[a]==e&&(n=!0,i=a);e=t.processObject(e,t.Guide,this.theme),e.id||(e.id="guideAuto"+i+"_"+(new Date).getTime()),n||r.push(e)},removeGuide:function(t){var e,r=this.guides;for(e=0;e<r.length;e++)r[e]==t&&r.splice(e,1)},handleGuideOver:function(t){clearTimeout(this.chart.hoverInt);var e=t.graphics.getBBox(),r=this.x+e.x+e.width/2,e=this.y+e.y+e.height/2,n=t.fillColor;void 0===n&&(n=t.lineColor),this.chart.showBalloon(t.balloonText,n,!0,r,e)},handleGuideOut:function(){this.chart.hideBalloon()},addEventListeners:function(t,e){var r=this;t.mouseover(function(){r.handleGuideOver(e)}),t.touchstart(function(){r.handleGuideOver(e)}),t.mouseout(function(){r.handleGuideOut(e)})},getBBox:function(){var e;return this.labelsSet&&(e=this.labelsSet.getBBox()),e?t.VML||(e={x:e.x+this.x,y:e.y+this.y,width:e.width,height:e.height}):e={x:0,y:0,width:0,height:0},e},destroy:function(){t.remove(this.set),t.remove(this.labelsSet);var e=this.axisLine;e&&t.remove(e.axisSet),t.remove(this.grid0)},chooseMinorFrequency:function(t){for(var e=10;0<e;e--)if(t/e==Math.round(t/e))return t/e},parseDatesDraw:function(){var e,r,n,i,a,o,s,l=this.chart,u=this.showFirstLabel,c=this.showLastLabel,h="",g=t.extractPeriod(this.minPeriod),p=t.getPeriodDuration(g.period,g.count),d=this.firstDayOfWeek,f=this.boldPeriodBeginning;e=this.minorGridEnabled;var A,C,m=this.gridAlpha,I=this.choosePeriod(0),v=I.period,I=I.count,y=t.getPeriodDuration(v,I);y<p&&(v=g.period,I=g.count,y=p),g=v,"WW"==g&&(g="DD"),this.stepWidth=this.getStepWidth(this.timeDifference);var b=Math.ceil(this.timeDifference/y)+5,x=n=t.resetDateToMin(new Date(this.startTime-y),v,I,d).getTime();(g==v&&1==I&&this.centerLabelOnFullPeriod||this.autoWrap||this.centerLabels)&&(a=y*this.stepWidth,this.autoWrap&&!this.centerLabels&&(a=-a)),this.cellWidth=p*this.stepWidth,o=Math.round(n/y),p=-1,o/2==Math.round(o/2)&&(p=-2,n-=y),o=this.firstTime;var w=0,N=0;if(e&&1<I&&(A=this.chooseMinorFrequency(I),C=t.getPeriodDuration(v,A),"DD"==v&&(C+=t.getPeriodDuration("hh")),"fff"==v&&(C=1)),0<this.gridCountR)for(b-5-p>this.autoRotateCount&&!isNaN(this.autoRotateAngle)&&(this.labelRotationR=this.autoRotateAngle),e=p;e<=b;e++){if(s=o+y*(e+Math.floor((x-o)/y))-w,"DD"==v&&(s+=36e5),s=t.resetDateToMin(new Date(s),v,I,d).getTime(),"MM"==v&&(r=(s-n)/y,1.5<=(s-n)/y&&(s=s-(r-1)*y+t.getPeriodDuration("DD",3),s=t.resetDateToMin(new Date(s),v,1).getTime(),w+=y)),r=(s-this.startTime)*this.stepWidth,"radar"==l.type){if(r=this.axisWidth-r,0>r||r>this.axisWidth)continue}else this.rotate?"date"==this.type&&"middle"==this.gridPosition&&(N=-y*this.stepWidth/2):"date"==this.type&&(r=this.axisWidth-r);if(h=!1,this.nextPeriod[g]&&(h=this.checkPeriodChange(this.nextPeriod[g],1,s,n,g)),n=!1,h&&this.markPeriodChange?(h=this.dateFormatsObject[this.nextPeriod[g]],this.twoLineMode&&(h=this.dateFormatsObject[g]+"\n"+h,h=t.fixBrakes(h)),n=!0):h=this.dateFormatsObject[g],f||(n=!1),this.currentDateFormat=h,h=t.formatDate(new Date(s),h,l),(e==p&&!u||e==b&&!c)&&(h=" "),this.labelFunction&&(h=this.labelFunction(h,new Date(s),this,v,I,i).toString()),this.boldLabels&&(n=!0),i=new this.axisItemRenderer(this,r,h,!1,a,N,!1,n),this.pushAxisItem(i),i=n=s,!isNaN(A))for(r=1;r<I;r+=A)this.gridAlpha=this.minorGridAlpha,h=s+C*r,h=t.resetDateToMin(new Date(h),v,A,d).getTime(),h=new this.axisItemRenderer(this,(h-this.startTime)*this.stepWidth,void 0,void 0,void 0,void 0,void 0,void 0,void 0,!0),this.pushAxisItem(h);this.gridAlpha=m}},choosePeriod:function(e){var r=t.getPeriodDuration(this.periods[e].period,this.periods[e].count),n=this.periods;return this.timeDifference<r&&0<e?n[e-1]:Math.ceil(this.timeDifference/r)<=this.gridCountR?n[e]:e+1<n.length?this.choosePeriod(e+1):n[e]},getStepWidth:function(t){var e;return this.startOnAxis?(e=this.axisWidth/(t-1),1==t&&(e=this.axisWidth)):e=this.axisWidth/t,e},timeZoom:function(t,e){this.startTime=t,this.endTime=e},minDuration:function(){var e=t.extractPeriod(this.minPeriod);return t.getPeriodDuration(e.period,e.count)},checkPeriodChange:function(e,r,n,i,a){n=new Date(n);var o=new Date(i),s=this.firstDayOfWeek;return i=r,"DD"==e&&(r=1),n=t.resetDateToMin(n,e,r,s).getTime(),r=t.resetDateToMin(o,e,r,s).getTime(),!("DD"==e&&"hh"!=a&&n-r<t.getPeriodDuration(e,i)-t.getPeriodDuration("hh",1))&&n!=r},generateDFObject:function(){this.dateFormatsObject={};var t;for(t=0;t<this.dateFormats.length;t++){var e=this.dateFormats[t];this.dateFormatsObject[e.period]=e.format}},hideBalloon:function(){this.balloon&&this.balloon.hide&&this.balloon.hide(),this.prevBY=this.prevBX=NaN},formatBalloonText:function(t){return t},showBalloon:function(t,e,r,n){var i=this.offset;switch(this.position){case"bottom":e=this.height+i;break;case"top":e=-i;break;case"left":t=-i;break;case"right":t=this.width+i}if(r||(r=this.currentDateFormat),"V"==this.orientation){if(0>e||e>this.height)return;if(isNaN(e))return void this.hideBalloon();e=this.adjustBalloonCoordinate(e,n),n=this.coordinateToValue(e)}else{if(0>t||t>this.width)return;if(isNaN(t))return void this.hideBalloon();t=this.adjustBalloonCoordinate(t,n),n=this.coordinateToValue(t)}var a;(i=this.chart.chartCursor)&&(a=i.index),this.balloon&&void 0!==n&&this.balloon.enabled&&(this.balloonTextFunction?("date"!=this.type&&!0!==this.parseDates||(n=new Date(n)),n=this.balloonTextFunction(n)):this.balloonText?n=this.formatBalloonText(this.balloonText,a,r):isNaN(n)||(n=this.formatValue(n,r)),t==this.prevBX&&e==this.prevBY||(this.balloon.setPosition(t,e),this.prevBX=t,this.prevBY=e,n&&this.balloon.showBalloon(n)))},adjustBalloonCoordinate:function(t){return t},createBalloon:function(){var e=this.chart,r=e.chartCursor;r&&(r=r.cursorPosition,"mouse"!=r&&(this.stickBalloonToCategory=!0),"start"==r&&(this.stickBalloonToStart=!0),"ValueAxis"==this.cname&&(this.stickBalloonToCategory=!1)),this.balloon&&(this.balloon.destroy&&this.balloon.destroy(),t.extend(this.balloon,e.balloon,!0))},setBalloonBounds:function(){var t=this.balloon;if(t){var e=this.chart;t.cornerRadius=0,t.shadowAlpha=0,t.borderThickness=1,t.borderAlpha=1,t.adjustBorderColor=!1,t.showBullet=!1,this.balloon=t,t.chart=e,t.mainSet=e.plotBalloonsSet,t.pointerWidth=this.tickLength,(this.parseDates||"date"==this.type)&&(t.pointerWidth=0),t.className=this.id,e="V","V"==this.orientation&&(e="H"),this.stickBalloonToCategory||(t.animationDuration=0);var r,n,i,a,o=this.inside,s=this.width,l=this.height;switch(this.position){case"bottom":r=0,n=s,o?(i=0,a=l):(i=l,a=l+1e3);break;case"top":r=0,n=s,o?(i=0,a=l):(i=-1e3,a=0);break;case"left":i=0,a=l,o?(r=0,n=s):(r=-1e3,n=0);break;case"right":i=0,a=l,o?(r=0,n=s):(r=s,n=s+1e3)}t.drop||(t.pointerOrientation=e),t.setBounds(r,i,n,a)}}})}(),function(){var t=window.AmCharts;t.ValueAxis=t.Class({inherits:t.AxisBase,construct:function(e){this.cname="ValueAxis",this.createEvents("axisChanged","logarithmicAxisFailed","axisZoomed","axisIntZoomed"),t.ValueAxis.base.construct.call(this,e),this.dataChanged=!0,this.stackType="none",this.position="left",this.unitPosition="right",this.includeAllValues=this.recalculateToPercents=this.includeHidden=this.includeGuidesInMinMax=this.integersOnly=!1,this.durationUnits={DD:"d. ",hh:":",mm:":",ss:""},this.scrollbar=!1,this.baseValue=0,this.radarCategoriesEnabled=!0,this.axisFrequency=1,this.gridType="polygons",this.useScientificNotation=!1,this.axisTitleOffset=10,this.pointPosition="axis",this.minMaxMultiplier=1,this.logGridLimit=2,this.totalTextOffset=this.treatZeroAs=0,this.minPeriod="ss",this.relativeStart=0,this.relativeEnd=1,t.applyTheme(this,e,this.cname)},updateData:function(){0>=this.gridCountR&&(this.gridCountR=1),this.totals=[],this.data=this.chart.chartData;var e=this.chart;"xy"!=e.type&&(this.stackGraphs("smoothedLine"),this.stackGraphs("line"),this.stackGraphs("column"),this.stackGraphs("step")),this.recalculateToPercents&&this.recalculate(),this.synchronizationMultiplier&&this.synchronizeWith?(t.isString(this.synchronizeWith)&&(this.synchronizeWith=e.getValueAxisById(this.synchronizeWith)),this.synchronizeWith&&(this.synchronizeWithAxis(this.synchronizeWith),this.foundGraphs=!0)):(this.foundGraphs=!1,this.getMinMax(),0===this.start&&this.end==this.data.length-1&&isNaN(this.minZoom)&&isNaN(this.maxZoom)&&(this.fullMin=this.min,this.fullMax=this.max,"date"!=this.type&&this.strictMinMax&&(isNaN(this.minimum)||(this.fullMin=this.minimum),isNaN(this.maximum)||(this.fullMax=this.maximum)),this.logarithmic&&(this.fullMin=this.logMin,0===this.fullMin&&(this.fullMin=this.treatZeroAs)),"date"==this.type&&(this.minimumDate||(this.fullMin=this.minRR),this.maximumDate||(this.fullMax=this.maxRR))))},draw:function(){t.ValueAxis.base.draw.call(this);var e=this.chart,r=this.set;this.labelRotationR=this.labelRotation,t.setCN(e,this.set,"value-axis value-axis-"+this.id),t.setCN(e,this.labelsSet,"value-axis value-axis-"+this.id),t.setCN(e,this.axisLine.axisSet,"value-axis value-axis-"+this.id);var n=this.type;if("duration"==n&&(this.duration="ss"),!0===this.dataChanged&&(this.updateData(),this.dataChanged=!1),"date"==n&&(this.logarithmic=!1,this.min=this.minRR,this.max=this.maxRR,this.reversed=!1,this.getDateMinMax()),this.logarithmic){var i=this.treatZeroAs,a=this.getExtremes(0,this.data.length-1).min;if(!isNaN(this.minimum)&&this.minimum<a&&(a=this.minimum),this.logMin=a,this.minReal<a&&(this.minReal=a),isNaN(this.minReal)&&(this.minReal=a),0<i&&0===a&&(this.minReal=a=i),0>=a||0>=this.minimum)return void this.fire({type:"logarithmicAxisFailed",chart:e})}this.grid0=null;var o,s,l=e.dx,u=e.dy,i=!1,a=this.logarithmic;if(isNaN(this.min)||isNaN(this.max)||!this.foundGraphs||1/0==this.min||-(1/0)==this.max)i=!0;else{"date"==this.type&&this.min==this.max&&(this.max+=this.minDuration(),this.min-=this.minDuration());var c=this.labelFrequency,h=this.showFirstLabel,g=this.showLastLabel,p=1,d=0;if(this.minCalc=this.min,this.maxCalc=this.max,this.strictMinMax&&(isNaN(this.minimum)||(this.min=this.minimum),isNaN(this.maximum)||(this.max=this.maximum),this.min==this.max))return;if(isNaN(this.minZoom)||(this.minReal=this.min=this.minZoom),isNaN(this.maxZoom)||(this.max=this.maxZoom),this.logarithmic){s=Math.log(this.fullMax)*Math.LOG10E-Math.log(this.fullMin)*Math.LOG10E;var f=Math.log(this.max)/Math.LN10-Math.log(this.fullMin)*Math.LOG10E;this.relativeStart=(Math.log(this.minReal)/Math.LN10-Math.log(this.fullMin)*Math.LOG10E)/s,this.relativeEnd=f/s}else this.relativeStart=t.fitToBounds((this.min-this.fullMin)/(this.fullMax-this.fullMin),0,1),this.relativeEnd=t.fitToBounds((this.max-this.fullMin)/(this.fullMax-this.fullMin),0,1);var A,f=Math.round((this.maxCalc-this.minCalc)/this.step)+1;!0===a?(A=Math.log(this.max)*Math.LOG10E-Math.log(this.minReal)*Math.LOG10E,this.stepWidth=this.axisWidth/A,A>this.logGridLimit&&(f=Math.ceil(Math.log(this.max)*Math.LOG10E)+1,d=Math.round(Math.log(this.minReal)*Math.LOG10E),f>this.gridCountR&&(p=Math.ceil(f/this.gridCountR)))):this.stepWidth=this.axisWidth/(this.max-this.min);var C=0;1>this.step&&-1<this.step&&(C=t.getDecimals(this.step)),this.integersOnly&&(C=0),C>this.maxDecCount&&(C=this.maxDecCount);var m=this.precision;isNaN(m)||(C=m),isNaN(this.maxZoom)&&(this.max=t.roundTo(this.max,this.maxDecCount),this.min=t.roundTo(this.min,this.maxDecCount)),s={},s.precision=C,s.decimalSeparator=e.nf.decimalSeparator,s.thousandsSeparator=e.nf.thousandsSeparator,this.numberFormatter=s;var I;for(this.exponential=!1,s=d;s<f;s+=p){var v=t.roundTo(this.step*s+this.min,C);-1!=String(v).indexOf("e")&&(this.exponential=!0)}this.duration&&(this.maxInterval=t.getMaxInterval(this.max,this.duration));var y,C=this.step,v=this.minorGridAlpha;if(this.minorGridEnabled&&(y=this.getMinorGridStep(C,this.stepWidth*C)),this.autoGridCount||0!==this.gridCount)if("date"==n)this.generateDFObject(),this.timeDifference=this.max-this.min,this.maxTime=this.lastTime=this.max,this.startTime=this.firstTime=this.min,this.parseDatesDraw();else for(f>=this.autoRotateCount&&!isNaN(this.autoRotateAngle)&&(this.labelRotationR=this.autoRotateAngle),n=this.minCalc,a&&(f++,n=this.maxCalc-f*C),this.gridCountReal=f,s=this.startCount=d;s<f;s+=p)if(d=C*s+n,d=t.roundTo(d,this.maxDecCount+1),(!this.integersOnly||Math.round(d)==d)&&(isNaN(m)||Number(t.toFixed(d,m))==d)){if(!0===a)if(A>this.logGridLimit)d=Math.pow(10,s);else if(0>=d&&(d=n+C*s+C/2,0>=d))continue;I=this.formatValue(d,!1,s),Math.round(s/c)!=s/c&&(I=void 0),(0===s&&!h||s==f-1&&!g)&&(I=" "),o=this.getCoordinate(d);var b;if(this.rotate&&this.autoWrap&&(b=this.stepWidth*C-10),I=new this.axisItemRenderer(this,o,I,void 0,b,void 0,void 0,this.boldLabels),this.pushAxisItem(I),d==this.baseValue&&"radar"!=e.type){var x,w,N=this.width,S=this.height;"H"==this.orientation?0<=o&&o<=N+1&&(x=[o,o,o+l],w=[S,0,u]):0<=o&&o<=S+1&&(x=[0,N,N+l],w=[o,o,o+u]),x&&(o=t.fitToBounds(2*this.gridAlpha,0,1),isNaN(this.zeroGridAlpha)||(o=this.zeroGridAlpha),o=t.line(e.container,x,w,this.gridColor,o,1,this.dashLength),o.translate(this.x,this.y),this.grid0=o,e.axesSet.push(o),o.toBack(),t.setCN(e,o,this.bcn+"zero-grid-"+this.id),t.setCN(e,o,this.bcn+"zero-grid"))}if(!isNaN(y)&&0<v&&s<f-1){for(o=C/y,a&&(y=C*(s+p)+this.minCalc,y=t.roundTo(y,this.maxDecCount+1),A>this.logGridLimit&&(y=Math.pow(10,s+p)),o=9,y=(y-d)/o),N=this.gridAlpha,this.gridAlpha=this.minorGridAlpha,S=1;S<o;S++){var T=this.getCoordinate(d+y*S),T=new this.axisItemRenderer(this,T,"",!1,0,0,!1,!1,0,!0);this.pushAxisItem(T)}this.gridAlpha=N}}if(A=this.guides,b=A.length,0<b){for(x=this.fillAlpha,s=this.fillAlpha=0;s<b;s++)w=A[s],l=NaN,y=w.above,isNaN(w.toValue)||(l=this.getCoordinate(w.toValue),I=new this.axisItemRenderer(this,l,"",!0,NaN,NaN,w),this.pushAxisItem(I,y)),u=NaN,isNaN(w.value)||(u=this.getCoordinate(w.value),I=new this.axisItemRenderer(this,u,w.label,!0,NaN,(l-u)/2,w),this.pushAxisItem(I,y)),isNaN(l)&&(u-=3,l=u+3),w.balloonText&&I&&(c=I.label)&&this.addEventListeners(c,w),isNaN(l-u)||0>u&&0>l||(l=new this.guideFillRenderer(this,u,l,w),this.pushAxisItem(l,y),y=l.graphics(),w.graphics=y,w.balloonText&&this.addEventListeners(y,w));this.fillAlpha=x}I=this.baseValue,this.min>this.baseValue&&this.max>this.baseValue&&(I=this.min),this.min<this.baseValue&&this.max<this.baseValue&&(I=this.max),a&&I<this.minReal&&(I=this.minReal),this.baseCoord=this.getCoordinate(I,!0),I={type:"axisChanged",target:this,chart:e},I.min=a?this.minReal:this.min,I.max=this.max,this.fire(I),this.axisCreated=!0}a=this.axisLine.set,I=this.labelsSet,r.translate(this.x,this.y),I.translate(this.x,this.y),this.positionTitle(),"radar"!=e.type&&a.toFront(),!this.visible||i?(r.hide(),a.hide(),I.hide()):(r.show(),a.show(),I.show()),this.axisY=this.y,this.axisX=this.x},getDateMinMax:function(){this.minimumDate&&(this.minimumDate instanceof Date||(this.minimumDate=t.getDate(this.minimumDate,this.chart.dataDateFormat,"fff")),this.min=this.minimumDate.getTime()),this.maximumDate&&(this.maximumDate instanceof Date||(this.maximumDate=t.getDate(this.maximumDate,this.chart.dataDateFormat,"fff")),this.max=this.maximumDate.getTime())},formatValue:function(e,r,n){var i=this.exponential,a=this.logarithmic,o=this.numberFormatter,s=this.chart;if(o)return!0===this.logarithmic&&(i=-1!=String(e).indexOf("e")),this.useScientificNotation&&(i=!0),this.usePrefixes&&(i=!1),i?(n=-1==String(e).indexOf("e")?e.toExponential(15):String(e),i=n.split("e"),n=Number(i[0]),i=Number(i[1]),n=t.roundTo(n,14),r||isNaN(this.precision)||(n=t.roundTo(n,this.precision)),10==n&&(n=1,i+=1),n=n+"e"+i,0===e&&(n="0"),1==e&&(n="1")):(a&&(i=String(e).split("."),i[1]?(o.precision=i[1].length,0>n&&(o.precision=Math.abs(n)),r&&1<e&&(o.precision=0),r||isNaN(this.precision)||(o.precision=this.precision)):o.precision=-1),n=this.usePrefixes?t.addPrefix(e,s.prefixesOfBigNumbers,s.prefixesOfSmallNumbers,o,!r):t.formatNumber(e,o,o.precision)),this.duration&&(r&&(o.precision=0),n=t.formatDuration(e,this.duration,"",this.durationUnits,this.maxInterval,o)),"date"==this.type&&(n=t.formatDate(new Date(e),this.currentDateFormat,s)),this.recalculateToPercents?n+="%":(r=this.unit)&&(n="left"==this.unitPosition?r+n:n+r),this.labelFunction&&(n="date"==this.type?this.labelFunction(n,new Date(e),this).toString():this.labelFunction(e,n,this).toString()),n},getMinorGridStep:function(t,e){var r=[5,4,2];60>e&&r.shift();for(var n=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),i=0;i<r.length;i++){var a=t/r[i],o=Math.floor(Math.log(Math.abs(a))*Math.LOG10E);if(!(1<Math.abs(n-o)))if(1>t){if(o=Math.pow(10,-o)*a,o==Math.round(o))return a}else if(a==Math.round(a))return a}},stackGraphs:function(e){var r=this.stackType;"stacked"==r&&(r="regular"),"line"==r&&(r="none"),"100% stacked"==r&&(r="100%"),this.stackType=r;var n,i,a,o,s,l,u=[],c=[],h=[],g=[],p=this.chart.graphs,d=this.baseValue,f=!1;if("line"!=e&&"step"!=e&&"smoothedLine"!=e||(f=!0),f&&("regular"==r||"100%"==r))for(s=0;s<p.length;s++)o=p[s],o.stackGraph=null,o.hidden||(a=o.type,o.chart==this.chart&&o.valueAxis==this&&e==a&&o.stackable&&(i&&(o.stackGraph=i),i=o));for(o=this.start-10,i=this.end+10,s=this.data.length-1,o=t.fitToBounds(o,0,s),i=t.fitToBounds(i,0,s),l=o;l<=i;l++){var A=0;for(s=0;s<p.length;s++)if(o=p[s],o.hidden)o.newStack&&(h[l]=NaN,c[l]=NaN);else if(a=o.type,o.chart==this.chart&&o.valueAxis==this&&e==a&&o.stackable)if(a=this.data[l].axes[this.id].graphs[o.id],n=a.values.value,isNaN(n))o.newStack&&(h[l]=NaN,c[l]=NaN);else{var C=t.getDecimals(n);A<C&&(A=C),isNaN(g[l])?g[l]=Math.abs(n):g[l]+=Math.abs(n),g[l]=t.roundTo(g[l],A),C=o.fillToGraph,f&&C&&(C=this.data[l].axes[this.id].graphs[C.id])&&(a.values.open=C.values.value),"regular"==r&&(f&&(isNaN(u[l])?(u[l]=n,a.values.close=n,a.values.open=this.baseValue):(isNaN(n)?a.values.close=u[l]:a.values.close=n+u[l],a.values.open=u[l],u[l]=a.values.close)),"column"==e&&(o.newStack&&(h[l]=NaN,c[l]=NaN),a.values.close=n,0>n?(a.values.close=n,isNaN(c[l])?a.values.open=d:(a.values.close+=c[l],a.values.open=c[l]),c[l]=a.values.close):(a.values.close=n,isNaN(h[l])?a.values.open=d:(a.values.close+=h[l],a.values.open=h[l]),h[l]=a.values.close)))}}for(l=this.start;l<=this.end;l++)for(s=0;s<p.length;s++)o=p[s],o.hidden?o.newStack&&(h[l]=NaN,c[l]=NaN):(a=o.type,o.chart==this.chart&&o.valueAxis==this&&e==a&&o.stackable&&(a=this.data[l].axes[this.id].graphs[o.id],n=a.values.value,isNaN(n)||(u=n/g[l]*100,a.values.percents=u,a.values.total=g[l],o.newStack&&(h[l]=NaN,c[l]=NaN),"100%"==r&&(isNaN(c[l])&&(c[l]=0),isNaN(h[l])&&(h[l]=0),0>u?(a.values.close=t.fitToBounds(u+c[l],-100,100),a.values.open=c[l],c[l]=a.values.close):(a.values.close=t.fitToBounds(u+h[l],-100,100),a.values.open=h[l],h[l]=a.values.close)))))},recalculate:function(){var e,r=this.chart,n=r.graphs;for(e=0;e<n.length;e++){var i=n[e];if(i.valueAxis==this){var a="value";"candlestick"!=i.type&&"ohlc"!=i.type||(a="open");var o,s,l=this.end+2,l=t.fitToBounds(this.end+1,0,this.data.length-1),u=this.start;0<u&&u--;var c;if(s=this.start,i.compareFromStart&&(s=0),!isNaN(r.startTime)&&(c=r.categoryAxis)){var h=c.minDuration(),h=new Date(r.startTime+h/2),g=t.resetDateToMin(new Date(r.startTime),c.minPeriod).getTime();t.resetDateToMin(new Date(h),c.minPeriod).getTime()>g&&s++}for((c=r.recalculateFromDate)&&(c=t.getDate(c,r.dataDateFormat,"fff"),s=r.getClosestIndex(r.chartData,"time",c.getTime(),!0,0,r.chartData.length),l=r.chartData.length-1),c=s;c<=l&&(s=this.data[c].axes[this.id].graphs[i.id],o=s.values[a],i.recalculateValue&&(o=s.dataContext[i.valueField+i.recalculateValue]),isNaN(o));c++);for(this.recBaseValue=o,a=u;a<=l;a++){s=this.data[a].axes[this.id].graphs[i.id],s.percents={};var p,u=s.values;for(p in u)s.percents[p]="percents"!=p?u[p]/o*100-100:u[p]}}}},getMinMax:function(){var e,r=!1,n=this.chart,i=n.graphs;for(e=0;e<i.length;e++){var a=i[e].type;("line"==a||"step"==a||"smoothedLine"==a)&&this.expandMinMax&&(r=!0)}if(r&&(0<this.start&&this.start--,this.end<this.data.length-1&&this.end++),"serial"==n.type&&(!0!==n.categoryAxis.parseDates||r||this.end<this.data.length-1&&this.end++),this.includeAllValues&&(this.start=0,this.end=this.data.length-1),r=this.minMaxMultiplier,n=this.getExtremes(this.start,this.end),this.min=n.min,this.max=n.max,this.minRR=this.min,this.maxRR=this.max,r=(this.max-this.min)*(r-1),this.min-=r,this.max+=r,r=this.guides.length,this.includeGuidesInMinMax&&0<r)for(n=0;n<r;n++)i=this.guides[n],i.toValue<this.min&&(this.min=i.toValue),i.value<this.min&&(this.min=i.value),i.toValue>this.max&&(this.max=i.toValue),i.value>this.max&&(this.max=i.value);isNaN(this.minimum)||(this.min=this.minimum),isNaN(this.maximum)||(this.max=this.maximum),"date"==this.type&&this.getDateMinMax(),this.min>this.max&&(r=this.max,this.max=this.min,this.min=r),isNaN(this.minZoom)||(this.min=this.minZoom),isNaN(this.maxZoom)||(this.max=this.maxZoom),this.minCalc=this.min,this.maxCalc=this.max,this.minReal=this.min,this.maxReal=this.max,0===this.min&&0===this.max&&(this.max=9),this.min>this.max&&(this.min=this.max-1),r=this.min,n=this.max,i=this.max-this.min,e=0===i?Math.pow(10,Math.floor(Math.log(Math.abs(this.max))*Math.LOG10E))/10:Math.pow(10,Math.floor(Math.log(Math.abs(i))*Math.LOG10E))/10,isNaN(this.maximum)&&(this.max=Math.ceil(this.max/e)*e+e),isNaN(this.minimum)&&(this.min=Math.floor(this.min/e)*e-e),0>this.min&&0<=r&&(this.min=0),0<this.max&&0>=n&&(this.max=0),"100%"==this.stackType&&(this.min=0>this.min?-100:0,this.max=0>this.max?0:100),i=this.max-this.min,e=Math.pow(10,Math.floor(Math.log(Math.abs(i))*Math.LOG10E))/10,this.step=Math.ceil(i/this.gridCountR/e)*e,i=Math.pow(10,Math.floor(Math.log(Math.abs(this.step))*Math.LOG10E)),i=t.fixStepE(i),e=Math.ceil(this.step/i),5<e&&(e=10),5>=e&&2<e&&(e=5),this.step=Math.ceil(this.step/(i*e))*i*e,isNaN(this.setStep)||(this.step=this.setStep),1>i?(this.maxDecCount=Math.abs(Math.log(Math.abs(i))*Math.LOG10E),this.maxDecCount=Math.round(this.maxDecCount),this.step=t.roundTo(this.step,this.maxDecCount+1)):this.maxDecCount=0,this.min=this.step*Math.floor(this.min/this.step),this.max=this.step*Math.ceil(this.max/this.step),0>this.min&&0<=r&&(this.min=0),0<this.max&&0>=n&&(this.max=0),1<this.minReal&&1<this.max-this.minReal&&(this.minReal=Math.floor(this.minReal)),i=Math.pow(10,Math.floor(Math.log(Math.abs(this.minReal))*Math.LOG10E)),0===this.min&&(this.minReal=i),0===this.min&&1<this.minReal&&(this.minReal=1),0<this.min&&0<this.minReal-this.step&&(this.minReal=this.min+this.step<this.minReal?this.min+this.step:this.min),this.logarithmic&&(2<Math.log(n)*Math.LOG10E-Math.log(r)*Math.LOG10E?(this.minReal=this.min=Math.pow(10,Math.floor(Math.log(Math.abs(r))*Math.LOG10E)),this.max=Math.pow(10,Math.ceil(Math.log(Math.abs(n))*Math.LOG10E))):(r=Math.pow(10,Math.floor(Math.log(Math.abs(r))*Math.LOG10E))/10,Math.pow(10,Math.floor(Math.log(Math.abs(this.min))*Math.LOG10E))/10<r&&(this.minReal=this.min=10*r)))},getExtremes:function(t,e){var r,n,i;for(i=t;i<=e;i++){var a,o=this.data[i].axes[this.id].graphs;for(a in o)if(o.hasOwnProperty(a)){var s=this.chart.graphsById[a];if(s.includeInMinMax&&(!s.hidden||this.includeHidden)){isNaN(r)&&(r=1/0),isNaN(n)&&(n=-(1/0)),this.foundGraphs=!0,s=o[a].values,this.recalculateToPercents&&(s=o[a].percents);var l;if(this.minMaxField)l=s[this.minMaxField],l<r&&(r=l),l>n&&(n=l);else for(var u in s)s.hasOwnProperty(u)&&"percents"!=u&&"total"!=u&&"error"!=u&&(l=s[u],l<r&&(r=l),l>n&&(n=l))}}}return{min:r,max:n}},zoomOut:function(t){this.maxZoom=this.minZoom=NaN,this.zoomToRelativeValues(0,1,t)},zoomToRelativeValues:function(t,e,r){if(this.reversed){var n=t;t=1-e,e=1-n}var i=this.fullMax,n=this.fullMin,a=n+(i-n)*t,o=n+(i-n)*e;return this.logarithmic&&(i=Math.log(i)*Math.LOG10E-Math.log(n)*Math.LOG10E,a=Math.pow(10,i*t+Math.log(n)*Math.LOG10E),o=Math.pow(10,i*e+Math.log(n)*Math.LOG10E)),this.zoomToValues(a,o,r)},zoomToValues:function(e,r,n){if(r<e){var i=r;r=e,e=i}var a=this.fullMax,i=this.fullMin;if(this.relativeStart=(e-i)/(a-i),this.relativeEnd=(r-i)/(a-i),this.logarithmic){var a=Math.log(a)*Math.LOG10E-Math.log(i)*Math.LOG10E,o=Math.log(r)/Math.LN10-Math.log(i)*Math.LOG10E;this.relativeStart=(Math.log(e)/Math.LN10-Math.log(i)*Math.LOG10E)/a,this.relativeEnd=o/a}if(this.minZoom!=e||this.maxZoom!=r)return this.minZoom=e,this.maxZoom=r,i={type:"axisZoomed"},i.chart=this.chart,i.valueAxis=this,i.startValue=e,i.endValue=r,i.relativeStart=this.relativeStart,i.relativeEnd=this.relativeEnd,this.prevStartValue==e&&this.prevEndValue==r||this.fire(i),this.prevStartValue=e,this.prevEndValue=r,n||(e={},t.copyProperties(i,e),e.type="axisIntZoomed",this.fire(e)),0===this.relativeStart&&1==this.relativeEnd&&(this.maxZoom=this.minZoom=NaN),!0},coordinateToValue:function(t){if(isNaN(t))return NaN;var e=this.axisWidth,r=this.stepWidth,n=this.reversed,i=this.rotate,a=this.min,o=this.minReal;return!0===this.logarithmic?Math.pow(10,(i?!0===n?(e-t)/r:t/r:!0===n?t/r:(e-t)/r)+Math.log(o)*Math.LOG10E):!0===n?i?a-(t-e)/r:t/r+a:i?t/r+a:a-(t-e)/r},getCoordinate:function(t,e){if(isNaN(t))return NaN;var r=this.rotate,n=this.reversed,i=this.axisWidth,a=this.stepWidth,o=this.min,s=this.minReal;return!0===this.logarithmic?(0===t&&(t=this.treatZeroAs),o=Math.log(t)*Math.LOG10E-Math.log(s)*Math.LOG10E,r=r?!0===n?i-a*o:a*o:!0===n?a*o:i-a*o):r=!0===n?r?i-a*(t-o):a*(t-o):r?a*(t-o):i-a*(t-o),1e7<Math.abs(r)&&(r=r/Math.abs(r)*1e7),e||(r=Math.round(r)),r},synchronizeWithAxis:function(t){this.synchronizeWith=t,this.listenTo(this.synchronizeWith,"axisChanged",this.handleSynchronization)},handleSynchronization:function(){if(this.synchronizeWith){t.isString(this.synchronizeWith)&&(this.synchronizeWith=this.chart.getValueAxisById(this.synchronizeWith));var e=this.synchronizeWith,r=e.min,n=e.max,e=e.step,i=this.synchronizationMultiplier;i&&(this.min=r*i,this.max=n*i,this.step=e*i,r=Math.abs(Math.log(Math.abs(Math.pow(10,Math.floor(Math.log(Math.abs(this.step))*Math.LOG10E))))*Math.LOG10E),this.maxDecCount=r=Math.round(r),this.draw())}}})}(),function(){var t=window.AmCharts;t.RecAxis=t.Class({construct:function(e){var r=e.chart,n=e.axisThickness,i=e.axisColor,a=e.axisAlpha,o=e.offset,s=e.dx,l=e.dy,u=e.x,c=e.y,h=e.height,g=e.width,p=r.container;"H"==e.orientation?(i=t.line(p,[0,g],[0,0],i,a,n),this.axisWidth=e.width,"bottom"==e.position?(l=n/2+o+h+c-1,n=u):(l=-n/2-o+c+l,n=s+u)):(this.axisWidth=e.height,"right"==e.position?(i=t.line(p,[0,0,-s],[0,h,h-l],i,a,n),l=c+l,n=n/2+o+s+g+u-1):(i=t.line(p,[0,0],[0,h],i,a,n),l=c,n=-n/2-o+u)),i.translate(n,l),n=r.container.set(),n.push(i),r.axesSet.push(n),t.setCN(r,i,e.bcn+"line"),this.axisSet=n,this.set=i}})}(),function(){var t=window.AmCharts;t.RecItem=t.Class({construct:function(e,r,n,i,a,o,s,l,u,c,h,g){r=Math.round(r);var p=e.chart;this.value=n,void 0==n&&(n=""),u||(u=0),void 0==i&&(i=!0);var d=p.fontFamily,f=e.fontSize;void 0==f&&(f=p.fontSize);var A=e.color;void 0==A&&(A=p.color),void 0!==h&&(A=h);var C=e.chart.container,m=C.set();this.set=m;var I=e.axisThickness,v=e.axisColor,y=e.axisAlpha,b=e.tickLength,x=e.gridAlpha,w=e.gridThickness,N=e.gridColor,S=e.dashLength,T=e.fillColor,E=e.fillAlpha,k=e.labelsEnabled;h=e.labelRotationR;var O,_,P=e.counter,M=e.inside,D=e.labelOffset,R=e.dx,L=e.dy,z=e.orientation,F=e.position,B=e.previousCoord,V=e.height,j=e.width,W=e.offset;s?(void 0!==s.id&&(g=p.classNamePrefix+"-guide-"+s.id),k=!0,isNaN(s.tickLength)||(b=s.tickLength),void 0!=s.lineColor&&(N=s.lineColor),void 0!=s.color&&(A=s.color),isNaN(s.lineAlpha)||(x=s.lineAlpha),isNaN(s.dashLength)||(S=s.dashLength),isNaN(s.lineThickness)||(w=s.lineThickness),!0===s.inside&&(M=!0,0<W&&(W=0)),isNaN(s.labelRotation)||(h=s.labelRotation),isNaN(s.fontSize)||(f=s.fontSize),s.position&&(F=s.position),void 0!==s.boldLabel&&(l=s.boldLabel),isNaN(s.labelOffset)||(D=s.labelOffset)):""===n&&(b=0),c&&!isNaN(e.minorTickLength)&&(b=e.minorTickLength);var G="start";0<a&&(G="middle"),e.centerLabels&&(G="middle");var U,H,Y=h*Math.PI/180,Z=0,X=0,q=0,K=U=0,J=0;"V"==z&&(h=0);var Q;k&&""!==n&&(Q=e.autoWrap&&0===h?t.wrappedText(C,n,A,d,f,G,l,Math.abs(a),0):t.text(C,n,A,d,f,G,l),G=Q.getBBox(),K=G.width,J=G.height),"H"==z?(0<=r&&r<=j+1&&(0<b&&0<y&&r+u<=j+1&&(O=t.line(C,[r+u,r+u],[0,b],v,y,w),m.push(O)),0<x&&(_=t.line(C,[r,r+R,r+R],[V,V+L,L],N,x,w,S),m.push(_))),X=0,Z=r,s&&90==h&&M&&(Z-=f),!1===i?(G="start",X="bottom"==F?M?X+b:X-b:M?X-b:X+b,Z+=3,0<a&&(Z+=a/2-3,G="middle"),0<h&&(G="middle")):G="middle",1==P&&0<E&&!s&&!c&&B<j&&(i=t.fitToBounds(r,0,j),B=t.fitToBounds(B,0,j),U=i-B,0<U&&(H=t.rect(C,U,e.height,T,E),H.translate(i-U+R,L),m.push(H))),"bottom"==F?(X+=V+f/2+W,M?(0<h?(X=V-K/2*Math.sin(Y)-b-3,e.centerRotatedLabels||(Z+=K/2*Math.cos(Y)-4+2)):0>h?(X=V+K*Math.sin(Y)-b-3+2,Z+=-K*Math.cos(Y)-J*Math.sin(Y)-4):X-=b+f+3+3,X-=D):(0<h?(X=V+K/2*Math.sin(Y)+b+3,e.centerRotatedLabels||(Z-=K/2*Math.cos(Y))):0>h?(X=V+b+3-K/2*Math.sin(Y)+2,Z+=K/2*Math.cos(Y)):X+=b+I+3+3,X+=D)):(X+=L+f/2-W,Z+=R,M?(0<h?(X=K/2*Math.sin(Y)+b+3,e.centerRotatedLabels||(Z-=K/2*Math.cos(Y))):X+=b+3,X+=D):(0<h?(X=-(K/2)*Math.sin(Y)-b-6,e.centerRotatedLabels||(Z+=K/2*Math.cos(Y))):X-=b+f+3+I+3,X-=D)),"bottom"==F?U=(M?V-b-1:V+I-1)+W:(q=R,U=(M?L:L-b-I+1)-W),o&&(Z+=o),f=Z,0<h&&(f+=K/2*Math.cos(Y)),Q&&(o=0,M&&(o=K/2*Math.cos(Y)),f+o>j+2||0>f)&&(Q.remove(),Q=null)):(0<=r&&r<=V+1&&(0<b&&0<y&&r+u<=V+1&&(O=t.line(C,[0,b+1],[r+u,r+u],v,y,w),m.push(O)),0<x&&(_=t.line(C,[0,R,j+R],[r,r+L,r+L],N,x,w,S),m.push(_))),G="end",(!0===M&&"left"==F||!1===M&&"right"==F)&&(G="start"),X=r-J/2+2,1==P&&0<E&&!s&&!c&&(i=t.fitToBounds(r,0,V),B=t.fitToBounds(B,0,V),Y=i-B,H=t.polygon(C,[0,e.width,e.width,0],[0,0,Y,Y],T,E),H.translate(R,i-Y+L),m.push(H)),X+=f/2,"right"==F?(Z+=R+j+W,X+=L,M?(o||(X-=f/2+3),Z=Z-(b+4)-D):(Z+=b+4+I,X-=2,Z+=D)):M?(Z+=b+4-W,o||(X-=f/2+3),s&&(Z+=R,X+=L),Z+=D):(Z+=-b-I-4-2-W,X-=2,Z-=D),O&&("right"==F?(q+=R+W+j-1,U+=L,q=M?q-I:q+I):(q-=W,M||(q-=b+I))),o&&(X+=o),M=-3,"right"==F&&(M+=L),Q&&(X>V+1||X<M-f/10)&&(Q.remove(),Q=null)),O&&(O.translate(q,U),t.setCN(p,O,e.bcn+"tick"),t.setCN(p,O,g,!0),s&&t.setCN(p,O,"guide")),!1===e.visible&&(O&&O.remove(),Q&&(Q.remove(),Q=null)),Q&&(Q.attr({"text-anchor":G}),Q.translate(Z,X,NaN,!0),0!==h&&Q.rotate(-h,e.chart.backgroundColor),e.allLabels.push(Q),this.label=Q,t.setCN(p,Q,e.bcn+"label"),t.setCN(p,Q,g,!0),s&&t.setCN(p,Q,"guide")),_&&(t.setCN(p,_,e.bcn+"grid"),t.setCN(p,_,g,!0),s&&t.setCN(p,_,"guide")),H&&(t.setCN(p,H,e.bcn+"fill"),t.setCN(p,H,g,!0)),c?_&&t.setCN(p,_,e.bcn+"grid-minor"):(e.counter=0===P?1:0,e.previousCoord=r),0===this.set.node.childNodes.length&&this.set.remove()},graphics:function(){return this.set},getLabel:function(){return this.label}})}(),function(){var t=window.AmCharts;t.RecFill=t.Class({construct:function(e,n,i,a){var o=e.dx,s=e.dy,l=e.orientation,u=0;if(i<n){var c=n;n=i,i=c}var h=a.fillAlpha;isNaN(h)&&(h=0);var c=e.chart.container,g=a.fillColor;"V"==l?(n=t.fitToBounds(n,0,e.height),i=t.fitToBounds(i,0,e.height)):(n=t.fitToBounds(n,0,e.width),i=t.fitToBounds(i,0,e.width)),i-=n,isNaN(i)&&(i=4,u=2,h=0),0>i&&"object"==("undefined"==typeof g?"undefined":r(g))&&(g=g.join(",").split(",").reverse()),"V"==l?(l=t.rect(c,e.width,i,g,h),l.translate(o,n-u+s)):(l=t.rect(c,i,e.height,g,h),l.translate(n-u+o,s)),t.setCN(e.chart,l,"guide-fill"),a.id&&t.setCN(e.chart,l,"guide-fill-"+a.id),this.set=c.set([l])},graphics:function(){return this.set},getLabel:function(){}})}(),function(){var t=window.AmCharts;t.AmChart=t.Class({construct:function(e){this.svgIcons=this.tapToActivate=!0,
this.theme=e,this.classNamePrefix="amcharts",this.addClassNames=!1,this.version="3.20.14",t.addChart(this),this.createEvents("buildStarted","dataUpdated","init","rendered","drawn","failed","resized","animationFinished"),this.height=this.width="100%",this.dataChanged=!0,this.chartCreated=!1,this.previousWidth=this.previousHeight=0,this.backgroundColor="#FFFFFF",this.borderAlpha=this.backgroundAlpha=0,this.color=this.borderColor="#000000",this.fontFamily="Verdana",this.fontSize=11,this.usePrefixes=!1,this.autoResize=!0,this.autoDisplay=!1,this.addCodeCredits=this.accessible=!0,this.touchStartTime=this.touchClickDuration=0,this.precision=-1,this.percentPrecision=2,this.decimalSeparator=".",this.thousandsSeparator=",",this.labels=[],this.allLabels=[],this.titles=[],this.marginRight=this.marginLeft=this.autoMarginOffset=0,this.timeOuts=[],this.creditsPosition="top-left";var r=document.createElement("div"),n=r.style;n.overflow="hidden",n.position="relative",n.textAlign="left",this.chartDiv=r,r=document.createElement("div"),n=r.style,n.overflow="hidden",n.position="relative",n.textAlign="left",this.legendDiv=r,this.titleHeight=0,this.hideBalloonTime=150,this.handDrawScatter=2,this.cssScale=this.handDrawThickness=1,this.cssAngle=0,this.prefixesOfBigNumbers=[{number:1e3,prefix:"k"},{number:1e6,prefix:"M"},{number:1e9,prefix:"G"},{number:1e12,prefix:"T"},{number:1e15,prefix:"P"},{number:1e18,prefix:"E"},{number:1e21,prefix:"Z"},{number:1e24,prefix:"Y"}],this.prefixesOfSmallNumbers=[{number:1e-24,prefix:"y"},{number:1e-21,prefix:"z"},{number:1e-18,prefix:"a"},{number:1e-15,prefix:"f"},{number:1e-12,prefix:"p"},{number:1e-9,prefix:"n"},{number:1e-6,prefix:""},{number:.001,prefix:"m"}],this.panEventsEnabled=!0,this.product="amcharts",this.animations=[],this.balloon=new t.AmBalloon(this.theme),this.balloon.chart=this,this.processTimeout=0,this.processCount=1e3,this.animatable=[],this.langObj={},t.applyTheme(this,e,"AmChart")},drawChart:function(){0<this.realWidth&&0<this.realHeight&&(this.drawBackground(),this.redrawLabels(),this.drawTitles(),this.brr(),this.renderFix(),this.chartDiv&&(this.boundingRect=this.chartDiv.getBoundingClientRect()))},makeAccessible:function(t,e,r){this.accessible&&t&&(r&&t.setAttr("role",r),t.setAttr("aria-label",e))},drawBackground:function(){t.remove(this.background);var e=this.container,r=this.backgroundColor,n=this.backgroundAlpha,i=this.set;t.isModern||0!==n||(n=.001);var a=this.updateWidth();this.realWidth=a;var o=this.updateHeight();this.realHeight=o,r=t.polygon(e,[0,a-1,a-1,0],[0,0,o-1,o-1],r,n,1,this.borderColor,this.borderAlpha),t.setCN(this,r,"bg"),this.background=r,i.push(r),(r=this.backgroundImage)&&(e=e.image(r,0,0,a,o),t.setCN(this,r,"bg-image"),this.bgImg=e,i.push(e))},drawTitles:function(e){var r=this.titles;if(this.titleHeight=0,t.ifArray(r)){var n,i=20;for(n=0;n<r.length;n++){var a=r[n],a=t.processObject(a,t.Title,this.theme);if(!1!==a.enabled){var o=a.color;void 0===o&&(o=this.color);var s=a.size;isNaN(s)&&(s=this.fontSize+2),isNaN(a.alpha);var l=this.marginLeft,u=!0;void 0!==a.bold&&(u=a.bold),o=t.wrappedText(this.container,a.text,o,this.fontFamily,s,"middle",u,this.realWidth-35),o.translate(l+(this.realWidth-this.marginRight-l)/2,i),o.node.style.pointerEvents="none",a.sprite=o,void 0!==a.tabIndex&&o.setAttr("tabindex",a.tabIndex),t.setCN(this,o,"title"),a.id&&t.setCN(this,o,"title-"+a.id),o.attr({opacity:a.alpha}),i+=o.getBBox().height+5,e?o.remove():this.freeLabelsSet.push(o)}}this.titleHeight=i-10}},write:function(t){var e=this;if(e.listeners)for(var r=0;r<e.listeners.length;r++){var n=e.listeners[r];e.addListener(n.event,n.method)}e.fire({type:"buildStarted",chart:e}),e.afterWriteTO&&clearTimeout(e.afterWriteTO),0<e.processTimeout?e.afterWriteTO=setTimeout(function(){e.afterWrite.call(e,t)},e.processTimeout):e.afterWrite(t)},afterWrite:function(e){var n;if(n="object"!=("undefined"==typeof e?"undefined":r(e))?document.getElementById(e):e){for(;n.firstChild;)n.removeChild(n.firstChild);this.div=n,n.style.overflow="hidden",n.style.textAlign="left",e=this.chartDiv;var i=this.legendDiv,a=this.legend,o=i.style,s=e.style;this.measure(),this.previousHeight=this.divRealHeight,this.previousWidth=this.divRealWidth;var l,u=document.createElement("div");if(l=u.style,l.position="relative",this.containerDiv=u,u.className=this.classNamePrefix+"-main-div",e.className=this.classNamePrefix+"-chart-div",n.appendChild(u),(n=this.exportConfig)&&t.AmExport&&!this.AmExport&&(this.AmExport=new t.AmExport(this,n)),this.amExport&&t.AmExport&&(this.AmExport=t.extend(this.amExport,new t.AmExport(this),!0)),this.AmExport&&this.AmExport.init&&this.AmExport.init(),a){if(a=this.addLegend(a,a.divId),a.enabled)switch(o.left=null,o.top=null,o.right=null,s.left=null,s.right=null,s.top=null,o.position="relative",s.position="relative",l.width="100%",l.height="100%",a.position){case"bottom":u.appendChild(e),u.appendChild(i);break;case"top":u.appendChild(i),u.appendChild(e);break;case"absolute":o.position="absolute",s.position="absolute",void 0!==a.left&&(o.left=a.left+"px"),void 0!==a.right&&(o.right=a.right+"px"),void 0!==a.top&&(o.top=a.top+"px"),void 0!==a.bottom&&(o.bottom=a.bottom+"px"),a.marginLeft=0,a.marginRight=0,u.appendChild(e),u.appendChild(i);break;case"right":o.position="relative",s.position="absolute",u.appendChild(e),u.appendChild(i);break;case"left":o.position="absolute",s.position="relative",u.appendChild(e),u.appendChild(i);break;case"outside":u.appendChild(e)}else u.appendChild(e);this.prevLegendPosition=a.position}else u.appendChild(e);this.listenersAdded||(this.addListeners(),this.listenersAdded=!0),this.initChart()}},createLabelsSet:function(){t.remove(this.labelsSet),this.labelsSet=this.container.set(),this.freeLabelsSet.push(this.labelsSet)},initChart:function(){this.balloon=t.processObject(this.balloon,t.AmBalloon,this.theme),window.AmCharts_path&&(this.path=window.AmCharts_path),void 0===this.path&&(this.path=t.getPath()),void 0===this.path&&(this.path="amcharts/"),this.path=t.normalizeUrl(this.path),void 0===this.pathToImages&&(this.pathToImages=this.path+"images/"),this.initHC||(t.callInitHandler(this),this.initHC=!0),t.applyLang(this.language,this);var e=this.numberFormatter;e&&(isNaN(e.precision)||(this.precision=e.precision),void 0!==e.thousandsSeparator&&(this.thousandsSeparator=e.thousandsSeparator),void 0!==e.decimalSeparator&&(this.decimalSeparator=e.decimalSeparator)),(e=this.percentFormatter)&&!isNaN(e.precision)&&(this.percentPrecision=e.precision),this.nf={precision:this.precision,thousandsSeparator:this.thousandsSeparator,decimalSeparator:this.decimalSeparator},this.pf={precision:this.percentPrecision,thousandsSeparator:this.thousandsSeparator,decimalSeparator:this.decimalSeparator},this.destroy(),(e=this.container)?(e.container.innerHTML="",e.width=this.realWidth,e.height=this.realHeight,e.addDefs(this),this.chartDiv.appendChild(e.container)):e=new t.AmDraw(this.chartDiv,this.realWidth,this.realHeight,this),this.container=e,this.extension=".png",this.svgIcons&&t.SVG&&(this.extension=".svg"),this.checkDisplay(),this.checkTransform(this.div),e.chart=this,t.VML||t.SVG?(e.handDrawn=this.handDrawn,e.handDrawScatter=this.handDrawScatter,e.handDrawThickness=this.handDrawThickness,t.remove(this.set),this.set=e.set(),t.remove(this.gridSet),this.gridSet=e.set(),t.remove(this.cursorLineSet),this.cursorLineSet=e.set(),t.remove(this.graphsBehindSet),this.graphsBehindSet=e.set(),t.remove(this.bulletBehindSet),this.bulletBehindSet=e.set(),t.remove(this.columnSet),this.columnSet=e.set(),t.remove(this.graphsSet),this.graphsSet=e.set(),t.remove(this.trendLinesSet),this.trendLinesSet=e.set(),t.remove(this.axesSet),this.axesSet=e.set(),t.remove(this.cursorSet),this.cursorSet=e.set(),t.remove(this.scrollbarsSet),this.scrollbarsSet=e.set(),t.remove(this.bulletSet),this.bulletSet=e.set(),t.remove(this.freeLabelsSet),this.freeLabelsSet=e.set(),t.remove(this.axesLabelsSet),this.axesLabelsSet=e.set(),t.remove(this.balloonsSet),this.balloonsSet=e.set(),t.remove(this.plotBalloonsSet),this.plotBalloonsSet=e.set(),t.remove(this.zoomButtonSet),this.zoomButtonSet=e.set(),t.remove(this.zbSet),this.zbSet=null,t.remove(this.linkSet),this.linkSet=e.set()):this.fire({type:"failed",chart:this})},premeasure:function(){var t=this.div;if(t){try{this.boundingRect=this.chartDiv.getBoundingClientRect()}catch(t){}var e=t.offsetWidth,r=t.offsetHeight;t.clientHeight&&(e=t.clientWidth,r=t.clientHeight),e==this.mw&&r==this.mh||(this.mw=e,this.mh=r,this.measure())}},measure:function(){var e=this.div;if(e){var r=this.chartDiv,n=e.offsetWidth,i=e.offsetHeight,a=this.container;e.clientHeight&&(n=e.clientWidth,i=e.clientHeight);var i=Math.round(i),n=Math.round(n),e=Math.round(t.toCoordinate(this.width,n)),o=Math.round(t.toCoordinate(this.height,i));(n!=this.previousWidth||i!=this.previousHeight)&&0<e&&0<o&&(r.style.width=e+"px",r.style.height=o+"px",r.style.padding=0,a&&a.setSize(e,o),this.balloon=t.processObject(this.balloon,t.AmBalloon,this.theme)),this.balloon.setBounds&&this.balloon.setBounds(2,2,e-2,o),this.balloon.chart=this,this.realWidth=e,this.realHeight=o,this.divRealWidth=n,this.divRealHeight=i}},checkDisplay:function(){if(this.autoDisplay&&this.container){var e=t.rect(this.container,10,10),r=e.getBBox();0===r.width&&0===r.height&&(this.divRealHeight=this.divRealWidth=this.realHeight=this.realWidth=0,this.previousWidth=this.previousHeight=NaN),e.remove()}},checkTransform:function(t){if(this.autoTransform&&window.getComputedStyle&&t){if(t.style){var e=window.getComputedStyle(t,null);if(e&&(e=e.getPropertyValue("-webkit-transform")||e.getPropertyValue("-moz-transform")||e.getPropertyValue("-ms-transform")||e.getPropertyValue("-o-transform")||e.getPropertyValue("transform"))&&"none"!==e){var r=e.split("(")[1].split(")")[0].split(","),e=r[0],r=r[1],e=Math.sqrt(e*e+r*r);isNaN(e)||(this.cssScale*=e)}}t.parentNode&&this.checkTransform(t.parentNode)}},destroy:function(){this.chartDiv.innerHTML="",this.clearTimeOuts(),this.legend&&this.legend.destroy()},clearTimeOuts:function(){var t=this.timeOuts;if(t){var e;for(e=0;e<t.length;e++)clearTimeout(t[e])}this.timeOuts=[]},clear:function(e){try{document.removeEventListener("touchstart",this.docfn1,!0),document.removeEventListener("touchend",this.docfn2,!0)}catch(t){}if(t.callMethod("clear",[this.chartScrollbar,this.scrollbarV,this.scrollbarH,this.chartCursor]),this.chartCursor=this.scrollbarH=this.scrollbarV=this.chartScrollbar=null,this.clearTimeOuts(),this.container&&(this.container.remove(this.chartDiv),this.container.remove(this.legendDiv)),e||t.removeChart(this),e=this.div)for(;e.firstChild;)e.removeChild(e.firstChild);this.legend&&this.legend.destroy(),this.AmExport&&this.AmExport.clear&&this.AmExport.clear()},setMouseCursor:function(e){"auto"==e&&t.isNN&&(e="default"),this.chartDiv.style.cursor=e,this.legendDiv.style.cursor=e},redrawLabels:function(){this.labels=[];var t=this.allLabels;this.createLabelsSet();var e;for(e=0;e<t.length;e++)this.drawLabel(t[e])},drawLabel:function(e){var r=this;if(r.container&&!1!==e.enabled){e=t.processObject(e,t.Label,r.theme);var n=e.y,i=e.text,a=e.align,o=e.size,s=e.color,l=e.rotation,u=e.alpha,c=e.bold,h=t.toCoordinate(e.x,r.realWidth),n=t.toCoordinate(n,r.realHeight);h||(h=0),n||(n=0),void 0===s&&(s=r.color),isNaN(o)&&(o=r.fontSize),a||(a="start"),"left"==a&&(a="start"),"right"==a&&(a="end"),"center"==a&&(a="middle",l?n=r.realHeight-n+n/2:h=r.realWidth/2-h),void 0===u&&(u=1),void 0===l&&(l=0),n+=o/2,i=t.text(r.container,i,s,r.fontFamily,o,a,c,u),i.translate(h,n),void 0!==e.tabIndex&&i.setAttr("tabindex",e.tabIndex),t.setCN(r,i,"label"),e.id&&t.setCN(r,i,"label-"+e.id),0!==l&&i.rotate(l),e.url?(i.setAttr("cursor","pointer"),i.click(function(){t.getURL(e.url,r.urlTarget)})):i.node.style.pointerEvents="none",r.labelsSet.push(i),r.labels.push(i)}},addLabel:function(t,e,r,n,i,a,o,s,l,u){t={x:t,y:e,text:r,align:n,size:i,color:a,alpha:s,rotation:o,bold:l,url:u,enabled:!0},this.container&&this.drawLabel(t),this.allLabels.push(t)},clearLabels:function(){var t,e=this.labels;for(t=e.length-1;0<=t;t--)e[t].remove();this.labels=[],this.allLabels=[]},updateHeight:function(){var t=this.divRealHeight,e=this.legend;if(e){var r=this.legendDiv.offsetHeight,e=e.position;"top"!=e&&"bottom"!=e||(t-=r,(0>t||isNaN(t))&&(t=0),this.chartDiv.style.height=t+"px")}return t},updateWidth:function(){var t=this.divRealWidth,e=this.divRealHeight,r=this.legend;if(r){var n=this.legendDiv,i=n.offsetWidth;isNaN(r.width)||(i=r.width),r.ieW&&(i=r.ieW);var a=n.offsetHeight,n=n.style,o=this.chartDiv.style,r=r.position;"right"!=r&&"left"!=r||(t-=i,(0>t||isNaN(t))&&(t=0),o.width=t+"px",this.balloon.setBounds(2,2,t-2,this.realHeight),"left"==r?(o.left=i+"px",n.left="0px"):(o.left="0px",n.left=t+"px"),e>a&&(n.top=(e-a)/2+"px"))}return t},getTitleHeight:function(){return this.drawTitles(!0),this.titleHeight},addTitle:function(t,e,r,n,i){return isNaN(e)&&(e=this.fontSize+2),t={text:t,size:e,color:r,alpha:n,bold:i,enabled:!0},this.titles.push(t),t},handleWheel:function(t){var e=0;t||(t=window.event),t.wheelDelta?e=t.wheelDelta/120:t.detail&&(e=-t.detail/3),e&&this.handleWheelReal(e,t.shiftKey),t.preventDefault&&t.preventDefault()},handleWheelReal:function(){},handleDocTouchStart:function(){var t=this;setTimeout(function(){t.hideBalloonReal()},300),t.handleMouseMove(),t.tmx=t.mouseX,t.tmy=t.mouseY,t.touchStartTime=(new Date).getTime()},handleDocTouchEnd:function(){-.5<this.tmx&&this.tmx<this.divRealWidth+1&&0<this.tmy&&this.tmy<this.divRealHeight?(this.handleMouseMove(),4>Math.abs(this.mouseX-this.tmx)&&4>Math.abs(this.mouseY-this.tmy)?(this.tapped=!0,this.panRequired&&this.panEventsEnabled&&this.chartDiv&&(this.chartDiv.style.msTouchAction="none",this.chartDiv.style.touchAction="none")):this.mouseIsOver||this.resetTouchStyle()):(this.tapped=!1,this.resetTouchStyle())},resetTouchStyle:function(){this.panEventsEnabled&&this.chartDiv&&(this.chartDiv.style.msTouchAction="auto",this.chartDiv.style.touchAction="auto")},checkTouchDuration:function(t){var e=this,r=(new Date).getTime();if(t)if(t.touches)e.isTouchEvent=!0;else if(!e.isTouchEvent)return!0;return r-e.touchStartTime>e.touchClickDuration||void setTimeout(function(){e.resetTouchDuration()},300)},resetTouchDuration:function(){this.isTouchEvent=!1},checkTouchMoved:function(){if(4<Math.abs(this.mouseX-this.tmx)||4<Math.abs(this.mouseY-this.tmy))return!0},addListeners:function(){var t=this,e=t.chartDiv;document.addEventListener?("ontouchstart"in document.documentElement&&(e.addEventListener("touchstart",function(e){t.handleTouchStart.call(t,e)},!0),e.addEventListener("touchmove",function(e){t.handleMouseMove.call(t,e)},!0),e.addEventListener("touchend",function(e){t.handleTouchEnd.call(t,e)},!0),t.docfn1=function(e){t.handleDocTouchStart.call(t,e)},t.docfn2=function(e){t.handleDocTouchEnd.call(t,e)},document.addEventListener("touchstart",t.docfn1,!0),document.addEventListener("touchend",t.docfn2,!0)),e.addEventListener("mousedown",function(e){t.mouseIsOver=!0,t.handleMouseMove.call(t,e),t.handleMouseDown.call(t,e),t.handleDocTouchStart.call(t,e)},!0),e.addEventListener("mouseover",function(e){t.handleMouseOver.call(t,e)},!0),e.addEventListener("mouseout",function(e){t.handleMouseOut.call(t,e)},!0),e.addEventListener("mouseup",function(e){t.handleDocTouchEnd.call(t,e)},!0)):(e.attachEvent("onmousedown",function(e){t.handleMouseDown.call(t,e)}),e.attachEvent("onmouseover",function(e){t.handleMouseOver.call(t,e)}),e.attachEvent("onmouseout",function(e){t.handleMouseOut.call(t,e)}))},dispDUpd:function(){this.skipEvents||(this.dispatchDataUpdated&&(this.dispatchDataUpdated=!1,this.fire({type:"dataUpdated",chart:this})),this.chartCreated||(this.chartCreated=!0,this.fire({type:"init",chart:this})),this.chartRendered||(this.fire({type:"rendered",chart:this}),this.chartRendered=!0),this.fire({type:"drawn",chart:this})),this.skipEvents=!1},validateSize:function(){var t=this;if(t.premeasure(),t.checkDisplay(),t.cssScale=1,t.cssAngle=0,t.checkTransform(t.div),t.divRealWidth!=t.previousWidth||t.divRealHeight!=t.previousHeight){var e=t.legend;if(0<t.realWidth&&0<t.realHeight){if(t.sizeChanged=!0,e){t.legendInitTO&&clearTimeout(t.legendInitTO);var r=setTimeout(function(){e.invalidateSize()},10);t.timeOuts.push(r),t.legendInitTO=r}t.marginsUpdated=!1,clearTimeout(t.initTO),r=setTimeout(function(){t.initChart()},10),t.timeOuts.push(r),t.initTO=r}t.renderFix(),e&&e.renderFix&&e.renderFix(),clearTimeout(t.resizedTO),t.resizedTO=setTimeout(function(){t.fire({type:"resized",chart:t})},10),t.previousHeight=t.divRealHeight,t.previousWidth=t.divRealWidth}},invalidateSize:function(){this.previousHeight=this.previousWidth=NaN,this.invalidateSizeReal()},invalidateSizeReal:function(){var t=this;t.marginsUpdated=!1,clearTimeout(t.validateTO);var e=setTimeout(function(){t.validateSize()},5);t.timeOuts.push(e),t.validateTO=e},validateData:function(t){this.chartCreated&&(this.dataChanged=!0,this.marginsUpdated=!1,this.initChart(t))},validateNow:function(t,e){this.initTO&&clearTimeout(this.initTO),t&&(this.dataChanged=!0,this.marginsUpdated=!1),this.skipEvents=e,this.chartRendered=!1;var r=this.legend;r&&r.position!=this.prevLegendPosition&&(this.previousWidth=this.mw=0,r.invalidateSize&&(r.invalidateSize(),this.validateSize())),this.write(this.div)},showItem:function(t){t.hidden=!1,this.initChart()},hideItem:function(t){t.hidden=!0,this.initChart()},hideBalloon:function(){var t=this;clearTimeout(t.hoverInt),clearTimeout(t.balloonTO),t.hoverInt=setTimeout(function(){t.hideBalloonReal.call(t)},t.hideBalloonTime)},cleanChart:function(){},hideBalloonReal:function(){var t=this.balloon;t&&t.hide&&t.hide()},showBalloon:function(t,e,r,n,i){var a=this;clearTimeout(a.balloonTO),clearTimeout(a.hoverInt),a.balloonTO=setTimeout(function(){a.showBalloonReal.call(a,t,e,r,n,i)},1)},showBalloonReal:function(t,e,r,n,i){this.handleMouseMove();var a=this.balloon;a.enabled&&(a.followCursor(!1),a.changeColor(e),!r||a.fixedPosition?(a.setPosition(n,i),isNaN(n)||isNaN(i)?a.followCursor(!0):a.followCursor(!1)):a.followCursor(!0),t&&a.showBalloon(t))},handleMouseOver:function(){this.outTO&&clearTimeout(this.outTO),t.resetMouseOver(),this.mouseIsOver=!0},handleMouseOut:function(){var e=this;t.resetMouseOver(),e.outTO&&clearTimeout(e.outTO),e.outTO=setTimeout(function(){e.handleMouseOutReal()},10)},handleMouseOutReal:function(){this.mouseIsOver=!1},handleMouseMove:function(t){t||(t=window.event),this.mouse2Y=this.mouse2X=NaN;var e,r,n,i;if(t){if(t.touches){var a=t.touches.item(1);if(a&&this.panEventsEnabled&&this.boundingRect&&(n=a.clientX-this.boundingRect.left,i=a.clientY-this.boundingRect.top),t=t.touches.item(0),!t)return}else this.wasTouched=!1;this.boundingRect&&t.clientX&&(e=t.clientX-this.boundingRect.left,r=t.clientY-this.boundingRect.top),isNaN(n)?this.mouseX=e:(this.mouseX=Math.min(e,n),this.mouse2X=Math.max(e,n)),isNaN(i)?this.mouseY=r:(this.mouseY=Math.min(r,i),this.mouse2Y=Math.max(r,i)),this.autoTransform&&(this.mouseX/=this.cssScale,this.mouseY/=this.cssScale)}},handleTouchStart:function(t){this.hideBalloonReal(),t&&(t.touches&&this.tapToActivate&&!this.tapped||!this.panRequired)||(this.handleMouseMove(t),this.handleMouseDown(t))},handleTouchEnd:function(e){this.wasTouched=!0,this.handleMouseMove(e),t.resetMouseOver(),this.handleReleaseOutside(e)},handleReleaseOutside:function(){this.handleDocTouchEnd.call(this)},handleMouseDown:function(e){t.resetMouseOver(),this.mouseIsOver=!0,e&&e.preventDefault&&(this.panEventsEnabled?e.preventDefault():e.touches||e.preventDefault())},addLegend:function(e,n){e=t.processObject(e,t.AmLegend,this.theme),e.divId=n,e.ieW=0;var i;return i="object"!=("undefined"==typeof n?"undefined":r(n))&&n?document.getElementById(n):n,this.legend=e,e.chart=this,i?(e.div=i,e.position="outside",e.autoMargins=!1):e.div=this.legendDiv,e},removeLegend:function(){this.legend=void 0,this.previousWidth=0,this.legendDiv.innerHTML=""},handleResize:function(){(t.isPercents(this.width)||t.isPercents(this.height))&&this.invalidateSizeReal(),this.renderFix()},renderFix:function(){if(!t.VML){var e=this.container;e&&e.renderFix()}},getSVG:function(){if(t.hasSVG)return this.container},animate:function(e,r,n,i,a,o,s){return e["an_"+r]&&t.removeFromArray(this.animations,e["an_"+r]),n={obj:e,frame:0,attribute:r,from:n,to:i,time:a,effect:o,suffix:s},e["an_"+r]=n,this.animations.push(n),n},setLegendData:function(t){var e=this.legend;e&&e.setData(t)},stopAnim:function(e){t.removeFromArray(this.animations,e)},updateAnimations:function(){var e;if(this.container&&this.container.update(),this.animations)for(e=this.animations.length-1;0<=e;e--){var r=this.animations[e],n=t.updateRate*r.time,i=r.frame+1,a=r.obj,o=r.attribute;if(i<=n){r.frame++;var s=Number(r.from),l=Number(r.to)-s,n=t[r.effect](0,i,s,l,n);0===l?(this.animations.splice(e,1),a.node.style[o]=Number(r.to)+r.suffix):a.node.style[o]=n+r.suffix}else a.node.style[o]=Number(r.to)+r.suffix,a.animationFinished=!0,this.animations.splice(e,1)}},update:function(){this.updateAnimations();var t=this.animatable;if(0<t.length){for(var e=!0,r=t.length-1;0<=r;r--){var n=t[r];n&&(n.animationFinished?t.splice(r,1):e=!1)}e&&(this.fire({type:"animationFinished",chart:this}),this.animatable=[])}},inIframe:function(){try{return window.self!==window.top}catch(t){return!0}},brr:function(){if(!this.hideCredits){var t,e="amcharts.com",r=window.location.hostname.split(".");if(2<=r.length&&(t=r[r.length-2]+"."+r[r.length-1]),this.amLink&&(r=this.amLink.parentNode)&&r.removeChild(this.amLink),r=this.creditsPosition,t!=e||!0===this.inIframe()){var e="http://www."+e,n=t=0,i=this.realWidth,a=this.realHeight,o=this.type;"serial"!=o&&"xy"!=o&&"gantt"!=o||(t=this.marginLeftReal,n=this.marginTopReal,i=t+this.plotAreaWidth,a=n+this.plotAreaHeight);var o=e+"/javascript-charts/",s="JavaScript charts",l="";"ammap"==this.product&&(o=e+"/javascript-maps/",s="Interactive JavaScript maps",l="JS map by amCharts"),e=document.createElement("a"),l=document.createTextNode(l),e.setAttribute("href",o),e.setAttribute("title",s),this.urlTarget&&e.setAttribute("target",this.urlTarget),e.appendChild(l),this.chartDiv.appendChild(e),this.amLink=e,o=e.style,o.position="absolute",o.textDecoration="none",o.color=this.color,o.fontFamily=this.fontFamily,o.fontSize="11px",o.opacity=.7,o.display="block";var s=e.offsetWidth,e=e.offsetHeight,l=5+t,u=n+5;"bottom-left"==r&&(l=5+t,u=a-e-3),"bottom-right"==r&&(l=i-s-5,u=a-e-3),"top-right"==r&&(l=i-s-5,u=n+5),o.left=l+"px",o.top=u+"px"}}}}),t.Slice=t.Class({construct:function(){}}),t.SerialDataItem=t.Class({construct:function(){}}),t.GraphDataItem=t.Class({construct:function(){}}),t.Guide=t.Class({construct:function(e){this.cname="Guide",t.applyTheme(this,e,this.cname)}}),t.Title=t.Class({construct:function(e){this.cname="Title",t.applyTheme(this,e,this.cname)}}),t.Label=t.Class({construct:function(e){this.cname="Label",t.applyTheme(this,e,this.cname)}})}(),function(){var t=window.AmCharts;t.AmGraph=t.Class({construct:function(e){this.cname="AmGraph",this.createEvents("rollOverGraphItem","rollOutGraphItem","clickGraphItem","doubleClickGraphItem","rightClickGraphItem","clickGraph","rollOverGraph","rollOutGraph"),this.type="line",this.stackable=!0,this.columnCount=1,this.columnIndex=0,this.centerCustomBullets=this.showBalloon=!0,this.maxBulletSize=50,this.minBulletSize=4,this.balloonText="[[value]]",this.hidden=this.scrollbar=this.animationPlayed=!1,this.pointPosition="middle",this.depthCount=1,this.includeInMinMax=!0,this.negativeBase=0,this.visibleInLegend=!0,this.showAllValueLabels=!1,this.showBulletsAt=this.showBalloonAt="close",this.lineThickness=1,this.dashLength=0,this.connect=!0,this.lineAlpha=1,this.bullet="none",this.bulletBorderThickness=2,this.bulletBorderAlpha=0,this.bulletAlpha=1,this.bulletSize=8,this.cornerRadiusTop=this.hideBulletsCount=this.bulletOffset=0,this.cursorBulletAlpha=1,this.gradientOrientation="vertical",this.dy=this.dx=0,this.periodValue="",this.clustered=!0,this.periodSpan=1,this.accessibleLabel="[[title]] [[category]] [[value]]",this.accessibleSkipText="Press enter to skip [[title]]",this.y=this.x=0,this.switchable=!0,this.tcc=this.minDistance=1,this.labelRotation=0,this.labelAnchor="auto",this.labelOffset=3,this.bcn="graph-",this.dateFormat="MMM DD, YYYY",this.noRounding=!0,t.applyTheme(this,e,this.cname)},init:function(){this.createBalloon()},draw:function(){var e=this.chart;e.isRolledOverBullet=!1;var r=e.type;if(e.drawGraphs){isNaN(this.precision)||(this.numberFormatter?this.numberFormatter.precision=this.precision:this.numberFormatter={precision:this.precision,decimalSeparator:e.decimalSeparator,thousandsSeparator:e.thousandsSeparator});var n=e.container;this.container=n,this.destroy();var i=n.set();this.set=i,i.translate(this.x,this.y);var a=n.set();this.bulletSet=a,a.translate(this.x,this.y),this.behindColumns?(e.graphsBehindSet.push(i),e.bulletBehindSet.push(a)):(e.graphsSet.push(i),e.bulletSet.push(a));var o=this.bulletAxis;t.isString(o)&&(this.bulletAxis=e.getValueAxisById(o)),n=n.set(),t.remove(this.columnsSet),this.columnsSet=n,t.setCN(e,i,"graph-"+this.type),t.setCN(e,i,"graph-"+this.id),t.setCN(e,a,"graph-"+this.type),t.setCN(e,a,"graph-"+this.id),this.columnsArray=[],this.ownColumns=[],this.allBullets=[],this.animationArray=[],a=this.labelPosition,a||(o=this.valueAxis.stackType,a="top","column"==this.type&&(e.rotate&&(a="right"),"100%"==o||"regular"==o)&&(a="middle"),this.labelPosition=a),t.ifArray(this.data)&&(e=!1,"xy"==r?this.xAxis.axisCreated&&this.yAxis.axisCreated&&(e=!0):this.valueAxis.axisCreated&&(e=!0),!this.hidden&&e&&this.createGraph()),i.push(n)}},createGraph:function(){var e=this,r=e.chart;e.startAlpha=r.startAlpha,e.seqAn=r.sequencedAnimation,e.baseCoord=e.valueAxis.baseCoord,void 0===e.fillAlphas&&(e.fillAlphas=0),e.bulletColorR=e.bulletColor,void 0===e.bulletColorR&&(e.bulletColorR=e.lineColorR,e.bulletColorNegative=e.negativeLineColor),void 0===e.bulletAlpha&&(e.bulletAlpha=e.lineAlpha),("step"==n||t.VML)&&(e.noRounding=!1);var n=r.type;if("gantt"==n&&(n="serial"),clearTimeout(e.playedTO),!isNaN(e.valueAxis.min)&&!isNaN(e.valueAxis.max)){switch(n){case"serial":e.categoryAxis&&(e.createSerialGraph(),"candlestick"==e.type&&1>e.valueAxis.minMaxMultiplier&&e.positiveClip(e.set));break;case"radar":e.createRadarGraph();break;case"xy":e.createXYGraph()}e.playedTO=setTimeout(function(){e.setAnimationPlayed.call(e)},500*e.chart.startDuration)}},setAnimationPlayed:function(){this.animationPlayed=!0},createXYGraph:function(){var t=[],e=[],r=this.xAxis,n=this.yAxis;this.pmh=n.height,this.pmw=r.width,this.pmy=this.pmx=0;var i;for(i=this.start;i<=this.end;i++){var a=this.data[i].axes[r.id].graphs[this.id],o=a.values,s=o.x,l=o.y,o=r.getCoordinate(s,this.noRounding),u=n.getCoordinate(l,this.noRounding);if(!isNaN(s)&&!isNaN(l)&&(t.push(o),e.push(u),a.x=o,a.y=u,s=this.createBullet(a,o,u,i),l=this.labelText)){var l=this.createLabel(a,l),c=0;s&&(c=s.size),this.positionLabel(a,o,u,l,c)}}this.drawLineGraph(t,e),this.launchAnimation()},createRadarGraph:function(){var t,e,r,n,i,a=this.valueAxis.stackType,o=[],s=[],l=[],u=[];for(i=this.start;i<=this.end;i++){var c,h,g=this.data[i].axes[this.valueAxis.id].graphs[this.id];if("none"==a||"3d"==a?c=g.values.value:(c=g.values.close,h=g.values.open),isNaN(c))this.connect||(this.drawLineGraph(o,s,l,u),o=[],s=[],l=[],u=[]);else{var p=this.valueAxis.getCoordinate(c,this.noRounding)-this.height,p=p*this.valueAxis.rMultiplier,d=-360/(this.end-this.start+1)*i;if("middle"==this.valueAxis.pointPosition&&(d-=180/(this.end-this.start+1)),c=p*Math.sin(d/180*Math.PI),p*=Math.cos(d/180*Math.PI),o.push(c),s.push(p),!isNaN(h)){var f=this.valueAxis.getCoordinate(h,this.noRounding)-this.height,f=f*this.valueAxis.rMultiplier,A=f*Math.sin(d/180*Math.PI),d=f*Math.cos(d/180*Math.PI);l.push(A),u.push(d),isNaN(r)&&(r=A),isNaN(n)&&(n=d)}d=this.createBullet(g,c,p,i),g.x=c,g.y=p,(A=this.labelText)&&(A=this.createLabel(g,A),f=0,d&&(f=d.size),this.positionLabel(g,c,p,A,f)),isNaN(t)&&(t=c),isNaN(e)&&(e=p)}}o.push(t),s.push(e),isNaN(r)||(l.push(r),u.push(n)),this.drawLineGraph(o,s,l,u),this.launchAnimation()},positionLabel:function(t,e,r,n,i){if(n){var a=this.chart,o=this.valueAxis,s="middle",l=!1,u=this.labelPosition,c=n.getBBox(),h=this.chart.rotate,g=t.isNegative,p=this.fontSize;switch(void 0===p&&(p=this.chart.fontSize),r-=c.height/2-p/2-1,void 0!==t.labelIsNegative&&(g=t.labelIsNegative),u){case"right":u=h&&g?"left":"right";break;case"top":u=h?"top":g?"bottom":"top";break;case"bottom":u=h?"bottom":g?"top":"bottom";break;case"left":u=h&&g?"right":"left"}var p=t.columnGraphics,d=0,f=0;p&&(d=p.x,f=p.y);var A=this.labelOffset;switch(u){case"right":s="start",e+=i/2+A;break;case"top":r=o.reversed?r+(i/2+c.height/2+A):r-(i/2+c.height/2+A);break;case"bottom":r=o.reversed?r-(i/2+c.height/2+A):r+(i/2+c.height/2+A);break;case"left":s="end",e-=i/2+A;break;case"inside":"column"==this.type&&(l=!0,h?g?(s="end",e=d-3-A):(s="start",e=d+3+A):r=g?f+7+A:f-10-A);break;case"middle":"column"==this.type&&(l=!0,h?e-=(e-d)/2+A-3:r-=(r-f)/2+A-3)}return"auto"!=this.labelAnchor&&(s=this.labelAnchor),n.attr({"text-anchor":s}),this.labelRotation&&n.rotate(this.labelRotation),n.translate(e,r),!this.showAllValueLabels&&p&&l&&(c=n.getBBox(),c.height>t.columnHeight||c.width>t.columnWidth)&&(n.remove(),n=null),n&&"radar"!=a.type&&(h?((0>r||r>this.height)&&(n.remove(),n=null),!this.showAllValueLabels&&(0>e||e>this.width)&&(n.remove(),n=null)):((0>e||e>this.width)&&(n.remove(),n=null),!this.showAllValueLabels&&n&&(0>r||r>this.height)&&(n.remove(),n=null))),n&&this.allBullets.push(n),n}},getGradRotation:function(){var t=270;return"horizontal"==this.gradientOrientation&&(t=0),this.gradientRotation=t},createSerialGraph:function(){this.dashLengthSwitched=this.fillColorsSwitched=this.lineColorSwitched=void 0;var e=this.chart,n=this.id,i=this.index,a=this.data,o=this.chart.container,s=this.valueAxis,l=this.type,u=this.columnWidthReal,c=this.showBulletsAt;isNaN(this.columnWidth)||(u=this.columnWidth),isNaN(u)&&(u=.8);var h,g,p,d,f,A=this.useNegativeColorIfDown,C=this.width,m=this.height,I=this.y,v=this.rotate,y=this.columnCount,b=t.toCoordinate(this.cornerRadiusTop,u/2),x=this.connect,w=[],N=[],S=this.chart.graphs.length,T=this.dx/this.tcc,E=this.dy/this.tcc,k=s.stackType,O=this.start,_=this.end,P=this.scrollbar,M="graph-column-";P&&(M="scrollbar-graph-column-");var D,R=this.categoryAxis,L=this.baseCoord,z=this.negativeBase,F=this.columnIndex,B=this.lineThickness,V=this.lineAlpha,j=this.lineColorR,W=this.dashLength,G=this.set,U=this.getGradRotation(),H=this.chart.columnSpacing,Y=R.cellWidth,Z=(Y*u-y)/y;H>Z&&(H=Z);var X,q,K,J,Q,$,tt,et=m,rt=C,nt=0,it=0,at=this.fillColorsR,ot=this.negativeFillColors,st=this.negativeLineColor,lt=this.fillAlphas,ut=this.negativeFillAlphas;"object"==("undefined"==typeof lt?"undefined":r(lt))&&(lt=lt[0]),"object"==("undefined"==typeof ut?"undefined":r(ut))&&(ut=ut[0]);var ct=this.noRounding;"step"==l&&(ct=!1);var ht=s.getCoordinate(s.min);if(s.logarithmic&&(ht=s.getCoordinate(s.minReal)),this.minCoord=ht,this.resetBullet&&(this.bullet="none"),!(P||"line"!=l&&"smoothedLine"!=l&&"step"!=l||(1==a.length&&"step"!=l&&"none"==this.bullet&&(this.bullet="round",this.resetBullet=!0),!ot&&void 0==st||A))){var gt=z;gt>s.max&&(gt=s.max),gt<s.min&&(gt=s.min),s.logarithmic&&(gt=s.minReal);var pt=s.getCoordinate(gt),dt=s.getCoordinate(s.max);v?(et=m,rt=Math.abs(dt-pt),J=m,Q=Math.abs(ht-pt),tt=it=0,s.reversed?(nt=0,$=pt):(nt=pt,$=0)):(rt=C,et=Math.abs(dt-pt),Q=C,J=Math.abs(ht-pt),$=nt=0,s.reversed?(tt=I,it=pt):tt=pt)}var ft=Math.round;this.pmx=ft(nt),this.pmy=ft(it),this.pmh=ft(et),this.pmw=ft(rt),this.nmx=ft($),this.nmy=ft(tt),this.nmh=ft(J),this.nmw=ft(Q),t.isModern||(this.nmy=this.nmx=0,this.nmh=this.height),this.clustered||(y=1),u="column"==l?(Y*u-H*(y-1))/y:Y*u,1>u&&(u=1);var At=this.fixedColumnWidth;isNaN(At)||(u=At);var Ct;if("line"==l||"step"==l||"smoothedLine"==l){if(0<O){for(Ct=O-1;-1<Ct;Ct--)if(X=a[Ct],
q=X.axes[s.id].graphs[n],K=q.values.value,!isNaN(K)){O=Ct;break}if(this.lineColorField)for(Ct=O;-1<Ct;Ct--)if(X=a[Ct],q=X.axes[s.id].graphs[n],q.lineColor){this.bulletColorSwitched=this.lineColorSwitched=q.lineColor;break}if(this.fillColorsField)for(Ct=O;-1<Ct;Ct--)if(X=a[Ct],q=X.axes[s.id].graphs[n],q.fillColors){this.fillColorsSwitched=q.fillColors;break}if(this.dashLengthField)for(Ct=O;-1<Ct;Ct--)if(X=a[Ct],q=X.axes[s.id].graphs[n],!isNaN(q.dashLength)){this.dashLengthSwitched=q.dashLength;break}}if(_<a.length-1)for(Ct=_+1;Ct<a.length;Ct++)if(X=a[Ct],q=X.axes[s.id].graphs[n],K=q.values.value,!isNaN(K)){_=Ct;break}}_<a.length-1&&_++;var mt=[],It=[],vt=!1;"line"!=l&&"step"!=l&&"smoothedLine"!=l||(this.stackable&&"regular"==k||"100%"==k||this.fillToGraph)&&(vt=!0);var yt=this.noStepRisers,bt=-1e3,xt=-1e3,wt=this.minDistance,Nt=!0,St=!1;for(Ct=O;Ct<=_;Ct++){X=a[Ct],q=X.axes[s.id].graphs[n],q.index=Ct;var Tt,Et=NaN;if(A&&void 0==this.openField)for(var kt=Ct+1;kt<a.length&&(!a[kt]||!(Tt=a[Ct+1].axes[s.id].graphs[n])||!Tt.values||(Et=Tt.values.value,isNaN(Et)));kt++);var Ot,_t,Pt,Mt,Dt,Rt,Lt=NaN,zt=NaN,Ft=NaN,Bt=NaN,Vt=NaN,jt=NaN,Wt=NaN,Gt=NaN,Ut=NaN,Ht=NaN,Yt=NaN,Zt=NaN,Xt=NaN,qt=NaN,Kt=NaN,Jt=NaN,Qt=NaN,$t=void 0,te=at,ee=lt,re=j,ne=this.proCandlesticks,ie=this.topRadius,ae=m-1,oe=C-1,se=this.pattern;void 0!=q.pattern&&(se=q.pattern),isNaN(q.alpha)||(ee=q.alpha),isNaN(q.dashLength)||(W=q.dashLength);var le=q.values;if(s.recalculateToPercents&&(le=q.percents),"none"==k&&(F=isNaN(q.columnIndex)?this.columnIndex:q.columnIndex),le){if(qt=this.stackable&&"none"!=k&&"3d"!=k?le.close:le.value,"candlestick"!=l&&"ohlc"!=l||(qt=le.close,Jt=le.low,Wt=s.getCoordinate(Jt),Kt=le.high,Ut=s.getCoordinate(Kt)),Qt=le.open,Ft=s.getCoordinate(qt,ct),isNaN(Qt)||(Vt=s.getCoordinate(Qt,ct),A&&"regular"!=k&&"100%"!=k&&(Et=Qt,Qt=Vt=NaN)),A&&(void 0==this.openField?Tt&&(Tt.isNegative=Et<qt,isNaN(Et)&&(q.isNegative=!Nt)):q.isNegative=Et>qt),!P)switch(this.showBalloonAt){case"close":q.y=Ft;break;case"open":q.y=Vt;break;case"high":q.y=Ut;break;case"low":q.y=Wt}var Lt=X.x[R.id],ue=this.periodSpan-1;"step"!=l||isNaN(X.cellWidth)||(Y=X.cellWidth);var ce=Math.floor(Y/2)+Math.floor(ue*Y/2),he=ce,ge=0;if("left"==this.stepDirection&&(ge=(2*Y+ue*Y)/2,Lt-=ge),"center"==this.stepDirection&&(ge=Y/2,Lt-=ge),"start"==this.pointPosition&&(Lt-=Y/2+Math.floor(ue*Y/2),ce=0,he=Math.floor(Y)+Math.floor(ue*Y)),"end"==this.pointPosition&&(Lt+=Y/2+Math.floor(ue*Y/2),ce=Math.floor(Y)+Math.floor(ue*Y),he=0),yt){var pe=this.columnWidth;isNaN(pe)||(ce*=pe,he*=pe)}P||(q.x=Lt),-1e5>Lt&&(Lt=-1e5),Lt>C+1e5&&(Lt=C+1e5),v?(zt=Ft,Bt=Vt,Vt=Ft=Lt,isNaN(Qt)&&!this.fillToGraph&&(Bt=L),jt=Wt,Gt=Ut):(Bt=zt=Lt,isNaN(Qt)&&!this.fillToGraph&&(Vt=L)),(!ne&&qt<Qt||ne&&qt<D)&&(q.isNegative=!0,ot&&(te=ot),ut&&(ee=ut),void 0!=st&&(re=st)),St=!1,isNaN(qt)||(A?qt>Et?(Nt&&(St=!0),Nt=!1):(Nt||(St=!0),Nt=!0):q.isNegative=qt<z,D=qt);var de=!1;switch(P&&e.chartScrollbar.ignoreCustomColors&&(de=!0),de||(void 0!=q.color&&(te=q.color),q.fillColors&&(te=q.fillColors)),Ft=t.fitToBounds(Ft,-3e4,3e4),l){case"line":isNaN(qt)?x||(this.drawLineGraph(w,N,mt,It),w=[],N=[],mt=[],It=[]):((Math.abs(zt-bt)>=wt||Math.abs(Ft-xt)>=wt)&&(w.push(zt),N.push(Ft),bt=zt,xt=Ft),Ht=zt,Yt=Ft,Zt=zt,Xt=Ft,!vt||isNaN(Vt)||isNaN(Bt)||(mt.push(Bt),It.push(Vt)),(St||void 0!=q.lineColor&&q.lineColor!=this.lineColorSwitched||void 0!=q.fillColors&&q.fillColors!=this.fillColorsSwitched||!isNaN(q.dashLength))&&(this.drawLineGraph(w,N,mt,It),w=[zt],N=[Ft],mt=[],It=[],!vt||isNaN(Vt)||isNaN(Bt)||(mt.push(Bt),It.push(Vt)),A?Nt?(this.lineColorSwitched=j,this.fillColorsSwitched=at):(this.lineColorSwitched=st,this.fillColorsSwitched=ot):(this.lineColorSwitched=q.lineColor,this.fillColorsSwitched=q.fillColors),this.dashLengthSwitched=q.dashLength),q.gap&&(this.drawLineGraph(w,N,mt,It),w=[],N=[],mt=[],It=[]));break;case"smoothedLine":isNaN(qt)?x||(this.drawSmoothedGraph(w,N,mt,It),w=[],N=[],mt=[],It=[]):((Math.abs(zt-bt)>=wt||Math.abs(Ft-xt)>=wt)&&(w.push(zt),N.push(Ft),bt=zt,xt=Ft),Ht=zt,Yt=Ft,Zt=zt,Xt=Ft,!vt||isNaN(Vt)||isNaN(Bt)||(mt.push(Bt),It.push(Vt)),void 0==q.lineColor&&void 0==q.fillColors&&isNaN(q.dashLength)||(this.drawSmoothedGraph(w,N,mt,It),w=[zt],N=[Ft],mt=[],It=[],!vt||isNaN(Vt)||isNaN(Bt)||(mt.push(Bt),It.push(Vt)),this.lineColorSwitched=q.lineColor,this.fillColorsSwitched=q.fillColors,this.dashLengthSwitched=q.dashLength),q.gap&&(this.drawSmoothedGraph(w,N,mt,It),w=[],N=[],mt=[],It=[]));break;case"step":if(isNaN(qt))x||((1>=this.periodSpan||1<this.periodSpan&&zt-h>ce+he)&&(h=g=NaN),this.drawLineGraph(w,N,mt,It),w=[],N=[],mt=[],It=[]);else{if(v?(isNaN(h)||(w.push(h),N.push(Ft-ce)),N.push(Ft-ce),w.push(zt),N.push(Ft+he),w.push(zt),!vt||isNaN(Vt)||isNaN(Bt)||(isNaN(p)||(mt.push(p),It.push(Vt-ce)),mt.push(Bt),It.push(Vt-ce),mt.push(Bt),It.push(Vt+he))):(isNaN(g)||(N.push(g),w.push(zt-ce)),w.push(zt-ce),N.push(Ft),w.push(zt+he),N.push(Ft),!vt||isNaN(Vt)||isNaN(Bt)||(isNaN(d)||(mt.push(Bt-ce),It.push(d)),mt.push(Bt-ce),It.push(Vt),mt.push(Bt+he),It.push(Vt))),h=zt,g=Ft,p=Bt,d=Vt,Ht=zt,Yt=Ft,Zt=zt,Xt=Ft,St||void 0!=q.lineColor||void 0!=q.fillColors||!isNaN(q.dashLength)){var fe=w[w.length-2],Ae=N[N.length-2];w.pop(),N.pop(),mt.pop(),It.pop(),this.drawLineGraph(w,N,mt,It),w=[fe],N=[Ae],mt=[],It=[],vt&&(mt=[fe,fe+ce+he],It=[d,d]),v?(N.push(Ft+he),w.push(zt)):(w.push(zt+he),N.push(Ft)),this.lineColorSwitched=q.lineColor,this.fillColorsSwitched=q.fillColors,this.dashLengthSwitched=q.dashLength,A&&(Nt?(this.lineColorSwitched=j,this.fillColorsSwitched=at):(this.lineColorSwitched=st,this.fillColorsSwitched=ot))}(yt||q.gap)&&(h=g=NaN,this.drawLineGraph(w,N,mt,It),w=[],N=[],mt=[],It=[])}break;case"column":if(Dt=re,void 0!=q.lineColor&&(Dt=q.lineColor),!isNaN(qt)){A||(q.isNegative=qt<z),q.isNegative&&(ot&&(te=ot),void 0!=st&&(Dt=st));var Ce=s.min,me=s.max,Ie=Qt;if(isNaN(Ie)&&(Ie=z),!(qt<Ce&&Ie<Ce||qt>me&&Ie>me)){var ve;if(v){"3d"==k?(_t=Ft-(y/2-this.depthCount+1)*(u+H)+H/2+E*F,Ot=Bt+T*F,ve=F):(_t=Math.floor(Ft-(y/2-F)*(u+H)+H/2),Ot=Bt,ve=0),Pt=u,Ht=zt,Yt=_t+u/2,Zt=zt,Xt=_t+u/2,_t+Pt>m+ve*E&&(Pt=m-_t+ve*E),_t<ve*E&&(Pt+=_t,_t=ve*E),Mt=zt-Bt;var ye=Ot;Ot=t.fitToBounds(Ot,0,C),Mt+=ye-Ot,Mt=t.fitToBounds(Mt,-Ot,C-Ot+T*F),q.labelIsNegative=0>Mt,0===Mt&&1/qt===1/-0&&(q.labelIsNegative=!0),isNaN(X.percentWidthValue)||(Pt=this.height*X.percentWidthValue/100,_t=Lt-Pt/2,Yt=_t+Pt/2),Pt=t.roundTo(Pt,2),Mt=t.roundTo(Mt,2),_t<m&&0<Pt&&($t=new t.Cuboid(o,Mt,Pt,T-e.d3x,E-e.d3y,te,ee,B,Dt,V,U,b,v,W,se,ie,M),q.columnWidth=Math.abs(Mt),q.columnHeight=Math.abs(Pt))}else{"3d"==k?(Ot=zt-(y/2-this.depthCount+1)*(u+H)+H/2+T*F,_t=Vt+E*F,ve=F):(Ot=zt-(y/2-F)*(u+H)+H/2,_t=Vt,ve=0),Pt=u,Ht=Ot+u/2,Yt=Ft,Zt=Ot+u/2,Xt=Ft,Ot+Pt>C+ve*T&&(Pt=C-Ot+ve*T),Ot<ve*T&&(Pt+=Ot-ve*T,Ot=ve*T),Mt=Ft-Vt,q.labelIsNegative=0<Mt,0===Mt&&1/qt!==1/Math.abs(qt)&&(q.labelIsNegative=!0);var be=_t;_t=t.fitToBounds(_t,this.dy,m),Mt+=be-_t,Mt=t.fitToBounds(Mt,-_t+E*ve,m-_t),isNaN(X.percentWidthValue)||(Pt=this.width*X.percentWidthValue/100,Ot=Lt-Pt/2,Ht=Ot+Pt/2),Pt=t.roundTo(Pt,2),Mt=t.roundTo(Mt,2),Ot<C+F*T&&0<Pt&&(this.showOnAxis&&(_t-=E/2),$t=new t.Cuboid(o,Pt,Mt,T-e.d3x,E-e.d3y,te,ee,B,Dt,this.lineAlpha,U,b,v,W,se,ie,M),q.columnHeight=Math.abs(Mt),q.columnWidth=Math.abs(Pt))}}$t&&(Rt=$t.set,t.setCN(e,$t.set,"graph-"+this.type),t.setCN(e,$t.set,"graph-"+this.id),q.className&&t.setCN(e,$t.set,q.className,!0),q.columnGraphics=Rt,Ot=t.roundTo(Ot,2),_t=t.roundTo(_t,2),Rt.translate(Ot,_t),(q.url||this.showHandOnHover)&&Rt.setAttr("cursor","pointer"),P||("none"==k&&(f=v?(this.end+1-Ct)*S-i:S*Ct+i),"3d"==k&&(v?(f=(this.end+1-Ct)*S-i-1e3*this.depthCount,Ht+=T*F,Zt+=T*F,q.y+=T*F):(f=(S-i)*(Ct+1)+1e3*this.depthCount,Yt+=E*F,Xt+=E*F,q.y+=E*F)),"regular"!=k&&"100%"!=k||(f=v?0<le.value?(this.end+1-Ct)*S+i:(this.end+1-Ct)*S-i:0<le.value?S*Ct+i:S*Ct-i),this.columnsArray.push({column:$t,depth:f}),q.x=v?_t+Pt/2:Ot+Pt/2,this.ownColumns.push($t),this.animateColumns($t,Ct,zt,Bt,Ft,Vt),this.addListeners(Rt,q),void 0!==this.tabIndex&&Rt.setAttr("tabindex",this.tabIndex)),this.columnsSet.push(Rt))}break;case"candlestick":if(!isNaN(Qt)&&!isNaN(qt)){var xe,we;if(Dt=re,void 0!=q.lineColor&&(Dt=q.lineColor),Ht=zt,Xt=Yt=Ft,Zt=zt,v){if("open"==c&&(Zt=Bt),"high"==c&&(Zt=Gt),"low"==c&&(Zt=jt),zt=t.fitToBounds(zt,0,oe),Bt=t.fitToBounds(Bt,0,oe),jt=t.fitToBounds(jt,0,oe),Gt=t.fitToBounds(Gt,0,oe),0===zt&&0===Bt&&0===jt&&0===Gt)continue;if(zt==oe&&Bt==oe&&jt==oe&&Gt==oe)continue;if(_t=Ft-u/2,Ot=Bt,Pt=u,_t+Pt>m&&(Pt=m-_t),0>_t&&(Pt+=_t,_t=0),_t<m&&0<Pt){var Ne,Se;qt>Qt?(Ne=[zt,Gt],Se=[Bt,jt]):(Ne=[Bt,Gt],Se=[zt,jt]),!isNaN(Gt)&&!isNaN(jt)&&Ft<m&&0<Ft&&(xe=t.line(o,Ne,[Ft,Ft],Dt,V,B),we=t.line(o,Se,[Ft,Ft],Dt,V,B)),Mt=zt-Bt,$t=new t.Cuboid(o,Mt,Pt,T,E,te,lt,B,Dt,V,U,b,v,W,se,ie,M)}}else{if("open"==c&&(Xt=Vt),"high"==c&&(Xt=Ut),"low"==c&&(Xt=Wt),Ft=t.fitToBounds(Ft,0,ae),Vt=t.fitToBounds(Vt,0,ae),Wt=t.fitToBounds(Wt,0,ae),Ut=t.fitToBounds(Ut,0,ae),0===Ft&&0===Vt&&0===Wt&&0===Ut)continue;if(Ft==ae&&Vt==ae&&Wt==ae&&Ut==ae)continue;if(Ot=zt-u/2,_t=Vt+B/2,Pt=u,Ot+Pt>C&&(Pt=C-Ot),0>Ot&&(Pt+=Ot,Ot=0),Mt=Ft-Vt,Ot<C&&0<Pt){ne&&qt>=Qt&&(ee=0);var Te,Ee,$t=new t.Cuboid(o,Pt,Mt,T,E,te,ee,B,Dt,V,U,b,v,W,se,ie,M);qt>Qt?(Te=[Ft,Ut],Ee=[Vt,Wt]):(Te=[Vt,Ut],Ee=[Ft,Wt]),!isNaN(Ut)&&!isNaN(Wt)&&zt<C&&0<zt&&(xe=t.line(o,[zt,zt],Te,Dt,V,B),we=t.line(o,[zt,zt],Ee,Dt,V,B),t.setCN(e,xe,this.bcn+"line-high"),q.className&&t.setCN(e,xe,q.className,!0),t.setCN(e,we,this.bcn+"line-low"),q.className&&t.setCN(e,we,q.className,!0))}}$t&&(Rt=$t.set,q.columnGraphics=Rt,G.push(Rt),Rt.translate(Ot,_t-B/2),(q.url||this.showHandOnHover)&&Rt.setAttr("cursor","pointer"),xe&&(G.push(xe),G.push(we)),P||(q.x=v?_t+Pt/2:Ot+Pt/2,this.animateColumns($t,Ct,zt,Bt,Ft,Vt),this.addListeners(Rt,q),void 0!==this.tabIndex&&Rt.setAttr("tabindex",this.tabIndex)))}break;case"ohlc":if(!(isNaN(Qt)||isNaN(Kt)||isNaN(Jt)||isNaN(qt))){var ke=o.set();G.push(ke),qt<Qt&&(q.isNegative=!0,void 0!=st&&(re=st)),void 0!=q.lineColor&&(re=q.lineColor);var Oe,_e,Pe;if(v){if(Xt=Ft,Zt=zt,"open"==c&&(Zt=Bt),"high"==c&&(Zt=Gt),"low"==c&&(Zt=jt),jt=t.fitToBounds(jt,0,oe),Gt=t.fitToBounds(Gt,0,oe),0===zt&&0===Bt&&0===jt&&0===Gt)continue;if(zt==oe&&Bt==oe&&jt==oe&&Gt==oe)continue;var Me=Ft-u/2,Me=t.fitToBounds(Me,0,m),De=t.fitToBounds(Ft,0,m),Re=Ft+u/2,Re=t.fitToBounds(Re,0,m);0<=Bt&&Bt<=oe&&(_e=t.line(o,[Bt,Bt],[Me,De],re,V,B,W)),0<Ft&&Ft<m&&(Oe=t.line(o,[jt,Gt],[Ft,Ft],re,V,B,W)),0<=zt&&zt<=oe&&(Pe=t.line(o,[zt,zt],[De,Re],re,V,B,W))}else{Xt=Ft,"open"==c&&(Xt=Vt),"high"==c&&(Xt=Ut),"low"==c&&(Xt=Wt);var Zt=zt,Wt=t.fitToBounds(Wt,0,ae),Ut=t.fitToBounds(Ut,0,ae),Le=zt-u/2,Le=t.fitToBounds(Le,0,C),ze=t.fitToBounds(zt,0,C),Fe=zt+u/2,Fe=t.fitToBounds(Fe,0,C);0<=Vt&&Vt<=ae&&(_e=t.line(o,[Le,ze],[Vt,Vt],re,V,B,W)),0<zt&&zt<C&&(Oe=t.line(o,[zt,zt],[Wt,Ut],re,V,B,W)),0<=Ft&&Ft<=ae&&(Pe=t.line(o,[ze,Fe],[Ft,Ft],re,V,B,W))}G.push(_e),G.push(Oe),G.push(Pe),t.setCN(e,_e,this.bcn+"stroke-open"),t.setCN(e,Pe,this.bcn+"stroke-close"),t.setCN(e,Oe,this.bcn+"stroke"),q.className&&t.setCN(e,ke,q.className,!0),Ht=zt,Yt=Ft}}if(!P&&!isNaN(qt)){var Be=this.hideBulletsCount;if(this.end-this.start<=Be||0===Be){var Ve=this.createBullet(q,Zt,Xt,Ct),je=this.labelText;if(je&&!isNaN(Ht)&&!isNaN(Ht)){var We=this.createLabel(q,je),Ge=0;Ve&&(Ge=Ve.size),this.positionLabel(q,Ht,Yt,We,Ge)}if("regular"==k||"100%"==k){var Ue=s.totalText;if(Ue){var He=this.createLabel(q,Ue,s.totalTextColor);if(t.setCN(e,He,this.bcn+"label-total"),this.allBullets.push(He),He){var Ye,Ze,Xe=He.getBBox(),qe=Xe.width,Ke=Xe.height,Je=s.totalTextOffset,Qe=s.totals[Ct];Qe&&Qe.remove();var $e=0;"column"!=l&&($e=this.bulletSize),v?(Ze=Yt,Ye=0>qt?zt-qe/2-2-$e-Je:zt+qe/2+3+$e+Je):(Ye=Ht,Ze=0>qt?Ft+Ke/2+$e+Je:Ft-Ke/2-3-$e-Je),He.translate(Ye,Ze),s.totals[Ct]=He,v?(0>Ze||Ze>m)&&He.remove():(0>Ye||Ye>C)&&He.remove()}}}}}}}this.lastDataItem=q,"line"!=l&&"step"!=l&&"smoothedLine"!=l||("smoothedLine"==l?this.drawSmoothedGraph(w,N,mt,It):this.drawLineGraph(w,N,mt,It),P||this.launchAnimation()),this.bulletsHidden&&this.hideBullets(),this.customBulletsHidden&&this.hideCustomBullets()},animateColumns:function(t,e){var r=this,n=r.chart.startDuration;0<n&&!r.animationPlayed&&(r.seqAn?(t.set.hide(),r.animationArray.push(t),n=setTimeout(function(){r.animate.call(r)},n/(r.end-r.start+1)*(e-r.start)*1e3),r.timeOuts.push(n)):r.animate(t),r.chart.animatable.push(t))},createLabel:function(e,r,n){var i=this.chart,a=e.labelColor;a||(a=this.color),a||(a=i.color),n&&(a=n),n=this.fontSize,void 0===n&&(this.fontSize=n=i.fontSize);var o=this.labelFunction;if(r=i.formatString(r,e),r=t.cleanFromEmpty(r),o&&(r=o(e,r)),void 0!==r&&""!==r)return e=t.text(this.container,r,a,i.fontFamily,n),e.node.style.pointerEvents="none",t.setCN(i,e,this.bcn+"label"),this.bulletSet.push(e),e},positiveClip:function(t){t.clipRect(this.pmx,this.pmy,this.pmw,this.pmh)},negativeClip:function(t){t.clipRect(this.nmx,this.nmy,this.nmw,this.nmh)},drawLineGraph:function(e,r,n,i){var a=this;if(1<e.length){var o=a.noRounding,s=a.set,l=a.chart,u=a.container,c=u.set(),h=u.set();s.push(h),s.push(c);var g=a.lineAlpha,p=a.lineThickness,s=a.fillAlphas,d=a.lineColorR,f=a.negativeLineAlpha;isNaN(f)&&(f=g);var A=a.lineColorSwitched;A&&(d=A);var A=a.fillColorsR,C=a.fillColorsSwitched;C&&(A=C);var m=a.dashLength;(C=a.dashLengthSwitched)&&(m=C);var C=a.negativeLineColor,I=a.negativeFillColors,v=a.negativeFillAlphas,y=a.baseCoord;0!==a.negativeBase&&(y=a.valueAxis.getCoordinate(a.negativeBase,o),y>a.height&&(y=a.height),0>y&&(y=0)),g=t.line(u,e,r,d,g,p,m,!1,!0,o),g.node.setAttribute("stroke-linejoin","round"),t.setCN(l,g,a.bcn+"stroke"),c.push(g),c.click(function(t){a.handleGraphEvent(t,"clickGraph")}).mouseover(function(t){a.handleGraphEvent(t,"rollOverGraph")}).mouseout(function(t){a.handleGraphEvent(t,"rollOutGraph")}).touchmove(function(t){a.chart.handleMouseMove(t)}).touchend(function(t){a.chart.handleTouchEnd(t)}),void 0===C||a.useNegativeColorIfDown||(p=t.line(u,e,r,C,f,p,m,!1,!0,o),p.node.setAttribute("stroke-linejoin","round"),t.setCN(l,p,a.bcn+"stroke"),t.setCN(l,p,a.bcn+"stroke-negative"),h.push(p)),(0<s||0<v)&&(p=e.join(";").split(";"),f=r.join(";").split(";"),g=l.type,"serial"==g||"radar"==g?0<n.length?(n.reverse(),i.reverse(),p=e.concat(n),f=r.concat(i)):"radar"==g?(f.push(0),p.push(0)):a.rotate?(f.push(f[f.length-1]),p.push(y),f.push(f[0]),p.push(y),f.push(f[0]),p.push(p[0])):(p.push(p[p.length-1]),f.push(y),p.push(p[0]),f.push(y),p.push(e[0]),f.push(f[0])):"xy"==g&&(r=a.fillToAxis)&&(t.isString(r)&&(r=l.getValueAxisById(r)),"H"==r.orientation?(y="top"==r.position?0:r.height,p.push(p[p.length-1]),f.push(y),p.push(p[0]),f.push(y),p.push(e[0]),f.push(f[0])):(y="left"==r.position?0:r.width,f.push(f[f.length-1]),p.push(y),f.push(f[0]),p.push(y),f.push(f[0]),p.push(p[0]))),e=a.gradientRotation,0<s&&(r=t.polygon(u,p,f,A,s,1,"#000",0,e,o),r.pattern(a.pattern,NaN,l.path),t.setCN(l,r,a.bcn+"fill"),c.push(r)),(I||void 0!==C)&&(isNaN(v)&&(v=s),I||(I=C),o=t.polygon(u,p,f,I,v,1,"#000",0,e,o),t.setCN(l,o,a.bcn+"fill"),t.setCN(l,o,a.bcn+"fill-negative"),o.pattern(a.pattern,NaN,l.path),h.push(o),h.click(function(t){a.handleGraphEvent(t,"clickGraph")}).mouseover(function(t){a.handleGraphEvent(t,"rollOverGraph")}).mouseout(function(t){a.handleGraphEvent(t,"rollOutGraph")}).touchmove(function(t){a.chart.handleMouseMove(t)}).touchend(function(t){a.chart.handleTouchEnd(t)}))),a.applyMask(h,c)}},applyMask:function(t,e){var r=t.length();"serial"!=this.chart.type||this.scrollbar||(this.positiveClip(e),0<r&&this.negativeClip(t))},drawSmoothedGraph:function(e,r,n,i){if(1<e.length){var a=this.set,o=this.chart,s=this.container,l=s.set(),u=s.set();a.push(u),a.push(l);var c=this.lineAlpha,h=this.lineThickness,a=this.dashLength,g=this.fillAlphas,p=this.lineColorR,d=this.fillColorsR,f=this.negativeLineColor,A=this.negativeFillColors,C=this.negativeFillAlphas,m=this.baseCoord,I=this.lineColorSwitched;I&&(p=I),(I=this.fillColorsSwitched)&&(d=I);var v=this.negativeLineAlpha;isNaN(v)&&(v=c),I=this.getGradRotation(),c=new t.Bezier(s,e,r,p,c,h,d,0,a,void 0,I),t.setCN(o,c,this.bcn+"stroke"),l.push(c.path),void 0!==f&&(h=new t.Bezier(s,e,r,f,v,h,d,0,a,void 0,I),t.setCN(o,h,this.bcn+"stroke"),t.setCN(o,h,this.bcn+"stroke-negative"),u.push(h.path)),0<g&&(c=e.join(";").split(";"),p=r.join(";").split(";"),h="",0<n.length?(n.push("M"),i.push("M"),n.reverse(),i.reverse(),c=e.concat(n),p=r.concat(i)):(this.rotate?(h+=" L"+m+","+r[r.length-1],h+=" L"+m+","+r[0]):(h+=" L"+e[e.length-1]+","+m,h+=" L"+e[0]+","+m),h+=" L"+e[0]+","+r[0]),n=new t.Bezier(s,c,p,NaN,0,0,d,g,a,h,I),t.setCN(o,n,this.bcn+"fill"),n.path.pattern(this.pattern,NaN,o.path),l.push(n.path),A||void 0!==f)&&(C||(C=g),A||(A=f),e=new t.Bezier(s,e,r,NaN,0,0,A,C,a,h,I),e.path.pattern(this.pattern,NaN,o.path),t.setCN(o,e,this.bcn+"fill"),t.setCN(o,e,this.bcn+"fill-negative"),u.push(e.path)),this.applyMask(u,l)}},launchAnimation:function(){var e=this,r=e.chart.startDuration;if(0<r&&!e.animationPlayed){var n=e.set,i=e.bulletSet;t.VML||(n.attr({opacity:e.startAlpha}),i.attr({opacity:e.startAlpha})),n.hide(),i.hide(),e.seqAn?(r=setTimeout(function(){e.animateGraphs.call(e)},e.index*r*1e3),e.timeOuts.push(r)):e.animateGraphs()}},animateGraphs:function(){var t=this.chart,e=this.set,r=this.bulletSet,n=this.x,i=this.y;e.show(),r.show();var a=t.startDuration,o=t.startEffect;e&&(this.rotate?(e.translate(-1e3,i),r.translate(-1e3,i)):(e.translate(n,-1e3),r.translate(n,-1e3)),e.animate({opacity:1,translate:n+","+i},a,o),r.animate({opacity:1,translate:n+","+i},a,o),t.animatable.push(e))},animate:function(e){var r=this.chart,n=this.animationArray;!e&&0<n.length&&(e=n[0],n.shift()),n=t[t.getEffect(r.startEffect)],r=r.startDuration,e&&(this.rotate?e.animateWidth(r,n):e.animateHeight(r,n),e.set.show())},legendKeyColor:function(){var t=this.legendColor,e=this.lineAlpha;return void 0===t&&(t=this.lineColorR,0===e&&(e=this.fillColorsR)&&(t="object"==("undefined"==typeof e?"undefined":r(e))?e[0]:e)),t},legendKeyAlpha:function(){var t=this.legendAlpha;return void 0===t&&(t=this.lineAlpha,this.fillAlphas>t&&(t=this.fillAlphas),0===t&&(t=this.bulletAlpha),0===t&&(t=1)),t},createBullet:function(e,r,n){if(!isNaN(r)&&!isNaN(n)&&("none"!=this.bullet||this.customBullet||e.bullet||e.customBullet)){var i=this.chart,a=this.container,o=this.bulletOffset,s=this.bulletSize;isNaN(e.bulletSize)||(s=e.bulletSize);var l=e.values.value,u=this.maxValue,c=this.minValue,h=this.maxBulletSize,g=this.minBulletSize;isNaN(u)||(isNaN(l)||(s=(l-c)/(u-c)*(h-g)+g),c==u&&(s=h)),u=s,this.bulletAxis&&(s=e.values.error,isNaN(s)||(l=s),s=this.bulletAxis.stepWidth*l),s<this.minBulletSize&&(s=this.minBulletSize),this.rotate?r=e.isNegative?r-o:r+o:n=e.isNegative?n+o:n-o,g=this.bulletColorR,e.lineColor&&(this.bulletColorSwitched=e.lineColor),this.bulletColorSwitched&&(g=this.bulletColorSwitched),e.isNegative&&void 0!==this.bulletColorNegative&&(g=this.bulletColorNegative),void 0!==e.color&&(g=e.color);var p;"xy"==i.type&&this.valueField&&(p=this.pattern,e.pattern&&(p=e.pattern)),o=this.bullet,e.bullet&&(o=e.bullet);var l=this.bulletBorderThickness,c=this.bulletBorderColorR,h=this.bulletBorderAlpha,d=this.bulletAlpha;c||(c=g),this.useLineColorForBulletBorder&&(c=this.lineColorR,e.isNegative&&this.negativeLineColor&&(c=this.negativeLineColor),this.lineColorSwitched&&(c=this.lineColorSwitched));var f=e.alpha;return isNaN(f)||(d=f),p=t.bullet(a,o,s,g,d,l,c,h,u,0,p,i.path),u=this.customBullet,e.customBullet&&(u=e.customBullet),u&&(p&&p.remove(),"function"==typeof u?(u=new u,u.chart=i,e.bulletConfig&&(u.availableSpace=n,u.graph=this,u.graphDataItem=e,u.bulletY=n,e.bulletConfig.minCoord=this.minCoord-n,u.bulletConfig=e.bulletConfig),u.write(a),p&&u.showBullet&&u.set.push(p),e.customBulletGraphics=u.cset,p=u.set):(p=a.set(),u=a.image(u,0,0,s,s),p.push(u),this.centerCustomBullets&&u.translate(-s/2,-s/2))),p&&((e.url||this.showHandOnHover)&&p.setAttr("cursor","pointer"),"serial"!=i.type&&"gantt"!=i.type||(-.5>r||r>this.width||n<-s/2||n>this.height)&&(p.remove(),p=null),p&&(this.bulletSet.push(p),p.translate(r,n),this.addListeners(p,e),this.allBullets.push(p)),e.bx=r,e.by=n,t.setCN(i,p,this.bcn+"bullet"),e.className&&t.setCN(i,p,e.className,!0)),p?(p.size=s||0,(i=this.bulletHitAreaSize)&&(a=t.circle(a,i,"#FFFFFF",.001,0),a.translate(r,n),e.hitBullet=a,this.bulletSet.push(a),this.addListeners(a,e)),e.bulletGraphics=p,void 0!==this.tabIndex&&p.setAttr("tabindex",this.tabIndex)):p={size:0},p.graphDataItem=e,p}},showBullets:function(){var t,e=this.allBullets;for(this.bulletsHidden=!1,t=0;t<e.length;t++)e[t].show()},hideBullets:function(){var t,e=this.allBullets;for(this.bulletsHidden=!0,t=0;t<e.length;t++)e[t].hide()},showCustomBullets:function(){var t,e=this.allBullets;for(this.customBulletsHidden=!1,t=0;t<e.length;t++){var r=e[t].graphDataItem;r.customBulletGraphics&&r.customBulletGraphics.show()}},hideCustomBullets:function(){var t,e=this.allBullets;for(this.customBulletsHidden=!0,t=0;t<e.length;t++){var r=e[t].graphDataItem;r.customBulletGraphics&&r.customBulletGraphics.hide()}},addListeners:function(t,e){var r=this;t.mouseover(function(t){r.handleRollOver(e,t)}).mouseout(function(t){r.handleRollOut(e,t)}).touchend(function(t){r.handleRollOver(e,t),r.chart.panEventsEnabled&&r.handleClick(e,t)}).touchstart(function(t){r.handleRollOver(e,t)}).click(function(t){r.handleClick(e,t)}).dblclick(function(t){r.handleDoubleClick(e,t)}).contextmenu(function(t){r.handleRightClick(e,t)});var n=r.chart;if(n.accessible&&r.accessibleLabel){var i=n.formatString(r.accessibleLabel,e);n.makeAccessible(t,i)}},handleRollOver:function(t,e){if(this.handleGraphEvent(e,"rollOverGraph"),t){var r=this.chart;t.bulletConfig&&(r.isRolledOverBullet=!0);var n={type:"rollOverGraphItem",item:t,index:t.index,graph:this,target:this,chart:this.chart,event:e};this.fire(n),r.fire(n),clearTimeout(r.hoverInt),(r=r.chartCursor)&&r.valueBalloonsEnabled||this.showGraphBalloon(t,"V",!0)}},handleRollOut:function(t,e){var r=this.chart;if(t){var n={type:"rollOutGraphItem",item:t,index:t.index,graph:this,target:this,chart:this.chart,event:e};this.fire(n),r.fire(n),r.isRolledOverBullet=!1}this.handleGraphEvent(e,"rollOutGraph"),(r=r.chartCursor)&&r.valueBalloonsEnabled||this.hideBalloon()},handleClick:function(e,r){if(!this.chart.checkTouchMoved()&&this.chart.checkTouchDuration(r)){if(e){var n={type:"clickGraphItem",item:e,index:e.index,graph:this,target:this,chart:this.chart,event:r};this.fire(n),this.chart.fire(n),t.getURL(e.url,this.urlTarget)}this.handleGraphEvent(r,"clickGraph")}},handleGraphEvent:function(t,e){var r={type:e,graph:this,target:this,chart:this.chart,event:t};this.fire(r),this.chart.fire(r)},handleRightClick:function(t,e){if(t){var r={type:"rightClickGraphItem",item:t,index:t.index,graph:this,target:this,chart:this.chart,event:e};this.fire(r),this.chart.fire(r)}},handleDoubleClick:function(t,e){if(t){var r={type:"doubleClickGraphItem",item:t,index:t.index,graph:this,target:this,chart:this.chart,event:e};this.fire(r),this.chart.fire(r)}},zoom:function(t,e){this.start=t,this.end=e,this.draw()},changeOpacity:function(t){var e=this.set;if(e&&e.setAttr("opacity",t),e=this.ownColumns){var r;for(r=0;r<e.length;r++){var n=e[r].set;n&&n.setAttr("opacity",t)}}(e=this.bulletSet)&&e.setAttr("opacity",t)},destroy:function(){t.remove(this.set),t.remove(this.bulletSet);var e=this.timeOuts;if(e){var r;for(r=0;r<e.length;r++)clearTimeout(e[r])}this.timeOuts=[]},createBalloon:function(){var e=this.chart;this.balloon?this.balloon.destroy&&this.balloon.destroy():this.balloon={};var r=this.balloon;t.extend(r,e.balloon,!0),r.chart=e,r.mainSet=e.plotBalloonsSet,r.className=this.id},hideBalloon:function(){var t=this,e=t.chart;e.chartCursor?e.chartCursor.valueBalloonsEnabled||e.hideBalloon():e.hideBalloon(),clearTimeout(t.hoverInt),t.hoverInt=setTimeout(function(){t.hideBalloonReal.call(t)},e.hideBalloonTime)},hideBalloonReal:function(){this.balloon&&this.balloon.hide(),this.fixBulletSize()},fixBulletSize:function(){if(t.isModern){var e=this.resizedDItem;if(e){var r=e.bulletGraphics;if(r&&!r.doNotScale){r.translate(e.bx,e.by,1);var n=this.bulletAlpha;isNaN(e.alpha)||(n=e.alpha),r.setAttr("fill-opacity",n),r.setAttr("stroke-opacity",this.bulletBorderAlpha)}}this.resizedDItem=null}},showGraphBalloon:function(e,r,n,i,a){if(e){var o=this.chart,s=this.balloon,l=0,u=0,c=o.chartCursor,h=!0;if(c?c.valueBalloonsEnabled||(s=o.balloon,l=this.x,u=this.y,h=!1):(s=o.balloon,l=this.x,u=this.y,h=!1),clearTimeout(this.hoverInt),o.chartCursor&&(this.currentDataItem=e,"serial"==o.type&&o.isRolledOverBullet&&o.chartCursor.valueBalloonsEnabled))return void this.hideBalloonReal();if(this.resizeBullet(e,i,a),s&&s.enabled&&this.showBalloon&&!this.hidden){var c=o.formatString(this.balloonText,e,!0),g=this.balloonFunction;g&&(c=g(e,e.graph)),c&&(c=t.cleanFromEmpty(c)),c&&""!==c?(i=o.getBalloonColor(this,e),s.drop||(s.pointerOrientation=r),r=e.x,a=e.y,o.rotate&&(r=e.y,a=e.x),r+=l,a+=u,isNaN(r)||isNaN(a)?this.hideBalloonReal():(e=this.width,g=this.height,h&&s.setBounds(l,u,e+l,g+u),s.changeColor(i),s.setPosition(r,a),s.fixPrevious(),s.fixedPosition&&(n=!1),!n&&"radar"!=o.type&&(r<l||r>e+l||a<u-.5||a>g+u)?(s.showBalloon(c),s.hide(0)):(s.followCursor(n),s.showBalloon(c)))):(this.hideBalloonReal(),s.hide(),this.resizeBullet(e,i,a))}else this.hideBalloonReal()}},resizeBullet:function(e,r,n){if(this.fixBulletSize(),e&&t.isModern&&(1!=r||!isNaN(n))){var i=e.bulletGraphics;i&&!i.doNotScale&&(i.translate(e.bx,e.by,r),isNaN(n)||(i.setAttr("fill-opacity",n),i.setAttr("stroke-opacity",n)),this.resizedDItem=e)}}})}(),function(){var t=window.AmCharts;t.ChartCursor=t.Class({construct:function(e){this.cname="ChartCursor",this.createEvents("changed","zoomed","onHideCursor","onShowCursor","draw","selected","moved","panning","zoomStarted"),this.enabled=!0,this.cursorAlpha=1,this.selectionAlpha=.2,this.cursorColor="#CC0000",this.categoryBalloonAlpha=1,this.color="#FFFFFF",this.type="cursor",this.zoomed=!1,this.zoomable=!0,this.pan=!1,this.categoryBalloonDateFormat="MMM DD, YYYY",this.categoryBalloonText="[[category]]",this.categoryBalloonEnabled=this.valueBalloonsEnabled=!0,this.rolledOver=!1,this.cursorPosition="middle",this.bulletsEnabled=this.skipZoomDispatch=!1,this.bulletSize=8,this.selectWithoutZooming=this.oneBalloonOnly=!1,this.graphBulletSize=1.7,this.animationDuration=.3,this.zooming=!1,this.adjustment=0,this.avoidBalloonOverlapping=!0,this.leaveCursor=!1,this.leaveAfterTouch=!0,this.valueZoomable=!1,this.balloonPointerOrientation="horizontal",this.hLineEnabled=this.vLineEnabled=!0,this.vZoomEnabled=this.hZoomEnabled=!1,t.applyTheme(this,e,this.cname)},draw:function(){this.destroy();var e=this.chart;e.panRequired=!0;var r=e.container;this.rotate=e.rotate,this.container=r,this.prevLineHeight=this.prevLineWidth=NaN,r=r.set(),r.translate(this.x,this.y),this.set=r,e.cursorSet.push(r),this.createElements(),t.isString(this.limitToGraph)&&(this.limitToGraph=t.getObjById(e.graphs,this.limitToGraph),this.fullWidth=!1,this.cursorPosition="middle"),this.pointer=this.balloonPointerOrientation.substr(0,1).toUpperCase(),this.isHidden=!1,this.hideLines(),this.valueLineAxis||(this.valueLineAxis=e.valueAxes[0])},createElements:function(){var e,r,n=this,i=n.chart,a=i.dx,o=i.dy,s=n.width,l=n.height,u=n.cursorAlpha,c=n.valueLineAlpha;n.rotate?(e=c,r=u):(r=c,e=u),"xy"==i.type&&(r=u,void 0!==c&&(r=c),e=u),n.vvLine=t.line(n.container,[a,0,0],[o,0,l],n.cursorColor,e,1),t.setCN(i,n.vvLine,"cursor-line"),t.setCN(i,n.vvLine,"cursor-line-vertical"),n.hhLine=t.line(n.container,[0,s,s+a],[0,0,o],n.cursorColor,r,1),t.setCN(i,n.hhLine,"cursor-line"),t.setCN(i,n.hhLine,"cursor-line-horizontal"),n.vLine=n.rotate?n.vvLine:n.hhLine,n.set.push(n.vvLine),n.set.push(n.hhLine),n.set.node.style.pointerEvents="none",n.fullLines=n.container.set(),i=i.cursorLineSet,i.push(n.fullLines),i.translate(n.x,n.y),i.clipRect(-1,-1,s+2,l+2),void 0!==n.tabIndex&&(i.setAttr("tabindex",n.tabIndex),i.keyup(function(t){n.handleKeys(t)}).focus(function(t){n.showCursor()}).blur(function(t){n.hideCursor()})),n.set.clipRect(0,0,s,l)},handleKeys:function(e){var r=this.prevIndex,n=this.chart;if(n){var i=n.chartData;i&&(isNaN(r)&&(r=i.length-1),37!=e.keyCode&&40!=e.keyCode||r--,39!=e.keyCode&&38!=e.keyCode||r++,r=t.fitToBounds(r,n.startIndex,n.endIndex),(e=this.chart.chartData[r])&&this.setPosition(e.x.categoryAxis),this.prevIndex=r)}},update:function(){var t=this.chart;if(t){var e=t.mouseX-this.x,r=t.mouseY-this.y;this.mouseX=e,this.mouseY=r,this.mouse2X=t.mouse2X-this.x,this.mouse2Y=t.mouse2Y-this.y;var n;if(t.chartData&&0<t.chartData.length){if(this.mouseIsOver()?(this.hideGraphBalloons=!1,this.rolledOver=n=!0,this.updateDrawing(),this.vvLine&&isNaN(this.fx)&&(t.rotate||!this.limitToGraph)&&this.vvLine.translate(e,0),!this.hhLine||!isNaN(this.fy)||t.rotate&&this.limitToGraph||this.hhLine.translate(0,r),isNaN(this.mouse2X)?this.dispatchMovedEvent(e,r):n=!1):this.forceShow||this.hideCursor(),this.zooming){if(!isNaN(this.mouse2X))return void(isNaN(this.mouse2X0)||this.dispatchPanEvent());if(this.pan)return void this.dispatchPanEvent();(this.hZoomEnabled||this.vZoomEnabled)&&this.zooming&&this.updateSelection()}n&&this.showCursor()}}},updateDrawing:function(){if(this.drawing&&this.chart.setMouseCursor("crosshair"),this.drawingNow){t.remove(this.drawingLine);var e=this.chart,r=e.marginTop,e=e.marginLeft;this.drawingLine=t.line(this.container,[this.drawStartX+e,this.mouseX+e],[this.drawStartY+r,this.mouseY+r],this.cursorColor,1,1)}},fixWidth:function(e){if(this.fullWidth&&this.prevLineWidth!=e){var r=this.vvLine,n=0;r&&(r.remove(),n=r.x),r=this.container.set(),r.translate(n,0),n=t.rect(this.container,e,this.height,this.cursorColor,this.cursorAlpha,this.cursorAlpha,this.cursorColor),t.setCN(this.chart,n,"cursor-fill"),n.translate(-e/2-1,0),r.push(n),this.vvLine=r,this.fullLines.push(r),this.prevLineWidth=e}},fixHeight:function(e){if(this.fullWidth&&this.prevLineHeight!=e){var r=this.hhLine,n=0;r&&(r.remove(),n=r.y),r=this.container.set(),r.translate(0,n),n=t.rect(this.container,this.width,e,this.cursorColor,this.cursorAlpha),n.translate(0,-e/2),r.push(n),this.fullLines.push(r),this.hhLine=r,this.prevLineHeight=e}},fixVLine:function(t,e){if(!isNaN(t)){if(isNaN(this.prevLineX)){var r=0,n=this.mouseX;if(this.limitToGraph){var i=this.chart.categoryAxis;i&&(this.chart.rotate||(r="bottom"==i.position?this.height:-this.height),n=t)}this.vvLine.translate(n,r)}else this.prevLineX!=t&&this.vvLine.translate(this.prevLineX,this.prevLineY);this.fx=t,this.prevLineX!=t&&(r=this.animationDuration,this.zooming&&(r=0),this.vvLine.stop(),this.vvLine.animate({translate:t+","+e},r,"easeOutSine"),this.prevLineX=t,this.prevLineY=e)}},fixHLine:function(t,e){if(!isNaN(t)){if(isNaN(this.prevLineY)){var r=0,n=this.mouseY;if(this.limitToGraph){var i=this.chart.categoryAxis;i&&(this.chart.rotate&&(r="right"==i.position?this.width:-this.width),n=t)}this.hhLine.translate(r,n)}else this.prevLineY!=t&&this.hhLine.translate(this.prevLineX,this.prevLineY);this.fy=t,this.prevLineY!=t&&(r=this.animationDuration,this.zooming&&(r=0),this.hhLine.stop(),this.hhLine.animate({translate:e+","+t},r,"easeOutSine"),this.prevLineY=t,this.prevLineX=e)}},hideCursor:function(t){this.forceShow=!1,this.chart.wasTouched&&this.leaveAfterTouch||this.isHidden||this.leaveCursor||(this.hideCursorReal(),t?this.chart.handleCursorHide():this.fire({target:this,chart:this.chart,type:"onHideCursor"}),this.chart.setMouseCursor("auto"))},hideCursorReal:function(){this.hideLines(),this.isHidden=!0,this.index=this.prevLineY=this.prevLineX=this.mouseY0=this.mouseX0=this.fy=this.fx=NaN},hideLines:function(){this.vvLine&&this.vvLine.hide(),this.hhLine&&this.hhLine.hide(),this.fullLines&&this.fullLines.hide(),this.isHidden=!0,this.chart.handleCursorHide()},showCursor:function(t){!this.drawing&&this.enabled&&(this.vLineEnabled&&this.vvLine&&this.vvLine.show(),this.hLineEnabled&&this.hhLine&&this.hhLine.show(),this.isHidden=!1,this.updateFullLine(),t||this.fire({target:this,chart:this.chart,
type:"onShowCursor"}),this.pan&&this.chart.setMouseCursor("move"))},updateFullLine:function(){this.zooming&&this.fullWidth&&this.selection&&(this.rotate?0<this.selection.height&&this.hhLine.hide():0<this.selection.width&&this.vvLine.hide())},updateSelection:function(){if(!this.pan&&this.enabled){var e=this.mouseX,r=this.mouseY;isNaN(this.fx)||(e=this.fx),isNaN(this.fy)||(r=this.fy),this.clearSelection();var n,i=this.mouseX0,a=this.mouseY0,o=this.width,s=this.height,e=t.fitToBounds(e,0,o),r=t.fitToBounds(r,0,s);e<i&&(n=e,e=i,i=n),r<a&&(n=r,r=a,a=n),this.hZoomEnabled?o=e-i:i=0,this.vZoomEnabled?s=r-a:a=0,isNaN(this.mouse2X)&&0<Math.abs(o)&&0<Math.abs(s)&&(e=this.chart,r=t.rect(this.container,o,s,this.cursorColor,this.selectionAlpha),t.setCN(e,r,"cursor-selection"),r.width=o,r.height=s,r.translate(i,a),this.set.push(r),this.selection=r),this.updateFullLine()}},mouseIsOver:function(){var t=this.mouseX,e=this.mouseY;return this.justReleased?(this.justReleased=!1,!0):!!this.mouseIsDown||(this.chart.mouseIsOver?0<t&&t<this.width&&0<e&&e<this.height||void this.handleMouseOut():(this.handleMouseOut(),!1))},fixPosition:function(){this.prevY=this.prevX=NaN},handleMouseDown:function(){if(this.update(),this.mouseIsOver())if(this.mouseIsDown=!0,this.mouseX0=this.mouseX,this.mouseY0=this.mouseY,this.mouse2X0=this.mouse2X,this.mouse2Y0=this.mouse2Y,this.drawing)this.drawStartY=this.mouseY,this.drawStartX=this.mouseX,this.drawingNow=!0;else if(this.dispatchMovedEvent(this.mouseX,this.mouseY),!this.pan&&isNaN(this.mouse2X0)&&(isNaN(this.fx)||(this.mouseX0=this.fx),isNaN(this.fy)||(this.mouseY0=this.fy)),this.hZoomEnabled||this.vZoomEnabled){this.zooming=!0;var t={chart:this.chart,target:this,type:"zoomStarted"};t.x=this.mouseX/this.width,t.y=this.mouseY/this.height,this.index0=t.index=this.index,this.timestamp0=this.timestamp,this.fire(t)}},registerInitialMouse:function(){},handleReleaseOutside:function(){if(this.mouseIsDown=!1,this.drawingNow){this.drawingNow=!1,t.remove(this.drawingLine);var e=this.drawStartX,r=this.drawStartY,n=this.mouseX,i=this.mouseY,a=this.chart;(2<Math.abs(e-n)||2<Math.abs(r-i))&&this.fire({type:"draw",target:this,chart:a,initialX:e,initialY:r,finalX:n,finalY:i})}this.zooming&&(this.zooming=!1,this.selectWithoutZooming?this.dispatchZoomEvent("selected"):(this.hZoomEnabled||this.vZoomEnabled)&&this.dispatchZoomEvent("zoomed"),this.rolledOver&&this.dispatchMovedEvent(this.mouseX,this.mouseY)),this.mouse2Y0=this.mouse2X0=this.mouseY0=this.mouseX0=NaN},dispatchZoomEvent:function(t){if(!this.pan){var e=this.selection;if(e&&3<Math.abs(e.width)&&3<Math.abs(e.height)){var r=Math.min(this.index,this.index0),n=Math.max(this.index,this.index0),i=r,a=n,o=this.chart,s=o.chartData,l=o.categoryAxis;l&&l.parseDates&&!l.equalSpacing&&(i=s[r]?s[r].time:Math.min(this.timestamp0,this.timestamp),a=s[n]?o.getEndTime(s[n].time):Math.max(this.timestamp0,this.timestamp));var u,e={type:t,chart:this.chart,target:this,end:a,start:i,startIndex:r,endIndex:n,selectionHeight:e.height,selectionWidth:e.width,selectionY:e.y,selectionX:e.x};this.hZoomEnabled&&4<Math.abs(this.mouseX0-this.mouseX)&&(e.startX=this.mouseX0/this.width,e.endX=this.mouseX/this.width,u=!0),this.vZoomEnabled&&4<Math.abs(this.mouseY0-this.mouseY)&&(e.startY=1-this.mouseY0/this.height,e.endY=1-this.mouseY/this.height,u=!0),u&&(this.prevY=this.prevX=NaN,this.fire(e),"selected"!=t&&this.clearSelection()),this.hideCursor()}}},dispatchMovedEvent:function(t,e,r,n){if(t=Math.round(t),e=Math.round(e),!this.isHidden&&(t!=this.prevX||e!=this.prevY||"changed"==r)){r||(r="moved");var i=this.fx,a=this.fy;isNaN(i)&&(i=t),isNaN(a)&&(a=e);var o=!1;this.zooming&&this.pan&&(o=!0),o={hidden:this.isHidden,type:r,chart:this.chart,target:this,x:t,y:e,finalX:i,finalY:a,zooming:this.zooming,panning:o,mostCloseGraph:this.mostCloseGraph,index:this.index,skip:n,hideBalloons:this.hideGraphBalloons},this.prevIndex=this.index,this.rotate?(o.position=e,o.finalPosition=a):(o.position=t,o.finalPosition=i),this.prevX=t,this.prevY=e,n?this.chart.handleCursorMove(o):(this.fire(o),"changed"==r&&this.chart.fire(o))}},dispatchPanEvent:function(){if(this.mouseIsDown){var e=t.roundTo((this.mouseX-this.mouseX0)/this.width,3),r=t.roundTo((this.mouseY-this.mouseY0)/this.height,3),n=t.roundTo((this.mouse2X-this.mouse2X0)/this.width,3),i=t.roundTo((this.mouse2Y-this.mouse2Y0)/this.height,2),a=!1;0!==Math.abs(e)&&0!==Math.abs(r)&&(a=!0),this.prevDeltaX!=e&&this.prevDeltaY!=r||(a=!1),isNaN(n)||isNaN(i)||(0!==Math.abs(n)&&0!==Math.abs(i)&&(a=!0),this.prevDelta2X!=n&&this.prevDelta2Y!=i)||(a=!1),a&&(this.hideLines(),this.fire({type:"panning",chart:this.chart,target:this,deltaX:e,deltaY:r,delta2X:n,delta2Y:i,index:this.index}),this.prevDeltaX=e,this.prevDeltaY=r,this.prevDelta2X=n,this.prevDelta2Y=i)}},clearSelection:function(){var t=this.selection;t&&(t.width=0,t.height=0,t.remove())},destroy:function(){this.clear(),t.remove(this.selection),this.selection=null,clearTimeout(this.syncTO),t.remove(this.set)},clear:function(){},setTimestamp:function(t){this.timestamp=t},setIndex:function(t,e){t!=this.index&&(this.index=t,e||this.isHidden||this.dispatchMovedEvent(this.mouseX,this.mouseY,"changed"))},handleMouseOut:function(){this.enabled&&this.rolledOver&&(this.leaveCursor||this.setIndex(void 0),this.forceShow=!1,this.hideCursor(),this.rolledOver=!1)},showCursorAt:function(t){var e=this.chart.categoryAxis;e&&this.setPosition(e.categoryToCoordinate(t),t)},setPosition:function(t,e){var r=this.chart,n=r.categoryAxis;if(n){var i,a;void 0===e&&(e=n.coordinateToValue(t)),n.showBalloonAt(e,t),this.forceShow=!0,n.stickBalloonToCategory?r.rotate?this.fixHLine(t,0):this.fixVLine(t,0):(this.showCursor(),r.rotate?this.hhLine.translate(0,t):this.vvLine.translate(t,0)),r.rotate?i=t:a=t,r.rotate?(this.vvLine&&this.vvLine.hide(),this.hhLine&&this.hhLine.show()):(this.hhLine&&this.hhLine.hide(),this.vvLine&&this.vvLine.show()),this.updateFullLine(),this.isHidden=!1,this.dispatchMovedEvent(a,i,"moved",!0)}},enableDrawing:function(t){this.enabled=!t,this.hideCursor(),this.drawing=t},syncWithCursor:function(t,e){clearTimeout(this.syncTO),t&&(t.isHidden?this.hideCursor(!0):this.syncWithCursorReal(t,e))},isZooming:function(t){this.zooming=t},syncWithCursorReal:function(t,e){var r=t.vvLine,n=t.hhLine;this.index=t.index,this.forceShow=!0,this.zooming&&this.pan||this.showCursor(!0),this.hideGraphBalloons=e,this.justReleased=t.justReleased,this.zooming=t.zooming,this.index0=t.index0,this.mouseX0=t.mouseX0,this.mouseY0=t.mouseY0,this.mouse2X0=t.mouse2X0,this.mouse2Y0=t.mouse2Y0,this.timestamp0=t.timestamp0,this.prevDeltaX=t.prevDeltaX,this.prevDeltaY=t.prevDeltaY,this.prevDelta2X=t.prevDelta2X,this.prevDelta2Y=t.prevDelta2Y,this.fx=t.fx,this.fy=t.fy,t.zooming&&this.updateSelection();var i=t.mouseX,a=t.mouseY;this.rotate?(i=NaN,this.vvLine&&this.vvLine.hide(),this.hhLine&&n&&(isNaN(t.fy)?this.hhLine.translate(0,t.mouseY):this.fixHLine(t.fy,0))):(a=NaN,this.hhLine&&this.hhLine.hide(),this.vvLine&&r&&(isNaN(t.fx)?this.vvLine.translate(t.mouseX,0):this.fixVLine(t.fx,0))),this.dispatchMovedEvent(i,a,"moved",!0)}})}(),function(){var t=window.AmCharts;t.SimpleChartScrollbar=t.Class({construct:function(e){this.createEvents("zoomed","zoomStarted","zoomEnded"),this.backgroundColor="#D4D4D4",this.backgroundAlpha=1,this.selectedBackgroundColor="#EFEFEF",this.scrollDuration=this.selectedBackgroundAlpha=1,this.resizeEnabled=!0,this.hideResizeGrips=!1,this.scrollbarHeight=20,this.updateOnReleaseOnly=!1,9>document.documentMode&&(this.updateOnReleaseOnly=!0),this.dragIconHeight=this.dragIconWidth=35,this.dragIcon="dragIconRoundBig",this.dragCursorHover="cursor: move; cursor: grab; cursor: -moz-grab; cursor: -webkit-grab;",this.dragCursorDown="cursor: move; cursor: grab; cursor: -moz-grabbing; cursor: -webkit-grabbing;",this.vResizeCursor="ns-resize",this.hResizeCursor="ew-resize",this.enabled=!0,this.percentStart=this.offset=0,this.percentEnd=1,t.applyTheme(this,e,"SimpleChartScrollbar")},getPercents:function(){var t=this.getDBox(),e=t.x,r=t.y,n=t.width,t=t.height;this.rotate?(e=1-r/this.height,r=1-(r+t)/this.height):(r=e/this.width,e=(e+n)/this.width),this.percentStart=r,this.percentEnd=e},draw:function(){var e=this;if(e.destroy(),e.enabled){var r=e.chart.container,n=e.rotate,i=e.chart;i.panRequired=!0;var a=r.set();e.set=a,i.scrollbarsSet.push(a);var o,s;if(n?(o=e.scrollbarHeight,s=i.plotAreaHeight):(s=e.scrollbarHeight,o=i.plotAreaWidth),e.width=o,(e.height=s)&&o){var l=t.rect(r,o,s,e.backgroundColor,e.backgroundAlpha,1,e.backgroundColor,e.backgroundAlpha);t.setCN(i,l,"scrollbar-bg"),e.bg=l,a.push(l),l=t.rect(r,o,s,"#000",.005),a.push(l),e.invisibleBg=l,l.click(function(){e.handleBgClick()}).mouseover(function(){e.handleMouseOver()}).mouseout(function(){e.handleMouseOut()}).touchend(function(){e.handleBgClick()}),l=t.rect(r,o,s,e.selectedBackgroundColor,e.selectedBackgroundAlpha),t.setCN(i,l,"scrollbar-bg-selected"),e.selectedBG=l,a.push(l),o=t.rect(r,o,s,"#000",.005),e.dragger=o,a.push(o),o.mousedown(function(t){e.handleDragStart(t)}).mouseup(function(){e.handleDragStop()}).mouseover(function(){e.handleDraggerOver()}).mouseout(function(){e.handleMouseOut()}).touchstart(function(t){e.handleDragStart(t)}).touchend(function(){e.handleDragStop()}),s=i.pathToImages;var u,l=e.dragIcon.replace(/\.[a-z]*$/i,"");t.isAbsolute(l)&&(s=""),n?(u=s+l+"H"+i.extension,s=e.dragIconWidth,n=e.dragIconHeight):(u=s+l+i.extension,n=e.dragIconWidth,s=e.dragIconHeight),l=r.image(u,0,0,n,s),t.setCN(i,l,"scrollbar-grip-left"),u=r.image(u,0,0,n,s),t.setCN(i,u,"scrollbar-grip-right");var c=10,h=20;i.panEventsEnabled&&(c=25,h=e.scrollbarHeight);var g=t.rect(r,c,h,"#000",.005),p=t.rect(r,c,h,"#000",.005);p.translate(-(c-n)/2,-(h-s)/2),g.translate(-(c-n)/2,-(h-s)/2),n=r.set([l,p]),r=r.set([u,g]),e.iconLeft=n,a.push(e.iconLeft),e.iconRight=r,a.push(r),e.updateGripCursor(!1),i.makeAccessible(n,e.accessibleLabel),i.makeAccessible(r,e.accessibleLabel),i.makeAccessible(o,e.accessibleLabel),n.setAttr("role","menuitem"),r.setAttr("role","menuitem"),o.setAttr("role","menuitem"),void 0!==e.tabIndex&&(n.setAttr("tabindex",e.tabIndex),n.keyup(function(t){e.handleKeys(t,1,0)})),void 0!==e.tabIndex&&(o.setAttr("tabindex",e.tabIndex),o.keyup(function(t){e.handleKeys(t,1,1)})),void 0!==e.tabIndex&&(r.setAttr("tabindex",e.tabIndex),r.keyup(function(t){e.handleKeys(t,0,1)})),n.mousedown(function(){e.leftDragStart()}).mouseup(function(){e.leftDragStop()}).mouseover(function(){e.iconRollOver()}).mouseout(function(){e.iconRollOut()}).touchstart(function(){e.leftDragStart()}).touchend(function(){e.leftDragStop()}),r.mousedown(function(){e.rightDragStart()}).mouseup(function(){e.rightDragStop()}).mouseover(function(){e.iconRollOver()}).mouseout(function(){e.iconRollOut()}).touchstart(function(){e.rightDragStart()}).touchend(function(){e.rightDragStop()}),t.ifArray(i.chartData)?a.show():a.hide(),e.hideDragIcons(),e.clipDragger(!1)}a.translate(e.x,e.y),a.node.style.msTouchAction="none",a.node.style.touchAction="none"}},handleKeys:function(t,e,r){this.getPercents();var n=this.percentStart,i=this.percentEnd;if(this.rotate)var a=i,i=n,n=a;37!=t.keyCode&&40!=t.keyCode||(n-=.02*e,i-=.02*r),39!=t.keyCode&&38!=t.keyCode||(n+=.02*e,i+=.02*r),this.rotate&&(t=i,i=n,n=t),isNaN(i)||isNaN(n)||this.percentZoom(n,i,!0)},updateScrollbarSize:function(t,e){if(!isNaN(t)&&!isNaN(e)){t=Math.round(t),e=Math.round(e);var r,n,i,a,o,s=this.dragger;this.rotate?(r=0,n=t,i=this.width+1,a=e-t,s.setAttr("height",e-t),s.setAttr("y",n)):(r=t,n=0,i=e-t,a=this.height+1,o=e-t,s.setAttr("x",r),s.setAttr("width",o)),this.clipAndUpdate(r,n,i,a)}},update:function(){var t,e,r,n=!1,i=this.x,a=this.y,o=this.dragger,s=this.getDBox();if(s){e=s.x+i,r=s.y+a;var l=s.width,s=s.height,u=this.rotate,c=this.chart,h=this.width,g=this.height,p=c.mouseX,c=c.mouseY;if(t=this.initialMouse,this.forceClip&&this.clipDragger(!0),this.dragging){var d=this.initialCoord;u?(t=d+(c-t),0>t&&(t=0),d=g-s,t>d&&(t=d),o.setAttr("y",t)):(t=d+(p-t),0>t&&(t=0),d=h-l,t>d&&(t=d),o.setAttr("x",t)),this.clipDragger(!0)}this.resizingRight&&(u?(t=c-r,!isNaN(this.maxHeight)&&t>this.maxHeight&&(t=this.maxHeight),t+r>g+a&&(t=g-r+a),0>t?(this.resizingRight=!1,n=this.resizingLeft=!0):((0===t||isNaN(t))&&(t=.1),o.setAttr("height",t))):(t=p-e,!isNaN(this.maxWidth)&&t>this.maxWidth&&(t=this.maxWidth),t+e>h+i&&(t=h-e+i),0>t?(this.resizingRight=!1,n=this.resizingLeft=!0):((0===t||isNaN(t))&&(t=.1),o.setAttr("width",t))),this.clipDragger(!0)),this.resizingLeft&&(u?(e=r,r=c,r<a&&(r=a),isNaN(r)&&(r=a),r>g+a&&(r=g+a),t=!0===n?e-r:s+e-r,!isNaN(this.maxHeight)&&t>this.maxHeight&&(t=this.maxHeight,r=e),0>t?(this.resizingRight=!0,this.resizingLeft=!1,o.setAttr("y",e+s-a)):((0===t||isNaN(t))&&(t=.1),o.setAttr("y",r-a),o.setAttr("height",t))):(r=p,r<i&&(r=i),isNaN(r)&&(r=i),r>h+i&&(r=h+i),t=!0===n?e-r:l+e-r,!isNaN(this.maxWidth)&&t>this.maxWidth&&(t=this.maxWidth,r=e),0>t?(this.resizingRight=!0,this.resizingLeft=!1,o.setAttr("x",e+l-i)):((0===t||isNaN(t))&&(t=.1),o.setAttr("x",r-i),o.setAttr("width",t))),this.clipDragger(!0))}},stopForceClip:function(){this.animating=this.forceClip=!1},clipDragger:function(t){var e=this.getDBox();if(e){var r=e.x,n=e.y,i=e.width,e=e.height,a=!1;this.rotate?(r=0,i=this.width+1,(this.clipY!=n||this.clipH!=e)&&(a=!0)):(n=0,e=this.height+1,(this.clipX!=r||this.clipW!=i)&&(a=!0)),a&&(this.clipAndUpdate(r,n,i,e),t&&(this.updateOnReleaseOnly||this.dispatchScrollbarEvent()))}},maskGraphs:function(){},clipAndUpdate:function(t,e,r,n){this.clipX=t,this.clipY=e,this.clipW=r,this.clipH=n,this.selectedBG.setAttr("width",r),this.selectedBG.setAttr("height",n),this.selectedBG.translate(t,e),this.updateDragIconPositions(),this.maskGraphs(t,e,r,n)},dispatchScrollbarEvent:function(){if(this.skipEvent)this.skipEvent=!1;else{var t=this.chart;t.hideBalloon();var e=this.getDBox(),r=e.x,n=e.y,i=e.width,e=e.height;this.getPercents(),this.rotate?(r=n,i=this.height/e):i=this.width/i,this.fire({type:"zoomed",position:r,chart:t,target:this,multiplier:i,relativeStart:this.percentStart,relativeEnd:this.percentEnd})}},updateDragIconPositions:function(){var t,e,r=this.getDBox(),n=r.x,i=r.y,a=this.iconLeft,o=this.iconRight,s=this.scrollbarHeight;this.rotate?(t=this.dragIconWidth,e=this.dragIconHeight,a.translate((s-e)/2,i-t/2),o.translate((s-e)/2,i+r.height-t/2)):(t=this.dragIconHeight,e=this.dragIconWidth,a.translate(n-e/2,(s-t)/2),o.translate(n-e/2+r.width,(s-t)/2))},showDragIcons:function(){this.resizeEnabled&&(this.iconLeft.show(),this.iconRight.show())},hideDragIcons:function(){this.resizingLeft||this.resizingRight||this.dragging||(!this.hideResizeGrips&&this.resizeEnabled||(this.iconLeft.hide(),this.iconRight.hide()),this.removeCursors())},removeCursors:function(){this.chart.setMouseCursor("auto")},fireZoomEvent:function(t){this.fire({type:t,chart:this.chart,target:this})},percentZoom:function(e,r,n){if(e=t.fitToBounds(e,0,r),r=t.fitToBounds(r,e,1),this.dragger&&this.enabled){this.dragger.stop(),isNaN(e)&&(e=0),isNaN(r)&&(r=1);var i,a;this.rotate?(i=this.height,r=i-i*r,a=i-i*e):(i=this.width,a=i*r,r=i*e),this.updateScrollbarSize(r,a),this.clipDragger(!1),this.getPercents(),n&&this.dispatchScrollbarEvent()}},destroy:function(){this.clear(),t.remove(this.set),t.remove(this.iconRight),t.remove(this.iconLeft)},clear:function(){},handleDragStart:function(){if(this.enabled){this.fireZoomEvent("zoomStarted");var e=this.chart;this.dragger.stop(),this.removeCursors(),t.isModern&&this.dragger.node.setAttribute("style",this.dragCursorDown),this.dragging=!0;var r=this.getDBox();this.rotate?(this.initialCoord=r.y,this.initialMouse=e.mouseY):(this.initialCoord=r.x,this.initialMouse=e.mouseX)}},handleDragStop:function(){this.updateOnReleaseOnly&&(this.update(),this.skipEvent=!1,this.dispatchScrollbarEvent()),this.dragging=!1,this.mouseIsOver&&this.removeCursors(),t.isModern&&this.dragger.node.setAttribute("style",this.dragCursorHover),this.update(),this.fireZoomEvent("zoomEnded")},handleDraggerOver:function(){this.handleMouseOver(),t.isModern&&this.dragger.node.setAttribute("style",this.dragCursorHover)},leftDragStart:function(){this.fireZoomEvent("zoomStarted"),this.dragger.stop(),this.resizingLeft=!0,this.updateGripCursor(!0)},updateGripCursor:function(e){t.isModern&&(e=this.rotate?e?this.vResizeCursorDown:this.vResizeCursorHover:e?this.hResizeCursorDown:this.hResizeCursorHover)&&(this.iconRight&&this.iconRight.node.setAttribute("style",e),this.iconLeft&&this.iconLeft.node.setAttribute("style",e))},leftDragStop:function(){this.resizingLeft&&(this.resizingLeft=!1,this.mouseIsOver||this.removeCursors(),this.updateOnRelease(),this.fireZoomEvent("zoomEnded")),this.updateGripCursor(!1)},rightDragStart:function(){this.fireZoomEvent("zoomStarted"),this.dragger.stop(),this.resizingRight=!0,this.updateGripCursor(!0)},rightDragStop:function(){this.resizingRight&&(this.resizingRight=!1,this.mouseIsOver||this.removeCursors(),this.updateOnRelease(),this.fireZoomEvent("zoomEnded")),this.updateGripCursor(!1)},iconRollOut:function(){this.removeCursors()},iconRollOver:function(){this.rotate?this.vResizeCursor&&this.chart.setMouseCursor(this.vResizeCursor):this.hResizeCursor&&this.chart.setMouseCursor(this.hResizeCursor),this.handleMouseOver()},getDBox:function(){if(this.dragger)return this.dragger.getBBox()},handleBgClick:function(){var e=this;if(!e.resizingRight&&!e.resizingLeft){e.zooming=!0;var r,n,i=e.scrollDuration,a=e.dragger;r=e.getDBox();var o=r.height,s=r.width;n=e.chart;var l=e.y,u=e.x,c=e.rotate;c?(r="y",n=n.mouseY-o/2-l,n=t.fitToBounds(n,0,e.height-o)):(r="x",n=n.mouseX-s/2-u,n=t.fitToBounds(n,0,e.width-s)),e.updateOnReleaseOnly?(e.skipEvent=!1,a.setAttr(r,n),e.dispatchScrollbarEvent(),e.clipDragger()):(e.animating=!0,n=Math.round(n),c?a.animate({y:n},i,">"):a.animate({x:n},i,">"),e.forceClip=!0,clearTimeout(e.forceTO),e.forceTO=setTimeout(function(){e.stopForceClip.call(e)},5e3*i))}},updateOnRelease:function(){this.updateOnReleaseOnly&&(this.update(),this.skipEvent=!1,this.dispatchScrollbarEvent())},handleReleaseOutside:function(){this.set&&((this.resizingLeft||this.resizingRight||this.dragging)&&(this.dragging=this.resizingRight=this.resizingLeft=!1,this.updateOnRelease(),this.removeCursors()),this.animating=this.mouseIsOver=!1,this.hideDragIcons(),this.update())},handleMouseOver:function(){this.mouseIsOver=!0,this.showDragIcons()},handleMouseOut:function(){this.mouseIsOver=!1,this.hideDragIcons(),this.removeCursors()}})}(),function(){var t=window.AmCharts;t.ChartScrollbar=t.Class({inherits:t.SimpleChartScrollbar,construct:function(e){this.cname="ChartScrollbar",t.ChartScrollbar.base.construct.call(this,e),this.graphLineColor="#BBBBBB",this.graphLineAlpha=0,this.graphFillColor="#BBBBBB",this.graphFillAlpha=1,this.selectedGraphLineColor="#888888",this.selectedGraphLineAlpha=0,this.selectedGraphFillColor="#888888",this.selectedGraphFillAlpha=1,this.gridCount=0,this.gridColor="#FFFFFF",this.gridAlpha=.7,this.skipEvent=this.autoGridCount=!1,this.color="#FFFFFF",this.scrollbarCreated=!1,this.oppositeAxis=!0,this.accessibleLabel="Zoom chart using cursor arrows",t.applyTheme(this,e,this.cname)},init:function(){var e=this.categoryAxis,r=this.chart,n=this.gridAxis;e||("CategoryAxis"==this.gridAxis.cname?(this.catScrollbar=!0,e=new t.CategoryAxis,e.id="scrollbar"):(e=new t.ValueAxis,e.data=r.chartData,e.id=n.id,e.type=n.type,e.maximumDate=n.maximumDate,e.minimumDate=n.minimumDate,e.minPeriod=n.minPeriod),this.categoryAxis=e),e.chart=r;var i=r.categoryAxis;i&&(e.firstDayOfWeek=i.firstDayOfWeek),e.dateFormats=n.dateFormats,e.markPeriodChange=n.markPeriodChange,e.boldPeriodBeginning=n.boldPeriodBeginning,e.labelFunction=n.labelFunction,e.axisItemRenderer=t.RecItem,e.axisRenderer=t.RecAxis,e.guideFillRenderer=t.RecFill,e.inside=!0,e.fontSize=this.fontSize,e.tickLength=0,e.axisAlpha=0,t.isString(this.graph)&&(this.graph=t.getObjById(r.graphs,this.graph)),(e=this.graph)&&this.catScrollbar&&(n=this.valueAxis,n||(this.valueAxis=n=new t.ValueAxis,n.visible=!1,n.scrollbar=!0,n.axisItemRenderer=t.RecItem,n.axisRenderer=t.RecAxis,n.guideFillRenderer=t.RecFill,n.labelsEnabled=!1,n.chart=r),r=this.unselectedGraph,r||(r=new t.AmGraph,r.scrollbar=!0,this.unselectedGraph=r,r.negativeBase=e.negativeBase,r.noStepRisers=e.noStepRisers),r=this.selectedGraph,r||(r=new t.AmGraph,r.scrollbar=!0,this.selectedGraph=r,r.negativeBase=e.negativeBase,r.noStepRisers=e.noStepRisers)),this.scrollbarCreated=!0},draw:function(){var e=this;if(t.ChartScrollbar.base.draw.call(e),e.enabled){e.scrollbarCreated||e.init();var r=e.chart,n=r.chartData,i=e.categoryAxis,a=e.rotate,o=e.x,s=e.y,l=e.width,u=e.height,c=e.gridAxis,h=e.set;if(i.setOrientation(!a),i.parseDates=c.parseDates,"ValueAxis"==e.categoryAxis.cname&&(i.rotate=!a),i.equalSpacing=c.equalSpacing,i.minPeriod=c.minPeriod,i.startOnAxis=c.startOnAxis,i.width=l-1,i.height=u,i.gridCount=e.gridCount,i.gridColor=e.gridColor,i.gridAlpha=e.gridAlpha,i.color=e.color,i.tickLength=0,i.axisAlpha=0,i.autoGridCount=e.autoGridCount,i.parseDates&&!i.equalSpacing&&i.timeZoom(r.firstTime,r.lastTime),i.minimum=e.gridAxis.fullMin,i.maximum=e.gridAxis.fullMax,i.strictMinMax=!0,i.zoom(0,n.length-1),(c=e.graph)&&e.catScrollbar){var g=e.valueAxis,p=c.valueAxis;g.id=p.id,g.rotate=a,g.setOrientation(a),g.width=l,g.height=u,g.dataProvider=n,g.reversed=p.reversed,g.logarithmic=p.logarithmic,g.gridAlpha=0,g.axisAlpha=0,h.push(g.set),a?(g.y=s,g.x=0):(g.x=o,g.y=0);var d,o=1/0,s=-(1/0);for(d=0;d<n.length;d++){var f,A=n[d].axes[p.id].graphs[c.id].values;for(f in A)if(A.hasOwnProperty(f)&&"percents"!=f&&"total"!=f){var C=A[f];C<o&&(o=C),C>s&&(s=C)}}1/0!=o&&(g.minimum=o),-(1/0)!=s&&(g.maximum=s+.1*(s-o)),o==s&&(--g.minimum,g.maximum+=1),void 0!==e.minimum&&(g.minimum=e.minimum),void 0!==e.maximum&&(g.maximum=e.maximum),g.zoom(0,n.length-1),f=e.unselectedGraph,f.id=c.id,f.bcn="scrollbar-graph-",f.rotate=a,f.chart=r,f.data=n,f.valueAxis=g,f.chart=c.chart,f.categoryAxis=e.categoryAxis,f.periodSpan=c.periodSpan,f.valueField=c.valueField,f.openField=c.openField,f.closeField=c.closeField,f.highField=c.highField,f.lowField=c.lowField,f.lineAlpha=e.graphLineAlpha,f.lineColorR=e.graphLineColor,f.fillAlphas=e.graphFillAlpha,f.fillColorsR=e.graphFillColor,f.connect=c.connect,f.hidden=c.hidden,f.width=l,f.height=u,f.pointPosition=c.pointPosition,f.stepDirection=c.stepDirection,f.periodSpan=c.periodSpan,p=e.selectedGraph,p.id=c.id,p.bcn=f.bcn+"selected-",p.rotate=a,p.chart=r,p.data=n,p.valueAxis=g,p.chart=c.chart,p.categoryAxis=i,p.periodSpan=c.periodSpan,p.valueField=c.valueField,p.openField=c.openField,p.closeField=c.closeField,p.highField=c.highField,p.lowField=c.lowField,p.lineAlpha=e.selectedGraphLineAlpha,p.lineColorR=e.selectedGraphLineColor,p.fillAlphas=e.selectedGraphFillAlpha,p.fillColorsR=e.selectedGraphFillColor,p.connect=c.connect,p.hidden=c.hidden,p.width=l,p.height=u,p.pointPosition=c.pointPosition,p.stepDirection=c.stepDirection,p.periodSpan=c.periodSpan,r=e.graphType,r||(r=c.type),f.type=r,p.type=r,n=n.length-1,f.zoom(0,n),p.zoom(0,n),p.set.click(function(){e.handleBackgroundClick()}).mouseover(function(){e.handleMouseOver()}).mouseout(function(){e.handleMouseOut()}),f.set.click(function(){e.handleBackgroundClick()}).mouseover(function(){e.handleMouseOver()}).mouseout(function(){e.handleMouseOut()}),h.push(f.set),h.push(p.set)}h.push(i.set),h.push(i.labelsSet),e.bg.toBack(),e.invisibleBg.toFront(),e.dragger.toFront(),e.iconLeft.toFront(),e.iconRight.toFront()}},timeZoom:function(e,r,n){this.startTime=e,this.endTime=r,this.timeDifference=r-e,this.skipEvent=!t.toBoolean(n),this.zoomScrollbar(),this.dispatchScrollbarEvent()},zoom:function(t,e){this.start=t,this.end=e,this.skipEvent=!0,this.zoomScrollbar()},dispatchScrollbarEvent:function(){if(this.categoryAxis&&"ValueAxis"==this.categoryAxis.cname)t.ChartScrollbar.base.dispatchScrollbarEvent.call(this);else if(this.skipEvent)this.skipEvent=!1;else{var e,r,n=this.chart.chartData,i=this.dragger.getBBox();e=i.x;var a=i.y,o=i.width,i=i.height,s=this.chart;this.rotate?(e=a,r=i):r=o,o={type:"zoomed",target:this},o.chart=s;var l=this.categoryAxis,u=this.stepWidth,a=s.minSelectedTime,i=s.maxSelectedTime,c=!1;l.parseDates&&!l.equalSpacing?(n=s.lastTime,s=s.firstTime,l=Math.round(e/u)+s,e=this.dragging?l+this.timeDifference:Math.round((e+r)/u)+s,l>e&&(l=e),0<a&&e-l<a&&(e=Math.round(l+(e-l)/2),c=Math.round(a/2),l=e-c,e+=c,c=!0),0<i&&e-l>i&&(e=Math.round(l+(e-l)/2),c=Math.round(i/2),l=e-c,e+=c,c=!0),e>n&&(e=n),e-a<l&&(l=e-a),l<s&&(l=s),l+a>e&&(e=l+a),(l!=this.startTime||e!=this.endTime)&&(this.startTime=l,this.endTime=e,o.start=l,o.end=e,o.startDate=new Date(l),o.endDate=new Date(e),this.fire(o))):(l.startOnAxis||(e+=u/2),r-=this.stepWidth/2,a=l.xToIndex(e),e=l.xToIndex(e+r),a==this.start&&this.end==e||(l.startOnAxis&&(this.resizingRight&&a==e&&e++,this.resizingLeft&&a==e&&(0<a?a--:e=1)),this.start=a,this.end=this.dragging?this.start+this.difference:e,o.start=this.start,o.end=this.end,l.parseDates&&(n[this.start]&&(o.startDate=new Date(n[this.start].time)),n[this.end]&&(o.endDate=new Date(n[this.end].time))),this.fire(o)),this.percentStart=a,this.percentEnd=e),c&&this.zoomScrollbar(!0)}},zoomScrollbar:function(t){if((!(this.dragging||this.resizingLeft||this.resizingRight||this.animating)||t)&&this.dragger&&this.enabled){var e;t=this.chart;var r=t.chartData,n=this.categoryAxis;n.parseDates&&!n.equalSpacing?(r=n.stepWidth,n=t.firstTime,t=r*(this.startTime-n),e=r*(this.endTime-n)):(t=r[this.start].x[n.id],e=r[this.end].x[n.id],r=n.stepWidth,n.startOnAxis||(n=r/2,t-=n,e+=n)),this.stepWidth=r,this.updateScrollbarSize(t,e)}},maskGraphs:function(t,e,r,n){var i=this.selectedGraph;i&&i.set.clipRect(t,e,r,n)},handleDragStart:function(){t.ChartScrollbar.base.handleDragStart.call(this),this.difference=this.end-this.start,this.timeDifference=this.endTime-this.startTime,0>this.timeDifference&&(this.timeDifference=0)},handleBackgroundClick:function(){t.ChartScrollbar.base.handleBackgroundClick.call(this),this.dragging||(this.difference=this.end-this.start,this.timeDifference=this.endTime-this.startTime,0>this.timeDifference&&(this.timeDifference=0))}})}(),function(){var t=window.AmCharts;t.AmBalloon=t.Class({construct:function(e){this.cname="AmBalloon",this.enabled=!0,this.fillColor="#FFFFFF",this.fillAlpha=.8,this.borderThickness=2,this.borderColor="#FFFFFF",this.borderAlpha=1,this.cornerRadius=0,this.maxWidth=220,this.horizontalPadding=8,this.verticalPadding=4,this.pointerWidth=6,this.pointerOrientation="V",this.color="#000000",this.adjustBorderColor=!0,this.show=this.follow=this.showBullet=!1,this.bulletSize=3,this.shadowAlpha=.4,this.shadowColor="#000000",this.fadeOutDuration=this.animationDuration=.3,this.fixedPosition=!0,this.offsetY=6,this.offsetX=1,this.textAlign="center",this.disableMouseEvents=!0,this.deltaSignX=this.deltaSignY=1,t.isModern||(this.offsetY*=1.5),this.sdy=this.sdx=0,t.applyTheme(this,e,this.cname)},draw:function(){var e=this.pointToX,r=this.pointToY;t.isModern||(this.drop=!1);var n=this.chart;if(t.VML&&(this.fadeOutDuration=0),this.xAnim&&n.stopAnim(this.xAnim),this.yAnim&&n.stopAnim(this.yAnim),this.sdy=this.sdx=0,!isNaN(e)){var i=this.follow,a=n.container,o=this.set;if(t.remove(o),this.removeDiv(),o=a.set(),o.node.style.pointerEvents="none",this.set=o,this.mainSet?(this.mainSet.push(this.set),this.sdx=this.mainSet.x,this.sdy=this.mainSet.y):n.balloonsSet.push(o),this.show){var s=this.l,l=this.t,u=this.r,c=this.b,h=this.balloonColor,g=this.fillColor,p=this.borderColor,d=g;void 0!=h&&(this.adjustBorderColor?d=p=h:g=h);var f=this.horizontalPadding,A=this.verticalPadding,C=this.pointerWidth,m=this.pointerOrientation,I=this.cornerRadius,v=n.fontFamily,y=this.fontSize;void 0==y&&(y=n.fontSize);var h=document.createElement("div"),b=n.classNamePrefix;h.className=b+"-balloon-div",this.className&&(h.className=h.className+" "+b+"-balloon-div-"+this.className),b=h.style,this.disableMouseEvents&&(b.pointerEvents="none"),b.position="absolute";var x=this.minWidth,w="";isNaN(x)||(w="min-width:"+(x-2*f)+"px; "),h.innerHTML='<div style="text-align:'+this.textAlign+"; "+w+"max-width:"+this.maxWidth+"px; font-size:"+y+"px; color:"+this.color+"; font-family:"+v+'">'+this.text+"</div>",n.chartDiv.appendChild(h),this.textDiv=h;var N=h.offsetWidth,S=h.offsetHeight;h.clientHeight&&(N=h.clientWidth,S=h.clientHeight),v=S+2*A,w=N+2*f,!isNaN(x)&&w<x&&(w=x),window.opera&&(v+=2);var T=!1,y=this.offsetY;n.handDrawn&&(y+=n.handDrawScatter+2),"H"!=m?(x=e-w/2,r<l+v+10&&"down"!=m?(T=!0,i&&(r+=y),y=r+C,this.deltaSignY=-1):(i&&(r-=y),y=r-v-C,this.deltaSignY=1)):(2*C>v&&(C=v/2),y=r-v/2,e<s+(u-s)/2?(x=e+C,this.deltaSignX=-1):(x=e-w-C,this.deltaSignX=1)),y+v>=c&&(y=c-v),y<l&&(y=l),x<s&&(x=s),x+w>u&&(x=u-w);var E,l=y+A,c=x+f,k=this.shadowAlpha,O=this.shadowColor,f=this.borderThickness,_=this.bulletSize,A=this.fillAlpha,P=this.borderAlpha;this.showBullet&&(E=t.circle(a,_,d,A),o.push(E)),this.drop?(s=w/1.6,u=0,"V"==m&&(m="down"),"H"==m&&(m="left"),"down"==m&&(x=e+1,y=r-s-s/3),"up"==m&&(u=180,x=e+1,y=r+s+s/3),"left"==m&&(u=270,x=e+s+s/3+2,y=r),"right"==m&&(u=90,x=e-s-s/3+2,y=r),l=y-S/2+1,c=x-N/2-1,g=t.drop(a,s,u,g,A,f,p,P)):0<I||0===C?(0<k&&(e=t.rect(a,w,v,g,0,f+1,O,k,I),t.isModern?e.translate(1,1):e.translate(4,4),o.push(e)),g=t.rect(a,w,v,g,A,f,p,P,I)):(d=[],I=[],"H"!=m?(s=e-x,s>w-C&&(s=w-C),s<C&&(s=C),d=[0,s-C,e-x,s+C,w,w,0,0],I=T?[0,0,r-y,0,0,v,v,0]:[v,v,r-y,v,v,0,0,v]):(m=r-y,m>v-C&&(m=v-C),m<C&&(m=C),I=[0,m-C,r-y,m+C,v,v,0,0],d=e<s+(u-s)/2?[0,0,x<e?0:e-x,0,0,w,w,0]:[w,w,x+w>e?w:e-x,w,w,0,0,w]),0<k&&(e=t.polygon(a,d,I,g,0,f,O,k),e.translate(1,1),o.push(e)),g=t.polygon(a,d,I,g,A,f,p,P)),this.bg=g,o.push(g),g.toFront(),t.setCN(n,g,"balloon-bg"),this.className&&t.setCN(n,g,"balloon-bg-"+this.className),a=1*this.deltaSignX,c+=this.sdx,l+=this.sdy,b.left=c+"px",b.top=l+"px",o.translate(x-a,y,1,!0),g=g.getBBox(),this.bottom=y+v+1,this.yPos=g.y+y,E&&E.translate(this.pointToX-x+a,r-y),r=this.animationDuration,0<this.animationDuration&&!i&&!isNaN(this.prevX)&&(o.translate(this.prevX,this.prevY,NaN,!0),o.animate({translate:x-a+","+y},r,"easeOutSine"),h&&(b.left=this.prevTX+"px",b.top=this.prevTY+"px",this.xAnim=n.animate({node:h},"left",this.prevTX,c,r,"easeOutSine","px"),this.yAnim=n.animate({node:h},"top",this.prevTY,l,r,"easeOutSine","px"))),this.prevX=x-a,this.prevY=y,this.prevTX=c,this.prevTY=l}}},fixPrevious:function(){this.rPrevX=this.prevX,this.rPrevY=this.prevY,this.rPrevTX=this.prevTX,this.rPrevTY=this.prevTY},restorePrevious:function(){this.prevX=this.rPrevX,this.prevY=this.rPrevY,this.prevTX=this.rPrevTX,this.prevTY=this.rPrevTY},followMouse:function(){if(this.follow&&this.show){var t=this.chart.mouseX-this.offsetX*this.deltaSignX-this.sdx,e=this.chart.mouseY-this.sdy;if(this.pointToX=t,this.pointToY=e,t!=this.previousX||e!=this.previousY)if(this.previousX=t,this.previousY=e,0===this.cornerRadius)this.draw();else{var r=this.set;if(r){var n=r.getBBox(),t=t-n.width/2,i=e-n.height-10;t<this.l&&(t=this.l),t>this.r-n.width&&(t=this.r-n.width),i<this.t&&(i=e+10),r.translate(t,i),e=this.textDiv.style,e.left=t+this.horizontalPadding+"px",e.top=i+this.verticalPadding+"px"}}}},changeColor:function(t){this.balloonColor=t},setBounds:function(t,e,r,n){this.l=t,this.t=e,this.r=r,this.b=n,this.destroyTO&&clearTimeout(this.destroyTO)},showBalloon:function(t){(this.text!=t||this.positionChanged)&&(this.text=t,this.isHiding=!1,this.show=!0,this.destroyTO&&clearTimeout(this.destroyTO),t=this.chart,this.fadeAnim1&&t.stopAnim(this.fadeAnim1),this.fadeAnim2&&t.stopAnim(this.fadeAnim2),this.draw(),this.positionChanged=!1)},hide:function(t){var e=this;e.text=void 0,isNaN(t)&&(t=e.fadeOutDuration);var r=e.chart;if(0<t&&!e.isHiding){e.isHiding=!0,e.destroyTO&&clearTimeout(e.destroyTO),e.destroyTO=setTimeout(function(){e.destroy.call(e)},1e3*t),e.follow=!1,e.show=!1;var n=e.set;n&&(n.setAttr("opacity",e.fillAlpha),e.fadeAnim1=n.animate({opacity:0},t,"easeInSine")),e.textDiv&&(e.fadeAnim2=r.animate({node:e.textDiv},"opacity",1,0,t,"easeInSine",""));
}else e.show=!1,e.follow=!1,e.destroy()},setPosition:function(t,e){t==this.pointToX&&e==this.pointToY||(this.previousX=this.pointToX,this.previousY=this.pointToY,this.pointToX=t,this.pointToY=e,this.positionChanged=!0)},followCursor:function(t){var e=this;e.follow=t,clearInterval(e.interval);var r=e.chart.mouseX-e.sdx,n=e.chart.mouseY-e.sdy;!isNaN(r)&&t&&(e.pointToX=r-e.offsetX*e.deltaSignX,e.pointToY=n,e.followMouse(),e.interval=setInterval(function(){e.followMouse.call(e)},40))},removeDiv:function(){if(this.textDiv){var t=this.textDiv.parentNode;t&&t.removeChild(this.textDiv)}},destroy:function(){clearInterval(this.interval),t.remove(this.set),this.removeDiv(),this.set=null}})}(),function(){var t=window.AmCharts;t.AmCoordinateChart=t.Class({inherits:t.AmChart,construct:function(e){t.AmCoordinateChart.base.construct.call(this,e),this.theme=e,this.createEvents("rollOverGraphItem","rollOutGraphItem","clickGraphItem","doubleClickGraphItem","rightClickGraphItem","clickGraph","rollOverGraph","rollOutGraph"),this.startAlpha=1,this.startDuration=0,this.startEffect="elastic",this.sequencedAnimation=!0,this.colors="#FF6600 #FCD202 #B0DE09 #0D8ECF #2A0CD0 #CD0D74 #CC0000 #00CC00 #0000CC #DDDDDD #999999 #333333 #990000".split(" "),this.balloonDateFormat="MMM DD, YYYY",this.valueAxes=[],this.graphs=[],this.guides=[],this.gridAboveGraphs=!1,t.applyTheme(this,e,"AmCoordinateChart")},initChart:function(){t.AmCoordinateChart.base.initChart.call(this),this.drawGraphs=!0;var e=this.categoryAxis;e&&(this.categoryAxis=t.processObject(e,t.CategoryAxis,this.theme)),this.processValueAxes(),this.createValueAxes(),this.processGraphs(),this.processGuides(),t.VML&&(this.startAlpha=1),this.setLegendData(this.graphs),this.gridAboveGraphs&&(this.gridSet.toFront(),this.bulletSet.toFront(),this.balloonsSet.toFront())},createValueAxes:function(){if(0===this.valueAxes.length){var e=new t.ValueAxis;this.addValueAxis(e)}},parseData:function(){this.processValueAxes(),this.processGraphs()},parseSerialData:function(t){if(this.chartData=[],t)if(0<this.processTimeout){1>this.processCount&&(this.processCount=1);var e=t.length/this.processCount;this.parseCount=Math.ceil(e)-1;for(var r=0;r<e;r++)this.delayParseSerialData(t,r)}else this.parseCount=0,this.parsePartSerialData(t,0,t.length,0);else this.onDataUpdated()},delayParseSerialData:function(t,e){var r=this,n=r.processCount;setTimeout(function(){r.parsePartSerialData.call(r,t,e*n,(e+1)*n,e)},r.processTimeout)},parsePartSerialData:function(e,r,n,i){n>e.length&&(n=e.length);var a=this.graphs,o={},s=this.seriesIdField;s||(s=this.categoryField);var l,u,c,h,g=!1,p=this.categoryAxis;p&&(g=p.parseDates,u=p.forceShowField,h=p.classNameField,c=p.labelColorField,l=p.categoryFunction);var d,f,A,C={};g&&(d=t.extractPeriod(p.minPeriod),f=d.period,d=d.count,A=t.getPeriodDuration(f,d));var m={};this.lookupTable=m;var I,v=this.dataDateFormat,y={};for(I=r;I<n;I++){var b={},x=e[I];if(r=x[this.categoryField],b.dataContext=x,b.category=l?l(r,x,p):String(r),u&&(b.forceShow=x[u]),h&&(b.className=x[h]),c&&(b.labelColor=x[c]),m[x[s]]=b,!g||(p.categoryFunction?r=p.categoryFunction(r,x,p):(!v||r instanceof Date||(r=r.toString()+" |"),r=t.getDate(r,v,p.minPeriod)),r=t.resetDateToMin(r,f,d,p.firstDayOfWeek),b.category=r,b.time=r.getTime(),!isNaN(b.time))){var w=this.valueAxes;b.axes={},b.x={};var N;for(N=0;N<w.length;N++){var S=w[N].id;b.axes[S]={},b.axes[S].graphs={};var T;for(T=0;T<a.length;T++){r=a[T];var E=r.id,k=1.1;isNaN(r.gapPeriod)||(k=r.gapPeriod);var O=r.periodValue;if(r.valueAxis.id==S){b.axes[S].graphs[E]={};var _={};_.index=I;var P=x;r.dataProvider&&(P=o),_.values=this.processValues(P,r,O),!r.connect&&y&&y[E]&&0<k&&b.time-C[E]>=A*k&&(y[E].gap=!0),this.processFields(r,_,P),_.category=b.category,_.serialDataItem=b,_.graph=r,b.axes[S].graphs[E]=_,C[E]=b.time,y[E]=_}}}this.chartData[I]=b}}if(this.parseCount==i){for(e=0;e<a.length;e++)r=a[e],r.dataProvider&&this.parseGraphData(r);this.dataChanged=!1,this.dispatchDataUpdated=!0,this.onDataUpdated()}},processValues:function(e,r,n){var i,a={},o=!1;"candlestick"!=r.type&&"ohlc"!=r.type||""===n||(o=!0);for(var s="value error open close low high".split(" "),l=0;l<s.length;l++){var u=s[l];"value"!=u&&"error"!=u&&o&&(n=u.charAt(0).toUpperCase()+u.slice(1));var c=e[r[u+"Field"]+n];null!==c&&(i=Number(c),isNaN(i)||(a[u]=i),"date"==r.valueAxis.type&&void 0!==c&&(i=t.getDate(c,r.chart.dataDateFormat),a[u]=i.getTime()))}return a},parseGraphData:function(t){var e=t.dataProvider,r=t.seriesIdField;r||(r=this.seriesIdField),r||(r=this.categoryField);var n;for(n=0;n<e.length;n++){var i=e[n],a=this.lookupTable[String(i[r])],o=t.valueAxis.id;a&&(o=a.axes[o].graphs[t.id],o.serialDataItem=a,o.values=this.processValues(i,t,t.periodValue),this.processFields(t,o,i))}},addValueAxis:function(t){t.chart=this,this.valueAxes.push(t),this.validateData()},removeValueAxesAndGraphs:function(){var t,e=this.valueAxes;for(t=e.length-1;-1<t;t--)this.removeValueAxis(e[t])},removeValueAxis:function(t){var e,r=this.graphs;for(e=r.length-1;0<=e;e--){var n=r[e];n&&n.valueAxis==t&&this.removeGraph(n)}for(r=this.valueAxes,e=r.length-1;0<=e;e--)r[e]==t&&r.splice(e,1);this.validateData()},addGraph:function(t){this.graphs.push(t),this.chooseGraphColor(t,this.graphs.length-1),this.validateData()},removeGraph:function(t){var e,r=this.graphs;for(e=r.length-1;0<=e;e--)r[e]==t&&(r.splice(e,1),t.destroy());this.validateData()},handleValueAxisZoom:function(){},processValueAxes:function(){var e,r=this.valueAxes;for(e=0;e<r.length;e++){var n=r[e],n=t.processObject(n,t.ValueAxis,this.theme);r[e]=n,n.chart=this,n.init(),this.listenTo(n,"axisIntZoomed",this.handleValueAxisZoom),n.id||(n.id="valueAxisAuto"+e+"_"+(new Date).getTime()),void 0===n.usePrefixes&&(n.usePrefixes=this.usePrefixes)}},processGuides:function(){var e=this.guides,r=this.categoryAxis;if(e)for(var n=0;n<e.length;n++){var i=e[n];(void 0!==i.category||void 0!==i.date)&&r&&r.addGuide(i),i.id||(i.id="guideAuto"+n+"_"+(new Date).getTime());var a=i.valueAxis;a?(t.isString(a)&&(a=this.getValueAxisById(a)),a?a.addGuide(i):this.valueAxes[0].addGuide(i)):isNaN(i.value)||this.valueAxes[0].addGuide(i)}},processGraphs:function(){var e,r=this.graphs;for(this.graphsById={},e=0;e<r.length;e++){var n=r[e],n=t.processObject(n,t.AmGraph,this.theme);r[e]=n,this.chooseGraphColor(n,e),n.chart=this,n.init(),t.isString(n.valueAxis)&&(n.valueAxis=this.getValueAxisById(n.valueAxis)),n.valueAxis||(n.valueAxis=this.valueAxes[0]),n.id||(n.id="graphAuto"+e+"_"+(new Date).getTime()),this.graphsById[n.id]=n}},formatString:function(e,r,n){var i=r.graph,a=i.valueAxis;return a.duration&&r.values.value&&(a=t.formatDuration(r.values.value,a.duration,"",a.durationUnits,a.maxInterval,a.numberFormatter),e=e.split("[[value]]").join(a)),e=t.massReplace(e,{"[[title]]":i.title,"[[description]]":r.description}),e=n?t.fixNewLines(e):t.fixBrakes(e),e=t.cleanFromEmpty(e)},getBalloonColor:function(e,n,i){var a=e.lineColor,o=e.balloonColor;return i&&(o=a),i=e.fillColorsR,"object"==("undefined"==typeof i?"undefined":r(i))?a=i[0]:void 0!==i&&(a=i),n.isNegative&&(i=e.negativeLineColor,e=e.negativeFillColors,"object"==("undefined"==typeof e?"undefined":r(e))?i=e[0]:void 0!==e&&(i=e),void 0!==i&&(a=i)),void 0!==n.color&&(a=n.color),void 0!==n.lineColor&&(a=n.lineColor),n=n.fillColors,void 0!==n&&(a=n,t.ifArray(n)&&(a=n[0])),void 0===o&&(o=a),o},getGraphById:function(e){return t.getObjById(this.graphs,e)},getValueAxisById:function(e){return t.getObjById(this.valueAxes,e)},processFields:function(e,r,n){if(e.itemColors){var i=e.itemColors,a=r.index;r.color=a<i.length?i[a]:t.randomColor()}for(i="lineColor color alpha fillColors description bullet customBullet bulletSize bulletConfig url labelColor dashLength pattern gap className columnIndex".split(" "),a=0;a<i.length;a++){var o=i[a],s=e[o+"Field"];s&&(s=n[s],t.isDefined(s)&&(r[o]=s))}r.dataContext=n},chooseGraphColor:function(e,r){if(e.lineColor)e.lineColorR=e.lineColor;else{var n;n=this.colors.length>r?this.colors[r]:e.lineColorR?e.lineColorR:t.randomColor(),e.lineColorR=n}e.fillColorsR=e.fillColors?e.fillColors:e.lineColorR,e.bulletBorderColorR=e.bulletBorderColor?e.bulletBorderColor:e.useLineColorForBulletBorder?e.lineColorR:e.bulletColor,e.bulletColorR=e.bulletColor?e.bulletColor:e.lineColorR,(n=this.patterns)&&(e.pattern=n[r])},handleLegendEvent:function(t){var e=t.type;if(t=t.dataItem){var r=t.hidden,n=t.showBalloon;switch(e){case"clickMarker":this.textClickEnabled&&(n?this.hideGraphsBalloon(t):this.showGraphsBalloon(t));break;case"clickLabel":n?this.hideGraphsBalloon(t):this.showGraphsBalloon(t);break;case"rollOverItem":r||this.highlightGraph(t);break;case"rollOutItem":r||this.unhighlightGraph();break;case"hideItem":this.hideGraph(t);break;case"showItem":this.showGraph(t)}}},highlightGraph:function(t){var e=this.graphs;if(e){var r,n=.2;if(this.legend&&(n=this.legend.rollOverGraphAlpha),1!=n)for(r=0;r<e.length;r++){var i=e[r];i!=t&&i.changeOpacity(n)}}},unhighlightGraph:function(){var t;if(this.legend&&(t=this.legend.rollOverGraphAlpha),1!=t){t=this.graphs;var e;for(e=0;e<t.length;e++)t[e].changeOpacity(1)}},showGraph:function(t){t.switchable&&(t.hidden=!1,this.dataChanged=!0,"xy"!=this.type&&(this.marginsUpdated=!1),this.chartCreated&&this.initChart())},hideGraph:function(t){t.switchable&&(this.dataChanged=!0,"xy"!=this.type&&(this.marginsUpdated=!1),t.hidden=!0,this.chartCreated&&this.initChart())},hideGraphsBalloon:function(t){t.showBalloon=!1,this.updateLegend()},showGraphsBalloon:function(t){t.showBalloon=!0,this.updateLegend()},updateLegend:function(){this.legend&&this.legend.invalidateSize()},resetAnimation:function(){var t=this.graphs;if(t){var e;for(e=0;e<t.length;e++)t[e].animationPlayed=!1}},animateAgain:function(){this.resetAnimation(),this.validateNow()}})}(),function(){var t=window.AmCharts;t.TrendLine=t.Class({construct:function(e){this.cname="TrendLine",this.createEvents("click"),this.isProtected=!1,this.dashLength=0,this.lineColor="#00CC00",this.lineThickness=this.lineAlpha=1,t.applyTheme(this,e,this.cname)},draw:function(){var e=this;e.destroy();var r,n,i,a,o=e.chart,s=o.container,l=e.categoryAxis,u=e.initialDate,c=e.initialCategory,h=e.finalDate,g=e.finalCategory,p=e.valueAxis,d=e.valueAxisX,f=e.initialXValue,A=e.finalXValue,C=e.initialValue,m=e.finalValue,I=p.recalculateToPercents,v=o.dataDateFormat;l&&(u&&(u=t.getDate(u,v,"fff"),e.initialDate=u,r=l.dateToCoordinate(u)),c&&(r=l.categoryToCoordinate(c)),h&&(h=t.getDate(h,v,"fff"),e.finalDate=h,n=l.dateToCoordinate(h)),g&&(n=l.categoryToCoordinate(g))),d&&!I&&(isNaN(f)||(r=d.getCoordinate(f)),isNaN(A)||(n=d.getCoordinate(A))),p&&!I&&(isNaN(C)||(i=p.getCoordinate(C)),isNaN(m)||(a=p.getCoordinate(m))),isNaN(r)||isNaN(n)||isNaN(i)||isNaN(i)||(o.rotate?(l=[i,a],a=[r,n]):(l=[r,n],a=[i,a]),u=e.lineColor,i=t.line(s,l,a,u,e.lineAlpha,e.lineThickness,e.dashLength),r=l,n=a,g=l[1]-l[0],p=a[1]-a[0],0===g&&(g=.01),0===p&&(p=.01),c=g/Math.abs(g),h=p/Math.abs(p),p=90*Math.PI/180-Math.asin(g/(g*p/Math.abs(g*p)*Math.sqrt(Math.pow(g,2)+Math.pow(p,2)))),g=Math.abs(5*Math.cos(p)),p=Math.abs(5*Math.sin(p)),r.push(l[1]-c*p,l[0]-c*p),n.push(a[1]+h*g,a[0]+h*g),a=t.polygon(s,r,n,u,.005,0),s=s.set([a,i]),s.translate(o.marginLeftReal,o.marginTopReal),o.trendLinesSet.push(s),t.setCN(o,i,"trend-line"),t.setCN(o,i,"trend-line-"+e.id),e.line=i,e.set=s,(i=e.initialImage)&&(i=t.processObject(i,t.Image,e.theme),i.chart=o,i.draw(),i.translate(r[0]+i.offsetX,n[0]+i.offsetY),s.push(i.set)),(i=e.finalImage)&&(i=t.processObject(i,t.Image,e.theme),i.chart=o,i.draw(),i.translate(r[1]+i.offsetX,n[1]+i.offsetY),s.push(i.set)),a.mouseup(function(){e.handleLineClick()}).mouseover(function(){e.handleLineOver()}).mouseout(function(){e.handleLineOut()}),a.touchend&&a.touchend(function(){e.handleLineClick()}),s.clipRect(0,0,o.plotAreaWidth,o.plotAreaHeight))},handleLineClick:function(){this.fire({type:"click",trendLine:this,chart:this.chart})},handleLineOver:function(){var t=this.rollOverColor;void 0!==t&&this.line.attr({stroke:t}),this.balloonText&&(clearTimeout(this.chart.hoverInt),t=this.line.getBBox(),this.chart.showBalloon(this.balloonText,this.lineColor,!0,this.x+t.x+t.width/2,this.y+t.y+t.height/2))},handleLineOut:function(){this.line.attr({stroke:this.lineColor}),this.balloonText&&this.chart.hideBalloon()},destroy:function(){t.remove(this.set)}})}(),function(){var t=window.AmCharts;t.Image=t.Class({construct:function(e){this.cname="Image",this.height=this.width=20,this.rotation=this.offsetY=this.offsetX=0,this.balloonColor=this.color="#000000",this.opacity=1,t.applyTheme(this,e,this.cname)},draw:function(){var t=this;t.set&&t.set.remove();var e=t.chart.container;t.set=e.set();var r,n;t.url?(r=e.image(t.url,0,0,t.width,t.height),n=1):t.svgPath&&(r=e.path(t.svgPath),r.setAttr("fill",t.color),r.setAttr("stroke",t.outlineColor),e=r.getBBox(),n=Math.min(t.width/e.width,t.height/e.height)),r&&(r.setAttr("opacity",t.opacity),t.set.rotate(t.rotation),r.translate(-t.width/2,-t.height/2,n),t.balloonText&&r.mouseover(function(){t.chart.showBalloon(t.balloonText,t.balloonColor,!0)}).mouseout(function(){t.chart.hideBalloon()}).touchend(function(){t.chart.hideBalloon()}).touchstart(function(){t.chart.showBalloon(t.balloonText,t.balloonColor,!0)}),t.set.push(r))},translate:function(t,e){this.set&&this.set.translate(t,e)}})}(),function(){var t=window.AmCharts;t.circle=function(e,r,n,i,a,o,s,l,u){return 0>=r&&(r=.001),void 0!=a&&0!==a||(a=.01),void 0===o&&(o="#000000"),void 0===s&&(s=0),i={fill:n,stroke:o,"fill-opacity":i,"stroke-width":a,"stroke-opacity":s},e=isNaN(u)?e.circle(0,0,r).attr(i):e.ellipse(0,0,r,u).attr(i),l&&e.gradient("radialGradient",[n,t.adjustLuminosity(n,-.6)]),e},t.text=function(e,r,n,i,a,o,s,l){return o||(o="middle"),"right"==o&&(o="end"),"left"==o&&(o="start"),isNaN(l)&&(l=1),void 0!==r&&(r=String(r),t.isIE&&!t.isModern&&(r=r.replace("&amp;","&"),r=r.replace("&","&amp;"))),n={fill:n,"font-family":i,"font-size":a+"px",opacity:l},!0===s&&(n["font-weight"]="bold"),n["text-anchor"]=o,e.text(r,n)},t.polygon=function(e,n,i,a,o,s,l,u,c,h,g){isNaN(s)&&(s=.01),isNaN(u)&&(u=o);var p=a,d=!1;"object"==("undefined"==typeof p?"undefined":r(p))&&1<p.length&&(d=!0,p=p[0]),void 0===l&&(l=p),o={fill:p,stroke:l,"fill-opacity":o,"stroke-width":s,"stroke-opacity":u},void 0!==g&&0<g&&(o["stroke-dasharray"]=g),g=t.dx,s=t.dy,e.handDrawn&&(i=t.makeHD(n,i,e.handDrawScatter),n=i[0],i=i[1]),l=Math.round,h&&(n[f]=t.roundTo(n[f],5),i[f]=t.roundTo(i[f],5),l=Number),u="M"+(l(n[0])+g)+","+(l(i[0])+s);for(var f=1;f<n.length;f++)h&&(n[f]=t.roundTo(n[f],5),i[f]=t.roundTo(i[f],5)),u+=" L"+(l(n[f])+g)+","+(l(i[f])+s);return e=e.path(u+" Z").attr(o),d&&e.gradient("linearGradient",a,c),e},t.rect=function(e,n,i,a,o,s,l,u,c,h,g){if(isNaN(n)||isNaN(i))return e.set();isNaN(s)&&(s=0),void 0===c&&(c=0),void 0===h&&(h=270),isNaN(o)&&(o=0);var p=a,d=!1;"object"==("undefined"==typeof p?"undefined":r(p))&&(p=p[0],d=!0),void 0===l&&(l=p),void 0===u&&(u=o),n=Math.round(n),i=Math.round(i);var f=0,A=0;return 0>n&&(n=Math.abs(n),f=-n),0>i&&(i=Math.abs(i),A=-i),f+=t.dx,A+=t.dy,o={fill:p,stroke:l,"fill-opacity":o,"stroke-opacity":u},void 0!==g&&0<g&&(o["stroke-dasharray"]=g),e=e.rect(f,A,n,i,c,s).attr(o),d&&e.gradient("linearGradient",a,h),e},t.bullet=function(e,r,n,i,a,o,s,l,u,c,h,g,p){var d;switch("circle"==r&&(r="round"),r){case"round":d=t.circle(e,n/2,i,a,o,s,l);break;case"square":d=t.polygon(e,[-n/2,n/2,n/2,-n/2],[n/2,n/2,-n/2,-n/2],i,a,o,s,l,c-180,void 0,p);break;case"rectangle":d=t.polygon(e,[-n,n,n,-n],[n/2,n/2,-n/2,-n/2],i,a,o,s,l,c-180,void 0,p);break;case"diamond":d=t.polygon(e,[-n/2,0,n/2,0],[0,-n/2,0,n/2],i,a,o,s,l);break;case"triangleUp":d=t.triangle(e,n,0,i,a,o,s,l);break;case"triangleDown":d=t.triangle(e,n,180,i,a,o,s,l);break;case"triangleLeft":d=t.triangle(e,n,270,i,a,o,s,l);break;case"triangleRight":d=t.triangle(e,n,90,i,a,o,s,l);break;case"bubble":d=t.circle(e,n/2,i,a,o,s,l,!0);break;case"line":d=t.line(e,[-n/2,n/2],[0,0],i,a,o,s,l);break;case"yError":d=e.set(),d.push(t.line(e,[0,0],[-n/2,n/2],i,a,o)),d.push(t.line(e,[-u,u],[-n/2,-n/2],i,a,o)),d.push(t.line(e,[-u,u],[n/2,n/2],i,a,o));break;case"xError":d=e.set(),d.push(t.line(e,[-n/2,n/2],[0,0],i,a,o)),d.push(t.line(e,[-n/2,-n/2],[-u,u],i,a,o)),d.push(t.line(e,[n/2,n/2],[-u,u],i,a,o))}return d&&d.pattern(h,NaN,g),d},t.triangle=function(t,e,r,n,i,a,o,s){void 0!==a&&0!==a||(a=1),void 0===o&&(o="#000"),void 0===s&&(s=0),n={fill:n,stroke:o,"fill-opacity":i,"stroke-width":a,"stroke-opacity":s},e/=2;var l;return 0===r&&(l=" M"+-e+","+e+" L0,"+-e+" L"+e+","+e+" Z"),180==r&&(l=" M"+-e+","+-e+" L0,"+e+" L"+e+","+-e+" Z"),90==r&&(l=" M"+-e+","+-e+" L"+e+",0 L"+-e+","+e+" Z"),270==r&&(l=" M"+-e+",0 L"+e+","+e+" L"+e+","+-e+" Z"),t.path(l).attr(n)},t.line=function(e,r,n,i,a,o,s,l,u,c,h){if(e.handDrawn&&!h)return t.handDrawnLine(e,r,n,i,a,o,s,l,u,c,h);for(o={fill:"none","stroke-width":o},void 0!==s&&0<s&&(o["stroke-dasharray"]=s),isNaN(a)||(o["stroke-opacity"]=a),i&&(o.stroke=i),i=Math.round,c&&(i=Number,r[0]=t.roundTo(r[0],5),n[0]=t.roundTo(n[0],5)),c=t.dx,a=t.dy,s="M"+(i(r[0])+c)+","+(i(n[0])+a),l=1;l<r.length;l++)r[l]=t.roundTo(r[l],5),n[l]=t.roundTo(n[l],5),s+=" L"+(i(r[l])+c)+","+(i(n[l])+a);return t.VML?e.path(s,void 0,!0).attr(o):(u&&(s+=" M0,0 L0,0"),e.path(s).attr(o))},t.makeHD=function(t,e,r){for(var n=[],i=[],a=1;a<t.length;a++)for(var o=Number(t[a-1]),s=Number(e[a-1]),l=Number(t[a]),u=Number(e[a]),c=Math.round(Math.sqrt(Math.pow(l-o,2)+Math.pow(u-s,2))/50)+1,l=(l-o)/c,u=(u-s)/c,h=0;h<=c;h++){var g=s+h*u+Math.random()*r;n.push(o+h*l+Math.random()*r),i.push(g)}return[n,i]},t.handDrawnLine=function(e,r,n,i,a,o,s,l,u,c){var h,g=e.set();for(h=1;h<r.length;h++)for(var p=[r[h-1],r[h]],d=[n[h-1],n[h]],d=t.makeHD(p,d,e.handDrawScatter),p=d[0],d=d[1],f=1;f<p.length;f++)g.push(t.line(e,[p[f-1],p[f]],[d[f-1],d[f]],i,a,o+Math.random()*e.handDrawThickness-e.handDrawThickness/2,s,l,u,c,!0));return g},t.doNothing=function(t){return t},t.drop=function(t,e,r,n,i,a,o,s){var l=1/180*Math.PI,u=r-20,c=Math.sin(u*l)*e,h=Math.cos(u*l)*e,g=Math.sin((u+40)*l)*e,p=Math.cos((u+40)*l)*e,d=.8*e,f=-e/3,A=e/3;return 0===r&&(f=-f,A=0),180==r&&(A=0),90==r&&(f=0),270==r&&(f=0,A=-A),r={fill:n,stroke:o,"stroke-width":a,"stroke-opacity":s,"fill-opacity":i},e="M"+c+","+h+" A"+e+","+e+",0,1,1,"+g+","+p+(" A"+d+","+d+",0,0,0,"+(Math.sin((u+20)*l)*e+A)+","+(Math.cos((u+20)*l)*e+f)),e+=" A"+d+","+d+",0,0,0,"+c+","+h,t.path(e,void 0,void 0,"1000,1000").attr(r)},t.wedge=function(e,r,n,i,a,o,s,l,u,c,h,g,p,d){var f=Math.round;o=f(o),s=f(s),l=f(l);var A=f(s/o*l),C=t.VML,m=359.5+o/100;359.94<m&&(m=359.94),a>=m&&(a=m);var I=1/180*Math.PI,m=r+Math.sin(i*I)*l,v=n-Math.cos(i*I)*A,y=r+Math.sin(i*I)*o,b=n-Math.cos(i*I)*s,x=r+Math.sin((i+a)*I)*o,w=n-Math.cos((i+a)*I)*s,N=r+Math.sin((i+a)*I)*l,I=n-Math.cos((i+a)*I)*A,S={fill:t.adjustLuminosity(c.fill,-.2),"stroke-opacity":0,"fill-opacity":c["fill-opacity"]},T=0;180<Math.abs(a)&&(T=1),i=e.set();var E;C&&(m=f(10*m),y=f(10*y),x=f(10*x),N=f(10*N),v=f(10*v),b=f(10*b),w=f(10*w),I=f(10*I),r=f(10*r),u=f(10*u),n=f(10*n),o*=10,s*=10,l*=10,A*=10,1>Math.abs(a)&&1>=Math.abs(x-y)&&1>=Math.abs(w-b)&&(E=!0)),a="";var k;if(g&&(S["fill-opacity"]=0,S["stroke-opacity"]=c["stroke-opacity"]/2,S.stroke=c.stroke),0<u){k=" M"+m+","+(v+u)+" L"+y+","+(b+u),C?(E||(k+=" A"+(r-o)+","+(u+n-s)+","+(r+o)+","+(u+n+s)+","+y+","+(b+u)+","+x+","+(w+u)),k+=" L"+N+","+(I+u),0<l&&(E||(k+=" B"+(r-l)+","+(u+n-A)+","+(r+l)+","+(u+n+A)+","+N+","+(u+I)+","+m+","+(u+v)))):(k+=" A"+o+","+s+",0,"+T+",1,"+x+","+(w+u)+" L"+N+","+(I+u),0<l&&(k+=" A"+l+","+A+",0,"+T+",0,"+m+","+(v+u))),k+=" Z";var O=u;C&&(O/=10);for(var _=0;_<O;_+=10){var P=e.path(k,void 0,void 0,"1000,1000").attr(S);i.push(P),P.translate(0,-_)}k=e.path(" M"+m+","+v+" L"+m+","+(v+u)+" L"+y+","+(b+u)+" L"+y+","+b+" L"+m+","+v+" Z",void 0,void 0,"1000,1000").attr(S),u=e.path(" M"+x+","+w+" L"+x+","+(w+u)+" L"+N+","+(I+u)+" L"+N+","+I+" L"+x+","+w+" Z",void 0,void 0,"1000,1000").attr(S),i.push(k),i.push(u)}if(C?(E||(a=" A"+f(r-o)+","+f(n-s)+","+f(r+o)+","+f(n+s)+","+f(y)+","+f(b)+","+f(x)+","+f(w)),s=" M"+f(m)+","+f(v)+" L"+f(y)+","+f(b)+a+" L"+f(N)+","+f(I)):s=" M"+m+","+v+" L"+y+","+b+(" A"+o+","+s+",0,"+T+",1,"+x+","+w)+" L"+N+","+I,0<l&&(C?E||(s+=" B"+(r-l)+","+(n-A)+","+(r+l)+","+(n+A)+","+N+","+I+","+m+","+v):s+=" A"+l+","+A+",0,"+T+",0,"+m+","+v),e.handDrawn&&(l=t.line(e,[m,y],[v,b],c.stroke,c.thickness*Math.random()*e.handDrawThickness,c["stroke-opacity"]),i.push(l)),e=e.path(s+" Z",void 0,void 0,"1000,1000").attr(c),h){for(l=[],A=0;A<h.length;A++)l.push(t.adjustLuminosity(c.fill,h[A]));"radial"!=d||t.isModern||(l=[]),0<l.length&&e.gradient(d+"Gradient",l)}return t.isModern&&"radial"==d&&e.grad&&(e.grad.setAttribute("gradientUnits","userSpaceOnUse"),e.grad.setAttribute("r",o),e.grad.setAttribute("cx",r),e.grad.setAttribute("cy",n)),e.pattern(g,NaN,p),i.wedge=e,i.push(e),i},t.rgb2hex=function(t){return(t=t.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&4===t.length?"#"+("0"+parseInt(t[1],10).toString(16)).slice(-2)+("0"+parseInt(t[2],10).toString(16)).slice(-2)+("0"+parseInt(t[3],10).toString(16)).slice(-2):""},t.adjustLuminosity=function(e,r){e&&-1!=e.indexOf("rgb")&&(e=t.rgb2hex(e)),e=String(e).replace(/[^0-9a-f]/gi,""),6>e.length&&(e=String(e[0])+String(e[0])+String(e[1])+String(e[1])+String(e[2])+String(e[2])),r=r||0;var n,i,a="#";for(i=0;3>i;i++)n=parseInt(e.substr(2*i,2),16),n=Math.round(Math.min(Math.max(0,n+n*r),255)).toString(16),a+=("00"+n).substr(n.length);return a}}(),function(){var t=window.AmCharts;t.Bezier=t.Class({construct:function(e,n,i,a,o,s,l,u,c,h,g){var p,d;for("object"==("undefined"==typeof l?"undefined":r(l))&&1<l.length&&(d=!0,p=l,l=l[0]),"object"==("undefined"==typeof u?"undefined":r(u))&&(u=u[0]),0===u&&(l="none"),s={fill:l,"fill-opacity":u,"stroke-width":s},void 0!==c&&0<c&&(s["stroke-dasharray"]=c),isNaN(o)||(s["stroke-opacity"]=o),a&&(s.stroke=a),a="M"+Math.round(n[0])+","+Math.round(i[0]),o=[],c=0;c<n.length;c++)o.push({x:Number(n[c]),y:Number(i[c])});1<o.length&&(n=this.interpolate(o),a+=this.drawBeziers(n)),h?a+=h:t.VML||(a+="M0,0 L0,0"),this.path=e.path(a).attr(s),this.node=this.path.node,d&&this.path.gradient("linearGradient",p,g)},interpolate:function(e){var r=[];r.push({x:e[0].x,y:e[0].y});var n=e[1].x-e[0].x,i=e[1].y-e[0].y,a=t.bezierX,o=t.bezierY;r.push({x:e[0].x+n/a,y:e[0].y+i/o});var s;for(s=1;s<e.length-1;s++){var l=e[s-1],u=e[s],i=e[s+1];isNaN(i.x)&&(i=u),isNaN(u.x)&&(u=l),isNaN(l.x)&&(l=u),n=i.x-u.x,i=i.y-l.y,l=u.x-l.x,l>n&&(l=n),r.push({x:u.x-l/a,y:u.y-i/o}),r.push({x:u.x,y:u.y}),r.push({x:u.x+l/a,y:u.y+i/o})}return i=e[e.length-1].y-e[e.length-2].y,n=e[e.length-1].x-e[e.length-2].x,r.push({x:e[e.length-1].x-n/a,y:e[e.length-1].y-i/o}),r.push({x:e[e.length-1].x,y:e[e.length-1].y}),r},drawBeziers:function(t){var e,r="";for(e=0;e<(t.length-1)/3;e++)r+=this.drawBezierMidpoint(t[3*e],t[3*e+1],t[3*e+2],t[3*e+3]);return r},drawBezierMidpoint:function(t,e,r,n){var i=Math.round,a=this.getPointOnSegment(t,e,.75),o=this.getPointOnSegment(n,r,.75),s=(n.x-t.x)/16,l=(n.y-t.y)/16,u=this.getPointOnSegment(t,e,.375);return t=this.getPointOnSegment(a,o,.375),t.x-=s,t.y-=l,e=this.getPointOnSegment(o,a,.375),e.x+=s,e.y+=l,r=this.getPointOnSegment(n,r,.375),s=this.getMiddle(u,t),a=this.getMiddle(a,o),o=this.getMiddle(e,r),u=" Q"+i(u.x)+","+i(u.y)+","+i(s.x)+","+i(s.y),u+=" Q"+i(t.x)+","+i(t.y)+","+i(a.x)+","+i(a.y),u+=" Q"+i(e.x)+","+i(e.y)+","+i(o.x)+","+i(o.y),u+=" Q"+i(r.x)+","+i(r.y)+","+i(n.x)+","+i(n.y)},getMiddle:function(t,e){return{x:(t.x+e.x)/2,y:(t.y+e.y)/2}},getPointOnSegment:function(t,e,r){return{x:t.x+(e.x-t.x)*r,y:t.y+(e.y-t.y)*r}}})}(),function(){var t=window.AmCharts;t.AmDraw=t.Class({construct:function(e,r,n,i){t.SVG_NS="http://www.w3.org/2000/svg",t.SVG_XLINK="http://www.w3.org/1999/xlink",t.hasSVG=!!document.createElementNS&&!!document.createElementNS(t.SVG_NS,"svg").createSVGRect,1>r&&(r=10),1>n&&(n=10),this.div=e,this.width=r,this.height=n,this.rBin=document.createElement("div"),t.hasSVG?(t.SVG=!0,r=this.createSvgElement("svg"),e.appendChild(r),this.container=r,this.addDefs(i),this.R=new t.SVGRenderer(this)):t.isIE&&t.VMLRenderer&&(t.VML=!0,t.vmlStyleSheet||(document.namespaces.add("amvml","urn:schemas-microsoft-com:vml"),31>document.styleSheets.length?(r=document.createStyleSheet(),r.addRule(".amvml","behavior:url(#default#VML); display:inline-block; antialias:true"),t.vmlStyleSheet=r):document.styleSheets[0].addRule(".amvml","behavior:url(#default#VML); display:inline-block; antialias:true")),this.container=e,this.R=new t.VMLRenderer(this,i),this.R.disableSelection(e))},createSvgElement:function(e){return document.createElementNS(t.SVG_NS,e)},circle:function(e,r,n,i){var a=new t.AmDObject("circle",this);return a.attr({r:n,cx:e,cy:r}),this.addToContainer(a.node,i),a},ellipse:function(e,r,n,i,a){var o=new t.AmDObject("ellipse",this);return o.attr({rx:n,ry:i,cx:e,cy:r}),this.addToContainer(o.node,a),o},setSize:function(t,e){0<t&&0<e&&(this.container.style.width=t+"px",this.container.style.height=e+"px")},rect:function(e,r,n,i,a,o,s){var l=new t.AmDObject("rect",this);return t.VML&&(a=Math.round(100*a/Math.min(n,i)),n+=2*o,i+=2*o,l.bw=o,l.node.style.marginLeft=-o,l.node.style.marginTop=-o),1>n&&(n=1),1>i&&(i=1),l.attr({x:e,y:r,width:n,height:i,rx:a,ry:a,"stroke-width":o}),this.addToContainer(l.node,s),l},image:function(e,r,n,i,a,o){var s=new t.AmDObject("image",this);return s.attr({x:r,y:n,width:i,height:a}),this.R.path(s,e),this.addToContainer(s.node,o),s},addToContainer:function(t,e){e||(e=this.container),e.appendChild(t)},text:function(t,e,r){return this.R.text(t,e,r)},path:function(e,r,n,i){var a=new t.AmDObject("path",this);return i||(i="100,100"),a.attr({cs:i}),n?a.attr({dd:e}):a.attr({d:e}),this.addToContainer(a.node,r),a},set:function(t){return this.R.set(t)},remove:function(t){if(t){var e=this.rBin;e.appendChild(t),e.innerHTML=""}},renderFix:function(){var t=this.container,e=t.style;e.top="0px",e.left="0px";try{var r=t.getBoundingClientRect(),n=r.left-Math.round(r.left),i=r.top-Math.round(r.top);n&&(e.left=n+"px"),i&&(e.top=i+"px")}catch(t){}},update:function(){this.R.update()},addDefs:function(e){if(t.hasSVG){var r=this.createSvgElement("desc"),n=this.container;if(n.setAttribute("version","1.1"),n.style.position="absolute",this.setSize(this.width,this.height),e.accessibleTitle){var i=this.createSvgElement("text");n.appendChild(i),i.innerHTML=e.accessibleTitle,i.style.opacity=0}t.rtl&&(n.setAttribute("direction","rtl"),n.style.left="auto",n.style.right="0px"),e&&(e.addCodeCredits&&r.appendChild(document.createTextNode("JavaScript chart by amCharts "+e.version)),n.appendChild(r),e.defs&&(r=this.createSvgElement("defs"),n.appendChild(r),t.parseDefs(e.defs,r),this.defs=r))}}})}(),function(){var t=window.AmCharts;t.AmDObject=t.Class({construct:function(t,e){this.D=e,this.R=e.R,this.node=this.R.create(this,t),this.y=this.x=0,this.scale=1},attr:function(t){return this.R.attr(this,t),this},getAttr:function(t){return this.node.getAttribute(t)},setAttr:function(t,e){return this.R.setAttr(this,t,e),this},clipRect:function(t,e,r,n){this.R.clipRect(this,t,e,r,n)},translate:function(t,e,r,n){n||(t=Math.round(t),e=Math.round(e)),this.R.move(this,t,e,r),this.x=t,this.y=e,this.scale=r,this.angle&&this.rotate(this.angle)},rotate:function(t,e){this.R.rotate(this,t,e),this.angle=t},animate:function(e,r,n){for(var i in e)if(e.hasOwnProperty(i)){var a=i,o=e[i];n=t.getEffect(n),this.R.animate(this,a,o,r,n)}},push:function(t){if(t){var e=this.node;e.appendChild(t.node);var r=t.clipPath;r&&e.appendChild(r),(t=t.grad)&&e.appendChild(t)}},text:function(t){this.R.setText(this,t)},remove:function(){this.stop(),this.R.remove(this)},clear:function(){var t=this.node;if(t.hasChildNodes())for(;1<=t.childNodes.length;)t.removeChild(t.firstChild)},hide:function(){this.setAttr("visibility","hidden")},show:function(){this.setAttr("visibility","visible")},getBBox:function(){return this.R.getBBox(this)},toFront:function(){var t=this.node;if(t){this.prevNextNode=t.nextSibling;var e=t.parentNode;e&&e.appendChild(t)}},toPrevious:function(){var t=this.node;t&&this.prevNextNode&&(t=t.parentNode)&&t.insertBefore(this.prevNextNode,null)},toBack:function(){var t=this.node;if(t){this.prevNextNode=t.nextSibling;var e=t.parentNode;if(e){var r=e.firstChild;r&&e.insertBefore(t,r)}}},mouseover:function(t){return this.R.addListener(this,"mouseover",t),this},mouseout:function(t){return this.R.addListener(this,"mouseout",t),this},click:function(t){return this.R.addListener(this,"click",t),this},dblclick:function(t){return this.R.addListener(this,"dblclick",t),this},mousedown:function(t){return this.R.addListener(this,"mousedown",t),this},mouseup:function(t){return this.R.addListener(this,"mouseup",t),this},touchmove:function(t){return this.R.addListener(this,"touchmove",t),this},touchstart:function(t){return this.R.addListener(this,"touchstart",t),this},touchend:function(t){return this.R.addListener(this,"touchend",t),this},keyup:function(t){return this.R.addListener(this,"keyup",t),this},focus:function(t){return this.R.addListener(this,"focus",t),this},blur:function(t){return this.R.addListener(this,"blur",t),this},contextmenu:function(t){return this.node.addEventListener?this.node.addEventListener("contextmenu",t,!0):this.R.addListener(this,"contextmenu",t),this},stop:function(){t.removeFromArray(this.R.animations,this.an_translate),t.removeFromArray(this.R.animations,this.an_y),t.removeFromArray(this.R.animations,this.an_x)},length:function(){return this.node.childNodes.length},gradient:function(t,e,r){this.R.gradient(this,t,e,r)},pattern:function(t,e,r){t&&this.R.pattern(this,t,e,r)}})}(),function(){var t=window.AmCharts;t.VMLRenderer=t.Class({construct:function(t,e){this.chart=e,this.D=t,this.cNames={circle:"oval",ellipse:"oval",rect:"roundrect",path:"shape"},this.styleMap={x:"left",y:"top",width:"width",height:"height","font-family":"fontFamily","font-size":"fontSize",visibility:"visibility"}},create:function(t,e){var r;if("group"==e)r=document.createElement("div"),t.type="div";else if("text"==e)r=document.createElement("div"),t.type="text";else if("image"==e)r=document.createElement("img"),t.type="image";else{t.type="shape",t.shapeType=this.cNames[e],r=document.createElement("amvml:"+this.cNames[e]);var n=document.createElement("amvml:stroke");r.appendChild(n),t.stroke=n;var i=document.createElement("amvml:fill");r.appendChild(i),t.fill=i,i.className="amvml",n.className="amvml",r.className="amvml"}return r.style.position="absolute",r.style.top=0,r.style.left=0,r},path:function(t,e){t.node.setAttribute("src",e)},setAttr:function(e,r,n){if(void 0!==n){var i;8===document.documentMode&&(i=!0);var a=e.node,o=e.type,s=a.style;"r"==r&&(s.width=2*n,s.height=2*n),"oval"==e.shapeType&&("rx"==r&&(s.width=2*n),"ry"==r&&(s.height=2*n)),"roundrect"==e.shapeType&&("width"!=r&&"height"!=r||--n),"cursor"==r&&(s.cursor=n),"cx"==r&&(s.left=n-t.removePx(s.width)/2),"cy"==r&&(s.top=n-t.removePx(s.height)/2);var l=this.styleMap[r];if("width"==l&&0>n&&(n=0),void 0!==l&&(s[l]=n),"text"==o&&("text-anchor"==r&&(e.anchor=n,l=a.clientWidth,"end"==n&&(s.marginLeft=-l+"px"),"middle"==n&&(s.marginLeft=-(l/2)+"px",s.textAlign="center"),"start"==n&&(s.marginLeft="0px")),"fill"==r&&(s.color=n),"font-weight"==r&&(s.fontWeight=n)),s=e.children)for(l=0;l<s.length;l++)s[l].setAttr(r,n);"shape"==o&&("cs"==r&&(a.style.width="100px",a.style.height="100px",a.setAttribute("coordsize",n)),"d"==r&&a.setAttribute("path",this.svgPathToVml(n)),"dd"==r&&a.setAttribute("path",n),o=e.stroke,e=e.fill,"stroke"==r&&(i?o.color=n:o.setAttribute("color",n)),"stroke-width"==r&&(i?o.weight=n:o.setAttribute("weight",n)),"stroke-opacity"==r&&(i?o.opacity=n:o.setAttribute("opacity",n)),"stroke-dasharray"==r&&(s="solid",0<n&&3>n&&(s="dot"),3<=n&&6>=n&&(s="dash"),6<n&&(s="longdash"),i?o.dashstyle=s:o.setAttribute("dashstyle",s)),"fill-opacity"!=r&&"opacity"!=r||(0===n?i?e.on=!1:e.setAttribute("on",!1):i?e.opacity=n:e.setAttribute("opacity",n)),
"fill"==r&&(i?e.color=n:e.setAttribute("color",n)),"rx"==r&&(i?a.arcSize=n+"%":a.setAttribute("arcsize",n+"%")))}},attr:function(t,e){for(var r in e)e.hasOwnProperty(r)&&this.setAttr(t,r,e[r])},text:function(e,r,n){var i=new t.AmDObject("text",this.D),a=i.node;return a.style.whiteSpace="pre",a.innerHTML=e,this.D.addToContainer(a,n),this.attr(i,r),i},getBBox:function(t){return this.getBox(t.node)},getBox:function(t){var e,r=t.offsetLeft,n=t.offsetTop,i=t.offsetWidth,a=t.offsetHeight;if(t.hasChildNodes()){var o,s,l;for(l=0;l<t.childNodes.length;l++){e=this.getBox(t.childNodes[l]);var u=e.x;isNaN(u)||(isNaN(o)?o=u:u<o&&(o=u));var c=e.y;isNaN(c)||(isNaN(s)?s=c:c<s&&(s=c)),u=e.width+u,isNaN(u)||(i=Math.max(i,u)),e=e.height+c,isNaN(e)||(a=Math.max(a,e))}0>o&&(r+=o),0>s&&(n+=s)}return{x:r,y:n,width:i,height:a}},setText:function(t,e){var r=t.node;r&&(r.innerHTML=e),this.setAttr(t,"text-anchor",t.anchor)},addListener:function(t,e,r){t.node["on"+e]=r},move:function(e,r,n){var i=e.node,a=i.style;"text"==e.type&&(n-=t.removePx(a.fontSize)/2-1),"oval"==e.shapeType&&(r-=t.removePx(a.width)/2,n-=t.removePx(a.height)/2),e=e.bw,isNaN(e)||(r-=e,n-=e),isNaN(r)||isNaN(n)||(i.style.left=r+"px",i.style.top=n+"px")},svgPathToVml:function(t){var e=t.split(" ");t="";var r,n,i=Math.round;for(n=0;n<e.length;n++){var a=e[n],o=a.substring(0,1),a=a.substring(1),s=a.split(","),l=i(s[0])+","+i(s[1]);if("M"==o&&(t+=" m "+l),"L"==o&&(t+=" l "+l),"Z"==o&&(t+=" x e"),"Q"==o){var u=r.length,c=r[u-1],h=s[0],g=s[1],l=s[2],p=s[3];r=i(r[u-2]/3+2/3*h),c=i(c/3+2/3*g),h=i(2/3*h+l/3),g=i(2/3*g+p/3),t+=" c "+r+","+c+","+h+","+g+","+l+","+p}"A"==o&&(t+=" wa "+a),"B"==o&&(t+=" at "+a),r=s}return t},animate:function(t,e,r,n,i){var a=t.node,o=this.chart;if(t.animationFinished=!1,"translate"==e){e=r.split(","),r=e[1];var s=a.offsetTop;o.animate(t,"left",a.offsetLeft,e[0],n,i,"px"),o.animate(t,"top",s,r,n,i,"px")}},clipRect:function(t,e,r,n,i){t=t.node,0===e&&0===r?(t.style.width=n+"px",t.style.height=i+"px",t.style.overflow="hidden"):t.style.clip="rect("+r+"px "+(e+n)+"px "+(r+i)+"px "+e+"px)"},rotate:function(e,r,n){if(0!==Number(r)){var i=e.node;e=i.style,n||(n=this.getBGColor(i.parentNode)),e.backgroundColor=n,e.paddingLeft=1,n=r*Math.PI/180;var a=Math.cos(n),o=Math.sin(n),s=t.removePx(e.left),l=t.removePx(e.top),u=i.offsetWidth,i=i.offsetHeight;r/=Math.abs(r),e.left=s+u/2-u/2*Math.cos(n)-r*i/2*Math.sin(n)+3,e.top=l-r*u/2*Math.sin(n)+r*i/2*Math.sin(n),e.cssText=e.cssText+"; filter:progid:DXImageTransform.Microsoft.Matrix(M11='"+a+"', M12='"+-o+"', M21='"+o+"', M22='"+a+"', sizingmethod='auto expand');"}},getBGColor:function(t){var e="#FFFFFF";if(t.style){var r=t.style.backgroundColor;""!==r?e=r:t.parentNode&&(e=this.getBGColor(t.parentNode))}return e},set:function(e){var r=new t.AmDObject("group",this.D);if(this.D.container.appendChild(r.node),e){var n;for(n=0;n<e.length;n++)r.push(e[n])}return r},gradient:function(t,e,r,n){var i="";"radialGradient"==e&&(e="gradientradial",r.reverse()),"linearGradient"==e&&(e="gradient");var a;for(a=0;a<r.length;a++)i+=Math.round(100*a/(r.length-1))+"% "+r[a],a<r.length-1&&(i+=",");t=t.fill,90==n?n=0:270==n?n=180:180==n?n=90:0===n&&(n=270),8===document.documentMode?(t.type=e,t.angle=n):(t.setAttribute("type",e),t.setAttribute("angle",n)),i&&(t.colors.value=i)},remove:function(t){t.clipPath&&this.D.remove(t.clipPath),this.D.remove(t.node)},disableSelection:function(t){t.onselectstart=function(){return!1},t.style.cursor="default"},pattern:function(e,r,n,i){n=e.node,e=e.fill;var a="none";r.color&&(a=r.color),n.fillColor=a,r=r.url,t.isAbsolute(r)||(r=i+r),8===document.documentMode?(e.type="tile",e.src=r):(e.setAttribute("type","tile"),e.setAttribute("src",r))},update:function(){}})}(),function(){var t=window.AmCharts;t.SVGRenderer=t.Class({construct:function(t){this.D=t,this.animations=[]},create:function(e,r){return document.createElementNS(t.SVG_NS,r)},attr:function(t,e){for(var r in e)e.hasOwnProperty(r)&&this.setAttr(t,r,e[r])},setAttr:function(t,e,r){void 0!==r&&t.node.setAttribute(e,r)},animate:function(e,r,n,i,a){e.animationFinished=!1;var o=e.node;e["an_"+r]&&t.removeFromArray(this.animations,e["an_"+r]),"translate"==r?(o=(o=o.getAttribute("transform"))?String(o).substring(10,o.length-1):"0,0",o=o.split(", ").join(" "),o=o.split(" ").join(","),0===o&&(o="0,0")):o=Number(o.getAttribute(r)),n={obj:e,frame:0,attribute:r,from:o,to:n,time:i,effect:a},this.animations.push(n),e["an_"+r]=n},update:function(){var e,r=this.animations;for(e=r.length-1;0<=e;e--){var n,i,a,o=r[e],s=o.time*t.updateRate,l=o.frame+1,u=o.obj,c=o.attribute;if(l<=s){if(o.frame++,"translate"==c){if(n=o.from.split(","),c=Number(n[0]),n=Number(n[1]),isNaN(n)&&(n=0),i=o.to.split(","),a=Number(i[0]),i=Number(i[1]),a=0===a-c?a:Math.round(t[o.effect](0,l,c,a-c,s)),o=0===i-n?i:Math.round(t[o.effect](0,l,n,i-n,s)),c="transform",isNaN(a)||isNaN(o))continue;o="translate("+a+","+o+")"}else i=Number(o.from),n=Number(o.to),a=n-i,o=t[o.effect](0,l,i,a,s),isNaN(o)&&(o=n),0===a&&this.animations.splice(e,1);this.setAttr(u,c,o)}else"translate"==c?(i=o.to.split(","),a=Number(i[0]),i=Number(i[1]),u.translate(a,i)):(n=Number(o.to),this.setAttr(u,c,n)),u.animationFinished=!0,this.animations.splice(e,1)}},getBBox:function(t){if(t=t.node)try{return t.getBBox()}catch(t){}return{width:0,height:0,x:0,y:0}},path:function(e,r){e.node.setAttributeNS(t.SVG_XLINK,"xlink:href",r)},clipRect:function(e,r,n,i,a){var o=e.node,s=e.clipPath;s&&this.D.remove(s);var l=o.parentNode;l&&(o=document.createElementNS(t.SVG_NS,"clipPath"),s=t.getUniqueId(),o.setAttribute("id",s),this.D.rect(r,n,i,a,0,0,o),l.appendChild(o),r="#",t.baseHref&&!t.isIE&&(r=this.removeTarget(window.location.href)+r),this.setAttr(e,"clip-path","url("+r+s+")"),this.clipPathC++,e.clipPath=o)},text:function(e,r,n){var i=new t.AmDObject("text",this.D);e=String(e).split("\n");var a,o=t.removePx(r["font-size"]);for(a=0;a<e.length;a++){var s=this.create(null,"tspan");s.appendChild(document.createTextNode(e[a])),s.setAttribute("y",(o+2)*a+Math.round(o/2)),s.setAttribute("x",0),i.node.appendChild(s)}return i.node.setAttribute("y",Math.round(o/2)),this.attr(i,r),this.D.addToContainer(i.node,n),i},setText:function(t,e){var r=t.node;r&&(r.removeChild(r.firstChild),r.appendChild(document.createTextNode(e)))},move:function(t,e,r,n){isNaN(e)&&(e=0),isNaN(r)&&(r=0),e="translate("+e+","+r+")",n&&(e=e+" scale("+n+")"),this.setAttr(t,"transform",e)},rotate:function(t,e){var r=t.node.getAttribute("transform"),n="rotate("+e+")";r&&(n=r+" "+n),this.setAttr(t,"transform",n)},set:function(e){var r=new t.AmDObject("g",this.D);if(this.D.container.appendChild(r.node),e){var n;for(n=0;n<e.length;n++)r.push(e[n])}return r},addListener:function(t,e,r){t.node["on"+e]=r},gradient:function(e,r,n,i){var a=e.node,o=e.grad;if(o&&this.D.remove(o),r=document.createElementNS(t.SVG_NS,r),o=t.getUniqueId(),r.setAttribute("id",o),!isNaN(i)){var s=0,l=0,u=0,c=0;90==i?u=100:270==i?c=100:180==i?s=100:0===i&&(l=100),r.setAttribute("x1",s+"%"),r.setAttribute("x2",l+"%"),r.setAttribute("y1",u+"%"),r.setAttribute("y2",c+"%")}for(i=0;i<n.length;i++)s=document.createElementNS(t.SVG_NS,"stop"),l=100*i/(n.length-1),0===i&&(l=0),s.setAttribute("offset",l+"%"),s.setAttribute("stop-color",n[i]),r.appendChild(s);a.parentNode.appendChild(r),n="#",t.baseHref&&!t.isIE&&(n=this.removeTarget(window.location.href)+n),a.setAttribute("fill","url("+n+o+")"),e.grad=r},removeTarget:function(t){return t.split("#")[0]},pattern:function(e,r,n,i){var a=e.node;isNaN(n)&&(n=1);var o=e.patternNode;o&&this.D.remove(o);var o=document.createElementNS(t.SVG_NS,"pattern"),s=t.getUniqueId(),l=r;r.url&&(l=r.url),t.isAbsolute(l)||-1!=l.indexOf("data:image")||(l=i+l),i=Number(r.width),isNaN(i)&&(i=4);var u=Number(r.height);isNaN(u)&&(u=4),i/=n,u/=n,n=r.x,isNaN(n)&&(n=0);var c=-Math.random()*Number(r.randomX);isNaN(c)||(n=c),c=r.y,isNaN(c)&&(c=0);var h=-Math.random()*Number(r.randomY);isNaN(h)||(c=h),o.setAttribute("id",s),o.setAttribute("width",i),o.setAttribute("height",u),o.setAttribute("patternUnits","userSpaceOnUse"),o.setAttribute("xlink:href",l),r.color&&(h=document.createElementNS(t.SVG_NS,"rect"),h.setAttributeNS(null,"height",i),h.setAttributeNS(null,"width",u),h.setAttributeNS(null,"fill",r.color),o.appendChild(h)),this.D.image(l,0,0,i,u,o).translate(n,c),l="#",t.baseHref&&!t.isIE&&(l=this.removeTarget(window.location.href)+l),a.setAttribute("fill","url("+l+s+")"),e.patternNode=o,a.parentNode.appendChild(o)},remove:function(t){t.clipPath&&this.D.remove(t.clipPath),t.grad&&this.D.remove(t.grad),t.patternNode&&this.D.remove(t.patternNode),this.D.remove(t.node)}})}(),function(){var t=window.AmCharts;t.AmLegend=t.Class({construct:function(e){this.enabled=!0,this.cname="AmLegend",this.createEvents("rollOverMarker","rollOverItem","rollOutMarker","rollOutItem","showItem","hideItem","clickMarker","clickLabel"),this.position="bottom",this.borderColor=this.color="#000000",this.borderAlpha=0,this.markerLabelGap=5,this.verticalGap=10,this.align="left",this.horizontalGap=0,this.spacing=10,this.markerDisabledColor="#AAB3B3",this.markerType="square",this.markerSize=16,this.markerBorderThickness=this.markerBorderAlpha=1,this.marginBottom=this.marginTop=0,this.marginLeft=this.marginRight=20,this.autoMargins=!0,this.valueWidth=50,this.switchable=!0,this.switchType="x",this.switchColor="#FFFFFF",this.rollOverColor="#CC0000",this.reversedOrder=!1,this.labelText="[[title]]",this.valueText="[[value]]",this.accessibleLabel="[[title]]",this.useMarkerColorForLabels=!1,this.rollOverGraphAlpha=1,this.textClickEnabled=!1,this.equalWidths=!0,this.backgroundColor="#FFFFFF",this.backgroundAlpha=0,this.useGraphSettings=!1,this.showEntries=!0,this.labelDx=0,t.applyTheme(this,e,this.cname)},setData:function(t){this.legendData=t,this.invalidateSize()},invalidateSize:function(){this.destroy(),this.entries=[],this.valueLabels=[];var e=this.legendData;this.enabled&&(t.ifArray(e)||t.ifArray(this.data))&&this.drawLegend()},drawLegend:function(){var e=this.chart,r=this.position,n=this.width,i=e.divRealWidth,a=e.divRealHeight,o=this.div,s=this.legendData;if(this.data&&(s=this.combineLegend?this.legendData.concat(this.data):this.data),isNaN(this.fontSize)&&(this.fontSize=e.fontSize),this.maxColumnsReal=this.maxColumns,"right"==r||"left"==r)this.maxColumnsReal=1,this.autoMargins&&(this.marginLeft=this.marginRight=10);else if(this.autoMargins){this.marginRight=e.marginRight,this.marginLeft=e.marginLeft;var l=e.autoMarginOffset;"bottom"==r?(this.marginBottom=l,this.marginTop=0):(this.marginTop=l,this.marginBottom=0)}if(n=void 0!==n?t.toCoordinate(n,i):"right"!=r&&"left"!=r?e.realWidth:0<this.ieW?this.ieW:e.realWidth,"outside"==r?(n=o.offsetWidth,a=o.offsetHeight,o.clientHeight&&(n=o.clientWidth,a=o.clientHeight)):(isNaN(n)||(o.style.width=n+"px"),o.className="amChartsLegend "+e.classNamePrefix+"-legend-div"),this.divWidth=n,(r=this.container)?(r.container.innerHTML="",o.appendChild(r.container),r.width=n,r.height=a,r.setSize(n,a),r.addDefs(e)):r=new t.AmDraw(o,n,a,e),this.container=r,this.lx=0,this.ly=8,a=this.markerSize,a>this.fontSize&&(this.ly=a/2-1),0<a&&(this.lx+=a+this.markerLabelGap),this.titleWidth=0,(a=this.title)&&(a=t.text(this.container,a,this.color,e.fontFamily,this.fontSize,"start",!0),t.setCN(e,a,"legend-title"),a.translate(this.marginLeft,this.marginTop+this.verticalGap+this.ly+1),e=a.getBBox(),this.titleWidth=e.width+15,this.titleHeight=e.height+6),this.index=this.maxLabelWidth=0,this.showEntries){for(e=0;e<s.length;e++)this.createEntry(s[e]);for(e=this.index=0;e<s.length;e++)this.createValue(s[e])}this.arrangeEntries(),this.updateValues()},arrangeEntries:function(){var e=this.position,r=this.marginLeft+this.titleWidth,n=this.marginRight,i=this.marginTop,a=this.marginBottom,o=this.horizontalGap,s=this.div,l=this.divWidth,u=this.maxColumnsReal,c=this.verticalGap,h=this.spacing,g=l-n-r,p=0,d=0,f=this.container;this.set&&this.set.remove();var A=f.set();this.set=A;var C=f.set();A.push(C);var m,I,v=this.entries;for(I=0;I<v.length;I++){m=v[I].getBBox();var y=m.width;y>p&&(p=y),m=m.height,m>d&&(d=m)}var y=d=0,b=o,x=0,w=0;for(I=0;I<v.length;I++){var N=v[I];this.reversedOrder&&(N=v[v.length-I-1]),m=N.getBBox();var S;this.equalWidths?S=y*(p+h+this.markerLabelGap):(S=b,b=b+m.width+o+h),S+m.width>g&&0<I&&0!==y&&(d++,S=y=0,b=S+m.width+o+h,x=x+w+c,w=0),m.height>w&&(w=m.height),N.translate(S,x),y++,!isNaN(u)&&y>=u&&(y=0,d++,x=x+w+c,b=o,w=0),C.push(N)}m=C.getBBox(),u=m.height+2*c-1,"left"==e||"right"==e?(h=m.width+2*o,l=h+r+n,s.style.width=l+"px",this.ieW=l):h=l-r-n-1,n=t.polygon(this.container,[0,h,h,0],[0,0,u,u],this.backgroundColor,this.backgroundAlpha,1,this.borderColor,this.borderAlpha),t.setCN(this.chart,n,"legend-bg"),A.push(n),A.translate(r,i),n.toBack(),r=o,"top"!=e&&"bottom"!=e&&"absolute"!=e&&"outside"!=e||("center"==this.align?r=o+(h-m.width)/2:"right"==this.align&&(r=o+h-m.width)),C.translate(r,c+1),this.titleHeight>u&&(u=this.titleHeight),e=u+i+a+1,0>e&&(e=0),e>this.chart.divRealHeight&&(s.style.top="0px"),s.style.height=Math.round(e)+"px",f.setSize(this.divWidth,e)},createEntry:function(e){if(!1!==e.visibleInLegend&&!e.hideFromLegend){var r=this,n=r.chart,i=r.useGraphSettings,a=e.markerType;a&&(i=!1),e.legendEntryWidth=r.markerSize,a||(a=r.markerType);var o=e.color,s=e.alpha;e.legendKeyColor&&(o=e.legendKeyColor()),e.legendKeyAlpha&&(s=e.legendKeyAlpha());var l;!0===e.hidden&&(l=o=r.markerDisabledColor);var u,c=e.pattern,h=e.customMarker;h||(h=r.customMarker);var g=r.container,p=r.markerSize,d=0,f=0,A=p/2;if(i)i=e.type,r.switchType=void 0,"line"==i||"step"==i||"smoothedLine"==i||"ohlc"==i?(u=g.set(),e.hidden||(o=e.lineColorR,l=e.bulletBorderColorR),d=t.line(g,[0,2*p],[p/2,p/2],o,e.lineAlpha,e.lineThickness,e.dashLength),t.setCN(n,d,"graph-stroke"),u.push(d),e.bullet&&(e.hidden||(o=e.bulletColorR),d=t.bullet(g,e.bullet,e.bulletSize,o,e.bulletAlpha,e.bulletBorderThickness,l,e.bulletBorderAlpha))&&(t.setCN(n,d,"graph-bullet"),d.translate(p+1,p/2),u.push(d)),A=0,d=p,f=p/3):(e.getGradRotation&&(u=e.getGradRotation(),0===u&&(u=180)),d=e.fillColorsR,!0===e.hidden&&(d=o),(u=r.createMarker("rectangle",d,e.fillAlphas,e.lineThickness,o,e.lineAlpha,u,c,e.dashLength))&&(A=p,u.translate(A,p/2)),d=p),t.setCN(n,u,"graph-"+i),t.setCN(n,u,"graph-"+e.id);else if(h)u=g.image(h,0,0,p,p);else{var C;isNaN(r.gradientRotation)||(C=180+r.gradientRotation),(u=r.createMarker(a,o,s,void 0,void 0,void 0,C,c))&&u.translate(p/2,p/2)}t.setCN(n,u,"legend-marker"),r.addListeners(u,e),g=g.set([u]),r.switchable&&e.switchable&&g.setAttr("cursor","pointer"),void 0!==e.id&&t.setCN(n,g,"legend-item-"+e.id),t.setCN(n,g,e.className,!0),l=r.switchType;var m;l&&"none"!=l&&0<p&&("x"==l?(m=r.createX(),m.translate(p/2,p/2)):m=r.createV(),m.dItem=e,!0!==e.hidden?"x"==l?m.hide():m.show():"x"!=l&&m.hide(),r.switchable||m.hide(),r.addListeners(m,e),e.legendSwitch=m,g.push(m),t.setCN(n,m,"legend-switch")),l=r.color,e.showBalloon&&r.textClickEnabled&&void 0!==r.selectedColor&&(l=r.selectedColor),r.useMarkerColorForLabels&&!c&&(l=o),!0===e.hidden&&(l=r.markerDisabledColor),o=t.massReplace(r.labelText,{"[[title]]":e.title}),void 0!==r.tabIndex&&(g.setAttr("tabindex",r.tabIndex),g.setAttr("role","menuitem"),g.keyup(function(t){13==t.keyCode&&r.clickMarker(e,t)})),n.accessible&&r.accessibleLabel&&(c=t.massReplace(r.accessibleLabel,{"[[title]]":e.title}),n.makeAccessible(g,c)),c=r.fontSize,u&&(p<=c&&(p=p/2+r.ly-c/2+(c+2-p)/2-f,u.translate(A,p),m&&m.translate(m.x,p)),e.legendEntryWidth=u.getBBox().width);var I;o&&(o=t.fixBrakes(o),e.legendTextReal=o,I=r.labelWidth,I=isNaN(I)?t.text(r.container,o,l,n.fontFamily,c,"start"):t.wrappedText(r.container,o,l,n.fontFamily,c,"start",!1,I,0),t.setCN(n,I,"legend-label"),I.translate(r.lx+d,r.ly),g.push(I),r.labelDx=d,n=I.getBBox().width,r.maxLabelWidth<n&&(r.maxLabelWidth=n)),r.entries[r.index]=g,e.legendEntry=r.entries[r.index],e.legendMarker=u,e.legendLabel=I,r.index++}},addListeners:function(t,e){var r=this;t&&t.mouseover(function(t){r.rollOverMarker(e,t)}).mouseout(function(t){r.rollOutMarker(e,t)}).click(function(t){r.clickMarker(e,t)})},rollOverMarker:function(t,e){this.switchable&&this.dispatch("rollOverMarker",t,e),this.dispatch("rollOverItem",t,e)},rollOutMarker:function(t,e){this.switchable&&this.dispatch("rollOutMarker",t,e),this.dispatch("rollOutItem",t,e)},clickMarker:function(t,e){this.switchable&&(!0===t.hidden?this.dispatch("showItem",t,e):this.dispatch("hideItem",t,e)),this.dispatch("clickMarker",t,e)},rollOverLabel:function(t,e){t.hidden||this.textClickEnabled&&t.legendLabel&&t.legendLabel.attr({fill:this.rollOverColor}),this.dispatch("rollOverItem",t,e)},rollOutLabel:function(t,e){if(!t.hidden&&this.textClickEnabled&&t.legendLabel){var r=this.color;void 0!==this.selectedColor&&t.showBalloon&&(r=this.selectedColor),this.useMarkerColorForLabels&&(r=t.lineColor,void 0===r&&(r=t.color)),t.legendLabel.attr({fill:r})}this.dispatch("rollOutItem",t,e)},clickLabel:function(t,e){this.textClickEnabled?t.hidden||this.dispatch("clickLabel",t,e):this.switchable&&(!0===t.hidden?this.dispatch("showItem",t,e):this.dispatch("hideItem",t,e))},dispatch:function(t,e,r){t={type:t,dataItem:e,target:this,event:r,chart:this.chart},this.chart&&this.chart.handleLegendEvent(t),this.fire(t)},createValue:function(e){var r=this,n=r.fontSize,i=r.chart;if(!1!==e.visibleInLegend&&!e.hideFromLegend){var a=r.maxLabelWidth;r.forceWidth&&(a=r.labelWidth),r.equalWidths||(r.valueAlign="left"),"left"==r.valueAlign&&e.legendLabel&&(a=e.legendLabel.getBBox().width);var o=a;if(r.valueText&&0<r.valueWidth){var s=r.color;r.useMarkerColorForValues&&(s=e.color,e.legendKeyColor&&(s=e.legendKeyColor())),!0===e.hidden&&(s=r.markerDisabledColor);var l=r.valueText,a=a+r.lx+r.labelDx+r.markerLabelGap+r.valueWidth,u="end";"left"==r.valueAlign&&(a-=r.valueWidth,u="start"),s=t.text(r.container,l,s,r.chart.fontFamily,n,u),t.setCN(i,s,"legend-value"),s.translate(a,r.ly),r.entries[r.index].push(s),o+=r.valueWidth+2*r.markerLabelGap,s.dItem=e,r.valueLabels.push(s)}r.index++,i=r.markerSize,i<n+7&&(i=n+7,t.VML&&(i+=3)),n=r.container.rect(e.legendEntryWidth,0,o,i,0,0).attr({stroke:"none",fill:"#fff","fill-opacity":.005}),n.dItem=e,r.entries[r.index-1].push(n),n.mouseover(function(t){r.rollOverLabel(e,t)}).mouseout(function(t){r.rollOutLabel(e,t)}).click(function(t){r.clickLabel(e,t)})}},createV:function(){var e=this.markerSize;return t.polygon(this.container,[e/5,e/2,e-e/5,e/2],[e/3,e-e/5,e/5,e/1.7],this.switchColor)},createX:function(){var e=(this.markerSize-4)/2,r={stroke:this.switchColor,"stroke-width":3},n=this.container,i=t.line(n,[-e,e],[-e,e]).attr(r),e=t.line(n,[-e,e],[e,-e]).attr(r);return this.container.set([i,e])},createMarker:function(e,r,n,i,a,o,s,l,u){var c=this.markerSize,h=this.container;return a||(a=this.markerBorderColor),a||(a=r),isNaN(i)&&(i=this.markerBorderThickness),isNaN(o)&&(o=this.markerBorderAlpha),t.bullet(h,e,c,r,n,i,a,o,c,s,l,this.chart.path,u)},validateNow:function(){this.invalidateSize()},updateValues:function(){var e,r=this.valueLabels,n=this.chart,i=this.data;if(r)for(e=0;e<r.length;e++){var a=r[e],o=a.dItem;o.periodDataItem=void 0,o.periodPercentDataItem=void 0;var s=" ";if(i)o.value?a.text(o.value):a.text("");else{var l=null;if(void 0!==o.type){var l=o.currentDataItem,u=this.periodValueText;o.legendPeriodValueText&&(u=o.legendPeriodValueText),l?(s=this.valueText,o.legendValueText&&(s=o.legendValueText),s=n.formatString(s,l)):u&&n.formatPeriodString&&(u=t.massReplace(u,{"[[title]]":o.title}),s=n.formatPeriodString(u,o))}else s=n.formatString(this.valueText,o);u=o,l&&(u=l);var c=this.valueFunction;c&&(s=c(u,s,n.periodDataItem));var h;this.useMarkerColorForLabels&&!l&&o.lastDataItem&&(l=o.lastDataItem),l?h=n.getBalloonColor(o,l):o.legendKeyColor&&(h=o.legendKeyColor()),o.legendColorFunction&&(h=o.legendColorFunction(u,s,o.periodDataItem,o.periodPercentDataItem)),a.text(s),!o.pattern&&(this.useMarkerColorForValues&&a.setAttr("fill",h),this.useMarkerColorForLabels)&&((a=o.legendMarker)&&(a.setAttr("fill",h),a.setAttr("stroke",h)),(o=o.legendLabel)&&o.setAttr("fill",h))}}},renderFix:function(){if(!t.VML&&this.enabled){var e=this.container;e&&e.renderFix()}},destroy:function(){this.div.innerHTML="",t.remove(this.set)}})}(),function(){var t=window.AmCharts;t.formatMilliseconds=function(t,e){if(-1!=t.indexOf("fff")){var r=e.getMilliseconds(),n=String(r);10>r&&(n="00"+r),10<=r&&100>r&&(n="0"+r),t=t.replace(/fff/g,n)}return t},t.extractPeriod=function(e){var r=t.stripNumbers(e),n=1;return r!=e&&(n=Number(e.slice(0,e.indexOf(r)))),{period:r,count:n}},t.getDate=function(e,r,n){return e instanceof Date?t.newDate(e,n):r&&isNaN(e)?t.stringToDate(e,r):new Date(e)},t.daysInMonth=function(t){return new Date(t.getYear(),t.getMonth()+1,0).getDate()},t.newDate=function(t,e){return e&&-1==e.indexOf("fff")?new Date(t):new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())},t.resetDateToMin=function(e,r,n,i){void 0===i&&(i=1);var a,o,s,l,u,c,h;switch(t.useUTC?(a=e.getUTCFullYear(),o=e.getUTCMonth(),s=e.getUTCDate(),l=e.getUTCHours(),u=e.getUTCMinutes(),c=e.getUTCSeconds(),h=e.getUTCMilliseconds(),e=e.getUTCDay()):(a=e.getFullYear(),o=e.getMonth(),s=e.getDate(),l=e.getHours(),u=e.getMinutes(),c=e.getSeconds(),h=e.getMilliseconds(),e=e.getDay()),r){case"YYYY":a=Math.floor(a/n)*n,o=0,s=1,h=c=u=l=0;break;case"MM":o=Math.floor(o/n)*n,s=1,h=c=u=l=0;break;case"WW":s=e>=i?s-e+i:s-(7+e)+i,h=c=u=l=0;break;case"DD":h=c=u=l=0;break;case"hh":l=Math.floor(l/n)*n,h=c=u=0;break;case"mm":u=Math.floor(u/n)*n,h=c=0;break;case"ss":c=Math.floor(c/n)*n,h=0;break;case"fff":h=Math.floor(h/n)*n}return t.useUTC?(e=new Date,e.setUTCFullYear(a,o,s),e.setUTCHours(l,u,c,h)):e=new Date(a,o,s,l,u,c,h),e},t.getPeriodDuration=function(t,e){void 0===e&&(e=1);var r;switch(t){case"YYYY":r=316224e5;break;case"MM":r=26784e5;break;case"WW":r=6048e5;break;case"DD":r=864e5;break;case"hh":r=36e5;break;case"mm":r=6e4;break;case"ss":r=1e3;break;case"fff":r=1}return r*e},t.intervals={s:{nextInterval:"ss",contains:1e3},ss:{nextInterval:"mm",contains:60,count:0},mm:{nextInterval:"hh",contains:60,count:1},hh:{nextInterval:"DD",contains:24,count:2},DD:{nextInterval:"",contains:1/0,count:3}},t.getMaxInterval=function(e,r){var n=t.intervals;return e>=n[r].contains?(e=Math.round(e/n[r].contains),r=n[r].nextInterval,t.getMaxInterval(e,r)):"ss"==r?n[r].nextInterval:r},t.dayNames="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),t.shortDayNames="Sun Mon Tue Wed Thu Fri Sat".split(" "),t.monthNames="January February March April May June July August September October November December".split(" "),t.shortMonthNames="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),t.getWeekNumber=function(t){t=new Date(t),t.setHours(0,0,0),t.setDate(t.getDate()+4-(t.getDay()||7));var e=new Date(t.getFullYear(),0,1);return Math.ceil(((t-e)/864e5+1)/7)},t.stringToDate=function(e,r){var n={},i=[{pattern:"YYYY",period:"year"},{pattern:"YY",period:"year"},{pattern:"MM",period:"month"},{pattern:"M",period:"month"},{pattern:"DD",period:"date"},{pattern:"D",period:"date"},{pattern:"JJ",period:"hours"},{pattern:"J",period:"hours"},{pattern:"HH",period:"hours"},{pattern:"H",period:"hours"},{pattern:"KK",period:"hours"},{pattern:"K",period:"hours"},{pattern:"LL",period:"hours"},{pattern:"L",period:"hours"},{pattern:"NN",period:"minutes"},{pattern:"N",period:"minutes"},{pattern:"SS",period:"seconds"},{pattern:"S",period:"seconds"},{pattern:"QQQ",period:"milliseconds"},{pattern:"QQ",period:"milliseconds"},{pattern:"Q",period:"milliseconds"}],a=!0,o=r.indexOf("AA");-1!=o&&(e.substr(o,2),"pm"==e.toLowerCase&&(a=!1));var s,l,u,o=r;for(u=0;u<i.length;u++)l=i[u].period,n[l]=0,"date"==l&&(n[l]=1);for(u=0;u<i.length;u++)if(s=i[u].pattern,l=i[u].period,-1!=r.indexOf(s)){var c=t.getFromDateString(s,e,o);r=r.replace(s,""),"KK"!=s&&"K"!=s&&"LL"!=s&&"L"!=s||a||(c+=12),n[l]=c}return t.useUTC?(i=new Date,i.setUTCFullYear(n.year,n.month,n.date),i.setUTCHours(n.hours,n.minutes,n.seconds,n.milliseconds)):i=new Date(n.year,n.month,n.date,n.hours,n.minutes,n.seconds,n.milliseconds),i},t.getFromDateString=function(t,e,r){if(void 0!==e)return r=r.indexOf(t),e=String(e),e=e.substr(r,t.length),"0"==e.charAt(0)&&(e=e.substr(1,e.length-1)),e=Number(e),isNaN(e)&&(e=0),-1!=t.indexOf("M")&&e--,e},t.formatDate=function(e,r,n){n||(n=t);var i,a,o,s,l,u,c,h,g=t.getWeekNumber(e);t.useUTC?(i=e.getUTCFullYear(),a=e.getUTCMonth(),o=e.getUTCDate(),s=e.getUTCDay(),l=e.getUTCHours(),u=e.getUTCMinutes(),c=e.getUTCSeconds(),h=e.getUTCMilliseconds()):(i=e.getFullYear(),a=e.getMonth(),o=e.getDate(),s=e.getDay(),l=e.getHours(),u=e.getMinutes(),c=e.getSeconds(),h=e.getMilliseconds());var p=String(i).substr(2,2),d="0"+s;r=r.replace(/W/g,g),g=l,24==g&&(g=0);var f=g;10>f&&(f="0"+f),r=r.replace(/JJ/g,f),r=r.replace(/J/g,g),f=l,0===f&&(f=24,-1!=r.indexOf("H")&&(o--,0===o&&(i=new Date(e),i.setDate(i.getDate()-1),a=i.getMonth(),o=i.getDate(),i=i.getFullYear()))),e=a+1,9>a&&(e="0"+e),g=o,10>o&&(g="0"+o);var A=f;return 10>A&&(A="0"+A),r=r.replace(/HH/g,A),r=r.replace(/H/g,f),f=l,11<f&&(f-=12),A=f,10>A&&(A="0"+A),r=r.replace(/KK/g,A),r=r.replace(/K/g,f),f=l,0===f&&(f=12),12<f&&(f-=12),A=f,10>A&&(A="0"+A),r=r.replace(/LL/g,A),r=r.replace(/L/g,f),f=u,10>f&&(f="0"+f),r=r.replace(/NN/g,f),r=r.replace(/N/g,u),u=c,10>u&&(u="0"+u),r=r.replace(/SS/g,u),r=r.replace(/S/g,c),c=h,10>c?c="00"+c:100>c&&(c="0"+c),u=h,10>u&&(u="00"+u),r=r.replace(/A/g,"@A@"),r=r.replace(/QQQ/g,c),r=r.replace(/QQ/g,u),r=r.replace(/Q/g,h),r=r.replace(/YYYY/g,"@IIII@"),r=r.replace(/YY/g,"@II@"),r=r.replace(/MMMM/g,"@XXXX@"),r=r.replace(/MMM/g,"@XXX@"),r=r.replace(/MM/g,"@XX@"),r=r.replace(/M/g,"@X@"),r=r.replace(/DD/g,"@RR@"),r=r.replace(/D/g,"@R@"),r=r.replace(/EEEE/g,"@PPPP@"),r=r.replace(/EEE/g,"@PPP@"),r=r.replace(/EE/g,"@PP@"),r=r.replace(/E/g,"@P@"),r=r.replace(/@IIII@/g,i),r=r.replace(/@II@/g,p),r=r.replace(/@XXXX@/g,n.monthNames[a]),r=r.replace(/@XXX@/g,n.shortMonthNames[a]),r=r.replace(/@XX@/g,e),r=r.replace(/@X@/g,a+1),r=r.replace(/@RR@/g,g),r=r.replace(/@R@/g,o),r=r.replace(/@PPPP@/g,n.dayNames[s]),r=r.replace(/@PPP@/g,n.shortDayNames[s]),r=r.replace(/@PP@/g,d),r=r.replace(/@P@/g,s),r=12>l?r.replace(/@A@/g,n.amString):r.replace(/@A@/g,n.pmString)},t.changeDate=function(e,r,n,i,a){if(t.useUTC)return t.changeUTCDate(e,r,n,i,a);var o=-1;switch(void 0===i&&(i=!0),void 0===a&&(a=!1),!0===i&&(o=1),r){case"YYYY":e.setFullYear(e.getFullYear()+n*o),i||a||e.setDate(e.getDate()+1);break;case"MM":r=e.getMonth(),e.setMonth(e.getMonth()+n*o),e.getMonth()>r+n*o&&e.setDate(e.getDate()-1),i||a||e.setDate(e.getDate()+1);break;case"DD":e.setDate(e.getDate()+n*o);break;case"WW":e.setDate(e.getDate()+n*o*7);break;case"hh":e.setHours(e.getHours()+n*o);break;case"mm":e.setMinutes(e.getMinutes()+n*o);break;case"ss":e.setSeconds(e.getSeconds()+n*o);break;case"fff":e.setMilliseconds(e.getMilliseconds()+n*o)}return e},t.changeUTCDate=function(t,e,r,n,i){var a=-1;switch(void 0===n&&(n=!0),void 0===i&&(i=!1),!0===n&&(a=1),e){case"YYYY":t.setUTCFullYear(t.getUTCFullYear()+r*a),n||i||t.setUTCDate(t.getUTCDate()+1);break;case"MM":e=t.getUTCMonth(),t.setUTCMonth(t.getUTCMonth()+r*a),t.getUTCMonth()>e+r*a&&t.setUTCDate(t.getUTCDate()-1),n||i||t.setUTCDate(t.getUTCDate()+1);break;case"DD":t.setUTCDate(t.getUTCDate()+r*a);break;case"WW":t.setUTCDate(t.getUTCDate()+r*a*7);break;case"hh":t.setUTCHours(t.getUTCHours()+r*a);break;case"mm":t.setUTCMinutes(t.getUTCMinutes()+r*a);break;case"ss":t.setUTCSeconds(t.getUTCSeconds()+r*a);break;case"fff":t.setUTCMilliseconds(t.getUTCMilliseconds()+r*a)}return t}}()},function(t,e){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(){var t=window.AmCharts;t.AmRectangularChart=t.Class({inherits:t.AmCoordinateChart,construct:function(e){t.AmRectangularChart.base.construct.call(this,e),this.theme=e,this.createEvents("zoomed","changed"),this.marginRight=this.marginBottom=this.marginTop=this.marginLeft=20,this.depth3D=this.angle=0,this.plotAreaFillColors="#FFFFFF",this.plotAreaFillAlphas=0,this.plotAreaBorderColor="#000000",this.plotAreaBorderAlpha=0,this.maxZoomFactor=20,this.zoomOutButtonImageSize=19,this.zoomOutButtonImage="lens",this.zoomOutText="Show all",this.zoomOutButtonColor="#e5e5e5",this.zoomOutButtonAlpha=0,this.zoomOutButtonRollOverAlpha=1,this.zoomOutButtonPadding=8,this.trendLines=[],this.autoMargins=!0,this.marginsUpdated=!1,this.autoMarginOffset=10,t.applyTheme(this,e,"AmRectangularChart")},initChart:function(){t.AmRectangularChart.base.initChart.call(this),this.updateDxy(),!this.marginsUpdated&&this.autoMargins&&(this.resetMargins(),this.drawGraphs=!1),this.processScrollbars(),this.updateMargins(),this.updatePlotArea(),this.updateScrollbars(),this.updateTrendLines(),this.updateChartCursor(),this.updateValueAxes(),this.scrollbarOnly||this.updateGraphs()},drawChart:function(){if(t.AmRectangularChart.base.drawChart.call(this),this.drawPlotArea(),t.ifArray(this.chartData)){var e=this.chartCursor;e&&e.draw()}},resetMargins:function(){var t,e={};if("xy"==this.type){var r=this.xAxes,n=this.yAxes;for(t=0;t<r.length;t++){var i=r[t];i.ignoreAxisWidth||(i.setOrientation(!0),i.fixAxisPosition(),e[i.position]=!0)}for(t=0;t<n.length;t++)r=n[t],r.ignoreAxisWidth||(r.setOrientation(!1),r.fixAxisPosition(),e[r.position]=!0)}else{for(n=this.valueAxes,t=0;t<n.length;t++)r=n[t],r.ignoreAxisWidth||(r.setOrientation(this.rotate),r.fixAxisPosition(),e[r.position]=!0);(t=this.categoryAxis)&&!t.ignoreAxisWidth&&(t.setOrientation(!this.rotate),t.fixAxisPosition(),t.fixAxisPosition(),e[t.position]=!0)}e.left&&(this.marginLeft=0),e.right&&(this.marginRight=0),e.top&&(this.marginTop=0),e.bottom&&(this.marginBottom=0),this.fixMargins=e},measureMargins:function(){var t,e=this.valueAxes,r=this.autoMarginOffset,n=this.fixMargins,i=this.realWidth,a=this.realHeight,o=r,s=r,l=i;t=a;var u;for(u=0;u<e.length;u++)e[u].handleSynchronization(),t=this.getAxisBounds(e[u],o,l,s,t),o=Math.round(t.l),l=Math.round(t.r),s=Math.round(t.t),t=Math.round(t.b);(e=this.categoryAxis)&&(t=this.getAxisBounds(e,o,l,s,t),o=Math.round(t.l),l=Math.round(t.r),s=Math.round(t.t),t=Math.round(t.b)),n.left&&o<r&&(this.marginLeft=Math.round(-o+r),!isNaN(this.minMarginLeft)&&this.marginLeft<this.minMarginLeft&&(this.marginLeft=this.minMarginLeft)),n.right&&l>=i-r&&(this.marginRight=Math.round(l-i+r),!isNaN(this.minMarginRight)&&this.marginRight<this.minMarginRight&&(this.marginRight=this.minMarginRight)),n.top&&s<r+this.titleHeight&&(this.marginTop=Math.round(this.marginTop-s+r+this.titleHeight),!isNaN(this.minMarginTop)&&this.marginTop<this.minMarginTop&&(this.marginTop=this.minMarginTop)),n.bottom&&t>a-r&&(this.marginBottom=Math.round(this.marginBottom+t-a+r),!isNaN(this.minMarginBottom)&&this.marginBottom<this.minMarginBottom&&(this.marginBottom=this.minMarginBottom)),this.initChart()},getAxisBounds:function(t,e,r,n,i){if(!t.ignoreAxisWidth){var a=t.labelsSet,o=t.tickLength;if(t.inside&&(o=0),a)switch(a=t.getBBox(),t.position){case"top":t=a.y,n>t&&(n=t);break;case"bottom":t=a.y+a.height,i<t&&(i=t);break;case"right":t=a.x+a.width+o+3,r<t&&(r=t);break;case"left":t=a.x-o,e>t&&(e=t)}}return{l:e,t:n,r:r,b:i}},drawZoomOutButton:function(){var e=this;if(!e.zbSet){var r=e.container.set();e.zoomButtonSet.push(r);var n=e.color,i=e.fontSize,a=e.zoomOutButtonImageSize,o=e.zoomOutButtonImage.replace(/\.[a-z]*$/i,""),s=e.langObj.zoomOutText||e.zoomOutText,l=e.zoomOutButtonColor,u=e.zoomOutButtonAlpha,c=e.zoomOutButtonFontSize,h=e.zoomOutButtonPadding;isNaN(c)||(i=c),(c=e.zoomOutButtonFontColor)&&(n=c);var g,c=e.zoomOutButton;c&&(c.fontSize&&(i=c.fontSize),c.color&&(n=c.color),c.backgroundColor&&(l=c.backgroundColor),isNaN(c.backgroundAlpha)||(e.zoomOutButtonRollOverAlpha=c.backgroundAlpha));var p=c=0,p=e.pathToImages;for(o&&((t.isAbsolute(o)||void 0===p)&&(p=""),
g=e.container.image(p+o+e.extension,0,0,a,a),t.setCN(e,g,"zoom-out-image"),r.push(g),g=g.getBBox(),c=g.width+5),void 0!==s&&(n=t.text(e.container,s,n,e.fontFamily,i,"start"),t.setCN(e,n,"zoom-out-label"),i=n.getBBox(),p=g?g.height/2-3:i.height/2,n.translate(c,p),r.push(n)),g=r.getBBox(),n=1,t.isModern||(n=0),l=t.rect(e.container,g.width+2*h+5,g.height+2*h-2,l,1,1,l,n),l.setAttr("opacity",u),l.translate(-h,-h),t.setCN(e,l,"zoom-out-bg"),r.push(l),l.toBack(),e.zbBG=l,g=l.getBBox(),r.translate(e.marginLeftReal+e.plotAreaWidth-g.width+h,e.marginTopReal+h),r.hide(),r.mouseover(function(){e.rollOverZB()}).mouseout(function(){e.rollOutZB()}).click(function(){e.clickZB()}).touchstart(function(){e.rollOverZB()}).touchend(function(){e.rollOutZB(),e.clickZB()}),u=0;u<r.length;u++)r[u].attr({cursor:"pointer"});void 0!==e.zoomOutButtonTabIndex&&(r.setAttr("tabindex",e.zoomOutButtonTabIndex),r.setAttr("role","menuitem"),r.keyup(function(t){13==t.keyCode&&e.clickZB()})),e.zbSet=r}},rollOverZB:function(){this.rolledOverZB=!0,this.zbBG.setAttr("opacity",this.zoomOutButtonRollOverAlpha)},rollOutZB:function(){this.rolledOverZB=!1,this.zbBG.setAttr("opacity",this.zoomOutButtonAlpha)},clickZB:function(){this.rolledOverZB=!1,this.zoomOut()},zoomOut:function(){this.zoomOutValueAxes()},drawPlotArea:function(){var e=this.dx,n=this.dy,i=this.marginLeftReal,a=this.marginTopReal,o=this.plotAreaWidth-1,s=this.plotAreaHeight-1,l=this.plotAreaFillColors,u=this.plotAreaFillAlphas,c=this.plotAreaBorderColor,h=this.plotAreaBorderAlpha;"object"==("undefined"==typeof u?"undefined":r(u))&&(u=u[0]),l=t.polygon(this.container,[0,o,o,0,0],[0,0,s,s,0],l,u,1,c,h,this.plotAreaGradientAngle),t.setCN(this,l,"plot-area"),l.translate(i+e,a+n),this.set.push(l),0!==e&&0!==n&&(l=this.plotAreaFillColors,"object"==("undefined"==typeof l?"undefined":r(l))&&(l=l[0]),l=t.adjustLuminosity(l,-.15),o=t.polygon(this.container,[0,e,o+e,o,0],[0,n,n,0,0],l,u,1,c,h),t.setCN(this,o,"plot-area-bottom"),o.translate(i,a+s),this.set.push(o),e=t.polygon(this.container,[0,0,e,e,0],[0,s,s+n,n,0],l,u,1,c,h),t.setCN(this,e,"plot-area-left"),e.translate(i,a),this.set.push(e)),(i=this.bbset)&&this.scrollbarOnly&&i.remove()},updatePlotArea:function(){var t=this.updateWidth(),e=this.updateHeight(),r=this.container;this.realWidth=t,this.realWidth=e,r&&this.container.setSize(t,e);var r=this.marginLeftReal,n=this.marginTopReal,t=t-r-this.marginRightReal-this.dx,e=e-n-this.marginBottomReal;1>t&&(t=1),1>e&&(e=1),this.plotAreaWidth=Math.round(t),this.plotAreaHeight=Math.round(e),this.plotBalloonsSet.translate(r,n)},updateDxy:function(){this.dx=Math.round(this.depth3D*Math.cos(this.angle*Math.PI/180)),this.dy=Math.round(-this.depth3D*Math.sin(this.angle*Math.PI/180)),this.d3x=Math.round(this.columnSpacing3D*Math.cos(this.angle*Math.PI/180)),this.d3y=Math.round(-this.columnSpacing3D*Math.sin(this.angle*Math.PI/180))},updateMargins:function(){var t=this.getTitleHeight();this.titleHeight=t,this.marginTopReal=this.marginTop-this.dy,this.fixMargins&&!this.fixMargins.top&&(this.marginTopReal+=t),this.marginBottomReal=this.marginBottom,this.marginLeftReal=this.marginLeft,this.marginRightReal=this.marginRight},updateValueAxes:function(){var t,e=this.valueAxes;for(t=0;t<e.length;t++){var r=e[t];this.setAxisRenderers(r),this.updateObjectSize(r)}},setAxisRenderers:function(e){e.axisRenderer=t.RecAxis,e.guideFillRenderer=t.RecFill,e.axisItemRenderer=t.RecItem,e.marginsChanged=!0},updateGraphs:function(){var t,e=this.graphs;for(t=0;t<e.length;t++){var r=e[t];r.index=t,r.rotate=this.rotate,this.updateObjectSize(r)}},updateObjectSize:function(t){t.width=this.plotAreaWidth-1,t.height=this.plotAreaHeight-1,t.x=this.marginLeftReal,t.y=this.marginTopReal,t.dx=this.dx,t.dy=this.dy},updateChartCursor:function(){var e=this.chartCursor;e&&(e=t.processObject(e,t.ChartCursor,this.theme),this.updateObjectSize(e),this.addChartCursor(e),e.chart=this)},processScrollbars:function(){var e=this.chartScrollbar;e&&(e=t.processObject(e,t.ChartScrollbar,this.theme),this.addChartScrollbar(e))},updateScrollbars:function(){},removeChartCursor:function(){t.callMethod("destroy",[this.chartCursor]),this.chartCursor=null},zoomTrendLines:function(){var t,e=this.trendLines;for(t=0;t<e.length;t++){var r=e[t];r.valueAxis.recalculateToPercents?r.set&&r.set.hide():(r.x=this.marginLeftReal,r.y=this.marginTopReal,r.draw())}},handleCursorValueZoom:function(){},addTrendLine:function(t){this.trendLines.push(t)},zoomOutValueAxes:function(){for(var t=this.valueAxes,e=0;e<t.length;e++)t[e].zoomOut()},removeTrendLine:function(t){var e,r=this.trendLines;for(e=r.length-1;0<=e;e--)r[e]==t&&r.splice(e,1)},adjustMargins:function(t,e){var r=t.position,n=t.scrollbarHeight+t.offset;t.enabled&&("top"==r?e?this.marginLeftReal+=n:this.marginTopReal+=n:e?this.marginRightReal+=n:this.marginBottomReal+=n)},getScrollbarPosition:function(t,e,r){var n="bottom",i="top";t.oppositeAxis||(i=n,n="top"),t.position=e?"bottom"==r||"left"==r?n:i:"top"==r||"right"==r?n:i},updateChartScrollbar:function(t,e){if(t){t.rotate=e;var r=this.marginTopReal,n=this.marginLeftReal,i=t.scrollbarHeight,a=this.dx,o=this.dy,s=t.offset;"top"==t.position?e?(t.y=r,t.x=n-i-s):(t.y=r-i+o-s,t.x=n+a):e?(t.y=r+o,t.x=n+this.plotAreaWidth+a+s):(t.y=r+this.plotAreaHeight+s,t.x=this.marginLeftReal)}},showZB:function(t){var e=this.zbSet;t&&(e=this.zoomOutText,""!==e&&e&&this.drawZoomOutButton()),(e=this.zbSet)&&(this.zoomButtonSet.push(e),t?e.show():e.hide(),this.rollOutZB())},handleReleaseOutside:function(e){t.AmRectangularChart.base.handleReleaseOutside.call(this,e),(e=this.chartCursor)&&e.handleReleaseOutside&&e.handleReleaseOutside()},handleMouseDown:function(e){t.AmRectangularChart.base.handleMouseDown.call(this,e);var r=this.chartCursor;r&&r.handleMouseDown&&!this.rolledOverZB&&r.handleMouseDown(e)},update:function(){t.AmRectangularChart.base.update.call(this),this.chartCursor&&this.chartCursor.update&&this.chartCursor.update()},handleScrollbarValueZoom:function(t){this.relativeZoomValueAxes(t.target.valueAxes,t.relativeStart,t.relativeEnd),this.zoomAxesAndGraphs()},zoomValueScrollbar:function(t){if(t&&t.enabled){var e=t.valueAxes[0],r=e.relativeStart,n=e.relativeEnd;e.reversed&&(n=1-r,r=1-e.relativeEnd),t.percentZoom(r,n)}},zoomAxesAndGraphs:function(){if(!this.scrollbarOnly){var t,e=this.valueAxes;for(t=0;t<e.length;t++)e[t].zoom(this.start,this.end);for(e=this.graphs,t=0;t<e.length;t++)e[t].zoom(this.start,this.end);(t=this.chartCursor)&&t.clearSelection(),this.zoomTrendLines()}},handleValueAxisZoomReal:function(t,e){var r=t.relativeStart,n=t.relativeEnd;if(r>n)var i=r,r=n,n=i;this.relativeZoomValueAxes(e,r,n),this.updateAfterValueZoom()},updateAfterValueZoom:function(){this.zoomAxesAndGraphs(),this.zoomScrollbar()},relativeZoomValueAxes:function(e,r,n){if(r=t.fitToBounds(r,0,1),n=t.fitToBounds(n,0,1),r>n){var i=r;r=n,n=i}var i=1/this.maxZoomFactor,a=t.getDecimals(i)+4;if(n-r<i&&(n=r+(n-r)/2,r=n-i/2,n+=i/2),r=t.roundTo(r,a),n=t.roundTo(n,a),i=!1,e){for(a=0;a<e.length;a++){var o=e[a].zoomToRelativeValues(r,n,!0);o&&(i=o)}this.showZB()}return i},addChartCursor:function(e){t.callMethod("destroy",[this.chartCursor]),e&&(this.listenTo(e,"moved",this.handleCursorMove),this.listenTo(e,"zoomed",this.handleCursorZoom),this.listenTo(e,"zoomStarted",this.handleCursorZoomStarted),this.listenTo(e,"panning",this.handleCursorPanning),this.listenTo(e,"onHideCursor",this.handleCursorHide)),this.chartCursor=e},handleCursorChange:function(){},handleCursorMove:function(t){var e,r=this.valueAxes;for(e=0;e<r.length;e++)if(!t.panning){var n=r[e];n&&n.showBalloon&&n.showBalloon(t.x,t.y)}},handleCursorZoom:function(t){if(this.skipZoomed)this.skipZoomed=!1;else{var e=this.startX0,r=this.endX0,n=this.endY0,i=this.startY0,a=t.startX,o=t.endX,s=t.startY,l=t.endY;this.startX0=this.endX0=this.startY0=this.endY0=NaN,this.handleCursorZoomReal(e+a*(r-e),e+o*(r-e),i+s*(n-i),i+l*(n-i),t)}},handleCursorHide:function(){var t,e=this.valueAxes;for(t=0;t<e.length;t++)e[t].hideBalloon();for(e=this.graphs,t=0;t<e.length;t++)e[t].hideBalloonReal()}})}(),function(){var t=window.AmCharts;t.AmSerialChart=t.Class({inherits:t.AmRectangularChart,construct:function(e){this.type="serial",t.AmSerialChart.base.construct.call(this,e),this.cname="AmSerialChart",this.theme=e,this.columnSpacing=5,this.columnSpacing3D=0,this.columnWidth=.8;var r=new t.CategoryAxis(e);r.chart=this,this.categoryAxis=r,this.zoomOutOnDataUpdate=!0,this.mouseWheelZoomEnabled=this.mouseWheelScrollEnabled=this.rotate=this.skipZoom=!1,this.minSelectedTime=0,t.applyTheme(this,e,this.cname)},initChart:function(){t.AmSerialChart.base.initChart.call(this),this.updateCategoryAxis(this.categoryAxis,this.rotate,"categoryAxis"),this.dataChanged?this.parseData():this.onDataUpdated(),this.drawGraphs=!0},onDataUpdated:function(){var t,e=this.countColumns(),r=this.chartData,n=this.graphs;for(t=0;t<n.length;t++){var i=n[t];i.data=r,i.columnCount=e}0<r.length&&(this.firstTime=this.getStartTime(r[0].time),this.lastTime=this.getEndTime(r[r.length-1].time)),this.drawChart(),this.autoMargins&&!this.marginsUpdated?(this.marginsUpdated=!0,this.measureMargins()):this.dispDUpd()},syncGrid:function(){if(this.synchronizeGrid){var e,r,n=this.valueAxes;if(0<n.length){var i=0;for(r=0;r<n.length;r++)e=n[r],i<e.gridCountReal&&(i=e.gridCountReal);var a=!1;for(r=0;r<n.length;r++)if(e=n[r],e.gridCountReal<i){var o=(i-e.gridCountReal)/2,s=a=o;0!==o-Math.round(o)&&(a-=.5,s+=.5),0<=e.min&&0>e.min-a*e.step&&(s+=a,a=0),0>=e.max&&0<e.max+s*e.step&&(a+=s,s=0),o=t.getDecimals(e.step),e.minimum=t.roundTo(e.min-a*e.step,o),e.maximum=t.roundTo(e.max+s*e.step,o),e.setStep=e.step,a=e.strictMinMax=!0}for(a&&this.updateAfterValueZoom(),r=0;r<n.length;r++)e=n[r],e.minimum=NaN,e.maximum=NaN,e.setStep=NaN,e.strictMinMax=!1}}},handleWheelReal:function(t,e){if(!this.wheelBusy){var r=this.categoryAxis,n=r.parseDates,i=r.minDuration(),a=1,o=1;this.mouseWheelZoomEnabled?e||(a=-1):e&&(a=-1);var s=this.chartCursor;if(s){var l=s.mouseX,s=s.mouseY;a!=o&&(l=this.rotate?s/this.plotAreaHeight:l/this.plotAreaWidth,a*=l,o*=1-l),l=.05*(this.end-this.start),n&&(l=.05*(this.endTime-this.startTime)/i),1>l&&(l=1),a*=l,o*=l,n&&!r.equalSpacing||(a=Math.round(a),o=Math.round(o))}s=this.chartData.length,r=this.lastTime,l=this.firstTime,0>t?n?(s=this.endTime-this.startTime,n=this.startTime+a*i,i=this.endTime+o*i,0<o&&0<a&&i>=r&&(i=r,n=r-s),this.zoomToDates(new Date(n),new Date(i))):(0<o&&0<a&&this.end>=s-1&&(a=o=0),n=this.start+a,i=this.end+o,this.zoomToIndexes(n,i)):n?(s=this.endTime-this.startTime,n=this.startTime-a*i,i=this.endTime-o*i,0<o&&0<a&&n<=l&&(n=l,i=l+s),this.zoomToDates(new Date(n),new Date(i))):(0<o&&0<a&&1>this.start&&(a=o=0),n=this.start-a,i=this.end-o,this.zoomToIndexes(n,i))}},validateData:function(e){this.marginsUpdated=!1,this.zoomOutOnDataUpdate&&!e&&(this.endTime=this.end=this.startTime=this.start=NaN),t.AmSerialChart.base.validateData.call(this)},drawChart:function(){if(0<this.realWidth&&0<this.realHeight){t.AmSerialChart.base.drawChart.call(this);var e=this.chartData;if(t.ifArray(e)){var r=this.chartScrollbar;!r||!this.marginsUpdated&&this.autoMargins||r.draw(),(r=this.valueScrollbar)&&r.draw();var n,i,r=e.length-1;n=this.categoryAxis,n.parseDates&&!n.equalSpacing?(n=this.startTime,i=this.endTime,(isNaN(n)||isNaN(i))&&(n=this.firstTime,i=this.lastTime)):(n=this.start,i=this.end,(isNaN(n)||isNaN(i))&&(i=n=NaN),isNaN(n)&&(isNaN(this.startTime)||(n=this.getClosestIndex(e,"time",this.startTime,!0,0,e.length))),isNaN(i)&&(isNaN(this.endTime)||(i=this.getClosestIndex(e,"time",this.endTime,!1,0,e.length))),(isNaN(n)||isNaN(i))&&(n=0,i=r)),this.endTime=this.startTime=this.end=this.start=void 0,this.zoom(n,i)}}else this.cleanChart()},cleanChart:function(){t.callMethod("destroy",[this.valueAxes,this.graphs,this.categoryAxis,this.chartScrollbar,this.chartCursor,this.valueScrollbar])},updateCategoryAxis:function(t,e,r){t.chart=this,t.id=r,t.rotate=e,t.setOrientation(!this.rotate),t.init(),this.setAxisRenderers(t),this.updateObjectSize(t)},updateValueAxes:function(){t.AmSerialChart.base.updateValueAxes.call(this);var e,r=this.valueAxes;for(e=0;e<r.length;e++){var n=r[e],i=this.rotate;n.rotate=i,n.setOrientation(i),i=this.categoryAxis,i.startOnAxis&&!i.parseDates||(n.expandMinMax=!0)}},getStartTime:function(e){var r=this.categoryAxis;return t.resetDateToMin(new Date(e),r.minPeriod,1,r.firstDayOfWeek).getTime()},getEndTime:function(e){var r=t.extractPeriod(this.categoryAxis.minPeriod);return t.changeDate(new Date(e),r.period,r.count,!0).getTime()-1},updateMargins:function(){t.AmSerialChart.base.updateMargins.call(this);var e=this.chartScrollbar;e&&(this.getScrollbarPosition(e,this.rotate,this.categoryAxis.position),this.adjustMargins(e,this.rotate)),(e=this.valueScrollbar)&&(this.getScrollbarPosition(e,!this.rotate,this.valueAxes[0].position),this.adjustMargins(e,!this.rotate))},updateScrollbars:function(){t.AmSerialChart.base.updateScrollbars.call(this),this.updateChartScrollbar(this.chartScrollbar,this.rotate),this.updateChartScrollbar(this.valueScrollbar,!this.rotate)},zoom:function(t,e){var r=this.categoryAxis;r.parseDates&&!r.equalSpacing?this.timeZoom(t,e):this.indexZoom(t,e),isNaN(t)&&this.zoomOutValueAxes(),(r=this.chartCursor)&&(r.pan||r.hideCursorReal()),this.updateLegendValues()},timeZoom:function(e,r){var n=this.maxSelectedTime;isNaN(n)||(r!=this.endTime&&r-e>n&&(e=r-n),e!=this.startTime&&r-e>n&&(r=e+n));var i=this.minSelectedTime;if(0<i&&r-e<i){var a=Math.round(e+(r-e)/2),i=Math.round(i/2);e=a-i,r=a+i}if(i=this.chartData,a=this.categoryAxis,t.ifArray(i)&&(e!=this.startTime||r!=this.endTime)){var o=a.minDuration(),s=this.firstTime,l=this.lastTime;e||(e=s,isNaN(n)||(e=l-n)),r||(r=l),e>l&&(e=l),r<s&&(r=s),e<s&&(e=s),r>l&&(r=l),r<e&&(r=e+o),r-e<o/5&&(r<l?r=e+o/5:e=r-o/5),this.startTime=e,this.endTime=r,n=i.length-1,o=this.getClosestIndex(i,"time",e,!0,0,n),i=this.getClosestIndex(i,"time",r,!1,o,n),a.timeZoom(e,r),a.zoom(o,i),this.start=t.fitToBounds(o,0,n),this.end=t.fitToBounds(i,0,n),this.zoomAxesAndGraphs(),this.zoomScrollbar(),this.fixCursor(),this.showZB(),this.syncGrid(),this.updateColumnsDepth(),this.dispatchTimeZoomEvent()}},showZB:function(){var e,r=this.categoryAxis;r&&r.parseDates&&!r.equalSpacing&&(this.startTime>this.firstTime&&(e=!0),this.endTime<this.lastTime&&(e=!0)),0<this.start&&(e=!0),this.end<this.chartData.length-1&&(e=!0),(r=this.valueAxes)&&(r=r[0],isNaN(r.relativeStart)||(0!==t.roundTo(r.relativeStart,3)&&(e=!0),1!=t.roundTo(r.relativeEnd,3)&&(e=!0))),t.AmSerialChart.base.showZB.call(this,e)},updateAfterValueZoom:function(){t.AmSerialChart.base.updateAfterValueZoom.call(this),this.updateColumnsDepth()},indexZoom:function(t,e){var r=this.maxSelectedSeries,n=!1;if(isNaN(r)||(e!=this.end&&e-t>r&&(t=e-r,n=!0),t!=this.start&&e-t>r&&(e=t+r,n=!0)),n&&(n=this.chartScrollbar)&&n.dragger){var i=n.dragger.getBBox();n.maxWidth=i.width,n.maxHeight=i.height}t==this.start&&e==this.end||(n=this.chartData.length-1,isNaN(t)&&(t=0,isNaN(r)||(t=n-r)),isNaN(e)&&(e=n),e<t&&(e=t),e>n&&(e=n),t>n&&(t=n-1),0>t&&(t=0),this.start=t,this.end=e,this.categoryAxis.zoom(t,e),this.zoomAxesAndGraphs(),this.zoomScrollbar(),this.fixCursor(),0!==t||e!=this.chartData.length-1?this.showZB(!0):this.showZB(!1),this.syncGrid(),this.updateColumnsDepth(),this.dispatchIndexZoomEvent())},updateGraphs:function(){t.AmSerialChart.base.updateGraphs.call(this);var e,r=this.graphs;for(e=0;e<r.length;e++){var n=r[e];n.columnWidthReal=this.columnWidth,n.categoryAxis=this.categoryAxis,t.isString(n.fillToGraph)&&(n.fillToGraph=this.graphsById[n.fillToGraph])}},zoomAxesAndGraphs:function(){t.AmSerialChart.base.zoomAxesAndGraphs.call(this),this.updateColumnsDepth()},updateColumnsDepth:function(){if(0!==this.depth3D||0!==this.angle){var e,r,n=this.graphs;for(this.columnsArray=[],e=0;e<n.length;e++){r=n[e];var i=r.columnsArray;if(i){var a;for(a=0;a<i.length;a++)this.columnsArray.push(i[a])}}if(this.columnsArray.sort(this.compareDepth),0<this.columnsArray.length){for(n=this.columnsSet,i=this.container.set(),this.columnSet.push(i),e=0;e<this.columnsArray.length;e++)i.push(this.columnsArray[e].column.set);r&&i.translate(r.x,r.y),this.columnsSet=i,t.remove(n)}}},compareDepth:function(t,e){return t.depth>e.depth?1:-1},zoomScrollbar:function(){var t=this.chartScrollbar,e=this.categoryAxis;if(t){if(!this.zoomedByScrollbar){var r=t.dragger;r&&r.stop()}this.zoomedByScrollbar=!1,e.parseDates&&!e.equalSpacing?t.timeZoom(this.startTime,this.endTime):t.zoom(this.start,this.end)}this.zoomValueScrollbar(this.valueScrollbar)},updateTrendLines:function(){var e,r=this.trendLines;for(e=0;e<r.length;e++){var n=r[e],n=t.processObject(n,t.TrendLine,this.theme);r[e]=n,n.chart=this,n.id||(n.id="trendLineAuto"+e+"_"+(new Date).getTime()),t.isString(n.valueAxis)&&(n.valueAxis=this.getValueAxisById(n.valueAxis)),n.valueAxis||(n.valueAxis=this.valueAxes[0]),n.categoryAxis=this.categoryAxis}},countColumns:function(){var t,e,r,n,i=0,a=this.valueAxes.length,o=this.graphs.length,s=!1;for(n=0;n<a;n++){e=this.valueAxes[n];var l=e.stackType,u=0;if("100%"==l||"regular"==l)for(s=!1,r=0;r<o;r++)t=this.graphs[r],t.tcc=1,t.valueAxis==e&&"column"==t.type&&(!s&&t.stackable&&(i++,s=!0),(!t.stackable&&t.clustered||t.newStack&&0!==u)&&i++,t.columnIndex=i-1,t.clustered||(t.columnIndex=0),u++);if("none"==l||"3d"==l){for(s=!1,r=0;r<o;r++)t=this.graphs[r],t.valueAxis==e&&"column"==t.type&&(t.clustered?(t.tcc=1,t.newStack&&(i=0),t.hidden||(t.columnIndex=i,i++)):t.hidden||(s=!0,t.tcc=1,t.columnIndex=0));s&&0===i&&(i=1)}if("3d"==l){for(e=1,n=0;n<o;n++)t=this.graphs[n],t.newStack&&e++,t.depthCount=e,t.tcc=i;i=e}}return i},parseData:function(){t.AmSerialChart.base.parseData.call(this),this.parseSerialData(this.dataProvider)},getCategoryIndexByValue:function(t){var e,r=this.chartData;for(e=0;e<r.length;e++)if(r[e].category==t)return e},handleScrollbarZoom:function(t){this.zoomedByScrollbar=!0,this.zoom(t.start,t.end)},dispatchTimeZoomEvent:function(){if(this.drawGraphs&&(this.prevStartTime!=this.startTime||this.prevEndTime!=this.endTime)){var e={type:"zoomed"};e.startDate=new Date(this.startTime),e.endDate=new Date(this.endTime),e.startIndex=this.start,e.endIndex=this.end,this.startIndex=this.start,this.endIndex=this.end,this.startDate=e.startDate,this.endDate=e.endDate,this.prevStartTime=this.startTime,this.prevEndTime=this.endTime;var r=this.categoryAxis,n=t.extractPeriod(r.minPeriod).period,r=r.dateFormatsObject[n];e.startValue=t.formatDate(e.startDate,r,this),e.endValue=t.formatDate(e.endDate,r,this),e.chart=this,e.target=this,this.fire(e)}},dispatchIndexZoomEvent:function(){if(this.drawGraphs&&(this.prevStartIndex!=this.start||this.prevEndIndex!=this.end)){this.startIndex=this.start,this.endIndex=this.end;var e=this.chartData;if(t.ifArray(e)&&!isNaN(this.start)&&!isNaN(this.end)){var r={chart:this,target:this,type:"zoomed"};r.startIndex=this.start,r.endIndex=this.end,r.startValue=e[this.start].category,r.endValue=e[this.end].category,this.categoryAxis.parseDates&&(this.startTime=e[this.start].time,this.endTime=e[this.end].time,r.startDate=new Date(this.startTime),r.endDate=new Date(this.endTime)),this.prevStartIndex=this.start,this.prevEndIndex=this.end,this.fire(r)}}},updateLegendValues:function(){this.legend&&this.legend.updateValues()},getClosestIndex:function(t,e,r,n,i,a){0>i&&(i=0),a>t.length-1&&(a=t.length-1);var o=i+Math.round((a-i)/2),s=t[o][e];return r==s?o:1>=a-i?n?i:Math.abs(t[i][e]-r)<Math.abs(t[a][e]-r)?i:a:r==s?o:r<s?this.getClosestIndex(t,e,r,n,i,o):this.getClosestIndex(t,e,r,n,o,a)},zoomToIndexes:function(t,e){var r=this.chartData;if(r){var n=r.length;0<n&&(0>t&&(t=0),e>n-1&&(e=n-1),n=this.categoryAxis,n.parseDates&&!n.equalSpacing?this.zoom(r[t].time,this.getEndTime(r[e].time)):this.zoom(t,e))}},zoomToDates:function(e,r){var n=this.chartData;if(n)if(this.categoryAxis.equalSpacing){var i=this.getClosestIndex(n,"time",e.getTime(),!0,0,n.length);r=t.resetDateToMin(r,this.categoryAxis.minPeriod,1),n=this.getClosestIndex(n,"time",r.getTime(),!1,0,n.length),this.zoom(i,n)}else this.zoom(e.getTime(),r.getTime())},zoomToCategoryValues:function(t,e){this.chartData&&this.zoom(this.getCategoryIndexByValue(t),this.getCategoryIndexByValue(e))},formatPeriodString:function(e,r){if(r){r.periodDataItem={},r.periodPercentDataItem={};var n=["value","open","low","high","close"],i="value open low high close average sum count".split(" "),a=r.valueAxis,o=this.chartData,s=r.numberFormatter;s||(s=this.nf);for(var l=0;l<n.length;l++){for(var u,c,h,g,p,d,f,A,C,m,I=n[l],v=0,y=0,b=0,x=0,w=this.start;w<=this.end;w++){var N=o[w];if(N){var S=N.axes[a.id].graphs[r.id];if(S){if(S.values){var T=S.values[I],N=N.x.categoryAxis;this.rotate?(0>N||N>S.graph.height)&&(T=NaN):(0>N||N>S.graph.width)&&(T=NaN),isNaN(T)||(isNaN(u)&&(u=T),c=T,(isNaN(h)||h>T)&&(h=T),(isNaN(g)||g<T)&&(g=T),p=t.getDecimals(v),N=t.getDecimals(T),v+=T,v=t.roundTo(v,Math.max(p,N)),y++,p=v/y)}S.percents&&(S=S.percents[I],!isNaN(S))&&(isNaN(d)&&(d=S),f=S,(isNaN(A)||A>S)&&(A=S),(isNaN(C)||C<S)&&(C=S),m=t.getDecimals(b),T=t.getDecimals(S),b+=S,b=t.roundTo(b,Math.max(m,T)),x++,m=b/x)}}}v={open:u,close:c,high:g,low:h,average:p,sum:v,count:y},b={open:d,close:f,high:C,low:A,average:m,sum:b,count:x},e=t.formatValue(e,v,i,s,I+"\\.",this.usePrefixes,this.prefixesOfSmallNumbers,this.prefixesOfBigNumbers),e=t.formatValue(e,b,i,this.pf,"percents\\."+I+"\\."),r.periodDataItem[I]=v,r.periodPercentDataItem[I]=b}}return e=t.cleanFromEmpty(e)},formatString:function(e,r,n){if(r){var i=r.graph;if(void 0!==e){if(-1!=e.indexOf("[[category]]")){var a=r.serialDataItem.category;if(this.categoryAxis.parseDates){var o=this.balloonDateFormat,s=this.chartCursor;s&&s.categoryBalloonDateFormat&&(o=s.categoryBalloonDateFormat),o=t.formatDate(a,o,this),-1!=o.indexOf("fff")&&(o=t.formatMilliseconds(o,a)),a=o}e=e.replace(/\[\[category\]\]/g,String(a.replace("$","$$$")))}a=i.numberFormatter,a||(a=this.nf),o=r.graph.valueAxis,(s=o.duration)&&!isNaN(r.values.value)&&(s=t.formatDuration(r.values.value,s,"",o.durationUnits,o.maxInterval,a),e=e.replace(RegExp("\\[\\[value\\]\\]","g"),s)),"date"==o.type&&(o=t.formatDate(new Date(r.values.value),i.dateFormat,this),s=RegExp("\\[\\[value\\]\\]","g"),e=e.replace(s,o),o=t.formatDate(new Date(r.values.open),i.dateFormat,this),s=RegExp("\\[\\[open\\]\\]","g"),e=e.replace(s,o)),i="value open low high close total".split(" "),o=this.pf,e=t.formatValue(e,r.percents,i,o,"percents\\."),e=t.formatValue(e,r.values,i,a,"",this.usePrefixes,this.prefixesOfSmallNumbers,this.prefixesOfBigNumbers),e=t.formatValue(e,r.values,["percents"],o),-1!=e.indexOf("[[")&&(e=t.formatDataContextValue(e,r.dataContext)),-1!=e.indexOf("[[")&&r.graph.customData&&(e=t.formatDataContextValue(e,r.graph.customData)),e=t.AmSerialChart.base.formatString.call(this,e,r,n)}return e}},updateChartCursor:function(){t.AmSerialChart.base.updateChartCursor.call(this);var e=this.chartCursor,r=this.categoryAxis;if(e){var n=e.categoryBalloonAlpha,i=e.categoryBalloonColor,a=e.color;void 0===i&&(i=e.cursorColor);var o=e.valueZoomable,s=e.zoomable,l=e.valueLineEnabled;if(this.rotate?(e.vLineEnabled=l,e.hZoomEnabled=o,e.vZoomEnabled=s):(e.hLineEnabled=l,e.vZoomEnabled=o,e.hZoomEnabled=s),e.valueLineBalloonEnabled)for(l=0;l<this.valueAxes.length;l++)o=this.valueAxes[l],(s=o.balloon)||(s={}),s=t.extend(s,this.balloon,!0),s.fillColor=i,s.balloonColor=i,s.fillAlpha=n,s.borderColor=i,s.color=a,o.balloon=s;else for(s=0;s<this.valueAxes.length;s++)o=this.valueAxes[s],o.balloon&&(o.balloon=null);r&&(r.balloonTextFunction=e.categoryBalloonFunction,e.categoryLineAxis=r,r.balloonText=e.categoryBalloonText,e.categoryBalloonEnabled&&((s=r.balloon)||(s={}),s=t.extend(s,this.balloon,!0),s.fillColor=i,s.balloonColor=i,s.fillAlpha=n,s.borderColor=i,s.color=a,r.balloon=s),r.balloon&&(r.balloon.enabled=e.categoryBalloonEnabled))}},addChartScrollbar:function(e){t.callMethod("destroy",[this.chartScrollbar]),e&&(e.chart=this,this.listenTo(e,"zoomed",this.handleScrollbarZoom)),this.rotate?void 0===e.width&&(e.width=e.scrollbarHeight):void 0===e.height&&(e.height=e.scrollbarHeight),e.gridAxis=this.categoryAxis,this.chartScrollbar=e},addValueScrollbar:function(e){t.callMethod("destroy",[this.valueScrollbar]),e&&(e.chart=this,this.listenTo(e,"zoomed",this.handleScrollbarValueZoom),this.listenTo(e,"zoomStarted",this.handleCursorZoomStarted));var r=e.scrollbarHeight;this.rotate?void 0===e.height&&(e.height=r):void 0===e.width&&(e.width=r),e.gridAxis||(e.gridAxis=this.valueAxes[0]),e.valueAxes=this.valueAxes,this.valueScrollbar=e},removeChartScrollbar:function(){t.callMethod("destroy",[this.chartScrollbar]),this.chartScrollbar=null},removeValueScrollbar:function(){t.callMethod("destroy",[this.valueScrollbar]),this.valueScrollbar=null},handleReleaseOutside:function(e){t.AmSerialChart.base.handleReleaseOutside.call(this,e),t.callMethod("handleReleaseOutside",[this.chartScrollbar,this.valueScrollbar])},update:function(){t.AmSerialChart.base.update.call(this),this.chartScrollbar&&this.chartScrollbar.update&&this.chartScrollbar.update(),this.valueScrollbar&&this.valueScrollbar.update&&this.valueScrollbar.update()},processScrollbars:function(){t.AmSerialChart.base.processScrollbars.call(this);var e=this.valueScrollbar;e&&(e=t.processObject(e,t.ChartScrollbar,this.theme),e.id="valueScrollbar",this.addValueScrollbar(e))},handleValueAxisZoom:function(t){this.handleValueAxisZoomReal(t,this.valueAxes)},zoomOut:function(){t.AmSerialChart.base.zoomOut.call(this),this.zoom(),this.syncGrid()},getNextItem:function(t){var e=t.index,r=this.chartData,n=t.graph;if(e+1<r.length)for(e+=1;e<r.length;e++)if((t=r[e])&&(t=t.axes[n.valueAxis.id].graphs[n.id],!isNaN(t.y)))return t},handleCursorZoomReal:function(t,e,r,n,i){var a,o,s=i.target;this.rotate?(isNaN(t)||isNaN(e)||this.relativeZoomValueAxes(this.valueAxes,t,e)&&this.updateAfterValueZoom(),s.vZoomEnabled&&(a=i.start,o=i.end)):(isNaN(r)||isNaN(n)||this.relativeZoomValueAxes(this.valueAxes,r,n)&&this.updateAfterValueZoom(),s.hZoomEnabled&&(a=i.start,o=i.end)),isNaN(a)||isNaN(o)||(t=this.categoryAxis,t.parseDates&&!t.equalSpacing?this.zoomToDates(new Date(a),new Date(o)):this.zoomToIndexes(a,o))},handleCursorZoomStarted:function(){var t=this.valueAxes;if(t){var t=t[0],e=t.relativeStart,r=t.relativeEnd;t.reversed&&(e=1-t.relativeEnd,r=1-t.relativeStart),this.rotate?(this.startX0=e,this.endX0=r):(this.startY0=e,this.endY0=r)}this.categoryAxis&&(this.start0=this.start,this.end0=this.end,this.startTime0=this.startTime,this.endTime0=this.endTime)},fixCursor:function(){this.chartCursor&&this.chartCursor.fixPosition(),this.prevCursorItem=null},handleCursorMove:function(e){t.AmSerialChart.base.handleCursorMove.call(this,e);var r=e.target,n=this.categoryAxis;if(e.panning)this.handleCursorHide(e);else if(this.chartData&&!r.isHidden){var i=this.graphs;if(i){var a;if(a=n.xToIndex(this.rotate?e.y:e.x),a=this.chartData[a]){var o,s,l,u;if(r.oneBalloonOnly&&r.valueBalloonsEnabled){var c=1/0;for(o=0;o<i.length;o++)if(s=i[o],s.balloon.enabled&&s.showBalloon&&!s.hidden){if(l=s.valueAxis.id,l=a.axes[l].graphs[s.id],r.showNextAvailable&&isNaN(l.y)&&(l=this.getNextItem(l),!l))continue;l=l.y,"top"==s.showBalloonAt&&(l=0),"bottom"==s.showBalloonAt&&(l=this.height);var h=r.mouseX,g=r.mouseY;l=this.rotate?Math.abs(h-l):Math.abs(g-l),l<c&&(c=l,u=s)}r.mostCloseGraph=u}if(this.prevCursorItem!=a||u!=this.prevMostCloseGraph){for(c=[],o=0;o<i.length;o++)s=i[o],l=s.valueAxis.id,l=a.axes[l].graphs[s.id],r.showNextAvailable&&isNaN(l.y)&&(l=this.getNextItem(l)),u&&s!=u?(s.showGraphBalloon(l,r.pointer,!1,r.graphBulletSize,r.graphBulletAlpha),s.balloon.hide(0)):r.valueBalloonsEnabled?(s.balloon.showBullet=r.bulletsEnabled,s.balloon.bulletSize=r.bulletSize/2,e.hideBalloons||(s.showGraphBalloon(l,r.pointer,!1,r.graphBulletSize,r.graphBulletAlpha),s.balloon.set&&c.push({balloon:s.balloon,y:s.balloon.pointToY}))):(s.currentDataItem=l,s.resizeBullet(l,r.graphBulletSize,r.graphBulletAlpha));r.avoidBalloonOverlapping&&this.arrangeBalloons(c),this.prevCursorItem=a}this.prevMostCloseGraph=u}}n.showBalloon(e.x,e.y,r.categoryBalloonDateFormat,e.skip),this.updateLegendValues()}},handleCursorHide:function(e){t.AmSerialChart.base.handleCursorHide.call(this,e),e=this.categoryAxis,this.prevCursorItem=null,this.updateLegendValues(),e&&e.hideBalloon(),e=this.graphs;var r;for(r=0;r<e.length;r++)e[r].currentDataItem=null},handleCursorPanning:function(e){var r,n=e.target,i=e.deltaX,a=e.deltaY,o=e.delta2X,s=e.delta2Y;if(e=!1,this.rotate){isNaN(o)&&(o=i,e=!0);var l=this.endX0;r=this.startX0;var u=l-r,l=l-u*o,c=u;e||(c=0),e=t.fitToBounds(r-u*i,0,1-c)}else isNaN(s)&&(s=a,e=!0),l=this.endY0,r=this.startY0,u=l-r,l+=u*a,c=u,e||(c=0),e=t.fitToBounds(r+u*s,0,1-c);r=t.fitToBounds(l,c,1);var h;n.valueZoomable&&(h=this.relativeZoomValueAxes(this.valueAxes,e,r));var g;r=this.categoryAxis,this.rotate&&(i=a,o=s),e=!1,isNaN(o)&&(o=i,e=!0),n.zoomable&&(0<Math.abs(i)||0<Math.abs(o))&&(r.parseDates&&!r.equalSpacing?(s=this.startTime0,a=this.endTime0,r=a-s,o*=r,u=this.firstTime,l=this.lastTime,c=r,e||(c=0),e=Math.round(t.fitToBounds(s-r*i,u,l-c)),o=Math.round(t.fitToBounds(a-o,u+c,l)),(this.startTime!=e||this.endTime!=o)&&(g={chart:this,target:n,type:"zoomed",start:e,end:o},this.skipZoomed=!0,n.fire(g),this.zoom(e,o),g=!0)):(s=this.start0,a=this.end0,r=a-s,i=Math.round(r*i),o=Math.round(r*o),u=this.chartData.length-1,e||(r=0),e=t.fitToBounds(s-i,0,u-r),r=t.fitToBounds(a-o,r,u),(this.start!=e||this.end!=r)&&(this.skipZoomed=!0,n.fire({chart:this,target:n,type:"zoomed",start:e,end:r}),this.zoom(e,r),g=!0))),!g&&h&&this.updateAfterValueZoom()},arrangeBalloons:function(t){var e=this.plotAreaHeight;t.sort(this.compareY);var r,n,i,a=this.plotAreaWidth,o=t.length;for(r=0;r<o;r++)n=t[r].balloon,n.setBounds(0,0,a,e),n.restorePrevious(),n.draw(),e=n.yPos-3;for(t.reverse(),r=0;r<o;r++){n=t[r].balloon;var e=n.bottom,s=n.bottom-n.yPos;0<r&&e-s<i+3&&(n.setBounds(0,i+3,a,i+s+3),n.restorePrevious(),n.draw()),n.set&&n.set.show(),i=n.bottom}},compareY:function(t,e){return t.y<e.y?1:-1}})}(),function(){var t=window.AmCharts;t.Cuboid=t.Class({construct:function(t,e,r,n,i,a,o,s,l,u,c,h,g,p,d,f,A){this.set=t.set(),this.container=t,this.h=Math.round(r),this.w=Math.round(e),this.dx=n,this.dy=i,this.colors=a,this.alpha=o,this.bwidth=s,this.bcolor=l,this.balpha=u,this.dashLength=p,this.topRadius=f,this.pattern=d,this.rotate=g,this.bcn=A,g?0>e&&0===c&&(c=180):0>r&&270==c&&(c=90),this.gradientRotation=c,0===n&&0===i&&(this.cornerRadius=h),this.draw()},draw:function(){var e=this.set;e.clear();var n=this.container,i=n.chart,a=this.w,o=this.h,s=this.dx,l=this.dy,u=this.colors,c=this.alpha,h=this.bwidth,g=this.bcolor,p=this.balpha,d=this.gradientRotation,f=this.cornerRadius,A=this.dashLength,C=this.pattern,m=this.topRadius,I=this.bcn,v=u,y=u;"object"==("undefined"==typeof u?"undefined":r(u))&&(v=u[0],y=u[u.length-1]);var b,x,w,N,S,T,E,k,O,_=c;C&&(c=0);var P,M,D,R,L=this.rotate;if(0<Math.abs(s)||0<Math.abs(l))if(isNaN(m))E=y,y=t.adjustLuminosity(v,-.2),y=t.adjustLuminosity(v,-.2),b=t.polygon(n,[0,s,a+s,a,0],[0,l,l,0,0],y,c,1,g,0,d),0<p&&(O=t.line(n,[0,s,a+s],[0,l,l],g,p,h,A)),x=t.polygon(n,[0,0,a,a,0],[0,o,o,0,0],y,c,1,g,0,d),x.translate(s,l),0<p&&(w=t.line(n,[s,s],[l,l+o],g,p,h,A)),N=t.polygon(n,[0,0,s,s,0],[0,o,o+l,l,0],y,c,1,g,0,d),S=t.polygon(n,[a,a,a+s,a+s,a],[0,o,o+l,l,0],y,c,1,g,0,d),0<p&&(T=t.line(n,[a,a+s,a+s,a],[0,l,o+l,o],g,p,h,A)),y=t.adjustLuminosity(E,.2),E=t.polygon(n,[0,s,a+s,a,0],[o,o+l,o+l,o,o],y,c,1,g,0,d),0<p&&(k=t.line(n,[0,s,a+s],[o,o+l,o+l],g,p,h,A));else{var z,F,B;L?(z=o/2,y=s/2,B=o/2,F=a+s/2,M=Math.abs(o/2),P=Math.abs(s/2)):(y=a/2,z=l/2,F=a/2,B=o+l/2+1,P=Math.abs(a/2),M=Math.abs(l/2)),D=P*m,R=M*m,.1<P&&.1<P&&(b=t.circle(n,P,v,c,h,g,p,!1,M),b.translate(y,z)),.1<D&&.1<D&&(E=t.circle(n,D,t.adjustLuminosity(v,.5),c,h,g,p,!1,R),E.translate(F,B))}for(c=_,1>Math.abs(o)&&(o=0),1>Math.abs(a)&&(a=0),!isNaN(m)&&(0<Math.abs(s)||0<Math.abs(l))?(u=[v],u={fill:u,stroke:g,"stroke-width":h,"stroke-opacity":p,
"fill-opacity":c},L?(c="M0,0 L"+a+","+(o/2-o/2*m),h=" B",0<a&&(h=" A"),t.VML?(c+=h+Math.round(a-D)+","+Math.round(o/2-R)+","+Math.round(a+D)+","+Math.round(o/2+R)+","+a+",0,"+a+","+o,c=c+(" L0,"+o)+(h+Math.round(-P)+","+Math.round(o/2-M)+","+Math.round(P)+","+Math.round(o/2+M)+",0,"+o+",0,0")):(c+="A"+D+","+R+",0,0,0,"+a+","+(o-o/2*(1-m))+"L0,"+o,c+="A"+P+","+M+",0,0,1,0,0"),P=90):(h=a/2-a/2*m,c="M0,0 L"+h+","+o,t.VML?(c="M0,0 L"+h+","+o,h=" B",0>o&&(h=" A"),c+=h+Math.round(a/2-D)+","+Math.round(o-R)+","+Math.round(a/2+D)+","+Math.round(o+R)+",0,"+o+","+a+","+o,c+=" L"+a+",0",c+=h+Math.round(a/2+P)+","+Math.round(M)+","+Math.round(a/2-P)+","+Math.round(-M)+","+a+",0,0,0"):(c+="A"+D+","+R+",0,0,0,"+(a-a/2*(1-m))+","+o+"L"+a+",0",c+="A"+P+","+M+",0,0,1,0,0"),P=180),n=n.path(c).attr(u),n.gradient("linearGradient",[v,t.adjustLuminosity(v,-.3),t.adjustLuminosity(v,-.3),v],P),L?n.translate(s/2,0):n.translate(0,l/2)):n=0===o?t.line(n,[0,a],[0,0],g,p,h,A):0===a?t.line(n,[0,0],[0,o],g,p,h,A):0<f?t.rect(n,a,o,u,c,h,g,p,f,d,A):t.polygon(n,[0,0,a,a,0],[0,o,o,0,0],u,c,h,g,p,d,!1,A),a=isNaN(m)?0>o?[b,O,x,w,N,S,T,E,k,n]:[E,k,x,w,N,S,b,O,T,n]:L?0<a?[b,n,E]:[E,n,b]:0>o?[b,n,E]:[E,n,b],t.setCN(i,n,I+"front"),t.setCN(i,x,I+"back"),t.setCN(i,E,I+"top"),t.setCN(i,b,I+"bottom"),t.setCN(i,N,I+"left"),t.setCN(i,S,I+"right"),b=0;b<a.length;b++)(x=a[b])&&(e.push(x),t.setCN(i,x,I+"element"));C&&n.pattern(C,NaN,i.path)},width:function(t){isNaN(t)&&(t=0),this.w=Math.round(t),this.draw()},height:function(t){isNaN(t)&&(t=0),this.h=Math.round(t),this.draw()},animateHeight:function(e,r){var n=this;n.animationFinished=!1,n.easing=r,n.totalFrames=e*t.updateRate,n.rh=n.h,n.frame=0,n.height(1),setTimeout(function(){n.updateHeight.call(n)},1e3/t.updateRate)},updateHeight:function(){var e=this;e.frame++;var r=e.totalFrames;e.frame<=r?(r=e.easing(0,e.frame,1,e.rh-1,r),e.height(r),window.requestAnimationFrame?window.requestAnimationFrame(function(){e.updateHeight.call(e)}):setTimeout(function(){e.updateHeight.call(e)},1e3/t.updateRate)):(e.height(e.rh),e.animationFinished=!0)},animateWidth:function(e,r){var n=this;n.animationFinished=!1,n.easing=r,n.totalFrames=e*t.updateRate,n.rw=n.w,n.frame=0,n.width(1),setTimeout(function(){n.updateWidth.call(n)},1e3/t.updateRate)},updateWidth:function(){var e=this;e.frame++;var r=e.totalFrames;e.frame<=r?(r=e.easing(0,e.frame,1,e.rw-1,r),e.width(r),window.requestAnimationFrame?window.requestAnimationFrame(function(){e.updateWidth.call(e)}):setTimeout(function(){e.updateWidth.call(e)},1e3/t.updateRate)):(e.width(e.rw),e.animationFinished=!0)}})}(),function(){var t=window.AmCharts;t.CategoryAxis=t.Class({inherits:t.AxisBase,construct:function(e){this.cname="CategoryAxis",t.CategoryAxis.base.construct.call(this,e),this.minPeriod="DD",this.equalSpacing=this.parseDates=!1,this.position="bottom",this.startOnAxis=!1,this.gridPosition="middle",this.safeDistance=30,this.stickBalloonToCategory=!1,t.applyTheme(this,e,this.cname)},draw:function(){t.CategoryAxis.base.draw.call(this),this.generateDFObject();var e=this.chart.chartData;if(this.data=e,this.labelRotationR=this.labelRotation,this.type=null,t.ifArray(e)){var r,n=this.chart;"scrollbar"!=this.id?(t.setCN(n,this.set,"category-axis"),t.setCN(n,this.labelsSet,"category-axis"),t.setCN(n,this.axisLine.axisSet,"category-axis")):this.bcn=this.id+"-";var i,a,o,s,l,u,c=this.start,h=this.labelFrequency,g=0,p=this.end-c+1,d=this.gridCountR,f=this.showFirstLabel,A=this.showLastLabel,C="",C=t.extractPeriod(this.minPeriod),m=t.getPeriodDuration(C.period,C.count),I=this.rotate,v=this.firstDayOfWeek,y=this.boldPeriodBeginning;r=t.resetDateToMin(new Date(e[e.length-1].time+1.05*m),this.minPeriod,1,v).getTime(),this.firstTime=n.firstTime,this.endTime>r&&(this.endTime=r),u=this.minorGridEnabled,o=this.gridAlpha;var b=0,x=0;if(this.widthField)for(r=this.start;r<=this.end;r++)if(l=this.data[r]){var w=Number(this.data[r].dataContext[this.widthField]);isNaN(w)||(b+=w,l.widthValue=w)}if(this.parseDates&&!this.equalSpacing)this.lastTime=e[e.length-1].time,this.maxTime=t.resetDateToMin(new Date(this.lastTime+1.05*m),this.minPeriod,1,v).getTime(),this.timeDifference=this.endTime-this.startTime,this.parseDatesDraw();else if(this.parseDates){if(this.parseDates&&this.equalSpacing){if(g=this.start,this.startTime=this.data[this.start].time,this.endTime=this.data[this.end].time,this.timeDifference=this.endTime-this.startTime,r=this.choosePeriod(0),h=r.period,a=r.count,r=t.getPeriodDuration(h,a),r<m&&(h=C.period,a=C.count,r=m),o=h,"WW"==o&&(o="DD"),this.currentDateFormat=this.dateFormatsObject[o],this.stepWidth=this.getStepWidth(p),d=Math.ceil(this.timeDifference/r)+1,C=t.resetDateToMin(new Date(this.startTime-r),h,a,v).getTime(),this.cellWidth=this.getStepWidth(p),p=Math.round(C/r),c=-1,p/2==Math.round(p/2)&&(c=-2,C-=r),p=this.start,p/2==Math.round(p/2)&&p--,0>p&&(p=0),x=this.end+2,x>=this.data.length&&(x=this.data.length),e=!1,e=!f,this.previousPos=-1e3,20<this.labelRotationR&&(this.safeDistance=5),w=p,this.data[p].time!=t.resetDateToMin(new Date(this.data[p].time),h,a,v).getTime()){var m=0,N=C;for(r=p;r<x;r++)l=this.data[r].time,this.checkPeriodChange(h,a,l,N)&&(m++,2<=m&&(w=r,r=x),N=l)}if(u&&1<a&&(l=this.chooseMinorFrequency(a),t.getPeriodDuration(h,l)),0<this.gridCountR)for(r=p;r<x;r++)l=this.data[r].time,this.checkPeriodChange(h,a,l,C)&&r>=w&&(p=this.getCoordinate(r-this.start),u=!1,this.nextPeriod[o]&&(u=this.checkPeriodChange(this.nextPeriod[o],1,l,C,o))&&t.resetDateToMin(new Date(l),this.nextPeriod[o],1,v).getTime()!=l&&(u=!1),m=!1,u&&this.markPeriodChange?(u=this.dateFormatsObject[this.nextPeriod[o]],m=!0):u=this.dateFormatsObject[o],C=t.formatDate(new Date(l),u,n),(r==c&&!f||r==d&&!A)&&(C=" "),e?e=!1:(y||(m=!1),p-this.previousPos>this.safeDistance*Math.cos(this.labelRotationR*Math.PI/180)&&(this.labelFunction&&(C=this.labelFunction(C,new Date(l),this,h,a,s)),this.boldLabels&&(m=!0),i=new this.axisItemRenderer(this,p,C,void 0,void 0,void 0,void 0,m),u=i.graphics(),this.pushAxisItem(i),u=u.getBBox().width,t.isModern||(u-=p),this.previousPos=p+u)),s=C=l)}}else if(this.cellWidth=this.getStepWidth(p),p<d&&(d=p),g+=this.start,this.stepWidth=this.getStepWidth(p),0<d)for(v=Math.floor(p/d),l=this.chooseMinorFrequency(v),p=g,p/2==Math.round(p/2)&&p--,0>p&&(p=0),y=0,this.widthField&&(p=this.start),this.end-p+1>=this.autoRotateCount&&(this.labelRotationR=this.autoRotateAngle),r=p;r<=this.end+2;r++){if(d=!1,0<=r&&r<this.data.length?(a=this.data[r],C=a.category,d=a.forceShow):C="",u&&!isNaN(l)){if(r/l!=Math.round(r/l)&&!d)continue;r/v==Math.round(r/v)||d||(this.gridAlpha=this.minorGridAlpha,C=void 0)}else if(r/v!=Math.round(r/v)&&!d)continue;p=this.getCoordinate(r-g),d=0,"start"==this.gridPosition&&(p-=this.cellWidth/2,d=this.cellWidth/2),i=!0,s=d,"start"==this.tickPosition&&(s=0,i=!1,d=0),(r==c&&!f||r==this.end&&!A)&&(C=void 0),Math.round(y/h)!=y/h&&(C=void 0),y++,e=this.cellWidth,I&&(e=NaN,this.ignoreAxisWidth||!n.autoMargins)&&(e="right"==this.position?n.marginRight:n.marginLeft,e-=this.tickLength+10),this.labelFunction&&a&&(C=this.labelFunction(C,a,this)),C=t.fixBrakes(C),m=!1,this.boldLabels&&(m=!0),r>this.end&&"start"==this.tickPosition&&(C=" "),this.rotate&&this.inside&&(d-=2),isNaN(a.widthValue)||(a.percentWidthValue=a.widthValue/b*100,e=this.rotate?this.height*a.widthValue/b:this.width*a.widthValue/b,p=x,x+=e,d=e/2),i=new this.axisItemRenderer(this,p,C,i,e,d,void 0,m,s,!1,a.labelColor,a.className),i.serialDataItem=a,this.pushAxisItem(i),this.gridAlpha=o}for(r=f=0;r<this.data.length;r++)(l=this.data[r])&&(this.parseDates&&!this.equalSpacing?(A=l.time,c=this.cellWidth,"MM"==this.minPeriod&&(c=864e5*t.daysInMonth(new Date(A))*this.stepWidth,l.cellWidth=c),A=Math.round((A-this.startTime)*this.stepWidth+c/2)):A=this.getCoordinate(r-g),l.x[this.id]=A);if(this.widthField)for(r=this.start;r<=this.end;r++)l=this.data[r],c=l.widthValue,l.percentWidthValue=c/b*100,this.rotate?(A=this.height*c/b/2+f,f=this.height*c/b+f):(A=this.width*c/b/2+f,f=this.width*c/b+f),l.x[this.id]=A;for(b=this.guides.length,r=0;r<b;r++)f=this.guides[r],v=v=v=u=c=NaN,A=f.above,f.toCategory&&(v=n.getCategoryIndexByValue(f.toCategory),isNaN(v)||(c=this.getCoordinate(v-g),f.expand&&(c+=this.cellWidth/2),i=new this.axisItemRenderer(this,c,"",!0,NaN,NaN,f),this.pushAxisItem(i,A))),f.category&&(v=n.getCategoryIndexByValue(f.category),isNaN(v)||(u=this.getCoordinate(v-g),f.expand&&(u-=this.cellWidth/2),v=(c-u)/2,i=new this.axisItemRenderer(this,u,f.label,!0,NaN,v,f),this.pushAxisItem(i,A))),y=n.dataDateFormat,f.toDate&&(!y||f.toDate instanceof Date||(f.toDate=f.toDate.toString()+" |"),f.toDate=t.getDate(f.toDate,y),this.equalSpacing?(v=n.getClosestIndex(this.data,"time",f.toDate.getTime(),!1,0,this.data.length-1),isNaN(v)||(c=this.getCoordinate(v-g))):c=(f.toDate.getTime()-this.startTime)*this.stepWidth,i=new this.axisItemRenderer(this,c,"",!0,NaN,NaN,f),this.pushAxisItem(i,A)),f.date&&(!y||f.date instanceof Date||(f.date=f.date.toString()+" |"),f.date=t.getDate(f.date,y),this.equalSpacing?(v=n.getClosestIndex(this.data,"time",f.date.getTime(),!1,0,this.data.length-1),isNaN(v)||(u=this.getCoordinate(v-g))):u=(f.date.getTime()-this.startTime)*this.stepWidth,v=(c-u)/2,i=!0,f.toDate&&(i=!1),i="H"==this.orientation?new this.axisItemRenderer(this,u,f.label,i,2*v,NaN,f):new this.axisItemRenderer(this,u,f.label,!1,NaN,v,f),this.pushAxisItem(i,A)),f.balloonText&&i&&(v=i.label)&&this.addEventListeners(v,f),(0<c||0<u)&&(v=!1,this.rotate?(c<this.height||u<this.height)&&(v=!0):(c<this.width||u<this.width)&&(v=!0),v&&(c=new this.guideFillRenderer(this,u,c,f),u=c.graphics(),this.pushAxisItem(c,A),f.graphics=u,u.index=r,f.balloonText&&this.addEventListeners(u,f)));(n=n.chartCursor)&&(I?n.fixHeight(this.cellWidth):(n.fixWidth(this.cellWidth),n.fullWidth&&this.balloon&&(this.balloon.minWidth=this.cellWidth))),this.previousHeight=S}this.axisCreated=!0,this.set.translate(this.x,this.y),this.labelsSet.translate(this.x,this.y),this.labelsSet.show(),this.positionTitle(),(I=this.axisLine.set)&&I.toFront();var S=this.getBBox().height;2<S-this.previousHeight&&this.autoWrap&&!this.parseDates&&(this.axisCreated=this.chart.marginsUpdated=!1)},xToIndex:function(e){var r,n=this.data,i=this.chart,a=i.rotate,o=this.stepWidth;if(this.parseDates&&!this.equalSpacing)e=this.startTime+Math.round(e/o)-this.minDuration()/2,r=i.getClosestIndex(n,"time",e,!1,this.start,this.end+1);else if(this.widthField)for(i=1/0,o=this.start;o<=this.end;o++){var s=this.data[o];s&&(s=Math.abs(s.x[this.id]-e),s<i&&(i=s,r=o))}else this.startOnAxis||(e-=o/2),r=this.start+Math.round(e/o);r=t.fitToBounds(r,0,n.length-1);var l;return n[r]&&(l=n[r].x[this.id]),a?l>this.height+1&&r--:l>this.width+1&&r--,0>l&&r++,r=t.fitToBounds(r,0,n.length-1)},dateToCoordinate:function(t){return this.parseDates&&!this.equalSpacing?(t.getTime()-this.startTime)*this.stepWidth:this.parseDates&&this.equalSpacing?(t=this.chart.getClosestIndex(this.data,"time",t.getTime(),!1,0,this.data.length-1),this.getCoordinate(t-this.start)):NaN},categoryToCoordinate:function(t){return this.chart?this.parseDates?this.dateToCoordinate(new Date(t)):(t=this.chart.getCategoryIndexByValue(t),isNaN(t)?void 0:this.getCoordinate(t-this.start)):NaN},coordinateToDate:function(t){return this.equalSpacing?(t=this.xToIndex(t),new Date(this.data[t].time)):new Date(this.startTime+t/this.stepWidth)},coordinateToValue:function(t){if(t=this.xToIndex(t),t=this.data[t])return this.parseDates?t.time:t.category},getCoordinate:function(t){return t*=this.stepWidth,this.startOnAxis||(t+=this.stepWidth/2),Math.round(t)},formatValue:function(e,r){return r||(r=this.currentDateFormat),this.parseDates&&(e=t.formatDate(new Date(e),r,this.chart)),e},showBalloonAt:function(t,e){return void 0===e&&(e=this.parseDates?this.dateToCoordinate(new Date(t)):this.categoryToCoordinate(t)),this.adjustBalloonCoordinate(e)},formatBalloonText:function(e,r,n){var i="",a="",o=this.chart,s=this.data[r];if(s)if(this.parseDates)i=t.formatDate(s.category,n,o),r=t.changeDate(new Date(s.category),this.minPeriod,1),a=t.formatDate(r,n,o),-1!=i.indexOf("fff")&&(i=t.formatMilliseconds(i,s.category),a=t.formatMilliseconds(a,r));else{var l;this.data[r+1]&&(l=this.data[r+1]),i=t.fixNewLines(s.category),l&&(a=t.fixNewLines(l.category))}return e=e.replace(/\[\[category\]\]/g,String(i)),e=e.replace(/\[\[toCategory\]\]/g,String(a))},adjustBalloonCoordinate:function(t,e){var r=this.xToIndex(t),n=this.chart.chartCursor;if(this.stickBalloonToCategory){var i=this.data[r];i&&(t=i.x[this.id]),this.stickBalloonToStart&&(t-=this.cellWidth/2);var a=0;if(n){var o=n.limitToGraph;if(o){var s=o.valueAxis.id;o.hidden||(a=i.axes[s].graphs[o.id].y)}this.rotate?("left"==this.position?(o&&(a-=n.width),0<a&&(a=0)):0>a&&(a=0),n.fixHLine(t,a)):("top"==this.position?(o&&(a-=n.height),0<a&&(a=0)):0>a&&(a=0),n.fixVLine(t,a))}}return n&&!e&&(n.setIndex(r),this.parseDates&&n.setTimestamp(this.coordinateToDate(t).getTime())),t}})}()},function(t,e){"use strict";AmCharts.themes.light={themeName:"light",AmChart:{color:"#000000",backgroundColor:"#FFFFFF"},AmCoordinateChart:{colors:["#67b7dc","#fdd400","#84b761","#cc4748","#cd82ad","#2f4074","#448e4d","#b7b83f","#b9783f","#b93e3d","#913167"]},AmStockChart:{colors:["#67b7dc","#fdd400","#84b761","#cc4748","#cd82ad","#2f4074","#448e4d","#b7b83f","#b9783f","#b93e3d","#913167"]},AmSlicedChart:{colors:["#67b7dc","#fdd400","#84b761","#cc4748","#cd82ad","#2f4074","#448e4d","#b7b83f","#b9783f","#b93e3d","#913167"],outlineAlpha:1,outlineThickness:2,labelTickColor:"#000000",labelTickAlpha:.3},AmRectangularChart:{zoomOutButtonColor:"#000000",zoomOutButtonRollOverAlpha:.15,zoomOutButtonImage:"lens"},AxisBase:{axisColor:"#000000",axisAlpha:.3,gridAlpha:.1,gridColor:"#000000"},ChartScrollbar:{backgroundColor:"#000000",backgroundAlpha:.12,graphFillAlpha:.5,graphLineAlpha:0,selectedBackgroundColor:"#FFFFFF",selectedBackgroundAlpha:.4,gridAlpha:.15},ChartCursor:{cursorColor:"#000000",color:"#FFFFFF",cursorAlpha:.5},AmLegend:{color:"#000000"},AmGraph:{lineAlpha:.9},GaugeArrow:{color:"#000000",alpha:.8,nailAlpha:0,innerRadius:"40%",nailRadius:15,startWidth:15,borderAlpha:.8,nailBorderAlpha:0},GaugeAxis:{tickColor:"#000000",tickAlpha:1,tickLength:15,minorTickLength:8,axisThickness:3,axisColor:"#000000",axisAlpha:1,bandAlpha:.8},TrendLine:{lineColor:"#c03246",lineAlpha:.8},AreasSettings:{alpha:.8,color:"#67b7dc",colorSolid:"#003767",unlistedAreasAlpha:.4,unlistedAreasColor:"#000000",outlineColor:"#FFFFFF",outlineAlpha:.5,outlineThickness:.5,rollOverColor:"#3c5bdc",rollOverOutlineColor:"#FFFFFF",selectedOutlineColor:"#FFFFFF",selectedColor:"#f15135",unlistedAreasOutlineColor:"#FFFFFF",unlistedAreasOutlineAlpha:.5},LinesSettings:{color:"#000000",alpha:.8},ImagesSettings:{alpha:.8,labelColor:"#000000",color:"#000000",labelRollOverColor:"#3c5bdc"},ZoomControl:{buttonFillAlpha:.7,buttonIconColor:"#a7a7a7"},SmallMap:{mapColor:"#000000",rectangleColor:"#f15135",backgroundColor:"#FFFFFF",backgroundAlpha:.7,borderThickness:1,borderAlpha:.8},PeriodSelector:{color:"#000000"},PeriodButton:{color:"#000000",background:"transparent",opacity:.7,border:"1px solid rgba(0, 0, 0, .3)",MozBorderRadius:"5px",borderRadius:"5px",margin:"1px",outline:"none",boxSizing:"border-box"},PeriodButtonSelected:{color:"#000000",backgroundColor:"#b9cdf5",border:"1px solid rgba(0, 0, 0, .3)",MozBorderRadius:"5px",borderRadius:"5px",margin:"1px",outline:"none",opacity:1,boxSizing:"border-box"},PeriodInputField:{color:"#000000",background:"transparent",border:"1px solid rgba(0, 0, 0, .3)",outline:"none"},DataSetSelector:{color:"#000000",selectedBackgroundColor:"#b9cdf5",rollOverBackgroundColor:"#a8b0e4"},DataSetCompareList:{color:"#000000",lineHeight:"100%",boxSizing:"initial",webkitBoxSizing:"initial",border:"1px solid rgba(0, 0, 0, .3)"},DataSetSelect:{border:"1px solid rgba(0, 0, 0, .3)",outline:"none"}}},function(t,e){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};AmCharts.addInitHandler(function(t){if(void 0!==t.responsive&&t.responsive.ready!==!0&&t.responsive.enabled===!0){var e=t.version.split(".");if(!(e.length<2||Number(e[0])<3||3===Number(e[0])&&Number(e[1])<13)){var n=t.responsive;n.ready=!0,n.currentRules={},n.overridden=[];var i={pie:[{maxWidth:550,legendPosition:"left",overrides:{legend:{enabled:!1}}},{maxWidth:550,legendPosition:"right",overrides:{legend:{enabled:!1}}},{maxWidth:150,overrides:{legend:{enabled:!1}}},{maxHeight:350,legendPosition:"top",overrides:{legend:{enabled:!1}}},{maxHeight:350,legendPosition:"bottom",overrides:{legend:{enabled:!1}}},{maxHeight:150,overrides:{legend:{enabled:!1}}},{maxWidth:400,overrides:{labelsEnabled:!1}},{maxWidth:100,overrides:{legend:{enabled:!1}}},{maxHeight:350,overrides:{pullOutRadius:0}},{maxHeight:200,overrides:{titles:{enabled:!1},labelsEnabled:!1}},{maxWidth:60,overrides:{autoMargins:!1,marginTop:0,marginBottom:0,marginLeft:0,marginRight:0,radius:"50%",innerRadius:0,balloon:{enabled:!1},legend:{enabled:!1}}},{maxHeight:60,overrides:{marginTop:0,marginBottom:0,marginLeft:0,marginRight:0,radius:"50%",innerRadius:0,balloon:{enabled:!1},legend:{enabled:!1}}}],funnel:[{maxWidth:550,legendPosition:"left",overrides:{legend:{enabled:!1}}},{maxWidth:550,legendPosition:"right",overrides:{legend:{enabled:!1}}},{maxWidth:150,overrides:{legend:{enabled:!1}}},{maxHeight:500,legendPosition:"top",overrides:{legend:{enabled:!1}}},{maxHeight:500,legendPosition:"bottom",overrides:{legend:{enabled:!1}}},{maxHeight:150,overrides:{legend:{enabled:!1}}},{maxWidth:400,overrides:{labelsEnabled:!1,marginLeft:10,marginRight:10,legend:{enabled:!1}}},{maxHeight:350,overrides:{pullOutRadius:0,legend:{enabled:!1}}},{maxHeight:300,overrides:{titles:{enabled:!1}}}],radar:[{maxWidth:550,legendPosition:"left",overrides:{legend:{enabled:!1}}},{maxWidth:550,legendPosition:"right",overrides:{legend:{enabled:!1}}},{maxWidth:150,overrides:{legend:{enabled:!1}}},{maxHeight:350,legendPosition:"top",overrides:{legend:{enabled:!1}}},{maxHeight:350,legendPosition:"bottom",overrides:{legend:{enabled:!1}}},{maxHeight:150,overrides:{legend:{enabled:!1}}},{maxWidth:300,overrides:{labelsEnabled:!1}},{maxWidth:200,overrides:{autoMargins:!1,marginTop:0,marginBottom:0,marginLeft:0,marginRight:0,radius:"50%",titles:{enabled:!1},valueAxes:{labelsEnabled:!1,radarCategoriesEnabled:!1}}},{maxHeight:300,overrides:{labelsEnabled:!1}},{maxHeight:200,overrides:{autoMargins:!1,marginTop:0,marginBottom:0,marginLeft:0,marginRight:0,radius:"50%",titles:{enabled:!1},valueAxes:{radarCategoriesEnabled:!1}}},{maxHeight:100,overrides:{valueAxes:{labelsEnabled:!1}}}],gauge:[{maxWidth:550,legendPosition:"left",overrides:{legend:{enabled:!1}}},{maxWidth:550,legendPosition:"right",overrides:{legend:{enabled:!1}}},{maxWidth:150,overrides:{legend:{enabled:!1}}},{maxHeight:500,legendPosition:"top",overrides:{legend:{enabled:!1}}},{maxHeight:500,legendPosition:"bottom",overrides:{legend:{enabled:!1}}},{maxHeight:150,overrides:{legend:{enabled:!1}}},{maxWidth:200,overrides:{titles:{enabled:!1},allLabels:{enabled:!1},axes:{labelsEnabled:!1}}},{maxHeight:200,overrides:{titles:{enabled:!1},allLabels:{enabled:!1},axes:{labelsEnabled:!1}}}],serial:[{maxWidth:550,legendPosition:"left",overrides:{legend:{enabled:!1}}},{maxWidth:550,legendPosition:"right",overrides:{legend:{enabled:!1}}},{maxWidth:100,overrides:{legend:{enabled:!1}}},{maxHeight:350,legendPosition:"top",overrides:{legend:{enabled:!1}}},{maxHeight:350,legendPosition:"bottom",overrides:{legend:{enabled:!1}}},{maxHeight:100,overrides:{legend:{enabled:!1}}},{maxWidth:350,overrides:{autoMarginOffset:0,graphs:{hideBulletsCount:10}}},{maxWidth:350,rotate:!1,overrides:{marginLeft:10,marginRight:10,valueAxes:{ignoreAxisWidth:!0,inside:!0,title:"",showFirstLabel:!1,showLastLabel:!1},graphs:{bullet:"none"}}},{maxWidth:350,rotate:!0,overrides:{marginLeft:10,marginRight:10,categoryAxis:{ignoreAxisWidth:!0,inside:!0,title:""}}},{maxWidth:200,rotate:!1,overrides:{marginLeft:10,marginRight:10,marginTop:10,marginBottom:10,categoryAxis:{ignoreAxisWidth:!0,labelsEnabled:!1,inside:!0,title:"",guides:{inside:!0}},valueAxes:{ignoreAxisWidth:!0,labelsEnabled:!1,axisAlpha:0,guides:{label:""}},legend:{enabled:!1}}},{maxWidth:200,rotate:!0,overrides:{chartScrollbar:{scrollbarHeight:4,graph:"",resizeEnabled:!1},categoryAxis:{labelsEnabled:!1,axisAlpha:0,guides:{label:""}},legend:{enabled:!1}}},{maxWidth:100,rotate:!1,overrides:{valueAxes:{gridAlpha:0}}},{maxWidth:100,rotate:!0,overrides:{categoryAxis:{gridAlpha:0}}},{maxHeight:300,overrides:{autoMarginOffset:0,graphs:{hideBulletsCount:10}}},{maxHeight:200,rotate:!1,overrides:{marginTop:10,marginBottom:10,categoryAxis:{ignoreAxisWidth:!0,inside:!0,title:"",showFirstLabel:!1,showLastLabel:!1}}},{maxHeight:200,rotate:!0,overrides:{marginTop:10,marginBottom:10,valueAxes:{ignoreAxisWidth:!0,inside:!0,title:"",showFirstLabel:!1,showLastLabel:!1},graphs:{bullet:"none"}}},{maxHeight:150,rotate:!1,overrides:{titles:{enabled:!1},chartScrollbar:{scrollbarHeight:4,graph:"",resizeEnabled:!1},categoryAxis:{labelsEnabled:!1,ignoreAxisWidth:!0,axisAlpha:0,guides:{label:""}}}},{maxHeight:150,rotate:!0,overrides:{titles:{enabled:!1},valueAxes:{labelsEnabled:!1,ignoreAxisWidth:!0,axisAlpha:0,guides:{label:""}}}},{maxHeight:100,rotate:!1,overrides:{valueAxes:{labelsEnabled:!1,ignoreAxisWidth:!0,axisAlpha:0,gridAlpha:0,guides:{label:""}}}},{maxHeight:100,rotate:!0,overrides:{categoryAxis:{labelsEnabled:!1,ignoreAxisWidth:!0,axisAlpha:0,gridAlpha:0,guides:{label:""}}}},{maxWidth:100,overrides:{autoMargins:!1,marginTop:0,marginBottom:0,marginLeft:0,marginRight:0,categoryAxis:{labelsEnabled:!1},valueAxes:{labelsEnabled:!1}}},{maxHeight:100,overrides:{autoMargins:!1,marginTop:0,marginBottom:0,marginLeft:0,marginRight:0,categoryAxis:{labelsEnabled:!1},valueAxes:{labelsEnabled:!1}}}],xy:[{maxWidth:550,legendPosition:"left",overrides:{legend:{enabled:!1}}},{maxWidth:550,legendPosition:"right",overrides:{legend:{enabled:!1}}},{maxWidth:100,overrides:{legend:{enabled:!1}}},{maxHeight:350,legendPosition:"top",overrides:{legend:{enabled:!1}}},{maxHeight:350,legendPosition:"bottom",overrides:{legend:{enabled:!1}}},{maxHeight:100,overrides:{legend:{enabled:!1}}},{maxWidth:250,overrides:{autoMarginOffset:0,autoMargins:!1,marginTop:0,marginBottom:0,marginLeft:0,marginRight:0,valueAxes:{inside:!0,title:"",showFirstLabel:!1,showLastLabel:!1},legend:{enabled:!1}}},{maxWidth:150,overrides:{valueyAxes:{labelsEnabled:!1,axisAlpha:0,gridAlpha:0,guides:{label:""}}}},{maxHeight:250,overrides:{autoMarginOffset:0,autoMargins:!1,marginTop:0,marginBottom:0,marginLeft:0,marginRight:0,valueAxes:{inside:!0,title:"",showFirstLabel:!1,showLastLabel:!1},legend:{enabled:!1}}},{maxWidth:150,overrides:{valueyAxes:{labelsEnabled:!1,axisAlpha:0,gridAlpha:0,guides:{label:""}}}}],stock:[{maxWidth:500,overrides:{dataSetSelector:{position:"top"},periodSelector:{position:"bottom"}}},{maxWidth:400,overrides:{dataSetSelector:{selectText:"",compareText:""},periodSelector:{periodsText:"",inputFieldsEnabled:!1}}}],map:[{maxWidth:200,overrides:{zoomControl:{zoomControlEnabled:!1},smallMap:{enabled:!1},valueLegend:{enabled:!1},dataProvider:{areas:{descriptionWindowWidth:160,descriptionWindowRight:10,descriptionWindowTop:10},images:{descriptionWindowWidth:160,descriptionWindowRight:10,descriptionWindowTop:10},lines:{descriptionWindowWidth:160,descriptionWindowRight:10,descriptionWindowTop:10}}}},{maxWidth:150,overrides:{dataProvider:{areas:{descriptionWindowWidth:110,descriptionWindowRight:10,descriptionWindowTop:10},images:{descriptionWindowWidth:110,descriptionWindowRight:10,descriptionWindowTop:10},lines:{descriptionWindowWidth:110,descriptionWindowLeft:10,descriptionWindowRight:10}}}},{maxHeight:200,overrides:{zoomControl:{zoomControlEnabled:!1},smallMap:{enabled:!1},valueLegend:{enabled:!1},dataProvider:{areas:{descriptionWindowHeight:160,descriptionWindowRight:10,descriptionWindowTop:10},images:{descriptionWindowHeight:160,descriptionWindowRight:10,descriptionWindowTop:10},lines:{descriptionWindowHeight:160,descriptionWindowRight:10,descriptionWindowTop:10}}}},{maxHeight:150,overrides:{dataProvider:{areas:{descriptionWindowHeight:110,descriptionWindowRight:10,descriptionWindowTop:10},images:{descriptionWindowHeight:110,descriptionWindowRight:10,descriptionWindowTop:10},lines:{descriptionWindowHeight:110,descriptionWindowLeft:10,descriptionWindowRight:10}}}}]},a=function(t){return null===t||void 0===t},o=function(t){return!a(t)&&"[object Array]"===Object.prototype.toString.call(t)},s=function(t){return null!==t&&"object"==("undefined"==typeof t?"undefined":r(t))},l=function(t,e){for(var r=0;r<t.length;r++)if(s(t[r])&&t[r].id===e)return t[r]},u=function t(e){if(!s(e))return e;if(o(e))return e.slice();var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=t(e[n]));return r},c="{F0578839-A214-4E2D-8D1B-44941ECE8332}_",h={},g=function(t,e,r){var i=c+e;i in t||(t[i]=e in t?t[e]:h),t[e]=u(r),n.overridden.push({object:t,property:e})},p=function(t,e){var r=t[c+e];r===h?delete t[e]:t[e]=r},d=function(){for(;n.overridden.length>0;){var t=n.overridden.pop();p(t.object,t.property)}},f=function(){t.dataChanged=!0,"xy"!==t.type&&(t.marginsUpdated=!1),t.zoomOutOnDataUpdate=!1,t.validateNow(!0),p(t,"zoomOutOnDataUpdate")},A=function t(e,r){if(!a(r))for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)){var i=e[n],u=r[n];if(a(i))"periodSelector"!==n&&"dataSetSelector"!==n&&g(e,n,u);else{if(o(i)){if(o(u)){if(i.length>0&&!s(i[0])||u.length>0&&!s(u[0])){g(e,n,u);continue}for(var c=!0,h=0;h<u.length;h++)if(a(u[h])||a(u[h].id)){c=!1;break}if(c){for(var p=0;p<u.length;p++){var d=l(i,u[p].id);if(void 0===d)throw'could not find element to override in "'+n+'" with ID: '+u[p].id;t(d,u[p])}continue}if(u.length<=i.length){for(var f=0;f<u.length;f++)t(i[f],u[f]);continue}throw"too many index-based overrides specified for object array property: "+n}if(s(u)){for(var A=0;A<i.length;A++)t(i[A],u);continue}throw"non-object override detected for array property: "+n}s(i)?t(i,u):g(e,n,u)}}},C=function(){var e=t.divRealWidth,r=t.divRealHeight;if(0!==e&&0!==r){for(var i=!1,o=0;o<n.rules.length;o++){var s=n.rules[o],l=(void 0===s.minWidth||s.minWidth<=e)&&(void 0===s.maxWidth||s.maxWidth>=e)&&(void 0===s.minHeight||s.minHeight<=r)&&(void 0===s.maxHeight||s.maxHeight>=r)&&(void 0===s.rotate||s.rotate===!0&&t.rotate===!0||s.rotate===!1&&(void 0===t.rotate||t.rotate===!1))&&(void 0===s.legendPosition||void 0!==t.legend&&void 0!==t.legend.position&&t.legend.position===s.legendPosition);l?void 0===n.currentRules[o]&&(n.currentRules[o]=!0,i=!0):void 0!==n.currentRules[o]&&(n.currentRules[o]=void 0,i=!0)}if(i){d();for(var u in n.currentRules)if(Object.prototype.hasOwnProperty.call(n.currentRules,u)&&void 0!==n.currentRules[u]){if(a(n.rules[u]))throw"null or undefined rule in index: "+u;A(t,n.rules[u].overrides)}f()}}};i.gantt=i.serial,o(n.rules)?n.addDefaultRules!==!1&&(n.rules=i[t.type].concat(n.rules)):n.rules=i[t.type],g(t,"zoomOutOnDataUpdate",t.zoomOutOnDataUpdate),t.addListener("resized",C),t.addListener("init",C)}}},["pie","serial","xy","funnel","radar","gauge","gantt","stock","map"])},function(t,e){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};AmCharts.translations.export||(AmCharts.translations.export={}),AmCharts.translations.export.en||(AmCharts.translations.export.en={"fallback.save.text":"CTRL + C to copy the data into the clipboard.","fallback.save.image":"Rightclick -> Save picture as... to save the image.","capturing.delayed.menu.label":"{{duration}}","capturing.delayed.menu.title":"Click to cancel","menu.label.print":"Print","menu.label.undo":"Undo","menu.label.redo":"Redo","menu.label.cancel":"Cancel","menu.label.save.image":"Download as ...","menu.label.save.data":"Save as ...","menu.label.draw":"Annotate ...","menu.label.draw.change":"Change ...","menu.label.draw.add":"Add ...","menu.label.draw.shapes":"Shape ...","menu.label.draw.colors":"Color ...","menu.label.draw.widths":"Size ...","menu.label.draw.opacities":"Opacity ...","menu.label.draw.text":"Text","menu.label.draw.modes":"Mode ...","menu.label.draw.modes.pencil":"Pencil","menu.label.draw.modes.line":"Line","menu.label.draw.modes.arrow":"Arrow","label.saved.from":"Saved from: "}),function(){AmCharts.export=function(t,e){var n,i={name:"export",version:"1.4.42",libs:{async:!0,autoLoad:!0,reload:!1,resources:["/libs/amcharts/plugins/export/libs/fabric.js/fabric.min.js","/libs/amcharts/plugins/export/libs/FileSaver.js/FileSaver.min.js","/libs/amcharts/plugins/export/libs/jszip/jszip.min.js","/libs/amcharts/plugins/export/libs/xlsx/xlsx.min.js",{"/libs/amcharts/plugins/export/libs/pdfmake/pdfmake.min.js":["/libs/amcharts/plugins/export/libs/pdfmake/vfs_fonts.js"]}],namespaces:{"pdfmake.min.js":"pdfMake","jszip.min.js":"JSZip","xlsx.min.js":"XLSX","fabric.min.js":"fabric","FileSaver.min.js":"saveAs"},loadTimeout:1e4},config:{},setup:{chart:t,hasBlob:!1,wrapper:!1,isIE:!!window.document.documentMode,IEversion:window.document.documentMode,hasTouch:"object"==r(window.Touch)},drawing:{enabled:!1,undos:[],redos:[],buffer:{position:{x1:0,y1:0,x2:0,y2:0,xD:0,yD:0}},handler:{undo:function(t,e){var r=i.drawing.undos.pop();if(r){r.selectable=!0,i.drawing.redos.push(r),"added"==r.action&&i.setup.fabric.remove(r.target);var n=JSON.parse(r.state);r.target.set(n),r.target instanceof fabric.Group&&i.drawing.handler.change({color:n.cfg.color,width:n.cfg.width,opacity:n.cfg.opacity},!0,r.target),i.setup.fabric.renderAll(),r.state!=r.target.recentState||e||i.drawing.handler.undo(r,!0)}},redo:function(t,e){var r=i.drawing.redos.pop();if(r){r.selectable=!0,i.drawing.undos.push(r),"added"==r.action&&i.setup.fabric.add(r.target);var n=JSON.parse(r.state);r.target.recentState=r.state,r.target.set(n),r.target instanceof fabric.Group&&i.drawing.handler.change({color:n.cfg.color,width:n.cfg.width,opacity:n.cfg.opacity},!0,r.target),i.setup.fabric.renderAll(),"addified"==r.action&&i.drawing.handler.redo()}},done:function(t){i.drawing.enabled=!1,i.drawing.buffer.enabled=!1,i.drawing.undos=[],i.drawing.redos=[],i.createMenu(i.config.menu),i.setup.fabric.deactivateAll(),i.setup.wrapper&&(i.setup.chart.containerDiv.removeChild(i.setup.wrapper),i.setup.wrapper=!1)},add:function(t){var e=i.deepMerge({top:i.setup.fabric.height/2,left:i.setup.fabric.width/2},t||{}),r=e.url.indexOf(".svg")!=-1?fabric.loadSVGFromURL:fabric.Image.fromURL;r(e.url,function(t,r){var n=void 0!==r?fabric.util.groupSVGElements(t,r):t,a=!1;(n.height>i.setup.fabric.height||n.width>i.setup.fabric.width)&&(a=i.setup.fabric.height/2/n.height),e.top>i.setup.fabric.height&&(e.top=i.setup.fabric.height/2),e.left>i.setup.fabric.width&&(e.left=i.setup.fabric.width/2),n.set({originX:"center",originY:"center",top:e.top,left:e.left,width:a?n.width*a:n.width,height:a?n.height*a:n.height,fill:i.drawing.color}),i.setup.fabric.add(n)})},change:function(t,e,r){var n,a,o,s=i.deepMerge({},t||{}),l=r||i.drawing.buffer.target,u=l?l._objects?l._objects:[l]:null;if(s.mode&&(i.drawing.mode=s.mode),s.width&&(i.drawing.width=s.width,i.drawing.fontSize=3*s.width),s.fontSize&&(i.drawing.fontSize=s.fontSize),s.color&&(i.drawing.color=s.color),s.opacity&&(i.drawing.opacity=s.opacity),o=i.getRGBA(i.drawing.color),o.pop(),o.push(i.drawing.opacity),i.drawing.color="rgba("+o.join()+")",i.setup.fabric.freeDrawingBrush.color=i.drawing.color,i.setup.fabric.freeDrawingBrush.width=i.drawing.width,l){for(n=JSON.parse(l.recentState).cfg,n&&(s.color=s.color||n.color,s.width=s.width||n.width,s.opacity=s.opacity||n.opacity,s.fontSize=s.fontSize||3*s.width,o=i.getRGBA(s.color),o.pop(),o.push(s.opacity),s.color="rgba("+o.join()+")"),
a=0;a<u.length;a++)u[a]instanceof fabric.Text||u[a]instanceof fabric.PathGroup||u[a]instanceof fabric.Triangle?((s.color||s.opacity)&&u[a].set({fill:s.color}),s.fontSize&&u[a].set({fontSize:s.fontSize})):(u[a]instanceof fabric.Path||u[a]instanceof fabric.Line)&&(l instanceof fabric.Group?(s.color||s.opacity)&&u[a].set({stroke:s.color}):((s.color||s.opacity)&&u[a].set({stroke:s.color}),s.width&&u[a].set({strokeWidth:s.width})));e||(n=JSON.stringify(i.deepMerge(l.saveState().originalState,{cfg:{color:s.color,width:s.width,opacity:s.opacity}})),l.recentState=n,i.drawing.redos=[],i.drawing.undos.push({action:"modified",target:l,state:n})),i.setup.fabric.renderAll()}},text:function t(e){var r=i.deepMerge({text:i.i18l("menu.label.draw.text"),top:i.setup.fabric.height/2,left:i.setup.fabric.width/2,fontSize:i.drawing.fontSize,fontFamily:i.setup.chart.fontFamily||"Verdana",fill:i.drawing.color},e||{});r.click=function(){};var t=new fabric.IText(r.text,r);return i.setup.fabric.add(t),i.setup.fabric.setActiveObject(t),t.selectAll(),t.enterEditing(),t},line:function t(e){var r,n,a,o,s=i.deepMerge({x1:i.setup.fabric.width/2-i.setup.fabric.width/10,x2:i.setup.fabric.width/2+i.setup.fabric.width/10,y1:i.setup.fabric.height/2,y2:i.setup.fabric.height/2,angle:90,strokeLineCap:i.drawing.lineCap,arrow:i.drawing.arrow,color:i.drawing.color,width:i.drawing.width,group:[]},e||{}),t=new fabric.Line([s.x1,s.y1,s.x2,s.y2],{stroke:s.color,strokeWidth:s.width,strokeLineCap:s.strokeLineCap});if(s.group.push(t),s.arrow&&(s.angle=s.angle?s.angle:i.getAngle(s.x1,s.y1,s.x2,s.y2),"start"==s.arrow?(a=s.y1+s.width/2,o=s.x1+s.width/2):"middle"==s.arrow?(a=s.y2+s.width/2-(s.y2-s.y1)/2,o=s.x2+s.width/2-(s.x2-s.x1)/2):(a=s.y2+s.width/2,o=s.x2+s.width/2),n=new fabric.Triangle({top:a,left:o,fill:s.color,height:7*s.width,width:7*s.width,angle:s.angle,originX:"center",originY:"bottom"}),s.group.push(n)),"config"!=s.action){if(s.arrow){var l=new fabric.Group(s.group);return l.set({cfg:s,fill:s.color,action:s.action,selectable:!0,known:"change"==s.action}),"change"==s.action&&i.setup.fabric.setActiveObject(l),i.setup.fabric.add(l),l}return i.setup.fabric.add(t),t}for(r=0;r<s.group.length;r++)s.group[r].noUndo=!0,i.setup.fabric.add(s.group[r]);return s}}},defaults:{position:"top-right",fileName:"amCharts",action:"download",overflow:!0,path:(t.path||"")+"plugins/export/",formats:{JPG:{mimeType:"image/jpg",extension:"jpg",capture:!0},PNG:{mimeType:"image/png",extension:"png",capture:!0},SVG:{mimeType:"text/xml",extension:"svg",capture:!0},PDF:{mimeType:"application/pdf",extension:"pdf",capture:!0},CSV:{mimeType:"text/plain",extension:"csv"},JSON:{mimeType:"text/plain",extension:"json"},XLSX:{mimeType:"application/octet-stream",extension:"xlsx"}},fabric:{backgroundColor:"#FFFFFF",removeImages:!0,forceRemoveImages:!1,selection:!1,loadTimeout:5e3,drawing:{enabled:!0,arrow:"end",lineCap:"butt",mode:"pencil",modes:["pencil","line","arrow"],color:"#000000",colors:["#000000","#FFFFFF","#FF0000","#00FF00","#0000FF"],shapes:["11.svg","14.svg","16.svg","17.svg","20.svg","27.svg"],width:1,fontSize:11,widths:[1,5,10,15],opacity:1,opacities:[1,.8,.6,.4,.2],menu:void 0,autoClose:!0},border:{fill:"",fillOpacity:0,stroke:"#000000",strokeWidth:1,strokeOpacity:1}},pdfMake:{images:{},pageOrientation:"portrait",pageMargins:40,pageOrigin:!0,pageSize:"A4",pageSizes:{"4A0":[4767.87,6740.79],"2A0":[3370.39,4767.87],A0:[2383.94,3370.39],A1:[1683.78,2383.94],A2:[1190.55,1683.78],A3:[841.89,1190.55],A4:[595.28,841.89],A5:[419.53,595.28],A6:[297.64,419.53],A7:[209.76,297.64],A8:[147.4,209.76],A9:[104.88,147.4],A10:[73.7,104.88],B0:[2834.65,4008.19],B1:[2004.09,2834.65],B2:[1417.32,2004.09],B3:[1000.63,1417.32],B4:[708.66,1000.63],B5:[498.9,708.66],B6:[354.33,498.9],B7:[249.45,354.33],B8:[175.75,249.45],B9:[124.72,175.75],B10:[87.87,124.72],C0:[2599.37,3676.54],C1:[1836.85,2599.37],C2:[1298.27,1836.85],C3:[918.43,1298.27],C4:[649.13,918.43],C5:[459.21,649.13],C6:[323.15,459.21],C7:[229.61,323.15],C8:[161.57,229.61],C9:[113.39,161.57],C10:[79.37,113.39],RA0:[2437.8,3458.27],RA1:[1729.13,2437.8],RA2:[1218.9,1729.13],RA3:[864.57,1218.9],RA4:[609.45,864.57],SRA0:[2551.18,3628.35],SRA1:[1814.17,2551.18],SRA2:[1275.59,1814.17],SRA3:[907.09,1275.59],SRA4:[637.8,907.09],EXECUTIVE:[521.86,756],FOLIO:[612,936],LEGAL:[612,1008],LETTER:[612,792],TABLOID:[792,1224]}},menu:void 0,divId:null,menuReviver:null,menuWalker:null,fallback:!0,keyListener:!0,fileListener:!0,compress:!0},i18l:function(t,e){var r=e?langugage:i.setup.chart.language?i.setup.chart.language:"en",n=AmCharts.translations[i.name][r]||AmCharts.translations[i.name].en;return n[t]||t},download:function(t,e,r){if(window.saveAs&&i.setup.hasBlob){i.toBlob({data:t,type:e},function(t){saveAs(t,r)})}else if(i.config.fallback&&"text/plain"==e){var n=document.createElement("div"),a=document.createElement("div"),o=document.createElement("textarea");a.innerHTML=i.i18l("fallback.save.text"),n.appendChild(a),n.appendChild(o),a.setAttribute("class","amcharts-export-fallback-message"),n.setAttribute("class","amcharts-export-fallback"),i.setup.chart.containerDiv.appendChild(n),o.setAttribute("readonly",""),o.value=t,o.focus(),o.select(),i.createMenu([{class:"export-main export-close",label:"Done",click:function(){i.createMenu(i.config.menu),i.setup.chart.containerDiv.removeChild(n)}}])}else{if(!i.config.fallback||"image"!=e.split("/")[0])throw new Error("Unable to create file. Ensure saveAs (FileSaver.js) is supported.");var n=document.createElement("div"),a=document.createElement("div"),s=i.toImage({data:t});a.innerHTML=i.i18l("fallback.save.image"),n.appendChild(a),n.appendChild(s),a.setAttribute("class","amcharts-export-fallback-message"),n.setAttribute("class","amcharts-export-fallback"),i.setup.chart.containerDiv.appendChild(n),i.createMenu([{class:"export-main export-close",label:"Done",click:function(){i.createMenu(i.config.menu),i.setup.chart.containerDiv.removeChild(n)}}])}return t},loadResource:function(t,e){var r,n,a,o,s,l,u=t.indexOf("//")!=-1?t:[i.libs.path,t].join("");u=t;var c=function(){if(e)for(r=0;r<e.length;r++)i.loadResource(e[r])};for(t.indexOf(".js")!=-1?(a=document.createElement("script"),a.setAttribute("type","text/javascript"),a.setAttribute("src",u),i.libs.async&&a.setAttribute("async","")):t.indexOf(".css")!=-1&&(a=document.createElement("link"),a.setAttribute("type","text/css"),a.setAttribute("rel","stylesheet"),a.setAttribute("href",u)),r=0;r<document.head.childNodes.length;r++)if(o=document.head.childNodes[r],s=!!o&&(o.src||o.href),l=!!o&&o.tagName,o&&s&&s.indexOf(t)!=-1){i.libs.reload&&document.head.removeChild(o),n=!0;break}for(r in i.libs.namespaces){var h=i.libs.namespaces[r],s=t.toLowerCase(),o=r.toLowerCase();if(s.indexOf(o)!=-1&&void 0!==window[h]){n=!0;break}}n&&!i.libs.reload||(a.addEventListener("load",c),document.head.appendChild(a),i.listenersToRemove||(i.listenersToRemove=[]),i.listenersToRemove.push({node:a,method:c,event:"load"}))},loadDependencies:function(){var t,e;if(i.libs.autoLoad)for(t=0;t<i.libs.resources.length;t++)if(i.libs.resources[t]instanceof Object)for(e in i.libs.resources[t])i.loadResource(e,i.libs.resources[t][e]);else i.loadResource(i.libs.resources[t])},pxToNumber:function(t,e){if(t||!e)return Number(String(t).replace("px",""))||0},numberToPx:function(t){return String(t)+"px"},cloneObject:function(t){var e,n,a,o,s;e=Array.isArray(t)?[]:{};for(a in t)n=t[a],o="object"===("undefined"==typeof n?"undefined":r(n)),s=n instanceof Date,e[a]=o&&!s?i.cloneObject(n):n;return e},deepMerge:function(t,e,r){var n,a,o=e instanceof Array?"array":"object";for(n in e)"array"==o&&isNaN(n)||(a=e[n],(void 0==t[n]||r)&&(a instanceof Array?t[n]=new Array:a instanceof Function?t[n]=function(){}:a instanceof Date?t[n]=new Date:a instanceof Object?t[n]=new Object:a instanceof Number?t[n]=new Number:a instanceof String&&(t[n]=new String)),(t instanceof Object||t instanceof Array)&&(a instanceof Object||a instanceof Array)&&!(a instanceof Function||a instanceof Date||i.isElement(a))&&"chart"!=n?i.deepMerge(t[n],a,r):t instanceof Array&&!r?t.push(a):t[n]=a);return t},isElement:function(t){return t instanceof Object&&t&&1===t.nodeType},isHashbanged:function(t){var e=String(t).replace(/\"/g,"");return"url"==e.slice(0,3)&&e.slice(e.indexOf("#")+1,e.length-1)},isPressed:function(t){return"mousemove"==t.type&&1===t.which||("touchmove"==t.type||1===t.buttons||1===t.button||1===t.which?i.drawing.buffer.isPressed=!0:i.drawing.buffer.isPressed=!1),i.drawing.buffer.isPressed},removeImage:function(t){if(t){if(i.config.fabric.forceRemoveImages)return!0;if(i.config.fabric.removeImages&&i.isTainted(t))return!0;if(i.setup.isIE&&(10==i.setup.IEversion||11==i.setup.IEversion)&&t.toLowerCase().indexOf(".svg")!=-1)return!0}return!1},isTainted:function(t){var e=String(window.location.origin||window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:""));if(t){if(e.indexOf(":\\")!=-1||t.indexOf(":\\")!=-1||e.indexOf("file://")!=-1||t.indexOf("file://")!=-1)return!0;if(t.indexOf("//")!=-1&&t.indexOf(e.replace(/.*:/,""))==-1)return!0}return!1},isSupported:function(){return!!i.config.enabled&&!(i.setup.isIE&&i.setup.IEversion<=9&&(!Array.prototype.indexOf||!document.head||i.config.fallback===!1))},getAngle:function(t,e,r,n){var i,a=r-t,o=n-e;return i=0==a?0==o?0:o>0?Math.PI/2:3*Math.PI/2:0==o?a>0?0:Math.PI:a<0?Math.atan(o/a)+Math.PI:o<0?Math.atan(o/a)+2*Math.PI:Math.atan(o/a),180*i/Math.PI},gatherAttribute:function(t,e,r,n){var a,n=n?n:0,r=r?r:3;return t&&(a=t.getAttribute(e),!a&&n<r)?i.gatherAttribute(t.parentNode,e,r,n+1):a},gatherClassName:function(t,e,r,n){var a,n=n?n:0,r=r?r:3;if(i.isElement(t)){if(a=(t.getAttribute("class")||"").split(" ").indexOf(e)!=-1,!a&&n<r)return i.gatherClassName(t.parentNode,e,r,n+1);a&&(a=t)}return a},gatherElements:function(t,e,r){var n,a;for(n=0;n<t.children.length;n++){var o=t.children[n];if("clipPath"==o.tagName){var s={},l=fabric.parseTransformAttribute(i.gatherAttribute(o,"transform"));for(a=0;a<o.childNodes.length;a++)o.childNodes[a].setAttribute("fill","transparent"),s={x:i.pxToNumber(o.childNodes[a].getAttribute("x")),y:i.pxToNumber(o.childNodes[a].getAttribute("y")),width:i.pxToNumber(o.childNodes[a].getAttribute("width")),height:i.pxToNumber(o.childNodes[a].getAttribute("height"))};t.clippings[o.id]={svg:o,bbox:s,transform:l}}else if("pattern"==o.tagName){var u={node:o,source:o.getAttribute("xlink:href"),width:Number(o.getAttribute("width")),height:Number(o.getAttribute("height")),repeat:"repeat",offsetX:0,offsetY:0};for(a=0;a<o.childNodes.length;a++)if("rect"==o.childNodes[a].tagName)u.fill=o.childNodes[a].getAttribute("fill");else if("image"==o.childNodes[a].tagName){var c=fabric.parseAttributes(o.childNodes[a],fabric.SHARED_ATTRIBUTES);c.transformMatrix&&(u.offsetX=c.transformMatrix[4],u.offsetY=c.transformMatrix[5])}i.removeImage(u.source)?t.patterns[o.id]=u.fill?u.fill:"transparent":t.patterns[u.node.id]=u}else if("image"==o.tagName)r.included++,fabric.Image.fromURL(o.getAttribute("xlink:href"),function(t){r.loaded++});else{var c=["fill","stroke"];for(a=0;a<c.length;a++){var h=c[a],g=o.getAttribute(h),p=i.getRGBA(g),d=i.isHashbanged(g);!g||p||d||(o.setAttribute(h,"none"),o.setAttribute(h+"-opacity","0"))}}}return t},getRGBA:function(t,e){return!("none"==t||"transparent"==t||i.isHashbanged(t)||(t=new fabric.Color(t),!t._source))&&(e?t:t.getSource())},gatherPosition:function(t,e){var r,n=i.drawing.buffer.position,a=fabric.util.invertTransform(i.setup.fabric.viewportTransform);return"touchmove"==t.type&&("touches"in t?t=t.touches[0]:"changedTouches"in t&&(t=t.changedTouches[0])),r=fabric.util.transformPoint(i.setup.fabric.getPointer(t,!0),a),1==e&&(n.x1=r.x,n.y1=r.y),n.x2=r.x,n.y2=r.y,n.xD=n.x1-n.x2<0?(n.x1-n.x2)*-1:n.x1-n.x2,n.yD=n.y1-n.y2<0?(n.y1-n.y2)*-1:n.y1-n.y2,n},modifyFabric:function(){fabric.ElementsParser.prototype.resolveGradient=function(t,e){var r=t.get(e);if(/^url\(/.test(r)){var n=r.slice(r.indexOf("#")+1,r.length-1);fabric.gradientDefs[this.svgUid][n]&&t.set(e,fabric.Gradient.fromElement(fabric.gradientDefs[this.svgUid][n],t))}},fabric.Text.fromElement=function(t,e){if(!t)return null;var r=fabric.parseAttributes(t,fabric.Text.ATTRIBUTE_NAMES);e=fabric.util.object.extend(e?fabric.util.object.clone(e):{},r),e.top=e.top||0,e.left=e.left||0,"dx"in r&&(e.left+=r.dx),"dy"in r&&(e.top+=r.dy),"fontSize"in e||(e.fontSize=fabric.Text.DEFAULT_SVG_FONT_SIZE),e.originX||(e.originX="left");var n="",i=[];if("textContent"in t)if(t.childNodes)for(var a=0;a<t.childNodes.length;a++)i.push(t.childNodes[a].textContent);else i.push(t.textContent);else"firstChild"in t&&null!==t.firstChild&&"data"in t.firstChild&&null!==t.firstChild.data&&i.push(t.firstChild.data);n=i.join("\n");var o=new fabric.Text(n,e),s=0;return"left"===o.originX&&(s=o.getWidth()/2),"right"===o.originX&&(s=-o.getWidth()/2),i.length>1?o.set({left:o.getLeft()+s,top:o.getTop()+o.fontSize*(i.length-1)*(.18+o._fontSizeFraction),textAlign:e.originX,lineHeight:i.length>1?.965:1.16}):o.set({left:o.getLeft()+s,top:o.getTop()-o.getHeight()/2+o.fontSize*(.18+o._fontSizeFraction)}),o}},capture:function(t,e){var r,n=i.deepMerge(i.deepMerge({},i.config.fabric),t||{}),a=[],o={x:0,y:0,pX:0,pY:0,lX:0,lY:0,width:i.setup.chart.divRealWidth,height:i.setup.chart.divRealHeight},s={loaded:0,included:0},l={items:[],width:0,height:0,maxWidth:0,maxHeight:0};i.modifyFabric(),i.handleCallback(n.beforeCapture,n);var u=i.setup.chart.containerDiv.getElementsByTagName("svg");for(r=0;r<u.length;r++){var c={svg:u[r],parent:u[r].parentNode,children:u[r].getElementsByTagName("*"),offset:{x:0,y:0},patterns:{},clippings:{},has:{legend:!1,panel:!1,scrollbar:!1}};c.has.legend=i.gatherClassName(c.parent,i.setup.chart.classNamePrefix+"-legend-div",1),c.has.panel=i.gatherClassName(c.parent,i.setup.chart.classNamePrefix+"-stock-panel-div"),c.has.scrollbar=i.gatherClassName(c.parent,i.setup.chart.classNamePrefix+"-scrollbar-chart-div"),c=i.gatherElements(c,n,s),a.push(c)}if(i.config.legend){if("stock"==i.setup.chart.type)for(r=0;r<i.setup.chart.panels.length;r++)i.setup.chart.panels[r].stockLegend&&i.setup.chart.panels[r].stockLegend.divId&&l.items.push(i.setup.chart.panels[r].stockLegend);else i.setup.chart.legend&&i.setup.chart.legend.divId&&l.items.push(i.setup.chart.legend);for(r=0;r<l.items.length;r++){var h=l.items[r],c={svg:h.container.container,parent:h.container.container.parentNode,children:h.container.container.getElementsByTagName("*"),offset:{x:0,y:0},legend:{id:r,type:["top","left"].indexOf(i.config.legend.position)!=-1?"unshift":"push",position:i.config.legend.position,width:i.config.legend.width?i.config.legend.width:h.container.div.offsetWidth,height:i.config.legend.height?i.config.legend.height:h.container.div.offsetHeight},patterns:{},clippings:{},has:{legend:!1,panel:!1,scrollbar:!1}};l.width+=c.legend.width,l.height+=c.legend.height,l.maxWidth=c.legend.width>l.maxWidth?c.legend.width:l.maxWidth,l.maxHeight=c.legend.height>l.maxHeight?c.legend.height:l.maxHeight,c=i.gatherElements(c,n,s),a[c.legend.type](c)}["top","bottom"].indexOf(i.config.legend.position)!=-1?(o.width=l.maxWidth>o.width?l.maxWidth:o.width,o.height+=l.height):["left","right"].indexOf(i.config.legend.position)!=-1?(o.width+=l.maxWidth,o.height=l.height>o.height?l.height:o.height):(o.height+=l.height,o.width+=l.maxWidth)}if(i.drawing.enabled=n.drawing.enabled="draw"==n.action,i.drawing.buffer.enabled=i.drawing.enabled,i.setup.wrapper=document.createElement("div"),i.setup.wrapper.setAttribute("class",i.setup.chart.classNamePrefix+"-export-canvas"),i.setup.chart.containerDiv.appendChild(i.setup.wrapper),"stock"==i.setup.chart.type){var g={top:0,right:0,bottom:0,left:0};i.setup.chart.leftContainer&&(o.width-=i.setup.chart.leftContainer.offsetWidth,g.left=i.setup.chart.leftContainer.offsetWidth+2*i.setup.chart.panelsSettings.panelSpacing),i.setup.chart.rightContainer&&(o.width-=i.setup.chart.rightContainer.offsetWidth,g.right=i.setup.chart.rightContainer.offsetWidth+2*i.setup.chart.panelsSettings.panelSpacing),i.setup.chart.periodSelector&&["top","bottom"].indexOf(i.setup.chart.periodSelector.position)!=-1&&(o.height-=i.setup.chart.periodSelector.offsetHeight+i.setup.chart.panelsSettings.panelSpacing,g[i.setup.chart.periodSelector.position]+=i.setup.chart.periodSelector.offsetHeight+i.setup.chart.panelsSettings.panelSpacing),i.setup.chart.dataSetSelector&&["top","bottom"].indexOf(i.setup.chart.dataSetSelector.position)!=-1&&(o.height-=i.setup.chart.dataSetSelector.offsetHeight,g[i.setup.chart.dataSetSelector.position]+=i.setup.chart.dataSetSelector.offsetHeight),i.setup.wrapper.style.paddingTop=i.numberToPx(g.top),i.setup.wrapper.style.paddingRight=i.numberToPx(g.right),i.setup.wrapper.style.paddingBottom=i.numberToPx(g.bottom),i.setup.wrapper.style.paddingLeft=i.numberToPx(g.left)}for(i.setup.canvas=document.createElement("canvas"),i.setup.wrapper.appendChild(i.setup.canvas),i.setup.fabric=new fabric.Canvas(i.setup.canvas,i.deepMerge({width:o.width,height:o.height,isDrawingMode:!0},n)),i.deepMerge(i.setup.fabric,n),i.deepMerge(i.setup.fabric.freeDrawingBrush,n.drawing),i.deepMerge(i.drawing,n.drawing),i.drawing.handler.change(n.drawing),i.setup.fabric.on("mouse:down",function(t){i.gatherPosition(t.e,1);i.drawing.buffer.pressedTS=Number(new Date),i.isPressed(t.e)}),i.setup.fabric.on("mouse:move",function(t){var e=i.gatherPosition(t.e,2);if(i.isPressed(t.e),i.drawing.buffer.isPressed&&!i.drawing.buffer.line&&!i.drawing.buffer.isSelected&&"pencil"!=i.drawing.mode&&(e.xD>5||e.xD>5)&&(i.drawing.buffer.hasLine=!0,i.setup.fabric.isDrawingMode=!1,i.setup.fabric._onMouseUpInDrawingMode(t),i.drawing.buffer.line=i.drawing.handler.line({x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,arrow:"line"!=i.drawing.mode&&i.drawing.arrow,action:"config"})),i.drawing.buffer.line){var n,a,o,s=i.drawing.buffer.line;for(s.x2=e.x2,s.y2=e.y2,r=0;r<s.group.length;r++)n=s.group[r],n instanceof fabric.Line?n.set({x2:s.x2,y2:s.y2}):n instanceof fabric.Triangle&&(s.angle=i.getAngle(s.x1,s.y1,s.x2,s.y2)+90,"start"==s.arrow?(a=s.y1+s.width/2,o=s.x1+s.width/2):"middle"==s.arrow?(a=s.y2+s.width/2-(s.y2-s.y1)/2,o=s.x2+s.width/2-(s.x2-s.x1)/2):(a=s.y2+s.width/2,o=s.x2+s.width/2),n.set({top:a,left:o,angle:s.angle}));i.setup.fabric.renderAll()}}),i.setup.fabric.on("mouse:up",function(t){if(Number(new Date)-i.drawing.buffer.pressedTS<200){var e=i.setup.fabric.findTarget(t.e);e&&e.selectable&&i.setup.fabric.setActiveObject(e)}if(i.drawing.buffer.line){for(r=0;r<i.drawing.buffer.line.group.length;r++)i.drawing.buffer.line.group[r].remove();delete i.drawing.buffer.line.action,delete i.drawing.buffer.line.group,i.drawing.handler.line(i.drawing.buffer.line)}i.drawing.buffer.line=!1,i.drawing.buffer.hasLine=!1,i.drawing.buffer.isPressed=!1}),i.setup.fabric.on("object:selected",function(t){i.drawing.buffer.isSelected=!0,i.drawing.buffer.target=t.target,i.setup.fabric.isDrawingMode=!1}),i.setup.fabric.on("selection:cleared",function(t){i.drawing.buffer.onMouseDown=i.setup.fabric.freeDrawingBrush.onMouseDown,i.drawing.buffer.target=!1,i.drawing.buffer.isSelected&&(i.setup.fabric._isCurrentlyDrawing=!1,i.setup.fabric.freeDrawingBrush.onMouseDown=function(){}),setTimeout(function(){i.drawing.buffer.isSelected=!1,i.setup.fabric.isDrawingMode=!0,i.setup.fabric.freeDrawingBrush.onMouseDown=i.drawing.buffer.onMouseDown},10)}),i.setup.fabric.on("path:created",function(t){var e=t.path;if(Number(new Date)-i.drawing.buffer.pressedTS<200||i.drawing.buffer.hasLine)return i.setup.fabric.remove(e),void i.setup.fabric.renderAll()}),i.setup.fabric.on("object:added",function(t){var e=t.target,r=i.deepMerge(e.saveState().originalState,{cfg:{color:i.drawing.color,width:i.drawing.width,opacity:i.drawing.opacity,fontSize:i.drawing.fontSize}});return Number(new Date)-i.drawing.buffer.pressedTS<200&&!e.noUndo?(i.setup.fabric.remove(e),void i.setup.fabric.renderAll()):(r=JSON.stringify(r),e.recentState=r,!e.selectable||e.known||e.noUndo||(e.isAnnotation=!0,i.drawing.undos.push({action:"added",target:e,state:r}),i.drawing.undos.push({action:"addified",target:e,state:r}),i.drawing.redos=[]),e.known=!0,void(i.setup.fabric.isDrawingMode=!0))}),i.setup.fabric.on("object:modified",function(t){var e=t.target,r=JSON.parse(e.recentState),n=i.deepMerge(e.saveState().originalState,{cfg:r.cfg});n=JSON.stringify(n),e.recentState=n,i.drawing.undos.push({action:"modified",target:e,state:n}),i.drawing.redos=[]}),i.setup.fabric.on("text:changed",function(t){var e=t.target;clearTimeout(e.timer),e.timer=setTimeout(function(){var t=JSON.stringify(e.saveState().originalState);e.recentState=t,i.drawing.redos=[],i.drawing.undos.push({action:"modified",target:e,state:t})},250)}),i.drawing.enabled?(i.setup.wrapper.setAttribute("class",i.setup.chart.classNamePrefix+"-export-canvas active"),i.setup.wrapper.style.backgroundColor=n.backgroundColor,i.setup.wrapper.style.display="block"):(i.setup.wrapper.setAttribute("class",i.setup.chart.classNamePrefix+"-export-canvas"),i.setup.wrapper.style.display="none"),r=0;r<a.length;r++){var c=a[r];"stock"==i.setup.chart.type&&i.setup.chart.legendSettings.position?["top","bottom"].indexOf(i.setup.chart.legendSettings.position)!=-1?c.parent.style.top&&c.parent.style.left?(c.offset.y=i.pxToNumber(c.parent.style.top),c.offset.x=i.pxToNumber(c.parent.style.left)):(c.offset.x=o.x,c.offset.y=o.y,o.y+=i.pxToNumber(c.parent.style.height),c.has.panel?(o.pY=i.pxToNumber(c.has.panel.style.marginTop),c.offset.y+=o.pY):c.has.scrollbar&&(c.offset.y+=o.pY)):["left","right"].indexOf(i.setup.chart.legendSettings.position)!=-1&&(c.offset.y=i.pxToNumber(c.parent.style.top)+o.pY,c.offset.x=i.pxToNumber(c.parent.style.left)+o.pX,c.has.legend?o.pY+=i.pxToNumber(c.has.panel.style.height)+i.setup.chart.panelsSettings.panelSpacing:c.has.scrollbar&&(c.offset.y-=i.setup.chart.panelsSettings.panelSpacing)):("absolute"==c.parent.style.position?(c.offset.absolute=!0,c.offset.top=i.pxToNumber(c.parent.style.top),c.offset.right=i.pxToNumber(c.parent.style.right,!0),c.offset.bottom=i.pxToNumber(c.parent.style.bottom,!0),c.offset.left=i.pxToNumber(c.parent.style.left),c.offset.width=i.pxToNumber(c.parent.style.width),c.offset.height=i.pxToNumber(c.parent.style.height)):c.parent.style.top&&c.parent.style.left?(c.offset.y=i.pxToNumber(c.parent.style.top),c.offset.x=i.pxToNumber(c.parent.style.left)):c.legend?("left"==c.legend.position?o.x=l.maxWidth:"right"==c.legend.position?c.offset.x=o.width-l.maxWidth:"top"==c.legend.position?o.y+=c.legend.height:"bottom"==c.legend.position&&(c.offset.y=o.height-l.height),c.offset.y+=o.lY,o.lY+=c.legend.height):(c.offset.x=o.x,c.offset.y=o.y+o.pY,o.y+=i.pxToNumber(c.parent.style.height)),c.has.legend&&c.has.panel&&c.has.panel.style.marginTop?(o.y+=i.pxToNumber(c.has.panel.style.marginTop),c.offset.y+=i.pxToNumber(c.has.panel.style.marginTop)):i.setup.chart.legend&&["left","right"].indexOf(i.setup.chart.legend.position)!=-1&&(c.offset.y=i.pxToNumber(c.parent.style.top),c.offset.x=i.pxToNumber(c.parent.style.left))),fabric.parseSVGDocument(c.svg,function(t){return function(r,l){var u,c=fabric.util.groupSVGElements(r,l),h=[],g={selectable:!1,isCoreElement:!0};for(t.offset.absolute?(void 0!==t.offset.bottom?g.top=o.height-t.offset.height-t.offset.bottom:g.top=t.offset.top,void 0!==t.offset.right?g.left=o.width-t.offset.width-t.offset.right:g.left=t.offset.left):(g.top=t.offset.y,g.left=t.offset.x),u=0;u<c.paths.length;u++){var p=null;if(c.paths[u]){if(i.removeImage(c.paths[u]["xlink:href"]))continue;if(c.paths[u].fill instanceof Object)"radial"==c.paths[u].fill.type&&["pie","gauge"].indexOf(i.setup.chart.type)==-1&&(c.paths[u].fill.coords.r2=c.paths[u].fill.coords.r1*-1,c.paths[u].fill.coords.r1=0,c.paths[u].set({opacity:c.paths[u].fillOpacity}));else if((p=i.isHashbanged(c.paths[u].fill))&&t.patterns&&t.patterns[p]){var d=t.patterns[p];s.included++,fabric.Image.fromURL(d.source,function(t,e){return function(r){s.loaded++,r.set({top:t.offsetY,left:t.offsetX,width:t.width,height:t.height}),i.setup.fabric._isRetinaScaling()&&r.set({top:t.offsetY/2,left:t.offsetX/2,scaleX:.5,scaleY:.5});var n=new fabric.StaticCanvas(void 0,{backgroundColor:t.fill,width:r.getWidth(),height:r.getHeight()});n.add(r);var a=new fabric.Pattern({source:n.getElement(),offsetX:c.paths[e].width/2,offsetY:c.paths[e].height/2,repeat:"repeat"});c.paths[e].set({fill:a,opacity:c.paths[e].fillOpacity})}}(d,u))}(p=i.isHashbanged(c.paths[u].clipPath))&&t.clippings&&t.clippings[p]&&(!function(e,r){var n=c.paths[e].toSVG;c.paths[e].toSVG=function(e){return n.apply(this,[function(n){return e(n,t.clippings[r])}])}}(u,p),c.paths[u].set({clipTo:function(e,r){return function(e){var n=t.clippings[r],a=this.transformMatrix||[1,0,0,1,0,0],o={top:n.bbox.y,left:n.bbox.x,width:n.bbox.width,height:n.bbox.height};"map"==i.setup.chart.type&&(o.top+=n.transform[5],o.left+=n.transform[4]),n.bbox.x&&a[4]&&n.bbox.y&&a[5]&&(o.top-=a[5],o.left-=a[4]),e.rect(o.left,o.top,o.width,o.height)}}(u,p)}))}h.push(c.paths[u])}if(c.paths=h,c.set(g),i.setup.fabric.add(c),t.svg.parentNode&&t.svg.parentNode.getElementsByTagName){var f=t.svg.parentNode.getElementsByClassName(i.setup.chart.classNamePrefix+"-balloon-div");for(u=0;u<f.length;u++)if(n.balloonFunction instanceof Function)n.balloonFunction.apply(i,[f[u],t]);else{var A=f[u],C=fabric.parseStyleAttribute(A),m=fabric.parseStyleAttribute(A.childNodes[0]),I=new fabric.Text(A.innerText||A.textContent||A.innerHTML,{selectable:!1,top:C.top+t.offset.y,left:C.left+t.offset.x,fill:m.color,fontSize:m.fontSize,fontFamily:m.fontFamily,textAlign:m["text-align"],isCoreElement:!0});i.setup.fabric.add(I)}}if(t.svg.nextSibling&&"A"==t.svg.nextSibling.tagName){var A=t.svg.nextSibling,C=fabric.parseStyleAttribute(A),I=new fabric.Text(A.innerText||A.textContent||A.innerHTML,{selectable:!1,top:C.top+t.offset.y,left:C.left+t.offset.x,fill:C.color,fontSize:C.fontSize,fontFamily:C.fontFamily,opacity:C.opacity,isCoreElement:!0});t.has.scrollbar||i.setup.fabric.add(I)}if(a.pop(),!a.length)var v=Number(new Date),y=setInterval(function(){var t=Number(new Date);(s.loaded==s.included||t-v>i.config.fabric.loadTimeout)&&(clearTimeout(y),i.handleBorder(n),i.handleCallback(n.afterCapture,n),i.setup.fabric.renderAll(),i.handleCallback(e,n))},AmCharts.updateRate)}}(c),function(t,e){var r,a=i.gatherAttribute(t,"class"),o=i.gatherAttribute(t,"visibility"),s=i.gatherAttribute(t,"clip-path");if(e.className=String(a),e.classList=String(a).split(" "),e.clipPath=s,e.svg=t,"hidden"==o)e.opacity=0;else{var l=["fill","stroke"];for(r=0;r<l.length;r++){var u=l[r],c=String(t.getAttribute(u)||"none"),h=Number(t.getAttribute(u+"-opacity")||"1"),g=i.getRGBA(c);g&&(g.pop(),g.push(h),e[u]="rgba("+g.join()+")",e[u+i.capitalize("opacity")]=h)}}i.handleCallback(n.reviver,e,t)})}},toCanvas:function(t,e){var r=i.deepMerge({},t||{}),n=i.setup.canvas;return i.handleCallback(e,n,r),n},toImage:function(t,e){var r=i.deepMerge({format:"png",quality:1,multiplier:i.config.multiplier},t||{}),n=r.data,a=document.createElement("img");return r.data||(n=r.lossless||"svg"==r.format?i.toSVG(i.deepMerge(r,{getBase64:!0})):i.setup.fabric.toDataURL(r)),a.setAttribute("src",n),i.handleCallback(e,a,r),a},toBlob:function(t,e){var r,n=i.deepMerge({data:"empty",type:"text/plain"},t||{}),a=/^data:.+;base64,(.*)$/.exec(n.data);return a&&(n.data=a[0],n.type=n.data.slice(5,n.data.indexOf(",")-7),n.data=i.toByteArray({data:n.data.slice(n.data.indexOf(",")+1,n.data.length)})),r=n.getByteArray?n.data:new Blob([n.data],{type:n.type}),i.handleCallback(e,r,n),r},toJPG:function(t,e){var r=i.deepMerge({format:"jpeg",quality:1,multiplier:i.config.multiplier},t||{});r.format=r.format.toLowerCase();var n=i.setup.fabric.toDataURL(r);return i.handleCallback(e,n,r),n},toPNG:function(t,e){var r=i.deepMerge({format:"png",quality:1,multiplier:i.config.multiplier},t||{}),n=i.setup.fabric.toDataURL(r);return i.handleCallback(e,n,r),n},toSVG:function(t,e){var r=[],n=i.deepMerge({compress:i.config.compress,reviver:function(t,e){var n=new RegExp(/\bstyle=(['"])(.*?)\1/),a=n.exec(t)[0].slice(7,-1),o=a.split(";"),s=[];for(i1=0;i1<o.length;i1++)if(o[i1]){var l=o[i1].replace(/\s/g,"").split(":"),u=l[0],c=l[1];if(["fill","stroke"].indexOf(u)!=-1)if(c=i.getRGBA(c,!0)){var h="#"+c.toHex(),g=c._source[3];s.push([u,h].join(":")),s.push([u+"-opacity",g].join(":"))}else s.push(o[i1]);else"opactiy"!=u&&s.push(o[i1])}if(t=t.replace(a,s.join(";")),e){var p=2,d=t.slice(-p);"/>"!=d&&(p=3,d=t.slice(-p));var f=t.slice(0,t.length-p),A=' clip-path="url(#'+e.svg.id+')" ',C=(new XMLSerializer).serializeToString(e.svg);t=f+A+d,r.push(C)}return t}},t||{}),a=i.setup.fabric.toSVG(n,n.reviver);if(r.length){var o=a.slice(0,a.length-6),s=a.slice(-6);a=o+r.join("")+s}return n.compress&&(a=a.replace(/[\t\r\n]+/g,"")),n.getBase64&&(a="data:image/svg+xml;base64,"+btoa(a)),i.handleCallback(e,a,n),a},toPDF:function(t,e){function r(t){if("number"==typeof t||t instanceof Number)t={left:t,right:t,top:t,bottom:t};else if(t instanceof Array)if(2===t.length)t={left:t[0],top:t[1],right:t[0],bottom:t[1]};else{if(4!==t.length)throw"Invalid pageMargins definition";t={left:t[0],top:t[1],right:t[2],bottom:t[3]}}else t={left:i.defaults.pdfMake.pageMargins,top:i.defaults.pdfMake.pageMargins,right:i.defaults.pdfMake.pageMargins,bottom:i.defaults.pdfMake.pageMargins};return t}function n(t,e){var r=i.defaults.pdfMake.pageSizes[String(t).toUpperCase()].slice();if(!r)throw new Error('The given pageSize "'+t+'" does not exist!');return"landscape"==e&&r.reverse(),r}var a=i.deepMerge(i.deepMerge({multiplier:i.config.multiplier||2,pageOrigin:void 0===i.config.pageOrigin},i.config.pdfMake),t||{},!0),o=new pdfMake.createPdf(a);if(a.images.reference=i.toPNG(a),!a.content){var s=[],l=n(a.pageSize,a.pageOrientation),u=r(a.pageMargins);l[0]-=u.left+u.right,l[1]-=u.top+u.bottom,a.pageOrigin&&(s.push(i.i18l("label.saved.from")),s.push(window.location.href),l[1]-=28.128),s.push({image:"reference",fit:l}),a.content=s}return e&&o.getDataUrl(function(t){return function(e){t.apply(i,arguments)}}(e)),o},toPRINT:function(t,e){var r,n=i.deepMerge({delay:1,lossless:!1},t||{}),a=i.toImage(n),o=[],s=document.body.childNodes,l=document.documentElement.scrollTop||document.body.scrollTop;for(a.setAttribute("style","width: 100%; max-height: 100%;"),r=0;r<s.length;r++)i.isElement(s[r])&&(o[r]=s[r].style.display,s[r].style.display="none");return document.body.appendChild(a),window.print(),setTimeout(function(){for(r=0;r<s.length;r++)i.isElement(s[r])&&(s[r].style.display=o[r]);document.body.removeChild(a),document.documentElement.scrollTop=document.body.scrollTop=l,i.handleCallback(e,a,n)},n.delay),a},toJSON:function(t,e){var r=i.deepMerge({dateFormat:i.config.dateFormat||"dateObject"},t||{},!0),n={};return r.data=void 0!==r.data?r.data:i.getChartData(r),n=JSON.stringify(r.data,void 0,"\t"),i.handleCallback(e,n,r),n},toCSV:function(t,e){var r,n=i.deepMerge({delimiter:",",quotes:!0,escape:!0,withHeader:!0},t||{},!0),a=[],o="";a=i.toArray(n);for(r in a)isNaN(r)||(o+=a[r].join(n.delimiter)+"\n");return i.handleCallback(e,o,n),o},toXLSX:function(t,e){function r(t,e){e&&(t+=1462);var r=Date.parse(t),n=60*t.getTimezoneOffset()*1e3;return(r-n-new Date(Date.UTC(1899,11,30)))/864e5}function n(t,e){for(var n={},i={s:{c:1e7,r:1e7},e:{c:0,r:0}},a=0;a!=t.length;++a)for(var o=0;o!=t[a].length;++o){i.s.r>a&&(i.s.r=a),i.s.c>o&&(i.s.c=o),i.e.r<a&&(i.e.r=a),i.e.c<o&&(i.e.c=o);var s={v:t[a][o]};if(null!=s.v){var l=XLSX.utils.encode_cell({c:o,r:a});"number"==typeof s.v?s.t="n":"boolean"==typeof s.v?s.t="b":s.v instanceof Date?(s.t="n",s.z=XLSX.SSF._table[14],s.v=r(s.v)):s.t="s",n[l]=s}}return i.s.c<1e7&&(n["!ref"]=XLSX.utils.encode_range(i)),n}var a=i.deepMerge({name:"amCharts",dateFormat:i.config.dateFormat||"dateObject",withHeader:!0,stringify:!1},t||{},!0),o=[],s="",l={SheetNames:[],Sheets:{}};return o=i.toArray(a),l.SheetNames.push(a.name),l.Sheets[a.name]=n(o),s=XLSX.write(l,{bookType:"xlsx",bookSST:!0,type:"base64"}),
s="data:application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;base64,"+s,i.handleCallback(e,s,a),s},toArray:function(t,e){function r(t,e){var r=e.exportFields||Object.keys(e.dataFieldsMap);for(o=0;o<r.length;o++){var n=r[o],a=e.dataFieldsTitlesMap[n];u.push(a)}return h?i.handleCallback(h,t,e):t}function n(t){return"string"==typeof t&&(s.escape&&(t=t.replace('"','""')),s.quotes&&(t=['"',t,'"'].join(""))),t}var a,o,s=i.deepMerge({withHeader:!1,stringify:!0,escape:!1,quotes:!1},t||{},!0),l=[],u=[],c=[],h=i.config.processData;if(s.processData=r,s.data=void 0!==s.data?s.data:i.getChartData(s),s.withHeader){c=[];for(o in u)isNaN(o)||c.push(n(u[o]));l.push(c)}for(a in s.data)if(c=[],!isNaN(a)){for(o in u)if(!isNaN(o)){var o=u[o],g=s.data[a][o];g=null==g?"":s.stringify?String(g):g,c.push(n(g))}l.push(c)}return i.handleCallback(e,l,s),l},toByteArray:function(t,e){function r(t){var e=t.charCodeAt(0);return e===s?62:e===l?63:e<u?-1:e<u+10?e-u+26+26:e<h+26?e-h:e<c+26?e-c+26:void 0}function n(t){function e(t){u[h++]=t}var n,i,a,s,l,u;if(t.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var c=t.length;l="="===t.charAt(c-2)?2:"="===t.charAt(c-1)?1:0,u=new o(3*t.length/4-l),a=l>0?t.length-4:t.length;var h=0;for(n=0,i=0;n<a;n+=4,i+=3)s=r(t.charAt(n))<<18|r(t.charAt(n+1))<<12|r(t.charAt(n+2))<<6|r(t.charAt(n+3)),e((16711680&s)>>16),e((65280&s)>>8),e(255&s);return 2===l?(s=r(t.charAt(n))<<2|r(t.charAt(n+1))>>4,e(255&s)):1===l&&(s=r(t.charAt(n))<<10|r(t.charAt(n+1))<<4|r(t.charAt(n+2))>>2,e(s>>8&255),e(255&s)),u}var a=i.deepMerge({},t||{}),o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="+".charCodeAt(0),l="/".charCodeAt(0),u="0".charCodeAt(0),c="a".charCodeAt(0),h="A".charCodeAt(0),g=n(a.data);return i.handleCallback(e,g,a),g},handleCallback:function(t){var e,r=Array();if(t&&t instanceof Function){for(e=0;e<arguments.length;e++)e>0&&r.push(arguments[e]);return t.apply(i,r)}},handleBorder:function(t){if(i.config.border instanceof Object){var e=i.deepMerge(i.defaults.fabric.border,t.border||{},!0),r=new fabric.Rect;e.width=i.setup.fabric.width-e.strokeWidth,e.height=i.setup.fabric.height-e.strokeWidth,r.set(e),i.setup.fabric.add(r)}},handleDropbox:function(t){if(i.drawing.enabled)if(t.preventDefault(),t.stopPropagation(),"dragover"==t.type)i.setup.wrapper.setAttribute("class",i.setup.chart.classNamePrefix+"-export-canvas active dropbox");else if(i.setup.wrapper.setAttribute("class",i.setup.chart.classNamePrefix+"-export-canvas active"),"drop"==t.type&&t.dataTransfer.files.length)for(var e=0;e<t.dataTransfer.files.length;e++){var r=new FileReader;r.onloadend=function(e){return function(){i.drawing.handler.add({url:r.result,top:t.layerY-10*e,left:t.layerX-10*e})}}(e),r.readAsDataURL(t.dataTransfer.files[e])}},handleReady:function(t){var e=this,r=Number(new Date);e.handleCallback(t,"data",!1);for(filename in e.libs.namespaces){var n=e.libs.namespaces[filename];!function(n){var i=setInterval(function(){var a=Number(new Date);(a-r>e.libs.loadTimeout||n in window)&&(clearTimeout(i),e.handleCallback(t,n,a-r>e.libs.loadTimeout))},AmCharts.updateRate)}(n)}},getChartData:function(t){function e(t,e,n){function a(t,e){return l.dataFields.indexOf(t)!=-1?a([t,".",e].join("")):t}t&&l.exportTitles&&"gantt"!=i.setup.chart.type&&(r=a(t,n),l.dataFieldsMap[r]=t,l.dataFields.push(r),l.titles[r]=e||r)}var r,n,a,o,s,l=i.deepMerge({data:[],titles:{},dateFields:[],dataFields:[],dataFieldsMap:{},exportTitles:i.config.exportTitles,exportFields:i.config.exportFields,exportSelection:i.config.exportSelection,columnNames:i.config.columnNames},t||{},!0),u=["valueField","openField","closeField","highField","lowField","xField","yField"];if(0==l.data.length)if("stock"==i.setup.chart.type){for(l.data=i.cloneObject(i.setup.chart.mainDataSet.dataProvider),e(i.setup.chart.mainDataSet.categoryField),l.dateFields.push(i.setup.chart.mainDataSet.categoryField),n=0;n<i.setup.chart.mainDataSet.fieldMappings.length;n++){var c=i.setup.chart.mainDataSet.fieldMappings[n];for(a=0;a<i.setup.chart.panels.length;a++){var h=i.setup.chart.panels[a];for(o=0;o<h.stockGraphs.length;o++){var g=h.stockGraphs[o];for(i4=0;i4<u.length;i4++)g[u[i4]]==c.toField&&e(c.fromField,g.title,u[i4])}}}if(i.setup.chart.comparedGraphs.length){for(s=[],n=0;n<l.data.length;n++)s.push(l.data[n][i.setup.chart.mainDataSet.categoryField]);for(n=0;n<i.setup.chart.comparedGraphs.length;n++){var g=i.setup.chart.comparedGraphs[n];for(a=0;a<g.dataSet.dataProvider.length;a++){var p=g.dataSet.categoryField,d=g.dataSet.dataProvider[a][p],f=s.indexOf(d);if(f!=-1)for(o=0;o<g.dataSet.fieldMappings.length;o++){var c=g.dataSet.fieldMappings[o],r=g.dataSet.id+"_"+c.toField;l.data[f][r]=g.dataSet.dataProvider[a][c.fromField],l.titles[r]||e(r,g.dataSet.title)}}}}}else if("gantt"==i.setup.chart.type){e(i.setup.chart.categoryField),l.dateFields.push(i.setup.chart.categoryField);var A=i.setup.chart.segmentsField;for(n=0;n<i.setup.chart.dataProvider.length;n++){var C=i.setup.chart.dataProvider[n];if(C[A])for(a=0;a<C[A].length;a++)C[A][a][i.setup.chart.categoryField]=C[i.setup.chart.categoryField],l.data.push(C[A][a])}for(n=0;n<i.setup.chart.graphs.length;n++){var g=i.setup.chart.graphs[n];for(a=0;a<u.length;a++){var m=u[a],I=g[m];g.title;e(I,g.title,m)}}}else if(["pie","funnel"].indexOf(i.setup.chart.type)!=-1)l.data=i.setup.chart.dataProvider,e(i.setup.chart.titleField),l.dateFields.push(i.setup.chart.titleField),e(i.setup.chart.valueField);else if("map"!=i.setup.chart.type)for(l.data=i.setup.chart.dataProvider,i.setup.chart.categoryAxis&&(e(i.setup.chart.categoryField,i.setup.chart.categoryAxis.title),i.setup.chart.categoryAxis.parseDates!==!1&&l.dateFields.push(i.setup.chart.categoryField)),n=0;n<i.setup.chart.graphs.length;n++){var g=i.setup.chart.graphs[n];for(a=0;a<u.length;a++){var m=u[a],I=g[m];e(I,g.title,m)}}return i.processData(l)},getAnnotations:function(t,e){var r,n=i.deepMerge({},t||{},!0),a=[];for(r=0;r<i.setup.fabric._objects.length;r++)if(!i.setup.fabric._objects[r].isCoreElement){var o=i.setup.fabric._objects[r].toJSON();i.handleCallback(n.reviver,o,r),a.push(o)}return i.handleCallback(e,a),a},setAnnotations:function(t,e){var r=i.deepMerge({data:[]},t||{},!0);return fabric.util.enlivenObjects(r.data,function(t){t.forEach(function(t,e){i.handleCallback(r.reviver,t,e),i.setup.fabric.add(t)}),i.handleCallback(e,r)}),r.data},processData:function(e){var r,n,a=i.deepMerge({data:[],titles:{},dateFields:[],dataFields:[],dataFieldsMap:{},dataFieldsTitlesMap:{},dataDateFormat:i.setup.chart.dataDateFormat,dateFormat:i.config.dateFormat||i.setup.chart.dataDateFormat||"YYYY-MM-DD",exportTitles:i.config.exportTitles,exportFields:i.config.exportFields,exportSelection:i.config.exportSelection,columnNames:i.config.columnNames,processData:i.config.processData},e||{},!0);if(a.data.length){for(r=0;r<a.data.length;r++)for(n in a.data[r])a.dataFields.indexOf(n)==-1&&(a.dataFields.push(n),a.dataFieldsMap[n]=n);void 0!==a.exportFields&&(a.dataFields=a.exportFields.filter(function(t){return a.dataFields.indexOf(t)!=-1}));var o=[];for(r=0;r<a.data.length;r++){var s={},l=!1;for(n=0;n<a.dataFields.length;n++){var u=a.dataFields[n],c=a.dataFieldsMap[u],h=a.columnNames&&a.columnNames[u]||a.titles[u]||u,g=a.data[r][c];null==g&&(g=void 0),a.exportTitles&&"gantt"!=i.setup.chart.type&&h in s&&(h+=["( ",u," )"].join("")),a.dateFields.indexOf(c)!=-1&&(a.dataDateFormat&&(g instanceof String||"string"==typeof g)?g=AmCharts.stringToDate(g,a.dataDateFormat):a.dateFormat&&(g instanceof Number||"number"==typeof g)&&(g=new Date(g)),a.exportSelection&&(g instanceof Date?(g<t.startDate||g>t.endDate)&&(l=!0):(r<t.startIndex||r>t.endIndex)&&(l=!0)),a.dateFormat&&"dateObject"!=a.dateFormat&&g instanceof Date&&(g=AmCharts.formatDate(g,a.dateFormat))),a.dataFieldsTitlesMap[c]=h,s[h]=g}l||o.push(s)}a.data=o}return void 0!==a.processData&&(a.data=i.handleCallback(a.processData,a.data,a)),a.data},capitalize:function(t){return t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()},createMenu:function(e,r){function n(e,r){var o,s,l=document.createElement("ul");for(o=0;o<e.length;o++){var u="string"==typeof e[o]?{format:e[o]}:e[o],c=document.createElement("li"),h=document.createElement("a"),g=document.createElement("img"),p=document.createElement("span"),d=String(u.action?u.action:u.format).toLowerCase();if(u.format=String(u.format).toUpperCase(),i.config.formats[u.format]?u=i.deepMerge({label:u.icon?"":u.format,format:u.format,mimeType:i.config.formats[u.format].mimeType,extension:i.config.formats[u.format].extension,capture:i.config.formats[u.format].capture,action:i.config.action,fileName:i.config.fileName},u):u.label||(u.label=u.label?u.label:i.i18l("menu.label."+d)),(["CSV","JSON","XLSX"].indexOf(u.format)==-1||["map","gauge"].indexOf(i.setup.chart.type)==-1)&&(i.setup.hasBlob||"UNDEFINED"==u.format||!u.mimeType||"image"==u.mimeType.split("/")[0]||"text/plain"==u.mimeType)){if("draw"==u.action)i.config.fabric.drawing.enabled?(u.menu=u.menu?u.menu:i.config.fabric.drawing.menu,u.click=function(t){return function(){this.capture(t,function(){this.createMenu(t.menu)})}}(u)):u.menu=[];else if(!u.populated&&u.action&&u.action.indexOf("draw.")!=-1){var f=u.action.split(".")[1],A=u[f]||i.config.fabric.drawing[f]||[];for(u.menu=[],u.populated=!0,s=0;s<A.length;s++){var C={label:A[s]};if("shapes"==f){var m=A[s].indexOf("//")==-1,I=(m?i.config.path+"shapes/":"")+A[s];C.action="add",C.url=I,C.icon=I,C.ignore=m,C.class="export-drawing-shape"}else"colors"==f?(C.style="background-color: "+A[s],C.action="change",C.color=A[s],C.class="export-drawing-color"):"widths"==f?(C.action="change",C.width=A[s],C.label=document.createElement("span"),C.label.style.width=i.numberToPx(A[s]),C.label.style.height=i.numberToPx(A[s]),C.class="export-drawing-width"):"opacities"==f?(C.style="opacity: "+A[s],C.action="change",C.opacity=A[s],C.label=100*A[s]+"%",C.class="export-drawing-opacity"):"modes"==f&&(C.label=i.i18l("menu.label.draw.modes."+A[s]),C.click=function(t){return function(){i.drawing.mode=t}}(A[s]),C.class="export-drawing-mode");u.menu.push(C)}}else u.click||u.menu||u.items||(i.drawing.handler[d]instanceof Function?(u.action=d,u.click=function(t){return function(){this.drawing.handler[t.action](t)}}(u)):i.drawing.enabled?u.click=function(t){return function(){this.config.drawing.autoClose&&this.drawing.handler.done(),this["to"+t.format](t,function(e){"download"==t.action&&this.download(e,t.mimeType,[t.fileName,t.extension].join("."))})}}(u):"UNDEFINED"!=u.format&&(u.click=function(t){return function(){if(t.capture||"print"==t.action||"PRINT"==t.format)this.capture(t,function(){this.drawing.handler.done(),this["to"+t.format](t,function(e){"download"==t.action&&this.download(e,t.mimeType,[t.fileName,t.extension].join("."))})});else{if(!this["to"+t.format])throw new Error("Invalid format. Could not determine output type.");this["to"+t.format](t,function(e){this.download(e,t.mimeType,[t.fileName,t.extension].join("."))})}}}(u)));(void 0===u.menu||u.menu.length)&&(h.setAttribute("href","#"),h.addEventListener("click",function(t,e){return function(r){r.preventDefault();var n=[r,e];return("draw"==e.action||"PRINT"==e.format||"UNDEFINED"!=e.format&&e.capture)&&!i.drawing.enabled&&(e.delay=e.delay?e.delay:i.config.delay,e.delay)?void i.delay(e,t):void t.apply(i,n)}}(u.click||function(t){t.preventDefault()},u)),i.setup.hasTouch&&c.classList&&h.addEventListener("click",function(t){return function(e){function r(t){var e=t.parentNode.parentNode,r=e.classList;return!("LI"!=e.tagName||!r.contains("active"))}function n(t){var e=t.parentNode.children;for(o=0;o<e.length;o++){var r=e[o],n=r.classList;if(r!==t&&n.contains("active"))return n.remove("active"),!0}return!1}function s(t){return t.getElementsByTagName("ul").length>0}function l(t){return t.classList.contains("export-main")||t.classList.contains("export-drawing")}e.preventDefault();var u=t.elements.li,c=r(u),h=(n(u),s(u));if(!l(u)&&h||i.setup.menu.classList.toggle("active"),!c||!h)for(;a.length;){var g=a.pop(),p=l(g),d=g!==u;p?h||g.classList.remove("active"):d&&g.classList.remove("active")}a.push(u),h&&u.classList.toggle("active")}}(u)),c.appendChild(h),i.isElement(u.label)?p.appendChild(u.label):p.innerHTML=u.label,u.class&&(c.className=u.class),u.style&&c.setAttribute("style",u.style),u.icon&&(g.setAttribute("src",(u.ignore||u.icon.slice(0,10).indexOf("//")!=-1?"":t.pathToImages)+u.icon),h.appendChild(g)),u.label&&h.appendChild(p),u.title&&h.setAttribute("title",u.title),i.config.menuReviver&&(c=i.config.menuReviver.apply(i,[u,c])),u.elements={li:c,a:h,img:g,span:p},(u.menu||u.items)&&"draw"!=u.action?n(u.menu||u.items,c).childNodes.length&&l.appendChild(c):l.appendChild(c))}}return l.childNodes.length&&r.appendChild(l),l}var a=[];return r||("string"==typeof i.config.divId?i.config.divId=r=document.getElementById(i.config.divId):r=i.isElement(i.config.divId)?i.config.divId:i.setup.chart.containerDiv),i.isElement(i.setup.menu)?i.setup.menu.innerHTML="":i.setup.menu=document.createElement("div"),i.setup.menu.setAttribute("class",i.setup.chart.classNamePrefix+"-export-menu "+i.setup.chart.classNamePrefix+"-export-menu-"+i.config.position+" amExportButton"),i.config.menuWalker&&(n=i.config.menuWalker),n.apply(this,[e,i.setup.menu]),i.setup.menu.childNodes.length&&r.appendChild(i.setup.menu),i.setup.menu},delay:function(t,e){var r,n,a=i.deepMerge({delay:3,precision:2},t||{}),o=Number(new Date),s=i.createMenu([{label:i.i18l("capturing.delayed.menu.label").replace("{{duration}}",AmCharts.toFixed(a.delay,a.precision)),title:i.i18l("capturing.delayed.menu.title"),class:"export-delayed-capturing",click:function(){clearTimeout(r),clearTimeout(n),i.createMenu(i.config.menu)}}]),l=s.getElementsByTagName("a")[0];r=setInterval(function(){var t=a.delay-(Number(new Date)-o)/1e3;t<=0?(clearTimeout(r),"draw"!=a.action&&i.createMenu(i.config.menu)):l&&(l.innerHTML=i.i18l("capturing.delayed.menu.label").replace("{{duration}}",AmCharts.toFixed(t,2)))},AmCharts.updateRate),n=setTimeout(function(){e.apply(i,arguments)},1e3*a.delay)},migrateSetup:function(t){function e(t){var n;for(n in t){var i=t[n];"export"==n.slice(0,6)&&i?r.menu.push(n.slice(6)):"userCFG"==n?e(i):"menuItems"==n?r.menu=i:"libs"==n?r.libs=i:"string"==typeof n&&(r[n]=i)}}var r={enabled:!0,migrated:!0,libs:{autoLoad:!0},menu:[]};return e(t),r},clear:function(){i.setup=void 0,i.docListener&&document.removeEventListener("keydown",i.docListener);var t=i.listenersToRemove;if(t)for(var e=0;e<t.length;e++){var r=t[e];r.node.removeEventListener(r.event,r.method)}i.listenersToRemove=[]},loadListeners:function(){function t(t){t&&(t.set({top:t.top+10,left:t.left+10}),i.setup.fabric.add(t))}i.config.keyListener&&"attached"!=i.config.keyListener&&(i.docListener=function(e){var r=i.drawing.buffer.target;8!=e.keyCode&&46!=e.keyCode||!r?27==e.keyCode&&i.drawing.enabled?(e.preventDefault(),i.drawing.handler.done()):67==e.keyCode&&(e.metaKey||e.ctrlKey)&&r?i.drawing.buffer.copy=r:88==e.keyCode&&(e.metaKey||e.ctrlKey)&&r?(i.drawing.buffer.copy=r,i.setup.fabric.remove(r)):86==e.keyCode&&(e.metaKey||e.ctrlKey)?i.drawing.buffer.copy&&t(i.drawing.buffer.copy.clone(t)):90==e.keyCode&&(e.metaKey||e.ctrlKey)&&(e.preventDefault(),e.shiftKey?i.drawing.handler.redo():i.drawing.handler.undo()):(e.preventDefault(),i.setup.fabric.remove(r))},i.config.keyListener="attached",document.addEventListener("keydown",i.docListener)),i.config.fileListener&&(i.setup.chart.containerDiv.addEventListener("dragover",i.handleDropbox),i.setup.chart.containerDiv.addEventListener("dragleave",i.handleDropbox),i.setup.chart.containerDiv.addEventListener("drop",i.handleDropbox))},init:function(){clearTimeout(n),n=setInterval(function(){i.setup.chart.containerDiv&&(clearTimeout(n),i.config.enabled&&(i.setup.chart.AmExport=i,i.config.overflow&&(i.setup.chart.div.style.overflow="visible"),i.loadListeners(),i.createMenu(i.config.menu),i.handleReady(i.config.onReady)))},AmCharts.updateRate)},construct:function(){i.drawing.handler.cancel=i.drawing.handler.done;try{i.setup.hasBlob=!!new Blob}catch(t){}window.safari=window.safari?window.safari:{},i.defaults.fabric.drawing.fontSize=i.setup.chart.fontSize||11,i.config.drawing=i.deepMerge(i.defaults.fabric.drawing,i.config.drawing||{},!0),i.config.border&&(i.config.border=i.deepMerge(i.defaults.fabric.border,i.config.border||{},!0)),i.deepMerge(i.defaults.fabric,i.config,!0),i.deepMerge(i.defaults.fabric,i.config.fabric||{},!0),i.deepMerge(i.defaults.pdfMake,i.config,!0),i.deepMerge(i.defaults.pdfMake,i.config.pdfMake||{},!0),i.deepMerge(i.libs,i.config.libs||{},!0),i.config.drawing=i.defaults.fabric.drawing,i.config.fabric=i.defaults.fabric,i.config.pdfMake=i.defaults.pdfMake,i.config=i.deepMerge(i.defaults,i.config,!0),i.config.fabric.drawing.enabled&&void 0===i.config.fabric.drawing.menu&&(i.config.fabric.drawing.menu=[],i.deepMerge(i.config.fabric.drawing.menu,[{class:"export-drawing",menu:[{label:i.i18l("menu.label.draw.add"),menu:[{label:i.i18l("menu.label.draw.shapes"),action:"draw.shapes"},{label:i.i18l("menu.label.draw.text"),action:"text"}]},{label:i.i18l("menu.label.draw.change"),menu:[{label:i.i18l("menu.label.draw.modes"),action:"draw.modes"},{label:i.i18l("menu.label.draw.colors"),action:"draw.colors"},{label:i.i18l("menu.label.draw.widths"),action:"draw.widths"},{label:i.i18l("menu.label.draw.opacities"),action:"draw.opacities"},"UNDO","REDO"]},{label:i.i18l("menu.label.save.image"),menu:["PNG","JPG","SVG","PDF"]},"PRINT","CANCEL"]}])),void 0===i.config.menu&&(i.config.menu=[],i.deepMerge(i.config,{menu:[{class:"export-main",menu:[{label:i.i18l("menu.label.save.image"),menu:["PNG","JPG","SVG","PDF"]},{label:i.i18l("menu.label.save.data"),menu:["CSV","XLSX","JSON"]},{format:"PRINT",label:i.i18l("menu.label.print")}]}]})),i.libs.path||(i.libs.path=i.config.path+"libs/"),i.isSupported()&&(i.loadDependencies(i.libs.resources,i.libs.reload),i.setup.chart.addClassNames=!0,i.setup.chart[i.name]=i,i.init())}};if(e)i.config=e;else if(i.setup.chart[i.name])i.config=i.setup.chart[i.name];else{if(!i.setup.chart.amExport&&!i.setup.chart.exportConfig)return;i.config=i.migrateSetup(i.setup.chart.amExport||i.setup.chart.exportConfig)}return i.construct(),i.deepMerge(this,i)}}(),AmCharts.addInitHandler(function(t){new AmCharts.export(t)},["pie","serial","xy","funnel","radar","gauge","stock","map","gantt"])},function(t,e){"use strict";!function(){function t(t,e,r){return t*(r-e)+e}function e(t){var e=1-t;return e*=e*e*e,1-e}function r(t,e,r,n){this._object=t,this._key=e,this._from=r,this._to=n}function n(t,r,n,i,a){this._finished=!1,this._startTime=null,this._duration=t,this._easing=null==r?e:r,this._onComplete=n,this._tweens=i,this._chart=a}function i(){this._animating=!1,this._animations=[],this._onBeforeFrames=[],this._onAfterFrames=[];var t=this;this._raf=function(e){t._onFrame(e)}}function a(t){return t!==t}function o(t,e){for(var r=0;r<t.length;++r)e(t[r])}function s(t,e){for(var r=0;r<t.length;++r)if(t[r]===e)return;t.push(e)}function l(t,e,r){e[r]||(e[r]=!0,t.push(r))}function u(t,e,r,n){o(n,function(n){var i=r[n];null!=i&&l(t,e,i)})}function c(t,e,r){u(e,r,t,["alphaField","valueField"])}function h(t,e,r){c(t,e,r)}function g(t,e,r){c(t,e,r),u(e,r,t,["labelRadiusField"])}function p(t,e,r){u(e,r,t,["alphaField","bulletSizeField","closeField","dashLengthField","errorField","highField","lowField","openField","valueField"])}function d(t,e,r){p(t,e,r),u(e,r,t,["xField","yField"])}function f(t,e,r,n){o(t,function(t){n(t,e,r)})}function A(t,e,r){u(e,r,t,["widthField"])}function C(t){var e=[],r={};return"funnel"===t.type?h(t,e,r):"pie"===t.type?g(t,e,r):"serial"===t.type?(A(t.categoryAxis,e,r),f(t.graphs,e,r,p)):"radar"===t.type?f(t.graphs,e,r,p):"xy"===t.type&&f(t.graphs,e,r,d),e}function m(t){var e={};return"serial"!==t.type&&"radar"!==t.type&&"xy"!==t.type||o(t.valueAxes,function(t){if(null==e[t.id]){e[t.id]={minimum:t.minimum,maximum:t.maximum};var r,n=t.minRR,i=t.maxRR,a=i-n;r=0===a?Math.pow(10,Math.floor(Math.log(Math.abs(i))*Math.LOG10E))/10:Math.pow(10,Math.floor(Math.log(Math.abs(a))*Math.LOG10E))/10,null==t.minimum&&(t.minimum=Math.floor(n/r)*r-r),null==t.maximum&&(t.maximum=Math.ceil(i/r)*r+r)}}),e}function I(t,e){"serial"!==t.type&&"radar"!==t.type&&"xy"!==t.type||o(t.valueAxes,function(t){var r=e[t.id];null!=r&&(null==r.minimum&&delete t.minimum,null==r.maximum&&delete t.maximum)})}function v(t){return"funnel"===t.type||"pie"===t.type?t.titleField:"serial"===t.type||"radar"===t.type?t.categoryField:void 0}function y(t,e){var r=t[e];return null==r?null:(r=+r,a(r)?null:r)}function b(t,e){var r=t[e];return null==r?null:""+r}function x(t,e){var r={};return o(t,function(t){var n=b(t,e);null!=n&&(r[n]=t)}),r}function w(t,e,n,i){var a=[];return o(t,function(t){var s=b(t,e);if(null!=s&&s in n){var l=n[s];o(i,function(e){var n=y(l,e),i=y(t,e);null!=n&&null!=i&&a.push(new r(t,e,n,i))})}}),a}function N(t,e,n){for(var i=[],a=Math.min(t.length,e.length),s=0;s<a;++s){var l=t[s],u=e[s];o(n,function(t){var e=y(l,t),n=y(u,t);null!=e&&null!=n&&i.push(new r(u,t,e,n))})}return i}function S(t,e){if("xy"===t.type){var r=C(t);return N(t.dataProvider,e,r)}var n=v(t),r=C(t),i=x(t.dataProvider,n);return w(e,n,i,r)}function T(t,e){function r(){I(i,o),null!=e.complete&&e.complete()}var i=this,a=S(i,t),o=m(i);i.dataProvider=t;var s=new n(e.duration,e.easing,r,a,i);return O.animate(s),s}if("undefined"==typeof requestAnimationFrame)var E=1e3/60,k=function(t){setTimeout(function(){t((new Date).getTime())},E)};else var k=requestAnimationFrame;r.prototype.interpolate=function(e){this._object[this._key]=t(e,this._from,this._to)},n.prototype.cancel=function(){this._finished=!0,this._startTime=null,this._duration=null,this._easing=null,this._onComplete=null,this._tweens=null,this._chart=null},n.prototype._onFrame=function(t){if(this._finished)return!0;if(null===this._startTime)return this._startTime=t,!1;var e=t-this._startTime;return e<this._duration?(this._tick(e/this._duration),!1):(this._end(1),this.cancel(),!0)},n.prototype._tick=function(t){t=this._easing(t);for(var e=this._tweens,r=0;r<e.length;++r)e[r].interpolate(t);s(_,this._chart)},n.prototype._end=function(t){this._tick(t),this._onComplete()},i.prototype.animate=function(t){this._animations.push(t),this._animating||(this._animating=!0,k(this._raf))},i.prototype.onBeforeFrame=function(t){this._onBeforeFrames.push(t)},i.prototype.onAfterFrame=function(t){this._onAfterFrames.push(t)},i.prototype._onFrame=function(t){for(var e=this._onBeforeFrames,r=0;r<e.length;++r)e[r](t);for(var n=this._animations,r=0;r<n.length;++r){var i=n[r];i._onFrame(t)&&(n.splice(r,1),--r)}for(var a=this._onAfterFrames,r=0;r<a.length;++r)a[r](t);0===n.length?this._animating=!1:k(this._raf)};var O=new i,_=[];O.onAfterFrame(function(){for(var t=0;t<_.length;++t)_[t].validateData();_.length=0}),AmCharts.addInitHandler(function(t){t.animateData=T},["funnel","pie","serial","radar","xy"])}()},function(t,e){"use strict";!function(){var t=window.AmCharts;t.AmSlicedChart=t.Class({inherits:t.AmChart,construct:function(e){this.createEvents("rollOverSlice","rollOutSlice","clickSlice","pullOutSlice","pullInSlice","rightClickSlice"),t.AmSlicedChart.base.construct.call(this,e),this.colors="#FF0F00 #FF6600 #FF9E01 #FCD202 #F8FF01 #B0DE09 #04D215 #0D8ECF #0D52D1 #2A0CD0 #8A0CCF #CD0D74 #754DEB #DDDDDD #999999 #333333 #000000 #57032A #CA9726 #990000 #4B0C25".split(" "),this.alpha=1,this.groupPercent=0,this.groupedTitle="Other",this.groupedPulled=!1,this.groupedAlpha=1,this.marginLeft=0,this.marginBottom=this.marginTop=10,this.marginRight=0,this.hoverAlpha=1,this.outlineColor="#FFFFFF",this.outlineAlpha=0,this.outlineThickness=1,this.startAlpha=0,this.startDuration=1,this.startEffect="bounce",this.sequencedAnimation=!0,this.pullOutDuration=1,this.pullOutEffect="bounce",this.pullOnHover=this.pullOutOnlyOne=!1,this.labelsEnabled=!0,this.labelTickColor="#000000",this.labelTickAlpha=.2,this.hideLabelsPercent=0,this.urlTarget="_self",this.autoMarginOffset=10,this.gradientRatio=[],this.maxLabelWidth=200,this.accessibleLabel="[[title]]: [[percents]]% [[value]] [[description]]",t.applyTheme(this,e,"AmSlicedChart")},initChart:function(){t.AmSlicedChart.base.initChart.call(this),this.dataChanged&&(this.parseData(),this.dispatchDataUpdated=!0,this.dataChanged=!1,this.setLegendData(this.chartData)),this.drawChart()},handleLegendEvent:function(t){var e=t.type,r=t.dataItem,n=this.legend;if(r.wedge&&r){var i=r.hidden;switch(t=t.event,e){case"clickMarker":i||n.switchable||this.clickSlice(r,t);break;case"clickLabel":i||this.clickSlice(r,t,!1);break;case"rollOverItem":i||this.rollOverSlice(r,!1,t);break;case"rollOutItem":i||this.rollOutSlice(r,t);break;case"hideItem":this.hideSlice(r,t);break;case"showItem":this.showSlice(r,t)}}},invalidateVisibility:function(){this.recalculatePercents(),this.initChart();var t=this.legend;t&&t.invalidateSize()},addEventListeners:function(t,e){var r=this;t.mouseover(function(t){r.rollOverSlice(e,!0,t)}).mouseout(function(t){r.rollOutSlice(e,t)}).touchend(function(t){r.rollOverSlice(e,t)}).mouseup(function(t){r.clickSlice(e,t)}).contextmenu(function(t){r.handleRightClick(e,t)})},formatString:function(e,r,n){e=t.formatValue(e,r,["value"],this.nf,"",this.usePrefixes,this.prefixesOfSmallNumbers,this.prefixesOfBigNumbers);var i=this.pf.precision;return isNaN(this.tempPrec)||(this.pf.precision=this.tempPrec),e=t.formatValue(e,r,["percents"],this.pf),e=t.massReplace(e,{"[[title]]":r.title,"[[description]]":r.description}),this.pf.precision=i,-1!=e.indexOf("[[")&&(e=t.formatDataContextValue(e,r.dataContext)),e=n?t.fixNewLines(e):t.fixBrakes(e),e=t.cleanFromEmpty(e)},startSlices:function(){var t;for(t=0;t<this.chartData.length;t++)0<this.startDuration&&this.sequencedAnimation?this.setStartTO(t):this.startSlice(this.chartData[t])},setStartTO:function(t){var e=this;t=setTimeout(function(){e.startSequenced.call(e)},e.startDuration/e.chartData.length*500*t),e.timeOuts.push(t)},pullSlices:function(t){var e,r=this.chartData;for(e=0;e<r.length;e++){var n=r[e];n.pulled&&this.pullSlice(n,1,t)}},startSequenced:function(){var t,e=this.chartData;for(t=0;t<e.length;t++)if(!e[t].started){this.startSlice(this.chartData[t]);break}},startSlice:function(t){t.started=!0;var e=t.wedge,r=this.startDuration,n=t.labelSet;e&&0<r&&(0<t.alpha&&e.show(),e.translate(t.startX,t.startY),this.animatable.push(e),e.animate({opacity:1,translate:"0,0"},r,this.startEffect)),n&&0<r&&(0<t.alpha&&n.show(),n.translate(t.startX,t.startY),n.animate({opacity:1,translate:"0,0"},r,this.startEffect))},showLabels:function(){var t,e=this.chartData;for(t=0;t<e.length;t++){var r=e[t];if(0<r.alpha){var n=r.label;n&&n.show(),(r=r.tick)&&r.show()}}},showSlice:function(t){isNaN(t)?t.hidden=!1:this.chartData[t].hidden=!1,this.invalidateVisibility()},hideSlice:function(t){isNaN(t)?t.hidden=!0:this.chartData[t].hidden=!0,this.hideBalloon(),this.invalidateVisibility()},rollOverSlice:function(e,r,n){if(isNaN(e)||(e=this.chartData[e]),clearTimeout(this.hoverInt),!e.hidden){this.pullOnHover&&this.pullSlice(e,1),1>this.hoverAlpha&&e.wedge&&e.wedge.attr({opacity:this.hoverAlpha});var i=e.balloonX,a=e.balloonY;e.pulled&&(i+=e.pullX,a+=e.pullY);var o=this.formatString(this.balloonText,e,!0),s=this.balloonFunction;s&&(o=s(e,o)),s=t.adjustLuminosity(e.color,-.15),o?this.showBalloon(o,s,r,i,a):this.hideBalloon(),0===e.value&&this.hideBalloon(),this.fire({type:"rollOverSlice",dataItem:e,chart:this,event:n})}},rollOutSlice:function(t,e){isNaN(t)||(t=this.chartData[t]),t.wedge&&t.wedge.attr({opacity:1}),this.hideBalloon(),this.fire({type:"rollOutSlice",dataItem:t,chart:this,event:e})},clickSlice:function(e,r,n){this.checkTouchDuration(r)&&(isNaN(e)||(e=this.chartData[e]),e.pulled?this.pullSlice(e,0):this.pullSlice(e,1),t.getURL(e.url,this.urlTarget),n||this.fire({type:"clickSlice",dataItem:e,chart:this,event:r}))},handleRightClick:function(t,e){isNaN(t)||(t=this.chartData[t]),this.fire({type:"rightClickSlice",dataItem:t,chart:this,event:e})},drawTicks:function(){var e,r=this.chartData;for(e=0;e<r.length;e++){var n=r[e];if(n.label&&!n.skipTick){var i=n.ty,i=t.line(this.container,[n.tx0,n.tx,n.tx2],[n.ty0,i,i],this.labelTickColor,this.labelTickAlpha);t.setCN(this,i,this.type+"-tick"),t.setCN(this,i,n.className,!0),n.tick=i,n.wedge.push(i)}}},initialStart:function(){var t=this,e=t.startDuration,r=setTimeout(function(){t.showLabels.call(t)},1e3*e);t.timeOuts.push(r),t.chartCreated?t.pullSlices(!0):(t.startSlices(),0<e?(e=setTimeout(function(){t.pullSlices.call(t)},1200*e),t.timeOuts.push(e)):t.pullSlices(!0))},pullSlice:function(t,e,r){var n=this.pullOutDuration;!0===r&&(n=0),(r=t.wedge)&&(0<n?(r.animate({translate:e*t.pullX+","+e*t.pullY},n,this.pullOutEffect),t.labelSet&&t.labelSet.animate({translate:e*t.pullX+","+e*t.pullY},n,this.pullOutEffect)):(t.labelSet&&t.labelSet.translate(e*t.pullX,e*t.pullY),r.translate(e*t.pullX,e*t.pullY))),1==e?(t.pulled=!0,this.pullOutOnlyOne&&this.pullInAll(t.index),t={type:"pullOutSlice",dataItem:t,chart:this}):(t.pulled=!1,t={type:"pullInSlice",dataItem:t,chart:this}),this.fire(t)},pullInAll:function(t){var e,r=this.chartData;for(e=0;e<this.chartData.length;e++)e!=t&&r[e].pulled&&this.pullSlice(r[e],0)},pullOutAll:function(){var t,e=this.chartData;for(t=0;t<e.length;t++)e[t].pulled||this.pullSlice(e[t],1)},parseData:function(){var e=[];this.chartData=e;var r=this.dataProvider;if(isNaN(this.pieAlpha)||(this.alpha=this.pieAlpha),void 0!==r){var n,i,a,o=r.length,s=0;for(n=0;n<o;n++){i={};var l=r[n];i.dataContext=l,null!==l[this.valueField]&&(i.value=Number(l[this.valueField])),(a=l[this.titleField])||(a=""),i.title=a,i.pulled=t.toBoolean(l[this.pulledField],!1),(a=l[this.descriptionField])||(a=""),i.description=a,i.labelRadius=Number(l[this.labelRadiusField]),i.switchable=!0,i.className=l[this.classNameField],i.url=l[this.urlField],a=l[this.patternField],!a&&this.patterns&&(a=this.patterns[n]),i.pattern=a,i.visibleInLegend=t.toBoolean(l[this.visibleInLegendField],!0),a=l[this.alphaField],i.alpha=void 0!==a?Number(a):this.alpha,a=l[this.colorField],void 0!==a&&(i.color=a),i.labelColor=t.toColor(l[this.labelColorField]),s+=i.value,i.hidden=!1,e[n]=i}for(n=r=0;n<o;n++)i=e[n],i.percents=i.value/s*100,i.percents<this.groupPercent&&r++;for(1<r&&(this.groupValue=0,this.removeSmallSlices(),e.push({title:this.groupedTitle,value:this.groupValue,percents:this.groupValue/s*100,pulled:this.groupedPulled,color:this.groupedColor,url:this.groupedUrl,description:this.groupedDescription,alpha:this.groupedAlpha,pattern:this.groupedPattern,className:this.groupedClassName,dataContext:{}})),o=this.baseColor,o||(o=this.pieBaseColor),s=this.brightnessStep,s||(s=this.pieBrightnessStep),n=0;n<e.length;n++)o?a=t.adjustLuminosity(o,n*s/100):(a=this.colors[n],void 0===a&&(a=t.randomColor())),void 0===e[n].color&&(e[n].color=a);this.recalculatePercents()}},recalculatePercents:function(){var t,e,r=this.chartData,n=0;for(t=0;t<r.length;t++)e=r[t],!e.hidden&&0<e.value&&(n+=e.value);for(t=0;t<r.length;t++)e=this.chartData[t],e.percents=!e.hidden&&0<e.value?100*e.value/n:0},removeSmallSlices:function(){var t,e=this.chartData;for(t=e.length-1;0<=t;t--)e[t].percents<this.groupPercent&&(this.groupValue+=e[t].value,e.splice(t,1))},animateAgain:function(){var t=this;t.startSlices();for(var e=0;e<t.chartData.length;e++){var r=t.chartData[e];r.started=!1;var n=r.wedge;n&&(n.setAttr("opacity",t.startAlpha),n.translate(r.startX,r.startY)),(n=r.labelSet)&&(n.setAttr("opacity",t.startAlpha),n.translate(r.startX,r.startY))}e=t.startDuration,0<e?(e=setTimeout(function(){t.pullSlices.call(t)},1200*e),t.timeOuts.push(e)):t.pullSlices()},measureMaxLabel:function(){var e,r=this.chartData,n=0;for(e=0;e<r.length;e++){var i=r[e],a=this.formatString(this.labelText,i),o=this.labelFunction;o&&(a=o(i,a)),i=t.text(this.container,a,this.color,this.fontFamily,this.fontSize),a=i.getBBox().width,a>n&&(n=a),i.remove()}return n}})}(),function(){var t=window.AmCharts;
t.AmPieChart=t.Class({inherits:t.AmSlicedChart,construct:function(e){this.type="pie",t.AmPieChart.base.construct.call(this,e),this.cname="AmPieChart",this.pieBrightnessStep=30,this.minRadius=10,this.depth3D=0,this.startAngle=90,this.angle=this.innerRadius=0,this.startRadius="500%",this.pullOutRadius="20%",this.labelRadius=20,this.labelText="[[title]]: [[percents]]%",this.balloonText="[[title]]: [[percents]]% ([[value]])\n[[description]]",this.previousScale=1,this.adjustPrecision=!1,this.gradientType="radial",t.applyTheme(this,e,this.cname)},drawChart:function(){t.AmPieChart.base.drawChart.call(this);var e=this.chartData;if(t.ifArray(e)){if(0<this.realWidth&&0<this.realHeight){t.VML&&(this.startAlpha=1);var r=this.startDuration,n=this.container,i=this.updateWidth();this.realWidth=i;var a=this.updateHeight();this.realHeight=a;var o,s,l,u=t.toCoordinate,c=u(this.marginLeft,i),h=u(this.marginRight,i),g=u(this.marginTop,a)+this.getTitleHeight(),p=u(this.marginBottom,a)+this.depth3D,d=t.toNumber(this.labelRadius),f=this.measureMaxLabel();for(f>this.maxLabelWidth&&(f=this.maxLabelWidth),this.labelText&&this.labelsEnabled||(d=f=0),o=void 0===this.pieX?(i-c-h)/2+c:u(this.pieX,this.realWidth),s=void 0===this.pieY?(a-g-p)/2+g:u(this.pieY,a),l=u(this.radius,i,a),l||(i=0<=d?i-c-h-2*f:i-c-h,a=a-g-p,l=Math.min(i,a),a<i&&(l/=1-this.angle/90,l>i&&(l=i)),a=t.toCoordinate(this.pullOutRadius,l),l=(0<=d?l-1.8*(d+a):l-1.8*a)/2),l<this.minRadius&&(l=this.minRadius),a=u(this.pullOutRadius,l),g=t.toCoordinate(this.startRadius,l),u=u(this.innerRadius,l),u>=l&&(u=l-1),p=t.fitToBounds(this.startAngle,0,360),0<this.depth3D&&(p=270<=p?270:90),p-=90,360<p&&(p-=360),i=l-l*this.angle/90,c=f=0;c<e.length;c++)h=e[c],!0!==h.hidden&&(f+=t.roundTo(h.percents,this.pf.precision));f=t.roundTo(f,this.pf.precision),this.tempPrec=NaN,this.adjustPrecision&&100!=f&&(this.tempPrec=this.pf.precision+1);for(var A,c=0;c<e.length;c++)if(h=e[c],!0!==h.hidden&&(this.showZeroSlices||0!==h.percents)){var C=360*h.percents/100,f=Math.sin((p+C/2)/180*Math.PI),m=i/l*-Math.cos((p+C/2)/180*Math.PI),I=this.outlineColor;I||(I=h.color);var v=this.alpha;if(isNaN(h.alpha)||(v=h.alpha),I={fill:h.color,stroke:I,"stroke-width":this.outlineThickness,"stroke-opacity":this.outlineAlpha,"fill-opacity":v},h.url&&(I.cursor="pointer"),I=t.wedge(n,o,s,p,C,l,i,u,this.depth3D,I,this.gradientRatio,h.pattern,this.path,this.gradientType),t.setCN(this,I,"pie-item"),t.setCN(this,I.wedge,"pie-slice"),t.setCN(this,I,h.className,!0),this.addEventListeners(I,h),h.startAngle=p,e[c].wedge=I,0<r&&(this.chartCreated||I.setAttr("opacity",this.startAlpha)),h.ix=f,h.iy=m,h.wedge=I,h.index=c,h.label=null,v=n.set(),this.labelsEnabled&&this.labelText&&h.percents>=this.hideLabelsPercent){var y=p+C/2;0>y&&(y+=360),360<y&&(y-=360);var b=d;isNaN(h.labelRadius)||(b=h.labelRadius,0>b&&(h.skipTick=!0));var x,C=o+f*(l+b),w=s+m*(l+b),N=0;if(isNaN(A)&&350<y&&1<e.length-c&&(A=c-1+Math.floor((e.length-c)/2)),0<=b){var S;90>=y&&0<=y?(S=0,x="start",N=8):90<=y&&180>y?(S=1,x="start",N=8):180<=y&&270>y?(S=2,x="end",N=-8):270<=y&&354>=y?(S=3,x="end",N=-8):354<=y&&(c>A?(S=0,x="start",N=8):(S=3,x="end",N=-8)),h.labelQuarter=S}else x="middle";y=this.formatString(this.labelText,h),(b=this.labelFunction)&&(y=b(h,y)),b=h.labelColor,b||(b=this.color),""!==y&&(y=t.wrappedText(n,y,b,this.fontFamily,this.fontSize,x,!1,this.maxLabelWidth),t.setCN(this,y,"pie-label"),t.setCN(this,y,h.className,!0),y.translate(C+1.5*N,w),0>d&&(y.node.style.pointerEvents="none"),y.node.style.cursor="default",h.ty=w,h.textX=C+1.5*N,v.push(y),this.axesSet.push(v),h.labelSet=v,h.label=y,this.addEventListeners(v,h)),h.tx=C,h.tx2=C+N,h.tx0=o+f*l,h.ty0=s+m*l}C=u+(l-u)/2,h.pulled&&(C+=a),this.accessible&&this.accessibleLabel&&(w=this.formatString(this.accessibleLabel,h),this.makeAccessible(I,w)),void 0!==this.tabIndex&&I.setAttr("tabindex",this.tabIndex),h.balloonX=f*C+o,h.balloonY=m*C+s,h.startX=Math.round(f*g),h.startY=Math.round(m*g),h.pullX=Math.round(f*a),h.pullY=Math.round(m*a),this.graphsSet.push(I),(0===h.alpha||0<r&&!this.chartCreated)&&(I.hide(),v&&v.hide()),p+=360*h.percents/100,360<p&&(p-=360)}0<d&&this.arrangeLabels(),this.pieXReal=o,this.pieYReal=s,this.radiusReal=l,this.innerRadiusReal=u,0<d&&this.drawTicks(),this.initialStart(),this.setDepths()}(e=this.legend)&&e.invalidateSize()}else this.cleanChart();this.dispDUpd()},setDepths:function(){var t,e=this.chartData;for(t=0;t<e.length;t++){var r=e[t],n=r.wedge,r=r.startAngle;0<=r&&180>r?n.toFront():180<=r&&n.toBack()}},arrangeLabels:function(){var t,e,r=this.chartData,n=r.length;for(e=n-1;0<=e;e--)t=r[e],0!==t.labelQuarter||t.hidden||this.checkOverlapping(e,t,0,!0,0);for(e=0;e<n;e++)t=r[e],1!=t.labelQuarter||t.hidden||this.checkOverlapping(e,t,1,!1,0);for(e=n-1;0<=e;e--)t=r[e],2!=t.labelQuarter||t.hidden||this.checkOverlapping(e,t,2,!0,0);for(e=0;e<n;e++)t=r[e],3!=t.labelQuarter||t.hidden||this.checkOverlapping(e,t,3,!1,0)},checkOverlapping:function(t,e,r,n,i){var a,o,s=this.chartData,l=s.length,u=e.label;if(u){if(!0===n)for(o=t+1;o<l;o++)s[o].labelQuarter==r&&(a=this.checkOverlappingReal(e,s[o],r))&&(o=l);else for(o=t-1;0<=o;o--)s[o].labelQuarter==r&&(a=this.checkOverlappingReal(e,s[o],r))&&(o=0);!0===a&&200>i&&isNaN(e.labelRadius)&&(a=e.ty+3*e.iy,e.ty=a,u.translate(e.textX,a),this.checkOverlapping(t,e,r,n,i+1))}},checkOverlappingReal:function(e,r,n){var i=!1,a=e.label,o=r.label;return e.labelQuarter!=n||e.hidden||r.hidden||!o||(a=a.getBBox(),n={},n.width=a.width,n.height=a.height,n.y=e.ty,n.x=e.tx,e=o.getBBox(),o={},o.width=e.width,o.height=e.height,o.y=r.ty,o.x=r.tx,t.hitTest(n,o)&&(i=!0)),i}})}()},function(t,e){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(){var t=window.AmCharts;t.AmRectangularChart=t.Class({inherits:t.AmCoordinateChart,construct:function(e){t.AmRectangularChart.base.construct.call(this,e),this.theme=e,this.createEvents("zoomed","changed"),this.marginRight=this.marginBottom=this.marginTop=this.marginLeft=20,this.depth3D=this.angle=0,this.plotAreaFillColors="#FFFFFF",this.plotAreaFillAlphas=0,this.plotAreaBorderColor="#000000",this.plotAreaBorderAlpha=0,this.maxZoomFactor=20,this.zoomOutButtonImageSize=19,this.zoomOutButtonImage="lens",this.zoomOutText="Show all",this.zoomOutButtonColor="#e5e5e5",this.zoomOutButtonAlpha=0,this.zoomOutButtonRollOverAlpha=1,this.zoomOutButtonPadding=8,this.trendLines=[],this.autoMargins=!0,this.marginsUpdated=!1,this.autoMarginOffset=10,t.applyTheme(this,e,"AmRectangularChart")},initChart:function(){t.AmRectangularChart.base.initChart.call(this),this.updateDxy(),!this.marginsUpdated&&this.autoMargins&&(this.resetMargins(),this.drawGraphs=!1),this.processScrollbars(),this.updateMargins(),this.updatePlotArea(),this.updateScrollbars(),this.updateTrendLines(),this.updateChartCursor(),this.updateValueAxes(),this.scrollbarOnly||this.updateGraphs()},drawChart:function(){if(t.AmRectangularChart.base.drawChart.call(this),this.drawPlotArea(),t.ifArray(this.chartData)){var e=this.chartCursor;e&&e.draw()}},resetMargins:function(){var t,e={};if("xy"==this.type){var r=this.xAxes,n=this.yAxes;for(t=0;t<r.length;t++){var i=r[t];i.ignoreAxisWidth||(i.setOrientation(!0),i.fixAxisPosition(),e[i.position]=!0)}for(t=0;t<n.length;t++)r=n[t],r.ignoreAxisWidth||(r.setOrientation(!1),r.fixAxisPosition(),e[r.position]=!0)}else{for(n=this.valueAxes,t=0;t<n.length;t++)r=n[t],r.ignoreAxisWidth||(r.setOrientation(this.rotate),r.fixAxisPosition(),e[r.position]=!0);(t=this.categoryAxis)&&!t.ignoreAxisWidth&&(t.setOrientation(!this.rotate),t.fixAxisPosition(),t.fixAxisPosition(),e[t.position]=!0)}e.left&&(this.marginLeft=0),e.right&&(this.marginRight=0),e.top&&(this.marginTop=0),e.bottom&&(this.marginBottom=0),this.fixMargins=e},measureMargins:function(){var t,e=this.valueAxes,r=this.autoMarginOffset,n=this.fixMargins,i=this.realWidth,a=this.realHeight,o=r,s=r,l=i;t=a;var u;for(u=0;u<e.length;u++)e[u].handleSynchronization(),t=this.getAxisBounds(e[u],o,l,s,t),o=Math.round(t.l),l=Math.round(t.r),s=Math.round(t.t),t=Math.round(t.b);(e=this.categoryAxis)&&(t=this.getAxisBounds(e,o,l,s,t),o=Math.round(t.l),l=Math.round(t.r),s=Math.round(t.t),t=Math.round(t.b)),n.left&&o<r&&(this.marginLeft=Math.round(-o+r),!isNaN(this.minMarginLeft)&&this.marginLeft<this.minMarginLeft&&(this.marginLeft=this.minMarginLeft)),n.right&&l>=i-r&&(this.marginRight=Math.round(l-i+r),!isNaN(this.minMarginRight)&&this.marginRight<this.minMarginRight&&(this.marginRight=this.minMarginRight)),n.top&&s<r+this.titleHeight&&(this.marginTop=Math.round(this.marginTop-s+r+this.titleHeight),!isNaN(this.minMarginTop)&&this.marginTop<this.minMarginTop&&(this.marginTop=this.minMarginTop)),n.bottom&&t>a-r&&(this.marginBottom=Math.round(this.marginBottom+t-a+r),!isNaN(this.minMarginBottom)&&this.marginBottom<this.minMarginBottom&&(this.marginBottom=this.minMarginBottom)),this.initChart()},getAxisBounds:function(t,e,r,n,i){if(!t.ignoreAxisWidth){var a=t.labelsSet,o=t.tickLength;if(t.inside&&(o=0),a)switch(a=t.getBBox(),t.position){case"top":t=a.y,n>t&&(n=t);break;case"bottom":t=a.y+a.height,i<t&&(i=t);break;case"right":t=a.x+a.width+o+3,r<t&&(r=t);break;case"left":t=a.x-o,e>t&&(e=t)}}return{l:e,t:n,r:r,b:i}},drawZoomOutButton:function(){var e=this;if(!e.zbSet){var r=e.container.set();e.zoomButtonSet.push(r);var n=e.color,i=e.fontSize,a=e.zoomOutButtonImageSize,o=e.zoomOutButtonImage.replace(/\.[a-z]*$/i,""),s=e.langObj.zoomOutText||e.zoomOutText,l=e.zoomOutButtonColor,u=e.zoomOutButtonAlpha,c=e.zoomOutButtonFontSize,h=e.zoomOutButtonPadding;isNaN(c)||(i=c),(c=e.zoomOutButtonFontColor)&&(n=c);var g,c=e.zoomOutButton;c&&(c.fontSize&&(i=c.fontSize),c.color&&(n=c.color),c.backgroundColor&&(l=c.backgroundColor),isNaN(c.backgroundAlpha)||(e.zoomOutButtonRollOverAlpha=c.backgroundAlpha));var p=c=0,p=e.pathToImages;for(o&&((t.isAbsolute(o)||void 0===p)&&(p=""),g=e.container.image(p+o+e.extension,0,0,a,a),t.setCN(e,g,"zoom-out-image"),r.push(g),g=g.getBBox(),c=g.width+5),void 0!==s&&(n=t.text(e.container,s,n,e.fontFamily,i,"start"),t.setCN(e,n,"zoom-out-label"),i=n.getBBox(),p=g?g.height/2-3:i.height/2,n.translate(c,p),r.push(n)),g=r.getBBox(),n=1,t.isModern||(n=0),l=t.rect(e.container,g.width+2*h+5,g.height+2*h-2,l,1,1,l,n),l.setAttr("opacity",u),l.translate(-h,-h),t.setCN(e,l,"zoom-out-bg"),r.push(l),l.toBack(),e.zbBG=l,g=l.getBBox(),r.translate(e.marginLeftReal+e.plotAreaWidth-g.width+h,e.marginTopReal+h),r.hide(),r.mouseover(function(){e.rollOverZB()}).mouseout(function(){e.rollOutZB()}).click(function(){e.clickZB()}).touchstart(function(){e.rollOverZB()}).touchend(function(){e.rollOutZB(),e.clickZB()}),u=0;u<r.length;u++)r[u].attr({cursor:"pointer"});void 0!==e.zoomOutButtonTabIndex&&(r.setAttr("tabindex",e.zoomOutButtonTabIndex),r.setAttr("role","menuitem"),r.keyup(function(t){13==t.keyCode&&e.clickZB()})),e.zbSet=r}},rollOverZB:function(){this.rolledOverZB=!0,this.zbBG.setAttr("opacity",this.zoomOutButtonRollOverAlpha)},rollOutZB:function(){this.rolledOverZB=!1,this.zbBG.setAttr("opacity",this.zoomOutButtonAlpha)},clickZB:function(){this.rolledOverZB=!1,this.zoomOut()},zoomOut:function(){this.zoomOutValueAxes()},drawPlotArea:function(){var e=this.dx,n=this.dy,i=this.marginLeftReal,a=this.marginTopReal,o=this.plotAreaWidth-1,s=this.plotAreaHeight-1,l=this.plotAreaFillColors,u=this.plotAreaFillAlphas,c=this.plotAreaBorderColor,h=this.plotAreaBorderAlpha;"object"==("undefined"==typeof u?"undefined":r(u))&&(u=u[0]),l=t.polygon(this.container,[0,o,o,0,0],[0,0,s,s,0],l,u,1,c,h,this.plotAreaGradientAngle),t.setCN(this,l,"plot-area"),l.translate(i+e,a+n),this.set.push(l),0!==e&&0!==n&&(l=this.plotAreaFillColors,"object"==("undefined"==typeof l?"undefined":r(l))&&(l=l[0]),l=t.adjustLuminosity(l,-.15),o=t.polygon(this.container,[0,e,o+e,o,0],[0,n,n,0,0],l,u,1,c,h),t.setCN(this,o,"plot-area-bottom"),o.translate(i,a+s),this.set.push(o),e=t.polygon(this.container,[0,0,e,e,0],[0,s,s+n,n,0],l,u,1,c,h),t.setCN(this,e,"plot-area-left"),e.translate(i,a),this.set.push(e)),(i=this.bbset)&&this.scrollbarOnly&&i.remove()},updatePlotArea:function(){var t=this.updateWidth(),e=this.updateHeight(),r=this.container;this.realWidth=t,this.realWidth=e,r&&this.container.setSize(t,e);var r=this.marginLeftReal,n=this.marginTopReal,t=t-r-this.marginRightReal-this.dx,e=e-n-this.marginBottomReal;1>t&&(t=1),1>e&&(e=1),this.plotAreaWidth=Math.round(t),this.plotAreaHeight=Math.round(e),this.plotBalloonsSet.translate(r,n)},updateDxy:function(){this.dx=Math.round(this.depth3D*Math.cos(this.angle*Math.PI/180)),this.dy=Math.round(-this.depth3D*Math.sin(this.angle*Math.PI/180)),this.d3x=Math.round(this.columnSpacing3D*Math.cos(this.angle*Math.PI/180)),this.d3y=Math.round(-this.columnSpacing3D*Math.sin(this.angle*Math.PI/180))},updateMargins:function(){var t=this.getTitleHeight();this.titleHeight=t,this.marginTopReal=this.marginTop-this.dy,this.fixMargins&&!this.fixMargins.top&&(this.marginTopReal+=t),this.marginBottomReal=this.marginBottom,this.marginLeftReal=this.marginLeft,this.marginRightReal=this.marginRight},updateValueAxes:function(){var t,e=this.valueAxes;for(t=0;t<e.length;t++){var r=e[t];this.setAxisRenderers(r),this.updateObjectSize(r)}},setAxisRenderers:function(e){e.axisRenderer=t.RecAxis,e.guideFillRenderer=t.RecFill,e.axisItemRenderer=t.RecItem,e.marginsChanged=!0},updateGraphs:function(){var t,e=this.graphs;for(t=0;t<e.length;t++){var r=e[t];r.index=t,r.rotate=this.rotate,this.updateObjectSize(r)}},updateObjectSize:function(t){t.width=this.plotAreaWidth-1,t.height=this.plotAreaHeight-1,t.x=this.marginLeftReal,t.y=this.marginTopReal,t.dx=this.dx,t.dy=this.dy},updateChartCursor:function(){var e=this.chartCursor;e&&(e=t.processObject(e,t.ChartCursor,this.theme),this.updateObjectSize(e),this.addChartCursor(e),e.chart=this)},processScrollbars:function(){var e=this.chartScrollbar;e&&(e=t.processObject(e,t.ChartScrollbar,this.theme),this.addChartScrollbar(e))},updateScrollbars:function(){},removeChartCursor:function(){t.callMethod("destroy",[this.chartCursor]),this.chartCursor=null},zoomTrendLines:function(){var t,e=this.trendLines;for(t=0;t<e.length;t++){var r=e[t];r.valueAxis.recalculateToPercents?r.set&&r.set.hide():(r.x=this.marginLeftReal,r.y=this.marginTopReal,r.draw())}},handleCursorValueZoom:function(){},addTrendLine:function(t){this.trendLines.push(t)},zoomOutValueAxes:function(){for(var t=this.valueAxes,e=0;e<t.length;e++)t[e].zoomOut()},removeTrendLine:function(t){var e,r=this.trendLines;for(e=r.length-1;0<=e;e--)r[e]==t&&r.splice(e,1)},adjustMargins:function(t,e){var r=t.position,n=t.scrollbarHeight+t.offset;t.enabled&&("top"==r?e?this.marginLeftReal+=n:this.marginTopReal+=n:e?this.marginRightReal+=n:this.marginBottomReal+=n)},getScrollbarPosition:function(t,e,r){var n="bottom",i="top";t.oppositeAxis||(i=n,n="top"),t.position=e?"bottom"==r||"left"==r?n:i:"top"==r||"right"==r?n:i},updateChartScrollbar:function(t,e){if(t){t.rotate=e;var r=this.marginTopReal,n=this.marginLeftReal,i=t.scrollbarHeight,a=this.dx,o=this.dy,s=t.offset;"top"==t.position?e?(t.y=r,t.x=n-i-s):(t.y=r-i+o-s,t.x=n+a):e?(t.y=r+o,t.x=n+this.plotAreaWidth+a+s):(t.y=r+this.plotAreaHeight+s,t.x=this.marginLeftReal)}},showZB:function(t){var e=this.zbSet;t&&(e=this.zoomOutText,""!==e&&e&&this.drawZoomOutButton()),(e=this.zbSet)&&(this.zoomButtonSet.push(e),t?e.show():e.hide(),this.rollOutZB())},handleReleaseOutside:function(e){t.AmRectangularChart.base.handleReleaseOutside.call(this,e),(e=this.chartCursor)&&e.handleReleaseOutside&&e.handleReleaseOutside()},handleMouseDown:function(e){t.AmRectangularChart.base.handleMouseDown.call(this,e);var r=this.chartCursor;r&&r.handleMouseDown&&!this.rolledOverZB&&r.handleMouseDown(e)},update:function(){t.AmRectangularChart.base.update.call(this),this.chartCursor&&this.chartCursor.update&&this.chartCursor.update()},handleScrollbarValueZoom:function(t){this.relativeZoomValueAxes(t.target.valueAxes,t.relativeStart,t.relativeEnd),this.zoomAxesAndGraphs()},zoomValueScrollbar:function(t){if(t&&t.enabled){var e=t.valueAxes[0],r=e.relativeStart,n=e.relativeEnd;e.reversed&&(n=1-r,r=1-e.relativeEnd),t.percentZoom(r,n)}},zoomAxesAndGraphs:function(){if(!this.scrollbarOnly){var t,e=this.valueAxes;for(t=0;t<e.length;t++)e[t].zoom(this.start,this.end);for(e=this.graphs,t=0;t<e.length;t++)e[t].zoom(this.start,this.end);(t=this.chartCursor)&&t.clearSelection(),this.zoomTrendLines()}},handleValueAxisZoomReal:function(t,e){var r=t.relativeStart,n=t.relativeEnd;if(r>n)var i=r,r=n,n=i;this.relativeZoomValueAxes(e,r,n),this.updateAfterValueZoom()},updateAfterValueZoom:function(){this.zoomAxesAndGraphs(),this.zoomScrollbar()},relativeZoomValueAxes:function(e,r,n){if(r=t.fitToBounds(r,0,1),n=t.fitToBounds(n,0,1),r>n){var i=r;r=n,n=i}var i=1/this.maxZoomFactor,a=t.getDecimals(i)+4;if(n-r<i&&(n=r+(n-r)/2,r=n-i/2,n+=i/2),r=t.roundTo(r,a),n=t.roundTo(n,a),i=!1,e){for(a=0;a<e.length;a++){var o=e[a].zoomToRelativeValues(r,n,!0);o&&(i=o)}this.showZB()}return i},addChartCursor:function(e){t.callMethod("destroy",[this.chartCursor]),e&&(this.listenTo(e,"moved",this.handleCursorMove),this.listenTo(e,"zoomed",this.handleCursorZoom),this.listenTo(e,"zoomStarted",this.handleCursorZoomStarted),this.listenTo(e,"panning",this.handleCursorPanning),this.listenTo(e,"onHideCursor",this.handleCursorHide)),this.chartCursor=e},handleCursorChange:function(){},handleCursorMove:function(t){var e,r=this.valueAxes;for(e=0;e<r.length;e++)if(!t.panning){var n=r[e];n&&n.showBalloon&&n.showBalloon(t.x,t.y)}},handleCursorZoom:function(t){if(this.skipZoomed)this.skipZoomed=!1;else{var e=this.startX0,r=this.endX0,n=this.endY0,i=this.startY0,a=t.startX,o=t.endX,s=t.startY,l=t.endY;this.startX0=this.endX0=this.startY0=this.endY0=NaN,this.handleCursorZoomReal(e+a*(r-e),e+o*(r-e),i+s*(n-i),i+l*(n-i),t)}},handleCursorHide:function(){var t,e=this.valueAxes;for(t=0;t<e.length;t++)e[t].hideBalloon();for(e=this.graphs,t=0;t<e.length;t++)e[t].hideBalloonReal()}})}(),function(){var t=window.AmCharts;t.AmXYChart=t.Class({inherits:t.AmRectangularChart,construct:function(e){this.type="xy",t.AmXYChart.base.construct.call(this,e),this.cname="AmXYChart",this.theme=e,this.createEvents("zoomed"),t.applyTheme(this,e,this.cname)},initChart:function(){t.AmXYChart.base.initChart.call(this),this.dataChanged&&this.updateData(),this.drawChart(),!this.marginsUpdated&&this.autoMargins&&(this.marginsUpdated=!0,this.measureMargins());var e=this.marginLeftReal,r=this.marginTopReal,n=this.plotAreaWidth,i=this.plotAreaHeight;this.graphsSet.clipRect(e,r,n,i),this.bulletSet.clipRect(e,r,n,i),this.trendLinesSet.clipRect(e,r,n,i),this.drawGraphs=!0,this.showZB()},prepareForExport:function(){var t=this.bulletSet;t.clipPath&&this.container.remove(t.clipPath)},createValueAxes:function(){var e=[],r=[];this.xAxes=e,this.yAxes=r;var n,i,a=this.valueAxes;for(i=0;i<a.length;i++){n=a[i];var o=n.position;"top"!=o&&"bottom"!=o||(n.rotate=!0),n.setOrientation(n.rotate),o=n.orientation,"V"==o&&r.push(n),"H"==o&&e.push(n)}for(0===r.length&&(n=new t.ValueAxis(this.theme),n.rotate=!1,n.setOrientation(!1),a.push(n),r.push(n)),0===e.length&&(n=new t.ValueAxis(this.theme),n.rotate=!0,n.setOrientation(!0),a.push(n),e.push(n)),i=0;i<a.length;i++)this.processValueAxis(a[i],i);for(e=this.graphs,i=0;i<e.length;i++)this.processGraph(e[i],i)},drawChart:function(){t.AmXYChart.base.drawChart.call(this);var e=this.chartData;0<this.realWidth&&0<this.realHeight&&(t.ifArray(e)?(this.chartScrollbar&&this.updateScrollbars(),this.zoomChart()):this.cleanChart(),(e=this.scrollbarH)&&(this.hideXScrollbar?(e&&e.destroy(),this.scrollbarH=null):e.draw()),(e=this.scrollbarV)&&(this.hideYScrollbar?(e.destroy(),this.scrollbarV=null):e.draw()),this.zoomScrollbar()),this.autoMargins&&!this.marginsUpdated||this.dispDUpd()},cleanChart:function(){t.callMethod("destroy",[this.valueAxes,this.graphs,this.scrollbarV,this.scrollbarH,this.chartCursor])},zoomChart:function(){this.zoomObjects(this.valueAxes),this.zoomObjects(this.graphs),this.zoomTrendLines(),this.prevPlotAreaWidth=this.plotAreaWidth,this.prevPlotAreaHeight=this.plotAreaHeight},zoomObjects:function(t){var e,r,n=t.length;for(e=0;e<n;e++)r=t[e],r.zoom(0,this.chartData.length-1)},updateData:function(){this.parseData();var t,e,r=this.chartData,n=r.length-1,i=this.graphs,a=this.dataProvider,o=-(1/0),s=1/0;if(a){for(t=0;t<i.length;t++)if(e=i[t],e.data=r,e.zoom(0,n),e=e.valueField){var l;for(l=0;l<a.length;l++){var u=Number(a[l][e]);null!==u&&(u>o&&(o=u),u<s&&(s=u))}}for(isNaN(this.minValue)||(s=this.minValue),isNaN(this.maxValue)||(o=this.maxValue),t=0;t<i.length;t++)e=i[t],e.maxValue=o,e.minValue=s;(r=this.chartCursor)&&(r.type="crosshair",r.valueBalloonsEnabled=!1),this.dataChanged=!1,this.dispatchDataUpdated=!0}},processValueAxis:function(t){t.chart=this,t.minMaxField="H"==t.orientation?"x":"y",t.min=NaN,t.max=NaN},processGraph:function(e){t.isString(e.xAxis)&&(e.xAxis=this.getValueAxisById(e.xAxis)),t.isString(e.yAxis)&&(e.yAxis=this.getValueAxisById(e.yAxis)),e.xAxis||(e.xAxis=this.xAxes[0]),e.yAxis||(e.yAxis=this.yAxes[0]),e.valueAxis=e.yAxis},parseData:function(){t.AmXYChart.base.parseData.call(this),this.chartData=[];var e,r=this.dataProvider,n=this.valueAxes,i=this.graphs;if(r)for(e=0;e<r.length;e++){var a,o={axes:{},x:{},y:{}},s=this.dataDateFormat,l=r[e];for(a=0;a<n.length;a++){var u=n[a].id;o.axes[u]={},o.axes[u].graphs={};var c;for(c=0;c<i.length;c++){var h=i[c],g=h.id;if(h.xAxis.id==u||h.yAxis.id==u){var p={};p.serialDataItem=o,p.index=e;var d={},f=l[h.valueField];null!==f&&(f=Number(f),isNaN(f)||(d.value=f)),f=l[h.xField],null!==f&&("date"==h.xAxis.type&&(f=t.getDate(l[h.xField],s).getTime()),f=Number(f),isNaN(f)||(d.x=f)),f=l[h.yField],null!==f&&("date"==h.yAxis.type&&(f=t.getDate(l[h.yField],s).getTime()),f=Number(f),isNaN(f)||(d.y=f)),f=l[h.errorField],null!==f&&(f=Number(f),isNaN(f)||(d.error=f)),p.values=d,this.processFields(h,p,l),p.serialDataItem=o,p.graph=h,o.axes[u].graphs[g]=p}}}this.chartData[e]=o}this.start=0,this.end=this.chartData.length-1},formatString:function(e,r,n){var i=r.graph,a=i.numberFormatter;a||(a=this.nf);var o,s;return"date"==r.graph.xAxis.type&&(o=t.formatDate(new Date(r.values.x),i.dateFormat,this),s=RegExp("\\[\\[x\\]\\]","g"),e=e.replace(s,o)),"date"==r.graph.yAxis.type&&(o=t.formatDate(new Date(r.values.y),i.dateFormat,this),s=RegExp("\\[\\[y\\]\\]","g"),e=e.replace(s,o)),e=t.formatValue(e,r.values,["value","x","y"],a),-1!=e.indexOf("[[")&&(e=t.formatDataContextValue(e,r.dataContext)),e=t.AmXYChart.base.formatString.call(this,e,r,n)},addChartScrollbar:function(e){if(t.callMethod("destroy",[this.chartScrollbar,this.scrollbarH,this.scrollbarV]),e){this.chartScrollbar=e,this.scrollbarHeight=e.scrollbarHeight;var r="backgroundColor backgroundAlpha selectedBackgroundColor selectedBackgroundAlpha scrollDuration resizeEnabled hideResizeGrips scrollbarHeight updateOnReleaseOnly".split(" ");if(!this.hideYScrollbar){var n=new t.ChartScrollbar(this.theme);n.skipEvent=!0,n.chart=this,this.listenTo(n,"zoomed",this.handleScrollbarValueZoom),t.copyProperties(e,n,r),n.rotate=!0,this.scrollbarV=n}this.hideXScrollbar||(n=new t.ChartScrollbar(this.theme),n.skipEvent=!0,n.chart=this,this.listenTo(n,"zoomed",this.handleScrollbarValueZoom),t.copyProperties(e,n,r),n.rotate=!1,this.scrollbarH=n)}},updateTrendLines:function(){var e,r=this.trendLines;for(e=0;e<r.length;e++){var n=r[e],n=t.processObject(n,t.TrendLine,this.theme);r[e]=n,n.chart=this;var i=n.valueAxis;t.isString(i)&&(n.valueAxis=this.getValueAxisById(i)),i=n.valueAxisX,t.isString(i)&&(n.valueAxisX=this.getValueAxisById(i)),n.id||(n.id="trendLineAuto"+e+"_"+(new Date).getTime()),n.valueAxis||(n.valueAxis=this.yAxes[0]),n.valueAxisX||(n.valueAxisX=this.xAxes[0])}},updateMargins:function(){t.AmXYChart.base.updateMargins.call(this);var e=this.scrollbarV;e&&(this.getScrollbarPosition(e,!0,this.yAxes[0].position),this.adjustMargins(e,!0)),(e=this.scrollbarH)&&(this.getScrollbarPosition(e,!1,this.xAxes[0].position),this.adjustMargins(e,!1))},updateScrollbars:function(){t.AmXYChart.base.updateScrollbars.call(this);var e=this.scrollbarV;e&&(this.updateChartScrollbar(e,!0),e.valueAxes=this.yAxes,e.gridAxis||(e.gridAxis=this.yAxes[0])),(e=this.scrollbarH)&&(this.updateChartScrollbar(e,!1),e.valueAxes=this.xAxes,e.gridAxis||(e.gridAxis=this.xAxes[0]))},removeChartScrollbar:function(){t.callMethod("destroy",[this.scrollbarH,this.scrollbarV]),this.scrollbarV=this.scrollbarH=null},handleReleaseOutside:function(e){t.AmXYChart.base.handleReleaseOutside.call(this,e),t.callMethod("handleReleaseOutside",[this.scrollbarH,this.scrollbarV])},update:function(){t.AmXYChart.base.update.call(this),this.scrollbarH&&this.scrollbarH.update&&this.scrollbarH.update(),this.scrollbarV&&this.scrollbarV.update&&this.scrollbarV.update()},zoomScrollbar:function(){this.zoomValueScrollbar(this.scrollbarV),this.zoomValueScrollbar(this.scrollbarH)},handleCursorZoomReal:function(t,e,r,n){isNaN(t)||isNaN(e)||this.relativeZoomValueAxes(this.xAxes,t,e),isNaN(r)||isNaN(n)||this.relativeZoomValueAxes(this.yAxes,r,n),this.updateAfterValueZoom()},handleCursorZoomStarted:function(){if(this.xAxes){var t=this.xAxes[0];this.startX0=t.relativeStart,this.endX0=t.relativeEnd,t.reversed&&(this.startX0=1-t.relativeEnd,this.endX0=1-t.relativeStart)}this.yAxes&&(t=this.yAxes[0],this.startY0=t.relativeStart,this.endY0=t.relativeEnd,t.reversed&&(this.startY0=1-t.relativeEnd,this.endY0=1-t.relativeStart))},updateChartCursor:function(){t.AmXYChart.base.updateChartCursor.call(this);var e=this.chartCursor;if(e){e.valueLineEnabled=!0,e.categoryLineAxis||(e.categoryLineAxis=this.xAxes[0]);var r=this.valueAxis;if(e.valueLineBalloonEnabled){var n=e.categoryBalloonAlpha,i=e.categoryBalloonColor,a=e.color;void 0===i&&(i=e.cursorColor);for(var o=0;o<this.valueAxes.length;o++){var r=this.valueAxes[o],s=r.balloon;s||(s={}),s=t.extend(s,this.balloon,!0),s.fillColor=i,s.balloonColor=i,s.fillAlpha=n,s.borderColor=i,s.color=a,r.balloon=s}}else for(n=0;n<this.valueAxes.length;n++)r=this.valueAxes[n],r.balloon&&(r.balloon=null);e.zoomable&&(this.hideYScrollbar||(e.vZoomEnabled=!0),this.hideXScrollbar||(e.hZoomEnabled=!0))}},handleCursorPanning:function(e){var r,n=e.deltaX,i=e.delta2X;isNaN(i)&&(i=n,r=!0);var a=this.endX0,o=this.startX0,s=a-o,i=a-s*i,a=s;r||(a=0),n=t.fitToBounds(o-s*n,0,1-a),i=t.fitToBounds(i,a,1),this.relativeZoomValueAxes(this.xAxes,n,i),s=e.deltaY,e=e.delta2Y,isNaN(e)&&(e=s,r=!0),i=this.endY0,n=this.startY0,o=i-n,s=i+o*s,i=o,r||(i=0),r=t.fitToBounds(n+o*e,0,1-i),s=t.fitToBounds(s,i,1),this.relativeZoomValueAxes(this.yAxes,r,s),this.updateAfterValueZoom()},handleValueAxisZoom:function(t){this.handleValueAxisZoomReal(t,"V"==t.valueAxis.orientation?this.yAxes:this.xAxes)},showZB:function(){var e,r=this.valueAxes;if(r)for(var n=0;n<r.length;n++){var i=r[n];0!==i.relativeStart&&(e=!0),1!=i.relativeEnd&&(e=!0)}t.AmXYChart.base.showZB.call(this,e)}})}()},function(t,e,r){var n=r(1070);"string"==typeof n&&(n=[[t.id,n,""]]);r(181)(n,{});n.locals&&(t.exports=n.locals)},function(t,e,r){e=t.exports=r(180)(),e.push([t.id,".dnx-shadow .form-control{display:block;width:100%;height:34px;padding:6px 12px 6px 6px;font-size:14px;line-height:1.4;color:#71757f;background-color:#fff;background-image:none;border-top:none;border-right:none;border-bottom:1px solid #ccc;border-left:none;-webkit-transition:border-color .15s ease-in-out,-webkit-box-shadow .15s ease-in-out;-o-transition:border-color ease-in-out .15s,box-shadow ease-in-out .15s;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out;outline:0}.dnx-shadow .form-control:focus{color:#000;border-color:#049fd9;border-width:2px}.dnx-shadow .dropdown-group .form-control,.dnx-shadow .form-group .form-control{padding:6px 0;height:30px}.dnx-shadow .dnx-open{display:block!important}.dnx-shadow .dropdown-menu{top:100%!important}",""])},function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var u=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),c=function t(e,r,n){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,r);if(void 0===i){var a=Object.getPrototypeOf(e);return null===a?void 0:t(a,r,n)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(n)},h=r(1072),g=r(1073),p=i(g),d=r(1074),f=i(d),A=r(1075),C=n(A),m={createElement:h.h},I={},v=C.colorPrim,y=function(t){function e(){o(this,e);var t=s(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t._ref=new WeakMap,t.getConfig=t.getConfig.bind(t),t.initialData=t.initialData.bind(t),t.updateLabels=t.updateLabels.bind(t),t}return l(e,t),u(e,[{key:"renderedCallback",value:function(){c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"connectedCallback",this).call(this);var t=this.getConfig(),r=this._ref.get(I);this.data;this.chart=AmCharts.makeChart(r,t)}},{key:"getConfig",value:function(){var t,e=this,r=this.legendposition,n=this.legends,i=this.labels,o=this.callouttext,s=this.tooltiptext,l=this.data,u=this.exprt;return t={type:"pie",theme:"light",fontFamily:"Helvetica",fontSize:12,startDuration:0,pullOutRadius:0,addClassNames:!0,labelsEnabled:null!==l&&i,outlineColor:"#FFFFFF",outlineAlpha:.8,outlineThickness:2,colorField:"color",labelColorField:"#58585b",legend:{enabled:n,autoMargins:!1,equalWidths:!1,horizontalGap:8,markerSize:8,valueWidth:0,position:r,marginTop:25,fontFamily:"Helvetica",align:"center",markerType:"square",data:this.generateLegendData(),color:"#58585b",markerLabelGap:6},dataProvider:this.initialData(),titleField:"title",valueField:"value"},a(t,"colorField","color"),a(t,"labelRadius",30),a(t,"labelColor","#58585b"),a(t,"radius",109),a(t,"innerRadius",95),a(t,"labelText",o),a(t,"balloonText",s),a(t,"balloon",{adjustBorderColor:!0,borderColor:"#d8d9da",borderAlpha:.1,animationDuration:0,borderThickness:1,color:"#626469",fadeOutDuration:.5,cornerRadius:0,fillColor:"#FFFFFF",fixedPosition:!0,fillAlpha:1,horizontalPadding:8,shadowAlpha:.1,shadowColor:"#000000",textAlign:"middle",verticalPadding:8,fontFamily:"Helvetica",fontSize:12}),a(t,"allLabels",this.getallLabels()),a(t,"export",{enabled:u,fileName:"DNAC-Chart",menu:[{format:"JPG",label:"Export",title:"Export chart to JPG",fileName:"DNAC-Chart"}]}),a(t,"listeners",[{event:"rendered",method:function(t){e.updateLabels(t)}},{event:"drawn",method:function(t){}},{event:"clickSlice",method:function(t){console.log("Clicking...")}}]),t}},{key:"getallLabels",value:function(){var t=this.internaltext,e=(this.data,[]);return t.map(function(t,r){var n={y:t.position,align:"center",size:t.size,bold:t.bold,text:t.text,color:t.color};e.push(n)}),e}},{key:"updateLabels",value:function(t){var e=[],r=this.data,n=this.piecolor;null!==r&&(r.map(function(r,i){t===i?void 0!==r.subs&&r.subs.map(function(t,r){e.push(t.color)}):e.push(n[i]);
}),Array.from(this.shadowRoot.querySelectorAll(".amcharts-pie-label")).forEach(function(t,r){var n=t.getAttribute("transform"),i=t.getAttribute("text-anchor"),a=e[r],o=n.split("(").pop().split(",").shift(),s=n.split(",").pop().split(")").shift(),l=parseInt(o),u=parseInt(s);t.setAttribute("transform","start"==i?"translate("+(l+10)+","+u+")":"translate("+(l-10)+","+u+")");var c=document.createElementNS("http://www.w3.org/2000/svg","circle");c.setAttribute("r","4"),c.setAttribute("cx","0"),c.setAttribute("cy","0"),c.setAttribute("fill",a),c.setAttribute("stroke",a),c.setAttribute("stroke-width","1"),c.setAttribute("stroke-opacity","1"),c.setAttribute("transform",n),c.setAttribute("class","amcharts-legend-marker"),t.parentNode.appendChild(c)}),Array.from(this.shadowRoot.querySelectorAll(".amcharts-legend-label")).forEach(function(t,e){t.setAttribute("transform","translate(14,6)")}))}},{key:"generateLegendData",value:function(){var t=this.data,e=this.labels,r=this.piecolor,n=[];return null!==t?(e?n=[]:t.map(function(t,e){var i={title:t.title,color:r[e]};n.push(i)}),n):n}},{key:"initialData",value:function t(e){var r=this.data,n=this.piecolor,t=[];return null===r?t.push({title:"No Data",value:100,color:"#CACACA",id:1}):r.map(function(e,r){t.push({title:e.title,value:e.value,color:n[r],id:r})}),t}},{key:"_onClickSlice",value:function(t){(0,h.emit)(this,"onClickSlice",{detail:{data:t}})}},{key:"renderCallback",value:function(){var t=this;console.log("rendering donut");var e=this.width,r=this.height,n=f.default;return[m.createElement("style",null,n),m.createElement("div",{ref:function(e){return t._ref.set(I,e)},class:"pie-chart",style:"width: "+e+"; height: "+r+";"})]}}],[{key:"is",get:function(){return"estadistica-donut-chart"}},{key:"props",get:function(){return{height:h.prop.string({attribute:!0,default:"350px"}),width:h.prop.string({attribute:!0,default:"100%"}),data:h.prop.object({attribute:!0,default:null}),selected:h.prop.string(),legendposition:h.prop.string({attribute:!0,default:"bottom"}),labels:h.prop.boolean({attribute:!0,default:!1}),callouttext:h.prop.string({attribute:!0,default:""}),tooltiptext:h.prop.string({attribute:!0,default:""}),piecolor:h.prop.array({attribute:!0,default:v}),internaltext:h.prop.array({attribute:!0,default:[{position:"54%",align:"center",size:32,bold:!0,text:"",color:"#58585b"}]}),legends:h.prop.boolean({attribute:!0,default:!0}),exprt:h.prop.boolean({attribute:!0,default:!1})}}}]),e}((0,p.default)(h.Component));customElements.define(y.is,y),e.default=y},function(t,e,r){var n,i,a;(function(t){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(o,s){"object"===r(e)&&"object"===r(t)?t.exports=s():(i=[],n=s,a="function"==typeof n?n.apply(e,i):n,!(void 0!==a&&(t.exports=a)))}(void 0,function(){return function(t){function e(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var r={};return e.m=t,e.c=r,e.i=function(t){return t},e.d=function(t,r,n){e.o(t,r)||Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=38)}([function(t,e,r){r.d(e,"j",function(){return n}),r.d(e,"c",function(){return i}),r.d(e,"b",function(){return a}),r.d(e,"h",function(){return o}),r.d(e,"f",function(){return s}),r.d(e,"g",function(){return l}),r.d(e,"e",function(){return u}),r.d(e,"m",function(){return c}),r.d(e,"a",function(){return h}),r.d(e,"d",function(){return g}),r.d(e,"k",function(){return p}),r.d(e,"i",function(){return d}),r.d(e,"l",function(){return f});var n="____skate_connected",i="____skate_created",a="____skate_name",o="____skate_ctor_createInitProps",s="____skate_ctor_observedAttributes",l="____skate_ctor_props",u="____skate_ctor_propsMap",c="____skate_props",h="____skate_ref",g="____skate_renderer",p="____skate_rendering",d="____skate_rendererDebounced",f="____skate_updated"},function(t,e,r){function n(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=Object.getOwnPropertyNames(t);return r.i(i.a)(Object.getOwnPropertySymbols)?e.concat(Object.getOwnPropertySymbols(t)):e}var i=r(2);e.a=n},function(t,e,n){n.d(e,"a",function(){return a}),n.d(e,"c",function(){return o}),n.d(e,"e",function(){return s}),n.d(e,"d",function(){return l}),n.d(e,"b",function(){return u});var i="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(t){return"undefined"==typeof t?"undefined":r(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":"undefined"==typeof t?"undefined":r(t)},a=function(t){return"function"==typeof t},o=function(t){return"object"===("undefined"==typeof t?"undefined":i(t))&&null!==t},s=function(t){return"string"==typeof t},l=function(t){return"symbol"===("undefined"==typeof t?"undefined":i(t))},u=function(t){return"undefined"==typeof t}},function(t,e,r){(function(t){e.a="undefined"==typeof window?t:window}).call(e,r(37))},function(t,e,r){var n=r(1);e.a=function(t){for(var e=arguments.length,i=Array(e>1?e-1:0),a=1;a<e;a++)i[a-1]=arguments[a];return i.forEach(function(e){return r.i(n.a)(e).forEach(function(r){return t[r]=e[r]})}),t}},function(t,e,r){e.a=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=t.__SKATE_DATA||(t.__SKATE_DATA={});return e&&(r[e]||(r[e]={}))||r}},function(t,e,r){e.a=function(t){return"undefined"==typeof t||null===t}},function(t,e,r){function n(t){var e={};return r.i(s.a)(r.i(l.a)(t.constructor)).forEach(function(r){e[r]=t[r]}),e}function i(t,e){r.i(o.a)(t,e),t[a.d]&&t[a.d]()}var a=r(0),o=r(4),s=r(1),l=r(10),u=r(2);e.a=function(t,e){return r.i(u.b)(e)?n(t):i(t,e)}},function(t,e,n){(function(t){function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==("undefined"==typeof e?"undefined":r(e))&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof e?"undefined":r(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(e,r,n){if("production"!==t.env.NODE_ENV){var i=e.localName?e.localName:String(e);console.warn(i+" "+r+" is deprecated. Use "+n+".")}}function l(t,e,r,n){return e===t[O]&&r===t[_]&&n===t[P]}function u(t){var e=n.i(v.a)(t);return n.i(I.a)(e).reduce(function(t,r){return t[r]=n.i(b.a)(e[r]),t},{})}function c(t){var e=u(t);return function(t){n.i(I.a)(e).forEach(function(r){var n=e[r];n.beforeDefineProperty(t);var i=r in t,a=i&&t[r];Object.defineProperty(t,r,n),i&&(t[r]=a)})}}var h=n(13),g=(n.n(h),n(0)),p=n(4),d=n(25),f=n(5),A=n(27),C=n(9),m=n(31),I=n(1),v=n(10),y=n(7),b=n(23),x=n(2),w=n(24),N=n(11),S=n(3),T=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),E=function t(e,r,n){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,r);if(void 0===i){var a=Object.getPrototypeOf(e);return null===a?void 0:t(a,r,n)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(n)},k=S.a.HTMLElement||function(){function t(){o(this,t)}return t}(),O=n.i(d.a)("prevName"),_=n.i(d.a)("prevOldValue"),P=n.i(d.a)("prevNewValue"),M=function(t){function e(){var t;o(this,e);for(var r=arguments.length,a=Array(r),l=0;l<r;l++)a[l]=arguments[l];var u=i(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(a))),h=u.constructor;u[g.c]=!0,h.hasOwnProperty(g.h)||n.i(N.a)(h,g.h,c(h)),u[g.i]=n.i(A.a)(u[g.d].bind(u));var p=n.i(I.a)(n.i(v.a)(h)).length;p&&h[g.h]&&h[g.h](u),!u.renderCallback&&h.render&&(s(u,"static render","renderCallback"),u.renderCallback=h.render.bind(h,u));var d=h.created;n.i(x.a)(d)&&(s(u,"static created","constructor"),d(u));var C=n.i(f.a)(u),m=C.readyCallbacks;return m&&(m.forEach(function(t){return t(u)}),delete C.readyCallbacks),u}return a(e,t),T(e,null,[{key:"observedAttributes",get:function(){var t=this.hasOwnProperty(g.f)?this[g.f]:[],r=n.i(v.a)(this),i=Object.keys(r).map(function(t){return r[t].attrSource}).filter(Boolean),a=i.concat(t).concat(E(e.__proto__||Object.getPrototypeOf(e),"observedAttributes",this));return a.filter(function(t,e){return a.indexOf(t)===e})},set:function(t){t=Array.isArray(t)?t:[],n.i(N.a)(this,"observedAttributes",t)}},{key:"props",get:function(){return n.i(p.a)({},E(e.__proto__||Object.getPrototypeOf(e),"props",this),this[g.g])},set:function(t){n.i(N.a)(this,g.g,t)}}]),T(e,[{key:"connectedCallback",value:function(){n.i(C.a)(this).resumeAttributesUpdates(),this[g.j]=!0,this[g.i]();var t=this.constructor.attached;n.i(x.a)(t)&&(s(this,"static attached","connectedCallback"),t(this)),this.setAttribute("defined","")}},{key:"disconnectedCallback",value:function(){n.i(C.a)(this).suspendAttributesUpdates(),this[g.j]=!1;var t=this.constructor.detached;n.i(x.a)(t)&&(s(this,"static detached","disconnectedCallback"),t(this))}},{key:"attributeChangedCallback",value:function(t,e,r){if(!l(this,t,e,r)){this[O]=t,this[_]=e,this[P]=r;var i=n.i(f.a)(this,"attrSourceLinks")[t];if(i){var a=n.i(C.a)(this).onAttributeChanged(t,r);if(a){var o=n.i(v.a)(this.constructor)[i],u=null!==r&&o.deserialize?o.deserialize(r):r,c=n.i(f.a)(this,"props")[i];c.settingPropFromAttrSource=!0,this[i]=u,c.settingPropFromAttrSource=!1}}var h=this.constructor.attributeChanged;n.i(x.a)(h)&&(s(this,"static attributeChanged","attributeChangedCallback"),h(this,{name:t,newValue:r,oldValue:e}))}}},{key:"updatedCallback",value:function(t){return this.constructor.hasOwnProperty("updated")&&s(this,"static updated","updatedCallback"),this.constructor.updated(this,t)}},{key:"renderedCallback",value:function(){return this.constructor.hasOwnProperty("rendered")&&s(this,"static rendered","renderedCallback"),this.constructor.rendered(this)}},{key:"rendererCallback",value:function(){return this.constructor.renderer(this)}},{key:g.d,value:function(){!this[g.k]&&this[g.j]&&(this[g.k]=!0,this[g.l]()&&n.i(x.a)(this.renderCallback)&&(this.rendererCallback(),this.renderedCallback()),this[g.k]=!1)}},{key:g.l,value:function(){var t=this[g.m];return this[g.m]=n.i(y.a)(this),this.updatedCallback(t)}}],[{key:"extend",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this,r=function(t){function e(){return o(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,t),e}(e),s=n.i(m.a)(t),l=n.i(m.a)(t.prototype);return delete s.prototype,Object.defineProperties(r,s),Object.defineProperties(r.prototype,l),r}},{key:"rendered",value:function(){}},{key:"renderer",value:function(t){t.shadowRoot||t.attachShadow({mode:"open"}),n.i(h.patchInner)(t.shadowRoot,function(){var e=t.renderCallback(t);n.i(x.a)(e)?e():Array.isArray(e)&&e.forEach(function(t){n.i(x.a)(t)&&t()})})}},{key:"updated",value:function(t,e){if(!e)return!0;for(var r=n.i(I.a)(e),i=0;i<r.length;i++){var a=r[i];if(!n.i(w.a)(e[a],t[a]))return!0}return!1}}]),e}(k);M.is="",e.a=M}).call(e,n(14))},function(t,e,r){function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t){var e=t[u];return e||(e=new l(t),t[u]=e),e}var a=r(12),o=r(2);e.a=i;var s=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),l=function(){function t(e){n(this,t),this.elem=e,this.connected=!1,this.pendingValues={},this.lastSetValues={}}return s(t,[{key:"suspendAttributesUpdates",value:function(){this.connected=!1}},{key:"resumeAttributesUpdates",value:function(){var t=this;this.connected=!0;var e=Object.keys(this.pendingValues);e.forEach(function(e){var n=t.pendingValues[e];r.i(o.b)(n)||(delete t.pendingValues[e],t._syncAttrValue(e,n))})}},{key:"onAttributeChanged",value:function(t,e){e=r.i(a.a)(e),this._clearPendingValue(t);var n=this.lastSetValues[t]!==e;return this.lastSetValues[t]=e,n}},{key:"setAttrValue",value:function(t,e){e=r.i(a.a)(e),this.lastSetValues[t]=e,this.connected?(this._clearPendingValue(t),this._syncAttrValue(t,e)):this.pendingValues[t]=e}},{key:"_syncAttrValue",value:function(t,e){var n=r.i(a.a)(this.elem.getAttribute(t));e!==n&&(null===e?this.elem.removeAttribute(t):this.elem.setAttribute(t,e))}},{key:"_clearPendingValue",value:function(t){t in this.pendingValues&&delete this.pendingValues[t]}}]),t}(),u="____skate_attributesMgr"},function(t,e,r){function n(t){return t.hasOwnProperty(i.e)||!function(){var e=t.props||{},n=r.i(a.a)(e).reduce(function(t,r){return t[r]=new o.a(r,e[r]),t},{});r.i(s.a)(t,i.e,n)}(),t[i.e]}var i=r(0),a=r(1),o=r(35),s=r(11);e.a=n},function(t,e,r){function n(t,e,r){Object.defineProperty(t,e,{configurable:!0,value:r})}e.a=n},function(t,e,r){var n=r(6),i=function(t){return r.i(n.a)(t)?null:String(t)};e.a=i},function(t,e,n){function i(t,e){this.attrs=u(),this.attrsArr=[],this.newAttrs=u(),this.key=e,this.keyMap=null,this.keyMapValid=!0,this.nodeName=t,this.text=null}function a(){this.created=T.nodesCreated&&[],this.deleted=T.nodesDeleted&&[]}/**
	       * @license
	       * Copyright 2015 The Incremental DOM Authors. All Rights Reserved.
	       *
	       * Licensed under the Apache License, Version 2.0 (the "License");
	       * you may not use this file except in compliance with the License.
	       * You may obtain a copy of the License at
	       *
	       *      http://www.apache.org/licenses/LICENSE-2.0
	       *
	       * Unless required by applicable law or agreed to in writing, software
	       * distributed under the License is distributed on an "AS-IS" BASIS,
	       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	       * See the License for the specific language governing permissions and
	       * limitations under the License.
	       */
var o=Object.prototype.hasOwnProperty,s=Object.create,l=function(t,e){return o.call(t,e)},u=function(){return s(null)},c=function(t,e,r){var n=new i(e,r);return t.__incrementalDOMData=n,n},h=function(t){var e=t.__incrementalDOMData;if(!e){var r=t.nodeName.toLowerCase(),n=null;t instanceof Element&&(n=t.getAttribute("key")),e=c(t,r,n)}return e},g={default:"__default",placeholder:"__placeholder"},p=function(t){return 0===t.lastIndexOf("xml:",0)?"http://www.w3.org/XML/1998/namespace":0===t.lastIndexOf("xlink:",0)?"http://www.w3.org/1999/xlink":void 0},d=function(t,e,r){if(null==r)t.removeAttribute(e);else{var n=p(e);n?t.setAttributeNS(n,e,r):t.setAttribute(e,r)}},f=function(t,e,r){t[e]=r},A=function(t,e,r){if("string"==typeof r)t.style.cssText=r;else{t.style.cssText="";var n=t.style,i=r;for(var a in i)l(i,a)&&(n[a]=i[a])}},C=function(t,e,n){var i="undefined"==typeof n?"undefined":r(n);"object"===i||"function"===i?f(t,e,n):d(t,e,n)},m=function(t,e,r){var n=h(t),i=n.attrs;if(i[e]!==r){var a=I[e]||I[g.default];a(t,e,r),i[e]=r}},I=u();I[g.default]=C,I[g.placeholder]=function(){},I.style=A;var v=function(t,e){return"svg"===t?"http://www.w3.org/2000/svg":"foreignObject"===h(e).nodeName?null:e.namespaceURI},y=function(t,e,r,n,i){var a=v(r,e),o=void 0;if(o=a?t.createElementNS(a,r):t.createElement(r),c(o,r,n),i)for(var s=0;s<i.length;s+=2)m(o,i[s],i[s+1]);return o},b=function(t){var e=t.createTextNode("");return c(e,"#text",null),e},x=function(t){for(var e=u(),r=t.firstElementChild;r;){var n=h(r).key;n&&(e[n]=r),r=r.nextElementSibling}return e},w=function(t){var e=h(t);return e.keyMap||(e.keyMap=x(t)),e.keyMap},N=function(t,e){return e?w(t)[e]:null},S=function(t,e,r){w(t)[e]=r},T={nodesCreated:null,nodesDeleted:null};a.prototype.markCreated=function(t){this.created&&this.created.push(t)},a.prototype.markDeleted=function(t){this.deleted&&this.deleted.push(t)},a.prototype.notifyChanges=function(){this.created&&this.created.length>0&&T.nodesCreated(this.created),this.deleted&&this.deleted.length>0&&T.nodesDeleted(this.deleted)};var E=null,k=null,O=null,_=null,P=null,M=function(t){var e=function(e,r,n){var i=E,o=_,s=P,l=k,u=O;E=new a,_=e,P=e.ownerDocument,O=e.parentNode,t(e,r,n),E.notifyChanges(),E=i,_=o,P=s,k=l,O=u};return e},D=M(function(t,e,r){k=t,B(),e(r),j()}),R=M(function(t,e,r){k={nextSibling:t},e(r)}),L=function(t,e){var r=h(k);return t===r.nodeName&&e==r.key},z=function(t,e,r){if(!k||!L(t,e)){var n=void 0;e&&(n=N(O,e)),n||(n="#text"===t?b(P):y(P,O,t,e,r),e&&S(O,e,n),E.markCreated(n)),k&&h(k).key?(O.replaceChild(n,k),h(O).keyMapValid=!1):O.insertBefore(n,k),k=n}},F=function(){var t=O,e=h(t),r=e.keyMap,n=e.keyMapValid,i=t.lastChild,a=void 0;if(!(i===k&&n||e.attrs[g.placeholder]&&t!==_)){for(;i!==k;)t.removeChild(i),E.markDeleted(i),a=h(i).key,a&&delete r[a],i=t.lastChild;if(!n){for(a in r)i=r[a],i.parentNode!==t&&(E.markDeleted(i),delete r[a]);e.keyMapValid=!0}}},B=function(){O=k,k=null},V=function(){k=k?k.nextSibling:O.firstChild},j=function(){F(),k=O,O=O.parentNode},W=function(t,e,r){return V(),z(t,e,r),B(),O},G=function(){return j(),k},U=function(){return V(),z("#text",null,null),k},H=function(){return O},Y=function(){k=O.lastChild},Z=3,X=[],q=function(t,e,r,n){for(var i=W(t,e,r),a=h(i),o=a.attrsArr,s=a.newAttrs,l=!1,u=Z,c=0;u<arguments.length;u+=1,c+=1)if(o[c]!==arguments[u]){l=!0;break}for(;u<arguments.length;u+=1,c+=1)o[c]=arguments[u];if(c<o.length&&(l=!0,o.length=c),l){for(u=Z;u<arguments.length;u+=2)s[arguments[u]]=arguments[u+1];for(var g in s)m(i,g,s[g]),s[g]=void 0}return i},K=function(t,e,r){X[0]=t,X[1]=e,X[2]=r},J=function(t,e){X.push(t,e)},Q=function(){var t=q.apply(null,X);return X.length=0,t},$=function(t){var e=G();return e},tt=function(t,e,r,n){return q.apply(null,arguments),$(t)},et=function(t,e,r,n){return q.apply(null,arguments),Y(),$(t)},rt=function(t,e){var r=U(),n=h(r);if(n.text!==t){n.text=t;for(var i=t,a=1;a<arguments.length;a+=1){var o=arguments[a];i=o(i)}r.data=i}return r};e.patch=D,e.patchInner=D,e.patchOuter=R,e.currentElement=H,e.skip=Y,e.elementVoid=tt,e.elementOpenStart=K,e.elementOpenEnd=Q,e.elementOpen=q,e.elementClose=$,e.elementPlaceholder=et,e.text=rt,e.attr=J,e.symbols=g,e.attributes=I,e.applyAttr=d,e.applyProp=f,e.notifications=T},function(t,e){function r(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function i(t){if(c===setTimeout)return setTimeout(t,0);if((c===r||!c)&&setTimeout)return c=setTimeout,setTimeout(t,0);try{return c(t,0)}catch(e){try{return c.call(null,t,0)}catch(e){return c.call(this,t,0)}}}function a(t){if(h===clearTimeout)return clearTimeout(t);if((h===n||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(t);try{return h(t)}catch(e){try{return h.call(null,t)}catch(e){return h.call(this,t)}}}function o(){f&&p&&(f=!1,p.length?d=p.concat(d):A=-1,d.length&&s())}function s(){if(!f){var t=i(o);f=!0;for(var e=d.length;e;){for(p=d,d=[];++A<e;)p&&p[A].run();A=-1,e=d.length}p=null,f=!1,a(t)}}function l(t,e){this.fun=t,this.array=e}function u(){}var c,h,g=t.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:r}catch(t){c=r}try{h="function"==typeof clearTimeout?clearTimeout:n}catch(t){h=n}}();var p,d=[],f=!1,A=-1;g.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];d.push(new l(t,e)),1!==d.length||f||i(s)},l.prototype.run=function(){this.fun.apply(null,this.array)},g.title="browser",g.browser=!0,g.env={},g.argv=[],g.version="",g.versions={},g.on=u,g.addListener=u,g.once=u,g.off=u,g.removeListener=u,g.removeAllListeners=u,g.emit=u,g.binding=function(t){throw new Error("process.binding is not supported")},g.cwd=function(){return"/"},g.chdir=function(t){throw new Error("process.chdir is not supported")},g.umask=function(){return 0}},function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0});var n=r(19),i=r(21),a=r(22),o=r(8),s=r(16),l=r(17),u=r(18),c=r(7),h=r(20);r.d(e,"Component",function(){return o.a}),r.d(e,"define",function(){return s.a}),r.d(e,"emit",function(){return l.a}),r.d(e,"link",function(){return u.a}),r.d(e,"prop",function(){return n}),r.d(e,"props",function(){return c.a}),r.d(e,"ready",function(){return h.a}),r.d(e,"symbols",function(){return i}),r.d(e,"vdom",function(){return a}),r.d(e,"h",function(){return g});var g=a.builder()},function(t,e,n){(function(t){var i=n(8),a=n(36),o=n(3),s="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(t){return"undefined"==typeof t?"undefined":r(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":"undefined"==typeof t?"undefined":r(t)};e.a=function(){for(var e=o.a.customElements,r=o.a.HTMLElement,l=arguments.length,u=Array(l),c=0;c<l;c++)u[c]=arguments[c];var h=u[0],g=u[1];if(!e)throw new Error("Skate requires native custom element support or a polyfill.");if("production"!==t.env.NODE_ENV&&2===u.length&&console.warn('The "name" argument to define() is deprecated. Please define a `static is` property on the constructor instead.'),1===u.length&&(g=h,h=null),"object"===("undefined"==typeof g?"undefined":s(g))&&(g=i.a.extend(g)),!(g.prototype instanceof r))throw new Error("You must provide a constructor that extends HTMLElement to define().");return 2===u.length?e.define(e.get(h)?n.i(a.a)(h):h,g):(g.hasOwnProperty("is")||(g.is=n.i(a.a)()),e.define(g.is,g)),g}}).call(e,n(14))},function(t,e,r){function n(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.detail;delete e.detail;var n=void 0;return a?(n=new a(t,e),Object.defineProperty(n,"detail",{value:r})):(n=document.createEvent("CustomEvent"),Object.defineProperty(n,"composed",{value:e.composed}),n.initCustomEvent(t,e.bubbles,e.cancelable,r)),n}var i=r(3),a=function(t){if(t)try{new t("emit-init")}catch(t){return}return t}(i.a.Event);e.a=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return void 0===r.bubbles&&(r.bubbles=!0),void 0===r.cancelable&&(r.cancelable=!0),void 0===r.composed&&(r.composed=!0),t.dispatchEvent(n(e,r))}},function(t,e,r){function n(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function i(t){var e=t.type;return"checkbox"===e||"radio"===e?!!t.checked&&(t.value||!0):t.value}var a=r(7);e.a=function(t,e){return function(o){var s=o.target||o.composedPath()[0],l=i(s),u=e||s.name||"value";if(u.indexOf(".")>-1){var c=u.split("."),h=c[0],g=c.pop(),p=c.reduce(function(t,e){return t&&t[e]},t);p[g||o.target.name]=l,r.i(a.a)(t,n({},h,t[h]))}else r.i(a.a)(t,n({},u,l))}}},function(t,e,r){function n(t){return function(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];return r.unshift({},t),i.a.apply(void 0,r)}}Object.defineProperty(e,"__esModule",{value:!0});var i=r(4),a=r(6),o=r(12);e.create=n,r.d(e,"array",function(){return l}),r.d(e,"boolean",function(){return u}),r.d(e,"number",function(){return h}),r.d(e,"string",function(){return g}),r.d(e,"object",function(){return p});var s=function(t){return r.i(a.a)(t)?null:JSON.parse(t)},l=n({coerce:function(t){return Array.isArray(t)?t:r.i(a.a)(t)?null:[t]},default:function(){return[]},deserialize:s,serialize:JSON.stringify}),u=n({coerce:function(t){return!!t},default:!1,deserialize:function(t){return!(null===t)},serialize:function(t){return t?"":null}}),c=function(t){return r.i(a.a)(t)?0:Number(t)},h=n({default:0,coerce:c,deserialize:c,serialize:o.a}),g=n({default:"",coerce:o.a,deserialize:o.a,serialize:o.a}),p=n({default:function(){return{}},deserialize:s,serialize:JSON.stringify})},function(t,e,r){var n=r(0),i=r(5);e.a=function(t,e){var a=r.i(i.a)(t);t[n.c]?e(t):a.readyCallbacks?a.readyCallbacks.push(e):a.readyCallbacks=[e]}},function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0});var n=r(0);r.d(e,"name",function(){return n.b})},function(t,e,n){function i(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}function a(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function o(t,e,r){var n=t[T];n||(n=t[T]={}),"undefined"==typeof n[e]&&t.addEventListener(e,function(t){n[e]&&n[e].call(this,t)}),n[e]="function"==typeof r?r:null}function s(t){if(!t)return t;if(t.is)return t.is;if(t.prototype instanceof x){if(t[m.b])return t[m.b];var e=new t;return e[m.b]=e.localName}return t}function l(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;O=[t,e,r]}function u(){var t=z.apply(void 0,i(O));return O=null,t}function c(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:P;return function r(){for(var i=arguments.length,a=Array(i),o=0;o<i;o++)a[o]=arguments[o];if(a[0]=s(a[0]),k=null,"function"==typeof a[0])return k=a[0],e.apply(void 0,a);if(N.length)N[N.length-1].push([r,a]);else{if(t===D){if(_)return++_;var c=t.apply(void 0,a);return c[S]&&++_,c}if(t===C.elementClose){if(1===_&&n.i(C.skip)(),_&&--_)return;var h=t.apply(void 0,a),g=h[m.a];return delete h[m.a],"function"==typeof g&&g(h),h}if(!_||t===l||t===u)return t.apply(void 0,a)}}}function h(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];k?k[E][e[0]]=e[1]:N.length?N[N.length-1].push([h,e]):(O.push(e[0]),O.push(e[1]))}function g(t,e,r){for(var n={key:e,statics:r},i=arguments.length,a=Array(i>3?i-3:0),o=3;o<i;o++)a[o-3]=arguments[o];for(var s=0;s<a.length;s+=2)n[a[s]]=a[s+1];t[E]=n,N.push([])}function p(t){var e=N.pop(),r=t[E];delete t[E];var n=t(r,function(){return e.forEach(function(t){return t[0].apply(t,i(t[1]))})});return"function"==typeof n?n():n}function d(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return z.apply(void 0,[t].concat(r)),F(t)}function f(t,e){for(var r="undefined"==typeof e?"undefined":y(e),n=arguments.length,i=Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a];return"function"!==r&&"string"!==r&&"number"!==r||i.unshift(e),null!==e&&"object"===r||(e={}),R(t,e.key,e.statics),delete e.key,delete e.statics,Object.keys(e).forEach(function(t){return h(t,e[t])}),L(t),i.forEach(function(t){var e="undefined"==typeof t?"undefined":y(t);"function"===e?t():"string"===e||"number"===e?B(t):Array.isArray(t)&&t.forEach(function(t){return t()})}),F(t)}function A(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return 0===e.length?function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return f.bind.apply(f,[null].concat(e))}:e.map(function(t){return function(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];return f.bind.apply(f,[null,t].concat(r))}})}Object.defineProperty(e,"__esModule",{value:!0});var C=n(13),m=(n.n(C),n(0)),I=n(34),v=n(3);e.element=f,e.builder=A,n.d(e,"attr",function(){return h}),n.d(e,"elementClose",function(){return F}),n.d(e,"elementOpen",function(){return z}),n.d(e,"elementOpenEnd",function(){return L}),n.d(e,"elementOpenStart",function(){return R}),n.d(e,"elementVoid",function(){return d}),n.d(e,"text",function(){return B});var y="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(t){return"undefined"==typeof t?"undefined":r(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":"undefined"==typeof t?"undefined":r(t)},b=v.a.customElements,x=v.a.HTMLElement,w=C.attributes[C.symbols.default],N=[],S="__skip",T="__events",E="__props",k=void 0,O=void 0,_=0,P=function(){},M=n.i(I.a)(C.attributes,a({key:P,statics:P,checked:C.applyProp,className:C.applyProp,disabled:C.applyProp,value:C.applyProp,ref:function(t,e,r){t[m.a]=r},skip:function(t,e,r){r?t[S]=!0:delete t[S]}},C.symbols.default,function(t,e,r){var i=b.get(t.localName),a=i&&i.props||{},s=i&&i.prototype||{};if((e in a||e in t||e in s)&&!("ownerSVGElement"in t))return void n.i(C.applyProp)(t,e,r);if(r===!1)return void w(t,e);if(0===e.indexOf("on")){var l=e[2],u=void 0;if("-"===l?u=e.substring(3):l===l.toUpperCase()&&(u=l.toLowerCase()+e.substring(3)),u)return void o(t,u,r)}w(t,e,r)})),D=M(C.elementOpen),R=c(l,g),L=c(u),z=c(D,g),F=c(C.elementClose,p),B=c(C.text)},function(t,e,r){function n(t){var e=t.nameOrSymbol,n={configurable:!0,enumerable:!0};return n.beforeDefineProperty=function(n){var i=r.i(c.a)(n,e),h=t.attrSource;h&&(r.i(a.a)(n,"attrSourceLinks")[h]=e);var g=n[e],p=!1;r.i(o.a)(g)&&(h&&n.hasAttribute(h)?(p=!0,g=t.deserialize(n.getAttribute(h))):g="initial"in t?r.i(u.a)(n,t):r.i(l.a)(n,t)),g=t.coerce(g),i.internalValue=g;var d=t.attrTarget&&!r.i(o.a)(g)&&(!p||t.attrTargetIsNotSource);if(d){var f=t.serialize(g);r.i(s.a)(n).setAttrValue(t.attrTarget,f)}},n.get=function(){var n=r.i(c.a)(this,e),i=n.internalValue;return t.get?t.get(this,{name:e,internalValue:i}):i},n.set=function(n){var a=r.i(c.a)(this,e),u=r.i(o.a)(n);if(u&&(n=r.i(l.a)(this,t)),n=t.coerce(n),t.set){var h=a.oldValue;r.i(o.a)(h)&&(h=null);var g={name:e,newValue:n,oldValue:h};t.set(this,g)}this[i.i](this),a.internalValue=a.oldValue=n;var p=t.attrTarget&&(t.attrTargetIsNotSource||!a.settingPropFromAttrSource);if(p){var d=u?null:t.serialize(n);r.i(s.a)(this).setAttrValue(t.attrTarget,d)}},n}var i=r(0),a=r(5),o=r(6),s=r(9),l=r(29),u=r(30),c=r(32);e.a=n},function(t,e,r){Object.is||(Object.is=function(t,e){return t===e?0!==t||1/t===1/e:t!==t&&e!==e}),e.a=Object.is},function(t,e,r){function n(t){return"function"==typeof Symbol?Symbol(t):t}e.a=n},function(t,e,r){e.a=function(t){return t.split(/([A-Z])/).reduce(function(t,e,r){var n=t&&r%2!==0?"-":"";return""+t+n+e.toLowerCase()})}},function(t,e,r){function n(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}function i(t){var e=!1,r=0,i=[],a=document.createElement("span"),o=new l(function(){t.apply(void 0,n(i)),e=!1,i=null});return o.observe(a,{childList:!0}),function(){for(var t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];i=n,e||(e=!0,a.textContent=""+r,r+=1)}}function a(t){var e=!1,r=[];return function(){for(var i=arguments.length,a=Array(i),o=0;o<i;o++)a[o]=arguments[o];r=a,e||(e=!0,setTimeout(function(){e=!1,t.apply(void 0,n(r))},1))}}var o=r(33),s=r(3),l=s.a.MutationObserver;e.a=r.i(o.a)(l)?i:a},function(t,e,r){function n(t){throw new Error(t)}e.a=n},function(t,e,r){function n(t,e){return"function"==typeof e.default?e.default(t,{name:e.nameOrSymbol}):e.default}e.a=n},function(t,e,r){function n(t,e){return"function"==typeof e.initial?e.initial(t,{name:e.nameOrSymbol}):e.initial}e.a=n},function(t,e,r){var n=r(1);e.a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.i(n.a)(t).reduce(function(e,r){return e[r]=Object.getOwnPropertyDescriptor(t,r),e},{})}},function(t,e,r){function n(t,e){var n=r.i(i.a)(t,"props");return n[e]||(n[e]={})}var i=r(5);e.a=n},function(t,e,r){var n=["native code","[object MutationObserverConstructor]"];e.a=function(t){return n.map(function(e){return(t||"").toString().indexOf([e])>-1}).reduce(function(t,e){return t||e})}},function(t,e,r){function n(t,e){var r={};return Object.keys(e).forEach(function(n){r[n]=t[n],t[n]=e[n]}),r}function i(t,e){r.i(a.a)(t,e)}var a=r(4);e.a=function(t,e){return function(r){return function(){var a=n(t,e),o=r.apply(void 0,arguments);return i(t,a),o}}}},function(t,e,r){function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(r.i(l.d)(e))r.i(s.a)(e.toString()+" symbol property cannot have an attribute.");else{if(t===!0)return r.i(a.a)(String(e));if(r.i(l.e)(t))return t}return null}var a=r(26),o=r(6),s=r(28),l=r(2),u=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),c=function(){function t(e,a){var u=this;n(this,t),this._nameOrSymbol=e,a=a||{},this.attrSource=null,this.attrTarget=null,this.attrTargetIsNotSource=!1,this.coerce=function(t){return t},this.default=null,this.deserialize=function(t){return t},this.get=null,this.serialize=function(t){return r.i(o.a)(t)?null:String(t)},this.set=null,Object.keys(a).forEach(function(t){var n=a[t];switch(t){case"attribute":if(r.i(l.c)(n)){var o=n.source,c=n.target;o||c||r.i(s.a)(t+" 'source' or 'target' is missing."),u.attrSource=i(o,e),u.attrTarget=i(c,e),u.attrTargetIsNotSource=u.attrTarget!==u.attrSource}else u.attrSource=u.attrTarget=i(n,e);break;case"coerce":case"deserialize":case"get":case"serialize":case"set":r.i(l.a)(n)?u[t]=n:r.i(s.a)(t+" must be a function.");break;case"default":case"initial":u[t]=n;break;default:u[t]=n}})}return u(t,[{key:"nameOrSymbol",get:function(){return this._nameOrSymbol}}]),t}();e.a=c},function(t,e,r){function n(t){var e="xxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0,r="x"===t?e:3&e|8;return r.toString(16)});return(t||"x")+"-"+e}e.a=n},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"===("undefined"==typeof window?"undefined":r(window))&&(n=window)}t.exports=n},function(t,e,r){t.exports=r(15)}])})}).call(e,r(596)(t))},function(t,e){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();e.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:HTMLElement;return function(t){function e(){return r(this,e),n(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,t),a(e,[{key:"attachShadow",value:function(){return this}},{key:"shadowRoot",get:function(){return this}}]),e}(t)}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default='\n.amcharts-pie-label {\n    font-family: CiscoSans;\n    font-size: 10px;\n    font-weight: 300;\n    line-height: 1.5;\n    letter-spacing: 0.9px;\n    text-align: center;\n    color: #58585b;\n}\n\n.amcharts-legend-label {\n    font-family: CiscoSans;\n    font-size: 10px;\n    font-weight: 300;\n    line-height: 1.08;\n    letter-spacing: 0.9px;\n    text-align: center;\n    color: #58585b;\n}\n\n.amcharts-title {\n    font-family: CiscoSans;\n    font-size: 18px;\n    font-weight: 300;\n    line-height: 1;\n    letter-spacing: 0.7px;\n    text-align: left;\n    color: #58585b;\n}\n\n.amcharts-label {\n    font-family: CiscoSans;\n    font-weight: 300;\n    letter-spacing: 0.8px;\n    text-align: center;\n}\n.amcharts-balloon-div {\n    font-family: CiscoSans;\n    font-weight: 300;\n    letter-spacing: 0.8px;\n}\n .text-center {\n    text-align: center;\n    vertical-align: middle;\n    line-height: 350px; \n }\n/*\n.amcharts-balloon-div:after {\n    content:\'\';\n    position: absolute;\n    top: 100%;\n    left: 25;\n    right: 10;\n    margin: 0 auto;\n    width: 5;\n    height: 0;\n    border-top: solid 15px white;\n    border-left: solid 15px transparent;\n    border-right: solid 15px transparent;\n}\n*/\n.amcharts-export-canvas{position:absolute;display:none;z-index:1;top:0;right:0;bottom:0;left:0;background-color:#fff;}.amcharts-export-canvas.active{display:block;}.amcharts-export-menu{position:absolute;z-index:2;opacity:0.5;color:#000;}.amcharts-main-div:hover .amcharts-export-menu,.amcharts-stock-div:hover .amcharts-export-menu,.amcharts-export-menu.active{opacity:1;}.amcharts-export-menu-top-left>ul>li>ul:after{content:"";position:absolute;top:13px;right:100%;z-index:1000;border-top:7px solid transparent;border-left:7px solid transparent;border-right:7px solid #fff;border-bottom:7px solid transparent;}.amcharts-export-menu-top-left>ul>li>ul>li:first-child>a:after{content:"";position:absolute;top:12px;right:100%;z-index:1001;border-top:8px solid transparent;border-left:8px solid transparent;border-right:8px solid #e2e2e2;border-bottom:8px solid transparent;}.amcharts-export-menu-top-right>ul>li>ul:after{content:"";position:absolute;top:13px;left:100%;z-index:1000;border-top:7px solid transparent;border-left:7px solid #fff;border-right:7px solid transparent;border-bottom:7px solid transparent;}.amcharts-export-menu-top-right>ul>li>ul>li:first-child>a:after{content:"";position:absolute;top:12px;left:100%;z-index:1001;border-top:8px solid transparent;border-left:8px solid #e2e2e2;border-right:8px solid transparent;border-bottom:8px solid transparent;}.amcharts-export-menu-bottom-left>ul>li>ul:after{content:"";position:absolute;bottom:13px;right:100%;z-index:1000;border-top:7px solid transparent;border-left:7px solid transparent;border-right:7px solid #fff;border-bottom:7px solid transparent;}.amcharts-export-menu-bottom-left>ul>li>ul>li:last-child>a:after{content:"";position:absolute;bottom:12px;right:100%;z-index:1001;border-top:8px solid transparent;border-left:8px solid transparent;border-right:8px solid #e2e2e2;border-bottom:8px solid transparent;}.amcharts-export-menu-bottom-right>ul>li>ul:after{content:"";position:absolute;bottom:13px;left:100%;z-index:1000;border-top:7px solid transparent;border-left:7px solid #fff;border-right:7px solid transparent;border-bottom:7px solid transparent;}.amcharts-export-menu-bottom-right>ul>li>ul>li:last-child>a:after{content:"";position:absolute;bottom:12px;left:100%;z-index:1001;border-top:8px solid transparent;border-left:8px solid #e2e2e2;border-right:8px solid transparent;border-bottom:8px solid transparent;}.amcharts-export-menu ul{list-style:none;margin:0;padding:0;}.amcharts-export-menu li{position:relative;display:block;z-index:1;}.amcharts-export-menu li>ul{position:absolute;display:none;border:1px solid #e2e2e2;margin-top:-1px;background:#fff;}.amcharts-export-menu li>a{position:relative;display:block;color:#000;text-decoration:none;padding:12px 12px;z-index:2;white-space:nowrap;border-bottom:1px solid #f2f2f2;}.amcharts-export-menu li:last-child>a{border-bottom:none;}.amcharts-export-menu li>a>img{border:none;}.amcharts-export-menu-top-left{top:0;left:0;}.amcharts-export-menu-bottom-left{bottom:0;left:0;}.amcharts-export-menu-top-right{top:0;right:0;}.amcharts-export-menu-bottom-right{bottom:0;right:0;}.amcharts-export-menu li:hover>ul,.amcharts-export-menu li.active>ul{display:block;}.amcharts-export-menu li:hover>a,.amcharts-export-menu li.active>a{color:#fff;background-color:#636363;}.amcharts-export-menu-top-left li:hover>ul,.amcharts-export-menu-top-left li.active>ul{left:100%;top:0;}.amcharts-export-menu-bottom-left li:hover>ul,.amcharts-export-menu-bottom-left li.active>ul{left:100%;bottom:0;}.amcharts-export-menu-top-right li:hover>ul,.amcharts-export-menu-top-right li.active>ul{top:0;right:100%;}.amcharts-export-menu-bottom-right li:hover>ul,.amcharts-export-menu-bottom-right li.active>ul{bottom:0;right:100%;}.amcharts-export-menu .export-main>a,.amcharts-export-menu .export-drawing>a,.amcharts-export-menu .export-delayed-capturing>a{display:block;overflow:hidden;text-indent:-13333337px;width:36px;height:36px;padding:0;background-repeat:no-repeat;background-image:url(\'data:image/svg+xml;charset=utf8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20width%3D%2211px%22%20height%3D%2214px%22%3E%3Cpath%20d%3D%22M3%2C0%20L8%2C0%20L8%2C5%20L11%2C5%20L5.5%2C10%20L0%2C5%20L3%2C5%20L03%2C0%22%20fill%3D%22%23888%22%2F%3E%3Crect%20x%3D%220%22%20y%3D%2212%22%20fill%3D%22%23888%22%20width%3D%2211%22%20height%3D%222%22%2F%3E%3C%2Fsvg%3E\');background-color:#fff;background-position:center;-webkit-box-shadow:1px 1px 3px 0px rgba(0,0,0,0.5);-moz-box-shadow:1px 1px 3px 0px rgba(0,0,0,0.5);box-shadow:1px 1px 3px 0px rgba(0,0,0,0.5);border-radius:18px;margin:8px 8px 0 10px;}.amcharts-export-menu .export-drawing>a{background-image:url(\'data:image/svg+xml;charset=utf8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20version%3D%221.1%22%20width%3D%2216px%22%20height%3D%2217px%22%3E%3Crect%20x%3D%220%22%20y%3D%2216%22%20fill%3D%22%23888%22%20width%3D%2214%22%20height%3D%221%22%2F%3E%3Cpath%20transform%3D%22translate(-12%2C-10)%22%20fill%3D%22%23888%22%20d%3D%22M17.098%2C20.305c-0.142%2C0.146%2C0.101%2C0.04%2C0.137%2C0.004c0.027-0.028%2C0.204-0.09%2C0.484-0.09c0.338%2C0%2C0.626%2C0.092%2C0.787%2C0.255%20c0.473%2C0.472%2C0.424%2C0.932%2C0.393%2C1.078l-2.521%2C1.055l-1.577-1.577l1.054-2.52c0.039-0.009%2C0.105-0.018%2C0.188-0.018%20c0.219%2C0%2C0.555%2C0.069%2C0.893%2C0.407c0.378%2C0.378%2C0.246%2C1.188%2C0.166%2C1.271C17.062%2C20.207%2C17.062%2C20.269%2C17.098%2C20.305z%20M26.984%2C14.472c-0.008-0.674-0.61-1.257-1.31-1.933c-0.134-0.129-0.679-0.673-0.809-0.808c-0.679-0.702-1.266-1.31-1.943-1.31%20c-0.37%2C0-0.734%2C0.207-1.114%2C0.587l-6.852%2C6.847c-0.012%2C0.016-2.877%2C7.354-2.877%2C7.354c-0.012%2C0.032%2C0%2C0.063%2C0.022%2C0.091%20c0.021%2C0.021%2C0.044%2C0.029%2C0.067%2C0.029c0.01%2C0%2C0.018-0.003%2C0.028-0.007c0%2C0%2C7.357-2.864%2C7.369-2.877l6.854-6.847%20C26.803%2C15.216%2C26.988%2C14.848%2C26.984%2C14.472z%22%2F%3E%3C%2Fsvg%3E\');}.amcharts-export-menu .export-main:hover,.amcharts-export-menu .export-drawing:hover,.amcharts-export-menu .export-main.active,.amcharts-export-menu .export-drawing.active{padding-bottom:100px;}.amcharts-export-menu.amcharts-export-menu-bottom-left .export-main:hover,.amcharts-export-menu.amcharts-export-menu-bottom-left .export-drawing:hover,.amcharts-export-menu.amcharts-export-menu-bottom-right .export-main:hover,.amcharts-export-menu.amcharts-export-menu-bottom-right .export-drawing:hover,.amcharts-export-menu.amcharts-export-menu-bottom-left .export-main.active,.amcharts-export-menu.amcharts-export-menu-bottom-left .export-drawing.active,.amcharts-export-menu.amcharts-export-menu-bottom-right .export-main.active,.amcharts-export-menu.amcharts-export-menu-bottom-right .export-drawing.active{padding-bottom:0;padding-top:100px;}.amcharts-export-menu .export-main:hover>a,.amcharts-export-menu .export-main.active>a{background-image:url(\'data:image/svg+xml;charset=utf8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20width%3D%2211px%22%20height%3D%2214px%22%3E%3Cpath%20d%3D%22M3%2C0%20L8%2C0%20L8%2C5%20L11%2C5%20L5.5%2C10%20L0%2C5%20L3%2C5%20L03%2C0%22%20fill%3D%22%23fff%22%2F%3E%3Crect%20x%3D%220%22%20y%3D%2212%22%20fill%3D%22%23fff%22%20width%3D%2211%22%20height%3D%222%22%2F%3E%3C%2Fsvg%3E\');}.amcharts-export-menu .export-drawing:hover>a,.amcharts-export-menu .export-drawing.active>a{background-image:url(\'data:image/svg+xml;charset=utf8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20version%3D%221.1%22%20width%3D%2216px%22%20height%3D%2217px%22%3E%3Crect%20x%3D%220%22%20y%3D%2216%22%20fill%3D%22%23FFF%22%20width%3D%2214%22%20height%3D%221%22%2F%3E%3Cpath%20transform%3D%22translate(-12%2C-10)%22%20fill%3D%22%23FFF%22%20d%3D%22M17.098%2C20.305c-0.142%2C0.146%2C0.101%2C0.04%2C0.137%2C0.004c0.027-0.028%2C0.204-0.09%2C0.484-0.09c0.338%2C0%2C0.626%2C0.092%2C0.787%2C0.255%20c0.473%2C0.472%2C0.424%2C0.932%2C0.393%2C1.078l-2.521%2C1.055l-1.577-1.577l1.054-2.52c0.039-0.009%2C0.105-0.018%2C0.188-0.018%20c0.219%2C0%2C0.555%2C0.069%2C0.893%2C0.407c0.378%2C0.378%2C0.246%2C1.188%2C0.166%2C1.271C17.062%2C20.207%2C17.062%2C20.269%2C17.098%2C20.305z%20M26.984%2C14.472c-0.008-0.674-0.61-1.257-1.31-1.933c-0.134-0.129-0.679-0.673-0.809-0.808c-0.679-0.702-1.266-1.31-1.943-1.31%20c-0.37%2C0-0.734%2C0.207-1.114%2C0.587l-6.852%2C6.847c-0.012%2C0.016-2.877%2C7.354-2.877%2C7.354c-0.012%2C0.032%2C0%2C0.063%2C0.022%2C0.091%20c0.021%2C0.021%2C0.044%2C0.029%2C0.067%2C0.029c0.01%2C0%2C0.018-0.003%2C0.028-0.007c0%2C0%2C7.357-2.864%2C7.369-2.877l6.854-6.847%20C26.803%2C15.216%2C26.988%2C14.848%2C26.984%2C14.472z%22%2F%3E%3C%2Fsvg%3E\');}.amcharts-export-menu .export-close>a,.amcharts-export-menu .export-close:hover>a,.amcharts-export-menu .export-close.active>a{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAAQCAYAAADNo/U5AAAACXBIWXMAAAsTAAALEwEAmpwYAABBsGlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS41LWMwMjEgNzkuMTU1NzcyLCAyMDE0LzAxLzEzLTE5OjQ0OjAwICAgICAgICAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgICAgICAgICAgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiCiAgICAgICAgICAgIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiCiAgICAgICAgICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgICAgICAgICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICAgICAgICAgICB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIgogICAgICAgICAgICB4bWxuczpleGlmPSJodHRwOi8vbnMuYWRvYmUuY29tL2V4aWYvMS4wLyI+CiAgICAgICAgIDx4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ+eG1wLmRpZDo4M2Q5NDllYS1lMjE3LTQ3Y2QtYTU1Ni04MTQ3NmRjNWEwYWQ8L3htcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOkRvY3VtZW50SUQ+YWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOjZhMTQ5MTc1LTNiODItMTE3OC05ZjZmLWY0MWMwNTYyYzQxYTwveG1wTU06RG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOkluc3RhbmNlSUQ+eG1wLmlpZDpkZGFhNTJkMi1mZDRiLTRkMmMtODEzOC01ZTEzNmQ4NGFjMDE8L3htcE1NOkluc3RhbmNlSUQ+CiAgICAgICAgIDx4bXBNTTpEZXJpdmVkRnJvbSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgIDxzdFJlZjppbnN0YW5jZUlEPnhtcC5paWQ6MDdhZmI1Y2UtYzQ1OS00YzQxLWJkMjItMTllMDJlMGE5YzVjPC9zdFJlZjppbnN0YW5jZUlEPgogICAgICAgICAgICA8c3RSZWY6ZG9jdW1lbnRJRD54bXAuZGlkOjA3YWZiNWNlLWM0NTktNGM0MS1iZDIyLTE5ZTAyZTBhOWM1Yzwvc3RSZWY6ZG9jdW1lbnRJRD4KICAgICAgICAgICAgPHN0UmVmOm9yaWdpbmFsRG9jdW1lbnRJRD54bXAuZGlkOjgzZDk0OWVhLWUyMTctNDdjZC1hNTU2LTgxNDc2ZGM1YTBhZDwvc3RSZWY6b3JpZ2luYWxEb2N1bWVudElEPgogICAgICAgICA8L3htcE1NOkRlcml2ZWRGcm9tPgogICAgICAgICA8eG1wTU06SGlzdG9yeT4KICAgICAgICAgICAgPHJkZjpTZXE+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPnNhdmVkPC9zdEV2dDphY3Rpb24+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDppbnN0YW5jZUlEPnhtcC5paWQ6YmY3ZmRlNGYtZDk2MS00Njk4LWI0ZjAtMDJlYjEwOWE4OTA4PC9zdEV2dDppbnN0YW5jZUlEPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6d2hlbj4yMDE1LTA1LTE1VDEzOjE3OjQ5KzAyOjAwPC9zdEV2dDp3aGVuPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6c29mdHdhcmVBZ2VudD5BZG9iZSBQaG90b3Nob3AgQ0MgMjAyMSAoTWFjaW50b3NoKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmNoYW5nZWQ+Lzwvc3RFdnQ6Y2hhbmdlZD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPmNvbnZlcnRlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6cGFyYW1ldGVycz5mcm9tIGltYWdlL3BuZyB0byBhcHBsaWNhdGlvbi92bmQuYWRvYmUucGhvdG9zaG9wPC9zdEV2dDpwYXJhbWV0ZXJzPgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+ZGVyaXZlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6cGFyYW1ldGVycz5jb252ZXJ0ZWQgZnJvbSBpbWFnZS9wbmcgdG8gYXBwbGljYXRpb24vdm5kLmFkb2JlLnBob3Rvc2hvcDwvc3RFdnQ6cGFyYW1ldGVycz4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPnNhdmVkPC9zdEV2dDphY3Rpb24+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDppbnN0YW5jZUlEPnhtcC5paWQ6MDdhZmI1Y2UtYzQ1OS00YzQxLWJkMjItMTllMDJlMGE5YzVjPC9zdEV2dDppbnN0YW5jZUlEPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6d2hlbj4yMDE1LTA1LTE1VDEzOjE3OjQ5KzAyOjAwPC9zdEV2dDp3aGVuPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6c29mdHdhcmVBZ2VudD5BZG9iZSBQaG90b3Nob3AgQ0MgMjAyMSAoTWFjaW50b3NoKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmNoYW5nZWQ+Lzwvc3RFdnQ6Y2hhbmdlZD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPmRlcml2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnBhcmFtZXRlcnM+Y29udmVydGVkIGZyb20gYXBwbGljYXRpb24vdm5kLmFkb2JlLnBob3Rvc2hvcCB0byBpbWFnZS9wbmc8L3N0RXZ0OnBhcmFtZXRlcnM+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5zYXZlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOmRkYWE1MmQyLWZkNGItNGQyYy04MTM4LTVlMTM2ZDg0YWMwMTwvc3RFdnQ6aW5zdGFuY2VJRD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OndoZW4+MjAxNS0wNS0xNVQxMzoyMToyMSswMjowMDwvc3RFdnQ6d2hlbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnNvZnR3YXJlQWdlbnQ+QWRvYmUgUGhvdG9zaG9wIENDIDIwMjEgKE1hY2ludG9zaCk8L3N0RXZ0OnNvZnR3YXJlQWdlbnQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpjaGFuZ2VkPi88L3N0RXZ0OmNoYW5nZWQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICA8L3JkZjpTZXE+CiAgICAgICAgIDwveG1wTU06SGlzdG9yeT4KICAgICAgICAgPHhtcDpDcmVhdG9yVG9vbD5BZG9iZSBQaG90b3Nob3AgQ0MgMjAxNCAoTWFjaW50b3NoKTwveG1wOkNyZWF0b3JUb29sPgogICAgICAgICA8eG1wOkNyZWF0ZURhdGU+MjAxNS0wNS0xNVQxMzoxMzoxNyswMjowMDwveG1wOkNyZWF0ZURhdGU+CiAgICAgICAgIDx4bXA6TW9kaWZ5RGF0ZT4yMDE1LTA1LTE1VDEzOjIxOjIxKzAyOjAwPC94bXA6TW9kaWZ5RGF0ZT4KICAgICAgICAgPHhtcDpNZXRhZGF0YURhdGU+MjAxNS0wNS0xNVQxMzoyMToyMSswMjowMDwveG1wOk1ldGFkYXRhRGF0ZT4KICAgICAgICAgPGRjOmZvcm1hdD5pbWFnZS9wbmc8L2RjOmZvcm1hdD4KICAgICAgICAgPHBob3Rvc2hvcDpDb2xvck1vZGU+MzwvcGhvdG9zaG9wOkNvbG9yTW9kZT4KICAgICAgICAgPHBob3Rvc2hvcDpUZXh0TGF5ZXJzPgogICAgICAgICAgICA8cmRmOkJhZz4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPlg8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Plg8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICA8L3JkZjpCYWc+CiAgICAgICAgIDwvcGhvdG9zaG9wOlRleHRMYXllcnM+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgICAgIDx0aWZmOlhSZXNvbHV0aW9uPjcyMDAwMC8xMDAwMDwvdGlmZjpYUmVzb2x1dGlvbj4KICAgICAgICAgPHRpZmY6WVJlc29sdXRpb24+NzIwMDAwLzEwMDAwPC90aWZmOllSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpSZXNvbHV0aW9uVW5pdD4yPC90aWZmOlJlc29sdXRpb25Vbml0PgogICAgICAgICA8ZXhpZjpDb2xvclNwYWNlPjY1NTM1PC9leGlmOkNvbG9yU3BhY2U+CiAgICAgICAgIDxleGlmOlBpeGVsWERpbWVuc2lvbj4xMzwvZXhpZjpQaXhlbFhEaW1lbnNpb24+CiAgICAgICAgIDxleGlmOlBpeGVsWURpbWVuc2lvbj4xNjwvZXhpZjpQaXhlbFlEaW1lbnNpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIAo8P3hwYWNrZXQgZW5kPSJ3Ij8+HyMp+AAAACBjSFJNAAB6JQAAgIMAAPn/AACA6QAAdTAAAOpgAAA6mAAAF2+SX8VGAAAA3UlEQVR42rSSXZECQQyEPygMrIVFAidhkQASQEIjYVsCSOAksBJAAlhAwvKSWcJBUQVVl6fM5Ke7k4z6vudTG/OFTQAktcAs/ja2TyVBUgVsgQq42F5PItYBCn8PTFNjAYvw5wM92x3gCNSSFCh1araLvAdNBi53VgMtgCuweRqE7RyogAPQxHsdcQBGf0cuaZ80APzaXn468urtniQ1CaXoayStct5AL4QfgToKfoBzIF2BadGVkVZRkIU7UdQDkqRZoDwJl3ROzea2u4LUvtpHOavkty9H/m9XfhsA0l9VuzQDWrIAAAAASUVORK5CYII=);}.amcharts-export-menu .export-drawing-color{background:#000;width:35px;}.amcharts-export-menu .export-drawing-color>a{display:block;overflow:hidden;text-indent:-13333337px;}.amcharts-export-menu .export-drawing-color-red{background:#f00;}.amcharts-export-menu .export-drawing-color-green{background:#0f0;}.amcharts-export-menu .export-drawing-color-blue{background:#00f;}.amcharts-export-menu .export-drawing-color-white{background:#fff;}.amcharts-export-fallback{position:absolute;top:0;right:0;bottom:0;left:0;background-color:#fff;}.amcharts-export-fallback textarea{border:none;outline:none;position:absolute;overflow:hidden;width:100%;height:100%;padding:20px;}.amcharts-export-fallback-message{position:absolute;z-index:1;padding:20px;width:100%;background-color:#fff;}.amcharts-export-menu .export-delayed-capturing>a{text-indent:0px;line-height:36px;vertical-align:middle;text-align:center;background-image:none;}.amcharts-export-menu,.amcharts-export-canvas .canvas-container{-webkit-transition:opacity 0.5s ease-out;-moz-transition:opacity 0.5s ease-out;-ms-transition:opacity 0.5s ease-out;-o-transition:opacity 0.5s ease-out;transition:opacity 0.5s ease-out;}.amcharts-export-canvas.dropbox .canvas-container{opacity:0.5;}.amcharts-export-menu .export-drawing-shape a{font:0/0 a;text-shadow:none;color:transparent;}.amcharts-export-menu li img{height:20px;}.amcharts-export-menu .export-drawing-width a{text-align:center;}.amcharts-export-menu .export-drawing-width span{display:block;margin:0 auto;}.amcharts-export-menu .export-drawing-width span>span{display:block;background:#000;border-radius:100%;}.amcharts-export-menu .export-drawing-shape a:hover img,.amcharts-export-menu .export-drawing-shape.active a img{-webkit-filter:invert(100%);filter:invert(100%);}\n\n';
},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.colors={"diagram-cornflower-blue":"#5682d8","diagram-pinkish-purple":"#bc62da","diagram-camel":"#c4af54","diagram-slate-grey-three":"#5b6472","diagram-seafoam-blue":"#53c2cd","diagram-blueberry":"#3c42ad","diagram-pinkish-tan":"#e2a0a0","diagram-warm-brown":"#9d5704","diagram-lavender":"#af99ef","diagram-royal-purple":"#ad3e8f","diagram-lightblue":"#75daf8","diagram-warm-purple":"#7e30a2"},e.fontColors={"slate-grey-two":"#626469","charcoal-grey":"#39393b"},e.noDataMessage="No data available",e.dimensions={width:"600px",height:"400px"},e.colorPrim=["rgb(86,130,216)","rgb(188,98,218)","rgb(196,175,84)","rgb(91,100,114)","rgb(83,194,205)","rgb(60,66,173)","rgb(226,160,160)","rgb(157,87,4)","rgb(175,153,239)"],e.colorSec=[["rgba(86,130,216,1)","rgba(86,130,216,0.75)","rgba(86,130,216,0.5)","rgba(86,130,216,0.25)"],["rgba(188,98,218,1)","rgba(188,98,218,0.75)","rgba(188,98,218,0.5)","rgba(188,98,218,0.25)"],["rgba(196,175,84,1)","rgba(196,175,84,0.75)","rgba(196,175,84,0.5)","rgba(196,175,84,0.25)"],["rgba(91,100,114,1)","rgba(91,100,114,0.75)","rgba(91,100,114,0.5)","rgba(91,100,114,0.25)"],["rgba(83,194,205,1)","rgba(83,194,205,0.75)","rgba(83,194,205,0.5)","rgba(83,194,205,0.25)"],["rgba(60,66,173,1)","rgba(60,66,173,0.75)","rgba(60,66,173,0.5)","rgba(60,66,173,0.25)"],["rgba(226,160,160,1)","rgba(226,160,160,0.75)","rgba(226,160,160,0.5)","rgba(226,160,160,0.25)"]]},function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var u=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),c=function t(e,r,n){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,r);if(void 0===i){var a=Object.getPrototypeOf(e);return null===a?void 0:t(a,r,n)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(n)},h=r(1072),g=r(1073),p=i(g),d=r(1077),f=i(d),A=r(1078),C=i(A),m=r(1075),I=n(m),v={createElement:h.h},y=I.colorPrim,b={},x={},w=function(t){function e(){o(this,e);var t=s(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t._ref=new WeakMap,t._refb=new WeakMap,t._graph2=new WeakMap,t._line1=new WeakMap,t._line2=new WeakMap,t._graph3=new WeakMap,t.getConfig=t.getConfig.bind(t),t.Move2=t.Move2.bind(t),t}return l(e,t),u(e,[{key:"updatedCallback",value:function(t){if(!t)return!0;var e=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).concat(Object.getOwnPropertyNames(t)):Object.getOwnPropertyNames(t),r=!0,n=!1,i=void 0;try{for(var a,o=e[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var s=a.value;if(!Object.is(t[s],this[s]))return!0}}catch(t){n=!0,i=t}finally{try{!r&&o.return&&o.return()}finally{if(n)throw i}}}},{key:"renderedCallback",value:function(){c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"connectedCallback",this).call(this);var t=this.getConfig(),r=this._ref.get(b);this.chart=AmCharts.makeChart(r,t)}},{key:"getConfig",value:function(){var t,e=this,r=this.rotate,n=this.stack,i=this.xformat,o=this.xtitle,s=this.ytitle,l=this.legends,u=this.exprt;return{type:"serial",theme:"light",marginTop:20,trendLines:[],dataDateFormat:"MM/DD/YYYY HH:NN",graphs:this.getGraphs(),guides:[],color:I.fontColors["slate-grey-two"],fontFamily:"Helvetica",fontSize:10,addClassNames:!0,valueAxis:[{}],rotate:r,valueAxes:[{labelsEnabled:!0,stackType:n,title:s,titleBold:!1,titleColor:"#626469",titleFontSize:10,axisAlpha:.3,position:"left",tickLength:0,autoGridCount:!0,gridColor:"#a7a9ab",gridAlpha:.3,gridThickness:1,fontFamily:"Helvetica",fontSize:10,minimum:0}],categoryField:"date",categoryAxis:{startOnAxis:!1,tickLength:0,gridColor:"#a7a9ab",gridAlpha:.3,gridThickness:1,axisAlpha:.3,position:"bottom",title:o,titleColor:"#626469",titleBold:!1,titleFontSize:10,gridPosition:"center",equalSpacing:!0,autoWrap:!1,minHorizontalGap:35,color:"#626469",fontFamily:"Helvetica",fontSize:10,minPeriod:"hh",parseDates:"text"!==i,minorGridEnabled:!1,labelFunction:function(t,e,r){if("text"===i)return t;var n=new Date(Date.parse(e)),a=n.getHours(),o=a>12?(a+11)%12+1+"p":(a+11)%12+1+"a";return o}},chartCursor:(t={enabled:!0,balloonPointerOrientation:"horizontal",selectWithoutZooming:!1,cursorAlpha:0,valueLineAlpha:0},a(t,"selectWithoutZooming",!0),a(t,"bulletSize",0),a(t,"zoomable",!1),a(t,"categoryBalloonEnabled",!1),a(t,"categoryBalloonDateFormat","YYYY"),a(t,"cursorColor","#000000"),a(t,"fullWidth",!0),t),chartScrollbar:{enabled:!1},responsive:{},allLabels:[],balloon:{adjustBorderColor:!0,borderColor:"#d8d9da",borderAlpha:.1,animationDuration:0,borderThickness:1,color:"#626469",fadeOutDuration:0,cornerRadius:0,fillColor:"#FFFFFF",fixedPosition:!0,fillAlpha:1,horizontalPadding:8,shadowAlpha:.1,shadowColor:"#000000",textAlign:"middle",verticalPadding:8,fontFamily:"Helvetica",fontSize:12,offsetX:50,offsetY:-100,showBullet:!1},legend:{enabled:l,autoMargins:!1,equalWidths:!1,horizontalGap:8,markerSize:8,valueWidth:0,position:"bottom",marginTop:-5,fontSize:12,fontFamily:"Helvetica",align:"left",markerType:"square",data:this.generateLegendData(),color:"#58585b",markerLabelGap:6,spacing:20},dataProvider:this.initialData(),export:{enabled:u,fileName:"DNAC-Chart",menu:[{format:"JPG",label:"Export",title:"Export chart to JPG",fileName:"DNAC-Chart"}]},listeners:[{event:"init",method:function(t){t.chart.removeListener(t.chart.chartScrollbar,"zoomed",t.chart.handleScrollbarZoom)}},{event:"rendered",method:function(t){t.chart.removeListener(t.chart.chartScrollbar,"zoomed",t.chart.handleScrollbarZoom),e.updateBullets(t),e.updateLegends(t),e.updateXLabels(t),e.updateLegendsLabels(t)}},{event:"drawn",method:function(t){t.chart.removeListener(t.chart.chartScrollbar,"zoomed",t.chart.handleScrollbarZoom),e.updateBullets(t),e.updateLegends(t),e.updateXLabels(t),e.updateLegendsLabels(t)}}]}}},{key:"generateLegendData",value:function(){var t=this.names,e=this.data,r=this.topValue,n=this.bottomValue,i=this.topname,a=this.bottomname,o=this.barcolor,s=[];if(null!==e&&t.map(function(t,e){var r={title:t,color:o[e]};s.push(r)}),r){var l={title:i,color:"#ee0000"};s.push(l)}if(n){var u={title:a,color:"#58585b"};s.push(u)}return s}},{key:"getGraphs",value:function(t){var e=this.names,r=this.topValue,n=this.bottomValue,i=(this.topname,this.bottomname,this.stack),a=this.columnwidth,o=[];if(e&&e.map(function(t,e){var r={alphaField:"alpha",showBalloon:!1,fillAlphas:1,title:"value"+(e+1),type:"column",valueField:"value"+(e+1),fixedColumnWidth:a,colorField:"color"+(e+1),lineColorField:"regular"===i?null:"color"+(e+1),lineColor:"regular"===i?"#FFFFFF":null,lineThickness:2,fillColorsField:"color"+(e+1)};o.push(r)}),n){var s={id:"bottom",type:"smoothedLine",fillAlphas:0,lineAlpha:1,showBalloon:!1,valueField:"bottomValue",dashLength:2,lineColor:"#58585b",lineThickness:1};o.push(s)}if(r){var l={id:"toGraph",type:"smoothedLine",fillAlphas:0,fillColors:"transparent",lineAlpha:1,showBalloon:!1,valueField:"topValue",dashLength:2,lineColor:"#ee0000",lineThickness:1};o.push(l)}return o}},{key:"updateXLabels",value:function(t){Array.from(this.shadowRoot.querySelectorAll(".amcharts-axis-label")).forEach(function(t,e){var r=t.firstChild;r.setAttribute("font-size","10px"),r.setAttribute("font-weight","200"),r.setAttribute("color","#626469")})}},{key:"updateLegendsLabels",value:function(t){Array.from(this.shadowRoot.querySelectorAll(".amcharts-legend-label")).forEach(function(t,e){var r=t.firstChild;r.setAttribute("font-family","Helvetica"),r.setAttribute("font-size","12px"),r.setAttribute("font-weight","200"),r.setAttribute("color","#58585b"),r.setAttribute("line-height","1.08")})}},{key:"updateBullets",value:function(t){Array.from(this.shadowRoot.querySelectorAll(".amcharts-graph-bullet")).forEach(function(t,e){if(void 0===t.attributes.r){var r=t.firstChild,n=document.createElementNS("http://www.w3.org/2000/svg","circle");n.setAttribute("r","2"),n.setAttribute("cx","0"),n.setAttribute("cy","0"),n.setAttribute("fill","#5682d8"),n.setAttribute("stroke","#5682d8"),n.setAttribute("stroke-width","2"),n.setAttribute("stroke-opacity","1"),n.setAttribute("transform","translate(0,0)"),n.setAttribute("aria-label"," 3p 1.125");var i=n;t.replaceChild(i,r)}})}},{key:"updateLegends",value:function(t){var e=this.names.length;Array.from(this.shadowRoot.querySelectorAll(".amcharts-legend-marker")).forEach(function(t,r){if(r+1>e){var n=t,i=t.parentElement,a=document.createElementNS("http://www.w3.org/2000/svg","line");a.setAttribute("stroke-dasharray","2, 2"),a.setAttribute("x1","0"),a.setAttribute("y1","10"),a.setAttribute("x2","10"),a.setAttribute("y2","10"),a.setAttribute("stroke",r+1-e==1?"#58585b":"#ee0000");var o=a;i.replaceChild(o,n)}})}},{key:"initialData",value:function t(e){var r=this.data,n=this.topValue,i=this.stack,a=this.bottomValue,o=this.barcolor,t=[];if(r){var s=r[0].values.length;s>10?alert("This chart only support max 10 inputs. Contact https://github3.cisco.com/dna-platform-ui/dnx-web-components to submit an issue"):r.map(function(e,r){var s={};e.values.map(function(t,e){var r=e+1,n="value"+r;s[n]=t});var l={};o.map(function(t,e){var r=e+1,n="color"+r;l[n]=t});var u={date:e.date,bottomValue:null===a?null:a[r],topValue:null===n?null:"regular"===i?n[r]-a[r]:n[r],toptopValue:15,id:r},c=Object.assign(s,l,u);t.push(c)})}return t}},{key:"Move2",value:function(t){var e=this._refb.get(x),r=t.clientX-t.currentTarget.getBoundingClientRect().left-150,n=t.clientY-t.currentTarget.getBoundingClientRect().top-100;e.style.top=n+"px",e.style.left=r+"px"}},{key:"renderCallback",value:function(){var t=this,e=this.width,r=this.height,n=e,i=r,a="100%",o=f.default;return[v.createElement("style",null,o),v.createElement("div",{style:"position: relative;"},v.createElement("div",{style:"width: "+n+"; height: "+i+"; background-color: white;"},v.createElement("div",{ref:function(e){return t._ref.set(b,e)},style:"width: "+n+"; height: "+a+"; overflow: visible; top: 10px; left: 10px; position: relative;",onmousemove:this.Move2})),v.createElement("div",{id:"dnx-bar-balloon",ref:function(e){return t._refb.set(x,e)},style:"display: none;"}))]}}],[{key:"is",get:function(){return"estadistica-bar-chart"}},{key:"props",get:function(){return{data:h.prop.object({attribute:!0,default:null}),topValue:h.prop.array({attribute:!0,default:null}),bottomValue:h.prop.array({attribute:!0,default:null}),names:h.prop.array({attribute:!0,default:[""]}),topname:h.prop.string({attribute:!0,default:""}),bottomname:h.prop.string({attribute:!0,default:""}),rotate:h.prop.boolean({attribute:!0,default:!1}),stack:h.prop.string({attribute:!0,default:"none"}),xformat:h.prop.string({attribute:!0,default:"text"}),barcolor:h.prop.array({attribute:!0,default:y}),width:h.prop.string({attribute:!0,default:"100%"}),columnwidth:h.prop.number({attribute:!0,default:7}),height:h.prop.string({attribute:!0,default:"300px"}),xtitle:h.prop.string({attribute:!0,default:""}),ytitle:h.prop.string({attribute:!0,default:""}),legends:h.prop.boolean({attribute:!0,default:!0}),chart:h.prop.object({attribute:!1}),exprt:h.prop.boolean({attribute:!0,default:!1})}}}]),e}((0,p.default)(h.Component));(0,C.default)(w.is,w),e.default=w},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default='\n.amcharts-axis-label{\n    font-family: CiscoSans;\n    font-size: 11px;\n    font-weight: 200;\n    line-height: 1.18;\n    text-align: left;\n    color: #58585b;\n}\n\n.amcharts-cursor-selection {\n  fill: transparent;\n}\n\n/*\n.amcharts-balloon-bg-categoryAxis {\n  fill: transparent;\n  stroke: transparent;\n  fill-opacity: 0;\n  stroke-width: 0;\n  stroke-opacity: 0;\n  font-family: CiscoSans;\n  font-size: 11px;\n  font-weight: 200;\n  line-height: 1.18;\n  text-align: left;\n  color: #58585b;\n}\n*/\n/*<path cs="100,100" d="M0.5,0.5 L11.5,0.5 L16.5,-4.5 L21.5,0.5 L31.5,0.5 L31.5,32.5 L0.5,32.5 L0.5,0.5 Z" fill="transparent" stroke="transparent" fill-opacity="0" stroke-width="0" stroke-opacity="0" class="amcharts-balloon-bg amcharts-balloon-bg-categoryAxis"></path>*/\n/*\n.dnx-table {\n  width: 100%;\n  max-width: 100%;\n  font-family: CiscoSans;\n  font-size: 12px;\n  font-weight: 200;\n  line-height: 1.08;\n  text-align: left;\n  color: #626469;\n  padding: 5px 5px 5px 5px;\n}\n.dnx-table table {\n  font-family: CiscoSans;\n  font-size: 12px;\n  font-weight: 200;\n  line-height: 1.08;\n  text-align: left;\n  color: #626469;\n  max-width: 100%;\n  width: 100%;\n  border-collapse: collapse;\n}\n.dnx-table td,\n.dnx-table th {\n  padding: 8px 8px 8px 8px;\n  text-align: left;\n  font-size: 100%;\n}\n.dnx-table td:first-child,\n.dnx-table th:first-child {\n  padding-left: 2px;\n}\n.dnx-table td:last-child,\n.dnx-table th:last-child {\n  padding-right: 2px;\n}\n.dnx-table td:hover,\n.dnx-table th:hover {\n  color: #000;\n}\n.dnx-table .highlight {\n  font-weight: bold;\n  font-size: 110%;\n}\n*/\n#dnx-bar-balloon {\n  position: absolute;\n  top: -200px;\n  left: 0;\n  border: 1px solid #ccc;\n  background: rgba(255, 255, 255, 1);\n  padding: 10px;\n  font-size: 14px;\n  color: #000;\n  margin: 20px 0 0 20px;\n  transform: translateY(24px);\n}\n\n#dnx-bar-balloon:after {\n  content: \'\';\n  top: - 24px;\n  border-bottom: 24px solid #fff;\n}\n\n.amcharts-export-canvas{position:absolute;display:none;z-index:1;top:0;right:0;bottom:0;left:0;background-color:#fff;}.amcharts-export-canvas.active{display:block;}.amcharts-export-menu{position:absolute;z-index:2;opacity:0.5;color:#000;}.amcharts-main-div:hover .amcharts-export-menu,.amcharts-stock-div:hover .amcharts-export-menu,.amcharts-export-menu.active{opacity:1;}.amcharts-export-menu-top-left>ul>li>ul:after{content:"";position:absolute;top:13px;right:100%;z-index:1000;border-top:7px solid transparent;border-left:7px solid transparent;border-right:7px solid #fff;border-bottom:7px solid transparent;}.amcharts-export-menu-top-left>ul>li>ul>li:first-child>a:after{content:"";position:absolute;top:12px;right:100%;z-index:1001;border-top:8px solid transparent;border-left:8px solid transparent;border-right:8px solid #e2e2e2;border-bottom:8px solid transparent;}.amcharts-export-menu-top-right>ul>li>ul:after{content:"";position:absolute;top:13px;left:100%;z-index:1000;border-top:7px solid transparent;border-left:7px solid #fff;border-right:7px solid transparent;border-bottom:7px solid transparent;}.amcharts-export-menu-top-right>ul>li>ul>li:first-child>a:after{content:"";position:absolute;top:12px;left:100%;z-index:1001;border-top:8px solid transparent;border-left:8px solid #e2e2e2;border-right:8px solid transparent;border-bottom:8px solid transparent;}.amcharts-export-menu-bottom-left>ul>li>ul:after{content:"";position:absolute;bottom:13px;right:100%;z-index:1000;border-top:7px solid transparent;border-left:7px solid transparent;border-right:7px solid #fff;border-bottom:7px solid transparent;}.amcharts-export-menu-bottom-left>ul>li>ul>li:last-child>a:after{content:"";position:absolute;bottom:12px;right:100%;z-index:1001;border-top:8px solid transparent;border-left:8px solid transparent;border-right:8px solid #e2e2e2;border-bottom:8px solid transparent;}.amcharts-export-menu-bottom-right>ul>li>ul:after{content:"";position:absolute;bottom:13px;left:100%;z-index:1000;border-top:7px solid transparent;border-left:7px solid #fff;border-right:7px solid transparent;border-bottom:7px solid transparent;}.amcharts-export-menu-bottom-right>ul>li>ul>li:last-child>a:after{content:"";position:absolute;bottom:12px;left:100%;z-index:1001;border-top:8px solid transparent;border-left:8px solid #e2e2e2;border-right:8px solid transparent;border-bottom:8px solid transparent;}.amcharts-export-menu ul{list-style:none;margin:0;padding:0;}.amcharts-export-menu li{position:relative;display:block;z-index:1;}.amcharts-export-menu li>ul{position:absolute;display:none;border:1px solid #e2e2e2;margin-top:-1px;background:#fff;}.amcharts-export-menu li>a{position:relative;display:block;color:#000;text-decoration:none;padding:12px 12px;z-index:2;white-space:nowrap;border-bottom:1px solid #f2f2f2;}.amcharts-export-menu li:last-child>a{border-bottom:none;}.amcharts-export-menu li>a>img{border:none;}.amcharts-export-menu-top-left{top:0;left:0;}.amcharts-export-menu-bottom-left{bottom:0;left:0;}.amcharts-export-menu-top-right{top:0;right:0;}.amcharts-export-menu-bottom-right{bottom:0;right:0;}.amcharts-export-menu li:hover>ul,.amcharts-export-menu li.active>ul{display:block;}.amcharts-export-menu li:hover>a,.amcharts-export-menu li.active>a{color:#fff;background-color:#636363;}.amcharts-export-menu-top-left li:hover>ul,.amcharts-export-menu-top-left li.active>ul{left:100%;top:0;}.amcharts-export-menu-bottom-left li:hover>ul,.amcharts-export-menu-bottom-left li.active>ul{left:100%;bottom:0;}.amcharts-export-menu-top-right li:hover>ul,.amcharts-export-menu-top-right li.active>ul{top:0;right:100%;}.amcharts-export-menu-bottom-right li:hover>ul,.amcharts-export-menu-bottom-right li.active>ul{bottom:0;right:100%;}.amcharts-export-menu .export-main>a,.amcharts-export-menu .export-drawing>a,.amcharts-export-menu .export-delayed-capturing>a{display:block;overflow:hidden;text-indent:-13333337px;width:36px;height:36px;padding:0;background-repeat:no-repeat;background-image:url(\'data:image/svg+xml;charset=utf8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20width%3D%2211px%22%20height%3D%2214px%22%3E%3Cpath%20d%3D%22M3%2C0%20L8%2C0%20L8%2C5%20L11%2C5%20L5.5%2C10%20L0%2C5%20L3%2C5%20L03%2C0%22%20fill%3D%22%23888%22%2F%3E%3Crect%20x%3D%220%22%20y%3D%2212%22%20fill%3D%22%23888%22%20width%3D%2211%22%20height%3D%222%22%2F%3E%3C%2Fsvg%3E\');background-color:#fff;background-position:center;-webkit-box-shadow:1px 1px 3px 0px rgba(0,0,0,0.5);-moz-box-shadow:1px 1px 3px 0px rgba(0,0,0,0.5);box-shadow:1px 1px 3px 0px rgba(0,0,0,0.5);border-radius:18px;margin:8px 8px 0 10px;}.amcharts-export-menu .export-drawing>a{background-image:url(\'data:image/svg+xml;charset=utf8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20version%3D%221.1%22%20width%3D%2216px%22%20height%3D%2217px%22%3E%3Crect%20x%3D%220%22%20y%3D%2216%22%20fill%3D%22%23888%22%20width%3D%2214%22%20height%3D%221%22%2F%3E%3Cpath%20transform%3D%22translate(-12%2C-10)%22%20fill%3D%22%23888%22%20d%3D%22M17.098%2C20.305c-0.142%2C0.146%2C0.101%2C0.04%2C0.137%2C0.004c0.027-0.028%2C0.204-0.09%2C0.484-0.09c0.338%2C0%2C0.626%2C0.092%2C0.787%2C0.255%20c0.473%2C0.472%2C0.424%2C0.932%2C0.393%2C1.078l-2.521%2C1.055l-1.577-1.577l1.054-2.52c0.039-0.009%2C0.105-0.018%2C0.188-0.018%20c0.219%2C0%2C0.555%2C0.069%2C0.893%2C0.407c0.378%2C0.378%2C0.246%2C1.188%2C0.166%2C1.271C17.062%2C20.207%2C17.062%2C20.269%2C17.098%2C20.305z%20M26.984%2C14.472c-0.008-0.674-0.61-1.257-1.31-1.933c-0.134-0.129-0.679-0.673-0.809-0.808c-0.679-0.702-1.266-1.31-1.943-1.31%20c-0.37%2C0-0.734%2C0.207-1.114%2C0.587l-6.852%2C6.847c-0.012%2C0.016-2.877%2C7.354-2.877%2C7.354c-0.012%2C0.032%2C0%2C0.063%2C0.022%2C0.091%20c0.021%2C0.021%2C0.044%2C0.029%2C0.067%2C0.029c0.01%2C0%2C0.018-0.003%2C0.028-0.007c0%2C0%2C7.357-2.864%2C7.369-2.877l6.854-6.847%20C26.803%2C15.216%2C26.988%2C14.848%2C26.984%2C14.472z%22%2F%3E%3C%2Fsvg%3E\');}.amcharts-export-menu .export-main:hover,.amcharts-export-menu .export-drawing:hover,.amcharts-export-menu .export-main.active,.amcharts-export-menu .export-drawing.active{padding-bottom:100px;}.amcharts-export-menu.amcharts-export-menu-bottom-left .export-main:hover,.amcharts-export-menu.amcharts-export-menu-bottom-left .export-drawing:hover,.amcharts-export-menu.amcharts-export-menu-bottom-right .export-main:hover,.amcharts-export-menu.amcharts-export-menu-bottom-right .export-drawing:hover,.amcharts-export-menu.amcharts-export-menu-bottom-left .export-main.active,.amcharts-export-menu.amcharts-export-menu-bottom-left .export-drawing.active,.amcharts-export-menu.amcharts-export-menu-bottom-right .export-main.active,.amcharts-export-menu.amcharts-export-menu-bottom-right .export-drawing.active{padding-bottom:0;padding-top:100px;}.amcharts-export-menu .export-main:hover>a,.amcharts-export-menu .export-main.active>a{background-image:url(\'data:image/svg+xml;charset=utf8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20width%3D%2211px%22%20height%3D%2214px%22%3E%3Cpath%20d%3D%22M3%2C0%20L8%2C0%20L8%2C5%20L11%2C5%20L5.5%2C10%20L0%2C5%20L3%2C5%20L03%2C0%22%20fill%3D%22%23fff%22%2F%3E%3Crect%20x%3D%220%22%20y%3D%2212%22%20fill%3D%22%23fff%22%20width%3D%2211%22%20height%3D%222%22%2F%3E%3C%2Fsvg%3E\');}.amcharts-export-menu .export-drawing:hover>a,.amcharts-export-menu .export-drawing.active>a{background-image:url(\'data:image/svg+xml;charset=utf8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20version%3D%221.1%22%20width%3D%2216px%22%20height%3D%2217px%22%3E%3Crect%20x%3D%220%22%20y%3D%2216%22%20fill%3D%22%23FFF%22%20width%3D%2214%22%20height%3D%221%22%2F%3E%3Cpath%20transform%3D%22translate(-12%2C-10)%22%20fill%3D%22%23FFF%22%20d%3D%22M17.098%2C20.305c-0.142%2C0.146%2C0.101%2C0.04%2C0.137%2C0.004c0.027-0.028%2C0.204-0.09%2C0.484-0.09c0.338%2C0%2C0.626%2C0.092%2C0.787%2C0.255%20c0.473%2C0.472%2C0.424%2C0.932%2C0.393%2C1.078l-2.521%2C1.055l-1.577-1.577l1.054-2.52c0.039-0.009%2C0.105-0.018%2C0.188-0.018%20c0.219%2C0%2C0.555%2C0.069%2C0.893%2C0.407c0.378%2C0.378%2C0.246%2C1.188%2C0.166%2C1.271C17.062%2C20.207%2C17.062%2C20.269%2C17.098%2C20.305z%20M26.984%2C14.472c-0.008-0.674-0.61-1.257-1.31-1.933c-0.134-0.129-0.679-0.673-0.809-0.808c-0.679-0.702-1.266-1.31-1.943-1.31%20c-0.37%2C0-0.734%2C0.207-1.114%2C0.587l-6.852%2C6.847c-0.012%2C0.016-2.877%2C7.354-2.877%2C7.354c-0.012%2C0.032%2C0%2C0.063%2C0.022%2C0.091%20c0.021%2C0.021%2C0.044%2C0.029%2C0.067%2C0.029c0.01%2C0%2C0.018-0.003%2C0.028-0.007c0%2C0%2C7.357-2.864%2C7.369-2.877l6.854-6.847%20C26.803%2C15.216%2C26.988%2C14.848%2C26.984%2C14.472z%22%2F%3E%3C%2Fsvg%3E\');}.amcharts-export-menu .export-close>a,.amcharts-export-menu .export-close:hover>a,.amcharts-export-menu .export-close.active>a{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAAQCAYAAADNo/U5AAAACXBIWXMAAAsTAAALEwEAmpwYAABBsGlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS41LWMwMjEgNzkuMTU1NzcyLCAyMDE0LzAxLzEzLTE5OjQ0OjAwICAgICAgICAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgICAgICAgICAgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiCiAgICAgICAgICAgIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiCiAgICAgICAgICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgICAgICAgICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICAgICAgICAgICB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIgogICAgICAgICAgICB4bWxuczpleGlmPSJodHRwOi8vbnMuYWRvYmUuY29tL2V4aWYvMS4wLyI+CiAgICAgICAgIDx4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ+eG1wLmRpZDo4M2Q5NDllYS1lMjE3LTQ3Y2QtYTU1Ni04MTQ3NmRjNWEwYWQ8L3htcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOkRvY3VtZW50SUQ+YWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOjZhMTQ5MTc1LTNiODItMTE3OC05ZjZmLWY0MWMwNTYyYzQxYTwveG1wTU06RG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOkluc3RhbmNlSUQ+eG1wLmlpZDpkZGFhNTJkMi1mZDRiLTRkMmMtODEzOC01ZTEzNmQ4NGFjMDE8L3htcE1NOkluc3RhbmNlSUQ+CiAgICAgICAgIDx4bXBNTTpEZXJpdmVkRnJvbSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgIDxzdFJlZjppbnN0YW5jZUlEPnhtcC5paWQ6MDdhZmI1Y2UtYzQ1OS00YzQxLWJkMjItMTllMDJlMGE5YzVjPC9zdFJlZjppbnN0YW5jZUlEPgogICAgICAgICAgICA8c3RSZWY6ZG9jdW1lbnRJRD54bXAuZGlkOjA3YWZiNWNlLWM0NTktNGM0MS1iZDIyLTE5ZTAyZTBhOWM1Yzwvc3RSZWY6ZG9jdW1lbnRJRD4KICAgICAgICAgICAgPHN0UmVmOm9yaWdpbmFsRG9jdW1lbnRJRD54bXAuZGlkOjgzZDk0OWVhLWUyMTctNDdjZC1hNTU2LTgxNDc2ZGM1YTBhZDwvc3RSZWY6b3JpZ2luYWxEb2N1bWVudElEPgogICAgICAgICA8L3htcE1NOkRlcml2ZWRGcm9tPgogICAgICAgICA8eG1wTU06SGlzdG9yeT4KICAgICAgICAgICAgPHJkZjpTZXE+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPnNhdmVkPC9zdEV2dDphY3Rpb24+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDppbnN0YW5jZUlEPnhtcC5paWQ6YmY3ZmRlNGYtZDk2MS00Njk4LWI0ZjAtMDJlYjEwOWE4OTA4PC9zdEV2dDppbnN0YW5jZUlEPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6d2hlbj4yMDE1LTA1LTE1VDEzOjE3OjQ5KzAyOjAwPC9zdEV2dDp3aGVuPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6c29mdHdhcmVBZ2VudD5BZG9iZSBQaG90b3Nob3AgQ0MgMjAyMSAoTWFjaW50b3NoKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmNoYW5nZWQ+Lzwvc3RFdnQ6Y2hhbmdlZD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPmNvbnZlcnRlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6cGFyYW1ldGVycz5mcm9tIGltYWdlL3BuZyB0byBhcHBsaWNhdGlvbi92bmQuYWRvYmUucGhvdG9zaG9wPC9zdEV2dDpwYXJhbWV0ZXJzPgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+ZGVyaXZlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6cGFyYW1ldGVycz5jb252ZXJ0ZWQgZnJvbSBpbWFnZS9wbmcgdG8gYXBwbGljYXRpb24vdm5kLmFkb2JlLnBob3Rvc2hvcDwvc3RFdnQ6cGFyYW1ldGVycz4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPnNhdmVkPC9zdEV2dDphY3Rpb24+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDppbnN0YW5jZUlEPnhtcC5paWQ6MDdhZmI1Y2UtYzQ1OS00YzQxLWJkMjItMTllMDJlMGE5YzVjPC9zdEV2dDppbnN0YW5jZUlEPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6d2hlbj4yMDE1LTA1LTE1VDEzOjE3OjQ5KzAyOjAwPC9zdEV2dDp3aGVuPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6c29mdHdhcmVBZ2VudD5BZG9iZSBQaG90b3Nob3AgQ0MgMjAyMSAoTWFjaW50b3NoKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmNoYW5nZWQ+Lzwvc3RFdnQ6Y2hhbmdlZD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPmRlcml2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnBhcmFtZXRlcnM+Y29udmVydGVkIGZyb20gYXBwbGljYXRpb24vdm5kLmFkb2JlLnBob3Rvc2hvcCB0byBpbWFnZS9wbmc8L3N0RXZ0OnBhcmFtZXRlcnM+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5zYXZlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOmRkYWE1MmQyLWZkNGItNGQyYy04MTM4LTVlMTM2ZDg0YWMwMTwvc3RFdnQ6aW5zdGFuY2VJRD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OndoZW4+MjAxNS0wNS0xNVQxMzoyMToyMSswMjowMDwvc3RFdnQ6d2hlbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnNvZnR3YXJlQWdlbnQ+QWRvYmUgUGhvdG9zaG9wIENDIDIwMjEgKE1hY2ludG9zaCk8L3N0RXZ0OnNvZnR3YXJlQWdlbnQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpjaGFuZ2VkPi88L3N0RXZ0OmNoYW5nZWQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICA8L3JkZjpTZXE+CiAgICAgICAgIDwveG1wTU06SGlzdG9yeT4KICAgICAgICAgPHhtcDpDcmVhdG9yVG9vbD5BZG9iZSBQaG90b3Nob3AgQ0MgMjAxNCAoTWFjaW50b3NoKTwveG1wOkNyZWF0b3JUb29sPgogICAgICAgICA8eG1wOkNyZWF0ZURhdGU+MjAxNS0wNS0xNVQxMzoxMzoxNyswMjowMDwveG1wOkNyZWF0ZURhdGU+CiAgICAgICAgIDx4bXA6TW9kaWZ5RGF0ZT4yMDE1LTA1LTE1VDEzOjIxOjIxKzAyOjAwPC94bXA6TW9kaWZ5RGF0ZT4KICAgICAgICAgPHhtcDpNZXRhZGF0YURhdGU+MjAxNS0wNS0xNVQxMzoyMToyMSswMjowMDwveG1wOk1ldGFkYXRhRGF0ZT4KICAgICAgICAgPGRjOmZvcm1hdD5pbWFnZS9wbmc8L2RjOmZvcm1hdD4KICAgICAgICAgPHBob3Rvc2hvcDpDb2xvck1vZGU+MzwvcGhvdG9zaG9wOkNvbG9yTW9kZT4KICAgICAgICAgPHBob3Rvc2hvcDpUZXh0TGF5ZXJzPgogICAgICAgICAgICA8cmRmOkJhZz4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPlg8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Plg8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICA8L3JkZjpCYWc+CiAgICAgICAgIDwvcGhvdG9zaG9wOlRleHRMYXllcnM+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgICAgIDx0aWZmOlhSZXNvbHV0aW9uPjcyMDAwMC8xMDAwMDwvdGlmZjpYUmVzb2x1dGlvbj4KICAgICAgICAgPHRpZmY6WVJlc29sdXRpb24+NzIwMDAwLzEwMDAwPC90aWZmOllSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpSZXNvbHV0aW9uVW5pdD4yPC90aWZmOlJlc29sdXRpb25Vbml0PgogICAgICAgICA8ZXhpZjpDb2xvclNwYWNlPjY1NTM1PC9leGlmOkNvbG9yU3BhY2U+CiAgICAgICAgIDxleGlmOlBpeGVsWERpbWVuc2lvbj4xMzwvZXhpZjpQaXhlbFhEaW1lbnNpb24+CiAgICAgICAgIDxleGlmOlBpeGVsWURpbWVuc2lvbj4xNjwvZXhpZjpQaXhlbFlEaW1lbnNpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIAo8P3hwYWNrZXQgZW5kPSJ3Ij8+HyMp+AAAACBjSFJNAAB6JQAAgIMAAPn/AACA6QAAdTAAAOpgAAA6mAAAF2+SX8VGAAAA3UlEQVR42rSSXZECQQyEPygMrIVFAidhkQASQEIjYVsCSOAksBJAAlhAwvKSWcJBUQVVl6fM5Ke7k4z6vudTG/OFTQAktcAs/ja2TyVBUgVsgQq42F5PItYBCn8PTFNjAYvw5wM92x3gCNSSFCh1araLvAdNBi53VgMtgCuweRqE7RyogAPQxHsdcQBGf0cuaZ80APzaXn468urtniQ1CaXoayStct5AL4QfgToKfoBzIF2BadGVkVZRkIU7UdQDkqRZoDwJl3ROzea2u4LUvtpHOavkty9H/m9XfhsA0l9VuzQDWrIAAAAASUVORK5CYII=);}.amcharts-export-menu .export-drawing-color{background:#000;width:35px;}.amcharts-export-menu .export-drawing-color>a{display:block;overflow:hidden;text-indent:-13333337px;}.amcharts-export-menu .export-drawing-color-red{background:#f00;}.amcharts-export-menu .export-drawing-color-green{background:#0f0;}.amcharts-export-menu .export-drawing-color-blue{background:#00f;}.amcharts-export-menu .export-drawing-color-white{background:#fff;}.amcharts-export-fallback{position:absolute;top:0;right:0;bottom:0;left:0;background-color:#fff;}.amcharts-export-fallback textarea{border:none;outline:none;position:absolute;overflow:hidden;width:100%;height:100%;padding:20px;}.amcharts-export-fallback-message{position:absolute;z-index:1;padding:20px;width:100%;background-color:#fff;}.amcharts-export-menu .export-delayed-capturing>a{text-indent:0px;line-height:36px;vertical-align:middle;text-align:center;background-image:none;}.amcharts-export-menu,.amcharts-export-canvas .canvas-container{-webkit-transition:opacity 0.5s ease-out;-moz-transition:opacity 0.5s ease-out;-ms-transition:opacity 0.5s ease-out;-o-transition:opacity 0.5s ease-out;transition:opacity 0.5s ease-out;}.amcharts-export-canvas.dropbox .canvas-container{opacity:0.5;}.amcharts-export-menu .export-drawing-shape a{font:0/0 a;text-shadow:none;color:transparent;}.amcharts-export-menu li img{height:20px;}.amcharts-export-menu .export-drawing-width a{text-align:center;}.amcharts-export-menu .export-drawing-width span{display:block;margin:0 auto;}.amcharts-export-menu .export-drawing-width span>span{display:block;background:#000;border-radius:100%;}.amcharts-export-menu .export-drawing-shape a:hover img,.amcharts-export-menu .export-drawing-shape.active a img{-webkit-filter:invert(100%);filter:invert(100%);}\n';
},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return customElements.get(t)?void console.warn(t+" it's already defined, skiping redefinition"):void customElements.define(t,e)}},function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var u=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),c=function t(e,r,n){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,r);if(void 0===i){var a=Object.getPrototypeOf(e);return null===a?void 0:t(a,r,n)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(n)},h=r(1072),g=r(1073),p=i(g),d=r(1080),f=i(d),A=r(1078),C=i(A),m=r(1075),I=n(m),v={createElement:h.h},y=I.colorPrim,b={},x={},w=function(t){function e(){o(this,e);var t=s(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t._ref=new WeakMap,t._refb=new WeakMap,t._graph2=new WeakMap,t._line1=new WeakMap,t._line2=new WeakMap,t._graph3=new WeakMap,t.getConfig=t.getConfig.bind(t),t.Move2=t.Move2.bind(t),t}return l(e,t),u(e,[{key:"renderedCallback",value:function(){c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"connectedCallback",this).call(this);var t=this.getConfig(),r=this._ref.get(b);this.chart=AmCharts.makeChart(r,t)}},{key:"getConfig",value:function(){var t,e=this,r=(this.stack,this.xformat),n=this.xtitle,i=(this.ytitle,this.legends),o=this.exprt;return{type:"xy",marginTop:20,trendLines:[],graphs:this.getGraphs(),guides:[],fontFamily:"Helvetica",fontSize:10,addClassNames:!0,valueAxis:[],valueAxes:[{id:"ValueAxis-Y",axisAlpha:1,title:n,titleColor:"#626469",titleBold:!1,titleFontSize:10,minimum:0,gridCount:0,startOnAxis:!0,gridColor:"transparent",gridAlpha:0,tickLength:0,color:"#626469",gridThickness:0,autoGridCount:!0},{id:"ValueAxis-X",axisAlpha:1,title:n,titleColor:"#626469",titleBold:!1,titleFontSize:10,minimum:0,gridCount:0,startOnAxis:!0,gridColor:"transparent",gridAlpha:0,tickLength:0,color:"#626469",gridThickness:0,autoGridCount:!0}],categoryField:"ax",chartCursor:(t={pan:!0,cursorAlpha:0,valueLineAlpha:0,enabled:!1,balloonPointerOrientation:"horizontal",selectWithoutZooming:!1},a(t,"cursorAlpha",0),a(t,"valueLineAlpha",0),a(t,"selectWithoutZooming",!0),a(t,"bulletSize",0),a(t,"zoomable",!1),a(t,"categoryBalloonEnabled",!1),a(t,"categoryBalloonDateFormat","YYYY"),a(t,"cursorColor","#000000"),a(t,"fullWidth",!0),t),chartScrollbar:{enabled:!1},responsive:{},allLabels:[],legend:{enabled:i,autoMargins:!1,equalWidths:!1,horizontalGap:8,markerSize:8,valueWidth:0,position:"bottom",marginTop:-5,fontSize:12,fontFamily:"Helvetica",align:"left",markerType:"square",data:this.generateLegendData(),color:"#58585b",markerLabelGap:6,spacing:20},dataProvider:this.initialData(),export:{enabled:o,fileName:"DNAC-Chart",menu:[{format:"JPG",label:"Export",title:"Export chart to JPG",fileName:"DNAC-Chart"}]},listeners:[{event:"init",method:function(t){t.chart.removeListener(t.chart.chartScrollbar,"zoomed",t.chart.handleScrollbarZoom)}},{event:"rendered",method:function(t){t.chart.removeListener(t.chart.chartScrollbar,"zoomed",t.chart.handleScrollbarZoom),e.updateBullets(t),e.updateLegends(t),e.updateXLabels(t),e.updateLegendsLabels(t)}},{event:"drawn",method:function(t){t.chart.removeListener(t.chart.chartScrollbar,"zoomed",t.chart.handleScrollbarZoom),e.updateBullets(t),e.updateLegends(t),e.updateXLabels(t),e.updateLegendsLabels(t)}},{event:"rollOverGraphItem",method:function(t){var n=t.item.dataContext.ay,i=(t.item.dataContext.attempts,t.item.dataContext.ax),a=void 0;if("text"===r)a=i;else{var o=new Date(Date.parse(i)),s=o.getHours();a=s>12?(s+11)%12+1+"p":(s+11)%12+1+"a"}var l=e._refb.get(x);l.innerHTML="<div style='padding: 5px'><div> Category: "+a+"</div><br/><div><b>Value: "+n+"</b></div><br/></div>",l.style.display="block"}},{event:"rollOutGraphItem",method:function(t){var r=e._refb.get(x);r.style.display="none"}}]}}},{key:"generateLegendData",value:function(){var t=this.names,e=this.topValue,r=this.bottomValue,n=this.topname,i=this.bottomname,a=(this.barcolor,[]);if(t){if(t.map(function(t,e){var r={title:t,color:y[e]};a.push(r)}),e){var o={title:n,color:"#ee0000"};a.push(o)}if(r){var s={title:i,color:"#58585b"};a.push(s)}return a}}},{key:"getGraphs",value:function(t){var e=(this.names,this.topValue,this.bottomValue,this.topname,this.bottomname,this.stack,[]),r={showBalloon:!1,bullet:"round",id:"AmGraph-2",lineColor:"#fcd202",lineAlpha:0,fillAlphas:0,valueField:"aValue",xField:"ax",yField:"ay",colorField:"colorBall",maxBulletSize:.5};e.push(r);var n={bullet:"none",lineAlpha:.8,lineThickness:2,lineColor:"#b0de09",fillAlphas:0,xField:"ax",yField:"zv",valueField:"aValue"};return e.push(n),e}},{key:"updateXLabels",value:function(t){Array.from(this.shadowRoot.querySelectorAll(".amcharts-axis-label")).forEach(function(t,e){var r=t.firstChild;r.setAttribute("font-size","9px"),r.setAttribute("font-weight","200"),r.setAttribute("color","#626469")}),Array.from(this.shadowRoot.querySelectorAll(".amcharts-axis-grid")).forEach(function(t,e){t.setAttribute("stroke-width","0")})}},{key:"updateLegendsLabels",value:function(t){Array.from(this.shadowRoot.querySelectorAll(".amcharts-legend-label")).forEach(function(t,e){var r=t.firstChild;r.setAttribute("font-family","Helvetica"),r.setAttribute("font-size","12px"),r.setAttribute("font-weight","200"),r.setAttribute("color","#58585b"),r.setAttribute("line-height","1.08")})}},{key:"updateBullets",value:function(t){Array.from(this.shadowRoot.querySelectorAll(".amcharts-graph-bullet")).forEach(function(t,e){if(void 0===t.attributes.r){var r=t.firstChild,n=document.createElementNS("http://www.w3.org/2000/svg","circle");n.setAttribute("r","2"),n.setAttribute("cx","0"),n.setAttribute("cy","0"),n.setAttribute("fill","#5682d8"),n.setAttribute("stroke","#5682d8"),n.setAttribute("stroke-width","2"),n.setAttribute("stroke-opacity","1"),n.setAttribute("transform","translate(0,0)"),n.setAttribute("aria-label"," 3p 1.125");var i=n;t.replaceChild(i,r)}})}},{key:"updateLegends",value:function(t){var e=this.names;if(e){var r=e.length;Array.from(this.shadowRoot.querySelectorAll(".amcharts-legend-marker")).forEach(function(t,e){if(e+1>r){var n=t,i=t.parentElement,a=document.createElementNS("http://www.w3.org/2000/svg","line");a.setAttribute("stroke-dasharray","2, 2"),a.setAttribute("x1","0"),a.setAttribute("y1","10"),a.setAttribute("x2","10"),a.setAttribute("y2","10"),a.setAttribute("stroke",e+1-r==1?"#58585b":"#ee0000");var o=a;i.replaceChild(o,n)}})}}},{key:"initialData",value:function t(e){var r=this.data,n=this.topValue,i=this.stack,a=this.bottomValue,t=(this.barcolor,[]),o=5;return o>10?void alert("This chart only support max 5 lines in the same chart. Sorry"):(r.map(function(e,r){var o={ax:e.ax,bottomValue:null===a?null:a[r],topValue:null===n?null:"regular"===i?n[r]-a[r]:n[r],id:r,ay:e.ay,zv:e.zv,aValue:e.aValue?e.aValue:25,attempts:e.attempts?e.attempts:20,colorBall:10==e.attempts?y[0]:20==e.attempts?y[1]:y[2]};t.push(o)}),t)}},{key:"Move2",value:function(t){var e=this._refb.get(x),r=t.clientX-t.currentTarget.getBoundingClientRect().left-150,n=t.clientY-t.currentTarget.getBoundingClientRect().top-100;e.style.top=n+"px",e.style.left=r+"px"}},{key:"renderCallback",value:function(){var t=this,e=this.width,r=this.height,n=e,i=r,a="100%",o=f.default;return[v.createElement("style",null,o),v.createElement("div",{style:"position: relative;"},v.createElement("div",{style:"width: "+n+"; height: "+i+"; background-color: white;"},v.createElement("div",{ref:function(e){return t._ref.set(b,e)},style:"width: "+n+"; height: "+a+"; overflow: visible; top: 10px; left: 10px; position: relative;",onmousemove:this.Move2})),v.createElement("div",{id:"dnx-bubble-balloon",ref:function(e){return t._refb.set(x,e)},style:"display: none;"}))]}}],[{key:"is",get:function(){return"estadistica-scatter-chart"}},{key:"props",get:function(){return{data:h.prop.object({attribute:!0,default:[{ax:"03/29/2017 10:05",ay:0,aValue:0,attempts:0,null:1},{date:"03/29/2017 10:10",ay:0,aValue:0,attempts:0},{date:"03/29/2017 10:15",ay:0,aValue:0,attempts:0},{date:"03/29/2017 10:20",ay:0,aValue:0,attempts:0},{date:"03/29/2017 10:25",ay:0,aValue:0,attempts:0},{date:"03/29/2017 10:30",ay:0,aValue:0,attempts:0},{date:"03/29/2017 10:35",ay:0,aValue:0,attempts:0}]}),topValue:h.prop.array({attribute:!0,default:null}),bottomValue:h.prop.array({attribute:!0,default:null}),names:h.prop.array({attribute:!0,default:null}),topname:h.prop.string({attribute:!0,default:""}),bottomname:h.prop.string({attribute:!0,default:""}),xformat:h.prop.string({attribute:!0,default:"text"}),barcolor:h.prop.array({attribute:!0,default:y}),width:h.prop.string({attribute:!0,default:"100%"}),height:h.prop.string({attribute:!0,default:"200px"}),xtitle:h.prop.string({attribute:!0,default:""}),ytitle:h.prop.string({attribute:!0,default:""}),legends:h.prop.boolean({attribute:!0,default:!0}),exprt:h.prop.boolean({attribute:!0,default:!1})}}}]),e}((0,p.default)(h.Component));(0,C.default)(w.is,w),e.default=w},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default='\n.amcharts-axis-label{\n    font-family: CiscoSans;\n    font-size: 11px;\n    font-weight: 200;\n    line-height: 1.18;\n    text-align: left;\n    color: #58585b;\n}\n\n.amcharts-cursor-selection {\n  fill: transparent;\n}\n\n.amcharts-balloon-bg-categoryAxis {\n  fill: transparent;\n  stroke: transparent;\n  fill-opacity: 0;\n  stroke-width: 0;\n  stroke-opacity: 0;\n  font-family: CiscoSans;\n  font-size: 11px;\n  font-weight: 200;\n  line-height: 1.18;\n  text-align: left;\n  color: #58585b;\n}\n\n#dnx-bubble-balloon {\n  position: absolute;\n  top: -200px;\n  left: 0;\n  border: 1px solid #ccc;\n  background: rgba(255, 255, 255, 1);\n  padding: 10px;\n  font-size: 14px;\n  color: #000;\n  margin: 20px 0 0 20px;\n  transform: translateY(24px);\n}\n\n#dnx-bubble-balloon:after {\n  content: \'\';\n  top: - 24px;\n  border-bottom: 24px solid #fff;\n}\n.amcharts-export-canvas{position:absolute;display:none;z-index:1;top:0;right:0;bottom:0;left:0;background-color:#fff;}.amcharts-export-canvas.active{display:block;}.amcharts-export-menu{position:absolute;z-index:2;opacity:0.5;color:#000;}.amcharts-main-div:hover .amcharts-export-menu,.amcharts-stock-div:hover .amcharts-export-menu,.amcharts-export-menu.active{opacity:1;}.amcharts-export-menu-top-left>ul>li>ul:after{content:"";position:absolute;top:13px;right:100%;z-index:1000;border-top:7px solid transparent;border-left:7px solid transparent;border-right:7px solid #fff;border-bottom:7px solid transparent;}.amcharts-export-menu-top-left>ul>li>ul>li:first-child>a:after{content:"";position:absolute;top:12px;right:100%;z-index:1001;border-top:8px solid transparent;border-left:8px solid transparent;border-right:8px solid #e2e2e2;border-bottom:8px solid transparent;}.amcharts-export-menu-top-right>ul>li>ul:after{content:"";position:absolute;top:13px;left:100%;z-index:1000;border-top:7px solid transparent;border-left:7px solid #fff;border-right:7px solid transparent;border-bottom:7px solid transparent;}.amcharts-export-menu-top-right>ul>li>ul>li:first-child>a:after{content:"";position:absolute;top:12px;left:100%;z-index:1001;border-top:8px solid transparent;border-left:8px solid #e2e2e2;border-right:8px solid transparent;border-bottom:8px solid transparent;}.amcharts-export-menu-bottom-left>ul>li>ul:after{content:"";position:absolute;bottom:13px;right:100%;z-index:1000;border-top:7px solid transparent;border-left:7px solid transparent;border-right:7px solid #fff;border-bottom:7px solid transparent;}.amcharts-export-menu-bottom-left>ul>li>ul>li:last-child>a:after{content:"";position:absolute;bottom:12px;right:100%;z-index:1001;border-top:8px solid transparent;border-left:8px solid transparent;border-right:8px solid #e2e2e2;border-bottom:8px solid transparent;}.amcharts-export-menu-bottom-right>ul>li>ul:after{content:"";position:absolute;bottom:13px;left:100%;z-index:1000;border-top:7px solid transparent;border-left:7px solid #fff;border-right:7px solid transparent;border-bottom:7px solid transparent;}.amcharts-export-menu-bottom-right>ul>li>ul>li:last-child>a:after{content:"";position:absolute;bottom:12px;left:100%;z-index:1001;border-top:8px solid transparent;border-left:8px solid #e2e2e2;border-right:8px solid transparent;border-bottom:8px solid transparent;}.amcharts-export-menu ul{list-style:none;margin:0;padding:0;}.amcharts-export-menu li{position:relative;display:block;z-index:1;}.amcharts-export-menu li>ul{position:absolute;display:none;border:1px solid #e2e2e2;margin-top:-1px;background:#fff;}.amcharts-export-menu li>a{position:relative;display:block;color:#000;text-decoration:none;padding:12px 12px;z-index:2;white-space:nowrap;border-bottom:1px solid #f2f2f2;}.amcharts-export-menu li:last-child>a{border-bottom:none;}.amcharts-export-menu li>a>img{border:none;}.amcharts-export-menu-top-left{top:0;left:0;}.amcharts-export-menu-bottom-left{bottom:0;left:0;}.amcharts-export-menu-top-right{top:0;right:0;}.amcharts-export-menu-bottom-right{bottom:0;right:0;}.amcharts-export-menu li:hover>ul,.amcharts-export-menu li.active>ul{display:block;}.amcharts-export-menu li:hover>a,.amcharts-export-menu li.active>a{color:#fff;background-color:#636363;}.amcharts-export-menu-top-left li:hover>ul,.amcharts-export-menu-top-left li.active>ul{left:100%;top:0;}.amcharts-export-menu-bottom-left li:hover>ul,.amcharts-export-menu-bottom-left li.active>ul{left:100%;bottom:0;}.amcharts-export-menu-top-right li:hover>ul,.amcharts-export-menu-top-right li.active>ul{top:0;right:100%;}.amcharts-export-menu-bottom-right li:hover>ul,.amcharts-export-menu-bottom-right li.active>ul{bottom:0;right:100%;}.amcharts-export-menu .export-main>a,.amcharts-export-menu .export-drawing>a,.amcharts-export-menu .export-delayed-capturing>a{display:block;overflow:hidden;text-indent:-13333337px;width:36px;height:36px;padding:0;background-repeat:no-repeat;background-image:url(\'data:image/svg+xml;charset=utf8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20width%3D%2211px%22%20height%3D%2214px%22%3E%3Cpath%20d%3D%22M3%2C0%20L8%2C0%20L8%2C5%20L11%2C5%20L5.5%2C10%20L0%2C5%20L3%2C5%20L03%2C0%22%20fill%3D%22%23888%22%2F%3E%3Crect%20x%3D%220%22%20y%3D%2212%22%20fill%3D%22%23888%22%20width%3D%2211%22%20height%3D%222%22%2F%3E%3C%2Fsvg%3E\');background-color:#fff;background-position:center;-webkit-box-shadow:1px 1px 3px 0px rgba(0,0,0,0.5);-moz-box-shadow:1px 1px 3px 0px rgba(0,0,0,0.5);box-shadow:1px 1px 3px 0px rgba(0,0,0,0.5);border-radius:18px;margin:8px 8px 0 10px;}.amcharts-export-menu .export-drawing>a{background-image:url(\'data:image/svg+xml;charset=utf8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20version%3D%221.1%22%20width%3D%2216px%22%20height%3D%2217px%22%3E%3Crect%20x%3D%220%22%20y%3D%2216%22%20fill%3D%22%23888%22%20width%3D%2214%22%20height%3D%221%22%2F%3E%3Cpath%20transform%3D%22translate(-12%2C-10)%22%20fill%3D%22%23888%22%20d%3D%22M17.098%2C20.305c-0.142%2C0.146%2C0.101%2C0.04%2C0.137%2C0.004c0.027-0.028%2C0.204-0.09%2C0.484-0.09c0.338%2C0%2C0.626%2C0.092%2C0.787%2C0.255%20c0.473%2C0.472%2C0.424%2C0.932%2C0.393%2C1.078l-2.521%2C1.055l-1.577-1.577l1.054-2.52c0.039-0.009%2C0.105-0.018%2C0.188-0.018%20c0.219%2C0%2C0.555%2C0.069%2C0.893%2C0.407c0.378%2C0.378%2C0.246%2C1.188%2C0.166%2C1.271C17.062%2C20.207%2C17.062%2C20.269%2C17.098%2C20.305z%20M26.984%2C14.472c-0.008-0.674-0.61-1.257-1.31-1.933c-0.134-0.129-0.679-0.673-0.809-0.808c-0.679-0.702-1.266-1.31-1.943-1.31%20c-0.37%2C0-0.734%2C0.207-1.114%2C0.587l-6.852%2C6.847c-0.012%2C0.016-2.877%2C7.354-2.877%2C7.354c-0.012%2C0.032%2C0%2C0.063%2C0.022%2C0.091%20c0.021%2C0.021%2C0.044%2C0.029%2C0.067%2C0.029c0.01%2C0%2C0.018-0.003%2C0.028-0.007c0%2C0%2C7.357-2.864%2C7.369-2.877l6.854-6.847%20C26.803%2C15.216%2C26.988%2C14.848%2C26.984%2C14.472z%22%2F%3E%3C%2Fsvg%3E\');}.amcharts-export-menu .export-main:hover,.amcharts-export-menu .export-drawing:hover,.amcharts-export-menu .export-main.active,.amcharts-export-menu .export-drawing.active{padding-bottom:100px;}.amcharts-export-menu.amcharts-export-menu-bottom-left .export-main:hover,.amcharts-export-menu.amcharts-export-menu-bottom-left .export-drawing:hover,.amcharts-export-menu.amcharts-export-menu-bottom-right .export-main:hover,.amcharts-export-menu.amcharts-export-menu-bottom-right .export-drawing:hover,.amcharts-export-menu.amcharts-export-menu-bottom-left .export-main.active,.amcharts-export-menu.amcharts-export-menu-bottom-left .export-drawing.active,.amcharts-export-menu.amcharts-export-menu-bottom-right .export-main.active,.amcharts-export-menu.amcharts-export-menu-bottom-right .export-drawing.active{padding-bottom:0;padding-top:100px;}.amcharts-export-menu .export-main:hover>a,.amcharts-export-menu .export-main.active>a{background-image:url(\'data:image/svg+xml;charset=utf8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20width%3D%2211px%22%20height%3D%2214px%22%3E%3Cpath%20d%3D%22M3%2C0%20L8%2C0%20L8%2C5%20L11%2C5%20L5.5%2C10%20L0%2C5%20L3%2C5%20L03%2C0%22%20fill%3D%22%23fff%22%2F%3E%3Crect%20x%3D%220%22%20y%3D%2212%22%20fill%3D%22%23fff%22%20width%3D%2211%22%20height%3D%222%22%2F%3E%3C%2Fsvg%3E\');}.amcharts-export-menu .export-drawing:hover>a,.amcharts-export-menu .export-drawing.active>a{background-image:url(\'data:image/svg+xml;charset=utf8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20version%3D%221.1%22%20width%3D%2216px%22%20height%3D%2217px%22%3E%3Crect%20x%3D%220%22%20y%3D%2216%22%20fill%3D%22%23FFF%22%20width%3D%2214%22%20height%3D%221%22%2F%3E%3Cpath%20transform%3D%22translate(-12%2C-10)%22%20fill%3D%22%23FFF%22%20d%3D%22M17.098%2C20.305c-0.142%2C0.146%2C0.101%2C0.04%2C0.137%2C0.004c0.027-0.028%2C0.204-0.09%2C0.484-0.09c0.338%2C0%2C0.626%2C0.092%2C0.787%2C0.255%20c0.473%2C0.472%2C0.424%2C0.932%2C0.393%2C1.078l-2.521%2C1.055l-1.577-1.577l1.054-2.52c0.039-0.009%2C0.105-0.018%2C0.188-0.018%20c0.219%2C0%2C0.555%2C0.069%2C0.893%2C0.407c0.378%2C0.378%2C0.246%2C1.188%2C0.166%2C1.271C17.062%2C20.207%2C17.062%2C20.269%2C17.098%2C20.305z%20M26.984%2C14.472c-0.008-0.674-0.61-1.257-1.31-1.933c-0.134-0.129-0.679-0.673-0.809-0.808c-0.679-0.702-1.266-1.31-1.943-1.31%20c-0.37%2C0-0.734%2C0.207-1.114%2C0.587l-6.852%2C6.847c-0.012%2C0.016-2.877%2C7.354-2.877%2C7.354c-0.012%2C0.032%2C0%2C0.063%2C0.022%2C0.091%20c0.021%2C0.021%2C0.044%2C0.029%2C0.067%2C0.029c0.01%2C0%2C0.018-0.003%2C0.028-0.007c0%2C0%2C7.357-2.864%2C7.369-2.877l6.854-6.847%20C26.803%2C15.216%2C26.988%2C14.848%2C26.984%2C14.472z%22%2F%3E%3C%2Fsvg%3E\');}.amcharts-export-menu .export-close>a,.amcharts-export-menu .export-close:hover>a,.amcharts-export-menu .export-close.active>a{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAAQCAYAAADNo/U5AAAACXBIWXMAAAsTAAALEwEAmpwYAABBsGlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS41LWMwMjEgNzkuMTU1NzcyLCAyMDE0LzAxLzEzLTE5OjQ0OjAwICAgICAgICAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgICAgICAgICAgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiCiAgICAgICAgICAgIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiCiAgICAgICAgICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgICAgICAgICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICAgICAgICAgICB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIgogICAgICAgICAgICB4bWxuczpleGlmPSJodHRwOi8vbnMuYWRvYmUuY29tL2V4aWYvMS4wLyI+CiAgICAgICAgIDx4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ+eG1wLmRpZDo4M2Q5NDllYS1lMjE3LTQ3Y2QtYTU1Ni04MTQ3NmRjNWEwYWQ8L3htcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOkRvY3VtZW50SUQ+YWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOjZhMTQ5MTc1LTNiODItMTE3OC05ZjZmLWY0MWMwNTYyYzQxYTwveG1wTU06RG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOkluc3RhbmNlSUQ+eG1wLmlpZDpkZGFhNTJkMi1mZDRiLTRkMmMtODEzOC01ZTEzNmQ4NGFjMDE8L3htcE1NOkluc3RhbmNlSUQ+CiAgICAgICAgIDx4bXBNTTpEZXJpdmVkRnJvbSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgIDxzdFJlZjppbnN0YW5jZUlEPnhtcC5paWQ6MDdhZmI1Y2UtYzQ1OS00YzQxLWJkMjItMTllMDJlMGE5YzVjPC9zdFJlZjppbnN0YW5jZUlEPgogICAgICAgICAgICA8c3RSZWY6ZG9jdW1lbnRJRD54bXAuZGlkOjA3YWZiNWNlLWM0NTktNGM0MS1iZDIyLTE5ZTAyZTBhOWM1Yzwvc3RSZWY6ZG9jdW1lbnRJRD4KICAgICAgICAgICAgPHN0UmVmOm9yaWdpbmFsRG9jdW1lbnRJRD54bXAuZGlkOjgzZDk0OWVhLWUyMTctNDdjZC1hNTU2LTgxNDc2ZGM1YTBhZDwvc3RSZWY6b3JpZ2luYWxEb2N1bWVudElEPgogICAgICAgICA8L3htcE1NOkRlcml2ZWRGcm9tPgogICAgICAgICA8eG1wTU06SGlzdG9yeT4KICAgICAgICAgICAgPHJkZjpTZXE+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPnNhdmVkPC9zdEV2dDphY3Rpb24+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDppbnN0YW5jZUlEPnhtcC5paWQ6YmY3ZmRlNGYtZDk2MS00Njk4LWI0ZjAtMDJlYjEwOWE4OTA4PC9zdEV2dDppbnN0YW5jZUlEPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6d2hlbj4yMDE1LTA1LTE1VDEzOjE3OjQ5KzAyOjAwPC9zdEV2dDp3aGVuPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6c29mdHdhcmVBZ2VudD5BZG9iZSBQaG90b3Nob3AgQ0MgMjAyMSAoTWFjaW50b3NoKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmNoYW5nZWQ+Lzwvc3RFdnQ6Y2hhbmdlZD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPmNvbnZlcnRlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6cGFyYW1ldGVycz5mcm9tIGltYWdlL3BuZyB0byBhcHBsaWNhdGlvbi92bmQuYWRvYmUucGhvdG9zaG9wPC9zdEV2dDpwYXJhbWV0ZXJzPgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+ZGVyaXZlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6cGFyYW1ldGVycz5jb252ZXJ0ZWQgZnJvbSBpbWFnZS9wbmcgdG8gYXBwbGljYXRpb24vdm5kLmFkb2JlLnBob3Rvc2hvcDwvc3RFdnQ6cGFyYW1ldGVycz4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPnNhdmVkPC9zdEV2dDphY3Rpb24+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDppbnN0YW5jZUlEPnhtcC5paWQ6MDdhZmI1Y2UtYzQ1OS00YzQxLWJkMjItMTllMDJlMGE5YzVjPC9zdEV2dDppbnN0YW5jZUlEPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6d2hlbj4yMDE1LTA1LTE1VDEzOjE3OjQ5KzAyOjAwPC9zdEV2dDp3aGVuPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6c29mdHdhcmVBZ2VudD5BZG9iZSBQaG90b3Nob3AgQ0MgMjAyMSAoTWFjaW50b3NoKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmNoYW5nZWQ+Lzwvc3RFdnQ6Y2hhbmdlZD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPmRlcml2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnBhcmFtZXRlcnM+Y29udmVydGVkIGZyb20gYXBwbGljYXRpb24vdm5kLmFkb2JlLnBob3Rvc2hvcCB0byBpbWFnZS9wbmc8L3N0RXZ0OnBhcmFtZXRlcnM+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5zYXZlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOmRkYWE1MmQyLWZkNGItNGQyYy04MTM4LTVlMTM2ZDg0YWMwMTwvc3RFdnQ6aW5zdGFuY2VJRD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OndoZW4+MjAxNS0wNS0xNVQxMzoyMToyMSswMjowMDwvc3RFdnQ6d2hlbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnNvZnR3YXJlQWdlbnQ+QWRvYmUgUGhvdG9zaG9wIENDIDIwMjEgKE1hY2ludG9zaCk8L3N0RXZ0OnNvZnR3YXJlQWdlbnQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpjaGFuZ2VkPi88L3N0RXZ0OmNoYW5nZWQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICA8L3JkZjpTZXE+CiAgICAgICAgIDwveG1wTU06SGlzdG9yeT4KICAgICAgICAgPHhtcDpDcmVhdG9yVG9vbD5BZG9iZSBQaG90b3Nob3AgQ0MgMjAxNCAoTWFjaW50b3NoKTwveG1wOkNyZWF0b3JUb29sPgogICAgICAgICA8eG1wOkNyZWF0ZURhdGU+MjAxNS0wNS0xNVQxMzoxMzoxNyswMjowMDwveG1wOkNyZWF0ZURhdGU+CiAgICAgICAgIDx4bXA6TW9kaWZ5RGF0ZT4yMDE1LTA1LTE1VDEzOjIxOjIxKzAyOjAwPC94bXA6TW9kaWZ5RGF0ZT4KICAgICAgICAgPHhtcDpNZXRhZGF0YURhdGU+MjAxNS0wNS0xNVQxMzoyMToyMSswMjowMDwveG1wOk1ldGFkYXRhRGF0ZT4KICAgICAgICAgPGRjOmZvcm1hdD5pbWFnZS9wbmc8L2RjOmZvcm1hdD4KICAgICAgICAgPHBob3Rvc2hvcDpDb2xvck1vZGU+MzwvcGhvdG9zaG9wOkNvbG9yTW9kZT4KICAgICAgICAgPHBob3Rvc2hvcDpUZXh0TGF5ZXJzPgogICAgICAgICAgICA8cmRmOkJhZz4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPlg8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Plg8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICA8L3JkZjpCYWc+CiAgICAgICAgIDwvcGhvdG9zaG9wOlRleHRMYXllcnM+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgICAgIDx0aWZmOlhSZXNvbHV0aW9uPjcyMDAwMC8xMDAwMDwvdGlmZjpYUmVzb2x1dGlvbj4KICAgICAgICAgPHRpZmY6WVJlc29sdXRpb24+NzIwMDAwLzEwMDAwPC90aWZmOllSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpSZXNvbHV0aW9uVW5pdD4yPC90aWZmOlJlc29sdXRpb25Vbml0PgogICAgICAgICA8ZXhpZjpDb2xvclNwYWNlPjY1NTM1PC9leGlmOkNvbG9yU3BhY2U+CiAgICAgICAgIDxleGlmOlBpeGVsWERpbWVuc2lvbj4xMzwvZXhpZjpQaXhlbFhEaW1lbnNpb24+CiAgICAgICAgIDxleGlmOlBpeGVsWURpbWVuc2lvbj4xNjwvZXhpZjpQaXhlbFlEaW1lbnNpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIAo8P3hwYWNrZXQgZW5kPSJ3Ij8+HyMp+AAAACBjSFJNAAB6JQAAgIMAAPn/AACA6QAAdTAAAOpgAAA6mAAAF2+SX8VGAAAA3UlEQVR42rSSXZECQQyEPygMrIVFAidhkQASQEIjYVsCSOAksBJAAlhAwvKSWcJBUQVVl6fM5Ke7k4z6vudTG/OFTQAktcAs/ja2TyVBUgVsgQq42F5PItYBCn8PTFNjAYvw5wM92x3gCNSSFCh1araLvAdNBi53VgMtgCuweRqE7RyogAPQxHsdcQBGf0cuaZ80APzaXn468urtniQ1CaXoayStct5AL4QfgToKfoBzIF2BadGVkVZRkIU7UdQDkqRZoDwJl3ROzea2u4LUvtpHOavkty9H/m9XfhsA0l9VuzQDWrIAAAAASUVORK5CYII=);}.amcharts-export-menu .export-drawing-color{background:#000;width:35px;}.amcharts-export-menu .export-drawing-color>a{display:block;overflow:hidden;text-indent:-13333337px;}.amcharts-export-menu .export-drawing-color-red{background:#f00;}.amcharts-export-menu .export-drawing-color-green{background:#0f0;}.amcharts-export-menu .export-drawing-color-blue{background:#00f;}.amcharts-export-menu .export-drawing-color-white{background:#fff;}.amcharts-export-fallback{position:absolute;top:0;right:0;bottom:0;left:0;background-color:#fff;}.amcharts-export-fallback textarea{border:none;outline:none;position:absolute;overflow:hidden;width:100%;height:100%;padding:20px;}.amcharts-export-fallback-message{position:absolute;z-index:1;padding:20px;width:100%;background-color:#fff;}.amcharts-export-menu .export-delayed-capturing>a{text-indent:0px;line-height:36px;vertical-align:middle;text-align:center;background-image:none;}.amcharts-export-menu,.amcharts-export-canvas .canvas-container{-webkit-transition:opacity 0.5s ease-out;-moz-transition:opacity 0.5s ease-out;-ms-transition:opacity 0.5s ease-out;-o-transition:opacity 0.5s ease-out;transition:opacity 0.5s ease-out;}.amcharts-export-canvas.dropbox .canvas-container{opacity:0.5;}.amcharts-export-menu .export-drawing-shape a{font:0/0 a;text-shadow:none;color:transparent;}.amcharts-export-menu li img{height:20px;}.amcharts-export-menu .export-drawing-width a{text-align:center;}.amcharts-export-menu .export-drawing-width span{display:block;margin:0 auto;}.amcharts-export-menu .export-drawing-width span>span{display:block;background:#000;border-radius:100%;}.amcharts-export-menu .export-drawing-shape a:hover img,.amcharts-export-menu .export-drawing-shape.active a img{-webkit-filter:invert(100%);filter:invert(100%);}\n';
},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),l=function t(e,r,n){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,r);if(void 0===i){var a=Object.getPrototypeOf(e);return null===a?void 0:t(a,r,n)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(n)},u=r(1072),c=r(1073),h=n(c),g=r(1078),p=n(g),d=r(1082),f={createElement:u.h},A={},C=function(t){function e(){i(this,e);var t=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t._ref=new WeakMap,t.getConfig=t.getConfig.bind(t),t}return o(e,t),s(e,[{key:"updatedCallback",value:function(t){if(!t)return!0;var e=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).concat(Object.getOwnPropertyNames(t)):Object.getOwnPropertyNames(t),r=!0,n=!1,i=void 0;try{for(var a,o=e[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var s=a.value;if(!Object.is(t[s],this[s]))return!0}}catch(t){n=!0,i=t}finally{try{!r&&o.return&&o.return()}finally{if(n)throw i}}}},{key:"renderedCallback",value:function(){l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"connectedCallback",this).call(this);var t=this.getConfig(),r=this._ref.get(A);this.chart=AmCharts.makeChart(r,t)}},{key:"getConfig",value:function(){var t=this,e=this.onlyselect,r=this.collapsed,n=this.exprt,i=this.minperiod,a=(this.sliders,this.prevbutton,this.nextbutton,this.customballoon,this.topcustomballoon),o=this.littlehack;return{type:"serial",dataProvider:this.initialData(),theme:"light",marginTop:20,trendLines:[],dataDateFormat:"MM/DD/YYYY JJ:NN",graphs:this.getGraphs(),fontSize:10,addClassNames:!0,valueAxes:[{axisAlpha:1,position:"left",autoGridCount:!0,gridColor:"#a7a9ab",labelFrequency:1,fontSize:10}],categoryField:"date",categoryAxis:{startOnAxis:!0,position:"bottom",gridPosition:"center",gridAlpha:0,parseDates:!0,autoWrap:!1,minHorizontalGap:35,minorGridEnabled:!1,equalSpacing:!0,tickPosition:"center",tickColor:"#58585b",minPeriod:i,labelFunction:function(t,e,r){var n=new Date(Date.parse(e)),i=n.getHours(),a=n.getMinutes();a<10&&(a="0"+a);var o=i>=12?(i+11)%12+1+":"+a+"pm":(i+11)%12+1+":"+a+"am",s=void 0;if("12:00am"===o){var l=n.getDate(),u=n.getMonth()+1;s=u+"/"+l}else s=o;return s},guides:[]},chartCursor:{pan:!1,cursorAlpha:1,selectWithoutZooming:!!e,cursorColor:"#258cbb",valueLineAlpha:1,color:"#FFFFFF",categoryBalloonColor:"transparent",categoryBalloonFunction:function(e){var n=t.shadowRoot.querySelectorAll(".amcharts-balloon-bg-categoryAxis");n[0]&&(n[0].setAttribute("y",r?"1.5":"5.5"),n[0].setAttribute("height","23"),n[0].setAttribute("fill","#58585b"));var i=t.shadowRoot.querySelectorAll(".amcharts-balloon-div-categoryAxis");i[0]&&(i[0].style.top="235px");var a=new Date(Date.parse(e)),o=a.getHours(),s=a.getMinutes();s<10&&(s="0"+s);var l=o>=12?(o+11)%12+1+":"+s+"pm":(o+11)%12+1+":"+s+"am",u=void 0;if("12:00am"===l){var c=a.getDate(),h=a.getMonth()+1;u=h+"/"+c}else u=l;return u},leaveCursor:!1,listeners:[{event:"zoomed",method:function(t){}},{event:"zoomStarted",method:function(t){}},{event:"panning",method:function(t){}},{event:"changed",method:function(n){if(void 0!==n.index){var i=void 0,o=void 0;if(r?(i=t.shadowRoot.querySelectorAll(".amcharts-balloon-div-lineGraph"),o=t.shadowRoot.querySelectorAll(".amcharts-balloon-bg-lineGraph")):(i=t.shadowRoot.querySelectorAll(".amcharts-balloon-div-g1"),o=t.shadowRoot.querySelectorAll(".amcharts-balloon-bg-g1")),i[0]){var s=i[0].getAttribute("style"),l=parseInt(s.split("left: ").pop().split("px; top").shift()),u=l-40;i[0].setAttribute("style","left: "+u+"px; display: block; width:250px; position: absolute; top: "+a+"px; border: 1px solid #ccc; background: rgba(255, 255, 255, 1); padding: 10px; font-size: 14px; color: #000; margin: 20px 0 0 20px; transform: translateY(24px);");var c=o[0].parentNode,h=c.firstChild;c.removeChild(o[0]),c.removeChild(h)}var g=t.shadowRoot.querySelectorAll(".amcharts-cursor-line-vertical");g[0]&&(n.chart.mouseIsDown===!0?g[0].setAttribute("stroke","transparent"):(g[0].setAttribute("stroke-dasharray","5,5"),g[0].setAttribute("stroke","#58585b"))),n.chart.mouseIsDown===!0&&"left"===n.chart.draggedItem?e===!1&&t.displayText(n,n.chart.draggedItem):n.chart.mouseIsDown===!0&&"right"===n.chart.draggedItem&&e===!1&&t.displayText(n,n.chart.draggedItem)}}}]},chartScrollbar:this.renderScrollbar(),responsive:{},allLabels:[],balloon:{adjustBorderColor:!0,borderColor:"#d8d9da",borderAlpha:.1,animationDuration:0,borderThickness:1,color:"#626469",fadeOutDuration:0,cornerRadius:0,fillColor:"#FFFFFF",fixedPosition:!0,fillAlpha:1,horizontalPadding:8,shadowAlpha:.1,shadowColor:"#000000",textAlign:"middle",verticalPadding:8,fontFamily:"CiscoSans",fontSize:12,offsetX:50,offsetY:-100,showBullet:!1},legend:{enabled:!1,markerType:"round",markerSize:6,spacing:-40,align:"center"},export:{enabled:n,fileName:"DNAC-Chart",menu:[{format:"JPG",label:"i18nMessageBundle.timeline_export",title:"i18nMessageBundle.timeline_export_chart_to_JPG",fileName:"DNAC-Chart"}]},listeners:[{event:"init",method:function(r){e&&r.chart.removeListener(r.chart.chartScrollbar,"zoomed",r.chart.handleScrollbarZoom);for(var n in r.chart.valueAxes)r.chart.valueAxes[n].addListener("axisZoomed",function(t){});r.chart.chartDiv.onclick=function(e){t.dragged&&(t.dragged=!1)},o&&(r.chart.categoryAxis.labelsEnabled=!1,r.chart.validateNow())}},{event:"rendered",method:function(e){t.renderedChart(e),t.addNoDataAvail(e),t.tooltipOverlap(e)}},{event:"drawn",method:function(e){t.renderedChart(e),t.addNoDataAvail(e),t.tooltipOverlap(e)}},{event:"zoomed",method:function(r){var n=r.chart.startIndex,i=r.chart.endIndex;e===!1&&(t.displayText(r,n,"left"),t.displayText(r,i,"right"))}}]}}},{key:"tooltipOverlap",value:function(t){var e=this.shadowRoot.querySelector(".amcharts-chart-div"),r=this._ref.get(A);e&&(e.style.overflow="visible"),r.style.overflow="visible"}},{key:"addNoDataAvail",value:function(t){var e=this,r=this.data,n=Object.keys(r[0]);n.map(function(t,r){if("null"===t){var n=e.shadowRoot.querySelectorAll(".amcharts-chart-div"),i=n[0].getAttribute("style"),a=i.split("width: ").pop().split("px; height").shift(),o=n[0].firstChild,s=document.createElementNS("http://www.w3.org/2000/svg","rect");s.setAttribute("x",""+.9*a/2),s.setAttribute("y","30"),s.setAttribute("width","130"),s.setAttribute("height","80"),s.setAttribute("style","fill:#f8f8f8;stroke-width:3;stroke:transparent");var l=document.createElementNS("http://www.w3.org/2000/svg","text");l.setAttribute("x",""+(.9*a/2+20)),l.setAttribute("y","75"),l.setAttribute("font-family","CiscoSans"),l.setAttribute("font-size","12"),l.setAttribute("font-weight","300"),l.setAttribute("fill","#58585b"),l.setAttribute("line-height","18px"),l.innerHTML="No data Available",o.appendChild(s),o.appendChild(l)}})}},{key:"displayText",value:function(t,e,r){var n=new Date(t.chart.dataProvider[e].date);if(n){var i=n.getHours(),a=void 0;i>=12?(i=(i+11)%12+1,a="p"):a="a";var o=n.getMinutes();o<10&&(o="0"+o);var s=this.shadowRoot.querySelectorAll(".amcharts-scrollbar-grip-"+r+"-text");s[0]&&(s[0].innerHTML=i+":"+o+a,"left"===r?this.selectL=n:"right"===r&&(this.selectR=n))}}},{key:"renderedChart",value:function(t){var e=this.onlyselect,r=(this.collapsed,this.exprt,this.minperiod,this.sliders);this.prevbutton,this.nextbutton,this.period;e&&t.chart.removeListener(t.chart.chartScrollbar,"zoomed",t.chart.handleScrollbarZoom),this.updateBullets(t),this.fixOverflowTooltip(),this.addMissingClasses(),this.fixAxisLabels(),this.fixTicks(),this.fixPlotBackground(),r&&(this.zoomChart(t),e===!1&&(this.renderText("right"),this.renderText("left")),this.fixBackground(t),this.setRanges(t),this.overLapSliders())}},{key:"fixPlotBackground",value:function(){Array.from(this.shadowRoot.querySelectorAll(".amcharts-plot-area")).forEach(function(t,e){t.setAttribute("fill-opacity","1")})}},{key:"fixOverflowTooltip",value:function(){var t=this._ref.get(A);Object.assign(t.style,{overflowX:"visible",overflowY:"visible"}),Array.from(this.shadowRoot.querySelectorAll(".amcharts-chart-div")).forEach(function(t,e){Object.assign(t.style,{overflowX:"visible",overflowY:"visible"})}),Array.from(this.shadowRoot.querySelectorAll(".timeline-main-div")).forEach(function(t,e){Object.assign(t.style,{overflowX:"visible",overflowY:"visible"})})}},{key:"overLapSliders",value:function(){var t=this.shadowRoot.querySelector(".amcharts-scrollbar-grip-left").parentElement.parentElement.parentElement,e=t.parentElement;e.removeChild(t),e.appendChild(t)}},{key:"fixTicks",value:function(){var t=this.collapsed;t&&Array.from(this.shadowRoot.querySelectorAll(".amcharts-axis-tick")).forEach(function(t,e){t.setAttribute("transform","translate(0, 11)"),t.setAttribute("stroke-opacity","1"),t.setAttribute("stroke","#a7a9ab")})}},{key:"fixAxisLabels",value:function(){Array.from(this.shadowRoot.querySelectorAll(".amcharts-axis-label")).forEach(function(t,e){})}},{key:"addMissingClasses",value:function(){Array.from(this.shadowRoot.querySelectorAll(".amcharts-scrollbar-grip-left")).forEach(function(t,e){t.nextElementSibling.setAttribute("class","amcharts-grabber-left")}),Array.from(this.shadowRoot.querySelectorAll(".amcharts-scrollbar-grip-right")).forEach(function(t,e){t.nextElementSibling.setAttribute("class","amcharts-grabber-right")})}},{key:"renderScrollbar",value:function(){var t=this.sliders;this.collapsed;if(t)return{graph:"g1",graphLineAlpha:1,graphFillColor:"white",graphLineColor:"#a57575",selectedGraphFillColor:"rgb(215,215,215)",selectedGraphFillAlpha:1,selectedGraphLineColor:"#a57575",selectedGraphLineAlpha:1,scrollbarHeight:36,backgroundAlpha:1,backgroundColor:"transparent",dragIconWidth:30,dragIcon:"dragIconRectBigBlack"}}},{key:"setRanges",value:function(t){var e=parseInt(this.data.length);this.finalDate=Date.parse(this.data[e-1].date),this.initialDate=Date.parse(this.data[0].date),this.selectL=new Date(this.initialDate),this.selectR=new Date(this.finalDate)}},{key:"fixBackground",value:function(t){var e=this.shadowRoot.querySelector('[aria-label="Zoom chart using cursor arrows"]');this.shadowRoot.querySelectorAll(".amcharts-scrollbar-bg-selected");e.setAttribute("style","cursor: default;"),e.setAttribute("stroke","#a9abad"),e.setAttribute("stroke-width","1"),e.setAttribute("stroke-opacity","0.5");var r=e.previousSibling;r.setAttribute("stroke","#a9abad"),r.setAttribute("stroke-width","1"),r.setAttribute("stroke-opacity","0.5");var n=this.shadowRoot.querySelectorAll(".amcharts-scrollbar-grip-left"),i=this.shadowRoot.querySelectorAll(".amcharts-scrollbar-grip-right"),a=void 0,o=void 0;i[0]&&(a=i[0].parentNode),n[0]&&(o=n[0].parentNode);var s=(0,d.nonCollapsedSlider)(),l=s.myGR,u=s.myGL;i[0]&&a.replaceChild(l,i[0]),n[0]&&o.replaceChild(u,n[0])}},{key:"renderText",value:function(t){var e=this.initialDate,r=(this.collapsed,this.finalDate),n="left"===t?this.shadowRoot.querySelectorAll(".amcharts-scrollbar-grip-left-text"):this.shadowRoot.querySelectorAll(".amcharts-scrollbar-grip-right-text");if(n[0]){var i="left"===t?new Date(e):new Date(r),a=i.getHours(),o=void 0;a>=12?(a=(a+11)%12+1,o="p"):o="a";var s=i.getMinutes();s<10&&(s="0"+s),n[0].innerHTML=a+":"+s+o}else{var l="left"===t?new Date(e):new Date(r),u=l.getHours(),c=void 0;u>=12?(u=(u+11)%12+1,c="p"):c="a";var h=l.getMinutes();h<10&&(h="0"+h);var g="left"===t?this.shadowRoot.querySelectorAll(".amcharts-scrollbar-grip-left"):this.shadowRoot.querySelectorAll(".amcharts-scrollbar-grip-right"),p=document.createElementNS("http://www.w3.org/2000/svg","text");p.setAttribute("x","left"===t?"-7":"-12"),p.setAttribute("y","-5"),p.setAttribute("class","left"===t?"amcharts-scrollbar-grip-left-text":"amcharts-scrollbar-grip-right-text"),p.setAttribute("font-family","CiscoSans"),p.setAttribute("font-size","12"),p.setAttribute("font-weight","300"),p.setAttribute("fill","#049fd9"),p.setAttribute("line-height","1.08"),p.setAttribute("style","cursor: default"),p.innerHTML=u+":"+h+c,g[0].parentNode.appendChild(p)}}},{key:"chartCursorEvent",value:function(t){var e=this.shadowRoot.querySelectorAll(".amcharts-cursor-line-vertical");e[0].addEventListener("mousedown",function(t){})}},{key:"zoomChart",value:function(t){var e=this,r=this.sliders;if(r){var n=t.chart.chartScrollbar.set.node;n.addEventListener("mousedown",function(r){r.target.attributes[11];"amcharts-slider-drag-line4"===r.target.classList.value||"amcharts-slider-drag-line5"===r.target.classList.value||"amcharts-slider-drag-line6"===r.target.classList.value||"amcharts-scrollbar-grip-left"===r.target.classList.value||"amcharts-scrollbar-grip-left-rect"===r.target.classList.value||"amcharts-scrollbar-grip-left-text"===r.target.classList.value||"amcharts-scrollbar-grip-left-poly"===r.target.classList.value||"amcharts-grabber-left"===r.target.classList.value?(t.chart.mouseIsDown=!0,t.chart.draggedItem="left"):"amcharts-slider-drag-line1"===r.target.classList.value||"amcharts-slider-drag-line2"===r.target.classList.value||"amcharts-slider-drag-line3"===r.target.classList.value||"amcharts-scrollbar-grip-right-rect"===r.target.classList.value||"amcharts-scrollbar-grip-right-text"===r.target.classList.value||"amcharts-scrollbar-grip-right-poly"===r.target.classList.value||"amcharts-grabber-right"===r.target.classList.value?(t.chart.mouseIsDown=!0,t.chart.draggedItem="right"):r.target.attributes[11]?"Zoom chart using cursor arrows"===r.target.attributes[11].nodeValue&&(t.chart.draggedItem="middle",t.chart.mouseIsDown=!0):t.chart.mouseIsDown=!1,t.chart.chartCursor.enabled=!1,e.fixBackground(r),e.fixAxisLabels()}),n.addEventListener("mousemove",function(r){if(e.fixAxisLabels(),t.chart.mouseIsDown){r.target.attributes[11];"amcharts-slider-drag-line4"===r.target.classList.value||"amcharts-slider-drag-line5"===r.target.classList.value||"amcharts-slider-drag-line6"===r.target.classList.value||"amcharts-scrollbar-grip-left"===r.target.classList.value||"amcharts-scrollbar-grip-left-rect"===r.target.classList.value||"amcharts-scrollbar-grip-left-text"===r.target.classList.value||"amcharts-scrollbar-grip-left-poly"===r.target.classList.value||"amcharts-grabber-left"===r.target.classList.value||"amcharts-slider-drag-line1"===r.target.classList.value||"amcharts-slider-drag-line2"===r.target.classList.value||"amcharts-slider-drag-line3"===r.target.classList.value||"amcharts-scrollbar-grip-right-rect"===r.target.classList.value||"amcharts-scrollbar-grip-right-text"===r.target.classList.value||"amcharts-scrollbar-grip-right-poly"===r.target.classList.value||"amcharts-grabber-right"===r.target.classList.value||r.target.attributes[11]&&"Zoom chart using cursor arrows"===r.target.attributes[11].nodeValue&&(t.chart.draggedItem="middle",t.chart.mouseIsDown=!0)}}),t.chart.chartDiv.addEventListener("mouseup",function(r){t.chart.mouseIsDown&&(t.chart.mouseIsDown=!1,t.chart.chartCursor.enabled=!0,e._onTimeRangeChange())})}}},{key:"getGraphs",value:function(t){var e=(this.collapsed,this.customballoon,this.linevisibility,[]),r={id:"gtop",type:"smoothedLine",connect:!1,fillToGraph:"g1",fillColors:["#fdd706","#c3fcf6"],fillAlphas:.5,lineThickness:2,showBalloon:!1,labelText:"",valueField:"valueTop",lineColor:"#000000",dashLength:5,bullet:"round",bulletAlpha:0};e.push(r);var n={id:"g1",type:"smoothedLine",connect:!1,lineThickness:2,showBalloon:!1,balloonText:"[[value]]",customBullet:"",customBulletField:"customBullet",labelText:"",valueField:"value",lineColor:"#000000",lineAlpha:1,bullet:"round",bulletAlpha:0,fillToGraph:"gbottom",fillColors:["#fdd706","#c3fcf6"],fillAlphas:.5};e.push(n);var i={id:"gbottom",type:"smoothedLine",connect:!1,lineThickness:2,showBalloon:!1,labelText:"",valueField:"valueBottom",lineColor:"#000000",dashLength:5,bullet:"round",bulletAlpha:0};return e.push(i),e}},{key:"removeLastGrid",value:function(t){Array.from(this.shadowRoot.querySelectorAll(".amcharts-axis-grid")).forEach(function(t,e){1!==e&&2!==e&&4!==e&&5!==e&&6!==e&&7!==e&&9!==e&&11!==e&&12!==e||t.setAttribute("stroke-opacity","0")})}},{key:"updateBullets",value:function(t){Array.from(this.shadowRoot.querySelectorAll(".amcharts-graph-bullet")).forEach(function(t,e){if(void 0===t.attributes.r){var r=t.firstChild,n=document.createElementNS("http://www.w3.org/2000/svg","circle");n.setAttribute("r","4"),n.setAttribute("cx","0"),n.setAttribute("cy","0"),n.setAttribute("fill","white"),n.setAttribute("stroke","red"),n.setAttribute("stroke-width","2"),n.setAttribute("stroke-opacity","1"),n.setAttribute("transform","translate(0,0)"),n.setAttribute("aria-label"," 3p 1.125");var i=n;t.replaceChild(i,r)}})}},{key:"initialData",value:function t(e){var r=this.data,t=(this.linevisibility,this.collapsed,[]);return r.map(function(e,r){var n=void 0;void 0!==e.event&&e.event===!0&&(n="http://dna-ui.cisco.com:8000/img/redstar.png");e.value?.2:void 0;t.push({date:e.date,value:e.value,valueTop:e.valueTop,valueBottom:e.valueBottom,customBullet:n,color:"#32a205",id:r})}),t}},{key:"_onTimeRangeChange",value:function(){var t=this.selectL,e=this.selectR,r=this.minperiod,n=new Date(t),i=new Date(e),a=n.getDate(),o=n.getFullYear(),s=n.getMonth()+1,l=n.getHours(),c=n.getMinutes(),h=c-c%5;h<10&&(h="0"+h);var g=void 0;g="hh"===r?s+"/"+a+"/"+o+" "+l+":00":s+"/"+a+"/"+o+" "+l+":"+h;var p=new Date(g).getTime(),d=i.getDate(),f=i.getFullYear(),A=i.getMonth()+1,C=i.getHours(),m=i.getMinutes(),I=m-m%5;I<10&&(I="0"+I);var v=void 0;v="hh"===r?A+"/"+d+"/"+f+" "+C+":00":A+"/"+d+"/"+f+" "+C+":"+I;var y=new Date(v).getTime();(0,u.emit)(this,"onTimeRangeChange",{detail:{fromUnix:p,toUnix:y,fromDate:g,toDate:v}})}},{key:"renderCallback",value:function(){var t=this,e=this.width,r=this.height;return f.createElement("div",{ref:function(e){return t._ref.set(A,e)},style:"width: "+e+";height: "+r+"; overflow: visible; top: 5px; left: 0px; position: relative; display:inline-block; overflow: visible;"})}}],[{key:"is",get:function(){return"estadistica-timeline-zoom"}},{key:"props",get:function(){return{data:u.prop.object({attribute:!0,default:[{date:"03/29/2017 10:05",values:[0],null:1},{date:"03/29/2017 10:10",values:[0]},{date:"03/29/2017 10:15",values:[0]},{date:"03/29/2017 10:20",values:[0]},{date:"03/29/2017 10:25",values:[0]},{date:"03/29/2017 10:30",values:[0]},{date:"03/29/2017 10:35",values:[0]}]}),sliders:u.prop.boolean({attribute:!0,default:!0}),initialDate:u.prop.number({attribute:!0}),finalDate:u.prop.number({attribute:!0}),exprt:u.prop.boolean({attribute:!0,default:!1}),width:u.prop.string({attribute:!0,default:"100%"}),height:u.prop.string({attribute:!0,default:"260px"}),minperiod:u.prop.string({attribute:!0,default:"5mm"}),linevisibility:u.prop.string({attribute:!0,default:"Yes"}),tooltip:u.prop.boolean({attribute:!0,default:!1}),prevbutton:u.prop.string({attribute:!0,default:"enable"}),nextbutton:u.prop.string({attribute:!0,default:"disable"}),period:u.prop.string({attribute:!0,default:"24h"}),customballoon:u.prop.boolean({attribute:!0,default:!1}),topcustomballoon:u.prop.number({attribute:!0,default:-120}),onlyselect:u.prop.boolean({attribute:!0,default:!1})}}}]),e}((0,h.default)(u.Component));(0,p.default)(C.is,C),e.default=C},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.nonCollapsedSlider=function(t){var e=document.createElementNS("http://www.w3.org/2000/svg","g");e.setAttribute("class","amcharts-scrollbar-grip-left");var r=document.createElementNS("http://www.w3.org/2000/svg","g");r.setAttribute("class","amcharts-scrollbar-grip-right");var n=document.createElementNS("http://www.w3.org/2000/svg","line"),i=document.createElementNS("http://www.w3.org/2000/svg","line"),a=document.createElementNS("http://www.w3.org/2000/svg","line");n.setAttribute("x1","13"),n.setAttribute("x2","13"),n.setAttribute("y1","0"),n.setAttribute("y2","36"),n.setAttribute("stroke","black"),n.setAttribute("stroke-width","10"),n.setAttribute("class","amcharts-slider-drag-line4"),i.setAttribute("x1","9"),i.setAttribute("x2","17"),i.setAttribute("y1","109"),i.setAttribute("y2","109"),i.setAttribute("stroke","#049fd9"),i.setAttribute("stroke-width","3"),i.setAttribute("class","amcharts-slider-drag-line5"),a.setAttribute("x1","9"),a.setAttribute("x2","17"),a.setAttribute("y1",t),a.setAttribute("y2",t),a.setAttribute("stroke","#049fd9"),a.setAttribute("stroke-width","3"),a.setAttribute("class","amcharts-slider-drag-line6");var o=document.createElementNS("http://www.w3.org/2000/svg","line"),s=document.createElementNS("http://www.w3.org/2000/svg","line"),l=document.createElementNS("http://www.w3.org/2000/svg","line");return o.setAttribute("x1","13"),o.setAttribute("x2","13"),o.setAttribute("y1","0"),o.setAttribute("y2","36"),o.setAttribute("stroke","black"),o.setAttribute("stroke-width","10"),o.setAttribute("class","amcharts-slider-drag-line1"),s.setAttribute("x1","-2"),s.setAttribute("x2","6"),s.setAttribute("y1","109"),s.setAttribute("y2","109"),s.setAttribute("stroke","#049fd9"),s.setAttribute("stroke-width","3"),s.setAttribute("class","amcharts-slider-drag-line2"),l.setAttribute("x1","-2"),l.setAttribute("x2","6"),l.setAttribute("y1",t),l.setAttribute("y2",t),l.setAttribute("stroke","#049fd9"),l.setAttribute("stroke-width","3"),l.setAttribute("class","amcharts-slider-drag-line3"),r.appendChild(o),e.appendChild(n),{myGR:r,myGL:e}}},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){return Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var l=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),u=i(["\n<button on-click=",">",'</button>\n<estadistica-scatter-chart class="bubblechart"></estadistica-scatter-chart>\n'],["\n<button on-click=",">",'</button>\n<estadistica-scatter-chart class="bubblechart"></estadistica-scatter-chart>\n']),c=r(1084),h=r(1078),g=n(h),p=r(1095),d=0,f=[30,34,35,45,60,61,79],A=[78,43,72,86,75,56,96],C=function(t){function e(){a(this,e);var t=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.hypothesis=function(e){return t.b+t.m*e},t.onLearn=function(){var e=t.learningrate,r=t.batchsize;t.learn(e),d++,d===r&&t.interval&&clearInterval(t.interval),t.data=t.initialData(),t.emitResult();var n=t.querySelector(".bubblechart");n.data=t.data,n.name=t.names,n.xformat="text",n.legends=!1},t.learn=function(e){for(var r=t.xs,n=t.ys,i=r.length,a=0,o=0,s=0;s<i;s++)a+=t.hypothesis(r[s])-n[s],o+=(t.hypothesis(r[s])-n[s])*r[s];t.b=t.b-e/i*a,t.m=t.m-e/i*o},t.cost=function(){for(var e=t.xs,r=t.ys,n=e.length,i=0,a=0;a<n;a++)i+=Math.pow(t.hypothesis(e[a])-r[a],2);return i},t.initialData=function(){var e=t.xs,r=t.ys,n=[];return e.map(function(e,i){var a={ax:e,ay:r[i],zv:t.hypothesis(e),aValue:5,attempts:20};n.push(a)}),n},t.onClick=t.onClick.bind(t),t.data=[],t.names=["Variable 1","Variable 2"],t.interval=null,t.xs=f,t.ys=A,t.m=null,t.b=null,t.learningrate=7e-4,t.batchsize=100,t.start=!1,t}return s(e,t),l(e,[{key:"_createRoot",value:function(){return this}},{key:"_firstRendered",value:function(){}},{key:"onClick",value:function(){var t=this.start;t?(this.interval&&clearInterval(this.interval),this.start=!1):(this.interval=setInterval(this.onLearn,5),this.start=!0)}},{key:"emitResult",value:function(){var t=this.m,e=this.b,r=this.cost();(0,p.emit)(this,"result",{detail:{m:t,b:e,iteration:d,sse:r}})}},{key:"disconnectedCallback",value:function(){clearInterval(this.interval)}},{key:"_render",value:function(t){var e=t.start,r=void 0;return r=e?"Stop":"Run",(0,c.html)(u,this.onClick,r)}}],[{key:"properties",get:function(){return{data:Array,names:Array,cost:Array,interval:Object,xs:Array,ys:Array,m:Number,b:Number,learningrate:Number,batchsize:Number,start:Boolean}}},{key:"is",get:function(){return"estadistica-regressiongradesc-cpu"}}]),e}(c.LitElement);(0,g.default)(C.is,C),e.default=C},function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function o(t,e){for(var r in e){var n=e[r]===!0?"":e[r];n||""===n||0===n?t.getAttribute(r)!==n&&t.setAttribute(r,String(n)):t.hasAttribute(r)&&t.removeAttribute(r)}}function s(t){var e=[];for(var r in t){var n=t[r];n&&e.push(r)}return e.join(" ")}function l(t){var e=[];for(var r in t){var n=t[r];(n||0===n)&&e.push((0,p.camelToDashCase)(r)+": "+n)}return e.join("; ")}Object.defineProperty(e,"__esModule",{value:!0}),e.LitElement=e.svg=e.html=void 0;var u=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),c=function t(e,r,n){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,r);if(void 0===i){var a=Object.getPrototypeOf(e);return null===a?void 0:t(a,r,n)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(n)},h=r(1085);Object.defineProperty(e,"html",{enumerable:!0,get:function(){return h.html}}),Object.defineProperty(e,"svg",{enumerable:!0,get:function(){return h.svg}}),e.renderAttributes=o,e.classString=s,e.styleString=l;var g=r(1087),p=r(1092),d=r(1093);e.LitElement=function(t){function e(){n(this,e);var t=i(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments));return t.__renderComplete=null,t.__resolveRenderComplete=null,t.__isInvalid=!1,t.__isChanging=!1,t}return a(e,t),u(e,[{key:"ready",value:function(){this._root=this._createRoot(),c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"ready",this).call(this),this._firstRendered()}},{key:"connectedCallback",value:function(){window.ShadyCSS&&this._root&&window.ShadyCSS.styleElement(this),c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"connectedCallback",this).call(this)}},{key:"_firstRendered",value:function(){}},{key:"_createRoot",value:function(){return this.attachShadow({mode:"open"})}},{key:"_shouldPropertiesChange",value:function(t,e,r){var n=this._shouldRender(t,e,r);return!n&&this.__resolveRenderComplete&&this.__resolveRenderComplete(!1),n}},{key:"_shouldRender",value:function(t,e,r){return!0}},{key:"_propertiesChanged",value:function(t,r,n){c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_propertiesChanged",this).call(this,t,r,n);var i=this._render(t);i&&void 0!==this._root&&this._applyRender(i,this._root),this._didRender(t,r,n),this.__resolveRenderComplete&&this.__resolveRenderComplete(!0)}},{key:"_flushProperties",value:function(){this.__isChanging=!0,this.__isInvalid=!1,c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_flushProperties",this).call(this),this.__isChanging=!1}},{key:"_shouldPropertyChange",value:function(t,r,n){var i=c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_shouldPropertyChange",this).call(this,t,r,n);return i&&this.__isChanging&&console.trace("Setting properties in response to other properties changing "+("considered harmful. Setting '"+t+"' from ")+("'"+this._getProperty(t)+"' to '"+r+"'.")),i}},{key:"_render",value:function(t){throw new Error("_render() not implemented")}},{key:"_applyRender",value:function(t,e){(0,d.render)(t,e,this.localName)}},{key:"_didRender",value:function(t,e,r){}},{key:"requestRender",value:function(){this._invalidateProperties()}},{key:"_invalidateProperties",value:function(){this.__isInvalid=!0,c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_invalidateProperties",this).call(this)}},{key:"renderComplete",get:function(){var t=this;return this.__renderComplete||(this.__renderComplete=new Promise(function(e){t.__resolveRenderComplete=function(r){t.__resolveRenderComplete=t.__renderComplete=null,e(r)}}),!this.__isInvalid&&this.__resolveRenderComplete&&Promise.resolve().then(function(){return t.__resolveRenderComplete(!1)})),this.__renderComplete}}]),e}((0,g.PropertiesMixin)(HTMLElement))},function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.EventPart=e.PropertyPart=e.BooleanAttributePart=e.extendedPartCallback=e.svg=e.html=e.render=void 0;var o=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),s=r(1086);Object.defineProperty(e,"render",{enumerable:!0,get:function(){return s.render}});/**
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * This code may only be used under the BSD style license found at
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * http://polymer.github.io/LICENSE.txt
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * The complete set of authors may be found at
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * http://polymer.github.io/AUTHORS.txt
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * The complete set of contributors may be found at
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * http://polymer.github.io/CONTRIBUTORS.txt
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Code distributed by Google as part of the polymer project is also
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * subject to an additional IP rights grant found at
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * http://polymer.github.io/PATENTS.txt
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */
var l=(e.html=function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return new s.TemplateResult(t,r,"html",l)},e.svg=function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return new s.SVGTemplateResult(t,r,"svg",l)},e.extendedPartCallback=function(t,e,r){if("attribute"===e.type){if("on-"===e.rawName.substr(0,3)){var n=e.rawName.slice(3);return new h(t,r,n)}var i=e.name.substr(e.name.length-1);if("$"===i){var a=e.name.slice(0,-1);return new s.AttributePart(t,r,a,e.strings)}if("?"===i){var o=e.name.slice(0,-1);return new u(t,r,o,e.strings)}return new c(t,r,e.rawName,e.strings)}return(0,s.defaultPartCallback)(t,e,r)}),u=e.BooleanAttributePart=function(t){function e(){return n(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,t),o(e,[{key:"setValue",value:function(t,e){var r=this.strings;if(2!==r.length||""!==r[0]||""!==r[1])throw new Error("boolean attributes can only contain a single expression");var n=(0,s.getValue)(this,t[e]);n!==s.noChange&&(n?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name))}}]),e}(s.AttributePart),c=e.PropertyPart=function(t){function e(){return n(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,t),o(e,[{key:"setValue",value:function(t,e){var r=this.strings,n=void 0;this._equalToPreviousValues(t,e)||(n=2===r.length&&""===r[0]&&""===r[1]?(0,s.getValue)(this,t[e]):this._interpolate(t,e),n!==s.noChange&&(this.element[this.name]=n),this._previousValues=t)}}]),e}(s.AttributePart),h=e.EventPart=function(){function t(e,r,i){n(this,t),this.instance=e,this.element=r,this.eventName=i}return o(t,[{key:"setValue",value:function(t){var e=(0,s.getValue)(this,t);e!==this._listener&&(null==e?this.element.removeEventListener(this.eventName,this):null==this._listener&&this.element.addEventListener(this.eventName,this),this._listener=e)}},{key:"handleEvent",value:function(t){"function"==typeof this._listener?this._listener.call(this.element,t):"function"==typeof this._listener.handleEvent&&this._listener.handleEvent(t)}}]),t}()},function(t,e){"use strict";function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function n(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t){var e=h.get(t.type);void 0===e&&(e=new Map,h.set(t.type,e));var r=e.get(t.strings);return void 0===r&&(r=new v(t,t.getTemplateElement()),e.set(t.strings,r)),r}function o(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a,n=r(t),i=e.__templateInstance;if(void 0!==i&&i.template===n&&i._partCallback===t.partCallback)return void i.update(t.values);i=new E(n,t.partCallback,r),e.__templateInstance=i;var o=i._clone();i.update(t.values),O(e,e.firstChild),e.appendChild(o)}function s(t){var e=t.lastIndexOf(">"),r=t.indexOf("<",e+1);return r>-1?t.length:e}Object.defineProperty(e,"__esModule",{value:!0});var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u=function t(e,r,n){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,r);if(void 0===i){var a=Object.getPrototypeOf(e);return null===a?void 0:t(a,r,n)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(n)},c=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();e.defaultTemplateFactory=a,e.render=o;/**
	 * @license
	 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
	 * This code may only be used under the BSD style license found at
	 * http://polymer.github.io/LICENSE.txt
	 * The complete set of authors may be found at
	 * http://polymer.github.io/AUTHORS.txt
	 * The complete set of contributors may be found at
	 * http://polymer.github.io/CONTRIBUTORS.txt
	 * Code distributed by Google as part of the polymer project is also
	 * subject to an additional IP rights grant found at
	 * http://polymer.github.io/PATENTS.txt
	 */
var h=e.templateCaches=new Map,g=(e.html=function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return new g(t,r,"html")},e.svg=function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return new p(t,r,"svg")},e.TemplateResult=function(){function t(e,r,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:T;i(this,t),this.strings=e,this.values=r,this.type=n,this.partCallback=a}return c(t,[{key:"getHTML",value:function(){for(var t=this.strings.length-1,e="",r=!0,n=0;n<t;n++){var i=this.strings[n];e+=i;var a=s(i);r=a>-1?a<i.length:r,e+=r?f:d}return e+=this.strings[t]}},{key:"getTemplateElement",value:function(){var t=document.createElement("template");return t.innerHTML=this.getHTML(),t}}]),t}()),p=e.SVGTemplateResult=function(t){function e(){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return n(e,t),c(e,[{key:"getHTML",value:function(){return"<svg>"+u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"getHTML",this).call(this)+"</svg>"}},{key:"getTemplateElement",value:function(){var t=u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"getTemplateElement",this).call(this),r=t.content,n=r.firstChild;return r.removeChild(n),k(r,n.firstChild),t}}]),e}(g),d="{{lit-"+String(Math.random()).slice(2)+"}}",f="<!--"+d+"-->",A=new RegExp(d+"|"+f),C=/[ \x09\x0a\x0c\x0d]([^\0-\x1F\x7F-\x9F \x09\x0a\x0c\x0d"'>=\/]+)[ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*)$/,m=e.TemplatePart=function t(e,r,n,a,o){i(this,t),this.type=e,this.index=r,this.name=n,this.rawName=a,this.strings=o},I=e.isTemplatePartActive=function(t){return t.index!==-1},v=e.Template=function t(e,r){i(this,t),this.parts=[],this.element=r;for(var n=this.element.content,a=document.createTreeWalker(n,133,null,!1),o=-1,s=0,l=[],u=void 0,c=void 0;a.nextNode();){o++,u=c;var h=c=a.currentNode;if(1===h.nodeType){if(!h.hasAttributes())continue;for(var g=h.attributes,p=0,f=0;f<g.length;f++)g[f].value.indexOf(d)>=0&&p++;for(;p-- >0;){var I=e.strings[s],v=C.exec(I)[1],y=g.getNamedItem(v),b=y.value.split(A);this.parts.push(new m("attribute",o,y.name,v,b)),h.removeAttribute(y.name),s+=b.length-1}}else if(3===h.nodeType){var x=h.nodeValue;if(x.indexOf(d)<0)continue;var w=h.parentNode,N=x.split(A),S=N.length-1;s+=S;for(var T=0;T<S;T++)w.insertBefore(""===N[T]?document.createComment(""):document.createTextNode(N[T]),h),this.parts.push(new m("node",o++));w.insertBefore(""===N[S]?document.createComment(""):document.createTextNode(N[S]),h),l.push(h)}else if(8===h.nodeType&&h.nodeValue===d){var E=h.parentNode,k=h.previousSibling;null===k||k!==u||k.nodeType!==Node.TEXT_NODE?E.insertBefore(document.createComment(""),h):o--,this.parts.push(new m("node",o++)),l.push(h),null===h.nextSibling?E.insertBefore(document.createComment(""),h):o--,c=u,s++}}var O=!0,_=!1,P=void 0;try{for(var M,D=l[Symbol.iterator]();!(O=(M=D.next()).done);O=!0){var R=M.value;R.parentNode.removeChild(R)}}catch(t){_=!0,P=t}finally{try{!O&&D.return&&D.return()}finally{if(_)throw P}}},y=e.getValue=function(t,e){return b(e)?(e=e(t),x):null===e?void 0:e},b=(e.directive=function(t){return t.__litDirective=!0,t},function(t){return"function"==typeof t&&t.__litDirective===!0}),x=e.noChange={};e.directiveValue=x;var w=function(t){return null===t||!("object"===("undefined"==typeof t?"undefined":l(t))||"function"==typeof t)},N=e.AttributePart=function(){function t(e,r,n,a){i(this,t),this.instance=e,this.element=r,this.name=n,this.strings=a,this.size=a.length-1,this._previousValues=[]}return c(t,[{key:"_interpolate",value:function(t,e){for(var r=this.strings,n=r.length-1,i="",a=0;a<n;a++){i+=r[a];var o=y(this,t[e+a]);if(o&&o!==x&&(Array.isArray(o)||"string"!=typeof o&&o[Symbol.iterator])){var s=!0,l=!1,u=void 0;try{for(var c,h=o[Symbol.iterator]();!(s=(c=h.next()).done);s=!0){var g=c.value;i+=g}}catch(t){l=!0,u=t}finally{try{!s&&h.return&&h.return()}finally{if(l)throw u}}}else i+=o}return i+r[n]}},{key:"_equalToPreviousValues",value:function(t,e){for(var r=e;r<e+this.size;r++)if(this._previousValues[r]!==t[r]||!w(t[r]))return!1;return!0}},{key:"setValue",value:function(t,e){if(!this._equalToPreviousValues(t,e)){var r=this.strings,n=void 0;2===r.length&&""===r[0]&&""===r[1]?(n=y(this,t[e]),Array.isArray(n)&&(n=n.join(""))):n=this._interpolate(t,e),n!==x&&this.element.setAttribute(this.name,n),this._previousValues=t}}}]),t}(),S=e.NodePart=function(){function t(e,r,n){i(this,t),this.instance=e,this.startNode=r,this.endNode=n,this._previousValue=void 0}return c(t,[{key:"setValue",value:function(t){if(t=y(this,t),t!==x)if(w(t)){if(t===this._previousValue)return;this._setText(t)}else t instanceof g?this._setTemplateResult(t):Array.isArray(t)||t[Symbol.iterator]?this._setIterable(t):t instanceof Node?this._setNode(t):void 0!==t.then?this._setPromise(t):this._setText(t)}},{key:"_insert",value:function(t){this.endNode.parentNode.insertBefore(t,this.endNode)}},{key:"_setNode",value:function(t){this._previousValue!==t&&(this.clear(),this._insert(t),this._previousValue=t)}},{key:"_setText",value:function(t){var e=this.startNode.nextSibling;t=void 0===t?"":t,e===this.endNode.previousSibling&&e.nodeType===Node.TEXT_NODE?e.textContent=t:this._setNode(document.createTextNode(t)),this._previousValue=t}},{key:"_setTemplateResult",value:function(t){var e=this.instance._getTemplate(t),r=void 0;this._previousValue&&this._previousValue.template===e?r=this._previousValue:(r=new E(e,this.instance._partCallback,this.instance._getTemplate),this._setNode(r._clone()),this._previousValue=r),r.update(t.values)}},{key:"_setIterable",value:function(e){Array.isArray(this._previousValue)||(this.clear(),this._previousValue=[]);var r=this._previousValue,n=0,i=!0,a=!1,o=void 0;try{for(var s,l=e[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value,c=r[n];if(void 0===c){var h=this.startNode;if(n>0){var g=r[n-1];h=g.endNode=document.createTextNode(""),this._insert(h)}c=new t(this.instance,h,this.endNode),r.push(c)}c.setValue(u),n++}}catch(t){a=!0,o=t}finally{try{!i&&l.return&&l.return()}finally{if(a)throw o}}if(0===n)this.clear(),this._previousValue=void 0;else if(n<r.length){var p=r[n-1];r.length=n,this.clear(p.endNode.previousSibling),p.endNode=this.endNode}}},{key:"_setPromise",value:function(t){var e=this;this._previousValue=t,t.then(function(r){e._previousValue===t&&e.setValue(r)})}},{key:"clear",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.startNode;O(this.startNode.parentNode,t.nextSibling,this.endNode)}}]),t}(),T=e.defaultPartCallback=function(t,e,r){if("attribute"===e.type)return new N(t,r,e.name,e.strings);if("node"===e.type)return new S(t,r,r.nextSibling);throw new Error("Unknown part type "+e.type)},E=e.TemplateInstance=function(){function t(e,r,n){i(this,t),this._parts=[],this.template=e,this._partCallback=r,this._getTemplate=n}return c(t,[{key:"update",value:function(t){var e=0,r=!0,n=!1,i=void 0;try{for(var a,o=this._parts[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var s=a.value;s?void 0===s.size?(s.setValue(t[e]),e++):(s.setValue(t,e),e+=s.size):e++}}catch(t){n=!0,i=t}finally{try{!r&&o.return&&o.return()}finally{if(n)throw i}}}},{key:"_clone",value:function(){var t=this.template.element.content.cloneNode(!0),e=this.template.parts;if(e.length>0)for(var r=document.createTreeWalker(t,133,null,!1),n=-1,i=0;i<e.length;i++){var a=e[i],o=I(a);if(o)for(;n<a.index;)n++,r.nextNode();this._parts.push(o?this._partCallback(this,a,r.currentNode):void 0)}return t}}]),t}(),k=e.reparentNodes=function(t,e){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=e;i!==r;){var a=i.nextSibling;t.insertBefore(i,n),i=a}},O=e.removeNodes=function(t,e){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=e;n!==r;){var i=n.nextSibling;t.removeChild(n),n=i}}},function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}/**
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               @license
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               Code distributed by Google as part of the polymer project is also
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               */
function o(t){var e={};for(var r in t){var n=t[r];e[r]="function"==typeof n?{type:n}:n}return e}Object.defineProperty(e,"__esModule",{value:!0}),e.PropertiesMixin=void 0;var s=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),l=function t(e,r,n){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,r);if(void 0===i){var a=Object.getPrototypeOf(e);return null===a?void 0:t(a,r,n)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(n)};r(1088);var u=r(1089),c=r(1090);e.PropertiesMixin=(0,u.dedupingMixin)(function(t){function e(t){var e=Object.getPrototypeOf(t);return e.prototype instanceof h?e:null}function r(t){if(!t.hasOwnProperty(JSCompiler_renameProperty("__ownProperties",t))){var e=null;if(t.hasOwnProperty(JSCompiler_renameProperty("properties",t))){var r=t.properties;r&&(e=o(r))}t.__ownProperties=e}return t.__ownProperties}var u=(0,c.PropertiesChanged)(t),h=function(t){function o(){return n(this,o),i(this,(o.__proto__||Object.getPrototypeOf(o)).apply(this,arguments))}return a(o,t),s(o,[{key:"_initializeProperties",value:function(){this.constructor.finalize(),l(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"_initializeProperties",this).call(this)}},{key:"connectedCallback",value:function(){l(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"connectedCallback",this)&&l(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"connectedCallback",this).call(this),this._enableProperties()}},{key:"disconnectedCallback",value:function(){l(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"disconnectedCallback",this)&&l(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"disconnectedCallback",this).call(this)}}],[{key:"finalize",value:function(){if(!this.hasOwnProperty(JSCompiler_renameProperty("__finalized",this))){var t=e(this);t&&t.finalize(),this.__finalized=!0,this._finalizeClass()}}},{key:"_finalizeClass",value:function(){var t=r(this);t&&this.createProperties(t)}},{key:"typeForProperty",value:function(t){var e=this._properties[t];return e&&e.type}},{key:"observedAttributes",get:function(){var t=this,e=this._properties;return e?Object.keys(e).map(function(e){return t.attributeNameForProperty(e)}):[]}},{key:"_properties",get:function(){if(!this.hasOwnProperty(JSCompiler_renameProperty("__properties",this))){var t=e(this);this.__properties=Object.assign({},t&&t._properties,r(this))}return this.__properties}}]),o}(u);return h})},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),/**
	@license
	Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
	This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
	The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
	The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
	Code distributed by Google as part of the polymer project is also
	subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
	*/
window.JSCompiler_renameProperty=function(t,e){return t}},function(t,e,r){"use strict";/**
	@license
	Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
	This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
	The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
	The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
	Code distributed by Google as part of the polymer project is also
	subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
	*/
function n(){}Object.defineProperty(e,"__esModule",{value:!0}),e.dedupingMixin=void 0,r(1088);var i=0;n.prototype.__mixinApplications,n.prototype.__mixinSet;e.dedupingMixin=function t(e){function t(t){var i=t.__mixinSet;if(i&&i[n])return t;var a=r,o=a.get(t);o||(o=e(t),a.set(t,o));var s=Object.create(o.__mixinSet||i||null);return s[n]=!0,o.__mixinSet=s,o}var r=e.__mixinApplications;r||(r=new WeakMap,e.__mixinApplications=r);var n=i++;return t}},function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.PropertiesChanged=void 0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=function t(e,r,n){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,r);if(void 0===i){var a=Object.getPrototypeOf(e);return null===a?void 0:t(a,r,n)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(n)},l=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();r(1088);var u=r(1089),c=r(1091),h=c.microTask;e.PropertiesChanged=(0,u.dedupingMixin)(function(t){var e=function(t){function e(){n(this,e);var t=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.__dataEnabled=!1,t.__dataReady=!1,t.__dataInvalid=!1,t.__data={},t.__dataPending=null,t.__dataOld=null,t.__dataInstanceProps=null,t.__serializing=!1,t._initializeProperties(),t}return a(e,t),l(e,[{key:"_createPropertyAccessor",value:function(t,e){this._addPropertyToAttributeMap(t),this.hasOwnProperty("__dataHasAccessor")||(this.__dataHasAccessor=Object.assign({},this.__dataHasAccessor)),this.__dataHasAccessor[t]||(this.__dataHasAccessor[t]=!0,this._definePropertyAccessor(t,e))}},{key:"_addPropertyToAttributeMap",value:function(t){if(this.hasOwnProperty("__dataAttributes")||(this.__dataAttributes=Object.assign({},this.__dataAttributes)),!this.__dataAttributes[t]){var e=this.constructor.attributeNameForProperty(t);this.__dataAttributes[e]=t}}},{key:"_definePropertyAccessor",value:function(t,e){Object.defineProperty(this,t,{get:function(){return this._getProperty(t)},set:e?function(){}:function(e){this._setProperty(t,e)}})}}],[{key:"createProperties",value:function(t){var e=this.prototype;for(var r in t)r in e||e._createPropertyAccessor(r)}},{key:"attributeNameForProperty",value:function(t){return t.toLowerCase()}},{key:"typeForProperty",value:function(t){}}]),l(e,[{key:"ready",value:function(){this.__dataReady=!0,this._flushProperties()}},{key:"_initializeProperties",value:function(){for(var t in this.__dataHasAccessor)this.hasOwnProperty(t)&&(this.__dataInstanceProps=this.__dataInstanceProps||{},this.__dataInstanceProps[t]=this[t],delete this[t])}},{key:"_initializeInstanceProperties",value:function(t){Object.assign(this,t)}},{key:"_setProperty",value:function(t,e){this._setPendingProperty(t,e)&&this._invalidateProperties()}},{key:"_getProperty",value:function(t){return this.__data[t]}},{key:"_setPendingProperty",value:function(t,e,r){var n=this.__data[t],i=this._shouldPropertyChange(t,e,n);return i&&(this.__dataPending||(this.__dataPending={},this.__dataOld={}),!this.__dataOld||t in this.__dataOld||(this.__dataOld[t]=n),this.__data[t]=e,this.__dataPending[t]=e),i}},{key:"_invalidateProperties",value:function(){var t=this;!this.__dataInvalid&&this.__dataReady&&(this.__dataInvalid=!0,h.run(function(){t.__dataInvalid&&(t.__dataInvalid=!1,t._flushProperties())}))}},{key:"_enableProperties",value:function(){this.__dataEnabled||(this.__dataEnabled=!0,this.__dataInstanceProps&&(this._initializeInstanceProperties(this.__dataInstanceProps),this.__dataInstanceProps=null),this.ready())}},{key:"_flushProperties",value:function(){var t=this.__data,e=this.__dataPending,r=this.__dataOld;this._shouldPropertiesChange(t,e,r)&&(this.__dataPending=null,this.__dataOld=null,this._propertiesChanged(t,e,r))}},{key:"_shouldPropertiesChange",value:function(t,e,r){return Boolean(e)}},{key:"_propertiesChanged",value:function(t,e,r){}},{key:"_shouldPropertyChange",value:function(t,e,r){return r!==e&&(r===r||e===e)}},{key:"attributeChangedCallback",value:function(t,r,n,i){r!==n&&this._attributeToProperty(t,n),s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"attributeChangedCallback",this)&&s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"attributeChangedCallback",this).call(this,t,r,n,i)}},{key:"_attributeToProperty",value:function(t,e,r){if(!this.__serializing){var n=this.__dataAttributes,i=n&&n[t]||t;this[i]=this._deserializeValue(e,r||this.constructor.typeForProperty(i))}}},{key:"_propertyToAttribute",value:function(t,e,r){this.__serializing=!0,r=arguments.length<3?this[t]:r,this._valueToNodeAttribute(this,r,e||this.constructor.attributeNameForProperty(t)),this.__serializing=!1}},{key:"_valueToNodeAttribute",value:function(t,e,r){var n=this._serializeValue(e);void 0===n?t.removeAttribute(r):t.setAttribute(r,n)}},{key:"_serializeValue",value:function(t){switch("undefined"==typeof t?"undefined":o(t)){case"boolean":return t?"":void 0;default:return null!=t?t.toString():void 0}}},{key:"_deserializeValue",value:function(t,e){switch(e){case Boolean:return null!==t;case Number:return Number(t);default:return t}}}]),e}(t);return e})},function(t,e,r){"use strict";function n(){for(var t=o.length,e=0;e<t;e++){var r=o[e];if(r)try{r()}catch(t){setTimeout(function(){throw t})}}o.splice(0,t),a+=t}Object.defineProperty(e,"__esModule",{value:!0}),e.microTask=e.idlePeriod=e.animationFrame=e.timeOut=void 0,r(1088);var i=0,a=0,o=[],s=0,l=document.createTextNode("");new window.MutationObserver(n).observe(l,{characterData:!0});var u={after:function(t){return{run:function(e){return window.setTimeout(e,t)},cancel:function(t){window.clearTimeout(t)}}},run:function(t,e){return window.setTimeout(t,e)},cancel:function(t){window.clearTimeout(t)}};e.timeOut=u;var c={run:function(t){return window.requestAnimationFrame(t)},cancel:function(t){window.cancelAnimationFrame(t)}};e.animationFrame=c;var h={run:function(t){return window.requestIdleCallback?window.requestIdleCallback(t):window.setTimeout(t,16)},cancel:function(t){window.cancelIdleCallback?window.cancelIdleCallback(t):window.clearTimeout(t)}};e.idlePeriod=h;var g={run:function(t){return l.textContent=s++,o.push(t),i++},cancel:function(t){var e=t-a;if(e>=0){if(!o[e])throw new Error("invalid async handle: "+t);o[e]=null}}};e.microTask=g},function(t,e,r){"use strict";function n(t){return a[t]||(a[t]=t.indexOf("-")<0?t:t.replace(o,function(t){return t[1].toUpperCase()}))}function i(t){return a[t]||(a[t]=t.replace(s,"-$1").toLowerCase())}Object.defineProperty(e,"__esModule",{value:!0}),e.dashToCamelCase=n,e.camelToDashCase=i,r(1088);var a={},o=/-[a-z]/g,s=/([A-Z])/g},function(t,e,r){"use strict";function n(t){c.forEach(function(e){var r=o.templateCaches.get(l(e,t));void 0!==r&&r.forEach(function(t){var e=t.element.content,r=e.querySelectorAll("style");(0,s.removeNodesFromTemplate)(t,new Set(Array.from(r)))})})}function i(t,e,r){var n=u(r),i=n(t),s=e.__templateInstance;if(void 0!==s&&s.template===i&&s._partCallback===t.partCallback)return void s.update(t.values);s=new o.TemplateInstance(i,t.partCallback,n),e.__templateInstance=s;var l=s._clone();s.update(t.values);var c=e instanceof ShadowRoot?e.host:void 0;void 0!==c&&"object"===a(window.ShadyCSS)&&(g(l,i,r),window.ShadyCSS.styleElement(c)),(0,o.removeNodes)(e,e.firstChild),e.appendChild(l)}Object.defineProperty(e,"__esModule",{value:!0}),e.TemplateResult=e.svg=e.html=void 0;var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=r(1086);Object.defineProperty(e,"html",{enumerable:!0,get:function(){return o.html}}),Object.defineProperty(e,"svg",{enumerable:!0,get:function(){return o.svg}}),Object.defineProperty(e,"TemplateResult",{enumerable:!0,get:function(){return o.TemplateResult}}),e.render=i;var s=r(1094),l=function(t,e){return t+"--"+e},u=function(t){return function(e){var r=l(e.type,t),n=o.templateCaches.get(r);void 0===n&&(n=new Map,o.templateCaches.set(r,n));var i=n.get(e.strings);if(void 0===i){var s=e.getTemplateElement();"object"===a(window.ShadyCSS)&&window.ShadyCSS.prepareTemplateDom(s,t),i=new o.Template(e,s),n.set(e.strings,i)}return i}},c=["html","svg"],h=new Set,g=function(t,e,r){if(!h.has(r)){h.add(r);var i=document.createElement("template");if(Array.from(t.querySelectorAll("style")).forEach(function(t){i.content.appendChild(t)}),window.ShadyCSS.prepareTemplateStyles(i,r),n(r),window.ShadyCSS.nativeShadow){var a=i.content.querySelector("style");null!==a&&(t.insertBefore(a,t.firstChild),(0,s.insertNodeIntoTemplate)(e,a.cloneNode(!0),e.element.content.firstChild))}}}},function(t,e,r){"use strict";/**
	 * @license
	 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
	 * This code may only be used under the BSD style license found at
	 * http://polymer.github.io/LICENSE.txt
	 * The complete set of authors may be found at
	 * http://polymer.github.io/AUTHORS.txt
	 * The complete set of contributors may be found at
	 * http://polymer.github.io/CONTRIBUTORS.txt
	 * Code distributed by Google as part of the polymer project is also
	 * subject to an additional IP rights grant found at
	 * http://polymer.github.io/PATENTS.txt
	 */
function n(t,e){for(var r=t.element.content,n=t.parts,i=document.createTreeWalker(r,o,null,!1),a=0,s=n[0],l=-1,u=0,c=[],h=null;i.nextNode();){l++;var g=i.currentNode;for(g.previousSibling===h&&(h=null),e.has(g)&&(c.push(g),null===h&&(h=g)),null!==h&&u++;void 0!==s&&s.index===l;)s.index=null!==h?-1:s.index-u,s=n[++a]}c.forEach(function(t){return t.parentNode.removeChild(t)})}function i(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=t.element.content,i=t.parts;if(null===r||void 0===r)return void n.appendChild(e);for(var a=document.createTreeWalker(n,o,null,!1),u=l(i),c=0,h=-1;a.nextNode();){h++;var g=a.currentNode;for(g===r&&(r.parentNode.insertBefore(e,r),c=s(e));u!==-1&&i[u].index===h;){if(c>0){for(;u!==-1;)i[u].index+=c,u=l(i,u);return}u=l(i,u)}}}Object.defineProperty(e,"__esModule",{value:!0}),e.removeNodesFromTemplate=n,e.insertNodeIntoTemplate=i;var a=r(1086),o=NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT,s=function(t){for(var e=1,r=document.createTreeWalker(t,o,null,!1);r.nextNode();)e++;return e},l=function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,r=e+1;r<t.length;r++){var n=t[r];if((0,a.isTemplatePartActive)(n))return r}return-1}},function(t,e){"use strict";function r(t,e,r){var n=new CustomEvent(e,r);return t.dispatchEvent(n)}Object.defineProperty(e,"__esModule",{value:!0}),e.emit=r},function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){return Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function o(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,r){function n(i,a){try{var o=e[i](a),s=o.value}catch(t){return void r(t)}return o.done?void t(s):Promise.resolve(s).then(function(t){n("next",t)},function(t){n("throw",t)})}return n("next")})}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function c(t){return I.tidy(function(){return b.mul(t).add(x)})}function h(t,e){var r=t.sub(e).square().mean();return r}Object.defineProperty(e,"__esModule",{value:!0});var g=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),p=a(["\n            <button on-click=",'>Run</button>\n            <estadistica-scatter-chart class="bubblechart"></estadistica-scatter-chart>\n            '],["\n            <button on-click=",'>Run</button>\n            <estadistica-scatter-chart class="bubblechart"></estadistica-scatter-chart>\n            ']),d=r(1084),f=r(1078),A=i(f),C=r(1095),m=r(1097),I=n(m),v=[30,34,35,45,60,61,79],y=[78,43,72,86,75,56,96],b=I.variable(I.scalar(Math.random())),x=I.variable(I.scalar(Math.random())),w=function(t){function e(){s(this,e);var t=l(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.onClick=t.onClick.bind(t),t.names=["Variable 1","Variable 2"],t.xs=v,t.ys=y,t.learningrate=3e-4,t.batchsize=100,t}return u(e,t),g(e,[{key:"_createRoot",value:function(){return this}},{key:"train",value:function(){function t(t,r,n,i){return e.apply(this,arguments)}var e=o(regeneratorRuntime.mark(function t(e,r,n,i){var a,o,s,l=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a=I.train.sgd(i),o=regeneratorRuntime.mark(function t(n){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a.minimize(function(){var t=c(e),i=h(t,r);l.emitResult(b.dataSync()[0],x.dataSync()[0],n,i.dataSync()[0]),l.data=l.initialData();var a=l.querySelector(".bubblechart");return a.data=l.data,a.name=l.names,a.xformat="text",a.legends=!1,i}),t.next=3,I.nextFrame();case 3:case"end":return t.stop()}},t,l)}),s=0;case 3:if(!(s<n)){t.next=8;break}return t.delegateYield(o(s),"t0",5);case 5:s++,t.next=3;break;case 8:case"end":return t.stop()}},t,this)}));return t}()},{key:"emitResult",value:function(t,e,r,n){(0,C.emit)(this,"result",{detail:{m:t,b:e,iteration:r,sse:n}})}},{key:"initialData",value:function t(){var e=this.xs,r=this.ys,t=[];return e.map(function(e,n){var i={ax:e,ay:r[n],zv:c(e).dataSync()[0],aValue:5,attempts:20};t.push(i)}),t}},{key:"learnCoefficients",value:function(){function t(t,r){return e.apply(this,arguments)}var e=o(regeneratorRuntime.mark(function t(e,r){var n,i,a,o,s,l,u,h,g,p;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.xs,i=this.ys,a=I.tensor1d(n),o=I.tensor1d(i),s={a:.8,b:.2},l=c(a),u=window.performance.now(),console.time("Train just started"),t.next=9,this.train(a,o,e,r);case 9:h=c(a),g=window.performance.now(),p=g-u,console.log("time->"+p),l.dispose(),h.dispose();case 15:case"end":return t.stop()}},t,this)}));return t}()},{key:"onClick",value:function(){var t=this.batchsize,e=this.learningrate;this.learnCoefficients(t,e)}},{key:"_render",value:function(t){t.names;return(0,d.html)(p,this.onClick)}}],[{key:"properties",get:function(){return{names:Array,interval:Object,xs:Array,ys:Array,learningrate:Number,batchsize:Number}}},{key:"is",get:function(){return"estadistica-regressiongradesc-gpu"}}]),e}(d.LitElement);(0,A.default)(w.is,w),e.default=w},function(t,e,r){"use strict";function n(t){for(var r in t)e.hasOwnProperty(r)||(e[r]=t[r])}Object.defineProperty(e,"__esModule",{value:!0}),n(r(510)),n(r(664)),n(r(713));var i=r(510),a=r(664),o=r(713),s=r(1098);e.version={"tfjs-core":i.version_core,"tfjs-layers":a.version_layers,"tfjs-converter":o.version_converter,tfjs:s.version}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="0.12.7";e.version=r},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){return Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),c=i(["\n<button on-click=",'>Run</button>\n<estadistica-scatter-chart class="bubblechart"></estadistica-scatter-chart>\n'],["\n<button on-click=",'>Run</button>\n<estadistica-scatter-chart class="bubblechart"></estadistica-scatter-chart>\n']),h=r(1084),g=r(1078),p=n(g),d=r(1095),f=r(1100),A=[[30,78],[34,43],[35,72],[45,86],[60,75],[61,56],[79,96]],C=[30,34,35,45,60,61,79],m=[78,43,72,86,75,56,96],I=function(t){function e(){a(this,e);var t=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.hypothesis=function(t,e){return e.b+e.m*t},t.initialData=function(e){var r=t.xs,n=t.ys,i=[];if(r&&"object"===("undefined"==typeof r?"undefined":l(r)))return r.forEach(function(r,a){var o={ax:r,ay:n[a],zv:t.hypothesis(r,e),aValue:5,attempts:20};i.push(o)}),i},t.data=A,t.xs=C,t.ys=m,t.x=null,t.m=null,t.b=null,t.sse=null,t.names=["Variable 1","Variable 2"],t.onClick=t.onClick.bind(t),t}return s(e,t),u(e,[{key:"_createRoot",value:function(){return this}},{key:"_firstRendered",value:function(){console.log("first rendered")}},{key:"onClick",value:function(){var t=this.xs,e=this.ys;console.log("click");var r=(0,f.calculateParameters)(t,e),n=this.initialData(r);if(n){var i=this.querySelector(".bubblechart");i.data=n,i.name=this.names,i.xformat="text",i.legends=!1,this.b=r.b,this.m=r.m,this.r=r.r,this.sse=r.sse,this.emitResult()}}},{key:"emitResult",value:function(){var t=this.m,e=this.b,r=this.r,n=this.sse;(0,d.emit)(this,"result",{detail:{m:t,b:e,r:r,sse:n}})}},{key:"_didRender",value:function(){var t=this.x,e=this.m,r=this.b;if(t&&e&&r){var n=r+e*t;(0,d.emit)(this,"predict",{detail:{y:n}})}}},{key:"_render",value:function(){return(0,h.html)(c,this.onClick)}}],[{key:"properties",get:function(){return{xs:Array,ys:Array,names:Array,x:Number}}},{key:"is",get:function(){return"estadistica-regressionleastsqr-cpu"}}]),e}(h.LitElement);(0,p.default)(I.is,I),e.default=I},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.calculateParameters=function(t,e){if(console.log(t),console.log(e),console.log("undefined"==typeof t?"undefined":r(t)),t&&"object"===("undefined"==typeof t?"undefined":r(t))){var n=t.map(function(t,r){return[t,e[r]]});console.log(n);var i=void 0,a=void 0,o=void 0,s=n.length;if(1===s)i=0,a=n[0][1];else{for(var l=0,u=0,c=0,h=0,g=0,p=0,d=0;d<s;d++){var f=n[d],A=f[0],C=f[1];l+=A,u+=C,g+=A*A,p+=C*C,c+=A*A,h+=A*C}i=(s*h-l*u)/(s*c-l*l),a=u/s-i*l/s,o=(s*h-l*u)/(Math.sqrt(s*g-l*l)*Math.sqrt(s*p-u*u))}console.log(i),console.log(a),console.log(o);for(var m=0,I=0;I<s;I++){var v=n[I],y=a+i*v[0],b=y-v[1];m+=Math.pow(b,2)}return console.log(m),{m:i,b:a,r:o,sse:m}}},e.calculateParametersTensor=function(t,e){if(console.log(t),console.log(e),console.log("undefined"==typeof t?"undefined":r(t)),t&&"object"===("undefined"==typeof t?"undefined":r(t))){var n=void 0,i=void 0,a=void 0,o=data.length;if(1===o)n=0,i=reorder[0][1];else{for(var s=0,l=0,u=0,c=0,h=0,g=0,p=tf.tensor2d(data,[1,count]),d=1,f=(p.sum(d).dataSync(),0);f<o;f++){var A=reorder[f],C=A[0],m=A[1];s+=C,l+=m,h+=C*C,g+=m*m,u+=C*C,c+=C*m}n=(o*c-s*l)/(o*u-s*s),i=l/o-n*s/o,a=(o*c-s*l)/(Math.sqrt(o*h-s*s)*Math.sqrt(o*g-l*l))}console.log(n),console.log(i),console.log(a);for(var I=0,v=0;v<o;v++){var y=reorder[v],b=i+n*y[0],x=b-y[1];I+=Math.pow(x,2)}return console.log(I),{m:n,b:i,r:a,sse:I}}}},function(t,e,r){"use strict";function n(t,e){return Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function i(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var l=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),u=n(["<div>\n    <button on-click=",">Run</button>\n    </div>"],["<div>\n    <button on-click=",">Run</button>\n    </div>"]),c=r(1084),h=r(1095),g=[[1,2,3,4,5,6],[1,2,3,4,5,6]],p=function(t){function e(){a(this,e);var t=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.data=g,t.partitions=5,t.onClick=t.onClick.bind(t),t}return s(e,t),l(e,[{key:"_createRoot",value:function(){return this}},{key:"onClick",value:function(){var t=this,e=window.performance.now(),r=this.data,n=[];r.forEach(function(e){var r=t.calculate(e);n.push(r)});var i=window.performance.now();console.log(n);var a=i-e;this.emitResult(n,a)}},{key:"_didRender",value:function(){}},{key:"emitResult",value:function(t,e){console.log("emiting"),(0,h.emit)(this,"result",{detail:{finalResult:t,time:e}})}},{key:"_deserializeValue",value:function(t,e){switch(e){case Number:case Boolean:case Array:return JSON.parse(t);case Object:return JSON.parse(t);default:return t}}},{key:"calculate",value:function(t){var e=t.length,r=this.mean(t,e),n=this.min(t),i=this.max(t),a=i-n,o=this.variance(t,r,e);return{count:e,mean:r,min:n,max:i,range:a,variance:o}}},{key:"histogram",value:function(t,e,r){for(var n=this.partitions,i=t/n,a=[{value:r,count:0}],o=r,s=0;s<n-1;s++){o=i+o;var l={};l.value=o,l.count=0,a.push(l)}var u=[],c=a.length;e.forEach(function(t,e){a.forEach(function(e,r){r!==c-1?t>=a[r].value&&t<a[r+1].value&&(console.log(t+" goes"+a[r].value),++a[r].count):r===c-1&&t>=a[r].value&&(console.log(t+" goes"+a[r-1].value),++a[r-1].count)})}),console.log(u),console.log(a)}},{key:"variance",value:function(t,e,r){var n=r;if(n&&n>1){var i=0;return t.forEach(function(t){i+=(t-e)*(t-e)}),i/(n-1)}return 0}},{key:"mean",value:function(t,e){var r=e;if(r&&r>0){var n=this.sum(t);return n/r}return 0}},{key:"sum",value:function t(e){var t=0;return e.forEach(function(e){t+=e}),t}},{key:"min",value:function(t){return Math.min.apply(Math,i(t))}},{key:"max",value:function(t){return Math.max.apply(Math,i(t))}},{key:"_render",value:function(){return(0,c.html)(u,this.onClick)}}],[{key:"is",get:function(){return"estadistica-descriptive-cpu"}},{key:"properties",get:function(){return{data:Array}}}]),e}(c.LitElement);customElements.define(p.is,p),e.default=p},function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function i(t,e){return Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var l=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),u=i(["<div>\n    <button on-click=",">Run</button>\n    </div>"],["<div>\n    <button on-click=",">Run</button>\n    </div>"]),c=r(1084),h=r(1097),g=n(h),p=r(1095),d=[[1,2,3,4,5,6],[1,2,3,4,5,6]],f=function(t){function e(){a(this,e);var t=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.data=d,t.partitions=5,t.onClick=t.onClick.bind(t),t}return s(e,t),l(e,[{key:"_createRoot",value:function(){return this}},{key:"onClick",value:function(){var t=this,e=window.performance.now(),r=this.data,n=[];r.forEach(function(e){var r=t.calculate(e);n.push(r)});var i=window.performance.now();console.log(n);var a=i-e;this.emitResult(n,a)}},{key:"_didRender",value:function(){}},{key:"emitResult",value:function(t,e){console.log("emiting"),(0,p.emit)(this,"result",{detail:{finalResult:t,time:e}})}},{key:"_deserializeValue",value:function(t,e){switch(e){case Number:case Boolean:case Array:return JSON.parse(t);case Object:return JSON.parse(t);default:return t}}},{key:"calculate",value:function(t){var e=t.length,r=this.mean(t,e),n=this.min(t,e),i=this.max(t,e),a=i-n,o=this.variance(t,r,e);return{count:e,mean:r,min:n,max:i,range:a,variance:o}}},{key:"mean",value:function(t,e){var r=g.tensor2d(t,[1,e]),n=1,i=r.mean(n).dataSync();return i[0]}},{key:"sum",value:function(t,e){var r=g.tensor2d(t,[1,e]),n=1,i=r.sum(n).dataSync();return i[0]}},{key:"min",value:function(t,e){var r=g.tensor2d(t,[1,e]),n=1,i=r.min(n).dataSync();return i[0]}},{key:"max",value:function(t,e){var r=g.tensor2d(t,[1,e]),n=1,i=r.max(n).dataSync();return i[0]}},{key:"variance",value:function(t,e,r){var n=r;if(n&&n>1){var i=g.scalar(e),a=g.tensor2d(t,[1,r]),o=a.sub(i),s=g.tensor(2).toInt(),l=o.pow(s),u=l.sum().dataSync()[0];return u/(n-1)}return 0}},{key:"_render",value:function(){return(0,c.html)(u,this.onClick)}}],[{key:"is",get:function(){return"estadistica-descriptive-gpu"}},{key:"properties",get:function(){return{data:Array}}}]),e}(c.LitElement);customElements.define(f.is,f),e.default=f},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){return Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function l(t,e,r){this.ax=t[e],this.ay=t[r]}Object.defineProperty(e,"__esModule",{value:!0});var u=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),c=i(["",""],["",""]),h=i(['\n<td style="width: ','; text-align: center; border-bottom: 1px solid black;">\n    ',"\n</td>\n"],['\n<td style="width: ','; text-align: center; border-bottom: 1px solid black;">\n    ',"\n</td>\n"]),g=i(["","\n"],["","\n"]),p=i(['\n<tr>\n    <td style="width: 10%; border-right: 1px solid black;">\n        ',"\n    </td>\n    ","\n</tr>\n"],['\n<tr>\n    <td style="width: 10%; border-right: 1px solid black;">\n        ',"\n    </td>\n    ","\n</tr>\n"]),d=i(['\n<td style="width: ',"; text-align: center; "," ",'">\n    NA\n</td>\n'],['\n<td style="width: ',"; text-align: center; "," ",'">\n    NA\n</td>\n']),f=i(['\n<td style="width: ',"; "," ",'">\n    <div>y = ',"x + ",", r2 =\n        ",'</div>\n    <estadistica-scatter-chart class="bubble','"></estadistica-scatter-chart>\n</td>\n'],['\n<td style="width: ',"; "," ",'">\n    <div>y = ',"x + ",", r2 =\n        ",'</div>\n    <estadistica-scatter-chart class="bubble','"></estadistica-scatter-chart>\n</td>\n']),A=i(['\n<div class="multi-scatter-table">\n    <button on-click=','>Run</button>\n    <table style="width: 100%;">\n        <tr>\n            <td style="width: 10%;">\n            </td>\n            ',"\n        </tr>\n        ","\n    </table>\n</div>\n"],['\n<div class="multi-scatter-table">\n    <button on-click=','>Run</button>\n    <table style="width: 100%;">\n        <tr>\n            <td style="width: 10%;">\n            </td>\n            ',"\n        </tr>\n        ","\n    </table>\n</div>\n"]),C=r(1084),m=r(1104),I=(n(m),r(1100)),v=r(1078),y=n(v),b=["rgb(91,100,114)","rgb(196,175,84)","rgb(86,130,216)"],x=function(t){function e(){a(this,e);var t=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.data=[],t.r=!1,t.names=[],t.length=0,t.dataFinal=[],t.datascatter3=[],t.onClick=t.onClick.bind(t),t}return s(e,t),u(e,[{key:"_createRoot",value:function(){return this}},{key:"onClick",value:function(){var t=this.data,e=[];t[0].forEach(function(r,n){var i=[];t.forEach(function(t){i.push(t[n])}),e.push(i)});var r=e;this.length=r[0].length,this.datascatter3=r;var n=[],i=this.arrayForPerm(r[0]),a=this.nPr(i,2),o=[];a.forEach(function(e,r){var n=(0,I.calculateParameters)(t[e[0]],t[e[1]]);o.push(n)}),this.arraysOfRs=o,a.forEach(function(t,e){var r=[];n.push(r)}),r.forEach(function(t,e){a.forEach(function(e,r){var i=new l(t,e[0],e[1]);n[r].push(i)})}),this.dataFinal=n}},{key:"arrayForPerm",value:function(t){var e=t.map(function(t,e){return e});return e}},{key:"nPr",value:function(t,e){var r=this;return e?t.reduce(function(n,i,a){var o=t.slice(0,a).concat(t.slice(a+1)),s=r.nPr(o,e-1),l=s.length?s.map(function(t){return[i].concat(t)}):[[i]];return n.concat(l)},[]):[]}},{key:"_didRender",value:function(){var t=this.names,e=this.dataFinal;Array.from(this.querySelectorAll("estadistica-scatter-chart")).forEach(function(r,n){r.data=e[n],r.names=t,r.barcolor=b,r.legends=!1})}},{key:"_render",value:function(){var t=this.length,e=this.names,r=this.datascatter3,n=this.arraysOfRs,i=0,a=2===t?"45%":3===t?"30%":4===t?"22%":"90%",o=void 0,s=void 0;return r[0]&&(o=(0,C.html)(c,r[0].map(function(t,r){return(0,C.html)(h,a,e[r])})),s=(0,C.html)(g,r[0].map(function(o,s){var l=s===t-1?"border-bottom: 1px solid black;":"";return(0,C.html)(p,e[s],(0,C.html)(g,r[0].map(function(e,r){var o=r===t-1?"border-right: 1px solid black;":"";if(s===r)return(0,C.html)(d,a,l,o);var u=i;return i++,(0,C.html)(f,a,l,o,n[u].m.toFixed(2),n[u].b.toFixed(2),(n[u].r*n[u].r).toFixed(2),u)})))}))),(0,C.html)(A,this.onClick,o,s)}}],[{key:"is",get:function(){return"estadistica-multiscatter-cpu"}},{key:"properties",get:function(){return{data:Array,r:Boolean,names:Array,length:Number,dataFinal:Array,datascatter3:Array}}}]),e}(C.LitElement);(0,y.default)(x.is,x),e.default=x},function(t,e,r){var n=r(1105);"string"==typeof n&&(n=[[t.id,n,""]]);r(181)(n,{});n.locals&&(t.exports=n.locals)},function(t,e,r){e=t.exports=r(180)(),e.push([t.id,".multi-scatter-table{padding:1px}.multi-scatter-table table{width:950px}.multi-scatter-table td{padding:1px;font-size:100%}.multi-scatter-table tr:first-child{text-align:center}.multi-scatter-table td:first-child{padding-left:2px}.multi-scatter-table td:last-child{padding-right:2px}.multi-scatter-table td:hover{color:#000}",""])},function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function i(t,e){return Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var l=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),u=i(["\n<div>\n  <button on-click=",">Train</button>\n  <button on-click=",'>Predict</button>\n  <estadistica-timeline-zoom class="timelinechart"></estadistica-timeline-zoom>\n</div>'],["\n<div>\n  <button on-click=",">Train</button>\n  <button on-click=",'>Predict</button>\n  <estadistica-timeline-zoom class="timelinechart"></estadistica-timeline-zoom>\n</div>']),c=r(1084),h=r(1097),g=n(h),p=r(1095),d=[[1,2,3,4,5,6],[1,2,3,4,5,6]],f=[],A=function(t){function e(){a(this,e);var t=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.traindata=d,t.steps=0,t.epsilon=.01,t.minperiod="6hh",t.predictdata=d,t.onClickTrain=t.onClickTrain.bind(t),t.onClickPredict=t.onClickPredict.bind(t),t}return s(e,t),l(e,[{key:"_createRoot",value:function(){return this}},{key:"onClickTrain",value:function(){for(var t=this.traindata,e=(this.minperiod,this.steps),r=(window.performance.now(),[]),n=0,i=function(i){var a=n;r[i]=[],t.forEach(function(t,n){a===n&&(r[i].push(t.value),a+=e)}),n++},a=0;a<e;a++)i(a);this.calculateMeanVar(r);window.performance.now();this.calculateRange(t,f,e)}},{key:"calculateRange",value:function(t,e){for(var r=this,n=this.steps,i=0,a=[],o=function(o){var s=i;e[o],t.forEach(function(t,i){if(s===i){var l=r.calculateY(e[o].mean,e[o].variance),u={valueTop:l.top},c={valueBottom:l.bottom},h=Object.assign({},t,u,c);a.push(h),s+=n}}),i++},s=0;s<n;s++)o(s);this.createChart(a)}},{key:"calculateY",value:function(t,e){var r=this.epsilon,n=Math.pow(-1*Math.log(r*(Math.pow(2*Math.PI,.5)*Math.pow(e,.5)))*(2*e),.5),i=t+n,a=t-n;return{top:i,bottom:a}}},{key:"createChart",value:function(t){var e=this.minperiod,r=this.sort(t),n=this.querySelector(".timelinechart");n.data=r,n.minperiod=e}},{key:"calculateMeanVar",value:function(t){var e=this;t.forEach(function(t){var r=e.calculate(t);f.push(r)})}},{key:"calculate",value:function(t){var e=t.length,r=this.mean(t,e),n=this.variance(t,r,e);return{count:e,mean:r,variance:n}}},{key:"mean",value:function(t,e){var r=g.tensor2d(t,[1,e]),n=1,i=r.mean(n).dataSync();return i[0]}},{key:"variance",value:function(t,e,r){var n=r;if(n&&n>1){var i=g.scalar(e),a=g.tensor2d(t,[1,r]),o=a.sub(i),s=g.tensor(2).toInt(),l=o.pow(s),u=l.sum().dataSync()[0];return u/(n-1)}return 0}},{key:"p",value:function(t,e,r){return 1/(Math.pow(2*Math.PI,.5)*Math.pow(r,.5))*Math.exp(-1*Math.pow(t-e,2)/(2*r))}},{key:"sort",value:function(t){return t.sort(function(t,e){var r=t.date,n=e.date;return r<n?-1:r>n?1:0}),t}},{key:"onClickPredict",value:function(){for(var t=this.steps,e=this.epsilon,r=this.predictdata,n=this.minperiod,i=0,a=[],o=0;o<t;o++){for(var s=i;s<r.length;){var l=f[i].mean,u=f[i].variance,c=this.calculateY(l,u),h=r[s].value,g=this.p(h,l,u),p={};p=g<e?{date:r[s].date,value:r[s].value,valueTop:c.top,valueBottom:c.bottom,event:!0}:{date:r[s].date,value:r[s].value,valueTop:c.top,valueBottom:c.bottom,event:!1},a.push(p),s+=t}i++}var d=this.sort(a),A=this.querySelector(".timelinechart");A.data=d,A.minperiod=n}},{key:"_didRender",value:function(){}},{key:"emitResult",value:function(t,e){console.log("emiting"),(0,p.emit)(this,"result",{detail:{finalResult:t,time:e}})}},{key:"_deserializeValue",value:function(t,e){switch(e){case Number:case Boolean:case Array:return JSON.parse(t);case Object:return JSON.parse(t);default:return t}}},{key:"_render",value:function(){return(0,c.html)(u,this.onClickTrain,this.onClickPredict)}}],[{key:"is",get:function(){return"estadistica-anomaly-detection"}},{key:"properties",get:function(){return{traindata:Array,steps:Number,epsilon:Number,predictdata:Array}}}]),e}(c.LitElement);customElements.define(A.is,A),e.default=A}])});
//# sourceMappingURL=index-with-deps.min.js.map