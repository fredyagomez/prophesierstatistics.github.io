!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.prophesier=e():t.prophesier=e()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}n(757),n(1037),n(1038),n(1039),n(1040),n(1041),n(1042),n(1043),n(1044),n(1045);var i=n(1046),a=(r(i),n(1048)),o=(r(a),n(1053)),s=(r(o),n(1056)),l=(r(s),n(1058)),u=(r(l),n(1060)),c=(r(u),n(1073)),h=(r(c),n(1076)),g=(r(h),n(1078)),d=(r(g),n(1079)),p=(r(d),n(1080)),f=(r(p),n(1083));r(f)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(t){if(c===setTimeout)return setTimeout(t,0);if((c===n||!c)&&setTimeout)return c=setTimeout,setTimeout(t,0);try{return c(t,0)}catch(e){try{return c.call(null,t,0)}catch(e){return c.call(this,t,0)}}}function a(t){if(h===clearTimeout)return clearTimeout(t);if((h===r||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(t);try{return h(t)}catch(e){try{return h.call(null,t)}catch(e){return h.call(this,t)}}}function o(){f&&d&&(f=!1,d.length?p=d.concat(p):A=-1,p.length&&s())}function s(){if(!f){var t=i(o);f=!0;for(var e=p.length;e;){for(d=p,p=[];++A<e;)d&&d[A].run();A=-1,e=p.length}d=null,f=!1,a(t)}}function l(t,e){this.fun=t,this.array=e}function u(){}var c,h,g=t.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:n}catch(t){c=n}try{h="function"==typeof clearTimeout?clearTimeout:r}catch(t){h=r}}();var d,p=[],f=!1,A=-1;g.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];p.push(new l(t,e)),1!==p.length||f||i(s)},l.prototype.run=function(){this.fun.apply(null,this.array)},g.title="browser",g.browser=!0,g.env={},g.argv=[],g.version="",g.versions={},g.on=u,g.addListener=u,g.once=u,g.off=u,g.removeListener=u,g.removeAllListeners=u,g.emit=u,g.prependListener=u,g.prependOnceListener=u,g.listeners=function(t){return[]},g.binding=function(t){throw new Error("process.binding is not supported")},g.cwd=function(){return"/"},g.chdir=function(t){throw new Error("process.chdir is not supported")},g.umask=function(){return 0}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){t.exports=function(){var t=[];return t.toString=function(){for(var t=[],e=0;e<this.length;e++){var n=this[e];n[2]?t.push("@media "+n[2]+"{"+n[1]+"}"):t.push(n[1])}return t.join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},i=0;i<this.length;i++){var a=this[i][0];"number"==typeof a&&(r[a]=!0)}for(i=0;i<e.length;i++){var o=e[i];"number"==typeof o[0]&&r[o[0]]||(n&&!o[2]?o[2]=n:n&&(o[2]="("+o[2]+") and ("+n+")"),t.push(o))}},t}},function(t,e,n){function r(t,e){for(var n=0;n<t.length;n++){var r=t[n],i=d[r.id];if(i){i.refs++;for(var a=0;a<i.parts.length;a++)i.parts[a](r.parts[a]);for(;a<r.parts.length;a++)i.parts.push(u(r.parts[a],e))}else{for(var o=[],a=0;a<r.parts.length;a++)o.push(u(r.parts[a],e));d[r.id]={id:r.id,refs:1,parts:o}}}}function i(t){for(var e=[],n={},r=0;r<t.length;r++){var i=t[r],a=i[0],o=i[1],s=i[2],l=i[3],u={css:o,media:s,sourceMap:l};n[a]?n[a].parts.push(u):e.push(n[a]={id:a,parts:[u]})}return e}function a(t,e){var n=A(),r=m[m.length-1];if("top"===t.insertAt)r?r.nextSibling?n.insertBefore(e,r.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),m.push(e);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(e)}}function o(t){t.parentNode.removeChild(t);var e=m.indexOf(t);e>=0&&m.splice(e,1)}function s(t){var e=document.createElement("style");return e.type="text/css",a(t,e),e}function l(t){var e=document.createElement("link");return e.rel="stylesheet",a(t,e),e}function u(t,e){var n,r,i;if(e.singleton){var a=I++;n=C||(C=s(e)),r=c.bind(null,n,a,!1),i=c.bind(null,n,a,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=l(e),r=g.bind(null,n),i=function(){o(n),n.href&&URL.revokeObjectURL(n.href)}):(n=s(e),r=h.bind(null,n),i=function(){o(n)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else i()}}function c(t,e,n,r){var i=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=v(e,i);else{var a=document.createTextNode(i),o=t.childNodes;o[e]&&t.removeChild(o[e]),o.length?t.insertBefore(a,o[e]):t.appendChild(a)}}function h(t,e){var n=e.css,r=e.media;if(r&&t.setAttribute("media",r),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}function g(t,e){var n=e.css,r=e.sourceMap;r&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var i=new Blob([n],{type:"text/css"}),a=t.href;t.href=URL.createObjectURL(i),a&&URL.revokeObjectURL(a)}var d={},p=function(t){var e;return function(){return"undefined"==typeof e&&(e=t.apply(this,arguments)),e}},f=p(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),A=p(function(){return document.head||document.getElementsByTagName("head")[0]}),C=null,I=0,m=[];t.exports=function(t,e){e=e||{},"undefined"==typeof e.singleton&&(e.singleton=f()),"undefined"==typeof e.insertAt&&(e.insertAt="bottom");var n=i(t);return r(n,e),function(t){for(var a=[],o=0;o<n.length;o++){var s=n[o],l=d[s.id];l.refs--,a.push(l)}if(t){var u=i(t);r(u,e)}for(var o=0;o<a.length;o++){var l=a[o];if(0===l.refs){for(var c=0;c<l.parts.length;c++)l.parts[c]();delete d[l.id]}}}};var v=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}()},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),n(506),n(614);var i=n(615),a=n(507);e.environment=a;var o=n(507),s=n(618);e.io=s;var l=n(633);e.serialization=l;var u=n(514),c=n(634);e.test_util=c;var h=n(512);e.util=h;var g=n(635);e.version_core=g.version;var d=n(636);e.webgl=d;var p=n(637);e.AdadeltaOptimizer=p.AdadeltaOptimizer;var f=n(640);e.AdagradOptimizer=f.AdagradOptimizer;var A=n(641);e.AdamOptimizer=A.AdamOptimizer;var C=n(642);e.AdamaxOptimizer=C.AdamaxOptimizer;var I=n(643);e.MomentumOptimizer=I.MomentumOptimizer;var m=n(638);e.Optimizer=m.Optimizer;var v=n(645);e.RMSPropOptimizer=v.RMSPropOptimizer;var y=n(644);e.SGDOptimizer=y.SGDOptimizer;var b=n(514);e.Tensor=b.Tensor,e.TensorBuffer=b.TensorBuffer,e.variable=b.variable,e.Variable=b.Variable;var x=n(553);e.Rank=x.Rank,r(n(519));var w=n(566);e.Reduction=w.Reduction,r(n(646)),r(n(549));var S=n(507);e.ENV=S.ENV,e.Environment=S.Environment,e.setBackend=o.Environment.setBackend,e.getBackend=o.Environment.getBackend,e.disposeVariables=o.Environment.disposeVariables,e.memory=o.Environment.memory;var T=n(509);e.doc=T.doc,e.nextFrame=i.BrowserUtil.nextFrame;var N=n(519);u.setOpHandler(N)},function(t,e,n){"use strict";function r(t,e){if("float32"===e)return t;if("int32"===e||"bool"===e){for(var n="int32"===e?new Int32Array(t.length):new Uint8Array(t.length),r=0;r<n.length;++r)n[r]=Math.round(t[r]);return n}throw new Error("Unknown dtype "+e)}function i(t,e){return t instanceof Float32Array?t:new Float32Array(t)}var a=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,a){function o(t){try{l(r.next(t))}catch(t){a(t)}}function s(t){try{l(r.throw(t))}catch(t){a(t)}}function l(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(o,s)}l((r=r.apply(t,e||[])).next())})},o=this&&this.__generator||function(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;l;)try{if(i=1,a&&(o=2&n[0]?a.return:n[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,n[1])).done)return o;switch(a=0,o&&(n=[2&n[0],o.value]),n[0]){case 0:case 1:o=n;break;case 4:return l.label++,{value:n[1],done:!1};case 5:l.label++,a=n[1],n=[0];continue;case 7:n=l.ops.pop(),l.trys.pop();continue;default:if(o=l.trys,!(o=o.length>0&&o[o.length-1])&&(6===n[0]||2===n[0])){l=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3])){l.label=n[1];break}if(6===n[0]&&l.label<o[1]){l.label=o[1],o=n;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(n);break}o[2]&&l.ops.pop(),l.trys.pop();continue}n=e.call(t,l)}catch(t){n=[6,t],a=0}finally{i=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,a,o,s,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(e,"__esModule",{value:!0});var s=n(507),l=n(518),u=n(519),c=n(569),h=n(570),g=n(547),d=n(514),p=n(553),f=n(512),A=n(571),C=n(572),I=n(573),m=n(574),v=n(575),y=n(575),b=n(576),x=n(577),w=n(578),S=n(579),T=n(580),N=n(581),E=n(582),k=n(584),O=n(585),M=n(586),R=n(587),D=n(591),_=n(588),P=n(592),L=n(593),z=n(594),F=n(595),B=n(596),V=n(597),j=n(598),W=n(599),G=n(600),U=n(601),H=n(602),Z=n(603),Y=n(604),X=n(605),q=n(606),K=n(607),J=n(608),Q=n(589),$=n(609),tt=n(610),et=n(611),nt=n(612),rt=n(612),it=n(590),at=300;e.SIZE_UPLOAD_UNIFORM=32;var ot=function(){function t(t,e){if(void 0===e&&(e=!0),this.gpgpu=t,this.delayedStorage=e,this.texData=new WeakMap,this.pendingRead=new WeakMap,this.pendingDisposal=new WeakSet,this.lruDataGPU=[],this.numBytesInGPU=0,this.uploadWaitMs=0,this.downloadWaitMs=0,this.binaryCache={},this.disposed=!1,s.ENV.get("WEBGL_VERSION")<1)throw new Error("WebGL is not supported on this device");s.ENV.get("IS_BROWSER")&&(this.canvas=document.createElement("canvas")),null==t?(this.gpgpu=new R.GPGPUContext(_.createWebGLContext(this.canvas)),this.gpgpuCreatedLocally=!0):this.gpgpuCreatedLocally=!1,this.NUM_BYTES_BEFORE_PAGING=window.screen.height*window.screen.width*window.devicePixelRatio*at,this.textureManager=new $.TextureManager(this.gpgpu)}return t.prototype.register=function(t,e,n){if(this.texData.has(t))throw new Error("Data buffer is already registered");this.texData.set(t,{shape:e,dtype:n,values:null,texture:null,texShape:null,usage:Q.TextureUsage.RENDER})},t.prototype.fromPixels=function(t,e){if(null==t)throw new Error("pixels passed to tf.fromPixels() can not be null");var n=[t.height,t.width],r=[t.height,t.width,e];if(!(t instanceof HTMLVideoElement||t instanceof HTMLImageElement||t instanceof HTMLCanvasElement||t instanceof ImageData))throw new Error("pixels passed to tf.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement or ImageData, but was "+t.constructor.name);if(t instanceof HTMLVideoElement){if(null==this.fromPixelsCanvas){if(!s.ENV.get("IS_BROWSER"))throw new Error("Can't read pixels from HTMLImageElement outside the browser.");if("complete"!==document.readyState)throw new Error("The DOM is not ready yet. Please call tf.fromPixels() once the DOM is ready. One way to do that is to add an event listener for `DOMContentLoaded` on the document object");this.fromPixelsCanvas=document.createElement("canvas")}this.fromPixelsCanvas.width=t.width,this.fromPixelsCanvas.height=t.height,this.fromPixelsCanvas.getContext("2d").drawImage(t,0,0,t.width,t.height),t=this.fromPixelsCanvas}var i=d.Tensor.make(n,{},"int32");this.texData.get(i.dataId).usage=Q.TextureUsage.PIXELS,this.gpgpu.uploadPixelDataToTexture(this.getTexture(i.dataId),t);var a=new O.FromPixelsProgram(r),o=this.compileAndRun(a,[i]);return i.dispose(),o},t.prototype.write=function(t,e){if(null==e)throw new Error("MathBackendWebGL.write(): values can not be null");this.throwIfNoData(t);var n=this.texData.get(t),r=n.texture,i=n.texShape,a=n.usage;null!=r&&(this.releaseTexture(t,r,i,a),n.texture=null,n.texShape=null),n.usage=Q.TextureUsage.UPLOAD,n.values=e,this.delayedStorage||this.uploadToGPU(t)},t.prototype.readSync=function(t){this.throwIfNoData(t);var e=this.texData.get(t),n=e.shape,r=e.texture,i=e.values,a=e.texShape,o=e.dtype;if(null!=i)return this.cacheOnCPU(t),i;var l,u=null!=this.activeTimers;u&&(l=performance.now());var c;if(s.ENV.get("WEBGL_DOWNLOAD_FLOAT_ENABLED"))c=this.gpgpu.downloadFloat32MatrixFromOutputTexture(r,a[0],a[1]);else{var h=d.Tensor.make(n,{});this.texData.get(h.dataId).usage=Q.TextureUsage.DOWNLOAD;var g=d.Tensor.make(n,{dataId:t},o),p=new k.EncodeFloatProgram(n),f=!1;this.compileAndRun(p,[g],h,null,f);var A=this.texData.get(h.dataId);c=this.gpgpu.downloadByteEncodedFloatMatrixFromOutputTexture(A.texture,A.texShape[0],A.texShape[1]),g.dispose(),h.dispose()}return u&&(this.downloadWaitMs+=performance.now()-l),this.cacheOnCPU(t,c),e.values},t.prototype.read=function(t){return a(this,void 0,void 0,function(){var e,n,r,i,a,l,u,c;return o(this,function(o){switch(o.label){case 0:return this.pendingRead.has(t)?(e=this.pendingRead.get(t),[2,new Promise(function(t){return e.push(t)})]):(this.throwIfNoData(t),n=this.texData.get(t),r=n.texture,i=n.values,a=n.texShape,null!=i?(this.cacheOnCPU(t),[2,i]):s.ENV.get("WEBGL_GET_BUFFER_SUB_DATA_ASYNC_EXTENSION_ENABLED")?[4,this.gpgpu.downloadMatrixFromTextureAsync(r,a[0],a[1])]:[3,2]);case 1:return l=o.sent(),this.cacheOnCPU(t,l),[2,n.values];case 2:return 0===s.ENV.get("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")?[2,this.readSync(t)]:(this.pendingRead.set(t,[]),[4,this.gpgpu.runQuery(function(){})]);case 3:return o.sent(),u=this.pendingRead.get(t),this.pendingRead.delete(t),c=this.readSync(t),u.forEach(function(t){return t(c)}),this.pendingDisposal.has(t)&&(this.pendingDisposal.delete(t),this.disposeData(t)),[2,c]}})})},t.prototype.time=function(t){return a(this,void 0,void 0,function(){var e,n,r,i,a,s;return o(this,function(o){switch(o.label){case 0:return e=this.activeTimers,n=[],r=!1,null==this.programTimersStack?(this.programTimersStack=n,r=!0):this.activeTimers.push(n),this.activeTimers=n,t(),i=f.flatten(this.activeTimers),this.activeTimers=e,r&&(this.programTimersStack=null),[4,Promise.all(i).then(function(t){var e=0;return t.forEach(function(t){return e+=t}),e})];case 1:return a=o.sent(),s={uploadWaitMs:this.uploadWaitMs,downloadWaitMs:this.downloadWaitMs,kernelMs:a,wallMs:null},this.uploadWaitMs=0,this.downloadWaitMs=0,[2,s]}})})},t.prototype.memory=function(){return{unreliable:!1,numBytesInGPU:this.numBytesInGPU}},t.prototype.startTimer=function(){return s.ENV.get("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?this.gpgpu.beginQuery():{startMs:performance.now(),endMs:null}},t.prototype.endTimer=function(t){return s.ENV.get("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(this.gpgpu.endQuery(),t):(t.endMs=performance.now(),t)},t.prototype.getQueryTime=function(t){return a(this,void 0,void 0,function(){var e;return o(this,function(n){return s.ENV.get("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?[2,this.gpgpu.pollQueryTime(t)]:(e=t,[2,e.endMs-e.startMs])})})},t.prototype.disposeData=function(t){if(!this.pendingDisposal.has(t)){if(this.pendingRead.has(t))return void this.pendingDisposal.add(t);if(this.texData.has(t)){var e=this.texData.get(t),n=e.texture,r=e.texShape,i=e.usage;null!=n&&this.releaseTexture(t,n,r,i),this.texData.delete(t)}}},t.prototype.getTexture=function(t){return this.uploadToGPU(t),this.texData.get(t).texture},t.prototype.getGPGPUContext=function(){return this.gpgpu},t.prototype.getCanvas=function(){return this.canvas},t.prototype.slice=function(t,e,n){var r=new K.SliceProgram(n),i=r.getCustomSetupFunc(e);return this.compileAndRun(r,[t],null,i)},t.prototype.stridedSlice=function(t,e,n,r,i,a){var o=g.getStridedSlicedInfo(t.shape,e,n,r,i,a),s=o[0],l=o[1];if(l.some(function(t){return 0===t}))return u.tensor([],l);var c=new J.StridedSliceProgram(s,r,l);return this.compileAndRun(c,[t])},t.prototype.reverse=function(t,e){var n=new X.ReverseProgram(t.shape,e);return this.compileAndRun(n,[t])},t.prototype.concat=function(t,e){var n=new x.ConcatProgram(t.shape,e.shape);return this.compileAndRun(n,[t,e])},t.prototype.neg=function(t){var e=new rt.UnaryOpProgram(t.shape,nt.NEG);return this.compileAndRun(e,[t])},t.prototype.matMul=function(t,e,n,r){var i=new F.MatMulProgram(t.shape,e.shape,n,r);return this.compileAndRun(i,[t,e])},t.prototype.multiply=function(t,e){var n=new y.BinaryOpProgram(v.MUL,t.shape,e.shape),r=this.makeOutputArray(n.outputShape,p.upcastType(t.dtype,e.dtype));return this.compileAndRun(n,[t,e],r)},t.prototype.batchNormalization=function(t,e,n,r,i,a){var o=[t,e,n],s=null;null!=a&&(s=a.shape,o.push(a));var l=null;null!=i&&(l=i.shape,o.push(i));var u=new m.BatchNormProgram(t.shape,e.shape,n.shape,s,l,r);return this.compileAndRun(u,o)},t.prototype.localResponseNormalization4D=function(t,e,n,r,i){var a=new L.LRNProgram(t.shape,e,n,r,i);return this.compileAndRun(a,[t])},t.prototype.tile=function(t,e){var n=new tt.TileProgram(t.shape,e);return this.compileAndRun(n,[t])},t.prototype.pad=function(t,e,n){var r=new j.PadProgram(t.shape,e,n);return this.compileAndRun(r,[t])},t.prototype.transpose=function(t,e){var n=new et.TransposeProgram(t.shape,e);return this.compileAndRun(n,[t])},t.prototype.gather=function(t,e,n){var r=new M.GatherProgram(t.shape,e.size,n);return this.compileAndRun(r,[t,e])},t.prototype.reduce=function(t,e,n){var r=t.shape[0],i=t.shape[1],a=c.computeOptimalWindowSize(i),o={windowSize:a,inSize:i,batchSize:r},s=new G.ReduceProgram(o,e),l=s.outputShape,u=l[0],h=l[1],g=this.makeOutputArray([u,h],n);return this.compileAndRun(s,[t],g),1===g.shape[1]?g:this.reduce(g,e,n)},t.prototype.argReduce=function(t,e,n){void 0===n&&(n=null);var r=t.shape[0],i=t.shape[1];null!=n&&(r=n.shape[0],i=n.shape[1]);var a=c.computeOptimalWindowSize(i),o={windowSize:a,inSize:i,batchSize:r},s=new C.ArgMinMaxProgram(o,e,null==n),l=s.outputShape,u=l[0],h=l[1],g=this.makeOutputArray([u,h],"int32"),d=[t];return null!=n&&d.push(n),this.compileAndRun(s,d,g),1===g.shape[1]?g:this.argReduce(t,e,g)},t.prototype.sum=function(t,e){l.assertAxesAreInnerMostDims("sum",e,t.rank);var n=l.computeOutAndReduceShapes(t.shape,e),r=n[0],i=n[1],a=f.sizeFromShape(i),o=t.as2D(-1,a),s=p.sumOutType(t.dtype);return this.reduce(o,"sum",s).reshape(r)},t.prototype.unsortedSegmentSum=function(t,e,n){var r=0,i=l.getAxesPermutation([r],t.rank),a=t;null!=i&&(a=t.transpose(i),r=l.getInnerMostAxes(1,t.rank)[0]);var o=h.computeOutShape(a.shape,r,n),s=f.sizeFromShape([a.shape[r]]),u=a.as2D(-1,s),c=p.sumOutType(t.dtype),g=this.segOpCompute(u,"unsortedSegmentSum",e,c,n).reshape(o);return null!=i&&(g=g.transpose(l.getUndoAxesPermutation(i))),g},t.prototype.segOpCompute=function(t,e,n,r,i){var a=t.shape[0],o=t.shape[1],s=h.segOpComputeOptimalWindowSize(o,i),l={windowSize:s,inSize:o,batchSize:a,numSegments:i},c=new q.SegmentOpProgram(l,e),g=c.outputShape,d=g[0],p=g[1],f=this.makeOutputArray([d,p],r);return this.compileAndRun(c,[t,n],f),f.shape[1]===i?f:(n=u.range(0,i).tile([o/s]),this.segOpCompute(f,e,n,r,i))},t.prototype.argMin=function(t,e){var n=[e];l.assertAxesAreInnerMostDims("argMin",n,t.rank);var r=l.computeOutAndReduceShapes(t.shape,n),i=r[0],a=r[1],o=f.sizeFromShape(a),s=t.as2D(-1,o);return this.argReduce(s,"min").reshape(i)},t.prototype.argMax=function(t,e){var n=[e];l.assertAxesAreInnerMostDims("argMax",n,t.rank);var r=l.computeOutAndReduceShapes(t.shape,n),i=r[0],a=r[1],o=f.sizeFromShape(a),s=t.as2D(-1,o);return this.argReduce(s,"max").reshape(i)},t.prototype.cumsum=function(t,e,n,r){if(e!==t.rank-1)throw new Error("WebGL cumsum shader expects an inner-most axis="+(t.rank-1)+" but got axis="+e);var i=new E.CumSumProgram(t.shape,n,r);return this.compileAndRun(i,[t])},t.prototype.equal=function(t,e){var n=new y.BinaryOpProgram(v.EQUAL,t.shape,e.shape),r=this.makeOutputArray(n.outputShape,"bool");return this.compileAndRun(n,[t,e],r)},t.prototype.notEqual=function(t,e){var n=new y.BinaryOpProgram(v.NOT_EQUAL,t.shape,e.shape),r=this.makeOutputArray(n.outputShape,"bool");return this.compileAndRun(n,[t,e],r)},t.prototype.less=function(t,e){var n=new y.BinaryOpProgram(v.LESS,t.shape,e.shape),r=this.makeOutputArray(n.outputShape,"bool");return this.compileAndRun(n,[t,e],r)},t.prototype.lessEqual=function(t,e){var n=new y.BinaryOpProgram(v.LESS_EQUAL,t.shape,e.shape),r=this.makeOutputArray(n.outputShape,"bool");return this.compileAndRun(n,[t,e],r)},t.prototype.greater=function(t,e){var n=new y.BinaryOpProgram(v.GREATER,t.shape,e.shape),r=this.makeOutputArray(n.outputShape,"bool");return this.compileAndRun(n,[t,e],r)},t.prototype.greaterEqual=function(t,e){var n=new y.BinaryOpProgram(v.GREATER_EQUAL,t.shape,e.shape),r=this.makeOutputArray(n.outputShape,"bool");return this.compileAndRun(n,[t,e],r)},t.prototype.logicalNot=function(t){var e=new rt.UnaryOpProgram(t.shape,nt.LOGICAL_NOT);return this.compileAndRun(e,[t])},t.prototype.logicalAnd=function(t,e){var n=new y.BinaryOpProgram(v.LOGICAL_AND,t.shape,e.shape),r=this.makeOutputArray(n.outputShape,"bool");return this.compileAndRun(n,[t,e],r)},t.prototype.logicalOr=function(t,e){var n=new y.BinaryOpProgram(v.LOGICAL_OR,t.shape,e.shape),r=this.makeOutputArray(n.outputShape,"bool");return this.compileAndRun(n,[t,e],r)},t.prototype.where=function(t,e,n,r){var i=new P.WhereProgram(t.rank,e.shape,e.rank),a=this.makeOutputArray(i.outputShape,r);return this.compileAndRun(i,[t,e,n],a)},t.prototype.topKValues=function(t,e){throw new Error("topKValues GPU not yet implemented!")},t.prototype.topKIndices=function(t,e){throw new Error("topKIndices GPU not yet implemented!")},t.prototype.min=function(t,e){l.assertAxesAreInnerMostDims("min",e,t.rank);var n=l.computeOutAndReduceShapes(t.shape,e),r=n[0],i=n[1],a=f.sizeFromShape(i),o=t.as2D(-1,a);return this.reduce(o,"min",o.dtype).reshape(r)},t.prototype.minimum=function(t,e){var n=new y.BinaryOpProgram(v.MIN,t.shape,e.shape);return this.compileAndRun(n,[t,e])},t.prototype.mod=function(t,e){var n=new y.BinaryOpProgram(v.MOD,t.shape,e.shape),r=n.getCustomSetupFunc();return this.compileAndRun(n,[t,e],null,r)},t.prototype.max=function(t,e){l.assertAxesAreInnerMostDims("max",e,t.rank);var n=l.computeOutAndReduceShapes(t.shape,e),r=n[0],i=n[1],a=f.sizeFromShape(i),o=t.as2D(-1,a);return this.reduce(o,"max",o.dtype).reshape(r)},t.prototype.maximum=function(t,e){var n=new y.BinaryOpProgram(v.MAX,t.shape,e.shape);return this.compileAndRun(n,[t,e])},t.prototype.all=function(t,e){l.assertAxesAreInnerMostDims("all",e,t.rank);var n=l.computeOutAndReduceShapes(t.shape,e),r=n[0],i=n[1],a=f.sizeFromShape(i),o=t.as2D(-1,a);return this.reduce(o,"all",o.dtype).reshape(r)},t.prototype.any=function(t,e){l.assertAxesAreInnerMostDims("any",e,t.rank);var n=l.computeOutAndReduceShapes(t.shape,e),r=n[0],i=n[1],a=f.sizeFromShape(i),o=t.as2D(-1,a);return this.reduce(o,"any",o.dtype).reshape(r)},t.prototype.squaredDifference=function(t,e){var n=new y.BinaryOpProgram(v.SQUARED_DIFFERENCE,t.shape,e.shape);return this.compileAndRun(n,[t,e])},t.prototype.realDivide=function(t,e){var n=v.DIV,r="float32",i=new y.BinaryOpProgram(n,t.shape,e.shape),a=this.makeOutputArray(i.outputShape,r);return this.compileAndRun(i,[t,e],a)},t.prototype.floorDiv=function(t,e){var n=v.INT_DIV,r="int32",i=new y.BinaryOpProgram(n,t.shape,e.shape),a=this.makeOutputArray(i.outputShape,r);return this.compileAndRun(i,[t,e],a)},t.prototype.add=function(t,e){var n=new y.BinaryOpProgram(v.ADD,t.shape,e.shape),r=this.makeOutputArray(n.outputShape,p.upcastType(t.dtype,e.dtype));return this.compileAndRun(n,[t,e],r)},t.prototype.subtract=function(t,e){var n=new y.BinaryOpProgram(v.SUB,t.shape,e.shape),r=this.makeOutputArray(n.outputShape,p.upcastType(t.dtype,e.dtype));return this.compileAndRun(n,[t,e],r)},t.prototype.pow=function(t,e){var n=new y.BinaryOpProgram(v.POW,t.shape,e.shape),r=n.getCustomSetupFunc(),i=this.makeOutputArray(n.outputShape,p.upcastType(t.dtype,e.dtype));return this.compileAndRun(n,[t,e],i,r)},t.prototype.ceil=function(t){var e=new rt.UnaryOpProgram(t.shape,nt.CEIL);return this.compileAndRun(e,[t])},t.prototype.floor=function(t){var e=new rt.UnaryOpProgram(t.shape,nt.FLOOR);return this.compileAndRun(e,[t])},t.prototype.sign=function(t){var e=new rt.UnaryOpProgram(t.shape,nt.SIGN);return this.compileAndRun(e,[t])},t.prototype.round=function(t){var e=new rt.UnaryOpProgram(t.shape,nt.ROUND);return this.compileAndRun(e,[t])},t.prototype.exp=function(t){var e=new rt.UnaryOpProgram(t.shape,nt.EXP);return this.compileAndRun(e,[t])},t.prototype.expm1=function(t){var e=new rt.UnaryOpProgram(t.shape,nt.EXPM1);return this.compileAndRun(e,[t])},t.prototype.log=function(t){var e=new rt.UnaryOpProgram(t.shape,nt.LOG),n=e.getCustomSetupFunc();return this.compileAndRun(e,[t],null,n)},t.prototype.log1p=function(t){var e=new rt.UnaryOpProgram(t.shape,nt.LOG1P);return this.compileAndRun(e,[t])},t.prototype.sqrt=function(t){var e=new rt.UnaryOpProgram(t.shape,nt.SQRT);return this.compileAndRun(e,[t])},t.prototype.rsqrt=function(t){var e=new rt.UnaryOpProgram(t.shape,nt.RSQRT);return this.compileAndRun(e,[t])},t.prototype.square=function(t){var e=new rt.UnaryOpProgram(t.shape,nt.SQUARE);return this.compileAndRun(e,[t])},t.prototype.reciprocal=function(t){var e=new rt.UnaryOpProgram(t.shape,nt.RECIPROCAL);return this.compileAndRun(e,[t])},t.prototype.relu=function(t){var e=new rt.UnaryOpProgram(t.shape,nt.RELU);return this.compileAndRun(e,[t])},t.prototype.elu=function(t){var e=new rt.UnaryOpProgram(t.shape,nt.ELU);return this.compileAndRun(e,[t])},t.prototype.eluDer=function(t,e){var n=new y.BinaryOpProgram(v.ELU_DER,t.shape,e.shape);return this.compileAndRun(n,[t,e])},t.prototype.selu=function(t){var e=new rt.UnaryOpProgram(t.shape,nt.SELU);return this.compileAndRun(e,[t])},t.prototype.int=function(t){var e=new rt.UnaryOpProgram(t.shape,nt.TO_INT),n=this.makeOutputArray(e.outputShape,"int32");return this.compileAndRun(e,[t],n)},t.prototype.clip=function(t,e,n){var r=new b.ClipProgram(t.shape,e,n);return this.compileAndRun(r,[t])},t.prototype.abs=function(t){var e=new rt.UnaryOpProgram(t.shape,nt.ABS);return this.compileAndRun(e,[t])},t.prototype.sigmoid=function(t){var e=new rt.UnaryOpProgram(t.shape,nt.SIGMOID);return this.compileAndRun(e,[t])},t.prototype.softplus=function(t){var e=new rt.UnaryOpProgram(t.shape,nt.SOFTPLUS);return this.compileAndRun(e,[t])},t.prototype.sin=function(t){var e=new rt.UnaryOpProgram(t.shape,nt.SIN);return this.compileAndRun(e,[t])},t.prototype.cos=function(t){var e=new rt.UnaryOpProgram(t.shape,nt.COS);return this.compileAndRun(e,[t])},t.prototype.tan=function(t){var e=new rt.UnaryOpProgram(t.shape,nt.TAN);return this.compileAndRun(e,[t])},t.prototype.asin=function(t){var e=new rt.UnaryOpProgram(t.shape,nt.ASIN);return this.compileAndRun(e,[t])},t.prototype.acos=function(t){var e=new rt.UnaryOpProgram(t.shape,nt.ACOS);return this.compileAndRun(e,[t])},t.prototype.atan=function(t){var e=new rt.UnaryOpProgram(t.shape,nt.ATAN);return this.compileAndRun(e,[t])},t.prototype.atan2=function(t,e){var n=new y.BinaryOpProgram(v.ATAN2,t.shape,e.shape);return this.compileAndRun(n,[t,e])},t.prototype.sinh=function(t){var e=new rt.UnaryOpProgram(t.shape,nt.SINH);return this.compileAndRun(e,[t])},t.prototype.cosh=function(t){var e=new rt.UnaryOpProgram(t.shape,nt.COSH);return this.compileAndRun(e,[t])},t.prototype.tanh=function(t){var e=new rt.UnaryOpProgram(t.shape,nt.TANH);return this.compileAndRun(e,[t])},t.prototype.asinh=function(t){var e=new rt.UnaryOpProgram(t.shape,nt.ASINH);return this.compileAndRun(e,[t])},t.prototype.acosh=function(t){var e=new rt.UnaryOpProgram(t.shape,nt.ACOSH),n=e.getCustomSetupFunc();return this.compileAndRun(e,[t],null,n)},t.prototype.atanh=function(t){var e=new rt.UnaryOpProgram(t.shape,nt.ATANH),n=e.getCustomSetupFunc();return this.compileAndRun(e,[t],null,n)},t.prototype.erf=function(t){var e=new rt.UnaryOpProgram(t.shape,nt.ERF);return this.compileAndRun(e,[t])},t.prototype.step=function(t,e){var n=new rt.UnaryOpProgram(t.shape,nt.STEP(e));return this.compileAndRun(n,[t])},t.prototype.conv2d=function(t,e,n){var r=new T.Conv2DProgram(n);return this.compileAndRun(r,[t,e])},t.prototype.conv2dDerInput=function(t,e,n){var r=new w.Conv2DDerInputProgram(n);return this.compileAndRun(r,[t,e])},t.prototype.conv2dDerFilter=function(t,e,n){var r=new w.Conv2DDerFilterProgram(n);return this.compileAndRun(r,[t,e])},t.prototype.depthwiseConv2D=function(t,e,n){var r=new N.DepthwiseConv2DProgram(n);return this.compileAndRun(r,[t,e])},t.prototype.depthwiseConv2DDerInput=function(t,e,n){var r=new S.DepthwiseConv2DDerInputProgram(n);return this.compileAndRun(r,[t,e])},t.prototype.depthwiseConv2DDerFilter=function(t,e,n){var r=new S.DepthwiseConv2DDerFilterProgram(n);return this.compileAndRun(r,[t,e])},t.prototype.maxPool=function(t,e){var n=new W.Pool2DProgram(e,"max",!1),r=this.makeOutputArray(n.outputShape,t.dtype);return this.compileAndRun(n,[t],r)},t.prototype.avgPool=function(t,e){var n=new W.Pool2DProgram(e,"avg",!1),r=this.makeOutputArray(n.outputShape,"float32");return this.compileAndRun(n,[t],r)},t.prototype.maxPoolBackprop=function(t,e,n,r){var i=!0,a=new W.Pool2DProgram(r,"max",i),o=this.compileAndRun(a,[e]),s=new z.MaxPool2DBackpropProgram(r),l=this.makeOutputArray(s.outputShape,e.dtype),u=this.compileAndRun(s,[t,o],l);return o.dispose(),u},t.prototype.avgPoolBackprop=function(t,e,n){var r=new I.AvgPool2DBackpropProgram(n),i=this.makeOutputArray(r.outputShape,e.dtype);return this.compileAndRun(r,[t],i)},t.prototype.cast=function(t,e){return A.castTensor(t,e,this)},t.prototype.reshape=function(t,e){return A.reshapeTensor(t,e)},t.prototype.resizeBilinear=function(t,e,n,r){var i=new H.ResizeBilinearProgram(t.shape,e,n,r);return this.compileAndRun(i,[t])},t.prototype.resizeBilinearBackprop=function(t,e,n){var r=new U.ResizeBilinearBackpropProgram(t,e,n);return this.compileAndRun(r,[t])},t.prototype.resizeNearestNeighbor=function(t,e,n,r){var i=new Y.ResizeNearestNeighborProgram(t.shape,e,n,r);return this.compileAndRun(i,[t])},t.prototype.resizeNearestNeighborBackprop=function(t,e,n){var r=new Z.ResizeNearestNeigborBackpropProgram(t,e,n);return this.compileAndRun(r,[t])},t.prototype.multinomial=function(t,e,n,r){var i=e?t:u.softmax(t),a=i.shape[0],o=i.shape[1],s=new B.MultinomialProgram(a,o,n),l=this.makeOutputArray(s.outputShape,"int32"),c=s.getCustomSetupFunc(r);return this.compileAndRun(s,[i],l,c)},t.prototype.oneHot=function(t,e,n,r){var i=new V.OneHotProgram(t.size,e,n,r);return this.compileAndRun(i,[t])},t.prototype.makeOutputArray=function(t,e){return d.Tensor.make(t,{},e)},t.prototype.compileAndRun=function(t,n,r,i,a){var o=this;void 0===a&&(a=!0),null==r&&(r=this.makeOutputArray(t.outputShape,n[0].dtype));var s=n.map(function(t){var n=o.texData.get(t.dataId);return null==n.texture&&t.size<=e.SIZE_UPLOAD_UNIFORM?{tensor:t,texData:null,isUniform:!0}:(o.uploadToGPU(t.dataId),{tensor:t,texData:n,isUniform:!1})});this.uploadToGPU(r.dataId);var l,u={tensor:r,texData:this.texData.get(r.dataId),isUniform:!1},c=D.makeShaderKey(t,s,u),h=this.getAndSaveBinary(c,function(){return D.compileProgram(o.gpgpu,t,s,u)}),g=null!=this.activeTimers;if(g&&(l=this.startTimer()),D.runProgram(h,s,u,i),a&&this.numBytesInGPU>this.NUM_BYTES_BEFORE_PAGING)for(var d=this.numBytesInGPU-this.NUM_BYTES_BEFORE_PAGING;d>0&&this.lruDataGPU.length>0;){var p=this.lruDataGPU.shift(),f=this.texData.get(p),A=f.shape,C=f.dtype;d-=this.computeBytes(A,C),
this.read(p)}return g&&(l=this.endTimer(l),this.activeTimers.push(this.getQueryTime(l))),r},t.prototype.getAndSaveBinary=function(t,e){return t in this.binaryCache||(this.binaryCache[t]=e()),this.binaryCache[t]},t.prototype.getTextureManager=function(){return this.textureManager},t.prototype.dispose=function(){if(!this.disposed){for(var t in this.binaryCache)this.gpgpu.deleteProgram(this.binaryCache[t].webGLProgram);this.textureManager.dispose(),this.canvas.remove(),null!=this.fromPixelsCanvas&&this.fromPixelsCanvas.remove(),this.gpgpuCreatedLocally&&this.gpgpu.dispose(),this.disposed=!0}},t.prototype.throwIfNoData=function(t){if(!this.texData.has(t))throw new Error("WebGL backend: No data found for this tensor. Did you change your backend in the middle of the program? New backends can't use Tensors created with previous backends")},t.prototype.uploadToGPU=function(t){this.throwIfNoData(t);var e=this.texData.get(t),n=e.shape,r=e.values,a=e.texture,o=e.dtype,s=e.usage;if(null!=a){var l=this.lruDataGPU.indexOf(t);return void(l>=0&&(this.lruDataGPU.splice(this.lruDataGPU.indexOf(t),1),this.lruDataGPU.push(t)))}var u,c=null!=this.activeTimers;c&&(u=performance.now());var h=it.getTextureShapeFromLogicalShape(this.gpgpu.gl,n);e.texShape=h;var g=this.acquireTexture(t,h,s);e.texture=g,null!=r&&(this.gpgpu.uploadMatrixToTexture(g,h[0],h[1],i(r,o)),e.values=null,c&&(this.uploadWaitMs+=performance.now()-u))},t.prototype.cacheOnCPU=function(t,e){var n=this.delayedStorage,i=this.texData.get(t),a=i.texture,o=i.texShape,s=i.dtype,l=i.usage;n&&null!=a&&(this.releaseTexture(t,a,o,l),i.texture=null,i.texShape=null),null!=e&&(i.values=r(e,s))},t.prototype.releaseTexture=function(t,e,n,r){var i=this.texData.get(t),a=i.shape,o=i.dtype,s=this.lruDataGPU.indexOf(t);s>=0&&this.lruDataGPU.splice(s,1),this.numBytesInGPU-=this.computeBytes(a,o),this.textureManager.releaseTexture(e,n,r)},t.prototype.acquireTexture=function(t,e,n){var r=this.texData.get(t),i=r.shape,a=r.dtype;return this.lruDataGPU.push(t),this.numBytesInGPU+=this.computeBytes(i,a),this.textureManager.acquireTexture(e,n)},t.prototype.computeBytes=function(t,e){return f.sizeFromShape(t)*f.bytesPerElement(e)},t}();e.MathBackendWebGL=ot,s.ENV.get("IS_BROWSER")&&s.ENV.registerBackend("webgl",function(){return new ot},2,d.setTensorTracker)},function(t,e,n){(function(t){"use strict";function r(){var e;if("undefined"!=typeof window)e=window;else{if("undefined"==typeof t)throw new Error("Could not find a global object");e=t}return e}function i(){var t=r();return null==t.ENV&&(t.ENV=new p(u.getFeaturesFromURL()),c.setTensorTracker(function(){return t.ENV.engine})),t.ENV}var a=this&&this.__decorate||function(t,e,n,r){var i,a=arguments.length,o=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(o=(a<3?i(o):a>3?i(e,n,o):i(e,n))||o);return a>3&&o&&Object.defineProperty(e,n,o),o};Object.defineProperty(e,"__esModule",{value:!0});var o=n(508),s=n(509),l=n(510),u=n(517),c=n(514),h=n(516),g=.001,d=.1,p=function(){function n(t){this.features={},this.registry={},null!=t&&(this.features=t),this.get("DEBUG")&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")}return n.setBackend=function(t,n){if(void 0===n&&(n=!1),!(t in e.ENV.registry))throw new Error("Backend type '"+t+"' not found in registry");e.ENV.initBackend(t,n)},n.getBackend=function(){return e.ENV.initDefaultBackend(),e.ENV.currentBackend},n.disposeVariables=function(){e.ENV.engine.disposeVariables()},n.memory=function(){return e.ENV.engine.memory()},n.tidy=function(t,n,r){return void 0===r&&(r=!1),e.ENV.engine.tidy(t,n,r)},n.dispose=function(t){var e=h.getTensorsInContainer(t);e.forEach(function(t){return t.dispose()})},n.keep=function(t){return e.ENV.engine.keep(t)},n.time=function(t){return e.ENV.engine.time(t)},n.prototype.get=function(t){return t in this.features?this.features[t]:(this.features[t]=this.evaluateFeature(t),this.features[t])},n.prototype.getFeatures=function(){return this.features},n.prototype.set=function(t,e){this.features[t]=e},n.prototype.getBestBackendType=function(){var t=this;if(0===Object.keys(this.registry).length)throw new Error("No backend found in registry.");var e=Object.keys(this.registry).map(function(e){return{name:e,entry:t.registry[e]}}).sort(function(t,e){return e.entry.priority-t.entry.priority});return e[0].name},n.prototype.evaluateFeature=function(e){if("DEBUG"===e)return!1;if("IS_BROWSER"===e)return"undefined"!=typeof window;if("IS_NODE"===e)return"undefined"!=typeof t&&"undefined"!=typeof t.versions.node;if("IS_CHROME"===e)return u.isChrome();if("IS_TEST"===e)return!1;if("BACKEND"===e)return this.getBestBackendType();if("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"===e){var n=this.get("WEBGL_VERSION");return 0===n?0:u.getWebGLDisjointQueryTimerVersion(n,this.get("IS_BROWSER"))}if("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE"===e)return this.get("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0&&!o.isMobile();if("HAS_WEBGL"===e)return this.get("WEBGL_VERSION")>0;if("WEBGL_VERSION"===e)return u.isWebGLVersionEnabled(2,this.get("IS_BROWSER"))?2:u.isWebGLVersionEnabled(1,this.get("IS_BROWSER"))?1:0;if("WEBGL_RENDER_FLOAT32_ENABLED"===e)return u.isRenderToFloatTextureEnabled(this.get("WEBGL_VERSION"),this.get("IS_BROWSER"));if("WEBGL_DOWNLOAD_FLOAT_ENABLED"===e)return u.isDownloadFloatTextureEnabled(this.get("WEBGL_VERSION"),this.get("IS_BROWSER"));if("WEBGL_GET_BUFFER_SUB_DATA_ASYNC_EXTENSION_ENABLED"===e)return u.isWebGLGetBufferSubDataAsyncExtensionEnabled(this.get("WEBGL_VERSION"),this.get("IS_BROWSER"));if("TEST_EPSILON"===e)return this.get("WEBGL_RENDER_FLOAT32_ENABLED")?g:d;throw new Error("Unknown feature "+e+".")},n.prototype.setFeatures=function(t){this.features=Object.assign({},t)},n.prototype.reset=function(){this.features=u.getFeaturesFromURL(),null!=this.globalEngine&&(this.globalEngine=null)},n.prototype.initBackend=function(t,e){var n=this;void 0===e&&(e=!1),this.currentBackend=t;var r=this.findBackend(t);this.globalEngine=new l.Engine(r,e,function(){return n.get("DEBUG")})},n.prototype.findBackend=function(t){return t in this.registry?this.registry[t].backend:null},n.prototype.registerBackend=function(t,e,n,r){var i=this;if(void 0===n&&(n=1),t in this.registry)return console.warn(t+" backend was already registered. Reusing existing backend"),null!=r&&r(function(){return i.engine}),!1;try{var a=e();return this.registry[t]={backend:a,priority:n},!0}catch(e){return console.warn("Registration of backend "+t+" failed"),console.warn(e.stack||e.message),!1}},n.prototype.removeBackend=function(t){if(!(t in this.registry))throw new Error(t+" backend not found in registry");this.registry[t].backend.dispose(),delete this.registry[t]},Object.defineProperty(n.prototype,"engine",{get:function(){return this.initDefaultBackend(),this.globalEngine},enumerable:!0,configurable:!0}),n.prototype.initDefaultBackend=function(){null==this.globalEngine&&this.initBackend(this.get("BACKEND"),!1)},a([s.doc({heading:"Environment"})],n,"setBackend",null),a([s.doc({heading:"Environment"})],n,"getBackend",null),a([s.doc({heading:"Environment"})],n,"disposeVariables",null),a([s.doc({heading:"Performance",subheading:"Memory"})],n,"memory",null),a([s.doc({heading:"Performance",subheading:"Memory"})],n,"tidy",null),a([s.doc({heading:"Performance",subheading:"Memory"})],n,"dispose",null),a([s.doc({heading:"Performance",subheading:"Memory"})],n,"keep",null),a([s.doc({heading:"Performance",subheading:"Timing"})],n,"time",null),n}();e.Environment=p,e.ENV=i()}).call(e,n(114))},function(t,e){"use strict";function n(){var t=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4))}Object.defineProperty(e,"__esModule",{value:!0}),e.isMobile=n},function(t,e){"use strict";function n(t){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]}}Object.defineProperty(e,"__esModule",{value:!0}),e.doc=n},function(t,e,n){"use strict";function r(t){var e=h.makeOnesTypedArray(h.sizeFromShape(t),"float32");return l.Tensor.make(t,{values:e})}var i=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,a){function o(t){try{l(r.next(t))}catch(t){a(t)}}function s(t){try{l(r.throw(t))}catch(t){a(t)}}function l(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(o,s)}l((r=r.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;l;)try{if(i=1,a&&(o=2&n[0]?a.return:n[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,n[1])).done)return o;switch(a=0,o&&(n=[2&n[0],o.value]),n[0]){case 0:case 1:o=n;break;case 4:return l.label++,{value:n[1],done:!1};case 5:l.label++,a=n[1],n=[0];continue;case 7:n=l.ops.pop(),l.trys.pop();continue;default:if(o=l.trys,!(o=o.length>0&&o[o.length-1])&&(6===n[0]||2===n[0])){l=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3])){l.label=n[1];break}if(6===n[0]&&l.label<o[1]){l.label=o[1],o=n;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(n);break}o[2]&&l.ops.pop(),l.trys.pop();continue}n=e.call(t,l)}catch(t){n=[6,t],a=0}finally{i=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,a,o,s,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(e,"__esModule",{value:!0});var o=n(511),s=n(513),l=n(514),u=n(516),c=n(512),h=n(512),g=function(){function t(t,e,n){this.backend=t,this.safeMode=e,this.debugMode=n,this.registeredVariables={},this.refCounter=new WeakMap,this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numDataBuffers=0,this.gradientScopeCount=0,this.customGradientDepth=0,this.keepTensors=new Set,this.activeScope={track:[],name:"default scope"},this.scopeStack=[this.activeScope],this.profiler=new o.Profiler(t)}return t.prototype.tidy=function(t,e,n){var r=this;void 0===n&&(n=!1);var i=null;if(null==e){if("function"!=typeof t)throw new Error("Please provide a function to tidy()");e=t}else{if("string"!=typeof t&&!(t instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if("function"!=typeof e)throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");i=t}var a;return this.scopedRun(function(){return r.startScope(i,n)},function(){return r.endScope(a,n)},function(){return a=e(),a instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),a})},t.prototype.scopedRun=function(t,e,n){t();try{var r=n();return e(),r}catch(t){throw e(),t}},t.prototype.runKernel=function(t,e,n){var r,i=this,a=[],o=function(t){return a.push(t),t},s=this.activeScope.name;if(this.scopedRun(function(){return i.customGradientDepth++},function(){return i.customGradientDepth--},function(){r=i.debugMode()?i.profiler.profileKernel(s,function(){return t(i.backend,o)}):t(i.backend,o)}),this.shouldRecord()){var l={id:this.nextTapeNodeId++,name:s,inputs:e,output:r};null!=n&&(l.gradient=function(t){return n(t,a)}),this.activeTape.push(l)}return r},t.prototype.registerTensor=function(t){var e=this.refCounter.has(t.dataId)?this.refCounter.get(t.dataId):0;this.numTensors++,0===e&&(this.numDataBuffers++,this.numBytes+=c.sizeFromShape(t.shape)*c.bytesPerElement(t.dtype),this.backend.register(t.dataId,t.shape,t.dtype)),this.refCounter.set(t.dataId,e+1),t instanceof l.Variable||this.track(t)},t.prototype.registerVariable=function(t){if(null!=this.registeredVariables[t.name])throw new Error("Variable with name "+t.name+" was already registered");this.registeredVariables[t.name]=t},t.prototype.disposeTensor=function(t){if(this.refCounter.has(t.dataId)){this.keepTensors.has(t.id)&&this.keepTensors.delete(t.id),this.numTensors--;var e=this.refCounter.get(t.dataId);e<=1?(this.refCounter.delete(t.dataId),this.backend.disposeData(t.dataId),this.numDataBuffers--,this.numBytes-=c.sizeFromShape(t.shape)*c.bytesPerElement(t.dtype)):this.refCounter.set(t.dataId,e-1)}},t.prototype.disposeVariables=function(){for(var t in this.registeredVariables){var e=this.registeredVariables[t];this.disposeTensor(e),delete this.registeredVariables[t]}},t.prototype.memory=function(){var t=this.backend.memory();return t.numTensors=this.numTensors,t.numDataBuffers=this.numDataBuffers,t.numBytes=this.numBytes,t},t.prototype.shouldRecord=function(){return null!=this.activeTape&&0===this.customGradientDepth},t.prototype.addTapeNode=function(t,e,n){var r={};t.forEach(function(t,e){r[e]=t});var i=function(t){var e=n(t),r={};return e.forEach(function(t,e){r[e]=function(){return t}}),r},a={id:this.nextTapeNodeId++,name:this.activeScope.name,inputs:r,output:e,gradient:i};this.activeTape.push(a)},t.prototype.keep=function(t){if(1===this.scopeStack.length&&this.safeMode)throw new Error("Safe mode is ON. Enclose all tensor operations inside tf.tidy(): tf.tidy(() => {...}) to avoid memory leaks.");return this.keepTensors.add(t.id),t},t.prototype.startScope=function(t,e){void 0===e&&(e=!1),e&&0===this.gradientScopeCount&&(this.activeTape=[]),e&&this.gradientScopeCount++;var n={track:[],name:"unnamed scope"};t&&(n.name=t),this.scopeStack.push(n),this.activeScope=n},t.prototype.endScope=function(t,e){var n=this;void 0===e&&(e=!1),e&&(this.gradientScopeCount--,0===this.gradientScopeCount&&(this.activeTape=null));var r=new Set(this.keepTensors),i=u.getTensorsInContainer(t);i.forEach(function(t){return r.add(t.id)});for(var a=0;a<this.activeScope.track.length;a++){var o=this.activeScope.track[a];r.has(o.id)||(null!=this.activeTape?i.push(o):o.dispose())}var s=this.scopeStack.pop();this.activeScope=0===this.scopeStack.length?{track:[],name:"default scope"}:this.scopeStack[this.scopeStack.length-1],i.forEach(function(t){!n.keepTensors.has(t.id)&&u.isTensorInList(t,s.track)&&n.track(t)})},t.prototype.gradients=function(t,e,n,i){var a=this;return void 0===i&&(i=!1),c.assert(e.length>0,"gradients() received an empty list of xs."),this.tidy("gradients",function(){var o=t();c.assert(o instanceof l.Tensor,"The result y returned by f() must be a tensor.");var u=s.getFilteredNodesXToY(a.activeTape,e,o);if(!i&&0===u.length&&e.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");var h={};h[o.id]=null==n?r(o.shape):n,s.backpropagateGradients(h,u);var g=e.map(function(t){return h[t.id]});return{value:o,grads:g}},!0)},t.prototype.customGrad=function(t){var e=this;return c.assert(c.isFunction(t),"The f passed in customGrad(f) must be a function."),function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];c.assert(n.every(function(t){return t instanceof l.Tensor}),"The args passed in customGrad(f)(x1, x2,...) must all be tensors");var i,a;if(e.scopedRun(function(){return e.customGradientDepth++},function(){return e.customGradientDepth--},function(){var r=!0;a=e.tidy(t.name,function(){var e=t.apply(void 0,n),r=e.value,a=e.gradFunc;return c.assert(r instanceof l.Tensor,"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"),c.assert(c.isFunction(a),"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."),i=a,r},r)}),e.shouldRecord()){var o=function(t){var e=i(t),r=Array.isArray(e)?e:[e];return c.assert(r.length===n.length,"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."),c.assert(r.every(function(t){return t instanceof l.Tensor}),"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors."),r};e.addTapeNode(n,a,o)}return a}},t.prototype.write=function(t,e){this.backend.write(t,e)},t.prototype.readSync=function(t){return this.backend.readSync(t)},t.prototype.read=function(t){return this.backend.read(t)},t.prototype.fromPixels=function(t,e){return this.backend.fromPixels(t,e)},t.prototype.time=function(t){return i(this,void 0,void 0,function(){var e,n;return a(this,function(r){switch(r.label){case 0:return e=h.now(),[4,this.backend.time(t)];case 1:return n=r.sent(),n.wallMs=h.now()-e,[2,n]}})})},t.prototype.track=function(t){if(1===this.scopeStack.length&&this.safeMode)throw new Error("Safe mode is ON. Enclose all tensor operations inside tf.tidy(): tf.tidy(() => {op();...}); to avoid memory leaks.");return this.activeScope.track.push(t),t},t}();e.Engine=g},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(512),i=function(){function t(t,e){this.backendTimer=t,this.logger=e,null==e&&(this.logger=new a)}return t.prototype.profileKernel=function(t,e){var n,i=this,a=function(){n=e()},o=this.backendTimer.time(a),s=n.dataSync();return r.checkForNaN(s,n.dtype,t),o.then(function(e){i.logger.logKernelProfile(t,n,s,e.kernelMs)}),n},t}();e.Profiler=i;var a=function(){function t(){}return t.prototype.logKernelProfile=function(t,e,n,i){var a=r.rightPad(i+"ms",9),o=r.rightPad(t,25),s=e.rank,l=e.size,u=r.rightPad(e.shape.toString(),14);console.log("%c"+o+"\t%c"+a+"\t%c"+s+"D "+u+"\t%c"+l,"font-weight:bold","color:red","color:blue","color: orange")},t}();e.Logger=a},function(t,e,n){(function(t){"use strict";function n(t){for(var e=t.length,n=0,r=0;e>0;)r=Math.random()*e|0,e--,n=t[e],t[e]=t[r],t[r]=n}function r(t,e,n){return Math.max(t,Math.min(e,n))}function i(t,e){return Math.random()*(e-t)+t}function a(t,e){for(var n=0,r=0;r<t.length;r++){var i=Number(t[r])-Number(e[r]);n+=i*i}return n}function o(t,e){if(!t)throw new Error("string"==typeof e?e:e())}function s(t,e,n){void 0===n&&(n=""),o(p(t,e),n+(" Shapes "+t+" and "+e+" must match"))}function l(t){o(null!=t,"The input to the tensor constructor must be a non-null value.")}function u(t,e){if(void 0===e&&(e=[]),Array.isArray(t))for(var n=0;n<t.length;++n)u(t[n],e);else e.push(t);return e}function c(t){var e=t;if(k(t))return[t.length];if(!Array.isArray(t))return[];for(var n=[];e instanceof Array;)n.push(e.length),e=e[0];return t instanceof Array&&h(t,n,[]),n}function h(t,e,n){if(n=n||[],!(t instanceof Array))return void o(0===e.length,function(){return"Element arr["+n.join("][")+"] is a primitive, "+("but should be an array of "+e[0]+" elements")});o(e.length>0,function(){return"Element arr["+n.join("][")+"] should be a primitive, "+("but is an array of "+t.length+" elements")}),o(t.length===e[0],function(){return"Element arr["+n.join("][")+"] should have "+e[0]+" "+("elements, but has "+t.length+" elements")});for(var r=e.slice(1),i=0;i<t.length;++i)h(t[i],r,n.concat(i))}function g(t){if(0===t.length)return 1;for(var e=t[0],n=1;n<t.length;n++)e*=t[n];return e}function d(t){return 0===t.length}function p(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function f(t){return t%1===0}function A(t){if(null!=Math.tanh)return Math.tanh(t);if(t===1/0)return 1;if(t===-(1/0))return-1;var e=Math.exp(2*t);return(e-1)/(e+1)}function C(t){for(var e=Math.floor(Math.sqrt(t));e>1;--e)if(t%e===0)return[e,t/e];return[1,t]}function I(t){for(var e=new Uint32Array(t),r=0;r<t;++r)e[r]=r;return n(e),e}function m(t,e){return e<=t.length?t:t+" ".repeat(e-t.length)}function v(t,e,n){return void 0===e&&(e=function(t){return 0}),new Promise(function(r,i){var a=0,o=function(){if(t())return void r();a++;var s=e(a);return null!=n&&a>=n?void i():void setTimeout(o,s)};o()})}function y(t){var e={};return t.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return b(e,n[0],n[1]),n.join("=")}),e}function b(t,e,n){t[decodeURIComponent(e)]=decodeURIComponent(n||"")}function x(t,e){for(var n=1,r=-1,i=0;i<t.length;++i)if(t[i]>0)n*=t[i];else if(t[i]===-1){if(r!==-1)throw Error("Shapes can only have 1 implicit size. "+("Found - 1 at dim "+r+" and dim "+i));r=i}else if(t[i]<=0)throw Error("Shapes can not be <= 0. Found "+t[i]+" at dim "+i);if(r===-1){if(e>0&&e!==n)throw Error("Size("+e+") must match the product of shape "+t);return t}if(e%n!==0)throw Error("The implicit shape can't be a fractional number. "+("Got "+e+" / "+n));var a=t.slice();return a[r]=e/n,a}function w(t,e){for(var n=[],r=[],i=0,a=0;a<t.length;++a){if(null!=e){if(e[i]===a&&t[a]>1)throw new Error("Can't squeeze axis "+a+" since its dim '"+t[a]+"' is not 1");(null==e[i]||e[i]>a)&&1===t[a]&&(n.push(t[a]),r.push(a)),e[i]<=a&&i++}t[a]>1&&(n.push(t[a]),r.push(a))}return{newShape:n,keptDims:r}}function S(t,e){var n=null;if(null==t||"float32"===t)n=new Float32Array(e);else if("int32"===t)n=new Int32Array(e);else{if("bool"!==t)throw new Error("Unknown data type "+t);n=new Uint8Array(e)}return n}function T(t,e,n){if("float32"===e)for(var r=0;r<t.length;r++)if(isNaN(t[r]))throw Error("The result of the '"+n+"' has NaNs.")}function N(t,e){return"float32"!==e&&(("int32"!==e||"float32"===t)&&("bool"!==e||"bool"!==t))}function E(t,e){if(null==e||"float32"===e)return new Float32Array(t);if("int32"===e)return new Int32Array(t);if("bool"===e){for(var n=new Uint8Array(t.length),r=0;r<n.length;++r)0!==Math.round(t[r])&&(n[r]=1);return n}throw new Error("Unknown data type "+e)}function k(t){return t instanceof Float32Array||t instanceof Int32Array||t instanceof Uint8Array}function O(t){if("float32"===t||"int32"===t)return 4;if("bool"===t)return 1;throw new Error("Unknown dtype "+t)}function M(t){return!!(t&&t.constructor&&t.call&&t.apply)}function R(t,e){for(var n=e;n<t;++n)if(t%n===0)return n;return t}function D(t){var e=t.length;if(e<2)return[];var n=new Array(e-1);n[e-2]=t[e-1];for(var r=e-3;r>=0;--r)n[r]=n[r+1]*t[r+1];return n}function _(t,e){return P(t,e)?t:(Array.isArray(t)&&(t=u(t)),E(t,e))}function P(t,e){return t instanceof Float32Array&&"float32"===e||t instanceof Int32Array&&"int32"===e||t instanceof Uint8Array&&"bool"===e}function L(t,e){for(var n=z(t,e),r=0;r<n.length;r++)n[r]=1;return n}function z(t,e){if(null==e||"float32"===e)return new Float32Array(t);if("int32"===e)return new Int32Array(t);if("bool"===e)return new Uint8Array(t);throw new Error("Unknown data type "+e)}function F(){if("undefined"!=typeof performance)return performance.now();if("undefined"!=typeof t){var e=t.hrtime();return 1e3*e[0]+e[1]/1e6}throw new Error("Can not measure time in this environment. You should run tf.js in the browser or in Node.js")}Object.defineProperty(e,"__esModule",{value:!0}),e.shuffle=n,e.clamp=r,e.randUniform=i,e.distSquared=a,e.assert=o,e.assertShapesMatch=s,e.assertNonNull=l,e.flatten=u,e.inferShape=c,e.sizeFromShape=g,e.isScalarShape=d,e.arraysEqual=p,e.isInt=f,e.tanh=A,e.sizeToSquarishShape=C,e.createShuffledIndices=I,e.rightPad=m,e.repeatedTry=v,e.getQueryParams=y,e.inferFromImplicitShape=x,e.squeezeShape=w,e.getTypedArrayFromDType=S,e.checkForNaN=T,e.hasEncodingLoss=N,e.copyTypedArray=E,e.isTypedArray=k,e.bytesPerElement=O,e.isFunction=M,e.nearestDivisor=R,e.computeStrides=D,e.toTypedArray=_,e.makeOnesTypedArray=L,e.makeZerosTypedArray=z,e.now=F}).call(e,n(114))},function(t,e,n){"use strict";function r(t,e,n){for(var r={},i={},a=0;a<e.length;a++)r[e[a].id]=!0;for(var a=0;a<t.length;a++){var o=t[a],s=o.inputs;for(var l in s){for(var u=s[l],c=!1,h=0;h<e.length;h++)if(r[u.id]){r[o.output.id]=!0,c=!0,i[o.id]=!0;break}if(c)break}}var g={};g[n.id]=!0;for(var d={},a=t.length-1;a>=0;a--){var o=t[a],s=o.inputs,p=[];p.push(o.output);for(var h=0;h<p.length;h++)if(g[p[h].id]){for(var l in s)g[s[l].id]=!0,d[o.id]=!0;break}}for(var f=[],a=0;a<t.length;a++){var o=t[a];if(i[o.id]&&d[o.id]){var A={};for(var l in o.inputs){var C=o.inputs[l];r[C.id]&&(A[l]=C)}var I=Object.assign({},o);I.inputs=A,I.output=o.output,f.push(I)}}return f}function i(t,e){for(var n=e.length-1;n>=0;n--){var r=e[n],i=t[r.output.id];if(null==r.gradient)throw new Error("Cannot compute gradient: gradient function not found "+("for "+r.name+"."));var o=r.gradient(i);for(var s in r.inputs){if(!(s in o))throw new Error("Cannot backprop through input "+s+". "+("Available gradients found: "+Object.keys(o)+"."));var l=o[s](),u=r.inputs[s];if(!a.arraysEqual(l.shape,u.shape))throw new Error("Error in gradient for op "+r.name+". The gradient of input "+("'"+s+"' has shape '"+l.shape+"', which does not match ")+("the shape of the input '"+u.shape+"'"));if(null==t[u.id])t[u.id]=l;else{var c=t[u.id];t[u.id]=c.add(l),c.dispose()}}}}Object.defineProperty(e,"__esModule",{value:!0});var a=n(512);e.getFilteredNodesXToY=r,e.backpropagateGradients=i},function(t,e,n){"use strict";function r(t){p=t}function i(t){f=t}var a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__decorate||function(t,e,n,r){var i,a=arguments.length,o=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(o=(a<3?i(o):a>3?i(e,n,o):i(e,n))||o);return a>3&&o&&Object.defineProperty(e,n,o),o},s=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,a){function o(t){try{l(r.next(t))}catch(t){a(t)}}function s(t){try{l(r.throw(t))}catch(t){a(t)}}function l(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(o,s)}l((r=r.apply(t,e||[])).next())})},l=this&&this.__generator||function(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;l;)try{if(i=1,a&&(o=2&n[0]?a.return:n[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,n[1])).done)return o;switch(a=0,o&&(n=[2&n[0],o.value]),n[0]){case 0:case 1:o=n;break;case 4:return l.label++,{value:n[1],done:!1};case 5:l.label++,a=n[1],n=[0];continue;case 7:n=l.ops.pop(),l.trys.pop();continue;default:if(o=l.trys,!(o=o.length>0&&o[o.length-1])&&(6===n[0]||2===n[0])){l=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3])){l.label=n[1];break}if(6===n[0]&&l.label<o[1]){l.label=o[1],o=n;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(n);break}o[2]&&l.ops.pop(),l.trys.pop();continue}n=e.call(t,l)}catch(t){n=[6,t],a=0}finally{i=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,a,o,s,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(e,"__esModule",{value:!0});var u=n(509),c=n(515),h=n(512),g=n(512),d=function(){function t(t,e,n){if(this.dtype=e,null!=n){var r=n.length,i=h.sizeFromShape(t);h.assert(r===i,"Length of values '"+r+"' does not match the size "+("inferred by the shape '"+i+"'"))}this.shape=t.slice(),this.values=n||h.getTypedArrayFromDType(e,h.sizeFromShape(t)),this.strides=g.computeStrides(t),this.size=h.sizeFromShape(t)}return t.prototype.set=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];0===e.length&&(e=[0]),h.assert(e.length===this.rank,"The number of provided coordinates ("+e.length+") must "+("match the rank ("+this.rank+")"));var r=this.locToIndex(e);this.values[r]=t},t.prototype.get=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];0===t.length&&(t=[0]);for(var n=t[t.length-1],r=0;r<t.length-1;++r)n+=this.strides[r]*t[r];return this.values[n]},t.prototype.locToIndex=function(t){if(0===this.rank)return 0;if(1===this.rank)return t[0];for(var e=t[t.length-1],n=0;n<t.length-1;++n)e+=this.strides[n]*t[n];return e},t.prototype.indexToLoc=function(t){if(0===this.rank)return[];if(1===this.rank)return[t];for(var e=new Array(this.shape.length),n=0;n<e.length-1;++n)e[n]=Math.floor(t/this.strides[n]),t-=e[n]*this.strides[n];return e[e.length-1]=t,e},Object.defineProperty(t.prototype,"rank",{get:function(){return this.shape.length},enumerable:!0,configurable:!0}),t.prototype.toTensor=function(){return A.make(this.shape,{values:this.values},this.dtype)},o([u.doc({heading:"Tensors",subheading:"Creation"})],t.prototype,"set",null),o([u.doc({heading:"Tensors",subheading:"Creation"})],t.prototype,"get",null),o([u.doc({heading:"Tensors",subheading:"Creation"})],t.prototype,"toTensor",null),t=o([u.doc({heading:"Tensors",subheading:"Classes"})],t)}();e.TensorBuffer=d;var p=null,f=null;e.setTensorTracker=r,e.setOpHandler=i;var A=function(){function t(t,n,r,i){this.isDisposedInternal=!1,this.size=h.sizeFromShape(t),null!=r&&h.assert(this.size===r.length,"Constructing tensor of shape ("+this.size+") should match the "+("length of values ("+r.length+")")),this.shape=t.slice(),this.dtype=n||"float32",this.strides=g.computeStrides(t),this.dataId=null!=i?i:{},this.id=e.nextId++,this.rankType=this.rank<5?this.rank.toString():"higher",p().registerTensor(this),null!=r&&p().write(this.dataId,r)}e=t,t.make=function(t,n,r){return new e(t,r,n.values,n.dataId)},t.prototype.flatten=function(){return this.throwIfDisposed(),this.as1D()},t.prototype.asScalar=function(){return this.throwIfDisposed(),h.assert(1===this.size,"The array must have only 1 element."),this.reshape([])},t.prototype.as1D=function(){return this.throwIfDisposed(),this.reshape([this.size])},t.prototype.as2D=function(t,e){return this.throwIfDisposed(),this.reshape([t,e])},t.prototype.as3D=function(t,e,n){return this.throwIfDisposed(),this.reshape([t,e,n])},t.prototype.as4D=function(t,e,n,r){return this.throwIfDisposed(),this.reshape([t,e,n,r])},t.prototype.asType=function(t){return this.throwIfDisposed(),f.cast(this,t)},Object.defineProperty(t.prototype,"rank",{get:function(){return this.shape.length},enumerable:!0,configurable:!0
}),t.prototype.get=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];h.assert(t.length===this.rank,"Number of coordinates in get() must match the rank of the tensor"),this.throwIfDisposed(),0===t.length&&(t=[0]);for(var n=t[t.length-1],r=0;r<t.length-1;++r)n+=this.strides[r]*t[r];return this.dataSync()[n]},t.prototype.buffer=function(){return f.buffer(this.shape,this.dtype,this.dataSync())},t.prototype.data=function(){return s(this,void 0,void 0,function(){return l(this,function(t){return this.throwIfDisposed(),[2,p().read(this.dataId)]})})},t.prototype.dataSync=function(){return this.throwIfDisposed(),p().readSync(this.dataId)},t.prototype.dispose=function(){this.isDisposed||(p().disposeTensor(this),this.isDisposedInternal=!0)},Object.defineProperty(t.prototype,"isDisposed",{get:function(){return this.isDisposedInternal},enumerable:!0,configurable:!0}),t.prototype.throwIfDisposed=function(){if(this.isDisposed)throw new Error("Tensor is disposed.")},t.prototype.toFloat=function(){return this.asType("float32")},t.prototype.toInt=function(){return this.asType("int32")},t.prototype.toBool=function(){return this.asType("bool")},t.prototype.print=function(t){return void 0===t&&(t=!1),f.print(this,t)},t.prototype.reshape=function(t){return this.throwIfDisposed(),f.reshape(this,t)},t.prototype.reshapeAs=function(t){return this.throwIfDisposed(),this.reshape(t.shape)},t.prototype.expandDims=function(t){return void 0===t&&(t=0),f.expandDims(this,t)},t.prototype.cumsum=function(t,e,n){return void 0===t&&(t=0),void 0===e&&(e=!1),void 0===n&&(n=!1),f.cumsum(this,t,e,n)},t.prototype.squeeze=function(t){return this.throwIfDisposed(),f.squeeze(this,t)},t.prototype.clone=function(){return this.throwIfDisposed(),f.clone(this)},t.prototype.toString=function(t){void 0===t&&(t=!1);var e=this.dataSync();return c.tensorToString(e,this.shape,this.dtype,t)},t.prototype.tile=function(t){return this.throwIfDisposed(),f.tile(this,t)},t.prototype.gather=function(t,e){return void 0===e&&(e=0),this.throwIfDisposed(),f.gather(this,t,e)},t.prototype.matMul=function(t,e,n){return void 0===e&&(e=!1),void 0===n&&(n=!1),this.throwIfDisposed(),f.matMul(this,t,e,n)},t.prototype.dot=function(t){return this.throwIfDisposed(),f.dot(this,t)},t.prototype.norm=function(t,e,n){return void 0===t&&(t="euclidean"),void 0===e&&(e=null),void 0===n&&(n=!1),this.throwIfDisposed(),f.norm(this,t,e,n)},t.prototype.slice=function(t,e){return this.throwIfDisposed(),f.slice(this,t,e)},t.prototype.reverse=function(t){return this.throwIfDisposed(),f.reverse(this,t)},t.prototype.concat=function(t,e){return void 0===e&&(e=0),this.throwIfDisposed(),f.concat([this,t],e)},t.prototype.stack=function(t,e){return void 0===e&&(e=0),f.stack([this,t],e)},t.prototype.unstack=function(t,e){return void 0===e&&(e=0),f.unstack(this,e)},t.prototype.pad=function(t,e){return void 0===e&&(e=0),f.pad(this,t,e)},t.prototype.batchNormalization=function(t,e,n,r,i){return void 0===n&&(n=.001),this.throwIfDisposed(),f.batchNormalization(this,t,e,n,r,i)},t.prototype.all=function(t,e){return void 0===t&&(t=null),void 0===e&&(e=!1),this.throwIfDisposed(),f.all(this,t,e)},t.prototype.any=function(t,e){return void 0===t&&(t=null),void 0===e&&(e=!1),this.throwIfDisposed(),f.any(this,t,e)},t.prototype.logSumExp=function(t,e){return void 0===t&&(t=null),void 0===e&&(e=!1),this.throwIfDisposed(),f.logSumExp(this,t,e)},t.prototype.sum=function(t,e){return void 0===t&&(t=null),void 0===e&&(e=!1),this.throwIfDisposed(),f.sum(this,t,e)},t.prototype.mean=function(t,e){return void 0===t&&(t=null),void 0===e&&(e=!1),this.throwIfDisposed(),f.mean(this,t,e)},t.prototype.min=function(t,e){return void 0===t&&(t=null),void 0===e&&(e=!1),this.throwIfDisposed(),f.min(this,t,e)},t.prototype.max=function(t,e){return void 0===t&&(t=null),void 0===e&&(e=!1),this.throwIfDisposed(),f.max(this,t,e)},t.prototype.argMin=function(t){return void 0===t&&(t=null),this.throwIfDisposed(),f.argMin(this,t)},t.prototype.argMax=function(t){return void 0===t&&(t=null),this.throwIfDisposed(),f.argMax(this,t)},t.prototype.cast=function(t){return this.throwIfDisposed(),f.cast(this,t)},t.prototype.add=function(t){return this.throwIfDisposed(),f.add(this,t)},t.prototype.addStrict=function(t){return this.throwIfDisposed(),f.addStrict(this,t)},t.prototype.sub=function(t){return this.throwIfDisposed(),f.sub(this,t)},t.prototype.subStrict=function(t){return this.throwIfDisposed(),f.subStrict(this,t)},t.prototype.pow=function(t){return this.throwIfDisposed(),f.pow(this,t)},t.prototype.powStrict=function(t){return this.throwIfDisposed(),f.powStrict(this,t)},t.prototype.mul=function(t){return this.throwIfDisposed(),f.mul(this,t)},t.prototype.mulStrict=function(t){return this.throwIfDisposed(),f.mulStrict(this,t)},t.prototype.div=function(t){return this.throwIfDisposed(),f.div(this,t)},t.prototype.floorDiv=function(t){return this.throwIfDisposed(),f.floorDiv(this,t)},t.prototype.divStrict=function(t){return this.throwIfDisposed(),f.divStrict(this,t)},t.prototype.minimum=function(t){return this.throwIfDisposed(),f.minimum(this,t)},t.prototype.minimumStrict=function(t){return this.throwIfDisposed(),f.minimumStrict(this,t)},t.prototype.maximum=function(t){return this.throwIfDisposed(),f.maximum(this,t)},t.prototype.maximumStrict=function(t){return this.throwIfDisposed(),f.maximumStrict(this,t)},t.prototype.mod=function(t){return this.throwIfDisposed(),f.mod(this,t)},t.prototype.modStrict=function(t){return this.throwIfDisposed(),f.modStrict(this,t)},t.prototype.squaredDifference=function(t){return this.throwIfDisposed(),f.squaredDifference(this,t)},t.prototype.squaredDifferenceStrict=function(t){return this.throwIfDisposed(),f.squaredDifferenceStrict(this,t)},t.prototype.transpose=function(t){return this.throwIfDisposed(),f.transpose(this,t)},t.prototype.notEqual=function(t){return this.throwIfDisposed(),f.notEqual(this,t)},t.prototype.notEqualStrict=function(t){return this.throwIfDisposed(),f.notEqualStrict(this,t)},t.prototype.less=function(t){return this.throwIfDisposed(),f.less(this,t)},t.prototype.lessStrict=function(t){return this.throwIfDisposed(),f.lessStrict(this,t)},t.prototype.equal=function(t){return this.throwIfDisposed(),f.equal(this,t)},t.prototype.equalStrict=function(t){return this.throwIfDisposed(),f.equalStrict(this,t)},t.prototype.lessEqual=function(t){return this.throwIfDisposed(),f.lessEqual(this,t)},t.prototype.lessEqualStrict=function(t){return this.throwIfDisposed(),f.lessEqualStrict(this,t)},t.prototype.greater=function(t){return this.throwIfDisposed(),f.greater(this,t)},t.prototype.greaterStrict=function(t){return this.throwIfDisposed(),f.greaterStrict(this,t)},t.prototype.greaterEqual=function(t){return this.throwIfDisposed(),f.greaterEqual(this,t)},t.prototype.greaterEqualStrict=function(t){return this.throwIfDisposed(),f.greaterEqualStrict(this,t)},t.prototype.logicalAnd=function(t){return this.throwIfDisposed(),f.logicalAnd(this,t)},t.prototype.logicalOr=function(t){return this.throwIfDisposed(),f.logicalOr(this,t)},t.prototype.logicalNot=function(){return this.throwIfDisposed(),f.logicalNot(this)},t.prototype.logicalXor=function(t){return this.throwIfDisposed(),f.logicalXor(this,t)},t.prototype.where=function(t,e){return this.throwIfDisposed(),f.where(t,this,e)},t.prototype.neg=function(){return this.throwIfDisposed(),f.neg(this)},t.prototype.ceil=function(){return this.throwIfDisposed(),f.ceil(this)},t.prototype.floor=function(){return this.throwIfDisposed(),f.floor(this)},t.prototype.sign=function(){return this.throwIfDisposed(),f.sign(this)},t.prototype.exp=function(){return this.throwIfDisposed(),f.exp(this)},t.prototype.expm1=function(){return this.throwIfDisposed(),f.expm1(this)},t.prototype.log=function(){return this.throwIfDisposed(),f.log(this)},t.prototype.log1p=function(){return this.throwIfDisposed(),f.log1p(this)},t.prototype.sqrt=function(){return this.throwIfDisposed(),f.sqrt(this)},t.prototype.rsqrt=function(){return this.throwIfDisposed(),f.rsqrt(this)},t.prototype.square=function(){return this.throwIfDisposed(),f.square(this)},t.prototype.reciprocal=function(){return this.throwIfDisposed(),f.reciprocal(this)},t.prototype.abs=function(){return this.throwIfDisposed(),f.abs(this)},t.prototype.clipByValue=function(t,e){return this.throwIfDisposed(),f.clipByValue(this,t,e)},t.prototype.relu=function(){return this.throwIfDisposed(),f.relu(this)},t.prototype.elu=function(){return this.throwIfDisposed(),f.elu(this)},t.prototype.selu=function(){return this.throwIfDisposed(),f.selu(this)},t.prototype.leakyRelu=function(t){return void 0===t&&(t=.2),this.throwIfDisposed(),f.leakyRelu(this,t)},t.prototype.prelu=function(t){return this.throwIfDisposed(),f.prelu(this,t)},t.prototype.sigmoid=function(){return this.throwIfDisposed(),f.sigmoid(this)},t.prototype.logSigmoid=function(){return this.throwIfDisposed(),f.logSigmoid(this)},t.prototype.softplus=function(){return this.throwIfDisposed(),f.softplus(this)},t.prototype.sin=function(){return this.throwIfDisposed(),f.sin(this)},t.prototype.cos=function(){return this.throwIfDisposed(),f.cos(this)},t.prototype.tan=function(){return this.throwIfDisposed(),f.tan(this)},t.prototype.asin=function(){return this.throwIfDisposed(),f.asin(this)},t.prototype.acos=function(){return this.throwIfDisposed(),f.acos(this)},t.prototype.atan=function(){return this.throwIfDisposed(),f.atan(this)},t.prototype.sinh=function(){return this.throwIfDisposed(),f.sinh(this)},t.prototype.cosh=function(){return this.throwIfDisposed(),f.cosh(this)},t.prototype.tanh=function(){return this.throwIfDisposed(),f.tanh(this)},t.prototype.asinh=function(){return this.throwIfDisposed(),f.asinh(this)},t.prototype.acosh=function(){return this.throwIfDisposed(),f.acosh(this)},t.prototype.atanh=function(){return this.throwIfDisposed(),f.atanh(this)},t.prototype.erf=function(){return this.throwIfDisposed(),f.erf(this)},t.prototype.round=function(){return this.throwIfDisposed(),f.round(this)},t.prototype.step=function(t){return void 0===t&&(t=0),this.throwIfDisposed(),f.step(this,t)},t.prototype.softmax=function(t){return void 0===t&&(t=-1),this.throwIfDisposed(),f.softmax(this,t)},t.prototype.resizeBilinear=function(t,e){return void 0===e&&(e=!1),this.throwIfDisposed(),f.image.resizeBilinear(this,t,e)},t.prototype.resizeNearestNeighbor=function(t,e){return void 0===e&&(e=!1),this.throwIfDisposed(),f.image.resizeNearestNeighbor(this,t,e)},t.prototype.conv1d=function(t,e,n,r,i,a){return void 0===r&&(r="NWC"),void 0===i&&(i=1),this.throwIfDisposed(),f.conv1d(this,t,e,n,r,i,a)},t.prototype.conv2d=function(t,e,n,r,i,a){return void 0===r&&(r="NHWC"),void 0===i&&(i=[1,1]),this.throwIfDisposed(),f.conv2d(this,t,e,n,r,i,a)},t.prototype.conv2dTranspose=function(t,e,n,r,i){return this.throwIfDisposed(),f.conv2dTranspose(this,t,e,n,r,i)},t.prototype.depthwiseConv2D=function(t,e,n,r,i,a){return void 0===r&&(r="NHWC"),void 0===i&&(i=[1,1]),this.throwIfDisposed(),f.depthwiseConv2d(this,t,e,n,r,i,a)},t.prototype.avgPool=function(t,e,n,r){return this.throwIfDisposed(),f.avgPool(this,t,e,n,r)},t.prototype.maxPool=function(t,e,n,r){return this.throwIfDisposed(),f.maxPool(this,t,e,n,r)},t.prototype.localResponseNormalization=function(t,e,n,r){return void 0===t&&(t=5),void 0===e&&(e=1),void 0===n&&(n=1),void 0===r&&(r=.5),f.localResponseNormalization(this,t,e,n,r)},t.prototype.variable=function(t,e,n){return void 0===t&&(t=!0),this.throwIfDisposed(),C.variable(this,t,e,n)},t.prototype.unsortedSegmentSum=function(t,e){return this.throwIfDisposed(),f.unsortedSegmentSum(this,t,e)};var e;return t.nextId=0,o([u.doc({heading:"Tensors",subheading:"Classes"})],t.prototype,"flatten",null),o([u.doc({heading:"Tensors",subheading:"Classes"})],t.prototype,"asScalar",null),o([u.doc({heading:"Tensors",subheading:"Classes"})],t.prototype,"as1D",null),o([u.doc({heading:"Tensors",subheading:"Classes"})],t.prototype,"as2D",null),o([u.doc({heading:"Tensors",subheading:"Classes"})],t.prototype,"as3D",null),o([u.doc({heading:"Tensors",subheading:"Classes"})],t.prototype,"as4D",null),o([u.doc({heading:"Tensors",subheading:"Classes"})],t.prototype,"asType",null),o([u.doc({heading:"Tensors",subheading:"Classes"})],t.prototype,"buffer",null),o([u.doc({heading:"Tensors",subheading:"Classes"})],t.prototype,"data",null),o([u.doc({heading:"Tensors",subheading:"Classes"})],t.prototype,"dataSync",null),o([u.doc({heading:"Tensors",subheading:"Classes"})],t.prototype,"dispose",null),o([u.doc({heading:"Tensors",subheading:"Classes"})],t.prototype,"toFloat",null),o([u.doc({heading:"Tensors",subheading:"Classes"})],t.prototype,"toInt",null),o([u.doc({heading:"Tensors",subheading:"Classes"})],t.prototype,"toBool",null),o([u.doc({heading:"Tensors",subheading:"Classes"})],t.prototype,"print",null),o([u.doc({heading:"Tensors",subheading:"Classes"})],t.prototype,"reshape",null),o([u.doc({heading:"Tensors",subheading:"Classes"})],t.prototype,"reshapeAs",null),o([u.doc({heading:"Tensors",subheading:"Classes"})],t.prototype,"expandDims",null),o([u.doc({heading:"Tensors",subheading:"Classes"})],t.prototype,"cumsum",null),o([u.doc({heading:"Tensors",subheading:"Classes"})],t.prototype,"squeeze",null),o([u.doc({heading:"Tensors",subheading:"Classes"})],t.prototype,"clone",null),o([u.doc({heading:"Tensors",subheading:"Classes"})],t.prototype,"toString",null),t=e=o([u.doc({heading:"Tensors",subheading:"Classes"})],t)}();e.Tensor=A,Object.defineProperty(A,Symbol.hasInstance,{value:function(t){return null!=t.shape&&null!=t.dtype}});var C=function(t){function e(e,r,i){void 0===r&&(r=!0);var a=t.call(this,e.shape,e.dtype,null,e.dataId)||this;a.trainable=r,a.name=i,null==a.name&&(a.name=n.nextVarId.toString(),n.nextVarId++);try{p().registerVariable(a)}catch(t){throw p().disposeTensor(a),t}return a}a(e,t),n=e,e.variable=function(t,e,r,i){return void 0===e&&(e=!0),null!=i&&i!==t.dtype&&(t=t.asType(i)),new n(t,e,r)},e.prototype.assign=function(t){if(t.dtype!==this.dtype)throw new Error("dtype of the new value ("+t.dtype+") and "+("previous value ("+this.dtype+") must match"));if(!h.arraysEqual(t.shape,this.shape))throw new Error("shape of the new value ("+t.shape+") and "+("previous value ("+this.shape+") must match"));p().disposeTensor(this),this.dataId=t.dataId,p().registerTensor(this)};var n;return e.nextVarId=0,o([u.doc({heading:"Tensors",subheading:"Classes"})],e.prototype,"assign",null),o([u.doc({heading:"Tensors",subheading:"Creation"})],e,"variable",null),e=n=o([u.doc({heading:"Tensors",subheading:"Classes"})],e)}(A);e.Variable=C,Object.defineProperty(C,Symbol.hasInstance,{value:function(t){return t instanceof A&&null!=t.assign&&t.assign instanceof Function}});var I=C.variable;e.variable=I},function(t,e,n){"use strict";function r(t,e,n,r){var a=s.computeStrides(e),l=i(t,e,a),u=e.length,c=o(t,e,a,l),h=["Tensor"];return r&&(h.push("  dtype: "+n),h.push("  rank: "+u),h.push("  shape: ["+e+"]"),h.push("  values:")),h.push(c.map(function(t){return"    "+t}).join("\n")),h.join("\n")}function i(t,e,n){var r=s.sizeFromShape(e),i=n[n.length-1],o=new Array(i).fill(0),l=e.length;if(l>1)for(var u=0;u<r/i;u++)for(var c=u*i,h=0;h<i;h++)o[h]=Math.max(o[h],a(t[c+h],0).length);return o}function a(t,e){return s.rightPad(parseFloat(t.toFixed(c)).toString(),e)}function o(t,e,n,r,i){void 0===i&&(i=!0);var s=e[0],c=e.length;if(0===c)return[t[0].toString()];if(1===c){if(s>l){var h=Array.from(t.subarray(0,u)),g=Array.from(t.subarray(s-u,s));return["["+h.map(function(t,e){return a(t,r[e])}).join(", ")+", ..., "+g.map(function(t,e){return a(t,r[s-u+e])}).join(", ")+"]"]}return["["+Array.from(t).map(function(t,e){return a(t,r[e])}).join(", ")+"]"]}var d=e.slice(1),p=n.slice(1),f=n[0],A=[];if(s>l){for(var C=0;C<u;C++){var I=C*f,m=I+f;A.push.apply(A,o(t.subarray(I,m),d,p,r,!1))}A.push("...");for(var C=s-u;C<s;C++){var I=C*f,m=I+f;A.push.apply(A,o(t.subarray(I,m),d,p,r,C===s-1))}}else for(var C=0;C<s;C++){var I=C*f,m=I+f;A.push.apply(A,o(t.subarray(I,m),d,p,r,C===s-1))}var v=2===c?",":"";A[0]="["+A[0]+v;for(var C=1;C<A.length-1;C++)A[C]=" "+A[C]+v;for(var y=",\n",C=2;C<c;C++)y+="\n";return A[A.length-1]=" "+A[A.length-1]+"]"+(i?"":y),A}Object.defineProperty(e,"__esModule",{value:!0});var s=n(512),l=20,u=3,c=7;e.tensorToString=r},function(t,e,n){"use strict";function r(t,e){d.assert(t.dtype===e.dtype," The dtypes of the first("+t.dtype+") and"+(" second("+e.dtype+") input must match"))}function i(t,e,n,r){if(void 0===r&&(r="float32"),r=r||"float32",t instanceof g.Tensor)return t;if(!d.isTypedArray(t)&&!Array.isArray(t)&&"number"!=typeof t&&"boolean"!=typeof t)throw new Error("Argument '"+e+"' passed to '"+n+"' must be a Tensor or TensorLike, but got "+t.constructor.name);var i=d.inferShape(t);return d.isTypedArray(t)||Array.isArray(t)||(t=[t]),g.Tensor.make(i,{values:d.toTypedArray(t,r)},r)}function a(t,e,n){if(!Array.isArray(t))throw new Error("Argument "+e+" passed to "+n+" must be a `Tensor[]` or `TensorLike[]`");var r=t;return r.map(function(t,r){return i(t,e+"["+r+"]",n)})}function o(t,e){for(var n=0;n<e.length;n++)if(e[n].id===t.id)return!0;return!1}function s(t,e){var n=[];if(t instanceof g.Tensor)n.push(t);else for(var r=t,i=0;i<e.length;i++)n.push(r[e[i]]);return n}function l(t,e){if(t.length!==e.length)throw new Error("Cannot unflatten Tensor[], keys and arrays are not of same length.");for(var n={},r=0;r<t.length;r++)n[t[r]]=e[r];return n}function u(t){var e=[],n=new Set;return c(t,e,n),e}function c(t,e,n){if(null!=t){if(t instanceof g.Tensor)return void e.push(t);if(h(t)){var r=t;for(var i in r){var a=r[i];n.has(a)||(n.add(a),c(a,e,n))}}}}function h(t){return Array.isArray(t)||"object"==typeof t}Object.defineProperty(e,"__esModule",{value:!0});var g=n(514),d=n(512);e.assertTypesMatch=r,e.convertToTensor=i,e.convertToTensorArray=a,e.isTensorInList=o,e.flattenNameArrayMap=s,e.unflattenToNameArrayMap=l,e.getTensorsInContainer=u},function(t,e,n){"use strict";function r(t,e){var n;try{n=h(t,e)}catch(t){return!1}return null!=n&&(g(n),!0)}function i(t,e){if(0===t)return 0;var n,r=h(t,e);return n=c(r,"EXT_disjoint_timer_query_webgl2")&&2===t?2:c(r,"EXT_disjoint_timer_query")?1:0,null!=r&&g(r),n}function a(t,e){if(0===t)return!1;var n=h(t,e);if(1===t){if(!c(n,"OES_texture_float"))return!1}else if(!c(n,"EXT_color_buffer_float"))return!1;d(n,t);var r=n.checkFramebufferStatus(n.FRAMEBUFFER)===n.FRAMEBUFFER_COMPLETE;return g(n),r}function o(t,e){if(0===t)return!1;var n=h(t,e);if(1===t){if(!c(n,"OES_texture_float"))return!1}else if(!c(n,"EXT_color_buffer_float"))return!1;d(n,t),n.readPixels(0,0,1,1,n.RGBA,n.FLOAT,new Float32Array(4));var r=n.getError()===n.NO_ERROR;return g(n),r}function s(t,e){if(t>0)return!1;if(2!==t)return!1;var n=h(t,e),r=c(n,"WEBGL_get_buffer_sub_data_async");return g(n),r}function l(){return"undefined"!=typeof navigator&&null!=navigator&&null!=navigator.userAgent&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}function u(){var t={};if("undefined"==typeof window||"undefined"==typeof window.location)return t;var n=f.getQueryParams(window.location.search);if(A in n){var r={},i=n[A].split(",");i.forEach(function(t){var e=t.split(":"),n=e[0],i=e[1];r[n]=i}),e.URL_PROPERTIES.forEach(function(e){e.name in r&&(console.log("Setting feature override from URL "+e.name+": "+r[e.name]),e.type===p.NUMBER?t[e.name]=+r[e.name]:e.type===p.BOOLEAN?t[e.name]="true"===r[e.name]:e.type===p.STRING?t[e.name]=r[e.name]:console.warn("Unknown URL param: "+e.name+"."))})}return t}function c(t,e){var n=t.getExtension(e);return null!=n}function h(t,e){if(0===t||!e)throw new Error("Cannot get WebGL rendering context, WebGL is disabled.");var n=document.createElement("canvas");return 1===t?n.getContext("webgl")||n.getContext("experimental-webgl"):n.getContext("webgl2")}function g(t){if(null!=t){var e=t.getExtension("WEBGL_lose_context");if(null==e)throw new Error("Extension WEBGL_lose_context not supported on this browser.");e.loseContext()}}function d(t,e){var n=t.createFramebuffer(),r=t.createTexture();t.bindTexture(t.TEXTURE_2D,r);var i=2===e?t.RGBA32F:t.RGBA;t.texImage2D(t.TEXTURE_2D,0,i,1,1,0,t.RGBA,t.FLOAT,null),t.bindFramebuffer(t.FRAMEBUFFER,n),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,r,0)}Object.defineProperty(e,"__esModule",{value:!0});var p,f=n(512);!function(t){t[t.NUMBER=0]="NUMBER",t[t.BOOLEAN=1]="BOOLEAN",t[t.STRING=2]="STRING"}(p=e.Type||(e.Type={})),e.URL_PROPERTIES=[{name:"DEBUG",type:p.BOOLEAN},{name:"IS_BROWSER",type:p.BOOLEAN},{name:"WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION",type:p.NUMBER},{name:"WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",type:p.BOOLEAN},{name:"WEBGL_VERSION",type:p.NUMBER},{name:"WEBGL_RENDER_FLOAT32_ENABLED",type:p.BOOLEAN},{name:"WEBGL_DOWNLOAD_FLOAT_ENABLED",type:p.BOOLEAN},{name:"WEBGL_GET_BUFFER_SUB_DATA_ASYNC_EXTENSION_ENABLED",type:p.BOOLEAN},{name:"BACKEND",type:p.STRING}],e.isWebGLVersionEnabled=r,e.getWebGLDisjointQueryTimerVersion=i,e.isRenderToFloatTextureEnabled=a,e.isDownloadFloatTextureEnabled=o,e.isWebGLGetBufferSubDataAsyncExtensionEnabled=s,e.isChrome=l;var A="tfjsflags";e.getFeaturesFromURL=u},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<t.length;++n)if(t[t.length-n-1]!==e-1-n)return!1;return!0}function i(t,e,n){for(var r=t.length+e.length,i=[],a=0,o=0,s=0;s<r;s++)n.indexOf(s)===-1?i.push(t[a++]):i.push(e[o++]);return i}function a(t,e){for(var n=[],r=t.length,i=0;i<r;i++)e.indexOf(i)===-1&&n.push(t[i]);var a=e.map(function(e){return t[e]});return[n,a]}function o(t,e){var n=e.map(function(t){return 1});return i(t,n,e)}function s(t,e){var n=e.length;return t=null==t?e.map(function(t,e){return e}):[].concat(t),g.assert(t.every(function(t){return t>=-n&&t<n}),"All values in axis param must be in range [-"+n+", "+n+") but got axis "+t),g.assert(t.every(function(t){return g.isInt(t)}),"All values in axis param must be integers but got axis "+t),t.map(function(t){return t<0?n+t:t})}function l(t,e,n){g.assert(r(e,n),t+" supports only inner-most axes for now. "+("Got axes "+e+" and rank-"+n+" input."))}function u(t,e){if(r(t,e))return null;for(var n=[],i=0;i<e;++i)t.indexOf(i)===-1&&n.push(i);return t.forEach(function(t){return n.push(t)}),n}function c(t){return t.map(function(t,e){return[e,t]}).sort(function(t,e){return t[1]-e[1]}).map(function(t){return t[0]})}function h(t,e){for(var n=[],r=e-t;r<e;++r)n.push(r);return n}Object.defineProperty(e,"__esModule",{value:!0});var g=n(512);e.axesAreInnerMostDims=r,e.combineLocations=i,e.computeOutAndReduceShapes=a,e.expandShapeToKeepDim=o,e.parseAxisParam=s,e.assertAxesAreInnerMostDims=l,e.getAxesPermutation=u,e.getUndoAxesPermutation=c,e.getInnerMostAxes=h},function(t,e,n){"use strict";function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),r(n(520)),r(n(522)),r(n(541)),r(n(543)),r(n(544)),r(n(545)),r(n(546)),r(n(540)),r(n(548)),r(n(551)),r(n(552)),r(n(554)),r(n(555)),r(n(556)),r(n(521)),r(n(538)),r(n(558)),r(n(559)),r(n(560)),r(n(561)),r(n(562)),r(n(563)),r(n(564)),r(n(565));var i=n(524);e.op=i.op;var a=n(566);e.losses=a;var o=n(567);e.linalg=o;var s=n(568);e.image=s},function(t,e,n){"use strict";function r(t){return null==t?null:0===t.rank?t.as1D():1===t.rank?t:2===t.rank?t.as4D(1,1,t.shape[0],t.shape[1]):3===t.rank?t.as4D(1,t.shape[0],t.shape[1],t.shape[2]):t}var i=this&&this.__decorate||function(t,e,n,r){var i,a=arguments.length,o=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(o=(a<3?i(o):a>3?i(e,n,o):i(e,n))||o);return a>3&&o&&Object.defineProperty(e,n,o),o};Object.defineProperty(e,"__esModule",{value:!0});var a=n(509),o=n(507),s=n(516),l=n(512),u=n(521),c=n(539),h=n(524),g=n(538),d=n(540),p=function(){function t(){}return t.batchNormalization2d=function(e,n,r,i,a,o){void 0===i&&(i=.001);var u,c=s.convertToTensor(e,"x","batchNormalization"),h=s.convertToTensor(n,"mean","batchNormalization"),g=s.convertToTensor(r,"variance","batchNormalization");null!=a&&(u=s.convertToTensor(a,"scale","batchNormalization"));var d;return null!=o&&(d=s.convertToTensor(o,"offset","batchNormalization")),l.assert(2===c.rank,"Error in batchNormalization3D: x must be rank 3 but got rank "+(c.rank+".")),l.assert(2===h.rank||1===h.rank,"Error in batchNormalization2D: mean must be rank 2 or rank 1 but "+("got rank "+h.rank+".")),l.assert(2===g.rank||1===g.rank,"Error in batchNormalization2D: variance must be rank 2 or rank 1 "+("but got rank "+g.rank+".")),null!=u&&l.assert(2===u.rank||1===u.rank,"Error in batchNormalization2D: scale must be rank 2 or rank 1 "+("but got rank "+u.rank+".")),null!=d&&l.assert(2===d.rank||1===d.rank,"Error in batchNormalization2D: offset must be rank 2 or rank 1 "+("but got rank "+d.rank+".")),t.batchNormalization(c,h,g,i,u,d)},t.batchNormalization3d=function(e,n,r,i,a,o){void 0===i&&(i=.001);var u,c=s.convertToTensor(e,"x","batchNormalization"),h=s.convertToTensor(n,"mean","batchNormalization"),g=s.convertToTensor(r,"variance","batchNormalization");null!=a&&(u=s.convertToTensor(a,"scale","batchNormalization"));var d;return null!=o&&(d=s.convertToTensor(o,"offset","batchNormalization")),l.assert(3===c.rank,"Error in batchNormalization3D: x must be rank 3 but got rank "+(c.rank+".")),l.assert(3===h.rank||1===h.rank,"Error in batchNormalization3D: mean must be rank 3 or rank 1 but "+("got rank "+h.rank+".")),l.assert(3===g.rank||1===g.rank,"Error in batchNormalization3D: variance must be rank 3 or rank 1 "+("but got rank "+g.rank+".")),null!=u&&l.assert(3===u.rank||1===u.rank,"Error in batchNormalization3D: scale must be rank 3 or rank 1 "+("but got rank "+u.rank+".")),null!=d&&l.assert(3===d.rank||1===d.rank,"Error in batchNormalization3D: offset must be rank 3 or rank 1 "+("but got rank "+d.rank+".")),t.batchNormalization(c,h,g,i,u,d)},t.batchNormalization4d=function(e,n,r,i,a,o){void 0===i&&(i=.001);var u,c=s.convertToTensor(e,"x","batchNormalization"),h=s.convertToTensor(n,"mean","batchNormalization"),g=s.convertToTensor(r,"variance","batchNormalization");null!=a&&(u=s.convertToTensor(a,"scale","batchNormalization"));var d;return null!=o&&(d=s.convertToTensor(o,"offset","batchNormalization")),l.assert(4===c.rank,"Error in batchNormalization4D: x must be rank 4 but got rank "+(c.rank+".")),l.assert(4===h.rank||1===h.rank,"Error in batchNormalization4D: mean must be rank 4 or rank 1 but "+("got rank "+h.rank+".")),l.assert(4===g.rank||1===g.rank,"Error in batchNormalization4D: variance must be rank 4 or rank 1 "+("but got rank "+g.rank+".")),null!=u&&l.assert(4===u.rank||1===u.rank,"Error in batchNormalization4D: scale must be rank 4 or rank 1 "+("but got rank "+u.rank+".")),null!=d&&l.assert(4===d.rank||1===d.rank,"Error in batchNormalization4D: offset must be rank 4 or rank 1 "+("but got rank "+d.rank+".")),t.batchNormalization(c,h,g,i,u,d)},t.batchNormalization=function(t,e,n,i,a,h){void 0===i&&(i=.001);var p,f=s.convertToTensor(t,"x","batchNormalization"),A=s.convertToTensor(e,"mean","batchNormalization"),C=s.convertToTensor(n,"variance","batchNormalization");null!=a&&(p=s.convertToTensor(a,"scale","batchNormalization"));var I;null!=h&&(I=s.convertToTensor(h,"offset","batchNormalization")),l.assert(A.rank===C.rank,"Batch normalization gradient requires mean and variance to have equal ranks."),l.assert(null==I||A.rank===I.rank,"Batch normalization gradient requires mean and offset to have equal ranks."),l.assert(null==p||A.rank===p.rank,"Batch normalization gradient requires mean and scale to have equal ranks.");var m;m=0===f.rank||1===f.rank?f.as4D(1,1,1,f.size):2===f.rank?f.as4D(1,1,f.shape[0],f.shape[1]):3===f.rank?f.as4D(1,f.shape[0],f.shape[1],f.shape[2]):f;var v=function(t){var e=null==p?g.scalar(1):p,n=c.getReductionAxes(A.shape,m.shape),r=[];if(1===A.rank){for(var a=0;a<m.shape.length-1;++a)r.push(m.shape[a]);r.push(1)}var o=f.sub(A),s=t.mul(e),l=d.rsqrt(C.add(g.scalar(i))),h=l.mul(l).mul(l).mul(g.scalar(-.5)),I=function(){return 1===A.rank?t.mul(u.tile(l.as4D(1,1,1,A.shape[0]),r)).mul(e).reshape(f.shape):t.mul(l).mul(e).reshape(f.shape)},v=function(){var t=l.mul(g.scalar(-1)).mul(s);return 1===A.rank&&(t=t.sum(n)),t.reshape(A.shape)},y=function(){var t=h.mul(o).mul(s);return 1===A.rank&&(t=t.sum(n)),t.reshape(A.shape)},b=function(){var e=o.mul(l),r=t.mul(e);return 1===A.rank&&(r=r.sum(n)),r.reshape(A.shape)},x=function(){var e=t;return 1===A.rank&&(e=e.sum(n)),e.reshape(A.shape)};return{$x:I,$mean:v,$variance:y,$scale:b,$offset:x}},y=o.ENV.engine.runKernel(function(t){return t.batchNormalization(m,r(A),r(C),i,r(p),r(I))},{$x:f,$mean:A,$variance:C,$scale:p,$offset:I},v);return y.reshape(f.shape)},i([a.doc({heading:"Operations",subheading:"Normalization"})],t,"batchNormalization",null),t}();e.batchNormalization2d=h.op(p.batchNormalization2d),e.batchNormalization3d=h.op(p.batchNormalization3d),e.batchNormalization4d=h.op(p.batchNormalization4d),e.batchNormalization=h.op(p.batchNormalization)},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var i,a=arguments.length,o=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(o=(a<3?i(o):a>3?i(e,n,o):i(e,n))||o);return a>3&&o&&Object.defineProperty(e,n,o),o},i=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,a){function o(t){try{l(r.next(t))}catch(t){a(t)}}function s(t){try{l(r.throw(t))}catch(t){a(t)}}function l(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(o,s)}l((r=r.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;l;)try{if(i=1,a&&(o=2&n[0]?a.return:n[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,n[1])).done)return o;switch(a=0,o&&(n=[2&n[0],o.value]),n[0]){case 0:case 1:o=n;break;case 4:return l.label++,{value:n[1],done:!1};case 5:l.label++,a=n[1],n=[0];continue;case 7:n=l.ops.pop(),l.trys.pop();continue;default:if(o=l.trys,!(o=o.length>0&&o[o.length-1])&&(6===n[0]||2===n[0])){l=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3])){l.label=n[1];break}if(6===n[0]&&l.label<o[1]){l.label=o[1],o=n;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(n);break}o[2]&&l.ops.pop(),l.trys.pop();continue}n=e.call(t,l)}catch(t){n=[6,t],a=0}finally{i=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,a,o,s,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(e,"__esModule",{value:!0});var o=n(509),s=n(507),l=n(514),u=n(516),c=n(512),h=n(518),g=n(522),d=n(524),p=n(525),f=n(538),A=function(){function t(){}return t.clone=function(t){var e=u.convertToTensor(t,"x","clone"),n=function(t){return{$x:function(){return t.toFloat()}}};return s.ENV.engine.runKernel(function(t){return l.Tensor.make(e.shape,{dataId:e.dataId},e.dtype)},{$x:e},n)},t.eye=function(e,n,r,i){void 0===i&&(i="float32"),null==n&&(n=e);for(var a=t.buffer([e,n],i),o=e<=n?e:n,s=0;s<o;++s)a.set(1,s,s);var l=a.toTensor().as2D(e,n);if(null==r)return l;if(1===r.length)return t.tile(t.expandDims(l,0),[r[0],1,1]);if(2===r.length)return t.tile(t.expandDims(t.expandDims(l,0),0),[r[0],r[1],1,1]);if(3===r.length)return t.tile(t.expandDims(t.expandDims(t.expandDims(l,0),0),0),[r[0],r[1],r[2],1,1]);throw new Error("eye() currently supports only 1D and 2D "+("batchShapes, but received "+r.length+"D."))},t.randomNormal=function(e,n,r,i,a){if(void 0===n&&(n=0),void 0===r&&(r=1),null!=i&&"bool"===i)throw new Error("Unsupported data type "+i);for(var o=new p.MPRandGauss(n,r,i,!1,a),s=t.buffer(e,i),l=0;l<s.values.length;l++)s.values[l]=o.nextValue();return s.toTensor()},t.truncatedNormal=function(e,n,r,i,a){
if(void 0===n&&(n=0),void 0===r&&(r=1),null!=i&&"bool"===i)throw new Error("Unsupported data type "+i);for(var o=new p.MPRandGauss(n,r,i,!0,a),s=t.buffer(e,i),l=0;l<s.values.length;l++)s.values[l]=o.nextValue();return s.toTensor()},t.randomUniform=function(e,n,r,i){void 0===n&&(n=0),void 0===r&&(r=1),void 0===i&&(i="float32");for(var a=t.buffer(e,i),o=0;o<a.values.length;o++)a.values[o]=c.randUniform(n,r);return a.toTensor()},t.rand=function(t,e,n){var r=c.sizeFromShape(t),i=null;if(null==n||"float32"===n)i=new Float32Array(r);else if("int32"===n)i=new Int32Array(r);else{if("bool"!==n)throw new Error("Unknown data type "+n);i=new Uint8Array(r)}for(var a=0;a<r;a++)i[a]=e();return l.Tensor.make(t,{values:i},n)},t.multinomial=function(t,e,n,r){void 0===r&&(r=!1);var i=u.convertToTensor(t,"logits","multinomial"),a=i.size,o=i.rank;if(a<2)throw new Error("Error in multinomial: you need at least 2 outcomes, but got "+(a+"."));if(o>2)throw new Error("Rank of probabilities must be 1 or 2, but is "+o);n=n||Math.random();var l=1===o?i.as2D(1,-1):i,c=s.ENV.engine.runKernel(function(t){return t.multinomial(l,r,e,n)},{logits2D:l});return 1===o?c.as1D():c},t.oneHot=function(t,e,n,r){void 0===n&&(n=1),void 0===r&&(r=0);var i=u.convertToTensor(t,"indices","oneHot","int32");if(c.assert("int32"===i.dtype,"Indices must be of dtype `int32`"),e<2)throw new Error("Error in oneHot: depth must be >=2, but it is "+e);return s.ENV.engine.runKernel(function(t){return t.oneHot(i,e,n,r)},{$indices:i})},t.fromPixels=function(t,e){if(void 0===e&&(e=3),e>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");return s.ENV.engine.fromPixels(t,e)},t.toPixels=function(t,e){return i(this,void 0,void 0,function(){var n,r,i,o,s,l,c,h,g,d,p,f,A,C,I,m,v,y,b,x;return a(this,function(a){switch(a.label){case 0:if(n=u.convertToTensor(t,"img","toPixels","int32"),2!==n.rank&&3!==n.rank)throw new Error("toPixels only supports rank 2 or 3 tensors, got rank "+n.rank+".");if(r=n.shape.slice(0,2),i=r[0],o=r[1],s=2===n.rank?1:n.shape[2],s>4||2===s)throw new Error("toPixels only supports depth of size 1, 3 or 4 but got "+s);return l=n.min(),c=n.max(),[4,l.data()];case 1:return h=a.sent()[0],[4,c.data()];case 2:if(g=a.sent()[0],l.dispose(),c.dispose(),"float32"===n.dtype){if(h<0||g>1)throw new Error("Tensor values for a float32 Tensor must be in the "+("range [0 - 1] but got range ["+h+" - "+g+"]."))}else{if("int32"!==n.dtype)throw new Error("Unsupported type for toPixels: "+n.dtype+". Please use float32 or int32 tensors.");if(h<0||g>255)throw new Error("Tensor values for a int32 Tensor must be in the "+("range [0 - 255] but got range ["+h+" - "+g+"]."))}return[4,n.data()];case 3:for(d=a.sent(),p="float32"===n.dtype?255:1,f=new Uint8ClampedArray(o*i*4),A=0;A<i*o;++A)C=void 0,I=void 0,m=void 0,v=void 0,1===s?(C=d[A]*p,I=d[A]*p,m=d[A]*p,v=255):3===s?(C=d[3*A]*p,I=d[3*A+1]*p,m=d[3*A+2]*p,v=255):4===s&&(C=d[4*A]*p,I=d[4*A+1]*p,m=d[4*A+2]*p,v=d[4*A+3]*p),y=4*A,f[y+0]=Math.round(C),f[y+1]=Math.round(I),f[y+2]=Math.round(m),f[y+3]=Math.round(v);return null!=e&&(e.width=o,e.height=i,b=e.getContext("2d"),x=new ImageData(f,o,i),b.putImageData(x,0,0)),n!==t&&n.dispose(),[2,f]}})})},t.reshape=function(t,e){var n=u.convertToTensor(t,"x","reshape");e=c.inferFromImplicitShape(e,n.size),c.assert(n.size===c.sizeFromShape(e),"new shape and old shape must have the same number of elements.");var r=function(t){return{$x:function(){return t.reshape(n.shape)}}};return s.ENV.engine.runKernel(function(t){return t.reshape(n,e)},{$x:n},r)},t.squeeze=function(e,n){var r=u.convertToTensor(e,"x","squeeze");return t.reshape(r,c.squeezeShape(r.shape,n).newShape)},t.cast=function(t,e){var n=u.convertToTensor(t,"x","cast"),r=function(t){return{$x:function(){return t.clone()}}};return s.ENV.engine.runKernel(function(t){return t.cast(n,e)},{$x:n},r)},t.tile=function(t,e){var n=u.convertToTensor(t,"x","tile");c.assert(n.rank===e.length,"Error in transpose: rank of input "+n.rank+" "+("must match length of reps "+e+"."));var r=function(t){var r=function(){var r=f.zerosLike(n);if(1===n.rank)for(var i=0;i<e[0];++i)r=r.add(t.slice([i*n.shape[0]],[n.shape[0]]));else if(2===n.rank)for(var i=0;i<e[0];++i)for(var a=0;a<e[1];++a)r=r.add(t.slice([i*n.shape[0],a*n.shape[1]],[n.shape[0],n.shape[1]]));else if(3===n.rank)for(var i=0;i<e[0];++i)for(var a=0;a<e[1];++a)for(var o=0;o<e[2];++o)r=r.add(t.slice([i*n.shape[0],a*n.shape[1],o*n.shape[2]],[n.shape[0],n.shape[1],n.shape[2]]));else{if(4!==n.rank)throw new Error("Gradient for tile operation is not implemented for rank-"+(n.rank+" tensors yet."));for(var i=0;i<e[0];++i)for(var a=0;a<e[1];++a)for(var o=0;o<e[2];++o)for(var s=0;s<e[3];++s)r=r.add(t.slice([i*n.shape[0],a*n.shape[1],o*n.shape[2],s*n.shape[3]],[n.shape[0],n.shape[1],n.shape[2],n.shape[3]]))}return r};return{$x:r}};return s.ENV.engine.runKernel(function(t){return t.tile(n,e)},{$x:n},r)},t.pad1d=function(e,n,r){return void 0===r&&(r=0),c.assert(2===n.length,"Invalid number of paddings. Must be length of 2."),t.pad(e,[n],r)},t.pad2d=function(e,n,r){return void 0===r&&(r=0),c.assert(2===n.length&&2===n[0].length&&2===n[1].length,"Invalid number of paddings. Must be length of 2 each."),t.pad(e,n,r)},t.pad3d=function(e,n,r){return void 0===r&&(r=0),c.assert(3===n.length&&2===n[0].length&&2===n[1].length&&2===n[2].length,"Invalid number of paddings. Must be length of 2 each."),t.pad(e,n,r)},t.pad4d=function(e,n,r){return void 0===r&&(r=0),c.assert(4===n.length&&2===n[0].length&&2===n[1].length&&2===n[2].length&&2===n[3].length,"Invalid number of paddings. Must be length of 2 each."),t.pad(e,n,r)},t.pad=function(t,e,n){void 0===n&&(n=0);var r=u.convertToTensor(t,"x","pad");if(0===r.rank)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");var i=e.map(function(t){return t[0]}),a=function(t){return{$x:function(){return t.slice(i,r.shape)}}};return s.ENV.engine.runKernel(function(t){return t.pad(r,e,n)},{$x:r},a)},t.stack=function(t,e){void 0===e&&(e=0);var n=u.convertToTensorArray(t,"tensors","stack");if(c.assert(n.length>=1,"Pass at least one tensor to tf.stack"),1===n.length)return n[0].expandDims(e);var r=n[0].rank,i=n[0].shape,a=n[0].dtype;c.assert(e<=r,"Axis must be <= rank of the tensor"),n.forEach(function(t){c.assertShapesMatch(i,t.shape,"All tensors passed to stack must have matching shapes")}),n.forEach(function(t){c.assert(a===t.dtype,"All tensors passed to stack must have matching dtypes")});var o=n.map(function(t){return t.expandDims(e)});return g.concat(o,e)},t.unstack=function(t,e){void 0===e&&(e=0);for(var n=u.convertToTensor(t,"x","unstack"),r=n.shape[e],i=Array(n.rank-1).fill(0),a=0,o=0;o<n.rank;o++)o!==e&&(i[a]=n.shape[o],a++);var s;s=Array(r).fill(1);var l=Array(n.rank).fill(0),c=n.shape.slice();return s.map(function(t){c[e]=t;var r=n.slice(l,c);return l[e]+=t,r.reshape(i)})},t.split=function(t,e,n){void 0===n&&(n=0);var r=u.convertToTensor(t,"x","split");n=h.parseAxisParam(n,r.shape)[0];var i;"number"==typeof e?(c.assert(r.shape[n]%e===0,"Number of splits must evenly divide the axis."),i=Array(e).fill(r.shape[n]/e)):(c.assert(r.shape[n]===e.reduce(function(t,e){return t+e}),"The sum of sizes must match the size of the axis dimension."),i=e);var a=Array(r.rank).fill(0),o=r.shape.slice();return i.map(function(t){o[n]=t;var e=r.slice(a,o);return a[n]+=t,e})},t.cumsum=function(t,e,n,r){void 0===e&&(e=0),void 0===n&&(n=!1),void 0===r&&(r=!1);var i=u.convertToTensor(t,"x","cumsum");e|=0;var a=h.getAxesPermutation([e],i.rank),o=i;null!=a&&(o=i.transpose(a));var l=h.getInnerMostAxes(1,i.rank)[0],c=function(t){return{permutedX:function(){return t.cumsum(e,n,!r)}}},g=s.ENV.engine.runKernel(function(t){return t.cumsum(o,l,n,r)},{permutedX:o},c);return null!=a&&(g=g.transpose(a)),g},t.expandDims=function(e,n){void 0===n&&(n=0);var r=u.convertToTensor(e,"x","expandDims");c.assert(n<=r.rank,"Axis must be <= rank of the tensor");var i=r.shape.slice();return n<0&&(c.assert(-(r.rank+1)<=n,"Axis must be in the interval ["+-(r.rank+1)+", "+r.rank+"]"),n=r.rank+n+1),i.splice(n,0,1),t.reshape(r,i)},t.buffer=function(t,e,n){return void 0===e&&(e="float32"),new l.TensorBuffer(t,e,n)},t.print=function(t,e){void 0===e&&(e=!1),console.log(t.toString(e))},r([o.doc({heading:"Tensors",subheading:"Creation"})],t,"clone",null),r([o.doc({heading:"Tensors",subheading:"Creation"})],t,"eye",null),r([o.doc({heading:"Tensors",subheading:"Random"})],t,"randomNormal",null),r([o.doc({heading:"Tensors",subheading:"Creation"})],t,"truncatedNormal",null),r([o.doc({heading:"Tensors",subheading:"Random"})],t,"randomUniform",null),r([o.doc({heading:"Tensors",subheading:"Random"})],t,"multinomial",null),r([o.doc({heading:"Tensors",subheading:"Creation"})],t,"oneHot",null),r([o.doc({heading:"Tensors",subheading:"Creation"})],t,"fromPixels",null),r([o.doc({heading:"Visualization"})],t,"toPixels",null),r([o.doc({heading:"Tensors",subheading:"Transformations"})],t,"reshape",null),r([o.doc({heading:"Tensors",subheading:"Transformations"})],t,"squeeze",null),r([o.doc({heading:"Tensors",subheading:"Transformations"})],t,"cast",null),r([o.doc({heading:"Tensors",subheading:"Slicing and Joining"})],t,"tile",null),r([o.doc({heading:"Tensors",subheading:"Transformations"})],t,"pad",null),r([o.doc({heading:"Tensors",subheading:"Slicing and Joining"})],t,"stack",null),r([o.doc({heading:"Tensors",subheading:"Slicing and Joining"})],t,"unstack",null),r([o.doc({heading:"Tensors",subheading:"Slicing and Joining"})],t,"split",null),r([o.doc({heading:"Operations",subheading:"Scan"})],t,"cumsum",null),r([o.doc({heading:"Tensors",subheading:"Transformations"})],t,"expandDims",null),r([o.doc({heading:"Tensors",subheading:"Creation"})],t,"buffer",null),r([o.doc({heading:"Tensors",subheading:"Creation"})],t,"print",null),t}();e.buffer=A.buffer,e.toPixels=A.toPixels,e.cast=d.op(A.cast),e.clone=d.op(A.clone),e.cumsum=d.op(A.cumsum),e.expandDims=d.op(A.expandDims),e.eye=d.op(A.eye),e.fromPixels=d.op(A.fromPixels),e.multinomial=d.op(A.multinomial),e.oneHot=d.op(A.oneHot),e.pad=d.op(A.pad),e.pad1d=d.op(A.pad1d),e.pad2d=d.op(A.pad2d),e.pad3d=d.op(A.pad3d),e.pad4d=d.op(A.pad4d),e.print=d.op(A.print),e.rand=d.op(A.rand),e.randomNormal=d.op(A.randomNormal),e.randomUniform=d.op(A.randomUniform),e.reshape=d.op(A.reshape),e.split=d.op(A.split),e.squeeze=d.op(A.squeeze),e.stack=d.op(A.stack),e.tile=d.op(A.tile),e.truncatedNormal=d.op(A.truncatedNormal),e.unstack=d.op(A.unstack)},function(t,e,n){"use strict";function r(t,e,n){c.assertParams(t.shape,e.shape,n);var r=c.computeOutShape(t.shape,e.shape,n),i=t.as2D(-1,l.sizeFromShape(t.shape.slice(n))),a=e.as2D(-1,l.sizeFromShape(e.shape.slice(n))),s=c.computeGradientSliceShapes(i.shape,a.shape),u=s.aBegin,h=s.aSize,g=s.bBegin,d=s.bSize,p=function(t){return{a:function(){return t.slice(u,h)},b:function(){return t.slice(g,d)}}},f=o.ENV.engine.runKernel(function(t){return t.concat(i,a)},{a:i,b:a},p);return f.reshape(r)}var i=this&&this.__decorate||function(t,e,n,r){var i,a=arguments.length,o=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(o=(a<3?i(o):a>3?i(e,n,o):i(e,n))||o);return a>3&&o&&Object.defineProperty(e,n,o),o};Object.defineProperty(e,"__esModule",{value:!0});var a=n(509),o=n(507),s=n(516),l=n(512),u=n(518),c=n(523),h=n(524),g=function(){function t(){}return t.concat1d=function(e){return t.concat(e,0)},t.concat2d=function(e,n){return t.concat(e,n)},t.concat3d=function(e,n){return t.concat(e,n)},t.concat4d=function(e,n){return t.concat(e,n)},t.concat=function(t,e){void 0===e&&(e=0),l.assert(t.length>=1,"Pass at least one tensor to concat");var n=s.convertToTensorArray(t,"tensors","concat"),i=n[0];if(1===n.length)return i;for(var a=u.parseAxisParam(e,i.shape),o=1;o<n.length;++o)i=r(i,n[o],a[0]);return i},i([a.doc({heading:"Tensors",subheading:"Slicing and Joining"})],t,"concat",null),t}();e.concat=h.op(g.concat),e.concat1d=h.op(g.concat1d),e.concat2d=h.op(g.concat2d),e.concat3d=h.op(g.concat3d),e.concat4d=h.op(g.concat4d)},function(t,e,n){"use strict";function r(t,e,n){var r=t.length,i=e.length;o.assert(t.length===e.length,"Error in concat"+r+"D: rank of x1 ("+r+") and x2 ("+i+") must be the same."),o.assert(n>=0&&n<r,"Error in concat"+r+"D: axis must be "+("between 0 and "+(r-1)+"."));for(var a=0;a<r;a++)o.assert(a===n||t[a]===e[a],"Error in concat"+r+"D: Shape ("+t+") does not match "+("("+e+") along the non-concatenated axis "+a+"."))}function i(t,e,n){o.assert(t.length===e.length,"x1 and x2 should have the same rank.");var r=t.slice();return r[n]+=e[n],r}function a(t,e){return{aBegin:[0,0],aSize:t,bBegin:[0,t[1]],bSize:e}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(512);e.assertParams=r,e.computeOutShape=i,e.computeGradientSliceShapes=a},function(t,e,n){"use strict";function r(t){var e=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];i.ENV.engine.startScope(t.name);try{var r=t.apply(void 0,e);return r instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),i.ENV.engine.endScope(r),r}catch(t){throw i.ENV.engine.endScope(null),t}};return e}Object.defineProperty(e,"__esModule",{value:!0});var i=n(507);e.op=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(526),i=function(){function t(t,e,n,i,a){this.mean=t,this.stdDev=e,this.dtype=n,this.nextVal=NaN,this.truncated=i,this.truncated&&(this.upper=this.mean+2*this.stdDev,this.lower=this.mean-2*this.stdDev);var o=a?a:Math.random();this.random=r.alea(o.toString())}return t.prototype.nextValue=function(){if(!isNaN(this.nextVal)){var t=this.nextVal;return this.nextVal=NaN,t}for(var e,n,r=!1;!r;){var i=void 0,a=void 0,o=void 0;do i=2*this.random()-1,a=2*this.random()-1,o=i*i+a*a;while(o>=1||0===o);var s=Math.sqrt(-2*Math.log(o)/o);e=this.mean+this.stdDev*i*s,n=this.mean+this.stdDev*a*s,this.truncated&&!this.isValidTruncated(e)||(r=!0)}return this.truncated&&!this.isValidTruncated(n)||(this.nextVal=this.convertValue(n)),this.convertValue(e)},t.prototype.convertValue=function(t){return null==this.dtype||"float32"===this.dtype?t:Math.round(t)},t.prototype.isValidTruncated=function(t){return t<=this.upper&&t>=this.lower},t}();e.MPRandGauss=i},function(t,e,n){var r=n(527),i=n(531),a=n(532),o=n(533),s=n(534),l=n(535),u=n(536);u.alea=r,u.xor128=i,u.xorwow=a,u.xorshift7=o,u.xor4096=s,u.tychei=l,t.exports=u},function(t,e,n){var r;(function(t){!function(t,i,a){function o(t){var e=this,n=u();e.next=function(){var t=2091639*e.s0+2.3283064365386963e-10*e.c;return e.s0=e.s1,e.s1=e.s2,e.s2=t-(e.c=0|t)},e.c=1,e.s0=n(" "),e.s1=n(" "),e.s2=n(" "),e.s0-=n(t),e.s0<0&&(e.s0+=1),e.s1-=n(t),e.s1<0&&(e.s1+=1),e.s2-=n(t),e.s2<0&&(e.s2+=1),n=null}function s(t,e){return e.c=t.c,e.s0=t.s0,e.s1=t.s1,e.s2=t.s2,e}function l(t,e){var n=new o(t),r=e&&e.state,i=n.next;return i.int32=function(){return 4294967296*n.next()|0},i.double=function(){return i()+1.1102230246251565e-16*(2097152*i()|0)},i.quick=i,r&&("object"==typeof r&&s(r,n),i.state=function(){return s(n,{})}),i}function u(){var t=4022871197,e=function(e){e=e.toString();for(var n=0;n<e.length;n++){t+=e.charCodeAt(n);var r=.02519603282416938*t;t=r>>>0,r-=t,r*=t,t=r>>>0,r-=t,t+=4294967296*r}return 2.3283064365386963e-10*(t>>>0)};return e}i&&i.exports?i.exports=l:n(529)&&n(530)?(r=function(){return l}.call(e,n,e,i),!(void 0!==r&&(i.exports=r))):this.alea=l}(this,"object"==typeof t&&t,n(529))}).call(e,n(528)(t))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,e){t.exports=function(){throw new Error("define cannot be used indirect")}},function(t,e){(function(e){t.exports=e}).call(e,{})},function(t,e,n){var r;(function(t){!function(t,i,a){function o(t){var e=this,n="";e.x=0,e.y=0,e.z=0,e.w=0,e.next=function(){var t=e.x^e.x<<11;return e.x=e.y,e.y=e.z,e.z=e.w,e.w^=e.w>>>19^t^t>>>8},t===(0|t)?e.x=t:n+=t;for(var r=0;r<n.length+64;r++)e.x^=0|n.charCodeAt(r),e.next()}function s(t,e){return e.x=t.x,e.y=t.y,e.z=t.z,e.w=t.w,e}function l(t,e){var n=new o(t),r=e&&e.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do var t=n.next()>>>11,e=(n.next()>>>0)/4294967296,r=(t+e)/(1<<21);while(0===r);return r},i.int32=n.next,i.quick=i,r&&("object"==typeof r&&s(r,n),i.state=function(){return s(n,{})}),i}i&&i.exports?i.exports=l:n(529)&&n(530)?(r=function(){return l}.call(e,n,e,i),!(void 0!==r&&(i.exports=r))):this.xor128=l}(this,"object"==typeof t&&t,n(529))}).call(e,n(528)(t))},function(t,e,n){var r;(function(t){!function(t,i,a){function o(t){var e=this,n="";e.next=function(){var t=e.x^e.x>>>2;return e.x=e.y,e.y=e.z,e.z=e.w,e.w=e.v,(e.d=e.d+362437|0)+(e.v=e.v^e.v<<4^(t^t<<1))|0},e.x=0,e.y=0,e.z=0,e.w=0,e.v=0,t===(0|t)?e.x=t:n+=t;for(var r=0;r<n.length+64;r++)e.x^=0|n.charCodeAt(r),r==n.length&&(e.d=e.x<<10^e.x>>>4),e.next()}function s(t,e){return e.x=t.x,e.y=t.y,e.z=t.z,e.w=t.w,e.v=t.v,e.d=t.d,e}function l(t,e){var n=new o(t),r=e&&e.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do var t=n.next()>>>11,e=(n.next()>>>0)/4294967296,r=(t+e)/(1<<21);while(0===r);return r},i.int32=n.next,i.quick=i,r&&("object"==typeof r&&s(r,n),i.state=function(){return s(n,{})}),i}i&&i.exports?i.exports=l:n(529)&&n(530)?(r=function(){return l}.call(e,n,e,i),!(void 0!==r&&(i.exports=r))):this.xorwow=l}(this,"object"==typeof t&&t,n(529))}).call(e,n(528)(t))},function(t,e,n){var r;(function(t){!function(t,i,a){function o(t){function e(t,e){var n,r,i=[];if(e===(0|e))r=i[0]=e;else for(e=""+e,n=0;n<e.length;++n)i[7&n]=i[7&n]<<15^e.charCodeAt(n)+i[n+1&7]<<13;for(;i.length<8;)i.push(0);for(n=0;n<8&&0===i[n];++n);for(r=8==n?i[7]=-1:i[n],t.x=i,t.i=0,n=256;n>0;--n)t.next()}var n=this;n.next=function(){var t,e,r=n.x,i=n.i;return t=r[i],t^=t>>>7,e=t^t<<24,t=r[i+1&7],e^=t^t>>>10,t=r[i+3&7],e^=t^t>>>3,t=r[i+4&7],e^=t^t<<7,t=r[i+7&7],t^=t<<13,e^=t^t<<9,r[i]=e,n.i=i+1&7,e},e(n,t)}function s(t,e){return e.x=t.x.slice(),e.i=t.i,e}function l(t,e){null==t&&(t=+new Date);var n=new o(t),r=e&&e.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do var t=n.next()>>>11,e=(n.next()>>>0)/4294967296,r=(t+e)/(1<<21);while(0===r);return r},i.int32=n.next,i.quick=i,r&&(r.x&&s(r,n),i.state=function(){return s(n,{})}),i}i&&i.exports?i.exports=l:n(529)&&n(530)?(r=function(){return l}.call(e,n,e,i),!(void 0!==r&&(i.exports=r))):this.xorshift7=l}(this,"object"==typeof t&&t,n(529))}).call(e,n(528)(t))},function(t,e,n){var r;(function(t){!function(t,i,a){function o(t){function e(t,e){var n,r,i,a,o,s=[],l=128;for(e===(0|e)?(r=e,e=null):(e+="\0",r=0,l=Math.max(l,e.length)),i=0,a=-32;a<l;++a)e&&(r^=e.charCodeAt((a+32)%e.length)),0===a&&(o=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,a>=0&&(o=o+1640531527|0,n=s[127&a]^=r+o,i=0==n?i+1:0);for(i>=128&&(s[127&(e&&e.length||0)]=-1),i=127,a=512;a>0;--a)r=s[i+34&127],n=s[i=i+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,s[i]=r^n;t.w=o,t.X=s,t.i=i}var n=this;n.next=function(){var t,e,r=n.w,i=n.X,a=n.i;return n.w=r=r+1640531527|0,e=i[a+34&127],t=i[a=a+1&127],e^=e<<13,t^=t<<17,e^=e>>>15,t^=t>>>12,e=i[a]=e^t,n.i=a,e+(r^r>>>16)|0},e(n,t)}function s(t,e){return e.i=t.i,e.w=t.w,e.X=t.X.slice(),e}function l(t,e){null==t&&(t=+new Date);var n=new o(t),r=e&&e.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do var t=n.next()>>>11,e=(n.next()>>>0)/4294967296,r=(t+e)/(1<<21);while(0===r);return r},i.int32=n.next,i.quick=i,r&&(r.X&&s(r,n),i.state=function(){return s(n,{})}),i}i&&i.exports?i.exports=l:n(529)&&n(530)?(r=function(){return l}.call(e,n,e,i),!(void 0!==r&&(i.exports=r))):this.xor4096=l}(this,"object"==typeof t&&t,n(529))}).call(e,n(528)(t))},function(t,e,n){var r;(function(t){!function(t,i,a){function o(t){var e=this,n="";e.next=function(){var t=e.b,n=e.c,r=e.d,i=e.a;return t=t<<25^t>>>7^n,n=n-r|0,r=r<<24^r>>>8^i,i=i-t|0,e.b=t=t<<20^t>>>12^n,e.c=n=n-r|0,e.d=r<<16^n>>>16^i,e.a=i-t|0},e.a=0,e.b=0,e.c=-1640531527,e.d=1367130551,t===Math.floor(t)?(e.a=t/4294967296|0,e.b=0|t):n+=t;for(var r=0;r<n.length+20;r++)e.b^=0|n.charCodeAt(r),e.next()}function s(t,e){return e.a=t.a,e.b=t.b,e.c=t.c,e.d=t.d,e}function l(t,e){var n=new o(t),r=e&&e.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do var t=n.next()>>>11,e=(n.next()>>>0)/4294967296,r=(t+e)/(1<<21);while(0===r);return r},i.int32=n.next,i.quick=i,r&&("object"==typeof r&&s(r,n),i.state=function(){return s(n,{})}),i}i&&i.exports?i.exports=l:n(529)&&n(530)?(r=function(){return l}.call(e,n,e,i),!(void 0!==r&&(i.exports=r))):this.tychei=l}(this,"object"==typeof t&&t,n(529))}).call(e,n(528)(t))},function(t,e,n){var r;!function(i,a){function o(t,e,n){var r=[];e=1==e?{entropy:!0}:e||{};var o=c(u(e.entropy?[t,g(i)]:null==t?h():t,3),r),d=new s(r),p=function(){for(var t=d.g(A),e=m,n=0;t<v;)t=(t+n)*f,e*=f,n=d.g(1);for(;t>=y;)t/=2,e/=2,n>>>=1;return(t+n)/e};return p.int32=function(){return 0|d.g(4)},p.quick=function(){return d.g(4)/4294967296},p.double=p,c(g(d.S),i),(e.pass||n||function(t,e,n,r){return r&&(r.S&&l(r,d),t.state=function(){return l(d,{})}),n?(a[I]=t,e):t})(p,o,"global"in e?e.global:this==a,e.state)}function s(t){var e,n=t.length,r=this,i=0,a=r.i=r.j=0,o=r.S=[];for(n||(t=[n++]);i<f;)o[i]=i++;for(i=0;i<f;i++)o[i]=o[a=b&a+t[i%n]+(e=o[i])],o[a]=e;(r.g=function(t){for(var e,n=0,i=r.i,a=r.j,o=r.S;t--;)e=o[i=b&i+1],n=n*f+o[b&(o[i]=o[a=b&a+e])+(o[a]=e)];return r.i=i,r.j=a,n})(f)}function l(t,e){return e.i=t.i,e.j=t.j,e.S=t.S.slice(),e}function u(t,e){var n,r=[],i=typeof t;if(e&&"object"==i)for(n in t)try{r.push(u(t[n],e-1))}catch(t){}return r.length?r:"string"==i?t:t+"\0"}function c(t,e){for(var n,r=t+"",i=0;i<r.length;)e[b&i]=b&(n^=19*e[b&i])+r.charCodeAt(i++);return g(e)}function h(){try{var t;return d&&(t=d.randomBytes)?t=t(f):(t=new Uint8Array(f),(p.crypto||p.msCrypto).getRandomValues(t)),g(t)}catch(t){var e=p.navigator,n=e&&e.plugins;return[+new Date,p,n,p.screen,g(i)]}}function g(t){return String.fromCharCode.apply(0,t)}var d,p=this,f=256,A=6,C=52,I="random",m=a.pow(f,A),v=a.pow(2,C),y=2*v,b=f-1;if(a["seed"+I]=o,c(a.random(),i),"object"==typeof t&&t.exports){t.exports=o;try{d=n(537)}catch(t){}}else r=function(){return o}.call(e,n,e,t),!(void 0!==r&&(t.exports=r))}([],Math)},function(t,e){},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var i,a=arguments.length,o=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(o=(a<3?i(o):a>3?i(e,n,o):i(e,n))||o);return a>3&&o&&Object.defineProperty(e,n,o),o};Object.defineProperty(e,"__esModule",{value:!0});var i=n(509),a=n(514),o=n(516),s=n(512),l=n(524),u=function(){function t(){}return t.tensor=function(t,e,n){if(void 0===n&&(n="float32"),!s.isTypedArray(t)&&!Array.isArray(t)&&"number"!=typeof t&&"boolean"!=typeof t)throw new Error("values passed to tensor(values) must be an array of numbers or booleans, or a TypedArray");var r=s.inferShape(t);return null!=e&&1!==r.length&&s.assertShapesMatch(e,r,"Error creating a new Tensor. "+("Inferred shape ("+r+") does not match the ")+("provided shape ("+e+"). ")),s.isTypedArray(t)||Array.isArray(t)||(t=[t]),e=e||r,a.Tensor.make(e,{values:s.toTypedArray(t,n)},n)},t.scalar=function(e,n){if(void 0===n&&(n="float32"),s.isTypedArray(e)||Array.isArray(e))throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean)");return t.tensor(e,[],n)},t.tensor1d=function(e,n){void 0===n&&(n="float32"),s.assertNonNull(e);var r=s.inferShape(e);if(1!==r.length)throw new Error("tensor1d() requires values to be a flat/TypedArray");return t.tensor(e,r,n)},t.tensor2d=function(e,n,r){if(void 0===r&&(r="float32"),s.assertNonNull(e),null!=n&&2!==n.length)throw new Error("tensor2d() requires shape to have two numbers");var i=s.inferShape(e);if(2!==i.length&&1!==i.length)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(1===i.length&&null==n)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return n=n||i,t.tensor(e,n,r)},t.tensor3d=function(e,n,r){if(void 0===r&&(r="float32"),s.assertNonNull(e),null!=n&&3!==n.length)throw new Error("tensor3d() requires shape to have three numbers");var i=s.inferShape(e);if(3!==i.length&&1!==i.length)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(1===i.length&&null==n)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return n=n||i,t.tensor(e,n,r)},t.tensor4d=function(e,n,r){if(void 0===r&&(r="float32"),s.assertNonNull(e),null!=n&&4!==n.length)throw new Error("tensor4d() requires shape to have four numbers");var i=s.inferShape(e);if(4!==i.length&&1!==i.length)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(1===i.length&&null==n)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return n=n||i,t.tensor(e,n,r)},t.tensor5d=function(e,n,r){if(void 0===r&&(r="float32"),s.assertNonNull(e),null!=n&&5!==n.length)throw new Error("tensor5d() requires shape to have five numbers");var i=s.inferShape(e);if(5!==i.length&&1!==i.length)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(1===i.length&&null==n)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return n=n||i,t.tensor(e,n,r)},t.tensor6d=function(e,n,r){if(void 0===r&&(r="float32"),s.assertNonNull(e),null!=n&&6!==n.length)throw new Error("tensor6d() requires shape to have six numbers");var i=s.inferShape(e);if(6!==i.length&&1!==i.length)throw new Error("tensor6d() requires values to be number[][][][] or flat/TypedArray");if(1===i.length&&null==n)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return n=n||i,t.tensor(e,n,r)},t.ones=function(t,e){void 0===e&&(e="float32");var n=s.makeOnesTypedArray(s.sizeFromShape(t),e);return a.Tensor.make(t,{values:n},e)},t.zeros=function(t,e){void 0===e&&(e="float32");var n=s.makeZerosTypedArray(s.sizeFromShape(t),e);return a.Tensor.make(t,{values:n},e)},t.fill=function(t,e,n){void 0===n&&(n="float32");var r=s.getTypedArrayFromDType(n,s.sizeFromShape(t));return r.fill(e),a.Tensor.make(t,{values:r},n)},t.onesLike=function(e){var n=o.convertToTensor(e,"x","onesLike");return t.ones(n.shape,n.dtype)},t.zerosLike=function(e){var n=o.convertToTensor(e,"x","zerosLike");return t.zeros(n.shape,n.dtype)},t.linspace=function(e,n,r){if(0===r)throw new Error("Cannot request zero samples");var i=(n-e)/(r-1),a=s.makeZerosTypedArray(r,"float32");a[0]=e;for(var o=1;o<a.length;o++)a[o]=a[o-1]+i;return t.tensor1d(a,"float32")},t.range=function(e,n,r,i){if(void 0===r&&(r=1),void 0===i&&(i="float32"),0===r)throw new Error("Cannot have a step of zero");var a=e===n,o=e<n&&r<0,l=n<e&&r>1;if(a||o||l)return t.zeros([0],i);var u=Math.abs(Math.ceil((n-e)/r)),c=s.makeZerosTypedArray(u,i);n<e&&1===r&&(r=-1),c[0]=e;for(var h=1;h<c.length;h++)c[h]=c[h-1]+r;return t.tensor1d(c,i)},r([i.doc({heading:"Tensors",subheading:"Creation"})],t,"tensor",null),r([i.doc({heading:"Tensors",subheading:"Creation"})],t,"scalar",null),r([i.doc({heading:"Tensors",subheading:"Creation"})],t,"tensor1d",null),r([i.doc({heading:"Tensors",subheading:"Creation"})],t,"tensor2d",null),r([i.doc({heading:"Tensors",subheading:"Creation"})],t,"tensor3d",null),r([i.doc({heading:"Tensors",subheading:"Creation"})],t,"tensor4d",null),r([i.doc({heading:"Tensors",subheading:"Creation"})],t,"tensor5d",null),r([i.doc({heading:"Tensors",subheading:"Creation"})],t,"tensor6d",null),r([i.doc({heading:"Tensors",subheading:"Creation"})],t,"ones",null),r([i.doc({heading:"Tensors",subheading:"Creation"})],t,"zeros",null),r([i.doc({heading:"Tensors",subheading:"Creation"})],t,"fill",null),r([i.doc({heading:"Tensors",subheading:"Creation"})],t,"onesLike",null),r([i.doc({heading:"Tensors",subheading:"Creation"})],t,"zerosLike",null),r([i.doc({heading:"Tensors",subheading:"Creation"})],t,"linspace",null),r([i.doc({heading:"Tensors",subheading:"Creation"})],t,"range",null),t}();e.fill=u.fill,e.linspace=u.linspace,e.ones=u.ones,e.range=u.range,e.scalar=u.scalar,e.tensor=u.tensor,e.tensor1d=u.tensor1d,e.tensor2d=u.tensor2d,e.tensor3d=u.tensor3d,e.tensor4d=u.tensor4d,e.tensor5d=u.tensor5d,e.tensor6d=u.tensor6d,e.zeros=u.zeros,e.onesLike=l.op(u.onesLike),e.zerosLike=l.op(u.zerosLike)},function(t,e){"use strict";function n(t,e){for(var n=t.length,r=[],i=0;i<n;i++){var a=n-1-i,o=t[a]||1,s=e[e.length-1-i]||1;s>1&&1===o&&r.unshift(a)}return r}function r(t,e){for(var n=[],r=0;r<e.length;r++){var i=t[t.length-r-1],a=e.length-r-1,o=e[a];(null==i||1===i&&o>1)&&n.unshift(a)}return n}function i(t){for(var e=0;e<t.length;e++)if(t[e]!==e)return!1;return!0}function a(t,e){for(var n=[],r="Operands could not be broadcast together with shapes "+(t+" and "+e+"."),i=Math.max(t.length,e.length),a=0;a<i;a++){var o=t[t.length-a-1]||1,s=e[e.length-a-1]||1;if(o>1&&s>1&&o!==s)throw Error(r);n.unshift(Math.max(o,s))}return n}Object.defineProperty(e,"__esModule",{value:!0}),e.getBroadcastDims=n,e.getReductionAxes=r,e.broadcastDimsAreOuter=i,e.assertAndGetBroadcastShape=a},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var i,a=arguments.length,o=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(o=(a<3?i(o):a>3?i(e,n,o):i(e,n))||o);return a>3&&o&&Object.defineProperty(e,n,o),o};Object.defineProperty(e,"__esModule",{value:!0});var i=n(509),a=n(507),o=n(516),s=n(512),l=n(524),u=n(538),c=function(){function t(){}return t.neg=function(t){var e=o.convertToTensor(t,"x","neg"),n=function(t){return{$x:function(){return t.neg()}}};return a.ENV.engine.runKernel(function(t){return t.neg(e)},{$x:e},n)},t.ceil=function(t){var e=o.convertToTensor(t,"x","ceil"),n=function(t){return{$x:function(){return u.zerosLike(t)}}};return a.ENV.engine.runKernel(function(t){return t.ceil(e)},{$x:e},n)},t.floor=function(t){var e=o.convertToTensor(t,"x","floor"),n=function(t){return{$x:function(){return u.zerosLike(t)}}};return a.ENV.engine.runKernel(function(t){return t.floor(e)},{$x:e},n)},t.sign=function(t){var e=o.convertToTensor(t,"x","sign"),n=function(t){return{$x:function(){return u.zerosLike(t)}}};return a.ENV.engine.runKernel(function(t){return t.sign(e)},{$x:e},n)},t.round=function(t){var e=o.convertToTensor(t,"x","round"),n=function(t){return{$x:function(){return u.zerosLike(t)}}};return a.ENV.engine.runKernel(function(t){return t.round(e)},{$x:e},n)},t.exp=function(t){var e=o.convertToTensor(t,"x","exp"),n=function(t,e){var n=e[0];return{$x:function(){return t.mulStrict(n)}}};return a.ENV.engine.runKernel(function(t,n){return n(t.exp(e))},{$x:e},n)},t.expm1=function(t){var e=o.convertToTensor(t,"x","expm1"),n=function(t){return{$x:function(){return t.mulStrict(e.exp())}}};return a.ENV.engine.runKernel(function(t){return t.expm1(e)},{$x:e},n)},t.log=function(t){var e=o.convertToTensor(t,"x","log"),n=function(t){return{$x:function(){return t.divStrict(e.toFloat())}}};return a.ENV.engine.runKernel(function(t){return t.log(e)},{$x:e},n)},t.log1p=function(t){var e=o.convertToTensor(t,"x","log1p"),n=function(t){return{$x:function(){return t.divStrict(e.add(u.scalar(1)))}}};return a.ENV.engine.runKernel(function(t){return t.log1p(e)},{$x:e},n)},t.sqrt=function(t){var e=o.convertToTensor(t,"x","sqrt"),n=function(t){return{$x:function(){return t.divStrict(e.toFloat().sqrt().mul(u.scalar(2)))}}};return a.ENV.engine.runKernel(function(t){return t.sqrt(e)},{$x:e},n)},t.rsqrt=function(t){var e=o.convertToTensor(t,"x","rsqrt"),n=function(t){return{$x:function(){return t.divStrict(e.pow(u.scalar(1.5)).mul(u.scalar(2))).neg();
}}};return a.ENV.engine.runKernel(function(t){return t.rsqrt(e)},{$x:e},n)},t.square=function(t){var e=o.convertToTensor(t,"x","square"),n=function(t){return{$x:function(){return t.mulStrict(e.toFloat().mul(u.scalar(2)))}}};return a.ENV.engine.runKernel(function(t){return t.square(e)},{$x:e},n)},t.reciprocal=function(t){var e=o.convertToTensor(t,"x","reciprocal"),n=function(t){return{$x:function(){return t.divStrict(e.square().neg())}}};return a.ENV.engine.runKernel(function(t){return t.reciprocal(e)},{$x:e},n)},t.abs=function(t){var e=o.convertToTensor(t,"x","abs"),n=function(t){return{$x:function(){return t.mulStrict(e.toFloat().step(-1))}}};return a.ENV.engine.runKernel(function(t){return t.abs(e)},{$x:e},n)},t.clipByValue=function(t,e,n){var r=o.convertToTensor(t,"x","clipByValue");s.assert(e<=n,"Error in clip: min ("+e+") must be "+("less than or equal to max ("+n+")."));var i=function(t){return{$x:function(){return t.where(r.greaterEqual(u.scalar(e)).logicalAnd(r.lessEqual(u.scalar(n))),u.zerosLike(t))}}};return a.ENV.engine.runKernel(function(t){return t.clip(r,e,n)},{$x:r},i)},t.sigmoid=function(t){var e=o.convertToTensor(t,"x","sigmoid"),n=function(t,e){var n=e[0];return{$x:function(){return t.mulStrict(n.mul(u.scalar(1).sub(n)))}}};return a.ENV.engine.runKernel(function(t,n){return n(t.sigmoid(e))},{$x:e},n)},t.logSigmoid=function(t){var e=o.convertToTensor(t,"x","logSigmoid"),n=function(t){return{$x:function(){return t.mulStrict(e.neg().sigmoid())}}};return a.ENV.engine.runKernel(function(t){return t.softplus(e.neg()).neg()},{$x:e},n)},t.softplus=function(t){var e=o.convertToTensor(t,"x","softplus"),n=function(t){return{$x:function(){return t.mulStrict(e.sigmoid())}}};return a.ENV.engine.runKernel(function(t){return t.softplus(e)},{$x:e},n)},t.sin=function(t){var e=o.convertToTensor(t,"x","sin"),n=function(t){return{$x:function(){return e.toFloat().cos().mulStrict(t)}}};return a.ENV.engine.runKernel(function(t){return t.sin(e)},{$x:e},n)},t.cos=function(t){var e=o.convertToTensor(t,"x","cos"),n=function(t){return{$x:function(){return e.toFloat().sin().neg().mulStrict(t)}}};return a.ENV.engine.runKernel(function(t){return t.cos(e)},{$x:e},n)},t.tan=function(t){var e=o.convertToTensor(t,"x","tan"),n=function(t){return{$x:function(){return t.divStrict(e.cos().square())}}};return a.ENV.engine.runKernel(function(t){return t.tan(e)},{$x:e},n)},t.asin=function(t){var e=o.convertToTensor(t,"x","asin"),n=function(t){return{$x:function(){return t.divStrict(u.scalar(1).sub(e.toFloat().square()).sqrt())}}};return a.ENV.engine.runKernel(function(t){return t.asin(e)},{$x:e},n)},t.acos=function(t){var e=o.convertToTensor(t,"x","acos"),n=function(t){return{$x:function(){return t.divStrict(u.scalar(1).sub(e.toFloat().square()).sqrt()).neg()}}};return a.ENV.engine.runKernel(function(t){return t.acos(e)},{$x:e},n)},t.atan=function(t){var e=o.convertToTensor(t,"x","atan"),n=function(t){return{$x:function(){return t.divStrict(u.scalar(1).add(e.toFloat().square()))}}};return a.ENV.engine.runKernel(function(t){return t.atan(e)},{$x:e},n)},t.sinh=function(t){var e=o.convertToTensor(t,"x","sinh"),n=function(t){return{$x:function(){return e.toFloat().cosh().mulStrict(t)}}};return a.ENV.engine.runKernel(function(t){return t.sinh(e)},{$x:e},n)},t.cosh=function(t){var e=o.convertToTensor(t,"x","cosh"),n=function(t){return{$x:function(){return e.toFloat().sinh().mulStrict(t)}}};return a.ENV.engine.runKernel(function(t){return t.cosh(e)},{$x:e},n)},t.tanh=function(t){var e=o.convertToTensor(t,"x","tanh"),n=function(t,e){var n=e[0];return{$x:function(){return u.scalar(1).sub(n.square()).mulStrict(t)}}};return a.ENV.engine.runKernel(function(t,n){return n(t.tanh(e))},{$x:e},n)},t.asinh=function(t){var e=o.convertToTensor(t,"x","asinh"),n=function(t){return{$x:function(){return t.divStrict(u.scalar(1).add(e.toFloat().square()).sqrt())}}};return a.ENV.engine.runKernel(function(t){return t.asinh(e)},{$x:e},n)},t.acosh=function(t){var e=o.convertToTensor(t,"x","acosh"),n=function(t){return{$x:function(){return t.divStrict(e.toFloat().square().sub(u.scalar(1)).sqrt())}}};return a.ENV.engine.runKernel(function(t){return t.acosh(e)},{$x:e},n)},t.atanh=function(t){var e=o.convertToTensor(t,"x","atanh"),n=function(t){return{$x:function(){return t.divStrict(u.scalar(1).sub(e.toFloat().square()))}}};return a.ENV.engine.runKernel(function(t){return t.atanh(e)},{$x:e},n)},t.erf=function(t){var e=o.convertToTensor(t,"x","erf");s.assert("int32"===e.dtype||"float32"===e.dtype,"Input dtype must be `int32` or `float32`."),"int32"===e.dtype&&(e=e.toFloat());var n=function(t){return{$x:function(){return t.mulStrict(u.scalar(2/Math.sqrt(Math.PI)).mul(e.square().neg().exp()))}}};return a.ENV.engine.runKernel(function(t){return t.erf(e)},{$x:e},n)},t.step=function(t,e){void 0===e&&(e=0);var n=o.convertToTensor(t,"x","step"),r=function(t){return{$x:function(){return u.zerosLike(t)}}};return a.ENV.engine.runKernel(function(t){return t.step(n,e)},{$x:n},r)},r([i.doc({heading:"Operations",subheading:"Basic math"})],t,"neg",null),r([i.doc({heading:"Operations",subheading:"Basic math"})],t,"ceil",null),r([i.doc({heading:"Operations",subheading:"Basic math"})],t,"floor",null),r([i.doc({heading:"Operations",subheading:"Basic math"})],t,"sign",null),r([i.doc({heading:"Operations",subheading:"Basic math"})],t,"round",null),r([i.doc({heading:"Operations",subheading:"Basic math"})],t,"exp",null),r([i.doc({heading:"Operations",subheading:"Basic math"})],t,"expm1",null),r([i.doc({heading:"Operations",subheading:"Basic math"})],t,"log",null),r([i.doc({heading:"Operations",subheading:"Basic math"})],t,"log1p",null),r([i.doc({heading:"Operations",subheading:"Basic math"})],t,"sqrt",null),r([i.doc({heading:"Operations",subheading:"Basic math"})],t,"rsqrt",null),r([i.doc({heading:"Operations",subheading:"Basic math"})],t,"square",null),r([i.doc({heading:"Operations",subheading:"Basic math"})],t,"reciprocal",null),r([i.doc({heading:"Operations",subheading:"Basic math"})],t,"abs",null),r([i.doc({heading:"Operations",subheading:"Basic math"})],t,"clipByValue",null),r([i.doc({heading:"Operations",subheading:"Basic math"})],t,"sigmoid",null),r([i.doc({heading:"Operations",subheading:"Basic math"})],t,"logSigmoid",null),r([i.doc({heading:"Operations",subheading:"Basic math"})],t,"softplus",null),r([i.doc({heading:"Operations",subheading:"Basic math"})],t,"sin",null),r([i.doc({heading:"Operations",subheading:"Basic math"})],t,"cos",null),r([i.doc({heading:"Operations",subheading:"Basic math"})],t,"tan",null),r([i.doc({heading:"Operations",subheading:"Basic math"})],t,"asin",null),r([i.doc({heading:"Operations",subheading:"Basic math"})],t,"acos",null),r([i.doc({heading:"Operations",subheading:"Basic math"})],t,"atan",null),r([i.doc({heading:"Operations",subheading:"Basic math"})],t,"sinh",null),r([i.doc({heading:"Operations",subheading:"Basic math"})],t,"cosh",null),r([i.doc({heading:"Operations",subheading:"Basic math"})],t,"tanh",null),r([i.doc({heading:"Operations",subheading:"Basic math"})],t,"asinh",null),r([i.doc({heading:"Operations",subheading:"Basic math"})],t,"acosh",null),r([i.doc({heading:"Operations",subheading:"Basic math"})],t,"atanh",null),r([i.doc({heading:"Operations",subheading:"Basic math"})],t,"erf",null),r([i.doc({heading:"Operations",subheading:"Basic math"})],t,"step",null),t}();e.abs=l.op(c.abs),e.acos=l.op(c.acos),e.acosh=l.op(c.acosh),e.asin=l.op(c.asin),e.asinh=l.op(c.asinh),e.atan=l.op(c.atan),e.atanh=l.op(c.atanh),e.ceil=l.op(c.ceil),e.clipByValue=l.op(c.clipByValue),e.cos=l.op(c.cos),e.cosh=l.op(c.cosh),e.erf=l.op(c.erf),e.exp=l.op(c.exp),e.expm1=l.op(c.expm1),e.floor=l.op(c.floor),e.log=l.op(c.log),e.log1p=l.op(c.log1p),e.logSigmoid=l.op(c.logSigmoid),e.neg=l.op(c.neg),e.reciprocal=l.op(c.reciprocal),e.round=l.op(c.round),e.rsqrt=l.op(c.rsqrt),e.sigmoid=l.op(c.sigmoid),e.sign=l.op(c.sign),e.sin=l.op(c.sin),e.sinh=l.op(c.sinh),e.softplus=l.op(c.softplus),e.sqrt=l.op(c.sqrt),e.square=l.op(c.square),e.step=l.op(c.step),e.tan=l.op(c.tan),e.tanh=l.op(c.tanh)},function(t,e,n){"use strict";function r(t){return"number"==typeof t?[t,t]:t}function i(t){var e=r(t),n=e[0],i=e[1];return 1===n&&1===i}function a(t,e){return i(t)||i(e)}function o(t,e,n,r){var i=e,a=!1;3===e.rank&&(a=!0,i=e.as4D(1,e.shape[0],e.shape[1],e.shape[2]));var o=c.ENV.engine.runKernel(function(t){return t.depthwiseConv2DDerInput(i,n,r)},{dy4D:i});return a?o.as3D(o.shape[1],o.shape[2],o.shape[3]):o}function s(t,e,n,r){var i=t;3===t.rank&&(i=t.as4D(1,t.shape[0],t.shape[1],t.shape[2]));var a=e;return 3===a.rank&&(a=e.as4D(1,e.shape[0],e.shape[1],e.shape[2])),c.ENV.engine.runKernel(function(t){return t.depthwiseConv2DDerFilter(i,a,r)},{x4D:i,dy4D:a})}var l=this&&this.__decorate||function(t,e,n,r){var i,a=arguments.length,o=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(o=(a<3?i(o):a>3?i(e,n,o):i(e,n))||o);return a>3&&o&&Object.defineProperty(e,n,o),o};Object.defineProperty(e,"__esModule",{value:!0});var u=n(509),c=n(507),h=n(516),g=n(512),d=n(542),p=n(524),f=function(){function t(){}return t.conv1d=function(e,n,r,i,o,s,l){void 0===o&&(o="NWC"),void 0===s&&(s=1);var u=h.convertToTensor(e,"x","conv1d"),c=h.convertToTensor(n,"filter","conv1d"),d=u,p=!1;2===u.rank&&(p=!0,d=u.as3D(1,u.shape[0],u.shape[1])),g.assert(3===d.rank,"Error in conv1d: input must be rank 3, but got rank "+d.rank+"."),g.assert(3===c.rank,"Error in conv1d: filter must be rank 3, but got rank "+(c.rank+".")),null!=l&&g.assert(g.isInt(i),"Error in conv1d: pad must be an integer when using, "+("dimRoundingMode "+l+" but got pad "+i+".")),g.assert(d.shape[2]===c.shape[1],"Error in conv1d: depth of input ("+d.shape[2]+") must match "+("input depth for filter "+c.shape[1]+".")),g.assert(a(r,s),"Error in conv1D: Either stride or dilation must be 1. "+("Got stride "+r+" and dilation '"+s+"'")),g.assert("NWC"===o,"Error in conv1d: got dataFormat of "+o+" but only NWC is currently supported.");var f=c.as4D(1,c.shape[0],c.shape[1],c.shape[2]),A=d.as4D(d.shape[0],1,d.shape[1],d.shape[2]),C=[1,r],I=[1,s],m="NHWC",v=t.conv2d(A,f,C,i,m,I,l);return p?v.as2D(v.shape[2],v.shape[3]):v.as3D(v.shape[0],v.shape[2],v.shape[3])},t.conv2d=function(e,n,r,o,s,l,u){void 0===s&&(s="NHWC"),void 0===l&&(l=[1,1]);var p=h.convertToTensor(e,"x","conv2d"),f=h.convertToTensor(n,"filter","conv2d"),A=p,C=!1;3===p.rank&&(C=!0,A=p.as4D(1,p.shape[0],p.shape[1],p.shape[2])),g.assert(4===A.rank,"Error in conv2d: input must be rank 4, but got rank "+A.rank+"."),g.assert(4===f.rank,"Error in conv2d: filter must be rank 4, but got rank "+(f.rank+".")),null!=u&&g.assert(g.isInt(o),"Error in conv2d: pad must be an integer when using, "+("dimRoundingMode "+u+" but got pad "+o+".")),g.assert(A.shape[3]===f.shape[2],"Error in conv2d: depth of input ("+A.shape[3]+") must match "+("input depth for filter "+f.shape[2]+".")),g.assert(a(r,l),"Error in conv2D: Either strides or dilations must be 1. "+("Got strides "+r+" and dilations '"+l+"'")),g.assert("NHWC"===s,"Error in conv2d: got dataFormat of "+s+" but only NHWC is currently supported.");var I=d.computeConv2DInfo(A.shape,f.shape,r,l,o,u),m=function(e){return g.assert(i(l),"Error in gradient of conv2D: dilation rates greater than 1 are not"+("yet supported in gradients. Got dilations '"+l+"'")),{x:function(){return t.conv2dDerInput(A.shape,e,f,r,o)},$filter:function(){return t.conv2dDerFilter(A,e,f.shape,r,o)}}},v=c.ENV.engine.runKernel(function(t){return t.conv2d(A,f,I)},{x:A,$filter:f},m);return C?v.as3D(v.shape[1],v.shape[2],v.shape[3]):v},t.conv2dDerInput=function(t,e,n,r,i,a){g.assert(t.length===e.rank,"Length of inShape "+("("+t.length+") and rank of dy ("+e.rank+") must match"));var o=t,s=e,l=!1;3===e.rank&&(l=!0,s=e.as4D(1,e.shape[0],e.shape[1],e.shape[2]),o=[1,t[0],t[1],t[2]]);var u=o[3],h=s.shape[3];g.assert(4===o.length,"Error in conv2dDerInput: inShape must be length 4, but got length "+(o.length+".")),g.assert(4===s.rank,"Error in conv2dDerInput: dy must be rank 4, but got rank "+s.rank),g.assert(4===n.rank,"Error in conv2dDerInput: filter must be rank 4, but got rank "+n.rank),g.assert(u===n.shape[2],"Error in conv2dDerInput: depth of input ("+u+") must "+("match input depth for filter "+n.shape[2]+".")),g.assert(h===n.shape[3],"Error in conv2dDerInput: depth of output ("+h+") must "+("match output depth for filter "+n.shape[3]+".")),null!=a&&g.assert(g.isInt(i),"Error in conv2dDerInput: pad must be an integer when using, "+("dimRoundingMode "+a+" but got pad "+i+"."));var p=1,f=d.computeConv2DInfo(o,n.shape,r,p,i,a),A=c.ENV.engine.runKernel(function(t){return t.conv2dDerInput(s,n,f)},{dy4D:s});return l?A.as3D(A.shape[1],A.shape[2],A.shape[3]):A},t.conv2dDerFilter=function(t,e,n,r,i,a){var o=t;3===t.rank&&(o=t.as4D(1,t.shape[0],t.shape[1],t.shape[2]));var s=e;3===s.rank&&(s=e.as4D(1,e.shape[0],e.shape[1],e.shape[2])),g.assert(4===o.rank,"Error in conv2dDerFilter: input must be rank 4, but got shape "+(o.shape+".")),g.assert(4===s.rank,"Error in conv2dDerFilter: dy must be rank 4, but got shape "+(s.shape+".")),g.assert(4===n.length,"Error in conv2dDerFilter: filterShape must be length 4, but got "+(n+".")),g.assert(o.shape[3]===n[2],"Error in conv2dDerFilter: depth of input "+o.shape[3]+") must "+("match input depth in filter ("+n[2]+".")),g.assert(s.shape[3]===n[3],"Error in conv2dDerFilter: depth of dy ("+s.shape[3]+") must "+("match output depth for filter ("+n[3]+").")),null!=a&&g.assert(g.isInt(i),"Error in conv2dDerFilter: pad must be an integer when using, "+("dimRoundingMode "+a+" but got pad "+i+"."));var l=1,u=d.computeConv2DInfo(o.shape,n,r,l,i,a);return c.ENV.engine.runKernel(function(t){return t.conv2dDerFilter(o,s,u)},{x4D:o,dy4D:s})},t.conv2dTranspose=function(e,n,r,i,a,o){var s=h.convertToTensor(e,"x","conv2dTranspose"),l=h.convertToTensor(n,"filter","conv2dTranspose");return t.conv2dDerInput(r,s,l,i,a,o)},t.depthwiseConv2d=function(t,e,n,r,l,u,p){void 0===l&&(l="NHWC"),void 0===u&&(u=[1,1]);var f=h.convertToTensor(t,"x","depthwiseConv2d"),A=h.convertToTensor(e,"filter","depthwiseConv2d"),C=f,I=!1;3===f.rank&&(I=!0,C=f.as4D(1,f.shape[0],f.shape[1],f.shape[2])),g.assert(4===C.rank,"Error in depthwiseConv2d: input must be rank 4, but got "+("rank "+C.rank+".")),g.assert(4===A.rank,"Error in depthwiseConv2d: filter must be rank 4, but got rank "+(A.rank+".")),g.assert(C.shape[3]===A.shape[2],"Error in depthwiseConv2d: number of input channels "+("("+C.shape[3]+") must match the inChannels dimension in ")+("filter "+A.shape[2]+".")),null==u&&(u=[1,1]),g.assert(a(n,u),"Error in depthwiseConv2d: Either strides or dilations must be 1. "+("Got strides "+n+" and dilations '"+u+"'")),null!=p&&g.assert(g.isInt(r),"Error in depthwiseConv2d: pad must be an integer when using, "+("dimRoundingMode "+p+" but got pad "+r+"."));var m=d.computeConv2DInfo(C.shape,A.shape,n,u,r,p,!0),v=function(t){return g.assert(i(u),"Error in gradient of depthwiseConv2d: dilation rates greater than "+("1 are not yet supported. Got dilations '"+u+"'")),{x:function(){return o(C.shape,t,A,m)},$filter:function(){return s(C,t,A.shape,m)}}},y=c.ENV.engine.runKernel(function(t){return t.depthwiseConv2D(C,A,m)},{x:C,$filter:A},v);return I?y.as3D(y.shape[1],y.shape[2],y.shape[3]):y},t.separableConv2d=function(e,n,r,i,a,o,s){void 0===o&&(o=[1,1]),void 0===s&&(s="NHWC");var l=h.convertToTensor(e,"x","separableConv2d"),u=h.convertToTensor(n,"depthwiseFilter","separableConv2d"),c=h.convertToTensor(r,"pointwiseFilter","separableConv2d"),d=l,p=!1;if(3===l.rank&&(p=!0,d=l.as4D(1,l.shape[0],l.shape[1],l.shape[2])),"NCHW"===s)throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");g.assert(4===d.rank,"Error in separableConv2d: input must be rank 4, but got "+("rank "+d.rank+".")),g.assert(4===u.rank,"Error in separableConv2d: depthwise filter must be rank 4, but got "+("rank "+u.rank+".")),g.assert(4===c.rank,"Error in separableConv2d: pointwise filter must be rank 4, but got "+("rank "+u.rank+".")),g.assert(1===c.shape[0],"Error in separableConv2d: the first dimension of pointwise filter "+(" must be 1, but got "+c.shape[0]+".")),g.assert(1===c.shape[1],"Error in separableConv2d: the second dimension of pointwise filter "+(" must be 1, but got "+c.shape[1]+"."));var f=u.shape[2],A=u.shape[3];g.assert(c.shape[2]===f*A,"Error in separableConv2d: the third dimension of pointwise filter "+("must be "+f*A+", ")+("but got "+c.shape[2]+"."));var C=t.depthwiseConv2d(d,u,i,a,s,o),I=1,m=t.conv2d(C,c,I,"valid",s);return p?m.as3D(m.shape[1],m.shape[2],m.shape[3]):m},l([u.doc({heading:"Operations",subheading:"Convolution"})],t,"conv1d",null),l([u.doc({heading:"Operations",subheading:"Convolution"})],t,"conv2d",null),l([u.doc({heading:"Operations",subheading:"Convolution"})],t,"conv2dTranspose",null),l([u.doc({heading:"Operations",subheading:"Convolution"})],t,"depthwiseConv2d",null),l([u.doc({heading:"Operations",subheading:"Convolution"})],t,"separableConv2d",null),t}();e.conv1d=p.op(f.conv1d),e.conv2d=p.op(f.conv2d),e.depthwiseConv2d=p.op(f.depthwiseConv2d),e.separableConv2d=p.op(f.separableConv2d),e.conv2dTranspose=p.op(f.conv2dTranspose)},function(t,e,n){"use strict";function r(t,e,n,r,a,o){void 0===o&&(o="channelsLast");var l,u=s(e),c=u[0],h=u[1];if("channelsLast"===o)l=[c,h,t[3],t[3]];else{if("channelsFirst"!==o)throw new Error("Unknown dataFormat "+o);l=[c,h,t[1],t[1]]}var g=1;return i(t,l,n,g,r,a,!1,o)}function i(t,e,n,r,i,a,o,c){void 0===o&&(o=!1),void 0===c&&(c="channelsLast");var h=[-1,-1,-1,-1],g=h[0],d=h[1],p=h[2],f=h[3];if("channelsLast"===c)g=t[0],d=t[1],p=t[2],f=t[3];else{if("channelsFirst"!==c)throw new Error("Unknown dataFormat "+c);g=t[0],f=t[1],d=t[2],p=t[3]}var A,C=e[0],I=e[1],m=e[3],v=s(n),y=v[0],b=v[1],x=s(r),w=x[0],S=x[1],T=l(C,w),N=l(I,S),E=u(i,d,p,y,b,T,N,a),k=E.padInfo,O=E.outHeight,M=E.outWidth,R=o?m*f:m;return"channelsFirst"===c?A=[g,R,O,M]:"channelsLast"===c&&(A=[g,O,M,R]),{batchSize:g,dataFormat:c,inHeight:d,inWidth:p,inChannels:f,outHeight:O,outWidth:M,outChannels:R,padInfo:k,strideHeight:y,strideWidth:b,filterHeight:C,filterWidth:I,dilationHeight:w,dilationWidth:S,inShape:t,outShape:A,filterShape:e}}function a(t,e,n,r,i,a){null==i&&(i=o(t,e,r));var s=t[0],l=t[1],u=c((s-e+2*i)/r+1,a);h.assert(h.isInt(u),"The output # of rows ("+u+") must be an integer. Change the stride and/or zero pad parameters");var g=c((l-e+2*i)/r+1,a);return h.assert(h.isInt(g),"The output # of columns ("+g+") must be an integer. Change the stride and/or zero pad parameters"),[u,g,n]}function o(t,e,n,r){void 0===r&&(r=1);var i=l(e,r);return Math.floor((t[0]*(n-1)-n+i)/2)}function s(t){return"number"==typeof t?[t,t]:t}function l(t,e){return e<=1?t:t+(t-1)*(e-1)}function u(t,e,n,r,i,o,s,l){var u,c,h;if("number"==typeof t){var g=0===t?"VALID":"NUMBER";u={top:t,bottom:t,left:t,right:t,type:g};var d=a([e,n,1],o,1,r,t,l);c=d[0],h=d[1]}else if("same"===t){c=Math.ceil(e/r),h=Math.ceil(n/i);var p=(c-1)*r+o-e,f=(h-1)*i+s-n,A=Math.floor(p/2),C=p-A,I=Math.floor(f/2),m=f-I;u={top:A,bottom:C,left:I,right:m,type:"SAME"}}else{if("valid"!==t)throw Error("Unknown padding parameter: "+t);u={top:0,bottom:0,left:0,right:0,type:"VALID"},c=Math.ceil((e-o+1)/r),h=Math.ceil((n-s+1)/i)}return{padInfo:u,outHeight:c,outWidth:h}}function c(t,e){if(!e)return t;switch(e){case"round":return Math.round(t);case"ceil":return Math.ceil(t);case"floor":return Math.floor(t);default:throw new Error("Unknown roundingMode "+e)}}Object.defineProperty(e,"__esModule",{value:!0});var h=n(512);e.computePool2DInfo=r,e.computeConv2DInfo=i,e.computeDefaultPad=o},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var i,a=arguments.length,o=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(o=(a<3?i(o):a>3?i(e,n,o):i(e,n))||o);return a>3&&o&&Object.defineProperty(e,n,o),o};Object.defineProperty(e,"__esModule",{value:!0});var i=n(509),a=n(507),o=n(516),s=n(512),l=n(524),u=function(){function t(){}return t.matMul=function(t,e,n,r){void 0===n&&(n=!1),void 0===r&&(r=!1);var i=o.convertToTensor(t,"a","matMul"),l=o.convertToTensor(e,"b","matMul"),u=n?i.shape[0]:i.shape[1],c=r?l.shape[1]:l.shape[0];s.assert(2===i.rank&&2===l.rank,"Error in matMul: inputs must be rank 2, got ranks "+i.rank+(" and "+l.rank+".")),s.assert(u===c,"Error in matMul: inner shapes ("+u+") and ("+(c+") of Tensors with shapes "+i.shape+" and ")+(l.shape+" and transposeA="+n)+(" and transposeB="+r+" must match."));var h=function(t){return n||r?!n&&r?{$a:function(){return t.matMul(l.toFloat(),!1,!1)},$b:function(){return t.matMul(i.toFloat(),!0,!1)}}:n&&!r?{$a:function(){return l.toFloat().matMul(t,!1,!0)},$b:function(){return i.toFloat().matMul(t,!1,!1)}}:{$a:function(){return l.toFloat().matMul(t,!0,!0)},$b:function(){return t.matMul(i.toFloat(),!0,!0)}}:{$a:function(){return t.matMul(l.toFloat(),!1,!0)},$b:function(){return i.toFloat().matMul(t,!0,!1)}}};return a.ENV.engine.runKernel(function(t){return t.matMul(i,l,n,r)},{$a:i,$b:l},h)},t.outerProduct=function(t,e){var n=o.convertToTensor(t,"v1","outerProduct"),r=o.convertToTensor(e,"v2","outerProduct");return s.assert(1===n.rank&&1===r.rank,"Error in outerProduct: inputs must be rank 1, but got ranks "+(n.rank+" and "+r.rank+".")),n.as2D(-1,1).matMul(r.as2D(1,-1))},t.dot=function(t,e){var n=o.convertToTensor(t,"t1","dot"),r=o.convertToTensor(e,"t2","dot");s.assert(!(1!==n.rank&&2!==n.rank||1!==r.rank&&2!==r.rank),"Error in dot: inputs must all be rank 1 or 2, but got ranks "+(n.rank+" and "+r.rank+"."));var i=1===n.rank?n.size:n.shape[1],a=1===r.rank?r.size:r.shape[0];return s.assert(i===a,"Error in dot: inner dimensions of inputs must match, but got "+(i+" and "+a+".")),1===n.rank&&1===r.rank?n.as2D(1,-1).matMul(r.as2D(-1,1)).asScalar():1===n.rank&&2===r.rank?n.as2D(1,-1).matMul(r.as2D(r.shape[0],r.shape[1])).as1D():2===n.rank&&1===r.rank?n.matMul(r.as2D(-1,1)).as1D():n.matMul(r.as2D(r.shape[0],r.shape[1]))},r([i.doc({heading:"Operations",subheading:"Matrices"})],t,"matMul",null),r([i.doc({heading:"Operations",subheading:"Matrices"})],t,"outerProduct",null),r([i.doc({heading:"Operations",subheading:"Matrices"})],t,"dot",null),t}();e.matMul=l.op(u.matMul),e.dot=l.op(u.dot),e.outerProduct=l.op(u.outerProduct)},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var i,a=arguments.length,o=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(o=(a<3?i(o):a>3?i(e,n,o):i(e,n))||o);return a>3&&o&&Object.defineProperty(e,n,o),o};Object.defineProperty(e,"__esModule",{value:!0});var i=n(509),a=n(507),o=n(516),s=n(512),l=n(518),u=n(524),c=function(){function t(){}return t.reverse1d=function(e){var n=o.convertToTensor(e,"x","reverse");return s.assert(1===n.rank,"Error in reverse1D: x must be rank 1 but got\n             rank "+n.rank+"."),t.reverse(n,0)},t.reverse2d=function(e,n){var r=o.convertToTensor(e,"x","reverse");return s.assert(2===r.rank,"Error in reverse2D: x must be rank 2 but got\n             rank "+r.rank+"."),t.reverse(r,n)},t.reverse3d=function(e,n){var r=o.convertToTensor(e,"x","reverse");return s.assert(3===r.rank,"Error in reverse3D: x must be rank 3 but got\n             rank "+r.rank+"."),t.reverse(r,n)},t.reverse4d=function(e,n){var r=o.convertToTensor(e,"x","reverse");return s.assert(4===r.rank,"Error in reverse4D: x must be rank 4 but got\n             rank "+r.rank+"."),t.reverse(r,n)},t.reverse=function(t,e){var n=o.convertToTensor(t,"x","reverse");if(0===n.rank)return n.clone();var r=l.parseAxisParam(e,n.shape),i=function(t){return{$x:function(){return t.reverse(r)}}},s=a.ENV.engine.runKernel(function(t){return t.reverse(n,r)},{$x:n},i);return s.reshapeAs(n)},r([i.doc({heading:"Tensors",subheading:"Slicing and Joining"})],t,"reverse",null),t}();e.reverse=u.op(c.reverse),e.reverse1d=u.op(c.reverse1d),e.reverse2d=u.op(c.reverse2d),e.reverse3d=u.op(c.reverse3d),e.reverse4d=u.op(c.reverse4d)},function(t,e,n){"use strict";function r(t,e,n,r,i,a,o){var h=l.convertToTensor(t,"dy","maxPoolBackprop"),g=l.convertToTensor(e,"input","maxPoolBackprop"),d=l.convertToTensor(n,"output","maxPoolBackprop");u.assert(g.rank===h.rank,"Rank of input ("+g.rank+") does not match rank of dy ("+h.rank+")"),u.assert(4===h.rank,"Error in maxPoolBackprop: dy must be rank 4 but got rank "+(h.rank+".")),u.assert(4===g.rank,"Error in maxPoolBackprop: input must be rank 4 but got rank "+(g.rank+".")),null!=o&&u.assert(u.isInt(a),"Error in maxPoolBackprop: pad must be an integer when using, "+("dimRoundingMode "+o+" but got pad "+a+"."));var p=c.computePool2DInfo(g.shape,r,i,a,o),f=s.ENV.engine.runKernel(function(t){return t.maxPoolBackprop(h,g,d,p)},{$dy:h,$input:g});return f}function i(t,e,n,r,i){var a=l.convertToTensor(t,"dy","avgPoolBackprop"),o=l.convertToTensor(e,"input","avgPoolBackprop");u.assert(o.rank===a.rank,"Rank of input ("+o.rank+") does not match rank of dy ("+a.rank+")");var h=o,g=a,d=!1;3===o.rank&&(d=!0,h=o.as4D(1,o.shape[0],o.shape[1],o.shape[2]),g=a.as4D(1,a.shape[0],a.shape[1],a.shape[2])),u.assert(4===g.rank,"Error in avgPoolBackprop: dy must be rank 4 but got rank "+(g.rank+".")),u.assert(4===h.rank,"Error in avgPoolBackprop: input must be rank 4 but got rank "+(h.rank+"."));var p=c.computePool2DInfo(h.shape,n,r,i),f=s.ENV.engine.runKernel(function(t){return t.avgPoolBackprop(g,h,p)},{dy4D:g,input4D:h});return d?f.as3D(f.shape[1],f.shape[2],f.shape[3]):f}var a=this&&this.__decorate||function(t,e,n,r){var i,a=arguments.length,o=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(o=(a<3?i(o):a>3?i(e,n,o):i(e,n))||o);return a>3&&o&&Object.defineProperty(e,n,o),o};Object.defineProperty(e,"__esModule",{value:!0});var o=n(509),s=n(507),l=n(516),u=n(512),c=n(542),h=n(524),g=function(){function t(){}return t.maxPool=function(t,e,n,i,a){var o=l.convertToTensor(t,"x","maxPool"),h=o,g=!1;3===o.rank&&(g=!0,h=o.as4D(1,o.shape[0],o.shape[1],o.shape[2])),u.assert(4===h.rank,"Error in maxPool: input must be rank 4 but got rank "+h.rank+"."),null!=a&&u.assert(u.isInt(i),"Error in maxPool: pad must be an integer when using, "+("dimRoundingMode "+a+" but got pad "+i+"."));var d=c.computePool2DInfo(h.shape,e,n,i,a),p=function(t,a){var o=a[0];return{x:function(){return r(t,h,o,e,n,i)}}},f=s.ENV.engine.runKernel(function(t,e){return e(t.maxPool(h,d))},{x:h},p);return g?f.as3D(f.shape[1],f.shape[2],f.shape[3]):f},t.avgPool=function(t,e,n,r,a){var o=l.convertToTensor(t,"x","avgPool");u.assert("float32"===o.dtype,"The input dtype to avgPool must be float32");var h=o,g=!1;3===o.rank&&(g=!0,h=o.as4D(1,o.shape[0],o.shape[1],o.shape[2])),u.assert(4===h.rank,"Error in avgPool: x must be rank 4 but got rank "+h.rank+"."),null!=a&&u.assert(u.isInt(r),"Error in avgPool: pad must be an integer when using, "+("dimRoundingMode "+a+" but got pad "+r+"."));var d=c.computePool2DInfo(h.shape,e,n,r),p=function(t){return{x:function(){return i(t,h,e,n,r)}}},f=s.ENV.engine.runKernel(function(t){return t.avgPool(h,d)},{x:h},p);return f=f.cast(o.dtype),g?f.as3D(f.shape[1],f.shape[2],f.shape[3]):f},a([o.doc({heading:"Operations",subheading:"Convolution"})],t,"maxPool",null),a([o.doc({heading:"Operations",subheading:"Convolution"})],t,"avgPool",null),t}();e.maxPool=h.op(g.maxPool),e.avgPool=h.op(g.avgPool)},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var i,a=arguments.length,o=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(o=(a<3?i(o):a>3?i(e,n,o):i(e,n))||o);return a>3&&o&&Object.defineProperty(e,n,o),o};Object.defineProperty(e,"__esModule",{value:!0});var i=n(509),a=n(507),o=n(516),s=n(512),l=n(524),u=n(547),c=function(){function t(){}return t.slice1d=function(e,n,r){var i=o.convertToTensor(e,"x","slice1d");return s.assert(1===i.rank,"slice1d expects a rank-1 tensor, but got a rank-"+i.rank+" tensor"),t.slice(i,[n],[r])},t.slice2d=function(e,n,r){var i=o.convertToTensor(e,"x","slice2d");return s.assert(2===i.rank,"slice1d expects a rank-2 tensor, but got a rank-"+i.rank+" tensor"),t.slice(i,n,r)},t.slice3d=function(e,n,r){var i=o.convertToTensor(e,"x","slice3d");return s.assert(3===i.rank,"slice1d expects a rank-3 tensor, but got a rank-"+i.rank+" tensor"),t.slice(i,n,r)},t.slice4d=function(e,n,r){var i=o.convertToTensor(e,"x","slice4d");return s.assert(4===i.rank,"slice1d expects a rank-4 tensor, but got a rank-"+i.rank+" tensor"),t.slice(i,n,r)},t.slice=function(t,e,n){var r=o.convertToTensor(t,"x","slice");if(0===r.rank)throw new Error("Slicing scalar is not possible");var i;i="number"==typeof e?[e].concat(new Array(r.rank-1).fill(0)):e.length<r.rank?e.concat(new Array(r.rank-e.length).fill(0)):e;var l;l=null==n?new Array(r.rank).fill(-1):"number"==typeof n?[n].concat(new Array(r.rank-1).fill(-1)):n.length<r.rank?n.concat(new Array(r.rank-n.length).fill(-1)):n,l=l.map(function(t,e){return t>=0?t:(s.assert(t===-1,"Bad value in size"),r.shape[e]-i[e])}),u.assertParamsValid(r,i,l);var c=r.shape,h=function(t){for(var e=[],n=0;n<t.rank;n++)e.push([i[n],c[n]-i[n]-l[n]]);return{$x:function(){return t.pad(e)}}};return a.ENV.engine.runKernel(function(t){return t.slice(r,i,l)},{$x:r},h)},r([i.doc({heading:"Tensors",subheading:"Slicing and Joining"})],t,"slice",null),t}();e.slice=l.op(c.slice),e.slice1d=l.op(c.slice1d),e.slice2d=l.op(c.slice2d),e.slice3d=l.op(c.slice3d),e.slice4d=l.op(c.slice4d)},function(t,e,n){"use strict";function r(t,e,n){s.assert(t.rank===e.length,"Error in slice"+t.rank+"D: Length of begin "+e+" must "+("match the rank of the array ("+t.rank+").")),s.assert(t.rank===n.length,"Error in slice"+t.rank+"D: Length of size "+n+" must "+("match the rank of the array ("+t.rank+")."));for(var r=0;r<t.rank;++r)s.assert(e[r]+n[r]<=t.shape[r],"Error in slice"+t.rank+"D: begin["+r+"] + size["+r+"] "+("("+(e[r]+n[r])+") would overflow input.shape["+r+"] ("+t.shape[r]+")"))}function i(t,e,n,r,i,s){void 0===i&&(i=0),void 0===s&&(s=0);for(var l=[],u=[],c=0;c<t.length;c++)l[c]=a(i,e,r,t,c),u[c]=o(s,n,r,t,c);var h=new Array(t.length).fill(0);return h=h.map(function(t,e){for(var n=0,i=l[e];!(r[e]>0?i>=u[e]:i<=u[e]);i+=r[e])n+=1;return n}),[l,h]}function a(t,e,n,r,i){var a=e[i];t&1<<i&&(a=n[i]>0?Number.MIN_SAFE_INTEGER:Number.MAX_SAFE_INTEGER);var o=r[i];return a<0&&(a+=o),a=s.clamp(0,a,o-1)}function o(t,e,n,r,i){var a=e[i];t&1<<i&&(a=n[i]>0?Number.MAX_SAFE_INTEGER:Number.MIN_SAFE_INTEGER);var o=r[i];return a<0&&(a+=o),a=n[i]>0?s.clamp(0,a,o):s.clamp(-1,a,o-1)}Object.defineProperty(e,"__esModule",{value:!0});var s=n(512);e.assertParamsValid=r,e.getStridedSlicedInfo=i,e.startForAxis=a,e.stopForAxis=o},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var i,a=arguments.length,o=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(o=(a<3?i(o):a>3?i(e,n,o):i(e,n))||o);return a>3&&o&&Object.defineProperty(e,n,o),o};Object.defineProperty(e,"__esModule",{value:!0});var i=n(509),a=n(507),o=n(549),s=n(516),l=n(512),u=n(518),c=n(524),h=n(538),g=function(){function t(){}return t.logSumExp=function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=!1);var r=s.convertToTensor(t,"x","logSumExp"),i=u.parseAxisParam(e,r.shape),a=r.max(i,!0),o=r.sub(a),l=o.exp(),c=l.sum(i),h=c.log(),g=a.reshape(h.shape).add(h);if(n){var d=u.expandShapeToKeepDim(g.shape,i);
return g.reshape(d)}return g},t.sum=function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=!1);var r=s.convertToTensor(t,"x","sum");"bool"===r.dtype&&(r=r.toInt());var i=u.parseAxisParam(e,r.shape),l=o.customGrad(function(t){var e=u.getAxesPermutation(i,t.rank),r=i,o=t;null!=e&&(o=t.transpose(e),r=u.getInnerMostAxes(r.length,t.rank));var s=a.ENV.engine.runKernel(function(t){return t.sum(o,r)},{permutedX:o});if(n){var l=u.expandShapeToKeepDim(s.shape,i);s=s.reshape(l)}var c=function(e){var n=t.shape.slice();i.forEach(function(t){n[t]=1});var r=e.reshape(n),a=r.mul(h.ones(t.shape,"float32"));return a};return{value:s,gradFunc:c}});return l(r)},t.mean=function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=!1);var r=s.convertToTensor(t,"x","mean"),i=u.parseAxisParam(e,r.shape),a=u.computeOutAndReduceShapes(r.shape,i),c=a[1],g=l.sizeFromShape(c),d=o.customGrad(function(t){var r=h.scalar(g),a=r.dtype===t.dtype?t:t.cast(r.dtype),o=a.div(r),s=o.sum(e,n),l=function(e){var n=t.shape.slice();i.forEach(function(t){n[t]=1});var a=e.reshape(n),o=a.mul(h.ones(t.shape,"float32")).div(r);return o};return{value:s,gradFunc:l}});return d(r)},t.min=function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=!1);var r=s.convertToTensor(t,"x","min"),i=u.parseAxisParam(e,r.shape),o=i,l=u.getAxesPermutation(o,r.rank);null!=l&&(r=r.transpose(l),o=u.getInnerMostAxes(o.length,r.rank));var c=a.ENV.engine.runKernel(function(t){return t.min(r,o)},{$x:r});if(n){var h=u.expandShapeToKeepDim(c.shape,i);return c.reshape(h)}return c},t.max=function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=!1);var r=s.convertToTensor(t,"x","max"),i=u.parseAxisParam(e,r.shape),o=i,l=u.getAxesPermutation(o,r.rank);null!=l&&(r=r.transpose(l),o=u.getInnerMostAxes(o.length,r.rank));var c=a.ENV.engine.runKernel(function(t){return t.max(r,o)},{$x:r});if(n){var h=u.expandShapeToKeepDim(c.shape,i);return c.reshape(h)}return c},t.argMin=function(t,e){void 0===e&&(e=0);var n=s.convertToTensor(t,"x","argMin");null==e&&(e=0);var r=u.parseAxisParam(e,n.shape),i=u.getAxesPermutation(r,n.rank);return null!=i&&(n=n.transpose(i),r=u.getInnerMostAxes(r.length,n.rank)),a.ENV.engine.runKernel(function(t){return t.argMin(n,r[0])},{$x:n})},t.argMax=function(t,e){void 0===e&&(e=0);var n=s.convertToTensor(t,"x","argMax");null==e&&(e=0);var r=u.parseAxisParam(e,n.shape),i=u.getAxesPermutation(r,n.rank);return null!=i&&(n=n.transpose(i),r=u.getInnerMostAxes(r.length,n.rank)),a.ENV.engine.runKernel(function(t){return t.argMax(n,r[0])},{$x:n})},t.all=function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=!1);var r=s.convertToTensor(t,"x","all","bool");l.assert("bool"===r.dtype,"Error Tensor must be of type bool. Got: "+r.dtype);var i=u.parseAxisParam(e,r.shape),o=i,c=u.getAxesPermutation(o,r.rank);null!=c&&(r=r.transpose(c),o=u.getInnerMostAxes(o.length,r.rank));var h=a.ENV.engine.runKernel(function(t){return t.all(r,o)},{$x:r});if(n){var g=u.expandShapeToKeepDim(h.shape,i);return h.reshape(g)}return h},t.any=function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=!1);var r=s.convertToTensor(t,"x","any","bool");l.assert("bool"===r.dtype,"Error Tensor must be of type bool. Got: "+r.dtype);var i=u.parseAxisParam(e,r.shape),o=i,c=u.getAxesPermutation(o,r.rank);null!=c&&(r=r.transpose(c),o=u.getInnerMostAxes(o.length,r.rank));var h=a.ENV.engine.runKernel(function(t){return t.any(r,o)},{$x:r});if(n){var g=u.expandShapeToKeepDim(h.shape,i);return h.reshape(g)}return h},t.moments=function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=!1),t=s.convertToTensor(t,"x","moments");var r=u.parseAxisParam(e,t.shape),i=t.mean(r,n),a=i.shape;n||(a=u.expandShapeToKeepDim(i.shape,r));var o=t.toFloat().sub(i.reshape(a)).square(),l=o.mean(r,n);return{mean:i,variance:l}},r([i.doc({heading:"Operations",subheading:"Reduction"})],t,"logSumExp",null),r([i.doc({heading:"Operations",subheading:"Reduction"})],t,"sum",null),r([i.doc({heading:"Operations",subheading:"Reduction"})],t,"mean",null),r([i.doc({heading:"Operations",subheading:"Reduction"})],t,"min",null),r([i.doc({heading:"Operations",subheading:"Reduction"})],t,"max",null),r([i.doc({heading:"Operations",subheading:"Reduction"})],t,"argMin",null),r([i.doc({heading:"Operations",subheading:"Reduction"})],t,"argMax",null),r([i.doc({heading:"Operations",subheading:"Reduction"})],t,"all",null),r([i.doc({heading:"Operations",subheading:"Reduction"})],t,"any",null),r([i.doc({heading:"Operations",subheading:"Normalization"})],t,"moments",null),t}();e.all=c.op(g.all),e.any=c.op(g.any),e.argMax=c.op(g.argMax),e.argMin=c.op(g.argMin),e.logSumExp=c.op(g.logSumExp),e.max=c.op(g.max),e.mean=c.op(g.mean),e.min=c.op(g.min),e.moments=c.op(g.moments),e.sum=c.op(g.sum)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(507),i=n(550);e.tidy=r.Environment.tidy,e.keep=r.Environment.keep,e.dispose=r.Environment.dispose,e.time=r.Environment.time,e.grad=i.Gradients.grad,e.valueAndGrad=i.Gradients.valueAndGrad,e.grads=i.Gradients.grads,e.valueAndGrads=i.Gradients.valueAndGrads,e.variableGrads=i.Gradients.variableGrads,e.customGrad=i.Gradients.customGrad},function(t,e,n){"use strict";function r(t){var e=t.filter(function(t){return null==t}).length;if(e>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that\n    the f you passed encloses all operations that lead from x to y.")}var i=this&&this.__decorate||function(t,e,n,r){var i,a=arguments.length,o=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(o=(a<3?i(o):a>3?i(e,n,o):i(e,n))||o);return a>3&&o&&Object.defineProperty(e,n,o),o};Object.defineProperty(e,"__esModule",{value:!0});var a=n(509),o=n(507),s=n(514),l=n(512),u=function(){function t(){}return t.gradScope=function(t,e){return o.ENV.engine.tidy(t,e,!0)},t.grad=function(t){return l.assert(l.isFunction(t),"The f passed in grad(f) must be a function"),function(e,n){return l.assert(e instanceof s.Tensor,"The x passed in grad(f)(x) must be a tensor"),l.assert(null==n||n instanceof s.Tensor,"The dy passed in grad(f)(x, dy) must be a tensor"),o.ENV.engine.tidy(function(){var i=o.ENV.engine.gradients(function(){return t(e)},[e],n),a=i.value,s=i.grads;return null!=n&&l.assertShapesMatch(a.shape,n.shape,"The shape of dy passed in grad(f)(x, dy) must match the shape returned by f(x)"),r(s),s[0]})}},t.grads=function(t){return l.assert(l.isFunction(t),"The f passed in grads(f) must be a function"),function(e,n){return l.assert(Array.isArray(e)&&e.every(function(t){return t instanceof s.Tensor}),"The args passed in grads(f)(args) must be an array of tensors"),l.assert(null==n||n instanceof s.Tensor,"The dy passed in grads(f)(args, dy) must be a tensor"),o.ENV.engine.tidy(function(){var i=o.ENV.engine.gradients(function(){return t.apply(void 0,e)},e,n),a=i.value,s=i.grads;return null!=n&&l.assertShapesMatch(a.shape,n.shape,"The shape of dy passed in grads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),r(s),s})}},t.valueAndGrad=function(t){return l.assert(l.isFunction(t),"The f passed in valueAndGrad(f) must be a function"),function(e,n){l.assert(e instanceof s.Tensor,"The x passed in valueAndGrad(f)(x) must be a tensor"),l.assert(null==n||n instanceof s.Tensor,"The dy passed in valueAndGrad(f)(x, dy) must be a tensor");var i=o.ENV.engine.gradients(function(){return t(e)},[e],n),a=i.grads,u=i.value;return r(a),{grad:a[0],value:u}}},t.valueAndGrads=function(t){return l.assert(l.isFunction(t),"The f passed in valueAndGrads(f) must be a function"),function(e,n){l.assert(Array.isArray(e)&&e.every(function(t){return t instanceof s.Tensor}),"The args passed in valueAndGrads(f)(args) must be array of tensors"),l.assert(null==n||n instanceof s.Tensor,"The dy passed in valueAndGrads(f)(args, dy) must be a tensor");var i=o.ENV.engine.gradients(function(){return t.apply(void 0,e)},e,n);return null!=n&&l.assertShapesMatch(i.value.shape,n.shape,"The shape of dy passed in valueAndGrads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),r(i.grads),i}},t.variableGrads=function(t,e){if(l.assert(l.isFunction(t),"The f passed in variableGrads(f) must be a function"),l.assert(null==e||Array.isArray(e)&&e.every(function(t){return t instanceof s.Variable}),"The varList passed in variableGrads(f, varList) must be an array of variables"),null==e){e=[];for(var n in o.ENV.engine.registeredVariables)e.push(o.ENV.engine.registeredVariables[n])}var r=e.length;e=e.filter(function(t){return t.trainable}),l.assert(e.length>0,"variableGrads() expects at least one of the input variables to be "+("trainable, but none of the "+r+" variables is ")+"trainable.");var i=!0,a=o.ENV.engine.gradients(t,e,null,i),u=a.value,c=a.grads;l.assert(c.some(function(t){return null!=t}),"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize()."),l.assert(0===u.rank,"The f passed in variableGrads(f) must return a scalar, but it "+("returned a rank-"+u.rank+" tensor"));var h={};return e.forEach(function(t,e){null!=c[e]&&(h[t.name]=c[e])}),{value:u,grads:h}},t.customGrad=function(t){return o.ENV.engine.customGrad(t)},i([a.doc({heading:"Training",subheading:"Gradients"})],t,"grad",null),i([a.doc({heading:"Training",subheading:"Gradients"})],t,"grads",null),i([a.doc({heading:"Training",subheading:"Gradients"})],t,"valueAndGrad",null),i([a.doc({heading:"Training",subheading:"Gradients"})],t,"valueAndGrads",null),i([a.doc({heading:"Training",subheading:"Gradients"})],t,"variableGrads",null),i([a.doc({heading:"Training",subheading:"Gradients"})],t,"customGrad",null),t}();e.Gradients=u},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var i,a=arguments.length,o=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(o=(a<3?i(o):a>3?i(e,n,o):i(e,n))||o);return a>3&&o&&Object.defineProperty(e,n,o),o};Object.defineProperty(e,"__esModule",{value:!0});var i=n(509),a=n(507),o=n(516),s=n(512),l=n(539),u=n(524),c=function(){function t(){}return t.notEqual=function(t,e){var n=o.convertToTensor(t,"a","notEqual"),r=o.convertToTensor(e,"b","notEqual");return o.assertTypesMatch(n,r),l.assertAndGetBroadcastShape(n.shape,r.shape),a.ENV.engine.runKernel(function(t){return t.notEqual(n,r)},{$a:n,$b:r})},t.notEqualStrict=function(t,e){var n=o.convertToTensor(t,"a","notEqualStrict"),r=o.convertToTensor(e,"b","notEqualStrict");return s.assertShapesMatch(n.shape,r.shape,"Error in notEqualStrict: "),n.notEqual(r)},t.less=function(t,e){var n=o.convertToTensor(t,"a","less"),r=o.convertToTensor(e,"b","less");return o.assertTypesMatch(n,r),l.assertAndGetBroadcastShape(n.shape,r.shape),a.ENV.engine.runKernel(function(t){return t.less(n,r)},{$a:n,$b:r})},t.lessStrict=function(t,e){var n=o.convertToTensor(t,"a","lessStrict"),r=o.convertToTensor(e,"b","lessStrict");return s.assertShapesMatch(n.shape,r.shape,"Error in lessStrict: "),n.less(r)},t.equal=function(t,e){var n=o.convertToTensor(t,"a","equal"),r=o.convertToTensor(e,"b","equal");return o.assertTypesMatch(n,r),l.assertAndGetBroadcastShape(n.shape,r.shape),a.ENV.engine.runKernel(function(t){return t.equal(n,r)},{$a:n,$b:r})},t.equalStrict=function(t,e){var n=o.convertToTensor(t,"a","equalStrict"),r=o.convertToTensor(e,"b","equalStrict");return s.assertShapesMatch(n.shape,r.shape,"Error in equalStrict: "),n.equal(r)},t.lessEqual=function(t,e){var n=o.convertToTensor(t,"a","lessEqual"),r=o.convertToTensor(e,"b","lessEqual");return o.assertTypesMatch(n,r),l.assertAndGetBroadcastShape(n.shape,r.shape),a.ENV.engine.runKernel(function(t){return t.lessEqual(n,r)},{$a:n,$b:r})},t.lessEqualStrict=function(t,e){var n=o.convertToTensor(t,"a","lessEqualStrict"),r=o.convertToTensor(e,"b","lessEqualStrict");return s.assertShapesMatch(n.shape,r.shape,"Error in lessEqualStrict: "),n.lessEqual(r)},t.greater=function(t,e){var n=o.convertToTensor(t,"a","greater"),r=o.convertToTensor(e,"b","greater");return o.assertTypesMatch(n,r),l.assertAndGetBroadcastShape(n.shape,r.shape),a.ENV.engine.runKernel(function(t){return t.greater(n,r)},{$a:n,$b:r})},t.greaterStrict=function(t,e){var n=o.convertToTensor(t,"a","greaterStrict"),r=o.convertToTensor(e,"b","greaterStrict");return s.assertShapesMatch(n.shape,r.shape,"Error in greaterStrict: "),n.greater(r)},t.greaterEqual=function(t,e){var n=o.convertToTensor(t,"a","greaterEqual"),r=o.convertToTensor(e,"b","greaterEqual");return o.assertTypesMatch(n,r),l.assertAndGetBroadcastShape(n.shape,r.shape),a.ENV.engine.runKernel(function(t){return t.greaterEqual(n,r)},{$a:n,$b:r})},t.greaterEqualStrict=function(t,e){var n=o.convertToTensor(t,"a","greaterEqualStrict"),r=o.convertToTensor(e,"b","greaterEqualStrict");return s.assertShapesMatch(n.shape,r.shape,"Error in greaterEqualStrict: "),n.greaterEqual(r)},r([i.doc({heading:"Operations",subheading:"Logical"})],t,"notEqual",null),r([i.doc({heading:"Operations",subheading:"Logical"})],t,"less",null),r([i.doc({heading:"Operations",subheading:"Logical"})],t,"equal",null),r([i.doc({heading:"Operations",subheading:"Logical"})],t,"lessEqual",null),r([i.doc({heading:"Operations",subheading:"Logical"})],t,"greater",null),r([i.doc({heading:"Operations",subheading:"Logical"})],t,"greaterEqual",null),t}();e.equal=u.op(c.equal),e.equalStrict=u.op(c.equalStrict),e.greater=u.op(c.greater),e.greaterEqual=u.op(c.greaterEqual),e.greaterEqualStrict=u.op(c.greaterEqualStrict),e.greaterStrict=u.op(c.greaterStrict),e.less=u.op(c.less),e.lessEqual=u.op(c.lessEqual),e.lessEqualStrict=u.op(c.lessEqualStrict),e.lessStrict=u.op(c.lessStrict),e.notEqual=u.op(c.notEqual),e.notEqualStrict=u.op(c.notEqualStrict)},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var i,a=arguments.length,o=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(o=(a<3?i(o):a>3?i(e,n,o):i(e,n))||o);return a>3&&o&&Object.defineProperty(e,n,o),o};Object.defineProperty(e,"__esModule",{value:!0});var i=n(509),a=n(507),o=n(516),s=n(553),l=n(512),u=n(539),c=n(524),h=n(538),g=n(540),d=function(){function t(){}return t.add=function(t,e){var n=o.convertToTensor(t,"a","add"),r=o.convertToTensor(e,"b","add");o.assertTypesMatch(n,r);var i=u.assertAndGetBroadcastShape(n.shape,r.shape),s=function(t){var e=function(){var e=t,r=u.getReductionAxes(n.shape,i);return r.length>0&&(e=e.sum(r)),e.reshape(n.shape)},a=function(){var e=t,n=u.getReductionAxes(r.shape,i);return n.length>0&&(e=e.sum(n)),e.reshape(r.shape)};return{$a:e,$b:a}};return a.ENV.engine.runKernel(function(t){return t.add(n,r)},{$a:n,$b:r},s)},t.addStrict=function(t,e){return l.assertShapesMatch(t.shape,e.shape,"Error in addStrict: "),t.add(e)},t.sub=function(t,e){var n=o.convertToTensor(t,"a","sub"),r=o.convertToTensor(e,"b","sub");o.assertTypesMatch(n,r);var i=u.assertAndGetBroadcastShape(n.shape,r.shape),s=function(t){var e=function(){var e=t,r=u.getReductionAxes(n.shape,i);return r.length>0&&(e=e.sum(r)),e.reshape(n.shape)},a=function(){var e=t,n=u.getReductionAxes(r.shape,i);return n.length>0&&(e=e.sum(n)),e.neg().reshape(r.shape)};return{$a:e,$b:a}};return a.ENV.engine.runKernel(function(t){return t.subtract(n,r)},{$a:n,$b:r},s)},t.subStrict=function(t,e){return l.assertShapesMatch(t.shape,e.shape,"Error in subStrict: "),t.sub(e)},t.pow=function(t,e){var n=o.convertToTensor(t,"base","pow"),r=o.convertToTensor(e,"exp","pow"),i=u.assertAndGetBroadcastShape(n.shape,r.shape);t=n.cast(s.upcastType(n.dtype,r.dtype)),e=r.cast(s.upcastType(n.dtype,r.dtype));var l=function(t,e){var a=e[0],o=function(){var e=t.mul(r.toFloat().mul(a.div(n))),o=u.getReductionAxes(n.shape,i);return o.length>0&&(e=e.sum(o)),e.reshape(n.shape)},s=function(){var e=t.mul(a.mul(n.log()).toFloat()),o=u.getReductionAxes(r.shape,i);return o.length>0&&(e=e.sum(o)),e.reshape(r.shape)};return{$base:o,$exp:s}};return a.ENV.engine.runKernel(function(t,e){return e(t.pow(n,r))},{$base:n,$exp:r},l)},t.powStrict=function(t,e){return l.assertShapesMatch(t.shape,e.shape,"Error in powStrict: "),t.pow(e)},t.mul=function(t,e){var n=o.convertToTensor(t,"a","mul"),r=o.convertToTensor(e,"b","mul");o.assertTypesMatch(n,r);var i=u.assertAndGetBroadcastShape(n.shape,r.shape),s=function(t){var e=function(){var e=t.mul(r.toFloat()),a=u.getReductionAxes(n.shape,i);return a.length>0?e.sum(a).reshape(n.shape):e},a=function(){var e=t.mul(n.toFloat()),a=u.getReductionAxes(r.shape,i);return a.length>0?e.sum(a).reshape(r.shape):e};return{$a:e,$b:a}};return a.ENV.engine.runKernel(function(t){return t.multiply(n,r)},{$a:n,$b:r},s)},t.mulStrict=function(t,e){return l.assertShapesMatch(t.shape,e.shape,"Error in multiplyStrict: "),t.mul(e)},t.div=function(e,n){var r=o.convertToTensor(e,"a","div"),i=o.convertToTensor(n,"b","div");o.assertTypesMatch(r,i);var s;if("int32"===r.dtype&&"int32"===i.dtype)return t.floorDiv(r,i);s=function(t){return t.realDivide(r,i)};var l=u.assertAndGetBroadcastShape(r.shape,i.shape),c=function(t){var e=function(){var e=t.div(i.toFloat()),n=u.getReductionAxes(r.shape,l);return n.length>0?e.sum(n).reshape(r.shape):e},n=function(){var e=t.mul(r.toFloat()),n=u.getReductionAxes(i.shape,l);n.length>0&&(e=e.sum(n).reshape(i.shape));var a=i.square();return e.div(a.toFloat()).neg()};return{$a:e,$b:n}};return a.ENV.engine.runKernel(s,{$a:r,$b:i},c)},t.floorDiv=function(t,e){var n=o.convertToTensor(t,"a","floorDiv"),r=o.convertToTensor(e,"b","floorDiv");o.assertTypesMatch(n,r);var i=function(t){return t.floorDiv(n,r)},s=u.assertAndGetBroadcastShape(n.shape,r.shape),l=function(t){var e=function(){var e=t.div(r.toFloat()),i=u.getReductionAxes(n.shape,s);return i.length>0?e.sum(i).reshape(n.shape):e},i=function(){var e=t.mul(n.toFloat()),i=u.getReductionAxes(r.shape,s);i.length>0&&(e=e.sum(i).reshape(r.shape));var a=r.square();return e.div(a.toFloat()).neg()};return{$a:e,$b:i}};return a.ENV.engine.runKernel(i,{$a:n,$b:r},l)},t.divStrict=function(t,e){return l.assertShapesMatch(t.shape,e.shape,"Error in divideStrict: "),t.div(e)},t.mod=function(t,e){var n=o.convertToTensor(t,"a","mod"),r=o.convertToTensor(e,"b","mod");o.assertTypesMatch(n,r);var i=u.assertAndGetBroadcastShape(n.shape,r.shape),s=function(t){var e=function(){var e=u.getReductionAxes(n.shape,i);return e.length>0?t.sum(e).reshape(n.shape):t},a=function(){var e=t.mul(n.div(r).floor().neg()),a=u.getReductionAxes(r.shape,i);return a.length>0?e.sum(a).reshape(r.shape):e};return{$a:e,$b:a}};return a.ENV.engine.runKernel(function(t){return t.mod(n,r)},{$a:n,$b:r},s)},t.modStrict=function(t,e){return l.assertShapesMatch(t.shape,e.shape,"Error in modStrict: "),t.mod(e)},t.minimum=function(t,e){var n=o.convertToTensor(t,"a","minimum"),r=o.convertToTensor(e,"b","minimum");o.assertTypesMatch(n,r),"bool"===n.dtype&&(n=n.toInt()),"bool"===r.dtype&&(r=r.toInt()),u.assertAndGetBroadcastShape(n.shape,r.shape);var i=function(t){var e=function(){return t.mul(n.lessEqual(r).toFloat())},i=function(){return t.mul(n.greater(r).toFloat())};return{$a:e,$b:i}};return a.ENV.engine.runKernel(function(t){return t.minimum(n,r)},{$a:n,$b:r},i)},t.minimumStrict=function(t,e){return l.assertShapesMatch(t.shape,e.shape,"Error in minimumStrict: "),t.minimum(e)},t.maximum=function(t,e){var n=o.convertToTensor(t,"a","maximum"),r=o.convertToTensor(e,"b","maximum");o.assertTypesMatch(n,r),"bool"===n.dtype&&(n=n.toInt()),"bool"===r.dtype&&(r=r.toInt()),u.assertAndGetBroadcastShape(n.shape,r.shape);var i=function(t){var e=function(){return t.mul(n.greaterEqual(r).toFloat())},i=function(){return t.mul(n.less(r).toFloat())};return{$a:e,$b:i}};return a.ENV.engine.runKernel(function(t){return t.maximum(n,r)},{$a:n,$b:r},i)},t.maximumStrict=function(t,e){return l.assertShapesMatch(t.shape,e.shape,"Error in minimumStrict: "),t.maximum(e)},t.squaredDifference=function(t,e){var n=o.convertToTensor(t,"a","squaredDifference"),r=o.convertToTensor(e,"b","squaredDifference");o.assertTypesMatch(n,r),u.assertAndGetBroadcastShape(n.shape,r.shape);var i=function(t){var e=h.scalar(2),i=function(){return t.mul(n.sub(r).mul(e))},a=function(){return t.mul(r.sub(n).mul(e))};return{$a:i,$b:a}};return a.ENV.engine.runKernel(function(t){return t.squaredDifference(n,r)},{$a:n,$b:r},i)},t.squaredDifferenceStrict=function(t,e){return l.assertShapesMatch(t.shape,e.shape,"Error in squaredDifferenceStrict: "),t.squaredDifference(e)},t.atan2=function(e,n){var r=o.convertToTensor(e,"a","atan2"),i=o.convertToTensor(n,"b","atan2");o.assertTypesMatch(r,i);var s=u.assertAndGetBroadcastShape(r.shape,i.shape),l=function(e){var n=function(){var n=t.add(r.square(),i.square()),a=e.mul(i.div(n)),o=u.getReductionAxes(r.shape,s);return o.length>0&&(a=a.sum(o)),a.reshape(r.shape)},a=function(){var n=t.add(r.square(),i.square()),a=g.neg(e.mul(r.div(n))),o=u.getReductionAxes(i.shape,s);return o.length>0&&(a=a.sum(o)),a.reshape(i.shape)};return{$a:n,$b:a}};return a.ENV.engine.runKernel(function(t){return t.atan2(r,i)},{$a:r,$b:i},l)},r([i.doc({heading:"Operations",subheading:"Arithmetic"})],t,"add",null),r([i.doc({heading:"Operations",subheading:"Arithmetic"})],t,"sub",null),r([i.doc({heading:"Operations",subheading:"Arithmetic"})],t,"pow",null),r([i.doc({heading:"Operations",subheading:"Arithmetic"})],t,"mul",null),r([i.doc({heading:"Operations",subheading:"Arithmetic"})],t,"div",null),r([i.doc({heading:"Operations",subheading:"Arithmetic"})],t,"floorDiv",null),r([i.doc({heading:"Operations",subheading:"Arithmetic"})],t,"mod",null),r([i.doc({heading:"Operations",subheading:"Arithmetic"})],t,"minimum",null),r([i.doc({heading:"Operations",subheading:"Arithmetic"})],t,"maximum",null),r([i.doc({heading:"Operations",subheading:"Arithmetic"})],t,"squaredDifference",null),r([i.doc({heading:"Operations",subheading:"Basic math"})],t,"atan2",null),t}();e.add=c.op(d.add),e.addStrict=c.op(d.addStrict),e.atan2=c.op(d.atan2),e.div=c.op(d.div),e.divStrict=c.op(d.divStrict),e.floorDiv=c.op(d.floorDiv),e.maximum=c.op(d.maximum),e.maximumStrict=c.op(d.maximumStrict),e.minimum=c.op(d.minimum),e.minimumStrict=c.op(d.minimumStrict),e.mod=c.op(d.mod),e.modStrict=c.op(d.modStrict),e.mul=c.op(d.mul),e.mulStrict=c.op(d.mulStrict),e.pow=c.op(d.pow),e.powStrict=c.op(d.powStrict),e.squaredDifference=c.op(d.squaredDifference),e.squaredDifferenceStrict=c.op(d.squaredDifferenceStrict),e.sub=c.op(d.sub),e.subStrict=c.op(d.subStrict)},function(t,e){"use strict";function n(t,e){return u[t][e]}function r(t){return n(t,"int32")}Object.defineProperty(e,"__esModule",{value:!0});var i;!function(t){t.float32="float32",t.int32="int32",t.bool="bool"}(i=e.DType||(e.DType={}));var a;!function(t){t.R0="R0",t.R1="R1",t.R2="R2",t.R3="R3",t.R4="R4",t.R5="R5",t.R6="R6"}(a=e.Rank||(e.Rank={}));var o;!function(t){t.float32="float32",t.int32="int32",t.bool="int32"}(o||(o={}));var s;!function(t){t.float32="float32",t.int32="int32",t.bool="bool"}(s||(s={}));var l;!function(t){t.float32="float32",t.int32="float32",t.bool="float32"}(l||(l={}));var u={float32:l,int32:o,bool:s};e.upcastType=n,e.sumOutType=r},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var i,a=arguments.length,o=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(o=(a<3?i(o):a>3?i(e,n,o):i(e,n))||o);return a>3&&o&&Object.defineProperty(e,n,o),o};Object.defineProperty(e,"__esModule",{value:!0});var i=n(509),a=n(516),o=n(512),s=n(524),l=function(){function t(){}return t.sigmoidCrossEntropyWithLogits=function(t,e){var n=a.convertToTensor(t,"labels","sigmoidCrossEntropyWithLogits"),r=a.convertToTensor(e,"logits","sigmoidCrossEntropyWithLogits");o.assertShapesMatch(n.shape,r.shape,"Error in sigmoidCrossEntropyWithLogits: ");var i=r.relu(),s=r.mul(n),l=r.abs().neg().exp().log1p();return i.sub(s).add(l)},r([i.doc({heading:"Operations",subheading:"Cross Entropy"})],t,"sigmoidCrossEntropyWithLogits",null),t}();e.sigmoidCrossEntropyWithLogits=s.op(l.sigmoidCrossEntropyWithLogits)},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var i,a=arguments.length,o=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(o=(a<3?i(o):a>3?i(e,n,o):i(e,n))||o);return a>3&&o&&Object.defineProperty(e,n,o),o};Object.defineProperty(e,"__esModule",{value:!0});var i=n(509),a=n(507),o=n(516),s=n(552),l=n(556),u=n(524),c=n(557),h=n(538),g=function(){function t(){}return t.relu=function(t){var e=o.convertToTensor(t,"x","relu");if("bool"===e.dtype)return e.toInt();var n=function(t){var n=e.step();return{$x:function(){return t.mulStrict(n.toFloat())}}};return a.ENV.engine.runKernel(function(t){return t.relu(e)},{$x:e},n)},t.elu=function(t){var e=o.convertToTensor(t,"x","elu"),n=function(t,e){var n=e[0];return{$x:function(){return a.ENV.engine.runKernel(function(e){return e.eluDer(t,n)},{dy:t,y:n})}}};return a.ENV.engine.runKernel(function(t,n){return n(t.elu(e))},{$x:e},n)},t.selu=function(t){var e=o.convertToTensor(t,"x","selu"),n=function(t){return{$x:function(){var n=e.greater(h.scalar(0)),r=h.scalar(c.SELU_SCALEALPHA),i=h.scalar(c.SELU_SCALE),a=t.mul(i),o=t.mul(r).mul(e.toFloat().exp());return l.where(n,a,o)}}};return a.ENV.engine.runKernel(function(t){return t.selu(e)},{$x:e},n)},t.leakyRelu=function(t,e){void 0===e&&(e=.2);var n=o.convertToTensor(t,"x","leakyRelu");return s.maximum(h.scalar(e).mul(n),n)},t.prelu=function(t,e){var n=o.convertToTensor(t,"x","prelu"),r=o.convertToTensor(e,"alpha","prelu"),i=h.scalar(0);return s.maximum(i,n).add(r.mul(s.minimum(i,n)))},r([i.doc({heading:"Operations",subheading:"Basic math"})],t,"relu",null),r([i.doc({heading:"Operations",subheading:"Basic math"})],t,"elu",null),r([i.doc({heading:"Operations",subheading:"Basic math"})],t,"selu",null),r([i.doc({heading:"Operations",subheading:"Basic math"})],t,"leakyRelu",null),r([i.doc({heading:"Operations",subheading:"Basic math"})],t,"prelu",null),t}();e.elu=u.op(g.elu),e.leakyRelu=u.op(g.leakyRelu),e.prelu=u.op(g.prelu),e.relu=u.op(g.relu),e.selu=u.op(g.selu)},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var i,a=arguments.length,o=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(o=(a<3?i(o):a>3?i(e,n,o):i(e,n))||o);return a>3&&o&&Object.defineProperty(e,n,o),o};Object.defineProperty(e,"__esModule",{value:!0});var i=n(509),a=n(507),o=n(516),s=n(553),l=n(512),u=n(539),c=n(524),h=n(538),g=function(){function t(){}return t.logicalNot=function(t){var e=o.convertToTensor(t,"x","logicalNot","bool");return l.assert("bool"===e.dtype,"Error Array must be of type bool."),a.ENV.engine.runKernel(function(t){return t.logicalNot(e)},{$x:e})},t.logicalAnd=function(t,e){var n=o.convertToTensor(t,"a","logicalAnd","bool"),r=o.convertToTensor(e,"b","logicalAnd","bool");return l.assert("bool"===n.dtype&&"bool"===r.dtype,"Error Array must be of type bool."),u.assertAndGetBroadcastShape(n.shape,r.shape),a.ENV.engine.runKernel(function(t){return t.logicalAnd(n,r)},{$a:n,$b:r})},t.logicalOr=function(t,e){var n=o.convertToTensor(t,"a","logicalOr","bool"),r=o.convertToTensor(e,"b","logicalOr","bool");return l.assert("bool"===n.dtype&&"bool"===r.dtype,"Error Array must be of type bool."),u.assertAndGetBroadcastShape(n.shape,r.shape),a.ENV.engine.runKernel(function(t){return t.logicalOr(n,r)},{$a:n,$b:r})},t.logicalXor=function(e,n){var r=o.convertToTensor(e,"a","logicalXor","bool"),i=o.convertToTensor(n,"b","logicalXor","bool");return l.assert("bool"===r.dtype&&"bool"===i.dtype,"Error Array must be of type bool."),u.assertAndGetBroadcastShape(r.shape,i.shape),t.logicalOr(e,n).logicalAnd(t.logicalAnd(e,n).logicalNot())},t.where=function(t,e,n){var r=o.convertToTensor(e,"a","where"),i=o.convertToTensor(n,"b","where"),u=o.convertToTensor(t,"condition","where","bool");l.assert("bool"===u.dtype,"Error Condition must be of type bool."),l.assertShapesMatch(r.shape,i.shape,"Error in where: "),1===u.rank?l.assert(u.shape[0]===r.shape[0],"The first dimension of `a` must match the size of `condition`."):l.assertShapesMatch(u.shape,i.shape,"Error in where: ");var c=s.upcastType(r.dtype,i.dtype),g=function(t){return{$condition:function(){return h.zerosLike(u)},$a:function(){return t.mul(u.cast(r.dtype))},$b:function(){return t.mul(u.logicalNot().cast(i.dtype))}}};return a.ENV.engine.runKernel(function(t){return t.where(u,r,i,c)},{$condition:u,$a:r,$b:i},g)},r([i.doc({heading:"Operations",subheading:"Logical"})],t,"logicalNot",null),r([i.doc({heading:"Operations",subheading:"Logical"})],t,"logicalAnd",null),r([i.doc({heading:"Operations",subheading:"Logical"})],t,"logicalOr",null),r([i.doc({heading:"Operations",subheading:"Logical"})],t,"logicalXor",null),r([i.doc({heading:"Operations",subheading:"Logical"})],t,"where",null),t}();e.logicalAnd=c.op(g.logicalAnd),e.logicalNot=c.op(g.logicalNot),e.logicalOr=c.op(g.logicalOr),e.logicalXor=c.op(g.logicalXor),e.where=c.op(g.where)},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SELU_SCALEALPHA=1.7580993408473768,e.SELU_SCALE=1.0507009873554805},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var i,a=arguments.length,o=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(o=(a<3?i(o):a>3?i(e,n,o):i(e,n))||o);return a>3&&o&&Object.defineProperty(e,n,o),o};Object.defineProperty(e,"__esModule",{value:!0});var i=n(509),a=n(507),o=n(516),s=n(512),l=n(518),u=n(524),c=function(){function t(){}return t.transpose=function(t,e){var n=o.convertToTensor(t,"x","transpose");if(null==e&&(e=n.shape.map(function(t,e){return e}).reverse()),s.assert(n.rank===e.length,"Error in transpose: rank of input "+n.rank+" "+("must match length of perm "+e+".")),e.forEach(function(t){s.assert(t>=0&&t<n.rank,"All entries in 'perm' must be between 0 and "+(n.rank-1)+(" but got "+e))}),n.rank<=1)return n.clone();var r=function(t){var n=l.getUndoAxesPermutation(e);return{$x:function(){return t.transpose(n)}}};return a.ENV.engine.runKernel(function(t){return t.transpose(n,e)},{$x:n},r)},r([i.doc({heading:"Operations",subheading:"Matrices"})],t,"transpose",null),t}();e.transpose=u.op(c.transpose)},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var i,a=arguments.length,o=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(o=(a<3?i(o):a>3?i(e,n,o):i(e,n))||o);return a>3&&o&&Object.defineProperty(e,n,o),o};Object.defineProperty(e,"__esModule",{value:!0});var i=n(509),a=n(550),o=n(516),s=n(524),l=function(){function t(){}return t.softmax=function(t,e){void 0===e&&(e=-1);var n=o.convertToTensor(t,"logits","softmax");if(e===-1&&(e=n.rank-1),e!==n.rank-1)throw Error("Softmax along a non-last dimension is not yet supported. "+("Logits was rank "+n.rank+" and dim was "+e));var r=a.Gradients.customGrad(function(t){var n=!0,r=t.logSumExp([e],n),i=t.toFloat().sub(r),a=i.exp(),o=function(t){var n=t.mul(a),r=!0;return n.sub(n.sum([e],r).mul(a))};return{value:a,gradFunc:o}});return r(n)},r([i.doc({heading:"Operations",subheading:"Normalization"})],t,"softmax",null),t}();e.softmax=s.op(l.softmax)},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){
var i,a=arguments.length,o=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(o=(a<3?i(o):a>3?i(e,n,o):i(e,n))||o);return a>3&&o&&Object.defineProperty(e,n,o),o};Object.defineProperty(e,"__esModule",{value:!0});var i=n(509),a=n(507),o=n(516),s=n(512),l=n(524),u=function(){function t(){}return t.localResponseNormalization=function(t,e,n,r,i){void 0===e&&(e=5),void 0===n&&(n=1),void 0===r&&(r=1),void 0===i&&(i=.5);var l=o.convertToTensor(t,"x","localResponseNormalization");s.assert(4===l.rank||3===l.rank,"Error in localResponseNormalization: x must be rank 3 or 4 but got\n               rank "+l.rank+"."),s.assert(s.isInt(e),"Error in localResponseNormalization: depthRadius must be an integer\n                     but got depthRadius "+e+".");var u=l,c=!1;3===l.rank&&(c=!0,u=l.as4D(1,l.shape[0],l.shape[1],l.shape[2]));var h=a.ENV.engine.runKernel(function(t){return t.localResponseNormalization4D(u,e,n,r,i)},{x4D:u});return c?h.as3D(h.shape[1],h.shape[2],h.shape[3]):h},r([i.doc({heading:"Operations",subheading:"Normalization"})],t,"localResponseNormalization",null),t}();e.localResponseNormalization=l.op(u.localResponseNormalization)},function(t,e,n){"use strict";function r(t,e,n){if(void 0===n&&(n=null),0===t.rank)return t.abs();if(1!==t.rank&&null===n)return r(t.reshape([-1]),e,n);if(1===t.rank||"number"==typeof n||n instanceof Array&&1===n.length){if(1===e)return t.abs().sum(n);if(e===1/0)return t.abs().max(n);if(e===-(1/0))return t.abs().min(n);if("euclidean"===e||2===e)return t.abs().pow(u.scalar(2,"int32")).sum(n).sqrt();throw new Error("Error in norm: invalid ord value: "+e)}if(n instanceof Array&&2===n.length){if(1===e)return t.abs().sum(n[0]).max(n[1]-1);if(e===1/0)return t.abs().sum(n[1]).max(n[0]);if(e===-(1/0))return t.abs().sum(n[1]).min(n[0]);if("fro"===e||"euclidean"===e)return t.square().sum(n).sqrt();throw new Error("Error in norm: invalid ord value: "+e)}throw new Error("Error in norm: invalid axis: "+n)}var i=this&&this.__decorate||function(t,e,n,r){var i,a=arguments.length,o=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(o=(a<3?i(o):a>3?i(e,n,o):i(e,n))||o);return a>3&&o&&Object.defineProperty(e,n,o),o};Object.defineProperty(e,"__esModule",{value:!0});var a=n(509),o=n(516),s=n(518),l=n(524),u=n(538),c=function(){function t(){}return t.norm=function(t,e,n,i){void 0===e&&(e="euclidean"),void 0===n&&(n=null),void 0===i&&(i=!1),t=o.convertToTensor(t,"x","norm");var a=r(t,e,n),l=a.shape;if(i){var u=s.parseAxisParam(n,t.shape);l=s.expandShapeToKeepDim(a.shape,u)}return a.reshape(l)},i([a.doc({heading:"Operations",subheading:"Matrices"})],t,"norm",null),t}();e.norm=l.op(c.norm)},function(t,e,n){"use strict";function r(t,e){for(var n=[],r=t;r<e;++r)n.push(r);return n}function i(t){for(var e=[],n=0;n<t.length;++n)for(var r=0;r<t[n].length;++r)e.push(t[n][r]);return e}function a(t,e){for(var n=d.maximum(e,C.zerosLike(e)),r=I.gather(t,n),i=p.greaterEqual(e,C.scalar(0,"int32")),a=r.rank-i.rank,o=0;o<a;++o)i=h.expandDims(i,o+1);i=f.logicalAnd(i,C.ones(r.shape,"bool"));var s=C.zerosLike(r);return f.where(i,r,s)}var o=this&&this.__decorate||function(t,e,n,r){var i,a=arguments.length,o=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(o=(a<3?i(o):a>3?i(e,n,o):i(e,n))||o);return a>3&&o&&Object.defineProperty(e,n,o),o};Object.defineProperty(e,"__esModule",{value:!0});var s=n(509),l=n(507),u=n(516),c=n(512),h=n(521),g=n(518),d=n(552),p=n(551),f=n(556),A=n(524),C=n(538),I=function(){function t(){}return t.unsortedSegmentSum=function(t,e,n){var r=u.convertToTensor(t,"x","unsortedSegmentSum"),i=u.convertToTensor(e,"segmentIds","unsortedSegmentSum","int32");c.assert("int32"===i.dtype,"segmentIds must be of dtype `int32`"),c.assert(c.isInt(n),"numSegments must be of dtype int");var o=function(t){var e=function(){return a(t,i)};return{$x:e}};return l.ENV.engine.runKernel(function(t){return t.unsortedSegmentSum(r,i,n)},{$x:r},o)},t.gather=function(e,n,a){void 0===a&&(a=0);var o=u.convertToTensor(e,"x","gather"),s=u.convertToTensor(n,"indices","gather","int32");c.assert("int32"===s.dtype,"Indices must be of dtype `int32`"),a=g.parseAxisParam(a,o.shape)[0];var h=function(e){var n=function(){if(0===a)return t.unsortedSegmentSum(e,s,o.shape[a]);var n=o.shape,l=s.size,u=n.slice(0,a),c=u.length,h=n.slice(a,n.length).slice(1),d=h.length,p=r(0,c),f=r(c+1,c+1+d),A=i([u,[l],h]),C=e.reshape(A),I=s.reshape([l]),m=i([[c],p,f]),v=C.transpose(m),y=t.unsortedSegmentSum(v,I,o.shape[a]),b=g.getUndoAxesPermutation(m);return y=y.transpose(b)};return{$x:n}};return l.ENV.engine.runKernel(function(t){return t.gather(o,s,a)},{$x:o},h)},o([s.doc({heading:"Operations",subheading:"Segment"})],t,"unsortedSegmentSum",null),o([s.doc({heading:"Tensors",subheading:"Slicing and Joining"})],t,"gather",null),t}();e.gather=A.op(I.gather),e.unsortedSegmentSum=A.op(I.unsortedSegmentSum)},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var i,a=arguments.length,o=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(o=(a<3?i(o):a>3?i(e,n,o):i(e,n))||o);return a>3&&o&&Object.defineProperty(e,n,o),o};Object.defineProperty(e,"__esModule",{value:!0});var i=n(509),a=n(516),o=n(524),s=function(){function t(){}return t.multiRNNCell=function(t,e,n,r){for(var i=a.convertToTensor(e,"data","multiRNNCell"),o=a.convertToTensorArray(n,"c","multiRNNCell"),s=a.convertToTensorArray(r,"h","multiRNNCell"),l=i,u=[],c=0;c<t.length;c++){var h=t[c](l,o[c],s[c]);u.push(h[0]),u.push(h[1]),l=h[1]}for(var g=[],d=[],c=0;c<u.length;c+=2)g.push(u[c]),d.push(u[c+1]);return[g,d]},t.basicLSTMCell=function(t,e,n,r,i,o){var s=a.convertToTensor(t,"forgetBias","basicLSTMCell"),l=a.convertToTensor(e,"lstmKernel","basicLSTMCell"),u=a.convertToTensor(n,"lstmBias","basicLSTMCell"),c=a.convertToTensor(r,"data","basicLSTMCell"),h=a.convertToTensor(i,"c","basicLSTMCell"),g=a.convertToTensor(o,"h","basicLSTMCell"),d=c.concat(g,1),p=d.matMul(l),f=p.add(u),A=f.shape[0],C=f.shape[1]/4,I=[A,C],m=f.slice([0,0],I),v=f.slice([0,C],I),y=f.slice([0,2*C],I),b=f.slice([0,3*C],I),x=m.sigmoid().mulStrict(v.tanh()).addStrict(h.mulStrict(s.add(y).sigmoid())),w=x.tanh().mulStrict(b.sigmoid());return[x,w]},r([i.doc({heading:"Operations",subheading:"RNN"})],t,"multiRNNCell",null),r([i.doc({heading:"Operations",subheading:"RNN"})],t,"basicLSTMCell",null),t}();e.basicLSTMCell=o.op(s.basicLSTMCell),e.multiRNNCell=o.op(s.multiRNNCell)},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var i,a=arguments.length,o=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(o=(a<3?i(o):a>3?i(e,n,o):i(e,n))||o);return a>3&&o&&Object.defineProperty(e,n,o),o};Object.defineProperty(e,"__esModule",{value:!0});var i=n(509),a=n(516),o=n(512),s=n(552),l=n(524),u=n(538),c=function(){function t(){}return t.movingAverage=function(t,e,n,r,i){void 0===i&&(i=!0);var l=a.convertToTensor(t,"v","movingAverage"),c=a.convertToTensor(e,"x","movingAverage"),h=a.convertToTensor(n,"decay","movingAverage");a.assertTypesMatch(l,c),o.assert(o.arraysEqual(l.shape,c.shape),"Shape mismatch in v and x");var g=u.scalar(1),d=g.sub(h),p=c.sub(l).mul(d);if(i){o.assert(null!=r,"When using zeroDebias: true, step is required.");var f=a.convertToTensor(r,"step","movingAverage");p=p.div(g.sub(s.pow(h,f)))}return l.add(p)},r([i.doc({heading:"Operations",subheading:"Moving Average"})],t,"movingAverage",null),t}();e.movingAverage=l.op(c.movingAverage)},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var i,a=arguments.length,o=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(o=(a<3?i(o):a>3?i(e,n,o):i(e,n))||o);return a>3&&o&&Object.defineProperty(e,n,o),o};Object.defineProperty(e,"__esModule",{value:!0});var i=n(509),a=n(507),o=n(516),s=n(524),l=function(){function t(){}return t.stridedSlice=function(t,e,n,r,i,s){void 0===i&&(i=0),void 0===s&&(s=0);var l=o.convertToTensor(t,"x","stridedSlice");return a.ENV.engine.runKernel(function(t){return t.stridedSlice(l,e,n,r,i,s)},{$x:l})},r([i.doc({heading:"Operations",subheading:"Slicing and Joining"})],t,"stridedSlice",null),t}();e.stridedSlice=s.op(l.stridedSlice)},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var i,a=arguments.length,o=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(o=(a<3?i(o):a>3?i(e,n,o):i(e,n))||o);return a>3&&o&&Object.defineProperty(e,n,o),o};Object.defineProperty(e,"__esModule",{value:!0});var i,a=n(509),o=n(549),s=n(516),l=n(512),u=n(518),c=n(552),h=n(524),g=n(538);!function(t){t[t.NONE=0]="NONE",t[t.MEAN=1]="MEAN",t[t.SUM=2]="SUM",t[t.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"}(i=e.Reduction||(e.Reduction={}));var d=function(){function t(){}return t.computeWeightedLoss=function(t,e,n){void 0===n&&(n=i.SUM_BY_NONZERO_WEIGHTS);var r=s.convertToTensor(t,"losses","computeWeightedLoss"),a=null;null!=e&&(a=s.convertToTensor(e,"weights","computeWeightedLoss"));var o=null==a?r:r.mul(a);if(n===i.NONE)return o;if(n===i.SUM)return o.sum();if(n===i.MEAN)return null==a?o.mean():o.sum().div(a.sum());if(n===i.SUM_BY_NONZERO_WEIGHTS){if(null==a)return o.sum().div(g.scalar(r.size));var l=a.mul(g.ones(r.shape)),u=l.notEqual(g.scalar(0)).sum().toFloat();return o.sum().div(u)}throw Error("Unknown reduction: "+n)},t.absoluteDifference=function(e,n,r,a){void 0===a&&(a=i.SUM_BY_NONZERO_WEIGHTS);var o=s.convertToTensor(e,"labels","absoluteDifference"),u=s.convertToTensor(n,"predictions","absoluteDifference"),c=null;null!=r&&(c=s.convertToTensor(r,"weights","absoluteDifference")),l.assertShapesMatch(o.shape,u.shape,"Error in absoluteDifference: ");var h=o.sub(u).abs();return t.computeWeightedLoss(h,c,a)},t.meanSquaredError=function(e,n,r,a){void 0===a&&(a=i.SUM_BY_NONZERO_WEIGHTS);var o=s.convertToTensor(e,"labels","meanSquaredError"),u=s.convertToTensor(n,"predictions","meanSquaredError"),c=null;null!=r&&(c=s.convertToTensor(r,"weights","meanSquaredError")),l.assertShapesMatch(o.shape,u.shape,"Error in meanSquaredError: ");var h=o.squaredDifference(u);return t.computeWeightedLoss(h,c,a)},t.cosineDistance=function(e,n,r,a,o){void 0===o&&(o=i.SUM_BY_NONZERO_WEIGHTS);var u=s.convertToTensor(e,"labels","cosineDistance"),c=s.convertToTensor(n,"predictions","cosineDistance"),h=null;null!=a&&(h=s.convertToTensor(a,"weights","cosineDistance")),l.assertShapesMatch(u.shape,c.shape,"Error in cosineDistance: ");var d=g.scalar(1),p=d.sub(u.mul(c).sum(r,!0));return t.computeWeightedLoss(p,h,o)},t.hingeLoss=function(e,n,r,a){void 0===a&&(a=i.SUM_BY_NONZERO_WEIGHTS);var o=s.convertToTensor(e,"labels","hingeLoss"),u=s.convertToTensor(n,"predictions","hingeLoss"),c=null;null!=r&&(c=s.convertToTensor(r,"weights","hingeLoss")),l.assertShapesMatch(o.shape,u.shape,"Error in hingeLoss: ");var h=g.scalar(1);o=g.scalar(2).mul(o).sub(h);var d=h.sub(o.mul(u)).relu();return t.computeWeightedLoss(d,c,a)},t.logLoss=function(e,n,r,a,o){void 0===a&&(a=1e-7),void 0===o&&(o=i.SUM_BY_NONZERO_WEIGHTS);var u=s.convertToTensor(e,"labels","logLoss"),c=s.convertToTensor(n,"predictions","logLoss"),h=null;null!=r&&(h=s.convertToTensor(r,"weights","logLoss")),l.assertShapesMatch(u.shape,c.shape,"Error in logLoss: ");var d=g.scalar(1),p=g.scalar(a),f=u.mul(c.add(p).log()).neg().sub(d.sub(u).mul(d.sub(c).add(p).log()));return t.computeWeightedLoss(f,h,o)},t.huberLoss=function(e,n,r,a,o){void 0===a&&(a=1),void 0===o&&(o=i.SUM_BY_NONZERO_WEIGHTS);var u=s.convertToTensor(e,"labels","huberLoss"),h=s.convertToTensor(n,"predictions","huberLoss"),d=null;null!=r&&(d=s.convertToTensor(r,"weights","huberLoss")),l.assertShapesMatch(u.shape,h.shape,"Error in huberLoss: ");var p=g.scalar(a),f=h.sub(u).abs(),A=c.minimum(f,p),C=f.sub(A),I=g.scalar(.5).mul(A.square()).add(p.mul(C));return t.computeWeightedLoss(I,d,o)},t.softmaxCrossEntropy=function(t,e,n){void 0===n&&(n=-1);var r=s.convertToTensor(t,"labels","softmaxCrossEntropy"),i=s.convertToTensor(e,"logits","softmaxCrossEntropy");if(l.assertShapesMatch(r.shape,i.shape,"Error in softmaxCrossEntropy: "),n===-1&&(n=i.rank-1),n!==i.rank-1)throw Error("Softmax cross entropy along a non-last dimension is not yet "+("supported. Labels / logits was rank "+i.rank+" ")+("and dim was "+n));var a=o.customGrad(function(t,e){var r=e.softmax(n),i=g.scalar(1e-5).add(r).log().mul(t).neg(),a=i.sum([n]),o=function(e){var i=u.expandShapeToKeepDim(e.shape,[n]);return[e.reshape(i).mul(t.toFloat().sub(r)),e.reshape(i).mul(r.sub(t.toFloat()))]};return{value:a,gradFunc:o}});return a(r,i)},r([a.doc({heading:"Training",subheading:"Losses",namespace:"losses"})],t,"computeWeightedLoss",null),r([a.doc({heading:"Training",subheading:"Losses",namespace:"losses"})],t,"absoluteDifference",null),r([a.doc({heading:"Training",subheading:"Losses",namespace:"losses"})],t,"meanSquaredError",null),r([a.doc({heading:"Training",subheading:"Losses",namespace:"losses"})],t,"cosineDistance",null),r([a.doc({heading:"Training",subheading:"Losses",namespace:"losses"})],t,"hingeLoss",null),r([a.doc({heading:"Training",subheading:"Losses",namespace:"losses"})],t,"logLoss",null),r([a.doc({heading:"Training",subheading:"Losses",namespace:"losses"})],t,"huberLoss",null),r([a.doc({heading:"Training",subheading:"Losses",namespace:"losses"})],t,"softmaxCrossEntropy",null),t}();e.absoluteDifference=h.op(d.absoluteDifference),e.computeWeightedLoss=h.op(d.computeWeightedLoss),e.cosineDistance=h.op(d.cosineDistance),e.hingeLoss=h.op(d.hingeLoss),e.huberLoss=h.op(d.huberLoss),e.logLoss=h.op(d.logLoss),e.meanSquaredError=h.op(d.meanSquaredError),e.softmaxCrossEntropy=h.op(d.softmaxCrossEntropy)},function(t,e,n){"use strict";function r(t,e){return void 0===e&&(e=!1),o.ENV.engine.tidy(function(){if(2!==t.shape.length)throw new Error("qr2d() requires a 2D Tensor, but got a "+t.shape.length+"D Tensor.");for(var n=t.shape[0],r=t.shape[1],i=u.eye(n),a=t.clone(),l=d.tensor2d([[1]],[1,1]),c=l.clone(),h=n>=r?r:n,g=function(t){var e,u=a,h=c,g=i;e=o.ENV.engine.tidy(function(){var e=a.slice([t,t],[n-t,1]),o=e.norm(),s=a.slice([t,t],[1,1]),u=s.sign().neg(),h=s.sub(u.mul(o)),g=e.div(h);c=1===g.shape[0]?l.clone():l.concat(g.slice([1,0],[g.shape[0]-1,g.shape[1]]),0);var d=u.matMul(h).div(o).neg(),p=a.slice([t,0],[n-t,r]),f=d.mul(c);a=0===t?p.sub(f.matMul(c.transpose().matMul(p))):a.slice([0,0],[t,r]).concat(p.sub(f.matMul(c.transpose().matMul(p))),0);var A=i.slice([0,t],[n,i.shape[1]-t]);return i=0===t?A.sub(A.matMul(c).matMul(f.transpose())):i.slice([0,0],[n,t]).concat(A.sub(A.matMul(c).matMul(f.transpose())),1),[c,a,i]}),c=e[0],a=e[1],i=e[2],s.dispose([u,h,g])},p=0;p<h;++p)g(p);return!e&&n>r&&(i=i.slice([0,0],[n,r]),a=a.slice([0,0],[r,r])),[i,a]})}var i=this&&this.__decorate||function(t,e,n,r){var i,a=arguments.length,o=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(o=(a<3?i(o):a>3?i(e,n,o):i(e,n))||o);return a>3&&o&&Object.defineProperty(e,n,o),o};Object.defineProperty(e,"__esModule",{value:!0});var a=n(509),o=n(507),s=n(549),l=n(512),u=n(521),c=n(561),h=n(524),g=n(548),d=n(538),p=function(){function t(){}return t.gramSchmidt=function(t){var e;if(Array.isArray(t)){e=!1,l.assert(null!=t&&t.length>0,"Gram-Schmidt process: input must not be null, undefined, or empty");for(var n=t[0].shape[0],r=1;r<t.length;++r)l.assert(t[r].shape[0]===n,"Gram-Schmidt: Non-unique lengths found in the input vectors: "+("("+t[r].shape[0]+" vs. "+n+")"))}else e=!0,t=u.split(t,t.shape[0],0).map(function(t){return u.squeeze(t,[0])});l.assert(t.length<=t[0].shape[0],"Gram-Schmidt: Number of vectors ("+t.length+") exceeds "+("number of dimensions ("+t[0].shape[0]+")."));for(var i=[],a=t,s=function(t){i.push(o.ENV.engine.tidy(function(){var e=a[t];if(t>0)for(var n=0;n<t;++n){var r=g.sum(i[n].mulStrict(e)).mul(i[n]);e=e.sub(r)}return e.div(c.norm(e,"euclidean"))}))},r=0;r<t.length;++r)s(r);return e?u.stack(i,0):i},t.qr=function(t,e){if(void 0===e&&(e=!1),t.rank<2)throw new Error("qr() requires input tensor to have a rank >= 2, but got rank "+t.rank);if(2===t.rank)return r(t,e);var n=t.shape.slice(0,t.shape.length-2).reduce(function(t,e){return t*e}),i=u.unstack(t.reshape([n,t.shape[t.shape.length-2],t.shape[t.shape.length-1]]),0),a=[],o=[];i.forEach(function(t){var n=r(t,e),i=n[0],s=n[1];a.push(i),o.push(s)});var s=u.stack(a,0).reshape(t.shape),l=u.stack(o,0).reshape(t.shape);return[s,l]},i([a.doc({heading:"Operations",subheading:"Linear Algebra"})],t,"gramSchmidt",null),i([a.doc({heading:"Operations",subheading:"Linear Algebra"})],t,"qr",null),t}();e.gramSchmidt=h.op(p.gramSchmidt),e.qr=h.op(p.qr)},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var i,a=arguments.length,o=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(o=(a<3?i(o):a>3?i(e,n,o):i(e,n))||o);return a>3&&o&&Object.defineProperty(e,n,o),o};Object.defineProperty(e,"__esModule",{value:!0});var i=n(509),a=n(507),o=n(516),s=n(512),l=n(524),u=function(){function t(){}return t.resizeBilinear=function(t,e,n){void 0===n&&(n=!1);var r=o.convertToTensor(t,"images","resizeBilinear");s.assert(3===r.rank||4===r.rank,"Error in resizeBilinear: x must be rank 3 or 4, but got "+("rank "+r.rank+".")),s.assert(2===e.length,"Error in resizeBilinear: new shape must 2D, but got shape "+(e+"."));var i=r,l=!1;3===r.rank&&(l=!0,i=r.as4D(1,r.shape[0],r.shape[1],r.shape[2]));var u=e[0],c=e[1],h=function(t,e){return t.resizeBilinear(i,u,c,n)},g=function(t,e){return{batchImages:function(){return a.ENV.engine.runKernel(function(e){return e.resizeBilinearBackprop(t,i,n)},{})}}},d=a.ENV.engine.runKernel(h,{batchImages:i},g);return l?d.as3D(d.shape[1],d.shape[2],d.shape[3]):d},t.resizeNearestNeighbor=function(t,e,n){void 0===n&&(n=!1);var r=o.convertToTensor(t,"images","resizeNearestNeighbor");s.assert(3===r.rank||4===r.rank,"Error in resizeNearestNeighbor: x must be rank 3 or 4, but got "+("rank "+r.rank+".")),s.assert(2===e.length,"Error in resizeNearestNeighbor: new shape must 2D, but got shape "+(e+".")),s.assert("float32"===r.dtype||"int32"===r.dtype,"`images` must have `int32` or `float32` as dtype");var i=r,l=!1;3===r.rank&&(l=!0,i=r.as4D(1,r.shape[0],r.shape[1],r.shape[2]));var u=e[0],c=e[1],h=function(t,e){return t.resizeNearestNeighbor(i,u,c,n)},g=function(t,e){return{batchImages:function(){return a.ENV.engine.runKernel(function(e){return e.resizeNearestNeighborBackprop(t,i,n)},{})}}},d=a.ENV.engine.runKernel(h,{batchImages:i},g);return l?d.as3D(d.shape[1],d.shape[2],d.shape[3]):d},r([i.doc({heading:"Operations",subheading:"Images",namespace:"image"})],t,"resizeBilinear",null),r([i.doc({heading:"Operations",subheading:"Images",namespace:"image"})],t,"resizeNearestNeighbor",null),t}();e.resizeBilinear=l.op(u.resizeBilinear),e.resizeNearestNeighbor=l.op(u.resizeNearestNeighbor)},function(t,e,n){"use strict";function r(t){return t<=e.PARALLELIZE_THRESHOLD?t:i.nearestDivisor(t,Math.floor(Math.sqrt(t)))}Object.defineProperty(e,"__esModule",{value:!0});var i=n(512);e.PARALLELIZE_THRESHOLD=30,e.computeOptimalWindowSize=r},function(t,e,n){"use strict";function r(t,e){var n,r=!1;for(t<=o.PARALLELIZE_THRESHOLD?(n=t,r=!0):n=a.nearestDivisor(t,Math.floor(Math.sqrt(t)));!r;){if(n>e||n===t){r=!0;break}n=a.nearestDivisor(t,n+1)}return n}function i(t,e,n){for(var r=[],i=t.length,a=0;a<i;a++)a!==e?r.push(t[a]):r.push(n);return r}Object.defineProperty(e,"__esModule",{value:!0});var a=n(512),o=n(569);e.segOpComputeOptimalWindowSize=r,e.computeOutShape=i},function(t,e,n){"use strict";function r(t,e,n){if(!s.hasEncodingLoss(t.dtype,e))return o.Tensor.make(t.shape,{dataId:t.dataId},e);if("int32"===e)return n.int(t);if("bool"===e)return n.notEqual(t,a.scalar(0,t.dtype));throw new Error("Error in Cast: unknown dtype argument ("+e+")")}function i(t,e){return o.Tensor.make(e,{dataId:t.dataId},t.dtype)}Object.defineProperty(e,"__esModule",{value:!0});var a=n(538),o=n(514),s=n(512);e.castTensor=r,e.reshapeTensor=i},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e,n){this.variableNames=["A"];var r=t.windowSize,i=t.batchSize,a=t.inSize,o=Math.ceil(a/r);n||this.variableNames.push("bestIndicesA"),this.outputShape=[i,o];var s="max"===e?">":"<",l=n?"inOffset + i;":"round(getBestIndicesA(batch, inOffset + i));";this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * "+r+";\n\n        int bestIndex = 0;\n        float bestValue = getA(batch, inOffset);\n\n        for (int i = 0; i < "+r+"; i++) {\n          int inIdx = "+l+";\n          float candidate = getA(batch, inIdx);\n          if (candidate "+s+" bestValue) {\n            bestValue = candidate;\n            bestIndex = inIdx;\n          }\n        }\n        setOutput(float(bestIndex));\n      }\n    "}return t}();e.ArgMinMaxProgram=n},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t){this.variableNames=["dy"],this.outputShape=t.inShape;var e=t.filterHeight,n=t.filterWidth,r=t.strideHeight,i=t.strideWidth,a=e-1-t.padInfo.top,o=n-1-t.padInfo.left,s=1/(e*n);this.userCode="\n      const ivec2 pads = ivec2("+a+", "+o+");\n      const float avgMultiplier = float("+s+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+e+"; wR++) {\n          float dyR = float(dyRCorner + wR) / "+r+".0;\n\n          if (dyR < 0.0 || dyR >= "+t.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < "+n+"; wC++) {\n            float dyC = float(dyCCorner + wC) / "+i+".0;\n\n            if (dyC < 0.0 || dyC >= "+t.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n\n            dotProd += dyValue * avgMultiplier;\n          }\n        }\n        setOutput(dotProd);\n      }\n    "}return t}();e.AvgPool2DBackpropProgram=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(539),i=function(){function t(t,e,n,i,a,o){this.outputShape=[],this.supportsBroadcasting=!0,this.variableNames=["x","mean","variance"],r.assertAndGetBroadcastShape(t,e),r.assertAndGetBroadcastShape(t,n);var s="0.0";null!=i&&(r.assertAndGetBroadcastShape(t,i),this.variableNames.push("offset"),s="getOffsetAtOutCoords()");var l="1.0";null!=a&&(r.assertAndGetBroadcastShape(t,a),this.variableNames.push("scale"),l="getScaleAtOutCoords()"),this.outputShape=t,this.userCode="\n      void main() {\n        float x = getXAtOutCoords();\n        float mean = getMeanAtOutCoords();\n        float variance = getVarianceAtOutCoords();\n        float offset = "+s+";\n        float scale = "+l+";\n        float inv = scale * inversesqrt(variance + float("+o+"));\n        setOutput((x - mean) * inv + offset);\n      }\n    "}return t}();e.BatchNormProgram=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(539),i="\n  if (isNaN(a)) return a;\n  if (isNaN(b)) return b;\n";e.ADD="return a + b;",e.SUB="return a - b;",e.MUL="return a * b;",e.DIV="if (a == b) return 1.0;\n  return a / b;",e.INT_DIV="\n  float resultSign = sign(a) * sign(b);\n  int ia = round(a);\n  int ib = round(b);\n  int result = ia / ib;\n  int amodb = ia - ib * result;\n\n  if (resultSign < 0.0 && amodb != 0) {\n    result -= 1;\n  }\n  return float(result);\n",e.POW="\nif(a < 0.0 && floor(b) < b){\n  return NAN;\n}\nreturn (round(mod(b, 2.0)) == 0 || round(mod(b, 2.0)) == 2) ?\n    pow(abs(a), b) : sign(a) * pow(abs(a), b);\n",e.SQUARED_DIFFERENCE="return (a - b) * (a - b);",e.EQUAL="return float(a == b);",e.NOT_EQUAL="return float(a != b);",e.LESS="return float(a < b);",e.LESS_EQUAL="return float(a <= b);",e.GREATER="return float(a > b);",e.GREATER_EQUAL="return float(a >= b);",e.LOGICAL_AND="return float(a >= 1.0 && b >= 1.0);",e.LOGICAL_OR="return float(a >= 1.0 || b >= 1.0);",e.MAX=i+"\n  return max(a, b);\n",e.MIN=i+"\n  return min(a, b);\n",e.MOD="if (b == 0.0) return NAN;\n  return mod(a, b);",e.ATAN2=i+"\n  return atan(a, b);\n",e.ELU_DER="return (b >= 1.0) ? a : a * (b + 1.0);";var a=function(){function t(t,e,n){this.variableNames=["A","B"],this.supportsBroadcasting=!0,this.outputShape=r.assertAndGetBroadcastShape(e,n),this.userCode="\n      uniform float NAN;\n      float binaryOperation(float a, float b) {\n        "+t+"\n      }\n\n      void main() {\n        float a = getAAtOutCoords();\n        float b = getBAtOutCoords();\n        setOutput(binaryOperation(a, b));\n      }\n    "}return t.prototype.getCustomSetupFunc=function(){var t=this;return function(e,n){null==t.startLoc&&(t.startLoc=e.getUniformLocationNoThrow(n,"NAN"),null==t.startLoc)||e.gl.uniform1f(t.startLoc,NaN)}},t}();e.BinaryOpProgram=a},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e,n){this.variableNames=["A"],this.outputShape=t;var r=e.toFixed(20),i=n.toFixed(20);this.userCode="\n      void main() {\n        float value = getAAtOutCoords();\n        if (isNaN(value)) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, "+r+", "+i+"));\n      }\n    "}return t}();e.ClipProgram=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(523),i=function(){function t(t,e){this.variableNames=["A","B"],this.outputShape=[],this.outputShape=r.computeOutShape(t,e,1),this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int yR = coords.x;\n        int yC = coords.y;\n\n        float value = 0.0;\n        if (yC < "+t[1]+") {\n          value = getA(yR, yC);\n        } else {\n          yC -= "+t[1]+";\n          value = getB(yR, yC);\n        }\n\n        setOutput(value);\n      }\n    "}return t}();e.ConcatProgram=i},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t){this.variableNames=["x","dy"],this.outputShape=t.filterShape;var e=t.strideHeight,n=t.strideWidth,r=t.padInfo.top,i=t.padInfo.left;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int d2 = coords.w;\n\n        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int b = 0; b < "+t.batchSize+"; b++) {\n          for (int yR = 0; yR < "+t.outHeight+"; yR++) {\n            int xR = wR + yR * "+e+" - "+r+";\n\n            if (xR < 0 || xR >= "+t.inHeight+") {\n              continue;\n            }\n\n            for (int yC = 0; yC < "+t.outWidth+"; yC++) {\n              int xC = wC + yC * "+n+" - "+i+";\n\n              if (xC < 0 || xC >= "+t.inWidth+") {\n                continue;\n              }\n\n              float dyValue = getDy(b, yR, yC, d2);\n              float xValue = getX(b, xR, xC, d1);\n              dotProd += (xValue * dyValue);\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "}return t}();e.Conv2DDerFilterProgram=n;var r=function(){function t(t){this.variableNames=["dy","W"],this.outputShape=t.inShape;var e=t.filterHeight,n=t.filterWidth,r=t.strideHeight,i=t.strideWidth,a=e-1-t.padInfo.top,o=n-1-t.padInfo.left;this.userCode="\n      const ivec2 pads = ivec2("+a+", "+o+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[3];\n\n        ivec2 dyCorner = coords.yz - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+e+"; wR++) {\n          float dyR = float(dyRCorner + wR) / "+r+".0;\n\n          if (dyR < 0.0 || dyR >= "+t.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = "+e+" - 1 - wR;\n\n          for (int wC = 0; wC < "+n+"; wC++) {\n            float dyC = float(dyCCorner + wC) / "+i+".0;\n\n            if (dyC < 0.0 || dyC >= "+t.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = "+n+" - 1 - wC;\n\n            for (int d2 = 0; d2 < "+t.outChannels+"; d2++) {\n              float xValue = getDy(batch, idyR, idyC, d2);\n              float wValue = getW(wRPerm, wCPerm, d1, d2);\n              dotProd += xValue * wValue;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "}return t}();e.Conv2DDerInputProgram=r},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t){this.variableNames=["x","dy"],this.outputShape=t.filterShape;var e=t.strideHeight,n=t.strideWidth,r=t.padInfo.top,i=t.padInfo.left,a=t.outChannels/t.inChannels;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int dm = coords.w;\n        int d2 = d1 * "+a+" + dm;\n\n        float dotProd = 0.0;\n\n        // TODO: Vec4 over the batch size\n        for (int b = 0; b < "+t.batchSize+"; b++) {\n          for (int yR = 0; yR < "+t.outHeight+"; yR++) {\n            int xR = wR + yR * "+e+" - "+r+";\n\n            if (xR < 0 || xR >= "+t.inHeight+") {\n              continue;\n            }\n\n            for (int yC = 0; yC < "+t.outWidth+"; yC++) {\n              int xC = wC + yC * "+n+" - "+i+";\n\n              if (xC < 0 || xC >= "+t.inWidth+") {\n                continue;\n              }\n\n              float dyValue = getDy(b, yR, yC, d2);\n              float xValue = getX(b, xR, xC, d1);\n              dotProd += (xValue * dyValue);\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "}return t}();e.DepthwiseConv2DDerFilterProgram=n;var r=function(){function t(t){this.variableNames=["dy","W"],this.outputShape=t.inShape;var e=t.filterHeight,n=t.filterWidth,r=t.strideHeight,i=t.strideWidth,a=e-1-t.padInfo.top,o=n-1-t.padInfo.left,s=t.outChannels/t.inChannels;
this.userCode="\n      const ivec2 pads = ivec2("+a+", "+o+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[3];\n        ivec2 dyCorner = coords.yz - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        float dotProd = 0.0;\n\n        for (int wR = 0; wR < "+e+"; wR++) {\n          float dyR = float(dyRCorner + wR) / "+r+".0;\n\n          if (dyR < 0.0 || dyR >= "+t.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = "+e+" - 1 - wR;\n\n          for (int wC = 0; wC < "+n+"; wC++) {\n            float dyC = float(dyCCorner + wC) / "+i+".0;\n\n            if (dyC < 0.0 || dyC >= "+t.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = "+n+" - 1 - wC;\n\n            // TODO: Vec4 over the channelMul\n            for (int dm = 0; dm < "+s+"; dm++) {\n              int d2 = d1 * "+s+" + dm;\n              float xValue = getDy(batch, idyR, idyC, d2);\n              float wValue = getW(wRPerm, wCPerm, d1, dm);\n              dotProd += xValue * wValue;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "}return t}();e.DepthwiseConv2DDerInputProgram=r},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t){this.variableNames=["x","W"],this.outputShape=t.outShape;var e=t.padInfo.top,n=t.padInfo.left,r=t.strideHeight,i=t.strideWidth,a=t.dilationHeight,o=t.dilationWidth,s=t.filterHeight,l=t.filterWidth,u=4*Math.floor(t.inChannels/4),c=t.inChannels%4;this.userCode="\n      const ivec2 strides = ivec2("+r+", "+i+");\n      const ivec2 pads = ivec2("+e+", "+n+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d2 = coords[3];\n\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+s+"; wR++) {\n          int xR = xRCorner + wR * "+a+";\n\n          if (xR < 0 || xR >= "+t.inHeight+") {\n            continue;\n          }\n\n          for (int wC = 0; wC < "+l+"; wC++) {\n            int xC = xCCorner + wC * "+o+";\n\n            if (xC < 0 || xC >= "+t.inWidth+") {\n              continue;\n            }\n\n            for (int d1 = 0; d1 < "+u+"; d1 += 4) {\n              vec4 xValues = vec4(\n                getX(batch, xR, xC, d1),\n                getX(batch, xR, xC, d1 + 1),\n                getX(batch, xR, xC, d1 + 2),\n                getX(batch, xR, xC, d1 + 3)\n              );\n              vec4 wValues = vec4(\n                getW(wR, wC, d1, d2),\n                getW(wR, wC, d1 + 1, d2),\n                getW(wR, wC, d1 + 2, d2),\n                getW(wR, wC, d1 + 3, d2)\n              );\n\n              dotProd += dot(xValues, wValues);\n            }\n\n            if ("+(1===c)+") {\n              dotProd +=\n                getX(batch, xR, xC, "+u+") *\n                getW(wR, wC, "+u+", d2);\n            } else if ("+(2===c)+") {\n              vec2 xValues = vec2(\n                getX(batch, xR, xC, "+u+"),\n                getX(batch, xR, xC, "+u+" + 1)\n              );\n              vec2 wValues = vec2(\n                getW(wR, wC, "+u+", d2),\n                getW(wR, wC, "+u+" + 1, d2)\n              );\n              dotProd += dot(xValues, wValues);\n            } else if ("+(3===c)+") {\n              vec3 xValues = vec3(\n                getX(batch, xR, xC, "+u+"),\n                getX(batch, xR, xC, "+u+" + 1),\n                getX(batch, xR, xC, "+u+" + 2)\n              );\n              vec3 wValues = vec3(\n                getW(wR, wC, "+u+", d2),\n                getW(wR, wC, "+u+" + 1, d2),\n                getW(wR, wC, "+u+" + 2, d2)\n              );\n              dotProd += dot(xValues, wValues);\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "}return t}();e.Conv2DProgram=n},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t){this.variableNames=["x","W"],this.outputShape=t.outShape;var e=t.inHeight,n=t.inWidth,r=t.padInfo.top,i=t.padInfo.left,a=t.strideHeight,o=t.strideWidth,s=t.dilationHeight,l=t.dilationWidth,u=t.filterHeight,c=t.filterWidth,h=t.outChannels/t.inChannels;this.userCode="\n      const ivec2 strides = ivec2("+a+", "+o+");\n      const ivec2 pads = ivec2("+r+", "+i+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2 / "+h+";\n        int q = d2 - d1 * "+h+";\n\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        // TODO(dsmilkov): Flatten the two for loops and vec4 the operations.\n        for (int wR = 0; wR < "+u+"; wR++) {\n          int xR = xRCorner + wR * "+s+";\n\n          if (xR < 0 || xR >= "+e+") {\n            continue;\n          }\n\n          for (int wC = 0; wC < "+c+"; wC++) {\n            int xC = xCCorner + wC * "+l+";\n\n            if (xC < 0 || xC >= "+n+") {\n              continue;\n            }\n\n            float xVal = getX(batch, xR, xC, d1);\n            float wVal = getW(wR, wC, d1, q);\n            dotProd += xVal * wVal;\n          }\n        }\n        setOutput(dotProd);\n      }\n    "}return t}();e.DepthwiseConv2DProgram=n},function(t,e,n){"use strict";function r(t,e){if(1===t)return""+e;if(2===t)return e+".x, "+e+".y";if(3===t)return e+".x, "+e+".y, "+e+".z";if(4===t)return e+".x, "+e+".y, "+e+".z, "+e+".w";throw Error("Cumulative sum for rank "+t+" is not yet supported")}function i(t,e){if(1===t)return""+e;if(2===t)return e+".y";if(3===t)return e+".z";if(4===t)return e+".w";throw Error("Cumulative sum for rank "+t+" is not yet supported")}Object.defineProperty(e,"__esModule",{value:!0});var a=n(583),o=function(){function t(t,e,n){this.variableNames=["x"],this.outputShape=t;var o=t.length,s=t[t.length-1],l=n?"<":">";this.userCode="\n      int getIndex(int i) {\n        "+(n?"return "+s+" -i - 1;":"return i;")+"\n      }\n\n      void main() {\n        "+a.getCoordsDataType(o)+" coords = getOutputCoords();\n        int end = "+i(o,"coords")+";\n        float val = 0.0;\n        for (int i = "+s+" - 1; i >= 0; i -= 1) {\n          int idx = getIndex(i);\n          if (idx "+l+" end) {\n            continue;\n          }\n          if (idx == end && "+e+") {\n            continue;\n          }\n          "+i(o,"coords")+" = idx;\n          val += getX("+r(o,"coords")+");\n        }\n        setOutput(val);\n      }\n    "}return t}();e.CumSumProgram=o},function(t,e,n){"use strict";function r(t,e,n,r){var i=t.map(function(t){var e=E.sizeFromShape(t.shapeInfo.logicalShape);return t.shapeInfo.isUniform?"uniform float "+t.name+(e>1?"["+e+"]":"")+";":"uniform sampler2D "+t.name+";"});i=i.join("\n");var s=t.map(function(t){return a(t,e,r)}).join("\n"),l=e.texShape,u=o(e.logicalShape,l),c=[z,P,L,i,u,s,n].join("\n");return c}function i(t){var e=t.shapeInfo.logicalShape;switch(e.length){case 0:return p(t);case 1:return f(t);case 2:return A(t);case 3:return C(t);case 4:return I(t);case 5:return m(t);case 6:return v(t);default:throw new Error(e.length+"-D input sampling is not yet supported")}}function a(t,e,n){var r=y(t);return r+=i(t),(n||E.arraysEqual(t.shapeInfo.logicalShape,e.logicalShape))&&(r+=x(t,e,n)),r}function o(t,e){switch(t.length){case 0:return s();case 1:return l(t,e);case 2:return d(t,e);case 3:return u(t,e);case 4:return c(t,e);case 5:return h(t,e);case 6:return g(t,e);default:throw new Error(t.length+"-D output sampling is not yet supported")}}function s(){return"\n    int getOutputCoords() {\n      return 0;\n    }\n  "}function l(t,e){return 1===e[0]?"\n      int getOutputCoords() {\n        return int(resultUV.x * "+e[1]+".0);\n      }\n    ":1===e[1]?"\n      int getOutputCoords() {\n        return int(resultUV.y * "+e[0]+".0);\n      }\n    ":"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+e[0]+", "+e[1]+"));\n      return resTexRC.x * "+e[1]+" + resTexRC.y;\n    }\n  "}function u(t,e){var n=t[1]*t[2],r=t[2];return"\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+e[0]+", "+e[1]+"));\n      int index = resTexRC.x * "+e[1]+" + resTexRC.y;\n      int r = index / "+n+";\n      index -= r * "+n+";\n      int c = index / "+r+";\n      int d = index - c * "+r+";\n      return ivec3(r, c, d);\n    }\n  "}function c(t,e){var n=t[3],r=t[2]*n,i=t[1]*r;return"\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2("+e[0]+", "+e[1]+"));\n      int index = resTexRC.x * "+e[1]+" + resTexRC.y;\n\n      int r = index / "+i+";\n      index -= r * "+i+";\n\n      int c = index / "+r+";\n      index -= c * "+r+";\n\n      int d = index / "+n+";\n      int d2 = index - d * "+n+";\n\n      return ivec4(r, c, d, d2);\n    }\n  "}function h(t,e){var n=t[4],r=t[3]*n,i=t[2]*r,a=t[1]*i;return"\n    ivec5 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx * vec2("+e[0]+",\n                             "+e[1]+"));\n\n      int index = resTexRC.x * "+e[1]+" + resTexRC.y;\n\n      int r = index / "+a+";\n      index -= r * "+a+";\n\n      int c = index / "+i+";\n      index -= c * "+i+";\n\n      int d = index / "+r+";\n      index -= d * "+r+";\n\n      int d2 = index  / "+n+";\n      int d3 = index - d2 * "+n+";\n\n      ivec5 outShape = ivec5(r, c, d, d2, d3);\n      return outShape;\n    }\n  "}function g(t,e){var n=t[5],r=t[4]*n,i=t[3]*r,a=t[2]*i,o=t[1]*a;return"\n    ivec6 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2("+e[0]+", "+e[1]+"));\n      int index = resTexRC.x * "+e[1]+" + resTexRC.y;\n\n      int r = index / "+o+";\n      index -= r * "+o+";\n\n      int c = index / "+a+";\n      index -= c * "+a+";\n\n      int d = index / "+i+";\n      index -= d * "+i+";\n\n      int d2 = index / "+r+";\n      index -= d2 * "+r+";\n\n      int d3 = index / "+n+";\n      int d4 = index - d3 * "+n+";\n\n      ivec6 result = ivec6(r, c, d, d2, d3, d4);\n      return result;\n    }\n  "}function d(t,e){return E.arraysEqual(t,e)?"\n      ivec2 getOutputCoords() {\n        return ivec2(resultUV.yx * vec2("+e[0]+", "+e[1]+"));\n      }\n    ":1===t[1]?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2("+e[0]+", "+e[1]+"));\n        int index = resTexRC.x * "+e[1]+" + resTexRC.y;\n        return ivec2(index, 0);\n      }\n    ":1===t[0]?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2("+e[0]+", "+e[1]+"));\n        int index = resTexRC.x * "+e[1]+" + resTexRC.y;\n        return ivec2(0, index);\n      }\n    ":"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+e[0]+", "+e[1]+"));\n      int index = resTexRC.x * "+e[1]+" + resTexRC.y;\n      int r = index / "+t[1]+";\n      int c = index - r * "+t[1]+";\n      return ivec2(r, c);\n    }\n  "}function p(t){var e=t.name,n="get"+e.charAt(0).toUpperCase()+e.slice(1);return t.shapeInfo.isUniform?"float "+n+"() {return "+e+";}":"\n    float "+n+"() {\n      return sampleTexture("+e+", halfCR);\n    }\n  "}function f(t){var e=t.name,n="get"+e.charAt(0).toUpperCase()+e.slice(1);return"\n    float "+n+"(int index) {\n      return "+n+"Flat(index);\n    }\n  "}function A(t){var e=t.shapeInfo.logicalShape,n=t.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),a=t.shapeInfo.texShape;if(null!=a&&E.arraysEqual(e,a)){var o=a[0],s=a[1];return"\n    float "+r+"(int row, int col) {\n      vec2 uv = (vec2(col, row) + halfCR) / vec2("+s+".0, "+o+".0);\n      return sampleTexture("+n+", uv);\n    }\n  "}var l=E.squeezeShape(e),u=l.newShape,c=l.keptDims,h=u;if(h.length<e.length){var g=S(t,h),d=["row","col"];return"\n      "+i(g)+"\n      float "+r+"(int row, int col) {\n        return "+r+"("+T(d,c)+");\n      }\n    "}if(t.shapeInfo.isUniform)return"\n      float "+r+"(int row, int col) {\n        int index = row * "+e[1]+" + col;\n        return "+r+"Flat(index);\n      }\n    ";var p=a[0],f=a[1];return 1===f?"\n    float "+r+"(int row, int col) {\n      int index = row * "+e[1]+" + col;\n      vec2 uv = vec2(0.5, (float(index) + 0.5) / "+p+".0);\n      return sampleTexture("+n+", uv);\n    }\n  ":1===p?"\n    float "+r+"(int row, int col) {\n      int index = row * "+e[1]+" + col;\n      vec2 uv = vec2((float(index) + 0.5) / "+f+".0, 0.5);\n      return sampleTexture("+n+", uv);\n    }\n  ":"\n  float "+r+"(int row, int col) {\n    vec2 uv = UVfrom2D("+p+", "+f+", "+e[1]+", row, col);\n    return sampleTexture("+n+", uv);\n  }\n"}function C(t){var e=t.shapeInfo.logicalShape,n=t.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),a=e[1]*e[2],o=e[2],s=E.squeezeShape(e),l=s.newShape,u=s.keptDims,c=l;if(c.length<e.length){var h=S(t,c),g=["row","col","depth"];return"\n        "+i(h)+"\n        float "+r+"(int row, int col, int depth) {\n          return "+r+"("+T(g,u)+");\n        }\n      "}if(t.shapeInfo.isUniform)return"\n      float "+r+"(int row, int col, int depth) {\n        int index = row * "+a+" + col * "+o+" + depth;\n        return "+r+"Flat(index);\n      }\n    ";var d=t.shapeInfo.texShape,p=d[0],f=d[1];return f===a?"\n        float "+r+"(int row, int col, int depth) {\n          int texR = row;\n          int texC = col * "+o+" + depth;\n          vec2 uv = (vec2(texC, texR) + halfCR) /\n                     vec2("+f+".0, "+p+".0);\n          return sampleTexture("+n+", uv);\n        }\n      ":f===o?"\n    float "+r+"(int row, int col, int depth) {\n      int texR = row * "+e[1]+" + col;\n      int texC = depth;\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2("+f+".0, "+p+".0);\n      return sampleTexture("+n+", uv);\n    }\n  ":"\n      float "+r+"(int row, int col, int depth) {\n        vec2 uv = UVfrom3D(\n            "+p+", "+f+", "+a+", "+o+", row, col, depth);\n        return sampleTexture("+n+", uv);\n      }\n  "}function I(t){var e=t.shapeInfo.logicalShape,n=t.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),a=e[3],o=e[2]*a,s=e[1]*o,l=E.squeezeShape(e),u=l.newShape,c=l.keptDims;if(u.length<e.length){var h=S(t,u),g=["row","col","depth","depth2"];return"\n      "+i(h)+"\n      float "+r+"(int row, int col, int depth, int depth2) {\n        return "+r+"("+T(g,c)+");\n      }\n    "}if(t.shapeInfo.isUniform)return"\n      float "+r+"(int row, int col, int depth, int depth2) {\n        int index = row * "+s+" + col * "+o+" +\n            depth * "+a+" + depth2;\n        return "+r+"Flat(index);\n      }\n    ";var d=t.shapeInfo.texShape,p=d[0],f=d[1];return f===s?"\n      float "+r+"(int row, int col, int depth, int depth2) {\n        int texR = row;\n        int texC = col * "+o+" + depth * "+a+" + depth2;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2("+f+".0, "+p+".0);\n        return sampleTexture("+n+", uv);\n      }\n    ":f===a?"\n      float "+r+"(int row, int col, int depth, int depth2) {\n        int texR = row * "+e[1]*e[2]+" + col * "+e[2]+" + depth;\n        int texC = depth2;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2("+f+".0, "+p+".0);\n        return sampleTexture("+n+", uv);\n      }\n    ":"\n    float "+r+"(int row, int col, int depth, int depth2) {\n      vec2 uv = UVfrom4D("+p+", "+f+", "+s+", "+o+",\n          "+a+", row, col, depth, depth2);\n      return sampleTexture("+n+", uv);\n    }\n  "}function m(t){var e=t.shapeInfo.logicalShape,n=t.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),a=e[4],o=e[3]*a,s=e[2]*o,l=e[1]*s,u=E.squeezeShape(e),c=u.newShape,h=u.keptDims;if(c.length<e.length){var g=S(t,c),d=["row","col","depth","depth2","depth3"];return"\n      "+i(g)+"\n      float "+r+"(int row, int col, int depth, int depth2, int depth3) {\n        return "+r+"("+T(d,h)+");\n      }\n    "}if(t.shapeInfo.isUniform)return"\n      float "+r+"(int row, int col, int depth, int depth2, int depth3) {\n        int index = row * "+l+" + col * "+s+" +\n            depth * "+o+" + depth2 * "+a+" + depth3;\n        return "+r+"Flat(index);\n      }\n    ";var p=t.shapeInfo.texShape,f=p[0],A=p[1];return A===l?"\n      float "+r+"(int row, int col, int depth, int depth2, int depth3) {\n        int texR = row;\n        int texC = col * "+s+" + depth * "+o+" +\n                   depth2 * "+a+" + depth3;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2("+A+".0, "+f+".0);\n        return sampleTexture("+n+", uv);\n      }\n    ":A===a?"\n      float "+r+"(int row, int col, int depth, int depth2, int depth3) {\n        int texR = row * "+e[1]*e[2]+" + col * "+e[2]+" +\n                   depth * "+e[3]+" + depth2;\n        int texC = depth3;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2("+A+".0, "+f+".0);\n        return sampleTexture("+n+", uv);\n      }\n    ":"\n    float "+r+"(int row, int col, int depth, int depth2, int depth3) {\n      vec2 uv = UVfrom5D("+f+", "+A+", "+l+", "+s+",\n          "+o+", "+a+", row, col, depth, depth2, depth3);\n      return sampleTexture("+n+", uv);\n    }\n  "}function v(t){var e=t.shapeInfo.logicalShape,n=t.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),a=e[5],o=e[4]*a,s=e[3]*o,l=e[2]*s,u=e[1]*l,c=E.squeezeShape(e),h=c.newShape,g=c.keptDims;if(h.length<e.length){var d=S(t,h),p=["row","col","depth","depth2","depth3","depth4"];return"\n      "+i(d)+"\n      float "+r+"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        return "+r+"("+T(p,g)+");\n      }\n    "}if(t.shapeInfo.isUniform)return"\n      float "+r+"(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n        int index = row * "+u+" + col * "+l+" +\n            depth * "+s+" + depth2 * "+o+" + depth3 * "+o+"\n            + depth4\n        return "+r+"Flat(index);\n      }\n    ";var f=t.shapeInfo.texShape,A=f[0],C=f[1];return C===u?"\n      float "+r+"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        int texR = row;\n        int texC = col * "+l+" + depth * "+s+" + depth2;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2("+C+".0, "+A+".0);\n        return sampleTexture("+n+", uv);\n      }\n    ":C===a?"\n      float "+r+"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        int texR = row * "+e[1]*e[2]+" + col * "+e[2]+" + depth;\n        int texC = depth4;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2("+C+".0, "+A+".0);\n        return sampleTexture("+n+", uv);\n      }\n    ":"\n    float "+r+"(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n      vec2 uv = UVfrom6D("+A+", "+C+", "+u+", "+l+",\n          "+s+", "+o+", "+a+"\n          ,row, col, depth, depth2, depth3, depth4);\n      return sampleTexture("+n+", uv);\n    }\n  "}function y(t){var e=t.name,n="get"+e.charAt(0).toUpperCase()+e.slice(1)+"Flat",r=E.sizeFromShape(t.shapeInfo.logicalShape);if(t.shapeInfo.isUniform)return 1===r?"float "+n+"(int index) {return "+e+";}":"\n      float "+n+"(int index) {\n        for (int i = 0; i < "+r+"; i++) {\n          if (i == index) {\n            return "+e+"[i];\n          }\n        }\n      }\n    ";var i=t.shapeInfo.texShape,a=i[0],o=i[1];return 1===o&&1===a?"\n      float "+n+"(int index) {\n        return sampleTexture("+e+", halfCR);\n      }\n    ":1===o?"\n      float "+n+"(int index) {\n        vec2 uv = vec2(0.5, (float(index) + 0.5) / "+a+".0);\n        return sampleTexture("+e+", uv);\n      }\n    ":1===a?"\n      float "+n+"(int index) {\n        vec2 uv = vec2((float(index) + 0.5) / "+o+".0, 0.5);\n        return sampleTexture("+e+", uv);\n      }\n    ":"\n    float "+n+"(int index) {\n      vec2 uv = UVfrom1D("+a+", "+o+", index);\n      return sampleTexture("+e+", uv);\n    }\n  "}function b(t,e,n,r){var i=t.shapeInfo.logicalShape.length,a=e.logicalShape.length,o="int";2===a?o="ivec2":3===a?o="ivec3":4===a&&(o="ivec4");var s,l=N.getBroadcastDims(t.shapeInfo.logicalShape,e.logicalShape),u=a-i;s=0===i?"":a<2&&l.length>=1?"coords = 0;":l.map(function(t){return"coords["+(t+u)+"] = 0;"}).join("\n");var c="";return c=a<2&&i>0?"coords":t.shapeInfo.logicalShape.map(function(t,e){return"coords["+(e+u)+"]"}).join(", "),"\n    float "+r+"() {\n      "+o+" coords = getOutputCoords();\n      "+s+"\n      return get"+n+"("+c+");\n    }\n  "}function x(t,e,n){var r=t.name,i=r.charAt(0).toUpperCase()+r.slice(1),a="get"+i+"AtOutCoords",o=N.getBroadcastDims(t.shapeInfo.logicalShape,e.logicalShape),s=t.shapeInfo.logicalShape.length,l=e.logicalShape.length,u=n&&(l>s||o.length>0),c=N.broadcastDimsAreOuter(o),h=t.shapeInfo.isUniform;if(u&&!c)return b(t,e,i,a);var g=E.sizeFromShape(t.shapeInfo.logicalShape),d="";u&&c&&(d="\n        int mainPart = index / "+g+";\n        index -= mainPart * "+g+";\n      ");var p=e.texShape;if(h)return 1===g?"float "+a+"() {return "+r+";}":"\n      float "+a+"() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                              vec2("+p[0]+", "+p[1]+"));\n        int index = resTexRC.x * "+p[1]+" + resTexRC.y;\n        "+d+"\n        return get"+i+"Flat(index);\n      }\n    ";var f=t.shapeInfo.texShape;return E.arraysEqual(f,p)?"\n      float "+a+"() {\n        return sampleTexture("+r+", resultUV);\n      }\n    ":"\n    float "+a+"() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+p[0]+", "+p[1]+"));\n      int index = resTexRC.x * "+p[1]+" + resTexRC.y;\n      "+d+"\n      int texR = index / "+f[1]+";\n      int texC = index - texR * "+f[1]+";\n      vec2 uv = (vec2(texC, texR) + halfCR) /\n                 vec2("+f[1]+".0, "+f[0]+".0);\n\n      return sampleTexture("+r+", uv);\n    }\n  "}function w(t){if(t<=1)return"int";if(2===t)return"ivec2";if(3===t)return"ivec3";if(4===t)return"ivec4";if(5===t)return"ivec5";if(6===t)return"ivec6";throw Error("GPU for rank "+t+" is not yet supported")}function S(t,e){var n=JSON.parse(JSON.stringify(t));return n.shapeInfo.logicalShape=e,n}function T(t,e){return e.map(function(e){return t[e]}).join(", ")}Object.defineProperty(e,"__esModule",{value:!0});var N=n(539),E=n(512);e.makeShader=r;var k="\nvec2 UVfrom1D(int texNumR, int texNumC, int index) {\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",O="\nvec2 UVfrom2D(int texNumR, int texNumC, int numC, int row, int col) {\n  int index = row * numC + col;\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",M="\nvec2 UVfrom3D(int texNumR, int texNumC, int stride0,\n    int stride1, int row, int col, int depth) {\n  // Explicitly use integer operations as dot() only works on floats.\n  int index = row * stride0 + col * stride1 + depth;\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",R="\nvec2 UVfrom4D(int texNumR, int texNumC, int stride0,\n    int stride1, int stride2, int row, int col, int depth,\n    int depth2) {\n  // Explicitly use integer operations as dot() only works on floats.\n  int index = row * stride0 + col * stride1 + depth * stride2 + depth2;\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",D="\nvec2 UVfrom5D(int texNumR, int texNumC, int stride0,\n    int stride1, int stride2, int stride3, int row, int col, int depth,\n    int depth2, int depth3) {\n  // Explicitly use integer operations as dot() only works on floats.\n  int index = row * stride0 + col * stride1 +\n              depth * stride2 + depth2 * stride3 + depth3;\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",_="\nvec2 UVfrom6D(int texNumR, int texNumC, int stride0,\n    int stride1, int stride2, int stride3, int stride4,\n    int row, int col, int depth, int depth2, int depth3, int depth4) {\n  // Explicitly use integer operations as dot() only works on floats.\n  int index = row * stride0 + col * stride1 + depth * stride2 + depth2 *\n    stride3 + depth3 * stride4 + depth4;\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",P="\n  float sampleTexture(sampler2D textureSampler, vec2 uv) {\n    return texture2D(textureSampler, uv).r;\n  }\n",L="\n  void setOutput(float val) {\n    gl_FragColor = vec4(val, 0, 0, 0);\n  }\n",z="\n  precision highp float;\n  precision highp int;\n  varying vec2 resultUV;\n  const vec2 halfCR = vec2(0.5, 0.5);\n\n  struct ivec5\n  {\n    int x;\n    int y;\n    int z;\n    int w;\n    int u;\n  };\n\n  struct ivec6\n  {\n    int x;\n    int y;\n    int z;\n    int w;\n    int u;\n    int v;\n  };\n\n  bool isNaN(float val) {\n    return (val < 0.0 || 0.0 < val || val == 0.0) ? false : true;\n  }\n\n  bool hasNaN(vec4 values) {\n    vec4 v1 = values * values;\n    vec4 v2 = values * values;\n    return any(notEqual(v1, v2));\n  }\n\n  float getNaN(vec4 values) {\n    return dot(vec4(1), values);\n  }\n\n  int round(float value) {\n    return int(floor(value + 0.5));\n  }\n\n  int imod(int x, int y) {\n    return x - y * (x / y);\n  }\n\n  //Based on the work of Dave Hoskins\n  //https://www.shadertoy.com/view/4djSRW\n  #define HASHSCALE1 443.8975\n  float random(float seed){\n    vec2 p = resultUV * seed;\n    vec3 p3  = fract(vec3(p.xyx) * HASHSCALE1);\n    p3 += dot(p3, p3.yzx + 19.19);\n    return fract((p3.x + p3.y) * p3.z);\n  }\n\n  "+k+"\n  "+O+"\n  "+M+"\n  "+R+"\n  "+D+"\n  "+_+"\n";e.getCoordsDataType=w},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t){this.variableNames=["A"],this.outputShape=t,this.userCode="\n      const float FLOAT_MAX = 1.70141184e38;\n      const float FLOAT_MIN = 1.17549435e-38;\n\n      lowp vec4 encode_float(highp float v) {\n        if (isNaN(v)) {\n          return vec4(255, 255, 255, 255);\n        }\n\n        highp float av = abs(v);\n\n        if(av < FLOAT_MIN) {\n          return vec4(0.0, 0.0, 0.0, 0.0);\n        } else if(v > FLOAT_MAX) {\n          return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;\n        } else if(v < -FLOAT_MAX) {\n          return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;\n        }\n\n        highp vec4 c = vec4(0,0,0,0);\n\n        highp float e = floor(log2(av));\n        highp float m = exp2(fract(log2(av))) - 1.0;\n\n        c[2] = floor(128.0 * m);\n        m -= c[2] / 128.0;\n        c[1] = floor(32768.0 * m);\n        m -= c[1] / 32768.0;\n        c[0] = floor(8388608.0 * m);\n\n        highp float ebias = e + 127.0;\n        c[3] = floor(ebias / 2.0);\n        ebias -= c[3] * 2.0;\n        c[2] += floor(ebias) * 128.0;\n\n        c[3] += 128.0 * step(0.0, -v);\n\n        return c / 255.0;\n      }\n\n      void main() {\n        float x = getAAtOutCoords();\n        gl_FragColor = encode_float(x);\n      }\n    "}return t}();e.EncodeFloatProgram=n},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t){this.variableNames=["A"];var e=t[0],n=t[1];this.outputShape=t,this.userCode="\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n        vec2 uv = (vec2(texC, texR) + halfCR) / vec2("+n+".0, "+e+".0);\n\n        vec4 values = texture2D(A, uv);\n        float value;\n        if (depth == 0) {\n          value = values.r;\n        } else if (depth == 1) {\n          value = values.g;\n        } else if (depth == 2) {\n          value = values.b;\n        } else if (depth == 3) {\n          value = values.a;\n        }\n\n        setOutput(floor(value * 255.0 + 0.5));\n      }\n    "}return t}();e.FromPixelsProgram=n},function(t,e,n){"use strict";function r(t,e){var n=t.length;if(n>4)throw Error("Gather for rank "+n+" is not yet supported");if(1===n)return"int(getIndices(resRC))";for(var r=["resRC.x","resRC.y","resRC.z","resRC.w"],i=[],a=0;a<t.length;a++)a===e?i.push("int(getIndices("+r[a]+"))"):i.push(""+r[a]);return i.join()}Object.defineProperty(e,"__esModule",{value:!0});var i=n(583),a=function(){function t(t,e,n){this.variableNames=["A","indices"];var a=t.slice();a[n]=e,this.outputShape=a,this.rank=a.length;var o=i.getCoordsDataType(this.rank),s=r(t,n);this.userCode="\n      void main() {\n        "+o+" resRC = getOutputCoords();\n        setOutput(getA("+s+"));\n      }\n    "}return t}();e.GatherProgram=a},function(t,e,n){"use strict";function r(t){for(var e=0,n=t.length-1,r=-1;e<=n;){var i=e+n>>1,a=t[i]();a?(r=i,e=i+1):n=i-1}return r}var i=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,a){function o(t){try{l(r.next(t))}catch(t){a(t)}}function s(t){try{l(r.throw(t))}catch(t){a(t)}}function l(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(o,s)}l((r=r.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;l;)try{if(i=1,a&&(o=2&n[0]?a.return:n[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,n[1])).done)return o;switch(a=0,o&&(n=[2&n[0],o.value]),n[0]){case 0:case 1:o=n;break;case 4:return l.label++,{value:n[1],done:!1};case 5:l.label++,a=n[1],n=[0];continue;case 7:n=l.ops.pop(),l.trys.pop();continue;default:if(o=l.trys,!(o=o.length>0&&o[o.length-1])&&(6===n[0]||2===n[0])){l=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3])){l.label=n[1];break}if(6===n[0]&&l.label<o[1]){l.label=o[1],o=n;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(n);break}o[2]&&l.ops.pop(),l.trys.pop();continue}n=e.call(t,l)}catch(t){n=[6,t],a=0}finally{i=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,a,o,s,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(e,"__esModule",{value:!0});var o=n(507),s=n(512),l=n(588),u=n(589),c=n(590),h=function(){function t(t){this.outputTexture=null,this.program=null,this.disposed=!1,this.autoDebugValidate=!1,this.vertexAttrsAreBound=!1,this.itemsToPoll=[],null!=t?this.gl=t:this.gl=l.createWebGLContext(),1===o.ENV.get("WEBGL_VERSION")?(this.textureFloatExtension=c.getExtensionOrThrow(this.gl,"OES_texture_float"),this.colorBufferFloatExtension=this.gl.getExtension("WEBGL_color_buffer_float"),o.ENV.get("WEBGL_RENDER_FLOAT32_ENABLED")||(this.textureHalfFloatExtension=c.getExtensionOrThrow(this.gl,"OES_texture_half_float"),this.colorBufferHalfFloatExtension=this.gl.getExtension("EXT_color_buffer_half_float"))):this.colorBufferFloatExtension=c.getExtensionOrThrow(this.gl,"EXT_color_buffer_float"),this.loseContextExtension=c.getExtensionOrThrow(this.gl,"WEBGL_lose_context"),o.ENV.get("WEBGL_GET_BUFFER_SUB_DATA_ASYNC_EXTENSION_ENABLED")&&(this.getBufferSubDataAsyncExtension=this.gl.getExtension("WEBGL_get_buffer_sub_data_async")),
this.vertexBuffer=l.createVertexBuffer(this.gl),this.indexBuffer=l.createIndexBuffer(this.gl),this.framebuffer=c.createFramebuffer(this.gl),this.textureConfig=l.getTextureConfig(this.gl,this.textureHalfFloatExtension)}return t.prototype.dispose=function(){var t=this;if(!this.disposed){null!=this.program&&console.warn("Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing."),null!=this.outputTexture&&console.warn("Disposing a GPGPUContext that still has a bound output matrix texture.  This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing.");var e=this.gl;c.callAndCheck(e,function(){return e.finish()}),c.callAndCheck(e,function(){return e.bindFramebuffer(e.FRAMEBUFFER,null)}),c.callAndCheck(e,function(){return e.deleteFramebuffer(t.framebuffer)}),c.callAndCheck(e,function(){return e.bindBuffer(e.ARRAY_BUFFER,null)}),c.callAndCheck(e,function(){return e.deleteBuffer(t.vertexBuffer)}),c.callAndCheck(e,function(){return e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null)}),c.callAndCheck(e,function(){return e.deleteBuffer(t.indexBuffer)}),this.loseContextExtension.loseContext(),this.disposed=!0}},t.prototype.enableAutomaticDebugValidation=function(t){this.autoDebugValidate=t,c.enableDebugWebGLErrorChecking(t)},t.prototype.createFloat32MatrixTexture=function(t,e){return this.throwIfDisposed(),l.createFloat32MatrixTexture(this.gl,t,e,this.textureConfig)},t.prototype.createFloat16MatrixTexture=function(t,e){return this.throwIfDisposed(),l.createFloat16MatrixTexture(this.gl,t,e,this.textureConfig)},t.prototype.createUnsignedBytesMatrixTexture=function(t,e){return this.throwIfDisposed(),l.createUnsignedBytesMatrixTexture(this.gl,t,e,this.textureConfig)},t.prototype.uploadPixelDataToTexture=function(t,e){this.throwIfDisposed(),l.uploadPixelDataToTexture(this.gl,t,e)},t.prototype.createPackedMatrixTexture=function(t,e){return this.throwIfDisposed(),l.createPackedMatrixTexture(this.gl,t,e,this.textureConfig)},t.prototype.deleteMatrixTexture=function(t){var e=this;this.throwIfDisposed(),this.outputTexture===t&&(c.unbindColorTextureFromFramebuffer(this.gl,this.framebuffer),this.outputTexture=null),c.callAndCheck(this.gl,function(){return e.gl.deleteTexture(t)})},t.prototype.uploadMatrixToTexture=function(t,e,n,r){this.throwIfDisposed();var i=c.getNumChannels();return l.uploadMatrixToTexture(this.gl,t,e,n,r,i,this.textureConfig)},t.prototype.uploadMatrixToPackedTexture=function(t,e,n,r){return this.throwIfDisposed(),l.uploadMatrixToPackedTexture(this.gl,t,e,n,r,this.textureConfig)},t.prototype.downloadFloat32MatrixFromOutputTexture=function(t,e,n){var r=this;return this.downloadMatrixDriver(t,function(){return l.downloadFloat32MatrixFromOutputTexture(r.gl,e,n,r.textureConfig)})},t.prototype.downloadByteEncodedFloatMatrixFromOutputTexture=function(t,e,n){var r=this;return this.downloadMatrixDriver(t,function(){return l.downloadByteEncodedFloatMatrixFromOutputTexture(r.gl,e,n,r.textureConfig)})},t.prototype.downloadMatrixFromTextureAsync=function(t,e,n){return i(this,void 0,void 0,function(){var r=this;return a(this,function(i){if(null==this.getBufferSubDataAsyncExtension)throw new Error("Cannot download matrix from output texture asynchronously, WEBGL_get_buffer_sub_data_async is not enabled.");return[2,this.downloadMatrixDriverAsync(t,function(){return l.downloadMatrixFromOutputTextureAsync(r.gl,r.getBufferSubDataAsyncExtension,e,n,r.textureConfig)})]})})},t.prototype.downloadMatrixFromPackedTexture=function(t,e,n){var r=this;return this.downloadMatrixDriver(t,function(){return l.downloadMatrixFromPackedOutputTexture(r.gl,e,n,r.textureConfig)})},t.prototype.createProgram=function(t){this.throwIfDisposed();var e=this.gl,n=c.createFragmentShader(e,t),r=l.createVertexShader(e),i=c.createProgram(e);return c.callAndCheck(e,function(){return e.attachShader(i,r)}),c.callAndCheck(e,function(){return e.attachShader(i,n)}),c.linkProgram(e,i),this.autoDebugValidate&&c.validateProgram(e,i),this.vertexAttrsAreBound||(this.setProgram(i),this.vertexAttrsAreBound=l.bindVertexProgramAttributeStreams(e,this.program,this.vertexBuffer)),i},t.prototype.deleteProgram=function(t){var e=this;this.throwIfDisposed(),t===this.program&&(this.program=null),null!=t&&c.callAndCheck(this.gl,function(){return e.gl.deleteProgram(t)})},t.prototype.setProgram=function(t){var e=this;this.throwIfDisposed(),this.program=t,null!=this.program&&this.autoDebugValidate&&c.validateProgram(this.gl,this.program),c.callAndCheck(this.gl,function(){return e.gl.useProgram(t)})},t.prototype.getUniformLocation=function(t,e,n){return void 0===n&&(n=!0),this.throwIfDisposed(),n?c.getProgramUniformLocationOrThrow(this.gl,t,e):c.getProgramUniformLocation(this.gl,t,e)},t.prototype.getAttributeLocation=function(t,e){var n=this;return this.throwIfDisposed(),c.callAndCheck(this.gl,function(){return n.gl.getAttribLocation(t,e)})},t.prototype.getUniformLocationNoThrow=function(t,e){return this.throwIfDisposed(),this.gl.getUniformLocation(t,e)},t.prototype.setInputMatrixTexture=function(t,e,n){this.throwIfDisposed(),this.throwIfNoProgram(),c.bindTextureToProgramUniformSampler(this.gl,this.program,t,e,n)},t.prototype.setOutputMatrixTexture=function(t,e,n){this.setOutputMatrixTextureDriver(t,n,e)},t.prototype.setOutputPackedMatrixTexture=function(t,e,n){this.throwIfDisposed();var r=u.getPackedMatrixTextureShapeWidthHeight(e,n),i=r[0],a=r[1];this.setOutputMatrixTextureDriver(t,i,a)},t.prototype.setOutputMatrixWriteRegion=function(t,e,n,r){this.setOutputMatrixWriteRegionDriver(n,t,r,e)},t.prototype.setOutputPackedMatrixWriteRegion=function(t,e,n,r){throw new Error("setOutputPackedMatrixWriteRegion not implemented.")},t.prototype.debugValidate=function(){null!=this.program&&c.validateProgram(this.gl,this.program),c.validateFramebuffer(this.gl)},t.prototype.executeProgram=function(){this.throwIfDisposed(),this.throwIfNoProgram();var t=this.gl;this.autoDebugValidate&&this.debugValidate(),c.callAndCheck(t,function(){return t.drawElements(t.TRIANGLES,6,t.UNSIGNED_SHORT,0)})},t.prototype.blockUntilAllProgramsCompleted=function(){var t=this;this.throwIfDisposed(),c.callAndCheck(this.gl,function(){return t.gl.finish()})},t.prototype.getQueryTimerExtension=function(){return null==this.disjointQueryTimerExtension&&(this.disjointQueryTimerExtension=c.getExtensionOrThrow(this.gl,2===o.ENV.get("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")?"EXT_disjoint_timer_query_webgl2":"EXT_disjoint_timer_query")),this.disjointQueryTimerExtension},t.prototype.getQueryTimerExtensionWebGL2=function(){return this.getQueryTimerExtension()},t.prototype.getQueryTimerExtensionWebGL1=function(){return this.getQueryTimerExtension()},t.prototype.runQuery=function(t){var e=this.beginQuery();return t(),this.endQuery(),this.pollQueryTime(e)},t.prototype.beginQuery=function(){if(2===o.ENV.get("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){var t=this.gl,e=this.getQueryTimerExtensionWebGL2(),n=t.createQuery();return t.beginQuery(e.TIME_ELAPSED_EXT,n),n}var r=this.getQueryTimerExtensionWebGL1(),i=r.createQueryEXT();return r.beginQueryEXT(r.TIME_ELAPSED_EXT,i),i},t.prototype.endQuery=function(){if(2===o.ENV.get("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){var t=this.gl,e=this.getQueryTimerExtensionWebGL2();return void t.endQuery(e.TIME_ELAPSED_EXT)}var n=this.getQueryTimerExtensionWebGL1();n.endQueryEXT(n.TIME_ELAPSED_EXT)},t.prototype.isQueryAvailable=function(t,e){if(0===e)return!0;if(2===e){var n=this.gl,r=this.getQueryTimerExtensionWebGL2(),i=n.getQueryParameter(t,n.QUERY_RESULT_AVAILABLE);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(r.GPU_DISJOINT_EXT)),i&&!this.disjoint}var r=this.getQueryTimerExtensionWebGL1(),i=r.getQueryObjectEXT(t,r.QUERY_RESULT_AVAILABLE_EXT);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(r.GPU_DISJOINT_EXT)),i&&!this.disjoint},t.prototype.pollQueryTime=function(t){var e=this;return new Promise(function(n){var r=o.ENV.get("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION");e.addItemToPoll(function(){return e.isQueryAvailable(t,r)},function(){return n(e.getQueryTime(t,r))})})},t.prototype.pollItems=function(){for(var t=r(this.itemsToPoll.map(function(t){return t.isDoneFn})),e=0;e<=t;++e){var n=this.itemsToPoll[e].resolveFn;n()}this.itemsToPoll=this.itemsToPoll.slice(t+1)},t.prototype.addItemToPoll=function(t,e){var n=this;this.itemsToPoll.push({isDoneFn:t,resolveFn:e}),this.itemsToPoll.length>1||s.repeatedTry(function(){return n.pollItems(),0===n.itemsToPoll.length})},t.prototype.getQueryTime=function(t,e){if(0===e)return null;if(2===e){var n=this.gl,r=n.getQueryParameter(t,n.QUERY_RESULT);return r/1e6}var i=this.getQueryTimerExtensionWebGL1(),r=i.getQueryObjectEXT(t,i.QUERY_RESULT_EXT);return r/1e6},t.prototype.downloadMatrixDriverSetup=function(t){this.throwIfDisposed(),c.bindColorTextureToFramebuffer(this.gl,t,this.framebuffer),this.autoDebugValidate&&c.validateFramebuffer(this.gl)},t.prototype.downloadMatrixDriverTeardown=function(){null!=this.outputTexture?(c.bindColorTextureToFramebuffer(this.gl,this.outputTexture,this.framebuffer),this.autoDebugValidate&&c.validateFramebuffer(this.gl)):c.unbindColorTextureFromFramebuffer(this.gl,this.framebuffer)},t.prototype.downloadMatrixDriver=function(t,e){this.downloadMatrixDriverSetup(t);var n=e();return this.downloadMatrixDriverTeardown(),n},t.prototype.downloadMatrixDriverAsync=function(t,e){return i(this,void 0,void 0,function(){var n;return a(this,function(r){switch(r.label){case 0:return this.downloadMatrixDriverSetup(t),[4,e()];case 1:return n=r.sent(),this.downloadMatrixDriverTeardown(),[2,n]}})})},t.prototype.setOutputMatrixTextureDriver=function(t,e,n){this.throwIfDisposed();var r=this.gl;c.bindColorTextureToFramebuffer(r,t,this.framebuffer),this.autoDebugValidate&&c.validateFramebuffer(r),this.outputTexture=t,c.callAndCheck(r,function(){return r.viewport(0,0,e,n)}),c.callAndCheck(r,function(){return r.scissor(0,0,e,n)})},t.prototype.setOutputMatrixWriteRegionDriver=function(t,e,n,r){var i=this;this.throwIfDisposed(),c.callAndCheck(this.gl,function(){return i.gl.scissor(t,e,n,r)})},t.prototype.throwIfDisposed=function(){if(this.disposed)throw new Error("Attempted to use disposed GPGPUContext.")},t.prototype.throwIfNoProgram=function(){if(null==this.program)throw new Error("No GPU program is currently set.")},t}();e.GPGPUContext=h,e.binSearchLastTrue=r},function(t,e,n){"use strict";function r(){return{alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0}}function i(t){var e,n=r();return e=null!=t?N.createWebGLRenderingContextFromCanvas(t,n):N.createWebGLRenderingContext(n),N.callAndCheck(e,function(){return e.disable(e.DEPTH_TEST)}),N.callAndCheck(e,function(){return e.disable(e.STENCIL_TEST)}),N.callAndCheck(e,function(){return e.disable(e.BLEND)}),N.callAndCheck(e,function(){return e.disable(e.DITHER)}),N.callAndCheck(e,function(){return e.disable(e.POLYGON_OFFSET_FILL)}),N.callAndCheck(e,function(){return e.disable(e.SAMPLE_COVERAGE)}),N.callAndCheck(e,function(){return e.enable(e.SCISSOR_TEST)}),N.callAndCheck(e,function(){return e.enable(e.CULL_FACE)}),N.callAndCheck(e,function(){return e.cullFace(e.BACK)}),e}function a(t){var e="\n    precision highp float;\n    attribute vec3 clipSpacePos;\n    attribute vec2 uv;\n    varying vec2 resultUV;\n\n    void main() {\n      gl_Position = vec4(clipSpacePos, 1);\n      resultUV = uv;\n    }";return N.createVertexShader(t,e)}function o(t){var e=new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]);return N.createStaticVertexBuffer(t,e)}function s(t){var e=new Uint16Array([0,1,2,2,1,3]);return N.createStaticIndexBuffer(t,e)}function l(t,e){var n,r,i,a,o,s,l,u,c=t;return 2===S.ENV.get("WEBGL_VERSION")?(n=c.R32F,r=c.R16F,i=c.RGBA32F,a=c.RED,s=4,l=1,u=c.HALF_FLOAT):(n=t.RGBA,r=t.RGBA,i=c.RGBA,a=t.RGBA,s=4,l=4,u=null!=e?e.HALF_FLOAT_OES:null),o=t.RGBA,{internalFormatFloat:n,internalFormatHalfFloat:r,internalFormatPackedFloat:i,textureFormatFloat:a,downloadTextureFormat:o,downloadUnpackNumChannels:s,defaultNumChannels:l,textureTypeHalfFloat:u}}function u(t,e,n,r,i,a){N.validateTextureSize(t,e,n);var o=N.createTexture(t),s=t.TEXTURE_2D;return N.callAndCheck(t,function(){return t.bindTexture(s,o)}),N.callAndCheck(t,function(){return t.texParameteri(s,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE)}),N.callAndCheck(t,function(){return t.texParameteri(s,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)}),N.callAndCheck(t,function(){return t.texParameteri(s,t.TEXTURE_MIN_FILTER,t.NEAREST)}),N.callAndCheck(t,function(){return t.texParameteri(s,t.TEXTURE_MAG_FILTER,t.NEAREST)}),N.callAndCheck(t,function(){return t.texImage2D(s,0,r,e,n,0,i,a,null)}),N.callAndCheck(t,function(){return t.bindTexture(t.TEXTURE_2D,null)}),o}function c(t,e,n,r){var i=T.getUnpackedMatrixTextureShapeWidthHeight(e,n),a=i[0],o=i[1];return u(t,a,o,r.internalFormatFloat,r.textureFormatFloat,t.FLOAT)}function h(t,e,n,r){var i=T.getUnpackedMatrixTextureShapeWidthHeight(e,n),a=i[0],o=i[1];return u(t,a,o,r.internalFormatFloat,r.textureFormatFloat,r.textureTypeHalfFloat)}function g(t,e,n,r){var i=T.getUnpackedMatrixTextureShapeWidthHeight(e,n),a=i[0],o=i[1];return u(t,a,o,t.RGBA,t.RGBA,t.UNSIGNED_BYTE)}function d(t,e,n,r){var i=T.getPackedMatrixTextureShapeWidthHeight(e,n),a=i[0],o=i[1];return u(t,a,o,r.internalFormatPackedFloat,t.RGBA,t.FLOAT)}function p(t,e,n){var r=0,i=12,a=20;N.callAndCheck(t,function(){return t.bindBuffer(t.ARRAY_BUFFER,n)});var o=N.bindVertexBufferToProgramAttribute(t,e,"clipSpacePos",n,3,a,r);return o&&N.bindVertexBufferToProgramAttribute(t,e,"uv",n,2,a,i)}function f(t,e,n){N.callAndCheck(t,function(){return t.bindTexture(t.TEXTURE_2D,e)}),N.callAndCheck(t,function(){return t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,n)}),N.callAndCheck(t,function(){return t.bindTexture(t.TEXTURE_2D,null)})}function A(t,e,n,r,i,a){N.validateTextureSize(t,n,r),N.callAndCheck(t,function(){return t.bindTexture(t.TEXTURE_2D,e)}),N.callAndCheck(t,function(){return t.texSubImage2D(t.TEXTURE_2D,0,0,0,n,r,a,t.FLOAT,i)}),N.callAndCheck(t,function(){return t.bindTexture(t.TEXTURE_2D,null)})}function C(t,e,n,r,i,a,o){var s,l=T.getUnpackedMatrixTextureShapeWidthHeight(n,r),u=l[0],c=l[1];1===o.defaultNumChannels?s=i:(s=new Float32Array(T.getUnpackedArraySizeFromMatrixSize(i.length,a)),T.encodeMatrixToUnpackedArray(i,s,a)),A(t,e,u,c,s,o.textureFormatFloat)}function I(t,e,n,r,i,a){var o=T.getPackedMatrixTextureShapeWidthHeight(n,r),s=o[0],l=o[1],u=new Float32Array(T.getPackedRGBAArraySizeFromMatrixShape(n,r));T.encodeMatrixToPackedRGBA(i,n,r,u),A(t,e,s,l,u,t.RGBA)}function m(t,e,n,r,i){return x(this,void 0,void 0,function(){var a,o,s,l,u;return w(this,function(c){switch(c.label){case 0:return a=t,o=new Float32Array(T.getUnpackedArraySizeFromMatrixSize(n*r,i.downloadUnpackNumChannels)),s=o instanceof Float32Array?4*o.length:o,l=t.createBuffer(),N.callAndCheck(t,function(){return t.bindBuffer(a.PIXEL_PACK_BUFFER,l)}),N.callAndCheck(t,function(){return t.bufferData(a.PIXEL_PACK_BUFFER,s,t.STATIC_DRAW)}),N.callAndCheck(t,function(){return a.readPixels(0,0,r,n,t.RGBA,t.FLOAT,0)}),[4,e.getBufferSubDataAsync(a.PIXEL_PACK_BUFFER,0,o)];case 1:return c.sent(),u=new Float32Array(n*r),T.decodeMatrixFromUnpackedArray(o,u,i.downloadUnpackNumChannels),[2,u]}})})}function v(t,e,n,r){var i=T.getUnpackedMatrixTextureShapeWidthHeight(e,n),a=i[0],o=i[1],s=new Float32Array(T.getUnpackedArraySizeFromMatrixSize(e*n,r.downloadUnpackNumChannels));N.callAndCheck(t,function(){return t.readPixels(0,0,a,o,r.downloadTextureFormat,t.FLOAT,s)});var l=new Float32Array(e*n);return T.decodeMatrixFromUnpackedArray(s,l,r.downloadUnpackNumChannels),l}function y(t,e,n,r){var i=T.getUnpackedMatrixTextureShapeWidthHeight(e,n),a=i[0],o=i[1],s=4,l=new Uint8Array(T.getUnpackedArraySizeFromMatrixSize(e*n,s));return N.callAndCheck(t,function(){return t.readPixels(0,0,a,o,r.downloadTextureFormat,t.UNSIGNED_BYTE,l)}),new Float32Array(l.buffer)}function b(t,e,n,r){var i=T.getPackedMatrixTextureShapeWidthHeight(e,n),a=i[0],o=i[1],s=new Float32Array(T.getPackedRGBAArraySizeFromMatrixShape(e,n));N.callAndCheck(t,function(){return t.readPixels(0,0,a,o,t.RGBA,t.FLOAT,s)});var l=new Float32Array(e*n);return T.decodeMatrixFromPackedRGBA(s,e,n,l)}var x=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,a){function o(t){try{l(r.next(t))}catch(t){a(t)}}function s(t){try{l(r.throw(t))}catch(t){a(t)}}function l(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(o,s)}l((r=r.apply(t,e||[])).next())})},w=this&&this.__generator||function(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;l;)try{if(i=1,a&&(o=2&n[0]?a.return:n[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,n[1])).done)return o;switch(a=0,o&&(n=[2&n[0],o.value]),n[0]){case 0:case 1:o=n;break;case 4:return l.label++,{value:n[1],done:!1};case 5:l.label++,a=n[1],n=[0];continue;case 7:n=l.ops.pop(),l.trys.pop();continue;default:if(o=l.trys,!(o=o.length>0&&o[o.length-1])&&(6===n[0]||2===n[0])){l=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3])){l.label=n[1];break}if(6===n[0]&&l.label<o[1]){l.label=o[1],o=n;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(n);break}o[2]&&l.ops.pop(),l.trys.pop();continue}n=e.call(t,l)}catch(t){n=[6,t],a=0}finally{i=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,a,o,s,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(e,"__esModule",{value:!0});var S=n(507),T=n(589),N=n(590);e.getWebGLContextAttributes=r,e.createWebGLContext=i,e.createVertexShader=a,e.createVertexBuffer=o,e.createIndexBuffer=s,e.getTextureConfig=l,e.createFloat32MatrixTexture=c,e.createFloat16MatrixTexture=h,e.createUnsignedBytesMatrixTexture=g,e.createPackedMatrixTexture=d,e.bindVertexProgramAttributeStreams=p,e.uploadPixelDataToTexture=f,e.uploadMatrixToTexture=C,e.uploadMatrixToPackedTexture=I,e.downloadMatrixFromOutputTextureAsync=m,e.downloadFloat32MatrixFromOutputTexture=v,e.downloadByteEncodedFloatMatrixFromOutputTexture=y,e.downloadMatrixFromPackedOutputTexture=b},function(t,e){"use strict";function n(t,e){return[e,t]}function r(t,e){return t*e}function i(t,e){return[4*e,t]}function a(t,e){if(t%e!==0)throw new Error("unpackedSize ("+t+") must be a multiple of "+e);return t/e}function o(t,e,n){var i=r(t.length,n);if(e.length<i)throw new Error("unpackedArray length ("+e.length+") must be >= "+i);for(var a=0,o=0;o<t.length;++o)e[a]=t[o],a+=n}function s(t,e,n){var r=a(t.length,n);if(e.length<r)throw new Error("matrix length ("+e.length+") must be >= "+r);for(var i=0,o=0;o<t.length;o+=n)e[i++]=t[o]}function l(t,e,n){var r=t.length*n/4;if(e.length<r)throw new Error("matrix length ("+e.length+") must be >= "+r);for(var i=0,a=0;a<t.length;a+=4)for(var o=0;o<n;o++)e[i++]=t[a+o]}function u(t,e){return[Math.ceil(e/2),Math.ceil(t/2)]}function c(t,e){var n=u(t,e),r=n[0],i=n[1];return r*i*4}function h(t,e,n,r){var i=c(e,n);if(r.length<i)throw new Error("packedRGBA length ("+r.length+") must be >= "+i);for(var a=u(e,n),o=a[0],s=a[1],l=n%2===1,h=e%2===1,g=Math.floor(n/2),d=Math.floor(e/2),p=l?4:0,f=n,A=0,C=0;C<d;++C){for(var I=2*C*n,m=0;m<g;++m){var v=2*m,y=I+v;r[A]=t[y],r[A+1]=t[y+1],r[A+2]=t[y+f],r[A+3]=t[y+f+1],A+=4}A+=p}if(l)for(var y=n-1,A=4*(o-1),b=2*n,p=4*o,C=0;C<d;++C)r[A]=t[y],r[A+2]=t[y+n],y+=b,A+=p;if(h)for(var y=(e-1)*n,A=(s-1)*o*4,m=0;m<g;++m)r[A++]=t[y++],r[A++]=t[y++],A+=2;return l&&h&&(r[r.length-4]=t[t.length-1]),r}function g(t,e,n,r){var i=e*n;if(i<r.length)throw new Error("matrix length ("+r.length+") must be >= "+i);for(var a=n%2===1,o=e%2===1,s=Math.floor(n/2),l=Math.floor(e/2),c=u(e,n),h=c[0],g=c[1],d=a?4:0,p=n+(a?1:0),f=0,A=0,C=n,I=0;I<l;++I){for(var m=0;m<s;++m)r[A++]=t[f++],r[A++]=t[f++],r[C++]=t[f++],r[C++]=t[f++];f+=d,A+=p,C+=p}if(a)for(var f=4*(h-1),v=n-1,d=4*h,p=2*n,I=0;I<l;++I)r[v]=t[f],r[v+n]=t[f+2],f+=d,v+=p;if(o)for(var f=(g-1)*h*4,v=(e-1)*n,m=0;m<s;++m)r[v++]=t[f++],r[v++]=t[f++],f+=2;return a&&o&&(r[r.length-1]=t[t.length-4]),r}Object.defineProperty(e,"__esModule",{value:!0});var d;!function(t){t[t.RENDER=0]="RENDER",t[t.UPLOAD=1]="UPLOAD",t[t.PIXELS=2]="PIXELS",t[t.DOWNLOAD=3]="DOWNLOAD"}(d=e.TextureUsage||(e.TextureUsage={}));var p;!function(t){t[t.FLOAT16=0]="FLOAT16",t[t.FLOAT32=1]="FLOAT32",t[t.UNSIGNED_BYTE=2]="UNSIGNED_BYTE"}(p=e.PhysicalTextureType||(e.PhysicalTextureType={})),e.getUnpackedMatrixTextureShapeWidthHeight=n,e.getUnpackedArraySizeFromMatrixSize=r,e.getColorMatrixTextureShapeWidthHeight=i,e.getMatrixSizeFromUnpackedArraySize=a,e.encodeMatrixToUnpackedArray=o,e.decodeMatrixFromUnpackedArray=s,e.decodeMatrixFromUnpackedColorRGBAArray=l,e.getPackedMatrixTextureShapeWidthHeight=u,e.getPackedRGBAArraySizeFromMatrixShape=c,e.encodeMatrixToPackedRGBA=h,e.decodeMatrixFromPackedRGBA=g},function(t,e,n){"use strict";function r(t){var e=document.createElement("canvas");return e.width=1,e.height=1,i(e,t)}function i(t,e){var n,r=B.ENV.get("WEBGL_VERSION");if(2===r?n=t.getContext("webgl2",e):1===r&&(n=t.getContext("webgl",e)||t.getContext("experimental-webgl",e)),0===r||null==n)throw new Error("This browser does not support WebGL.");return n}function a(t,e){var n=e();return s(t),n}function o(t){V=t}function s(t){if(V){var e=t.getError();if(e!==t.NO_ERROR)throw new Error("WebGL Error: "+l(t,e))}}function l(t,e){switch(e){case t.NO_ERROR:return"NO_ERROR";case t.INVALID_ENUM:return"INVALID_ENUM";case t.INVALID_VALUE:return"INVALID_VALUE";case t.INVALID_OPERATION:return"INVALID_OPERATION";case t.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case t.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case t.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return"Unknown error code "+e}}function u(t,e){return _(t,function(){return t.getExtension(e)},'Extension "'+e+'" not supported on this browser.')}function c(t,e){var n=_(t,function(){return t.createShader(t.VERTEX_SHADER)},"Unable to create vertex WebGLShader.");if(a(t,function(){return t.shaderSource(n,e)}),a(t,function(){return t.compileShader(n)}),t.getShaderParameter(n,t.COMPILE_STATUS)===!1)throw console.log(t.getShaderInfoLog(n)),new Error("Failed to compile vertex shader.");return n}function h(t,e){var n=_(t,function(){return t.createShader(t.FRAGMENT_SHADER)},"Unable to create fragment WebGLShader.");if(a(t,function(){return t.shaderSource(n,e)}),a(t,function(){return t.compileShader(n)}),t.getShaderParameter(n,t.COMPILE_STATUS)===!1)throw g(e,t.getShaderInfoLog(n)),new Error("Failed to compile fragment shader.");return n}function g(t,e){var n=j.exec(e);if(null==n)return console.log("Couldn't parse line number in error: "+e),void console.log(t);for(var r=+n[1],i=t.split("\n"),a=i.length.toString().length+2,o=i.map(function(t,e){return F.rightPad((e+1).toString(),a)+t}),s=0,l=0;l<o.length;l++)s=Math.max(o[l].length,s);var u=o.slice(0,r-1),c=o.slice(r-1,r),h=o.slice(r);console.log(u.join("\n")),console.log(e.split("\n")[0]),console.log("%c "+F.rightPad(c[0],s),"border:1px solid red; background-color:#e3d2d2; color:#a61717"),console.log(h.join("\n"))}function d(t){return _(t,function(){return t.createProgram()},"Unable to create WebGLProgram.")}function p(t,e){if(a(t,function(){return t.linkProgram(e)}),t.getProgramParameter(e,t.LINK_STATUS)===!1)throw console.log(t.getProgramInfoLog(e)),new Error("Failed to link vertex and fragment shaders.")}function f(t,e){if(a(t,function(){return t.validateProgram(e)}),t.getProgramParameter(e,t.VALIDATE_STATUS)===!1)throw console.log(t.getProgramInfoLog(e)),new Error("Shader program validation failed.")}function A(t,e){var n=_(t,function(){return t.createBuffer()},"Unable to create WebGLBuffer");return a(t,function(){return t.bindBuffer(t.ARRAY_BUFFER,n)}),a(t,function(){return t.bufferData(t.ARRAY_BUFFER,e,t.STATIC_DRAW)}),n}function C(t,e){var n=_(t,function(){return t.createBuffer()},"Unable to create WebGLBuffer");return a(t,function(){return t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,n)}),a(t,function(){return t.bufferData(t.ELEMENT_ARRAY_BUFFER,e,t.STATIC_DRAW)}),n}function I(t){return null!=z?z:z=a(t,function(){return t.getParameter(t.MAX_TEXTURE_SIZE)})}function m(){return 2===B.ENV.get("WEBGL_VERSION")?1:4}function v(t){return _(t,function(){return t.createTexture()},"Unable to create WebGLTexture.")}function y(t,e,n){var r=I(t);if(e<=0||n<=0){var i="["+e+"x"+n+"]";throw new Error("Requested texture size "+i+" is invalid.")}if(e>r||n>r){var i="["+e+"x"+n+"]",a="["+r+"x"+r+"]";throw new Error("Requested texture size "+i+" greater than WebGL maximum on this browser / GPU "+a+".")}}function b(t){return _(t,function(){return t.createFramebuffer()},"Unable to create WebGLFramebuffer.")}function x(t,e,n,r,i,o,s){var l=t.getAttribLocation(e,n);return l!==-1&&(a(t,function(){return t.bindBuffer(t.ARRAY_BUFFER,r)}),a(t,function(){return t.vertexAttribPointer(l,i,t.FLOAT,!1,o,s)}),a(t,function(){return t.enableVertexAttribArray(l)}),!0)}function w(t,e,n){P(t,n),a(t,function(){return t.activeTexture(t.TEXTURE0+n)}),a(t,function(){return t.bindTexture(t.TEXTURE_2D,e)})}function S(t,e){P(t,e),a(t,function(){return t.activeTexture(t.TEXTURE0+e)}),a(t,function(){return t.bindTexture(t.TEXTURE_2D,null)})}function T(t,e,n){return _(t,function(){return t.getUniformLocation(e,n)},'uniform "'+n+'" not present in program.')}function N(t,e,n){return t.getUniformLocation(e,n)}function E(t,e,n,r,i){a(t,function(){return w(t,n,i)}),a(t,function(){return t.uniform1i(r,i)})}function k(t){a(t,function(){return t.bindFramebuffer(t.FRAMEBUFFER,null)}),a(t,function(){return t.viewport(0,0,t.canvas.width,t.canvas.height)}),a(t,function(){return t.scissor(0,0,t.canvas.width,t.canvas.height)})}function O(t,e,n){a(t,function(){return t.bindFramebuffer(t.FRAMEBUFFER,n)}),a(t,function(){return t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e,0)})}function M(t,e){a(t,function(){return t.bindFramebuffer(t.FRAMEBUFFER,e)}),a(t,function(){return t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,null,0)})}function R(t){var e=t.checkFramebufferStatus(t.FRAMEBUFFER);if(e!==t.FRAMEBUFFER_COMPLETE)throw new Error("Error binding framebuffer: "+D(t,e))}function D(t,e){switch(e){case t.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_ATTACHMENT";case t.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";case t.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return"FRAMEBUFFER_INCOMPLETE_DIMENSIONS";case t.FRAMEBUFFER_UNSUPPORTED:return"FRAMEBUFFER_UNSUPPORTED";default:return"unknown error "+e}}function _(t,e,n){var r=a(t,function(){return e()});if(null==r)throw new Error(n);return r}function P(t,e){var n=t.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,r=e+t.TEXTURE0;if(r<t.TEXTURE0||r>n){var i="[gl.TEXTURE0, gl.TEXTURE"+n+"]";throw new Error("textureUnit must be in "+i+".")}}function L(t,e){if(2!==e.length){var n=F.squeezeShape(e);e=n.newShape}var r=I(t),i=F.sizeFromShape(e);return e.length<=1&&i<=r?[i,1]:2===e.length&&e[0]<=r&&e[1]<=r?e:3===e.length&&e[0]<=r&&e[1]*e[2]<=r?[e[0],e[1]*e[2]]:4===e.length&&e[0]<=r&&e[1]*e[2]*e[3]<=r?[e[0],e[1]*e[2]*e[3]]:F.sizeToSquarishShape(i)}Object.defineProperty(e,"__esModule",{value:!0});var z=null,F=n(512),B=n(507);e.createWebGLRenderingContext=r,e.createWebGLRenderingContextFromCanvas=i,e.callAndCheck=a;var V=!1;e.enableDebugWebGLErrorChecking=o,e.checkWebGLError=s,e.getWebGLErrorMessage=l,e.getExtensionOrThrow=u,e.createVertexShader=c,e.createFragmentShader=h;var j=/ERROR: [0-9]+:([0-9]+):/g;e.createProgram=d,e.linkProgram=p,e.validateProgram=f,e.createStaticVertexBuffer=A,e.createStaticIndexBuffer=C,e.queryMaxTextureSize=I,e.getNumChannels=m,e.createTexture=v,e.validateTextureSize=y,e.createFramebuffer=b,e.bindVertexBufferToProgramAttribute=x,e.bindTextureUnit=w,e.unbindTextureUnit=S,e.getProgramUniformLocationOrThrow=T,e.getProgramUniformLocation=N,e.bindTextureToProgramUniformSampler=E,e.bindCanvasToFramebuffer=k,e.bindColorTextureToFramebuffer=O,e.unbindColorTextureFromFramebuffer=M,e.validateFramebuffer=R,e.getFramebufferErrorMessage=D,e.getTextureShapeFromLogicalShape=L},function(t,e,n){"use strict";function r(t,e,n,r){for(var i=e.userCode,a=n.map(function(t,n){var r={logicalShape:t.tensor.shape,texShape:t.isUniform?null:t.texData.texShape,isUniform:t.isUniform};return{name:e.variableNames[n],shapeInfo:r}}),o=a.map(function(t){return t.shapeInfo}),s={logicalShape:r.tensor.shape,texShape:r.texData.texShape,isUniform:!1},u=l.makeShader(a,s,i,e.supportsBroadcasting===!0),c=t.createProgram(u),h={},g=0;g<e.variableNames.length;g++){var d=e.variableNames[g],p=!1;h[d]=t.getUniformLocation(c,d,p)}return{program:e,source:u,webGLProgram:c,uniformLocations:h,gpgpu:t,inShapeInfos:o,outShapeInfo:s}}function i(t,e){if(t.length!==e.length)throw Error("Binary was compiled with "+t.length+" inputs, but "+("was executed with "+e.length+" inputs"));t.forEach(function(t,n){var r=t.logicalShape,i=e[n],a=i.tensor.shape;if(!s.arraysEqual(r,a))throw Error("Binary was compiled with different shapes than "+("the current args. Shapes "+r+" and "+a+" must match"));if(!t.isUniform||!i.isUniform){var o=t.texShape,l=i.isUniform?null:i.texData.texShape;if(!s.arraysEqual(o,l))throw Error("Binary was compiled with different texture shapes than the"+(" current args. Shape "+o+" and "+l+" must match"))}})}function a(t,e,n,r){i(t.inShapeInfos,e),i([t.outShapeInfo],[n]);var a=n.texData.texture,o=n.texData.texShape,s=t.gpgpu;s.setOutputMatrixTexture(a,o[0],o[1]),s.setProgram(t.webGLProgram),e.forEach(function(e,n){var r=t.program.variableNames[n],i=t.uniformLocations[r];if(null!=i){if(e.isUniform){if(1===e.tensor.size)s.gl.uniform1f(i,e.tensor.dataSync()[0]);else{var a=e.tensor.dataSync();a instanceof Float32Array||(a=new Float32Array(a)),s.gl.uniform1fv(i,a)}return}var o=e.texData.texture;s.setInputMatrixTexture(o,i,n)}}),null!=r&&r(s,t.webGLProgram),s.executeProgram()}function o(t,e,n){var r="";e.concat(n).forEach(function(t){r+=t.tensor.shape+"_"+(t.isUniform?"uniform":t.texData.texShape)});var i=t.userCode,a=(t.supportsBroadcasting===!0).toString(),o=t.constructor.name;return o+="_"+a+"_"+r+"_"+i}Object.defineProperty(e,"__esModule",{value:!0});var s=n(512),l=n(583);e.compileProgram=r,e.runProgram=a,e.makeShaderKey=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(583),i=function(){function t(t,e,n){this.variableNames=["c","a","b"],this.outputShape=e;var i,a;if(n>4)throw Error("Where for rank "+n+" is not yet supported");if(1===n)a="resRC",i="resRC";else{for(var o=["resRC.x","resRC.y","resRC.z","resRC.w"],s=[],l=[],u=0;u<e.length;u++)l.push(""+o[u]),u<t&&s.push(""+o[u]);i=s.join(),a=l.join()}var c=r.getCoordsDataType(n);this.userCode="\n      void main() {\n        "+c+" resRC = getOutputCoords();\n        float cVal = getC("+i+");\n        if (cVal >= 1.0) {\n          setOutput(getA("+a+"));\n        } else {\n          setOutput(getB("+a+"));\n        }\n      }\n    "}return t}();e.WhereProgram=i},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e,n,r,i){this.variableNames=["x"],this.outputShape=[];var a=e,o=t[3]-1;this.outputShape=t;var s,l="float("+n+") + float("+r+") * sum";s=.5===i?"inversesqrt("+l+")":1===i?"1.0/("+l+")":"exp(log("+l+") * float(-"+i+"));",this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n        int d = coords[3];\n        float x = getX(b, r, c, d);\n        float sum = 0.0;\n        for (int j = -"+a+"; j <= "+a+"; j++) {\n          int idx = d + j;\n          if (idx >= 0 && idx <=  "+o+") {\n            float z = getX(b, r, c, idx);\n            sum += z * z;\n          }\n        }\n        float val = x * "+s+";\n        setOutput(val);\n      }\n    ";
}return t}();e.LRNProgram=n},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t){this.variableNames=["dy","maxPos"],this.outputShape=t.inShape;var e=t.filterHeight,n=t.filterWidth,r=t.strideHeight,i=t.strideWidth,a=e-1-t.padInfo.top,o=n-1-t.padInfo.left,s=e*n-1;this.userCode="\n      const ivec2 pads = ivec2("+a+", "+o+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+e+"; wR++) {\n          float dyR = float(dyRCorner + wR) / "+r+".0;\n\n          if (dyR < 0.0 || dyR >= "+t.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < "+n+"; wC++) {\n            float dyC = float(dyCCorner + wC) / "+i+".0;\n\n            if (dyC < 0.0 || dyC >= "+t.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n            int maxPosValue = "+s+" - int(getMaxPos(b, idyR, idyC, d));\n\n            // Get the current value, check it against the value from the\n            // position matrix.\n            int curPosValue = wR * "+n+" + wC;\n            float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n            dotProd += dyValue * mask;\n          }\n        }\n        setOutput(dotProd);\n      }\n    "}return t}();e.MaxPool2DBackpropProgram=n},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e,n,r){void 0===n&&(n=!1),void 0===r&&(r=!1),this.variableNames=["matrixA","matrixB"];var i=n?t[1]:t[0],a=r?e[0]:e[1],o=n?t[0]:t[1];this.outputShape=[i,a];var s=function(t,e){return n?e+" + "+t+", aRow":"aRow, "+e+" + "+t},l=function(t,e){return r?"bCol, "+e+" + "+t:e+" + "+t+", bCol"},u=4*Math.floor(o/4),c=o%4;this.userCode=" float dotARowBCol(int aRow, int bCol) {\n      float result = 0.0;\n      for (int i = 0; i < "+u+"; i += 4) {\n        vec4 a = vec4(\n          getMatrixA("+s(0,"i")+"),\n          getMatrixA("+s(1,"i")+"),\n          getMatrixA("+s(2,"i")+"),\n          getMatrixA("+s(3,"i")+")\n        );\n        vec4 b = vec4(\n          getMatrixB("+l(0,"i")+"),\n          getMatrixB("+l(1,"i")+"),\n          getMatrixB("+l(2,"i")+"),\n          getMatrixB("+l(3,"i")+")\n        );\n\n        result += dot(a, b);\n      }\n\n      if ("+(1===c)+") {\n        result += getMatrixA("+s(0,u)+") *\n          getMatrixB("+l(0,u)+");\n      } else if ("+(2===c)+") {\n        vec2 a = vec2(\n          getMatrixA("+s(0,u)+"),\n          getMatrixA("+s(1,u)+")\n        );\n        vec2 b = vec2(\n          getMatrixB("+l(0,u)+"),\n          getMatrixB("+l(1,u)+")\n        );\n        result += dot(a, b);\n      } else if ("+(3===c)+") {\n        vec3 a = vec3(\n          getMatrixA("+s(0,u)+"),\n          getMatrixA("+s(1,u)+"),\n          getMatrixA("+s(2,u)+")\n        );\n        vec3 b = vec3(\n          getMatrixB("+l(0,u)+"),\n          getMatrixB("+l(1,u)+"),\n          getMatrixB("+l(2,u)+")\n        );\n        result += dot(a, b);\n      }\n\n      return result;\n    }\n\n    void main() {\n      ivec2 resRC = getOutputCoords();\n      setOutput(dotARowBCol(resRC.x, resRC.y));\n    }\n    "}return t}();e.MatMulProgram=n},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e,n){this.variableNames=["probs"],this.outputShape=[t,n],this.userCode="\n      uniform float seed;\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n\n        float r = random(seed);\n        float cdf = 0.0;\n\n        for (int i = 0; i < "+(e-1)+"; i++) {\n          cdf += getProbs(batch, i);\n\n          if (r < cdf) {\n            setOutput(float(i));\n            return;\n          }\n        }\n\n        // If no other event happened, last event happened.\n        setOutput(float("+(e-1)+"));\n      }\n    "}return t.prototype.getCustomSetupFunc=function(t){var e=this;return function(n,r){null==e.seedLoc&&(e.seedLoc=n.getUniformLocation(r,"seed")),n.gl.uniform1f(e.seedLoc,t)}},t}();e.MultinomialProgram=n},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e,n,r){this.variableNames=["indices"],this.outputShape=[t,e],this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int index = round(getIndices(coords.x));\n        setOutput(mix(float("+r+"), float("+n+"),\n                      float(index == coords.y)));\n      }\n    "}return t}();e.OneHotProgram=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(583),i=function(){function t(t,e,n){this.variableNames=["x"],this.outputShape=e.map(function(e,n){return e[0]+t[n]+e[1]});var i=t.length,a=r.getCoordsDataType(i),o=e.map(function(t){return t[0]}).join(","),s=e.map(function(e,n){return e[0]+t[n]}).join(","),l=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,i);return 1===i?void(this.userCode="\n        int start = "+o+";\n        int end = "+s+";\n\n        void main() {\n          int outC = getOutputCoords();\n          if (outC < start || outC >= end) {\n            setOutput(float("+n+"));\n          } else {\n            setOutput(getX(outC - start));\n          }\n        }\n      "):void(this.userCode="\n      "+a+" start = "+a+"("+o+");\n      "+a+" end = "+a+"("+s+");\n\n      void main() {\n        "+a+" outC = getOutputCoords();\n        if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {\n          setOutput(float("+n+"));\n        } else {\n          "+a+" coords = outC - start;\n          setOutput(getX("+l+"));\n        }\n      }\n    ")}return t}();e.PadProgram=i},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e,n){if(this.variableNames=["x"],"avg"===e&&n)throw new Error("Cannot compute positions for average pool.");var r=t.filterHeight,i=t.filterWidth,a=t.strideHeight,o=t.strideWidth,s=t.padInfo.top,l=t.padInfo.left;this.outputShape=t.outShape;var u="avg"===e,c="0.0";if(u||(c="-1.0 / 0.0"),n){var h=">=";return void(this.userCode="\n        const ivec2 strides = ivec2("+a+", "+o+");\n        const ivec2 pads = ivec2("+s+", "+l+");\n\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int batch = coords[0];\n          int d = coords[3];\n\n          ivec2 xRCCorner = coords.yz * strides - pads;\n          int xRCorner = xRCCorner.x;\n          int xCCorner = xRCCorner.y;\n\n          // max/min x(?, ?, d) to get y(yR, yC, d).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n          float avgValue = 0.0;\n\n          for (int wR = 0; wR < "+r+"; wR++) {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= "+t.inHeight+") {\n              continue;\n            }\n\n            for (int wC = 0; wC < "+i+"; wC++) {\n              int xC = xCCorner + wC;\n\n              if (xC < 0 || xC >= "+t.inWidth+") {\n                continue;\n              }\n\n              float value = getX(batch, xR, xC, d);\n\n              // If a min / max value has already been found, use it. If not,\n              // use the current value.\n              float currMinMaxValue = mix(\n                  value, minMaxValue, minMaxValueFound);\n              if (value "+h+" currMinMaxValue) {\n                minMaxValue = value;\n                minMaxValueFound = 1.0;\n                minMaxPosition = wR * "+i+" + wC;\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      ")}var g="max",d=e+"("+e+"("+e+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"avg"===e&&(d="avgValue / count");var p=4*Math.floor(i/4),f=i%4,A="\n      if ("+u+") {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = "+g+"(values, minMaxValue);\n      }\n    ";this.userCode="\n      const ivec2 strides = ivec2("+a+", "+o+");\n      const ivec2 pads = ivec2("+s+", "+l+");\n      const float initializationValue = "+c+";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xR, int xC, int d) {\n        if (xC < 0 || xC >= "+t.inWidth+") {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xR, xC, d);\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d = coords[3];\n\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // max/min x(?, ?, d) to get y(yR, yC, d).\n        // ? = to be determined\n        vec4 minMaxValue = vec4("+c+");\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wR = 0; wR < "+r+"; wR++) {\n          int xR = xRCorner + wR;\n\n          if (xR < 0 || xR >= "+t.inHeight+") {\n            continue;\n          }\n\n          for (int wC = 0; wC < "+p+"; wC += 4) {\n            int xC = xCCorner + wC;\n\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + 1, d),\n              getValue(batch, xR, xC + 2, d),\n              getValue(batch, xR, xC + 3, d)\n            );\n\n            "+A+"\n          }\n\n          int xC = xCCorner + "+p+";\n          if ("+(1===f)+") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              initializationValue,\n              initializationValue,\n              initializationValue\n            );\n\n            "+A+"\n          } else if ("+(2===f)+") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + 1, d),\n              initializationValue,\n              initializationValue\n            );\n\n            "+A+"\n          } else if ("+(3===f)+") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + 1, d),\n              getValue(batch, xR, xC + 2, d),\n              initializationValue\n            );\n\n            "+A+"\n          }\n        }\n        setOutput("+d+");\n      }\n    "}return t}();e.Pool2DProgram=n},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){this.variableNames=["x"];var n=t.windowSize,r=t.batchSize,i=t.inSize,a=Math.ceil(i/n);this.outputShape=[r,a];var o="0.0",s="";"min"===e?(o="1.0 / 0.0",s="min"):"max"===e&&(o="-1.0 / 0.0",s="max");var l=e+"("+e+"("+e+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"sum"===e?l="sumValue":"all"===e?l="allValue":"any"===e&&(l="anyValue");var u=4*Math.floor(n/4),c=n%4,h="\n      if ("+("sum"===e)+") {\n        sumValue += dot(values, ones);\n      } else {\n        minMaxValue = "+s+"(values, minMaxValue);\n      }\n    ",g="vec4";"all"===e?(o="1.0",h="\n        bool reducedAllValue = all(values);\n        float floatedReducedAllValue = float(reducedAllValue);\n        allValue = float(allValue >= 1.0 && floatedReducedAllValue >= 1.0);\n      ",g="bvec4"):"any"===e&&(o="0.0",h="\n        bool reducedAnyValue = any(values);\n        float floatedReducedAnyValue = float(reducedAnyValue);\n        anyValue = float(anyValue >= 1.0 || floatedReducedAnyValue >= 1.0);\n      ",g="bvec4");var d="";i%n>0&&(d="\n        if (inIdx < 0 || inIdx >= "+i+") {\n          return initializationValue;\n        }\n      "),this.userCode="\n      const float initializationValue = "+o+";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float getValue(int batch, int inIdx) {\n        "+d+"\n        return getX(batch, inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * "+n+";\n\n        vec4 minMaxValue = vec4("+o+");\n        float sumValue = 0.0;\n        float allValue = 1.0;\n        float anyValue = 0.0;\n\n        for (int i = 0; i < "+u+"; i += 4) {\n          int inIdx = inOffset + i;\n          "+g+" values = "+g+"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          "+h+"\n        }\n\n        int inIdx = inOffset + "+u+";\n        if ("+(1===c)+") {\n          "+g+" values = "+g+"(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          "+h+"\n        } else if ("+(2===c)+") {\n          "+g+" values = "+g+"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          "+h+"\n        } else if ("+(3===c)+") {\n          "+g+" values = "+g+"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          "+h+"\n        }\n        setOutput("+l+");\n      }\n    "}return t}();e.ReduceProgram=n},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e,n){this.variableNames=["dy"],this.outputShape=[],this.outputShape=e.shape;var r=e.shape,i=r[1],a=r[2],o=t.shape,s=o[1],l=o[2],u=[n&&s>1?i-1:i,n&&l>1?a-1:a],c=[n&&s>1?s-1:s,n&&l>1?l-1:l],h=u[0]/c[0],g=u[1]/c[1],d=1/h,p=1/g,f=2*Math.ceil(d)+2,A=2*Math.ceil(p)+2;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float("+h+");\n        const float widthScale = float("+g+");\n\n        const float invHeightScale = float("+d+");\n        const float invWidthScale = float("+p+");\n\n        const int winHeight = int("+f+");\n        const int winWidth = int("+A+");\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(startRLerp - float(winHeight / 2));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(startCLerp - float(winWidth / 2));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= "+s+") {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= "+l+") {\n              continue;\n            }\n\n            float dxR = float(dyR) * heightScale;\n            int topDxRIndex = int(floor(dxR));\n            int bottomDxRIndex = int(min(ceil(dxR), "+(i-1)+".0));\n            float dxRLerp = dxR - float(topDxRIndex);\n            float inverseDxRLerp = 1.0 - dxRLerp;\n\n            float dxC = float(dyC) * widthScale;\n            int leftDxCIndex = int(floor(dxC));\n            int rightDxCIndex = int(min(ceil(dxC), "+(a-1)+".0));\n            float dxCLerp = dxC - float(leftDxCIndex);\n            float inverseDxCLerp = 1.0 - dxCLerp;\n\n            if (r == topDxRIndex && c == leftDxCIndex) {\n              // topLeft\n              accumulator +=\n                getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;\n            }\n\n            if (r == topDxRIndex && c == rightDxCIndex) {\n              // topRight\n              accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == leftDxCIndex) {\n              // bottomLeft\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == rightDxCIndex) {\n              // bottomRight\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    "}return t}();e.ResizeBilinearBackpropProgram=n},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e,n,r){this.variableNames=["A"],this.outputShape=[];var i=t[0],a=t[1],o=t[2],s=t[3];this.outputShape=[i,e,n,s];var l=[r&&e>1?a-1:a,r&&n>1?o-1:o],u=[r&&e>1?e-1:e,r&&n>1?n-1:n];this.userCode="\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          "+l[0]/u[0]+",\n          "+l[1]/u[1]+");\n      const vec2 inputShapeRC = vec2("+a+".0, "+o+".0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = vec2(yRC) * effectiveInputOverOutputRatioRC;\n\n        // Compute the four integer indices.\n        ivec2 sourceFloorRC = ivec2(sourceFracIndexRC);\n        ivec2 sourceCeilRC = ivec2(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        float topLeft = getA(b, sourceFloorRC.x, sourceFloorRC.y, d);\n        float bottomLeft = getA(b, sourceCeilRC.x, sourceFloorRC.y, d);\n        float topRight = getA(b, sourceFloorRC.x, sourceCeilRC.y, d);\n        float bottomRight = getA(b, sourceCeilRC.x, sourceCeilRC.y, d);\n\n        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);\n\n        float top = topLeft + (topRight - topLeft) * fracRC.y;\n        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;\n        float newValue = top + (bottom - top) * fracRC.x;\n\n        setOutput(newValue);\n      }\n    "}return t}();e.ResizeBilinearProgram=n},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e,n){this.variableNames=["dy"],this.outputShape=[],this.outputShape=e.shape;var r=e.shape,i=r[1],a=r[2],o=t.shape,s=o[1],l=o[2],u=[n&&s>1?i-1:i,n&&l>1?a-1:a],c=[n&&s>1?s-1:s,n&&l>1?l-1:l],h=u[0]/c[0],g=u[1]/c[1],d=1/h,p=1/g,f=2*Math.ceil(d)+2,A=2*Math.ceil(p)+2;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float("+h+");\n        const float widthScale = float("+g+");\n\n        const float invHeightScale = float("+d+");\n        const float invWidthScale = float("+p+");\n\n        const int winHeight = int("+f+");\n        const int winWidth = int("+A+");\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(floor(startRLerp - float(winHeight / 2)));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(floor(startCLerp - float(winWidth / 2)));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= "+s+") {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= "+l+") {\n              continue;\n            }\n\n            float sourceFracRow =\n              float("+u[0]+") *\n                (float(dyR) / float("+c[0]+"));\n\n            float sourceFracCol =\n                float("+u[1]+") *\n                  (float(dyC) / float("+c[1]+"));\n\n            int sourceNearestRow = int(min(\n                float(int("+i+") - 1),\n                "+n+" ? float(round(sourceFracRow)) :\n                                  float(floor(sourceFracRow))));\n\n            int sourceNearestCol = int(min(\n                float(int("+a+") - 1),\n                "+n+" ? float(round(sourceFracCol)) :\n                                  float(floor(sourceFracCol))));\n\n            if (r == sourceNearestRow && c == sourceNearestCol) {\n              accumulator += getDy(b, dyR, dyC, d);\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    "}return t}();e.ResizeNearestNeigborBackpropProgram=n},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e,n,r){this.variableNames=["A"],this.outputShape=[];var i=t[0],a=t[1],o=t[2],s=t[3];this.outputShape=[i,e,n,s];var l=[r&&e>1?a-1:a,r&&n>1?o-1:o],u=[r&&e>1?e-1:e,r&&n>1?n-1:n],c=r?"0.5":"0.0";this.userCode="\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          "+l[0]/u[0]+",\n          "+l[1]/u[1]+");\n      const vec2 inputShapeRC = vec2("+a+".0, "+o+".0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = vec2(yRC) * effectiveInputOverOutputRatioRC;\n\n        // Compute the coordinators of nearest neighbor point.\n        ivec2 sourceNearestRC = ivec2(\n          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + "+c+")));\n\n        float newValue = getA(b, sourceNearestRC.x, sourceNearestRC.y, d);\n\n        setOutput(newValue);\n      }\n    "}return t}();e.ResizeNearestNeighborProgram=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(583),i=function(){function t(t,e){this.variableNames=["x"];var n=t.length;if(n>4)throw new Error("WebGL backend: Reverse of rank-"+n+" tensor is not yet supported");if(this.outputShape=t,1===n)return void(this.userCode="\n        void main() {\n          int coord = getOutputCoords();\n          setOutput(getX("+t[0]+" - coord - 1));\n        }\n      ");var i=function(n){return e.indexOf(n)!==-1&&1!==t[n]?t[n]+" - coords["+n+"] - 1":"coords["+n+"]"},a=t.map(function(t,e){return i(e)}).join(","),o=r.getCoordsDataType(n);this.userCode="\n      void main() {\n        "+o+" coords = getOutputCoords();\n        setOutput(getX("+a+"));\n      }\n    "}return t}();e.ReverseProgram=i},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){this.variableNames=["x","segmentIds"];var n=t.windowSize,r=t.batchSize,i=t.inSize,a=t.numSegments,o=a*Math.ceil(i/n);this.outputShape=[r,o];var s="0.0",l="sumValue",u=4*Math.floor(n/4),c=n%4,h="\n        sumValue += dot(values, filter);\n    ",g="";i%n>0&&(g="\n        if (inIdx < 0 || inIdx >= "+i+") {\n          return initializationValue;\n        }\n      ");var d="";i%n>0&&(d="\n        if (inIdx < 0 || inIdx >= "+i+") {\n          return -1.0;\n        }\n      "),this.userCode="\n      const float initializationValue = "+s+";\n\n      float getValue(int batch, int inIdx) {\n        "+g+"\n        return getX(batch, inIdx);\n      }\n\n      float getSegmentIdAtIndex(int inIdx) {\n        "+d+"\n        return getSegmentIds(inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = int(floor(float(outIdx) / float(\n          "+a+")) * float("+n+"));\n        int currentSeg = int(mod(float(outIdx), float("+a+")));\n\n        float sumValue = 0.0;\n\n        for (int i = 0; i < "+u+"; i += 4) {\n          int inIdx = inOffset + i;\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          vec4 filter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 3)) == currentSeg ? 1 : 0\n          );\n\n          "+h+"\n        }\n\n        int inIdx = inOffset + "+u+";\n        if ("+(1===c)+") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          int inIdxSeg = int(getSegmentIdAtIndex(inIdx));\n\n          vec4 filter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            0,\n            0,\n            0\n          );\n\n          "+h+"\n        } else if ("+(2===c)+") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          vec4 filter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n              0,\n              0\n          );\n\n          "+h+"\n        } else if ("+(3===c)+") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          vec4 filter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            0\n          );\n\n          "+h+"\n        }\n        setOutput("+l+");\n      }\n    "}return t}();e.SegmentOpProgram=n},function(t,e,n){"use strict";function r(t){if(1===t)return"sourceLoc";if(2===t)return"sourceLoc.x, sourceLoc.y";if(3===t)return"sourceLoc.x, sourceLoc.y, sourceLoc.z";if(4===t)return"sourceLoc.x, sourceLoc.y, sourceLoc.z, sourceLoc.w";throw Error("Slicing for rank "+t+" is not yet supported")}Object.defineProperty(e,"__esModule",{value:!0});var i=n(583),a=function(){function t(t){this.variableNames=["source"],this.outputShape=t,this.rank=t.length;var e=i.getCoordsDataType(this.rank),n=r(this.rank);this.userCode="\n      uniform "+e+" start;\n\n      void main() {\n        "+e+" sourceLoc = start + getOutputCoords();\n        setOutput(getSource("+n+"));\n      }\n    "}return t.prototype.getCustomSetupFunc=function(t){var e=this;if(t.length!==this.rank)throw Error("The rank ("+this.rank+") of the program must match the "+("length of start ("+t.length+")"));return function(n,r){if(null!=e.startLoc||(e.startLoc=n.getUniformLocationNoThrow(r,"start"),null!=e.startLoc))if(1===e.rank)n.gl.uniform1i(e.startLoc,t[0]);else if(2===e.rank)n.gl.uniform2i(e.startLoc,t[0],t[1]);else if(3===e.rank)n.gl.uniform3i(e.startLoc,t[0],t[1],t[2]);else{if(4!==e.rank)throw Error("Slicing for rank "+e.rank+" is not yet supported");n.gl.uniform4i(e.startLoc,t[0],t[1],t[2],t[3])}}},t}();e.SliceProgram=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(583),i=function(){function t(t,e,n){this.variableNames=["x"],this.outputShape=n,this.rank=n.length;var i=r.getCoordsDataType(this.rank),a="";a=1===this.rank?"coords * strides + begin":n.map(function(t,e){return"coords["+e+"] * strides["+e+"] + begin["+e+"]"}).join(","),this.userCode="\n      "+i+" begin = "+i+"("+t+");\n      "+i+" strides = "+i+"("+e+");\n\n      void main() {\n        "+i+" coords = getOutputCoords();\n        setOutput(getX("+a+"));\n      }\n    "}return t}();e.StridedSliceProgram=i},function(t,e,n){"use strict";function r(t){if(t===o.TextureUsage.DOWNLOAD||t===o.TextureUsage.PIXELS)return o.PhysicalTextureType.UNSIGNED_BYTE;if(t===o.TextureUsage.UPLOAD)return o.PhysicalTextureType.FLOAT32;if(t===o.TextureUsage.RENDER)return a.ENV.get("WEBGL_RENDER_FLOAT32_ENABLED")?o.PhysicalTextureType.FLOAT32:o.PhysicalTextureType.FLOAT16;throw new Error("Unknown logical texture type "+t)}function i(t,e){return t[0]+"_"+t[1]+"_"+e}Object.defineProperty(e,"__esModule",{value:!0});var a=n(507),o=n(589),s=function(){function t(t){this.gpgpu=t,this.numUsedTextures=0,this.numFreeTextures=0,this.freeTextures={},this.logEnabled=!1,this.usedTextures={}}return t.prototype.acquireTexture=function(t,e){var n=r(e),a=i(t,n);if(a in this.freeTextures||(this.freeTextures[a]=[]),a in this.usedTextures||(this.usedTextures[a]=[]),this.freeTextures[a].length>0){this.numFreeTextures--,this.numUsedTextures++,this.log();var s=this.freeTextures[a].shift();return this.usedTextures[a].push(s),s}this.numUsedTextures++,this.log();var l;return n===o.PhysicalTextureType.FLOAT32?l=this.gpgpu.createFloat32MatrixTexture(t[0],t[1]):n===o.PhysicalTextureType.FLOAT16?l=this.gpgpu.createFloat16MatrixTexture(t[0],t[1]):n===o.PhysicalTextureType.UNSIGNED_BYTE&&(l=this.gpgpu.createUnsignedBytesMatrixTexture(t[0],t[1])),this.usedTextures[a].push(l),l},t.prototype.releaseTexture=function(t,e,n){var a=r(n),o=i(e,a);o in this.freeTextures||(this.freeTextures[o]=[]),this.freeTextures[o].push(t),this.numFreeTextures++,this.numUsedTextures--;var s=this.usedTextures[o],l=s.indexOf(t);if(l<0)throw new Error("Cannot release a texture that was never provided by this texture manager");s.splice(l,1),this.log()},t.prototype.log=function(){if(this.logEnabled){var t=this.numFreeTextures+this.numUsedTextures;console.log("Free/Used",this.numFreeTextures+" / "+this.numUsedTextures,"("+t+")")}},t.prototype.getNumUsedTextures=function(){return this.numUsedTextures},t.prototype.getNumFreeTextures=function(){return this.numFreeTextures},t.prototype.dispose=function(){var t=this;if(null!=this.freeTextures){for(var e in this.freeTextures)this.freeTextures[e].forEach(function(e){t.gpgpu.deleteMatrixTexture(e)});for(var e in this.usedTextures)this.usedTextures[e].forEach(function(e){t.gpgpu.deleteMatrixTexture(e)});this.freeTextures=null,this.usedTextures=null,this.numUsedTextures=0,this.numFreeTextures=0}},t}();e.TextureManager=s},function(t,e,n){"use strict";function r(t){var e=t.length;if(e>5)throw Error("Tile for rank "+e+" is not yet supported");if(1===e)return"imod(resRC, "+t[0]+")";for(var n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u"],r=[],i=0;i<t.length;i++)r.push("imod("+n[i]+", "+t[i]+")");return r.join()}Object.defineProperty(e,"__esModule",{value:!0});var i=n(583),a=function(){function t(t,e){this.variableNames=["A"];for(var n=new Array(t.length),a=0;a<n.length;a++)n[a]=t[a]*e[a];this.outputShape=n,this.rank=n.length;var o=i.getCoordsDataType(this.rank),s=r(t);this.userCode="\n      void main() {\n        "+o+" resRC = getOutputCoords();\n        setOutput(getA("+s+"));\n      }\n    "}return t}();e.TileProgram=a},function(t,e,n){"use strict";function r(t){var e=t.length;if(e>6)throw Error("Transpose for rank "+e+" is not yet supported");for(var n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u","resRC.v"],r=new Array(e),i=0;i<t.length;i++)r[t[i]]=n[i];return r.join()}Object.defineProperty(e,"__esModule",{value:!0});var i=n(583),a=function(){function t(t,e){this.variableNames=["A"];
for(var n=new Array(t.length),a=0;a<n.length;a++)n[a]=t[e[a]];this.outputShape=n,this.rank=n.length;var o=i.getCoordsDataType(this.rank),s=r(e);this.userCode="\n    void main() {\n      "+o+" resRC = getOutputCoords();\n      setOutput(getA("+s+"));\n    }\n    "}return t}();e.TransposeProgram=a},function(t,e,n){"use strict";function r(t){return void 0===t&&(t=0),s+("\n    return x > 0.0 ? 1.0 : float("+t+");\n  ")}Object.defineProperty(e,"__esModule",{value:!0});var i=n(613),a=n(557),o=function(){function t(t,e){this.variableNames=["A"],this.outputShape=t,this.userCode="\n      uniform float NAN;\n      float unaryOperation(float x) {\n        "+e+"\n      }\n\n      void main() {\n        float x = getAAtOutCoords();\n        float y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    "}return t.prototype.getCustomSetupFunc=function(){var t=this;return function(e,n){null==t.startLoc&&(t.startLoc=e.getUniformLocationNoThrow(n,"NAN"),null==t.startLoc)||e.gl.uniform1f(t.startLoc,NaN)}},t}();e.UnaryOpProgram=o;var s="if (isNaN(x)) return x;";e.ABS="return abs(x);",e.RELU=s+"\n  return (x < 0.0) ? 0.0 : x;\n",e.ELU="return (x >= 0.0) ? x : (exp(x) - 1.0);",e.SELU="\n  // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.\n  // see: https://arxiv.org/abs/1706.02515\n  float scaleAlpha = "+a.SELU_SCALEALPHA+";\n  float scale = "+a.SELU_SCALE+";\n  return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);\n",e.STEP=r,e.NEG="return -x;",e.CEIL="return ceil(x);",e.FLOOR="return floor(x);",e.SIGN="\n  if (isNaN(x)) { return 0.0; }\n  return sign(x);\n",e.ROUND="\n  // OpenGL ES does not support round function.\n  // The algorithm is based on banker's rounding.\n  float base = floor(x);\n  if ((x - base) < 0.5) {\n    return floor(x);\n  } else if ((x - base) > 0.5) {\n    return ceil(x);\n  } else {\n    if (mod(base, 2.0) == 0.0) {\n      return base;\n    } else {\n      return base + 1.0;\n    }\n  }\n",e.EXP="return exp(x);",e.EXPM1="return exp(x) - 1.0;",e.LOG="if (x < 0.0) return NAN;\n  return log(x);",e.LOG1P="return log(1.0 + x);",e.SQRT="return sqrt(x);",e.RSQRT="return inversesqrt(x);",e.SIGMOID="return 1.0 / (1.0 + exp(-1.0 * x));",e.SOFTPLUS="\n  float epsilon = 1.1920928955078125e-7;\n  float threshold = log(epsilon) + 2.0;\n\n  bool too_large = x > -threshold;\n  bool too_small = x < threshold;\n\n  float result;\n  float exp_x = exp(x);\n\n  if (too_large){\n    result = x;\n  }\n  else if (too_small){\n    result = exp_x;\n  }\n  else{\n    result = log(exp_x + 1.0);\n  }\n  return result;\n",e.SIN=s+"\n  return sin(x);\n",e.COS=s+"\n  return cos(x);\n",e.TAN="return tan(x);",e.ASIN="return asin(x);",e.ACOS="return acos(x);",e.ATAN=s+"\n  return atan(x);\n",e.SINH="\n  float e2x = exp(x);\n  return (e2x - 1.0 / e2x) / 2.0;\n",e.COSH="\n  float e2x = exp(-x);\n  return (e2x + 1.0 / e2x) / 2.0;\n",e.TANH="\n  float e2x = exp(-2.0 * abs(x));\n  return sign(x) * (1.0 - e2x) / (1.0 + e2x);\n",e.ASINH="return log(x + sqrt(x * x + 1.0));",e.ACOSH=s+"\n  if (x < 1.0) return NAN;\n  return log(x + sqrt(x * x - 1.0));",e.ATANH=s+"\n  if ((x < -1.0) || (x > 1.0)) return NAN;\n  return (log(1.0 + x) - log(1.0 - x)) / 2.0;",e.ERF='\n  // Error function is calculated approximately with elementary function.\n  // See "Handbook of Mathematical Functions with Formulas,\n  // Graphs, and Mathematical Tables", Abramowitz and Stegun.\n  float p = '+i.ERF_P+";\n  float a1 = "+i.ERF_A1+";\n  float a2 = "+i.ERF_A2+";\n  float a3 = "+i.ERF_A3+";\n  float a4 = "+i.ERF_A4+";\n  float a5 = "+i.ERF_A5+";\n\n  float t = 1.0 / (1.0 + p * x);\n  return 1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x);\n",e.SQUARE="return x * x;",e.RECIPROCAL="return 1.0 / x;",e.LOGICAL_NOT="return float(!(x >= 1.0));",e.TO_INT="return float(int(x));"},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ERF_P=.3275911,e.ERF_A1=.254829592,e.ERF_A2=-.284496736,e.ERF_A3=1.421413741,e.ERF_A4=-1.453152027,e.ERF_A5=1.061405429},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,a){function o(t){try{l(r.next(t))}catch(t){a(t)}}function s(t){try{l(r.throw(t))}catch(t){a(t)}}function l(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(o,s)}l((r=r.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;l;)try{if(i=1,a&&(o=2&n[0]?a.return:n[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,n[1])).done)return o;switch(a=0,o&&(n=[2&n[0],o.value]),n[0]){case 0:case 1:o=n;break;case 4:return l.label++,{value:n[1],done:!1};case 5:l.label++,a=n[1],n=[0];continue;case 7:n=l.ops.pop(),l.trys.pop();continue;default:if(o=l.trys,!(o=o.length>0&&o[o.length-1])&&(6===n[0]||2===n[0])){l=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3])){l.label=n[1];break}if(6===n[0]&&l.label<o[1]){l.label=o[1],o=n;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(n);break}o[2]&&l.ops.pop(),l.trys.pop();continue}n=e.call(t,l)}catch(t){n=[6,t],a=0}finally{i=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,a,o,s,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(e,"__esModule",{value:!0});var a=n(526),o=n(507),s=n(518),l=n(539),u=n(523),c=n(613),h=n(519),g=n(519),d=n(557),p=n(547),f=n(514),A=n(553),C=n(512),I=n(512),m=n(571),v=function(){function t(){this.data=new WeakMap,this.firstUse=!0,o.ENV.get("IS_BROWSER")&&(this.canvas=document.createElement("canvas"))}return t.prototype.register=function(t,e,n){if(this.firstUse&&(this.firstUse=!1,o.ENV.get("IS_NODE")&&!o.ENV.get("IS_TEST")&&console.warn("\n============================\nHi there . Looks like you are running TensorFlow.js in Node.js. To speed things up dramatically, install our node backend, which binds to TensorFlow C++, by running npm i @tensorflow/tfjs-node, or npm i @tensorflow/tfjs-node-gpu if you have CUDA. Then call require('@tensorflow/tfjs-node'); (-gpu suffix for CUDA) at the start of your program. Visit https://github.com/tensorflow/tfjs-node for more details.\n============================\n")),this.data.has(t))throw new Error("Data buffer is already registered");this.data.set(t,null)},t.prototype.write=function(t,e){if(null==e)throw new Error("MathBackendCPU.write(): values can not be null");this.throwIfNoData(t),this.data.set(t,e)},t.prototype.fromPixels=function(t,e){if(null==t)throw new Error("pixels passed to tf.fromPixels() can not be null");var n;if(o.ENV.get("IS_NODE")&&null==t.getContext)throw new Error("When running in node, pixels must be an HTMLCanvasElement like the one returned by the `canvas` npm package");if(null!=t.getContext)n=t.getContext("2d").getImageData(0,0,t.width,t.height).data;else if(t instanceof ImageData)n=t.data;else{if(!(t instanceof HTMLImageElement||t instanceof HTMLVideoElement))throw new Error("pixels passed to tf.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement or ImageData, but was "+t.constructor.name);if(null==this.canvas)throw new Error("Can't read pixels from HTMLImageElement outside the browser.");this.canvas.width=t.width,this.canvas.height=t.height,this.canvas.getContext("2d").drawImage(t,0,0,t.width,t.height),n=this.canvas.getContext("2d").getImageData(0,0,t.width,t.height).data}var r;if(4===e)r=new Int32Array(n);else{var i=t.width*t.height;r=new Int32Array(i*e);for(var a=0;a<i;a++)for(var s=0;s<e;++s)r[a*e+s]=n[4*a+s]}var l=[t.height,t.width,e];return g.tensor3d(r,l,"int32")},t.prototype.read=function(t){return r(this,void 0,void 0,function(){return i(this,function(e){return[2,this.readSync(t)]})})},t.prototype.readSync=function(t){return this.throwIfNoData(t),this.data.get(t)},t.prototype.disposeData=function(t){this.data.has(t)&&this.data.delete(t)},t.prototype.time=function(t){return r(this,void 0,void 0,function(){var e,n;return i(this,function(r){return e=I.now(),t(),n=I.now()-e,[2,{kernelMs:n}]})})},t.prototype.memory=function(){return{unreliable:!0}},t.prototype.throwIfNoData=function(t){if(!this.data.has(t))throw new Error("CPU backend: No data found for this tensor. Did you change your backend in the middle of the program? New backends can't use Tensors created with previous backends")},t.prototype.slice=function(t,e,n){for(var r=h.buffer(n,t.dtype),i=0;i<r.size;++i){var a=r.indexToLoc(i),o=a.map(function(t,n){return t+e[n]});r.set.apply(r,[t.get.apply(t,o)].concat(a))}return r.toTensor()},t.prototype.stridedSlice=function(t,e,n,r,i,a){var o=p.getStridedSlicedInfo(t.shape,e,n,r,i,a),s=o[0],l=o[1];if(l.some(function(t){return 0===t}))return h.tensor([],l);for(var u=h.buffer(l,t.dtype),c=0;c<u.size;c++){for(var g=u.indexToLoc(c),d=new Array(g.length),f=0;f<d.length;f++)d[f]=g[f]*r[f]+s[f];u.set.apply(u,[t.get.apply(t,d)].concat(g))}return u.toTensor()},t.prototype.reverse=function(t,e){for(var n=h.buffer(t.shape,t.dtype),r=t.buffer(),i=function(i){var a=n.indexToLoc(i),o=a.slice();e.forEach(function(e){return o[e]=t.shape[e]-1-o[e]}),n.set.apply(n,[r.get.apply(r,o)].concat(a))},a=0;a<n.size;a++)i(a);return n.toTensor()},t.prototype.concat=function(t,e){var n=u.computeOutShape(t.shape,e.shape,1),r=h.buffer(n,t.dtype);if(1===t.shape[0]&&1===e.shape[0]){var i=t.dataSync(),a=e.dataSync(),o=r.values;return o.set(i,0),o.set(a,t.size),r.toTensor()}for(var s=0;s<n[0];++s){for(var l=0;l<t.shape[1];++l)r.set(t.get(s,l),s,l);for(var l=0;l<e.shape[1];++l)r.set(e.get(s,l),s,l+t.shape[1])}return r.toTensor()},t.prototype.neg=function(t){return this.multiply(h.scalar(-1),t)},t.prototype.add=function(t,e){return this.broadcastedBinaryOp(t,e,A.upcastType(t.dtype,e.dtype),function(t,e){return t+e})},t.prototype.subtract=function(t,e){return this.broadcastedBinaryOp(t,e,A.upcastType(t.dtype,e.dtype),function(t,e){return t-e})},t.prototype.pow=function(t,e){return this.broadcastedBinaryOp(t,e,t.dtype,function(t,e){return Math.pow(t,e)})},t.prototype.matMul=function(t,e,n,r){for(var i=n?t.shape[0]:t.shape[1],a=n?t.shape[1]:t.shape[0],o=r?e.shape[0]:e.shape[1],s=t.dataSync(),l=e.dataSync(),u=n?[1,t.strides[0]]:[t.strides[0],1],c=u[0],g=u[1],d=r?[e.strides[0],1]:[1,e.strides[0]],p=d[0],f=d[1],A=a*c,C=o*p,I=new Float32Array(a*o),m=0,v=0;v<A;v+=c)for(var y=0;y<C;y+=p){for(var b=v,x=y,w=0,S=0;S<i;++S)w+=s[b]*l[x],b+=g,x+=f;I[m++]=w}return h.tensor2d(I,[a,o])},t.prototype.multiply=function(t,e){return this.broadcastedBinaryOp(t,e,A.upcastType(t.dtype,e.dtype),function(t,e){return t*e})},t.prototype.realDivide=function(t,e){var n=function(t,e){return t/e},r="float32";return this.broadcastedBinaryOp(t,e,r,n)},t.prototype.floorDiv=function(t,e){var n=function(t,e){return Math.floor(t/e)},r="int32";return this.broadcastedBinaryOp(t,e,r,n)},t.prototype.sum=function(t,e){s.assertAxesAreInnerMostDims("sum",e,t.rank);for(var n=s.computeOutAndReduceShapes(t.shape,e),r=n[0],i=n[1],a=A.upcastType(t.dtype,"int32"),o=h.zeros(r,a),l=C.sizeFromShape(i),u=o.dataSync(),c=t.dataSync(),g=0;g<u.length;++g){for(var d=g*l,p=0,f=0;f<l;++f)p+=c[d+f];u[g]=p}return o},t.prototype.unsortedSegmentSum=function(t,e,n){for(var r=[],i=t.rank-e.rank,a=0;a<i;++a)e=e.expandDims(a+1);for(var a=0;a<n;++a){var o=h.scalar(a,"int32"),s=h.equal(o,e).asType("float32"),l=s.mul(t).sum(0);r.push(l)}return h.stack(r)},t.prototype.argMin=function(t,e){var n=[e];s.assertAxesAreInnerMostDims("argMin",n,t.rank);for(var r=s.computeOutAndReduceShapes(t.shape,n),i=r[0],a=r[1],o=h.zeros(i,"int32"),l=C.sizeFromShape(a),u=o.dataSync(),c=t.dataSync(),g=0;g<u.length;++g){for(var d=g*l,p=c[d],f=0,A=0;A<l;++A){var I=c[d+A];I<p&&(p=I,f=A)}u[g]=f}return o},t.prototype.argMax=function(t,e){var n=[e];s.assertAxesAreInnerMostDims("argMax",n,t.rank);for(var r=s.computeOutAndReduceShapes(t.shape,n),i=r[0],a=r[1],o=h.zeros(i,"int32"),l=C.sizeFromShape(a),u=o.dataSync(),c=t.dataSync(),g=0;g<u.length;++g){for(var d=g*l,p=c[d],f=0,A=0;A<l;++A){var I=c[d+A];I>p&&(p=I,f=A)}u[g]=f}return o},t.prototype.cumsum=function(t,e,n,r){if(e!==t.rank-1)throw new Error("backend.cumsum in CPU expects an inner-most axis="+(t.rank-1)+" but got axis="+e);for(var i=A.upcastType(t.dtype,"int32"),a=h.zeros(t.shape,i),o=a.dataSync(),s=t.dataSync(),l=t.shape[t.rank-1],u=r?function(t,e){return t+l-e-1}:function(t,e){return t+e},c=0;c<s.length;c+=l)for(var g=0;g<l;g++){var d=u(c,g);if(0===g)o[d]=n?0:s[d];else{var p=u(c,g-1);o[d]=n?s[p]+o[p]:s[d]+o[p]}}return a},t.prototype.equal=function(t,e){return this.broadcastedBinaryOp(t,e,"bool",function(t,e){return t===e?1:0})},t.prototype.notEqual=function(t,e){return this.broadcastedBinaryOp(t,e,"bool",function(t,e){return t!==e?1:0})},t.prototype.less=function(t,e){return this.broadcastedBinaryOp(t,e,"bool",function(t,e){return t<e?1:0})},t.prototype.lessEqual=function(t,e){return this.broadcastedBinaryOp(t,e,"bool",function(t,e){return t<=e?1:0})},t.prototype.greater=function(t,e){return this.broadcastedBinaryOp(t,e,"bool",function(t,e){return t>e?1:0})},t.prototype.greaterEqual=function(t,e){return this.broadcastedBinaryOp(t,e,"bool",function(t,e){return t>=e?1:0})},t.prototype.logicalNot=function(t){for(var e=t.dataSync(),n=new Int32Array(e.length),r=0;r<e.length;++r)n[r]=e[r]?0:1;return f.Tensor.make(t.shape,{values:n},"bool")},t.prototype.logicalAnd=function(t,e){return this.broadcastedBinaryOp(t,e,"bool",function(t,e){return t&&e})},t.prototype.logicalOr=function(t,e){return this.broadcastedBinaryOp(t,e,"bool",function(t,e){return t||e})},t.prototype.where=function(t,e,n,r){for(var i=t.dataSync(),a=e.dataSync(),o=n.dataSync(),s=h.zeros(e.shape,r),l=s.dataSync(),u=0,c=0===t.rank||t.rank>1||1===e.rank?1:e.shape[1],g=0;g<i.length;g++)for(var d=0;d<c;d++)1===i[g]?l[u++]=a[g]:l[u++]=o[g];return s},t.prototype.topKValues=function(t,e){return this.topK(t,e).values},t.prototype.topKIndices=function(t,e){return this.topK(t,e).indices},t.prototype.topK=function(t,e){for(var n=t.dataSync(),r=[],i=0;i<n.length;i++)r.push({value:n[i],index:i});r.sort(function(t,e){return e.value-t.value});for(var a=C.getTypedArrayFromDType(t.dtype,e),o=new Int32Array(e),i=0;i<e;i++)a[i]=r[i].value,o[i]=r[i].index;return{values:h.tensor1d(a,t.dtype),indices:h.tensor1d(o,"int32")}},t.prototype.min=function(t,e){s.assertAxesAreInnerMostDims("min",e,t.rank);for(var n=s.computeOutAndReduceShapes(t.shape,e),r=n[0],i=n[1],a=h.zeros(r,t.dtype),o=C.sizeFromShape(i),l=a.dataSync(),u=t.dataSync(),c=0;c<l.length;++c){for(var g=c*o,d=u[g],p=0;p<o;++p){var f=u[g+p];f<d&&(d=f)}l[c]=d}return a},t.prototype.minimum=function(t,e){return this.broadcastedBinaryOp(t,e,t.dtype,function(t,e){return Math.min(t,e)})},t.prototype.mod=function(t,e){return this.broadcastedBinaryOp(t,e,t.dtype,function(t,e){var n=t%e;return t<0&&e<0||t>=0&&e>=0?n:(n+e)%e})},t.prototype.max=function(t,e){s.assertAxesAreInnerMostDims("max",e,t.rank);for(var n=s.computeOutAndReduceShapes(t.shape,e),r=n[0],i=n[1],a=h.zeros(r,t.dtype),o=C.sizeFromShape(i),l=a.dataSync(),u=t.dataSync(),c=0;c<l.length;++c){for(var g=c*o,d=u[g],p=0;p<o;++p){var f=u[g+p];f>d&&(d=f)}l[c]=d}return a},t.prototype.maximum=function(t,e){return this.broadcastedBinaryOp(t,e,t.dtype,function(t,e){return Math.max(t,e)})},t.prototype.all=function(t,e){s.assertAxesAreInnerMostDims("all",e,t.rank);for(var n=s.computeOutAndReduceShapes(t.shape,e),r=n[0],i=n[1],a=h.zeros(r,t.dtype),o=C.sizeFromShape(i),l=a.dataSync(),u=t.dataSync(),c=0;c<l.length;++c){for(var g=c*o,d=u[g],p=0;p<o;++p){var f=u[g+p];d=d&&f}l[c]=d}return a},t.prototype.any=function(t,e){s.assertAxesAreInnerMostDims("any",e,t.rank);for(var n=s.computeOutAndReduceShapes(t.shape,e),r=n[0],i=n[1],a=h.zeros(r,t.dtype),o=C.sizeFromShape(i),l=a.dataSync(),u=t.dataSync(),c=0;c<l.length;++c){for(var g=c*o,d=u[g],p=0;p<o;++p){var f=u[g+p];d=d||f}l[c]=d}return a},t.prototype.squaredDifference=function(t,e){return this.broadcastedBinaryOp(t,e,t.dtype,function(t,e){var n=t-e;return n*n})},t.prototype.ceil=function(t){for(var e=t.dataSync(),n=new Float32Array(e.length),r=0;r<e.length;++r)n[r]=Math.ceil(e[r]);return f.Tensor.make(t.shape,{values:n})},t.prototype.floor=function(t){for(var e=t.dataSync(),n=new Float32Array(e.length),r=0;r<e.length;++r)n[r]=Math.floor(e[r]);return f.Tensor.make(t.shape,{values:n})},t.prototype.sign=function(t){for(var e=t.dataSync(),n=new Float32Array(e.length),r=0;r<e.length;++r)e[r]<0?n[r]=-1:e[r]>0?n[r]=1:n[r]=0;return f.Tensor.make(t.shape,{values:n})},t.prototype.round=function(t){for(var e=t.dataSync(),n=new Float32Array(e.length),r=0;r<e.length;++r){var i=Math.floor(e[r]);e[r]-i<.5?n[r]=Math.floor(e[r]):e[r]-i>.5?n[r]=Math.ceil(e[r]):i%2===0?n[r]=i:n[r]=i+1}return f.Tensor.make(t.shape,{values:n})},t.prototype.exp=function(t){for(var e=t.dataSync(),n=new Float32Array(e.length),r=0;r<e.length;++r)n[r]=Math.exp(e[r]);return f.Tensor.make(t.shape,{values:n})},t.prototype.expm1=function(t){for(var e=t.dataSync(),n=new Float32Array(e.length),r=0;r<e.length;++r)n[r]=Math.expm1(e[r]);return f.Tensor.make(t.shape,{values:n})},t.prototype.log=function(t){for(var e=t.dataSync(),n=new Float32Array(e.length),r=0;r<e.length;++r){var i=e[r];n[r]=Math.log(i)}return f.Tensor.make(t.shape,{values:n})},t.prototype.log1p=function(t){for(var e=t.dataSync(),n=new Float32Array(e.length),r=0;r<e.length;++r){var i=e[r];n[r]=Math.log1p(i)}return f.Tensor.make(t.shape,{values:n})},t.prototype.sqrt=function(t){for(var e=t.dataSync(),n=new Float32Array(e.length),r=0;r<e.length;++r){var i=e[r];n[r]=Math.sqrt(i)}return f.Tensor.make(t.shape,{values:n})},t.prototype.rsqrt=function(t){for(var e=t.dataSync(),n=new Float32Array(e.length),r=0;r<e.length;++r){var i=e[r];n[r]=1/Math.sqrt(i)}return f.Tensor.make(t.shape,{values:n})},t.prototype.square=function(t){for(var e=t.dataSync(),n=new Float32Array(e.length),r=0;r<e.length;++r){var i=e[r];n[r]=i*i}return f.Tensor.make(t.shape,{values:n})},t.prototype.reciprocal=function(t){for(var e=t.dataSync(),n=new Float32Array(e.length),r=0;r<e.length;++r)n[r]=1/e[r];return f.Tensor.make(t.shape,{values:n})},t.prototype.relu=function(t){for(var e=h.zeros(t.shape,t.dtype),n=e.dataSync(),r=t.dataSync(),i=0;i<r.length;++i)n[i]=Math.max(0,r[i]);return e},t.prototype.elu=function(t){for(var e=new Float32Array(t.size),n=t.dataSync(),r=0;r<n.length;++r){var i=n[r];i>=0?e[r]=i:e[r]=Math.exp(i)-1}return f.Tensor.make(t.shape,{values:e})},t.prototype.eluDer=function(t,e){for(var n=new Float32Array(e.size),r=e.dataSync(),i=t.dataSync(),a=0;a<r.length;++a){var o=r[a];o>=1?n[a]=i[a]:n[a]=i[a]*(o+1)}return f.Tensor.make(e.shape,{values:n})},t.prototype.selu=function(t){for(var e=d.SELU_SCALEALPHA,n=d.SELU_SCALE,r=new Float32Array(t.size),i=t.dataSync(),a=0;a<i.length;++a){var o=i[a];o>=0?r[a]=n*o:r[a]=e*(Math.exp(o)-1)}return f.Tensor.make(t.shape,{values:r})},t.prototype.clip=function(t,e,n){for(var r=new Float32Array(t.size),i=t.dataSync(),a=0;a<i.length;++a)r[a]=Math.min(n,Math.max(e,i[a]));return f.Tensor.make(t.shape,{values:r})},t.prototype.abs=function(t){for(var e=new Float32Array(t.size),n=t.dataSync(),r=0;r<n.length;++r)e[r]=Math.abs(n[r]);return f.Tensor.make(t.shape,{values:e})},t.prototype.int=function(t){for(var e=new Int32Array(t.size),n=t.dataSync(),r=0;r<n.length;++r)e[r]=n[r];return f.Tensor.make(t.shape,{values:e},"int32")},t.prototype.sigmoid=function(t){for(var e=new Float32Array(t.size),n=t.dataSync(),r=0;r<n.length;++r)e[r]=1/(1+Math.exp(-n[r]));return f.Tensor.make(t.shape,{values:e})},t.prototype.softplus=function(t){for(var e=1.1920928955078125e-7,n=Math.log(e)+2,r=new Float32Array(t.size),i=t.dataSync(),a=0;a<i.length;++a){var o=i[a]>-n,s=i[a]<n,l=Math.exp(i[a]),u=void 0;u=s?l:o?i[a]:Math.log(1+l),r[a]=u}return f.Tensor.make(t.shape,{values:r})},t.prototype.sin=function(t){for(var e=new Float32Array(t.size),n=t.dataSync(),r=0;r<n.length;++r)e[r]=Math.sin(n[r]);return f.Tensor.make(t.shape,{values:e})},t.prototype.cos=function(t){for(var e=new Float32Array(t.size),n=t.dataSync(),r=0;r<n.length;++r)e[r]=Math.cos(n[r]);return f.Tensor.make(t.shape,{values:e})},t.prototype.tan=function(t){for(var e=new Float32Array(t.size),n=t.dataSync(),r=0;r<n.length;++r)e[r]=Math.tan(n[r]);return f.Tensor.make(t.shape,{values:e})},t.prototype.asin=function(t){for(var e=new Float32Array(t.size),n=t.dataSync(),r=0;r<n.length;++r)e[r]=Math.asin(n[r]);return f.Tensor.make(t.shape,{values:e})},t.prototype.acos=function(t){for(var e=new Float32Array(t.size),n=t.dataSync(),r=0;r<n.length;++r)e[r]=Math.acos(n[r]);return f.Tensor.make(t.shape,{values:e})},t.prototype.atan=function(t){for(var e=new Float32Array(t.size),n=t.dataSync(),r=0;r<n.length;++r)e[r]=Math.atan(n[r]);return f.Tensor.make(t.shape,{values:e})},t.prototype.atan2=function(t,e){return this.broadcastedBinaryOp(t,e,t.dtype,function(t,e){return Math.atan2(t,e)})},t.prototype.sinh=function(t){for(var e=new Float32Array(t.size),n=t.dataSync(),r=0;r<n.length;++r)e[r]=Math.sinh(n[r]);return f.Tensor.make(t.shape,{values:e})},t.prototype.cosh=function(t){for(var e=new Float32Array(t.size),n=t.dataSync(),r=0;r<n.length;++r)e[r]=Math.cosh(n[r]);return f.Tensor.make(t.shape,{values:e})},t.prototype.tanh=function(t){for(var e=new Float32Array(t.size),n=t.dataSync(),r=0;r<n.length;++r)e[r]=C.tanh(n[r]);return f.Tensor.make(t.shape,{values:e})},t.prototype.asinh=function(t){for(var e=new Float32Array(t.size),n=t.dataSync(),r=0;r<n.length;++r)e[r]=Math.asinh(n[r]);return f.Tensor.make(t.shape,{values:e})},t.prototype.acosh=function(t){for(var e=new Float32Array(t.size),n=t.dataSync(),r=0;r<n.length;++r)e[r]=Math.acosh(n[r]);return f.Tensor.make(t.shape,{values:e})},t.prototype.atanh=function(t){for(var e=new Float32Array(t.size),n=t.dataSync(),r=0;r<n.length;++r)e[r]=Math.atanh(n[r]);return f.Tensor.make(t.shape,{values:e})},t.prototype.erf=function(t){for(var e=new Float32Array(t.size),n=t.dataSync(),r=c.ERF_P,i=c.ERF_A1,a=c.ERF_A2,o=c.ERF_A3,s=c.ERF_A4,l=c.ERF_A5,u=0;u<n.length;++u){var h=n[u],g=1/(1+r*h);e[u]=1-((((l*g+s)*g+o)*g+a)*g+i)*g*Math.exp(-h*h)}return f.Tensor.make(t.shape,{values:e})},t.prototype.step=function(t,e){void 0===e&&(e=0);for(var n=new Float32Array(t.size),r=t.dataSync(),i=0;i<r.length;++i){var a=r[i];isNaN(a)?n[i]=NaN:n[i]=a>0?1:e}return f.Tensor.make(t.shape,{values:n})},t.prototype.conv2d=function(t,e,n){for(var r=n.filterHeight,i=n.filterWidth,a=n.dilationHeight,o=n.dilationWidth,s=n.padInfo.left,l=n.padInfo.top,u=h.buffer(n.outShape,t.dtype),c=0;c<n.batchSize;++c)for(var g=0;g<n.outChannels;++g)for(var d=0;d<n.outHeight;++d)for(var p=d*n.strideHeight-s,f=0;f<n.outWidth;++f){for(var A=f*n.strideWidth-l,C=0,I=0;I<r;I++){var m=p+I*a;if(!(m<0||m>=n.inHeight))for(var v=0;v<i;v++){var y=A+v*o;if(!(y<0||y>=n.inWidth))for(var b=0;b<n.inChannels;++b){var x=t.get(c,m,y,b),w=e.get(I,v,b,g);C+=x*w}}}u.set(C,c,d,f,g)}return u.toTensor()},t.prototype.conv2dDerInput=function(t,e,n){for(var r=h.buffer(n.inShape,"float32"),i=r.values,a=r.strides,o=a[0],s=a[1],l=a[2],u=t.dataSync(),c=t.strides,g=c[0],d=c[1],p=c[2],f=e.dataSync(),A=e.strides,C=A[0],I=A[1],m=A[2],v=n.batchSize,y=n.filterHeight,b=n.filterWidth,x=n.inChannels,w=n.inHeight,S=n.inWidth,T=n.outChannels,N=n.outHeight,E=n.outWidth,k=n.strideHeight,O=n.strideWidth,M=y-1-n.padInfo.top,R=b-1-n.padInfo.left,D=0;D<v;++D)for(var _=0;_<x;++_)for(var P=0;P<w;++P)for(var L=P-M,z=Math.max(0,Math.ceil(L/k)),F=Math.min(N,(y+L)/k),B=0;B<S;++B){for(var V=B-R,j=Math.max(0,Math.ceil(V/O)),W=Math.min(E,(b+V)/O),G=0,U=z;U<F;++U)for(var H=U*k-L,Z=j;Z<W;++Z)for(var Y=Z*O-V,X=g*D+d*U+p*Z,q=C*(y-1-H)+I*(b-1-Y)+m*_,K=0;K<T;++K){var J=u[X+K],Q=f[q+K];G+=J*Q}i[o*D+s*P+l*B+_]=G}return r.toTensor()},t.prototype.conv2dDerFilter=function(t,e,n){for(var r=n.strideHeight,i=n.strideWidth,a=n.filterHeight,o=n.filterWidth,s=h.buffer(n.filterShape,"float32"),l=n.padInfo.left,u=n.padInfo.top,c=0;c<a;++c)for(var g=Math.max(0,Math.ceil((u-c)/r)),d=Math.min(n.outHeight,(n.inHeight+u-c)/r),p=0;p<o;++p)for(var f=Math.max(0,Math.ceil((l-p)/i)),A=Math.min(n.outWidth,(n.inWidth+l-p)/i),C=0;C<n.inChannels;++C)for(var I=0;I<n.outChannels;++I){for(var m=0,v=0;v<n.batchSize;++v)for(var y=g;y<d;++y)for(var b=c+y*r-u,x=f;x<A;++x){var w=p+x*i-l;m+=t.get(v,b,w,C)*e.get(v,y,x,I)}s.set(m,c,p,C,I)}return s.toTensor()},t.prototype.depthwiseConv2D=function(t,e,n){for(var r=n.filterHeight,i=n.filterWidth,a=n.dilationHeight,o=n.dilationWidth,s=n.padInfo.left,l=n.padInfo.top,u=n.outChannels/n.inChannels,c=h.buffer(n.outShape,t.dtype),g=0;g<n.batchSize;++g)for(var d=0;d<n.inChannels;++d)for(var p=0;p<n.outHeight;++p)for(var f=p*n.strideHeight-s,A=0;A<n.outWidth;++A)for(var C=A*n.strideWidth-l,I=0;I<u;++I){for(var m=0,v=0;v<r;++v){var y=f+v*a;if(!(y<0||y>=n.inHeight))for(var b=0;b<i;++b){var x=C+b*o;if(!(x<0||x>=n.inWidth)){var w=t.get(g,y,x,d),S=e.get(v,b,d,I);m+=w*S}}}c.set(m,g,p,A,d*u+I)}return c.toTensor()},t.prototype.depthwiseConv2DDerInput=function(t,e,n){for(var r=h.buffer(n.inShape,"float32"),i=r.values,a=r.strides,o=a[0],s=a[1],l=a[2],u=t.dataSync(),c=t.strides,g=c[0],d=c[1],p=c[2],f=e.dataSync(),A=e.strides,C=A[0],I=A[1],m=A[2],v=n.batchSize,y=n.filterHeight,b=n.filterWidth,x=n.inChannels,w=n.inHeight,S=n.inWidth,T=n.outChannels,N=n.outHeight,E=n.outWidth,k=n.strideHeight,O=n.strideWidth,M=y-1-n.padInfo.top,R=b-1-n.padInfo.left,D=T/x,_=0;_<v;++_)for(var P=0;P<x;++P)for(var L=0;L<w;++L)for(var z=L-M,F=Math.max(0,Math.ceil(z/k)),B=Math.min(N,(y+z)/k),V=0;V<S;++V){for(var j=V-R,W=Math.max(0,Math.ceil(j/O)),G=Math.min(E,(b+j)/O),U=0,H=F;H<B;++H)for(var Z=H*k-z,Y=W;Y<G;++Y)for(var X=Y*O-j,q=g*_+d*H+p*Y,K=C*(y-1-Z)+I*(b-1-X)+m*P,J=0;J<D;++J){var Q=P*D+J,$=u[q+Q],tt=f[K+J];U+=$*tt}i[o*_+s*L+l*V+P]=U}return r.toTensor()},t.prototype.depthwiseConv2DDerFilter=function(t,e,n){for(var r=n.strideHeight,i=n.strideWidth,a=n.filterHeight,o=n.filterWidth,s=h.buffer(n.filterShape,"float32"),l=n.padInfo.left,u=n.padInfo.top,c=n.outChannels/n.inChannels,g=0;g<a;++g)for(var d=Math.max(0,Math.ceil((u-g)/r)),p=Math.min(n.outHeight,(n.inHeight+u-g)/r),f=0;f<o;++f)for(var A=Math.max(0,Math.ceil((l-f)/i)),C=Math.min(n.outWidth,(n.inWidth+l-f)/i),I=0;I<n.outChannels;++I){for(var m=Math.trunc(I/c),v=I%c,y=0,b=0;b<n.batchSize;++b)for(var x=d;x<p;++x)for(var w=g+x*r-u,S=A;S<C;++S){var T=f+S*i-l;y+=t.get(b,w,T,m)*e.get(b,x,S,I)}s.set(y,g,f,m,v)}return s.toTensor()},t.prototype.tile=function(t,e){for(var n=new Array(t.rank),r=0;r<n.length;r++)n[r]=t.shape[r]*e[r];for(var i=h.buffer(n,t.dtype),a=t.buffer(),r=0;r<i.values.length;++r){for(var o=i.indexToLoc(r),s=new Array(t.rank),l=0;l<s.length;l++)s[l]=o[l]%t.shape[l];var u=a.locToIndex(s);i.values[r]=a.values[u]}return i.toTensor()},t.prototype.pad=function(t,e,n){var r=e.map(function(e,n){return e[0]+t.shape[n]+e[1]}),i=e.map(function(t){return t[0]}),a=t.buffer(),o=h.buffer(r,t.dtype);0!==n&&o.values.fill(n);for(var s=0;s<t.size;s++){var l=a.indexToLoc(s),u=l.map(function(t,e){return t+i[e]});o.set.apply(o,[t.get.apply(t,l)].concat(u))}return o.toTensor()},t.prototype.transpose=function(t,e){for(var n=new Array(t.rank),r=0;r<n.length;r++)n[r]=t.shape[e[r]];for(var i=t.dataSync(),a=g.buffer(n,t.dtype),o=t.buffer(),r=0;r<t.size;++r){for(var s=o.indexToLoc(r),l=new Array(s.length),u=0;u<l.length;u++)l[u]=s[e[u]];var c=a.locToIndex(l);a.values[c]=i[r]}return a.toTensor()},t.prototype.gather=function(t,e,n){var r=t.shape.slice(),i=e.dataSync();r[n]=i.length;for(var a=g.buffer(r,t.dtype),o=t.buffer(),s=0;s<a.size;++s){var l=a.indexToLoc(s),u=l.slice();u[n]=i[l[n]];var c=o.locToIndex(u);a.values[s]=o.values[c]}return a.toTensor()},t.prototype.pool=function(t,e,n){for(var r=e.strideHeight,i=e.strideWidth,a=e.filterHeight,o=e.filterWidth,s=h.buffer(e.outShape,"float32"),l=e.padInfo.top,u=e.padInfo.left,c=0;c<e.batchSize;++c)for(var g=0;g<e.inChannels;++g)for(var d=0;d<e.outHeight;++d)for(var p=d*r-l,f=Math.max(0,p),A=Math.min(e.inHeight,a+p),C=0;C<e.outWidth;++C){for(var I=C*i-u,m=Math.max(0,I),v=Math.min(e.inWidth,o+I),y="max"===n?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,b=0,x=0,w=f;w<A;++w){for(var S=m;S<v;++S){var T=t.get(c,w,S,g);"max"===n&&T>y?y=T:"avg"===n&&(b+=T,x++)}if(isNaN(y))break}s.set("avg"===n?b/x:y,c,d,C,g)}return s.toTensor()},t.prototype.maxPool=function(t,e){return this.pool(t,e,"max")},t.prototype.maxPoolPositions=function(t,e){for(var n=h.buffer(e.outShape,"int32"),r=e.strideHeight,i=e.strideWidth,a=e.filterHeight,o=e.filterWidth,s=e.padInfo.top,l=e.padInfo.left,u=0;u<e.batchSize;++u)for(var c=0;c<e.inChannels;++c)for(var g=0;g<e.outHeight;++g)for(var d=g*r-s,p=Math.max(0,d),f=Math.min(e.inHeight,a+d),A=0;A<e.outWidth;++A){for(var C=A*i-l,I=Math.max(0,C),m=Math.min(e.inWidth,o+C),v=Number.NEGATIVE_INFINITY,y=-1,b=p;b<f;++b)for(var x=b-d,w=I;w<m;++w){var S=w-C,T=t.get(u,b,w,c);T>v&&(v=T,y=x*o+S)}n.set(y,u,g,A,c)}return n.toTensor()},t.prototype.maxPoolBackprop=function(t,e,n,r){for(var i=this.maxPoolPositions(e,r),a=r.strideHeight,o=r.strideWidth,s=r.filterHeight,l=r.filterWidth,u=l-1-r.padInfo.left,c=s-1-r.padInfo.top,g=h.buffer(e.shape,"float32"),d=0;d<r.batchSize;++d)for(var p=0;p<r.inChannels;++p)for(var f=0;f<r.inHeight;++f)for(var A=0;A<r.inWidth;++A){for(var C=f-c,I=A-u,m=0,v=0;v<s;++v){var y=(C+v)/a;if(!(y<0||y>=r.outHeight||Math.floor(y)!==y))for(var b=0;b<l;++b){var x=(I+b)/o;if(!(x<0||x>=r.outWidth||Math.floor(x)!==x)){var w=s*l-1-i.get(d,y,x,p),S=v*l+b,T=w===S?1:0;if(0!==T){var N=t.get(d,y,x,p);m+=N*T}}}}g.set(m,d,f,A,p)}return g.toTensor()},t.prototype.avgPoolBackprop=function(t,e,n){for(var r=n.strideHeight,i=n.strideWidth,a=n.filterHeight,o=n.filterWidth,s=o-1-n.padInfo.left,l=a-1-n.padInfo.top,u=h.buffer(e.shape,"float32"),c=1/(a*o),g=0;g<n.batchSize;++g)for(var d=0;d<n.inChannels;++d)for(var p=0;p<n.inHeight;++p)for(var f=0;f<n.inWidth;++f){for(var A=p-l,C=f-s,I=0,m=0;m<a;++m){var v=(A+m)/r;if(!(v<0||v>=n.outHeight||Math.floor(v)!==v))for(var y=0;y<o;++y){var b=(C+y)/i;if(!(b<0||b>=n.outWidth||Math.floor(b)!==b)){var x=t.get(g,v,b,d);I+=x}}}u.set(I*c,g,p,f,d)}return u.toTensor()},t.prototype.cast=function(t,e){return m.castTensor(t,e,this)},t.prototype.reshape=function(t,e){return m.reshapeTensor(t,e)},t.prototype.avgPool=function(t,e){return this.pool(t,e,"avg").toFloat()},t.prototype.resizeBilinear=function(t,e,n,r){for(var i=t.shape,a=i[0],o=i[1],s=i[2],l=i[3],u=h.buffer([a,e,n,l],t.dtype),c=[r&&e>1?o-1:o,r&&n>1?s-1:s],g=[r&&e>1?e-1:e,r&&n>1?n-1:n],d=0;d<a;d++)for(var p=0;p<e;p++)for(var f=0;f<n;f++)for(var A=0;A<l;A++){var C=c[0]*p/g[0],I=c[1]*f/g[1],m=Math.floor(C),v=Math.min(o-1,Math.ceil(C)),y=Math.floor(I),b=Math.min(s-1,Math.ceil(I)),x=t.get(d,m,y,A),w=t.get(d,v,y,A),S=t.get(d,m,b,A),T=t.get(d,v,b,A),N=C-m,E=I-y,k=x+(S-x)*E,O=w+(T-w)*E,M=k+(O-k)*N;u.set(M,d,p,f,A)}return u.toTensor()},t.prototype.resizeBilinearBackprop=function(t,e,n){for(var r=e.shape,i=r[0],a=r[1],o=r[2],s=r[3],l=t.shape,u=l[1],c=l[2],g=h.buffer([i,a,o,s],e.dtype),d=[n&&u>1?a-1:a,n&&c>1?o-1:o],p=[n&&u>1?u-1:u,n&&c>1?c-1:c],f=d[0]/p[0],A=d[1]/p[1],C=0;C<i;C++)for(var I=0;I<u;I++)for(var m=I*f,v=Math.floor(m),y=Math.min(Math.ceil(m),a-1),b=m-v,x=1-b,w=0;w<c;w++)for(var S=w*A,T=Math.floor(S),N=Math.min(Math.ceil(S),o-1),E=S-T,k=1-E,O=0;O<s;O++){var M=t.get(C,I,w,O),R=g.get(C,v,T,O);R+=M*x*k,g.set(R,C,v,T,O);var D=g.get(C,v,N,O);D+=M*x*E,g.set(D,C,v,N,O);var _=g.get(C,y,T,O);_+=M*b*k,g.set(_,C,y,T,O);var P=g.get(C,y,N,O);P+=M*b*E,g.set(P,C,y,N,O)}return g.toTensor()},t.prototype.resizeNearestNeighbor=function(t,e,n,r){for(var i=t.shape,a=i[0],o=i[1],s=i[2],l=i[3],u=h.buffer([a,e,n,l],t.dtype),c=[r&&e>1?o-1:o,r&&n>1?s-1:s],g=[r&&e>1?e-1:e,r&&n>1?n-1:n],d=0;d<a;d++)for(var p=0;p<e;p++)for(var f=0;f<n;f++)for(var A=0;A<l;A++){var C=c[0]*p/g[0],I=c[1]*f/g[1],m=Math.min(o-1,r?Math.round(C):Math.floor(C)),v=Math.min(s-1,r?Math.round(I):Math.floor(I)),y=t.get(d,m,v,A);u.set(y,d,p,f,A)}return u.toTensor()},t.prototype.resizeNearestNeighborBackprop=function(t,e,n){
for(var r=e.shape,i=r[0],a=r[1],o=r[2],s=r[3],l=t.shape,u=l[1],c=l[2],g=h.buffer([i,a,o,s],e.dtype),d=[n&&u>1?a-1:a,n&&c>1?o-1:o],p=[n&&u>1?u-1:u,n&&c>1?c-1:c],f=d[0]/p[0],A=d[1]/p[1],C=1/f,I=1/A,m=2*Math.ceil(C)+2,v=2*Math.ceil(I)+2,y=0;y<i;y++)for(var b=0;b<a;b++)for(var x=0;x<o;x++)for(var w=Math.floor(b*C),S=Math.floor(w-m/2),T=Math.floor(x*I),N=Math.floor(T-v/2),E=0;E<s;E++){for(var k=0,O=0;O<m;O++){var M=O+S;if(!(M<0||M>=u))for(var R=0;R<v;R++){var D=R+N;if(!(D<0||D>=c)){var _=d[0]*(M/p[0]),P=d[1]*(D/p[1]),L=Math.min(a-1,n?Math.round(_):Math.floor(_)),z=Math.min(o-1,n?Math.round(P):Math.floor(P));b===L&&x===z&&(k+=t.get(y,M,D,E))}}}g.set(k,y,b,x,E)}return g.toTensor()},t.prototype.batchNormalization=function(t,e,n,r,i,a){for(var o=t.dataSync(),s=e.dataSync(),l=n.dataSync(),u=i?i.dataSync():new Float32Array([1]),c=a?a.dataSync():new Float32Array([0]),h=new Float32Array(o.length),d=0;d<o.length;d++)h[d]=c[d%c.length]+(o[d]-s[d%s.length])*u[d%u.length]/Math.sqrt(l[d%l.length]+r);return g.tensor4d(h,t.shape)},t.prototype.localResponseNormalization4D=function(t,e,n,r,i){function a(e,n,r,i){for(var a=0,o=Math.max(0,i-s);o<=Math.min(i+s,l);o++){var u=t.get(e,n,r,o);a+=u*u}return a}for(var o=h.buffer(t.shape,"float32"),s=e,l=o.shape[3]-1,u=0;u<o.shape[0];u++)for(var c=0;c<=o.shape[1];c++)for(var g=0;g<o.shape[2];g++)for(var d=0;d<o.shape[3];d++){var p=a(u,c,g,d),f=t.get(u,c,g,d)*Math.pow(n+r*p,-i);o.set(f,u,c,g,d)}return o.toTensor()},t.prototype.multinomial=function(t,e,n,r){for(var i=e?t:h.softmax(t),o=i.shape[0],s=i.shape[1],l=h.zeros([o,n],"int32"),u=l.dataSync(),c=i.dataSync(),g=0;g<o;++g){var d=g*s,p=new Float32Array(s-1);p[0]=c[d];for(var f=1;f<p.length;++f)p[f]=p[f-1]+c[d+f];for(var A=a.alea(r.toString()),C=g*n,I=0;I<n;++I){var m=A();u[C+I]=p.length;for(var v=0;v<p.length;v++)if(m<p[v]){u[C+I]=v;break}}}return l},t.prototype.oneHot=function(t,e,n,r){var i=new Float32Array(t.size*e);i.fill(r);for(var a=0;a<t.size;++a)t.get(a)>=0&&t.get(a)<e&&(i[a*e+t.get(a)]=n);return h.tensor2d(i,[t.size,e],"int32")},t.prototype.broadcastedBinaryOp=function(t,e,n,r){for(var i=l.assertAndGetBroadcastShape(t.shape,e.shape),a=h.buffer(i,n),o=t.dataSync(),s=e.dataSync(),u=l.getBroadcastDims(t.shape,i),c=l.getBroadcastDims(e.shape,i),g=t.buffer(),d=e.buffer(),p=function(n){var i=a.indexToLoc(n),l=i.slice(-t.rank);u.forEach(function(t){return l[t]=0});var h=g.locToIndex(l),p=i.slice(-e.rank);c.forEach(function(t){return p[t]=0});var f=d.locToIndex(p);a.values[n]=r(o[h],s[f])},f=0;f<a.values.length;++f)p(f);return a.toTensor()},t.prototype.dispose=function(){},t}();e.MathBackendCPU=v,o.ENV.registerBackend("cpu",function(){return new v},1,f.setTensorTracker)},function(t,e,n){(function(t){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var i,a=arguments.length,o=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(o=(a<3?i(o):a>3?i(e,n,o):i(e,n))||o);return a>3&&o&&Object.defineProperty(e,n,o),o};Object.defineProperty(e,"__esModule",{value:!0});var i=n(509),a="undefined"!=typeof requestAnimationFrame?requestAnimationFrame:t,o=function(){function t(){}return t.nextFrame=function(){return new Promise(function(t){return a(function(){return t()})})},r([i.doc({heading:"Performance",subheading:"Timing"})],t,"nextFrame",null),t}();e.BrowserUtil=o}).call(e,n(616).setImmediate)},function(t,e,n){function r(t,e){this._id=t,this._clearFn=e}var i=Function.prototype.apply;e.setTimeout=function(){return new r(i.call(setTimeout,window,arguments),clearTimeout)},e.setInterval=function(){return new r(i.call(setInterval,window,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(window,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},n(617),e.setImmediate=setImmediate,e.clearImmediate=clearImmediate},function(t,e,n){(function(t,e){!function(t,n){"use strict";function r(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var r={callback:t,args:e};return f[p]=r,d(p),p++}function i(t){delete f[t]}function a(t){var e=t.callback,r=t.args;switch(r.length){case 0:e();break;case 1:e(r[0]);break;case 2:e(r[0],r[1]);break;case 3:e(r[0],r[1],r[2]);break;default:e.apply(n,r)}}function o(t){if(A)setTimeout(o,0,t);else{var e=f[t];if(e){A=!0;try{a(e)}finally{i(t),A=!1}}}}function s(){d=function(t){e.nextTick(function(){o(t)})}}function l(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}function u(){var e="setImmediate$"+Math.random()+"$",n=function(n){n.source===t&&"string"==typeof n.data&&0===n.data.indexOf(e)&&o(+n.data.slice(e.length))};t.addEventListener?t.addEventListener("message",n,!1):t.attachEvent("onmessage",n),d=function(n){t.postMessage(e+n,"*")}}function c(){var t=new MessageChannel;t.port1.onmessage=function(t){var e=t.data;o(e)},d=function(e){t.port2.postMessage(e)}}function h(){var t=C.documentElement;d=function(e){var n=C.createElement("script");n.onreadystatechange=function(){o(e),n.onreadystatechange=null,t.removeChild(n),n=null},t.appendChild(n)}}function g(){d=function(t){setTimeout(o,0,t)}}if(!t.setImmediate){var d,p=1,f={},A=!1,C=t.document,I=Object.getPrototypeOf&&Object.getPrototypeOf(t);I=I&&I.setTimeout?I:t,"[object process]"==={}.toString.call(t.process)?s():l()?u():t.MessageChannel?c():C&&"onreadystatechange"in C.createElement("script")?h():g(),I.setImmediate=r,I.clearImmediate=i}}("undefined"==typeof self?"undefined"==typeof t?this:t:self)}).call(e,function(){return this}(),n(114))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n(619),n(628);var r=n(629);e.browserFiles=r.browserFiles;var i=n(630);e.browserHTTPRequest=i.browserHTTPRequest;var a=n(620);e.concatenateArrayBuffers=a.concatenateArrayBuffers,e.decodeWeights=a.decodeWeights,e.encodeWeights=a.encodeWeights,e.getModelArtifactsInfoForJSON=a.getModelArtifactsInfoForJSON;var o=n(626),s=n(632);e.fromMemory=s.fromMemory,e.withSaveHandler=s.withSaveHandler;var l=n(627),u=n(631);e.loadWeights=u.loadWeights;var c=l.IORouterRegistry.registerSaveRouter;e.registerSaveRouter=c;var h=l.IORouterRegistry.registerLoadRouter;e.registerLoadRouter=h;var g=l.IORouterRegistry.getSaveHandlers;e.getSaveHandlers=g;var d=l.IORouterRegistry.getLoadHandlers;e.getLoadHandlers=d;var p=o.ModelManagement.copyModel;e.copyModel=p;var f=o.ModelManagement.listModels;e.listModels=f;var A=o.ModelManagement.moveModel;e.moveModel=A;var C=o.ModelManagement.removeModel;e.removeModel=C},function(t,e,n){"use strict";function r(){return l(this,void 0,void 0,function(){var t;return u(this,function(e){return t=i(),[2,new Promise(function(e,n){var r=t.deleteDatabase(p);r.onsuccess=function(){return e()},r.onerror=function(t){return n(t)}})]})})}function i(){if(!c.ENV.get("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");var t=window,e=t.indexedDB||t.mozIndexedDB||t.webkitIndexedDB||t.msIndexedDB||t.shimIndexedDB;if(null==e)throw new Error("The current browser does not appear to support IndexedDB.");return e}function a(t){var e=t.result;e.createObjectStore(A,{keyPath:"modelPath"}),e.createObjectStore(C,{keyPath:"modelPath"})}function o(t){return new I(t)}function s(t){return t.startsWith(I.URL_SCHEME)?t.slice(I.URL_SCHEME.length):t}var l=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,a){function o(t){try{l(r.next(t))}catch(t){a(t)}}function s(t){try{l(r.throw(t))}catch(t){a(t)}}function l(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(o,s)}l((r=r.apply(t,e||[])).next())})},u=this&&this.__generator||function(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;l;)try{if(i=1,a&&(o=2&n[0]?a.return:n[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,n[1])).done)return o;switch(a=0,o&&(n=[2&n[0],o.value]),n[0]){case 0:case 1:o=n;break;case 4:return l.label++,{value:n[1],done:!1};case 5:l.label++,a=n[1],n=[0];continue;case 7:n=l.ops.pop(),l.trys.pop();continue;default:if(o=l.trys,!(o=o.length>0&&o[o.length-1])&&(6===n[0]||2===n[0])){l=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3])){l.label=n[1];break}if(6===n[0]&&l.label<o[1]){l.label=o[1],o=n;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(n);break}o[2]&&l.ops.pop(),l.trys.pop();continue}n=e.call(t,l)}catch(t){n=[6,t],a=0}finally{i=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,a,o,s,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(e,"__esModule",{value:!0});var c=n(507),h=n(620),g=n(626),d=n(627),p="tensorflowjs",f=1,A="models_store",C="model_info_store";e.deleteDatabase=r;var I=function(){function t(t){if(this.indexedDB=i(),null==t||!t)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=t}return t.prototype.save=function(t){return l(this,void 0,void 0,function(){return u(this,function(e){if(t.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return[2,this.databaseAction(this.modelPath,t)]})})},t.prototype.load=function(){return l(this,void 0,void 0,function(){return u(this,function(t){return[2,this.databaseAction(this.modelPath)]})})},t.prototype.databaseAction=function(t,e){var n=this;return new Promise(function(t,r){var i=n.indexedDB.open(p,f);i.onupgradeneeded=function(){return a(i)},i.onsuccess=function(){var a=i.result;if(null==e){var o=a.transaction(A,"readonly"),s=o.objectStore(A),l=s.get(n.modelPath);l.onsuccess=function(){return null==l.result?(a.close(),r(new Error("Cannot find model with path '"+n.modelPath+"' in IndexedDB."))):void t(l.result.modelArtifacts)},l.onerror=function(t){return a.close(),r(l.error)},o.oncomplete=function(){return a.close()}}else{var u,c=h.getModelArtifactsInfoForJSON(e),g=a.transaction(C,"readwrite"),d=g.objectStore(C),p=d.put({modelPath:n.modelPath,modelArtifactsInfo:c});p.onsuccess=function(){u=a.transaction(A,"readwrite");var i=u.objectStore(A),o=i.put({modelPath:n.modelPath,modelArtifacts:e,modelArtifactsInfo:c});o.onsuccess=function(){return t({modelArtifactsInfo:c})},o.onerror=function(t){d=g.objectStore(C);var e=d.delete(n.modelPath);e.onsuccess=function(){return a.close(),r(o.error)},e.onerror=function(t){return a.close(),r(o.error)}}},p.onerror=function(t){return a.close(),r(p.error)},g.oncomplete=function(){null==u?a.close():u.oncomplete=function(){return a.close()}}}},i.onerror=function(t){return r(i.error)}})},t.URL_SCHEME="indexeddb://",t}();e.BrowserIndexedDB=I,e.indexedDBRouter=function(t){return c.ENV.get("IS_BROWSER")&&t.startsWith(I.URL_SCHEME)?o(t.slice(I.URL_SCHEME.length)):null},d.IORouterRegistry.registerSaveRouter(e.indexedDBRouter),d.IORouterRegistry.registerLoadRouter(e.indexedDBRouter),e.browserIndexedDB=o;var m=function(){function t(){this.indexedDB=i()}return t.prototype.listModels=function(){return l(this,void 0,void 0,function(){var t=this;return u(this,function(e){return[2,new Promise(function(e,n){var r=t.indexedDB.open(p,f);r.onupgradeneeded=function(){return a(r)},r.onsuccess=function(){var t=r.result,i=t.transaction(C,"readonly"),a=i.objectStore(C),o=a.getAll();o.onsuccess=function(){for(var t={},n=0,r=o.result;n<r.length;n++){var i=r[n];t[i.modelPath]=i.modelArtifactsInfo}e(t)},o.onerror=function(e){return t.close(),n(o.error)},i.oncomplete=function(){return t.close()}},r.onerror=function(t){return n(r.error)}})]})})},t.prototype.removeModel=function(t){return l(this,void 0,void 0,function(){var e=this;return u(this,function(n){return t=s(t),[2,new Promise(function(n,r){var i=e.indexedDB.open(p,f);i.onupgradeneeded=function(){return a(i)},i.onsuccess=function(){var e,a=i.result,o=a.transaction(C,"readwrite"),s=o.objectStore(C),l=s.get(t);l.onsuccess=function(){if(null==l.result)return a.close(),r(new Error("Cannot find model with path '"+t+"' in IndexedDB."));var i=s.delete(t),o=function(){e=a.transaction(A,"readwrite");var i=e.objectStore(A),o=i.delete(t);o.onsuccess=function(){return n(l.result.modelArtifactsInfo)},o.onerror=function(t){return r(l.error)}};i.onsuccess=o,i.onerror=function(t){return o(),a.close(),r(l.error)}},l.onerror=function(t){return a.close(),r(l.error)},o.oncomplete=function(){null==e?a.close():e.oncomplete=function(){return a.close()}}},i.onerror=function(t){return r(i.error)}})]})})},t}();if(e.BrowserIndexedDBManager=m,c.ENV.get("IS_BROWSER"))try{g.ModelStoreManagerRegistry.registerManager(I.URL_SCHEME,new m)}catch(t){}},function(t,e,n){(function(t){"use strict";function r(t){return g(this,void 0,void 0,function(){var e,n,r,i,o;return d(this,function(s){switch(s.label){case 0:e=[],n=[];for(r in t){if(i=t[r],"float32"!==i.dtype&&"int32"!==i.dtype&&"bool"!==i.dtype)throw new Error("Unsupported dtype in weight '"+r+"': "+i.dtype);e.push({name:r,shape:i.shape,dtype:i.dtype}),n.push(i.data())}return[4,Promise.all(n)];case 1:return o=s.sent(),[2,{data:a(o),specs:e}]}})})}function i(t,e){for(var n={},r=0,i=0,a=e;i<a.length;i++){var o=a[i],s=o.name,l=o.dtype,u=o.shape;if(null!=o.quantization)throw new Error("decodeWeights does not support quantization yet, but encountered "+("weight '"+s+" with quantization.'"));var c=f.sizeFromShape(u),h=void 0;if("float32"===l)h=p.tensor(new Float32Array(t,r,c),u,"float32");else if("int32"===l)h=p.tensor(new Int32Array(t,r,c),u,"int32");else{if("bool"!==l)throw new Error("Unsupported dtype in weight '"+s+"': "+l);h=p.tensor(new Uint8Array(t,r,c),u,"bool")}n[s]=h,r+=c*A.DTYPE_VALUE_SIZE_MAP[l]}return n}function a(t){if(null===t)throw new Error("Invalid input value: "+JSON.stringify(t));var e=0;t.forEach(function(t){if(t instanceof Float32Array||t instanceof Int32Array)e+=t.buffer.byteLength;else{if(!(t instanceof Uint8Array))throw new Error("Unsupported TypedArray subtype: "+t.constructor.name);e+=t.buffer.byteLength}});var n=new Uint8Array(e),r=0;return t.forEach(function(t){n.set(new Uint8Array(t.buffer),r),r+=t.buffer.byteLength}),n.buffer}function o(e){return C?t.byteLength(e):new Blob([e]).size}function s(e){return C?t.from(e).toString("base64"):btoa(String.fromCharCode.apply(null,new Uint8Array(e)))}function l(e){if(C){var n=t.from(e,"base64");return n.buffer.slice(n.byteOffset,n.byteOffset+n.byteLength)}for(var r=atob(e),i=new Uint8Array(r.length),a=0;a<r.length;++a)i.set([r.charCodeAt(a)],a);return i.buffer}function u(t){var e=0;t.forEach(function(t){e+=t.byteLength});var n=new Uint8Array(e),r=0;return t.forEach(function(t){n.set(new Uint8Array(t),r),r+=t.byteLength}),n.buffer}function c(t){var e="/";for(t=t.trim();t.endsWith(e);)t=t.slice(0,t.length-1);var n=t.split(e);return n[n.length-1]}function h(t){if(t.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:null==t.modelTopology?0:o(JSON.stringify(t.modelTopology)),weightSpecsBytes:null==t.weightSpecs?0:o(JSON.stringify(t.weightSpecs)),weightDataBytes:null==t.weightData?0:t.weightData.byteLength}}var g=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,a){function o(t){try{l(r.next(t))}catch(t){a(t)}}function s(t){try{l(r.throw(t))}catch(t){a(t)}}function l(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(o,s)}l((r=r.apply(t,e||[])).next())})},d=this&&this.__generator||function(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;l;)try{if(i=1,a&&(o=2&n[0]?a.return:n[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,n[1])).done)return o;switch(a=0,o&&(n=[2&n[0],o.value]),n[0]){case 0:case 1:o=n;break;case 4:return l.label++,{value:n[1],done:!1};case 5:l.label++,a=n[1],n=[0];continue;case 7:n=l.ops.pop(),l.trys.pop();continue;default:if(o=l.trys,!(o=o.length>0&&o[o.length-1])&&(6===n[0]||2===n[0])){l=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3])){l.label=n[1];break}if(6===n[0]&&l.label<o[1]){l.label=o[1],o=n;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(n);break}o[2]&&l.ops.pop(),l.trys.pop();continue}n=e.call(t,l)}catch(t){n=[6,t],a=0}finally{i=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,a,o,s,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(e,"__esModule",{value:!0});var p=n(538),f=n(512),A=n(625);e.encodeWeights=r,e.decodeWeights=i,e.concatenateTypedArrays=a;var C="undefined"!=typeof t&&("undefined"==typeof Blob||"undefined"==typeof atob||"undefined"==typeof btoa);e.stringByteLength=o,e.arrayBufferToBase64String=s,e.base64StringToArrayBuffer=l,e.concatenateArrayBuffers=u,e.basename=c,e.getModelArtifactsInfoForJSON=h}).call(e,n(621).Buffer)},function(t,e,n){(function(t){/*!
	 * The buffer module from node.js, for the browser.
	 *
	 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
	 * @license  MIT
	 */
"use strict";function r(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}function i(){return o.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(t,e){if(i()<e)throw new RangeError("Invalid typed array length");return o.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e),t.__proto__=o.prototype):(null===t&&(t=new o(e)),t.length=e),t}function o(t,e,n){if(!(o.TYPED_ARRAY_SUPPORT||this instanceof o))return new o(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return c(this,t)}return s(this,t,e,n)}function s(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?d(t,e,n,r):"string"==typeof e?h(t,e,n):p(t,e)}function l(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function u(t,e,n,r){return l(e),e<=0?a(t,e):void 0!==n?"string"==typeof r?a(t,e).fill(n,r):a(t,e).fill(n):a(t,e)}function c(t,e){if(l(e),t=a(t,e<0?0:0|f(e)),!o.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function h(t,e,n){if("string"==typeof n&&""!==n||(n="utf8"),!o.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|C(e,n);t=a(t,r);var i=t.write(e,n);return i!==r&&(t=t.slice(0,i)),t}function g(t,e){var n=e.length<0?0:0|f(e.length);t=a(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function d(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r),o.TYPED_ARRAY_SUPPORT?(t=e,t.__proto__=o.prototype):t=g(t,e),t}function p(t,e){if(o.isBuffer(e)){var n=0|f(e.length);return t=a(t,n),0===t.length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||K(e.length)?a(t,0):g(t,e);if("Buffer"===e.type&&$(e.data))return g(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function f(t){if(t>=i())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i().toString(16)+" bytes");return 0|t}function A(t){return+t!=t&&(t=0),o.alloc(+t)}function C(t,e){if(o.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return H(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return X(t).length;default:if(r)return H(t).length;e=(""+e).toLowerCase(),r=!0}}function I(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,e>>>=0,n<=e)return"";for(t||(t="utf8");;)switch(t){case"hex":return D(this,e,n);case"utf8":case"utf-8":return k(this,e,n);case"ascii":return M(this,e,n);case"latin1":case"binary":return R(this,e,n);case"base64":return E(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function m(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function v(t,e,n,r,i){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof e&&(e=o.from(e,r)),o.isBuffer(e))return 0===e.length?-1:y(t,e,n,r,i);if("number"==typeof e)return e&=255,o.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):y(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function y(t,e,n,r,i){function a(t,e){return 1===o?t[e]:t.readUInt16BE(e*o)}var o=1,s=t.length,l=e.length;if(void 0!==r&&(r=String(r).toLowerCase(),"ucs2"===r||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;o=2,s/=2,l/=2,n/=2}var u;if(i){var c=-1;for(u=n;u<s;u++)if(a(t,u)===a(e,c===-1?0:u-c)){if(c===-1&&(c=u),u-c+1===l)return c*o}else c!==-1&&(u-=u-c),c=-1}else for(n+l>s&&(n=s-l),u=n;u>=0;u--){for(var h=!0,g=0;g<l;g++)if(a(t,u+g)!==a(e,g)){h=!1;break}if(h)return u}return-1}function b(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r),r>i&&(r=i)):r=i;var a=e.length;if(a%2!==0)throw new TypeError("Invalid hex string");r>a/2&&(r=a/2);for(var o=0;o<r;++o){var s=parseInt(e.substr(2*o,2),16);if(isNaN(s))return o;t[n+o]=s}return o}function x(t,e,n,r){return q(H(e,t.length-n),t,n,r)}function w(t,e,n,r){return q(Z(e),t,n,r)}function S(t,e,n,r){return w(t,e,n,r)}function T(t,e,n,r){return q(X(e),t,n,r)}function N(t,e,n,r){return q(Y(e,t.length-n),t,n,r)}function E(t,e,n){return 0===e&&n===t.length?J.fromByteArray(t):J.fromByteArray(t.slice(e,n))}function k(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var a=t[i],o=null,s=a>239?4:a>223?3:a>191?2:1;if(i+s<=n){var l,u,c,h;switch(s){case 1:a<128&&(o=a);break;case 2:l=t[i+1],128===(192&l)&&(h=(31&a)<<6|63&l,h>127&&(o=h));break;case 3:l=t[i+1],u=t[i+2],128===(192&l)&&128===(192&u)&&(h=(15&a)<<12|(63&l)<<6|63&u,h>2047&&(h<55296||h>57343)&&(o=h));break;case 4:l=t[i+1],u=t[i+2],c=t[i+3],128===(192&l)&&128===(192&u)&&128===(192&c)&&(h=(15&a)<<18|(63&l)<<12|(63&u)<<6|63&c,h>65535&&h<1114112&&(o=h))}}null===o?(o=65533,s=1):o>65535&&(o-=65536,r.push(o>>>10&1023|55296),o=56320|1023&o),r.push(o),i+=s}return O(r)}function O(t){var e=t.length;if(e<=tt)return String.fromCharCode.apply(String,t);for(var n="",r=0;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=tt));return n}function M(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function R(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function D(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",a=e;a<n;++a)i+=U(t[a]);return i}function _(t,e,n){for(var r=t.slice(e,n),i="",a=0;a<r.length;a+=2)i+=String.fromCharCode(r[a]+256*r[a+1]);return i}function P(t,e,n){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function L(t,e,n,r,i,a){if(!o.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<a)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function z(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,a=Math.min(t.length-n,2);i<a;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function F(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,a=Math.min(t.length-n,4);i<a;++i)t[n+i]=e>>>8*(r?i:3-i)&255}function B(t,e,n,r,i,a){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function V(t,e,n,r,i){return i||B(t,e,n,4,3.4028234663852886e38,-3.4028234663852886e38),Q.write(t,e,n,r,23,4),n+4}function j(t,e,n,r,i){return i||B(t,e,n,8,1.7976931348623157e308,-1.7976931348623157e308),Q.write(t,e,n,r,52,8),n+8}function W(t){if(t=G(t).replace(et,""),t.length<2)return"";for(;t.length%4!==0;)t+="=";return t}function G(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function U(t){return t<16?"0"+t.toString(16):t.toString(16)}function H(t,e){e=e||1/0;for(var n,r=t.length,i=null,a=[],o=0;o<r;++o){if(n=t.charCodeAt(o),n>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&a.push(239,191,189);continue}if(o+1===r){(e-=3)>-1&&a.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&a.push(239,191,189),i=n;continue}n=(i-55296<<10|n-56320)+65536}else i&&(e-=3)>-1&&a.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;a.push(n)}else if(n<2048){if((e-=2)<0)break;a.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;a.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;a.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return a}function Z(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}function Y(t,e){for(var n,r,i,a=[],o=0;o<t.length&&!((e-=2)<0);++o)n=t.charCodeAt(o),r=n>>8,i=n%256,a.push(i),a.push(r);return a}function X(t){return J.toByteArray(W(t))}function q(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}function K(t){return t!==t}var J=n(622),Q=n(623),$=n(624);e.Buffer=o,e.SlowBuffer=A,e.INSPECT_MAX_BYTES=50,o.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:r(),e.kMaxLength=i(),o.poolSize=8192,o._augment=function(t){return t.__proto__=o.prototype,t},o.from=function(t,e,n){return s(null,t,e,n)},o.TYPED_ARRAY_SUPPORT&&(o.prototype.__proto__=Uint8Array.prototype,o.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&o[Symbol.species]===o&&Object.defineProperty(o,Symbol.species,{value:null,configurable:!0})),o.alloc=function(t,e,n){return u(null,t,e,n)},o.allocUnsafe=function(t){return c(null,t)},o.allocUnsafeSlow=function(t){return c(null,t)},o.isBuffer=function(t){return!(null==t||!t._isBuffer)},o.compare=function(t,e){if(!o.isBuffer(t)||!o.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,i=0,a=Math.min(n,r);i<a;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},o.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(t,e){if(!$(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return o.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=o.allocUnsafe(e),i=0;for(n=0;n<t.length;++n){var a=t[n];if(!o.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},o.byteLength=C,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)m(this,e,e+1);return this},o.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)m(this,e,e+3),m(this,e+1,e+2);return this},o.prototype.swap64=function(){var t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)m(this,e,e+7),m(this,e+1,e+6),m(this,e+2,e+5),m(this,e+3,e+4);return this},o.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?k(this,0,t):I.apply(this,arguments)},o.prototype.equals=function(t){if(!o.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===o.compare(this,t)},o.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},o.prototype.compare=function(t,e,n,r,i){if(!o.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(e>>>=0,n>>>=0,r>>>=0,i>>>=0,this===t)return 0;for(var a=i-r,s=n-e,l=Math.min(a,s),u=this.slice(r,i),c=t.slice(e,n),h=0;h<l;++h)if(u[h]!==c[h]){a=u[h],s=c[h];break}return a<s?-1:s<a?1:0},o.prototype.includes=function(t,e,n){return this.indexOf(t,e,n)!==-1},o.prototype.indexOf=function(t,e,n){return v(this,t,e,n,!0)},o.prototype.lastIndexOf=function(t,e,n){return v(this,t,e,n,!1)},o.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var a=!1;;)switch(r){case"hex":return b(this,t,e,n);case"utf8":case"utf-8":return x(this,t,e,n);case"ascii":return w(this,t,e,n);case"latin1":case"binary":return S(this,t,e,n);case"base64":return T(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,t,e,n);default:if(a)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),a=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var tt=4096;o.prototype.slice=function(t,e){var n=this.length;t=~~t,e=void 0===e?n:~~e,t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),e<t&&(e=t);var r;if(o.TYPED_ARRAY_SUPPORT)r=this.subarray(t,e),r.__proto__=o.prototype;else{var i=e-t;r=new o(i,void 0);for(var a=0;a<i;++a)r[a]=this[a+t]}return r},o.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||P(t,e,this.length);for(var r=this[t],i=1,a=0;++a<e&&(i*=256);)r+=this[t+a]*i;return r},o.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||P(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},o.prototype.readUInt8=function(t,e){return e||P(t,1,this.length),this[t]},o.prototype.readUInt16LE=function(t,e){return e||P(t,2,this.length),this[t]|this[t+1]<<8},o.prototype.readUInt16BE=function(t,e){return e||P(t,2,this.length),this[t]<<8|this[t+1]},o.prototype.readUInt32LE=function(t,e){return e||P(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},o.prototype.readUInt32BE=function(t,e){return e||P(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},o.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||P(t,e,this.length);for(var r=this[t],i=1,a=0;++a<e&&(i*=256);)r+=this[t+a]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*e)),r},o.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||P(t,e,this.length);for(var r=e,i=1,a=this[t+--r];r>0&&(i*=256);)a+=this[t+--r]*i;return i*=128,a>=i&&(a-=Math.pow(2,8*e)),a},o.prototype.readInt8=function(t,e){return e||P(t,1,this.length),128&this[t]?(255-this[t]+1)*-1:this[t]},o.prototype.readInt16LE=function(t,e){e||P(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt16BE=function(t,e){e||P(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt32LE=function(t,e){return e||P(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},o.prototype.readInt32BE=function(t,e){return e||P(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},o.prototype.readFloatLE=function(t,e){return e||P(t,4,this.length),Q.read(this,t,!0,23,4)},o.prototype.readFloatBE=function(t,e){return e||P(t,4,this.length),Q.read(this,t,!1,23,4)},o.prototype.readDoubleLE=function(t,e){return e||P(t,8,this.length),Q.read(this,t,!0,52,8)},o.prototype.readDoubleBE=function(t,e){return e||P(t,8,this.length),Q.read(this,t,!1,52,8)},o.prototype.writeUIntLE=function(t,e,n,r){if(t=+t,e|=0,n|=0,!r){var i=Math.pow(2,8*n)-1;L(this,t,e,n,i,0)}var a=1,o=0;for(this[e]=255&t;++o<n&&(a*=256);)this[e+o]=t/a&255;return e+n},o.prototype.writeUIntBE=function(t,e,n,r){if(t=+t,e|=0,n|=0,!r){var i=Math.pow(2,8*n)-1;L(this,t,e,n,i,0)}var a=n-1,o=1;for(this[e+a]=255&t;--a>=0&&(o*=256);)this[e+a]=t/o&255;return e+n},o.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||L(this,t,e,1,255,0),o.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},o.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||L(this,t,e,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):z(this,t,e,!0),e+2},o.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||L(this,t,e,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):z(this,t,e,!1),e+2},o.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||L(this,t,e,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):F(this,t,e,!0),e+4},o.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||L(this,t,e,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):F(this,t,e,!1),e+4},o.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);L(this,t,e,n,i-1,-i)}var a=0,o=1,s=0;for(this[e]=255&t;++a<n&&(o*=256);)t<0&&0===s&&0!==this[e+a-1]&&(s=1),this[e+a]=(t/o>>0)-s&255;return e+n},o.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);L(this,t,e,n,i-1,-i)}var a=n-1,o=1,s=0;for(this[e+a]=255&t;--a>=0&&(o*=256);)t<0&&0===s&&0!==this[e+a+1]&&(s=1),this[e+a]=(t/o>>0)-s&255;return e+n},o.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||L(this,t,e,1,127,-128),o.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},o.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||L(this,t,e,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):z(this,t,e,!0),e+2},o.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||L(this,t,e,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):z(this,t,e,!1),e+2},o.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||L(this,t,e,4,2147483647,-2147483648),o.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):F(this,t,e,!0),e+4},o.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||L(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),o.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):F(this,t,e,!1),e+4},o.prototype.writeFloatLE=function(t,e,n){return V(this,t,e,!0,n)},o.prototype.writeFloatBE=function(t,e,n){return V(this,t,e,!1,n)},o.prototype.writeDoubleLE=function(t,e,n){return j(this,t,e,!0,n)},o.prototype.writeDoubleBE=function(t,e,n){return j(this,t,e,!1,n)},o.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i,a=r-n;if(this===t&&n<e&&e<r)for(i=a-1;i>=0;--i)t[i+e]=this[i+n];else if(a<1e3||!o.TYPED_ARRAY_SUPPORT)for(i=0;i<a;++i)t[i+e]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+a),e);return a},o.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!o.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0);var a;if("number"==typeof t)for(a=e;a<n;++a)this[a]=t;else{var s=o.isBuffer(t)?t:H(new o(t,r).toString()),l=s.length;for(a=0;a<n-e;++a)this[a+e]=s[a%l]}return this};var et=/[^+\/0-9A-Za-z-_]/g}).call(e,function(){return this}())},function(t,e){"use strict";function n(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===t[e-2]?2:"="===t[e-1]?1:0}function r(t){return 3*t.length/4-n(t)}function i(t){var e,r,i,a,o,s=t.length;a=n(t),o=new c(3*s/4-a),r=a>0?s-4:s;var l=0;for(e=0;e<r;e+=4)i=u[t.charCodeAt(e)]<<18|u[t.charCodeAt(e+1)]<<12|u[t.charCodeAt(e+2)]<<6|u[t.charCodeAt(e+3)],o[l++]=i>>16&255,o[l++]=i>>8&255,o[l++]=255&i;return 2===a?(i=u[t.charCodeAt(e)]<<2|u[t.charCodeAt(e+1)]>>4,o[l++]=255&i):1===a&&(i=u[t.charCodeAt(e)]<<10|u[t.charCodeAt(e+1)]<<4|u[t.charCodeAt(e+2)]>>2,o[l++]=i>>8&255,o[l++]=255&i),o}function a(t){return l[t>>18&63]+l[t>>12&63]+l[t>>6&63]+l[63&t]}function o(t,e,n){for(var r,i=[],o=e;o<n;o+=3)r=(t[o]<<16)+(t[o+1]<<8)+t[o+2],i.push(a(r));return i.join("")}function s(t){for(var e,n=t.length,r=n%3,i="",a=[],s=16383,u=0,c=n-r;u<c;u+=s)a.push(o(t,u,u+s>c?c:u+s));return 1===r?(e=t[n-1],i+=l[e>>2],i+=l[e<<4&63],i+="=="):2===r&&(e=(t[n-2]<<8)+t[n-1],i+=l[e>>10],i+=l[e>>4&63],i+=l[e<<2&63],i+="="),a.push(i),a.join("")}e.byteLength=r,e.toByteArray=i,e.fromByteArray=s;for(var l=[],u=[],c="undefined"!=typeof Uint8Array?Uint8Array:Array,h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",g=0,d=h.length;g<d;++g)l[g]=h[g],u[h.charCodeAt(g)]=g;u["-".charCodeAt(0)]=62,u["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,n,r,i){var a,o,s=8*i-r-1,l=(1<<s)-1,u=l>>1,c=-7,h=n?i-1:0,g=n?-1:1,d=t[e+h];for(h+=g,a=d&(1<<-c)-1,d>>=-c,c+=s;c>0;a=256*a+t[e+h],h+=g,c-=8);for(o=a&(1<<-c)-1,a>>=-c,c+=r;c>0;o=256*o+t[e+h],h+=g,c-=8);if(0===a)a=1-u;else{if(a===l)return o?NaN:(d?-1:1)*(1/0);o+=Math.pow(2,r),a-=u}return(d?-1:1)*o*Math.pow(2,a-r)},e.write=function(t,e,n,r,i,a){var o,s,l,u=8*a-i-1,c=(1<<u)-1,h=c>>1,g=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:a-1,p=r?1:-1,f=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,o=c):(o=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-o))<1&&(o--,l*=2),e+=o+h>=1?g/l:g*Math.pow(2,1-h),e*l>=2&&(o++,l/=2),o+h>=c?(s=0,o=c):o+h>=1?(s=(e*l-1)*Math.pow(2,i),o+=h):(s=e*Math.pow(2,h-1)*Math.pow(2,i),o=0));i>=8;t[n+d]=255&s,d+=p,s/=256,i-=8);for(o=o<<i|s,u+=i;u>0;t[n+d]=255&o,d+=p,o/=256,u-=8);t[n+d-p]|=128*f}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DTYPE_VALUE_SIZE_MAP={float32:4,int32:4,uint16:2,uint8:1,bool:1}},function(t,e,n){"use strict";function r(t){if(t.indexOf(h)===-1)throw new Error("The url string provided does not contain a scheme. Supported schemes are: "+g.getSchemes().join(","));return{scheme:t.split(h)[0],path:t.split(h)[1]}}function i(t,e,n){return void 0===n&&(n=!1),o(this,void 0,void 0,function(){var i,a,o,l,h,d,p,f,A;return s(this,function(s){switch(s.label){case 0:return u.assert(t!==e,"Old path and new path are the same: '"+t+"'"),i=c.IORouterRegistry.getLoadHandlers(t),u.assert(i.length>0,"Copying failed because no load handler is found for source URL "+t+"."),u.assert(i.length<2,"Copying failed because more than one ("+i.length+") "+("load handlers for source URL "+t+".")),a=i[0],o=c.IORouterRegistry.getSaveHandlers(e),u.assert(o.length>0,"Copying failed because no save handler is found for destination URL "+(e+".")),u.assert(o.length<2,"Copying failed because more than one ("+i.length+") "+("save handlers for destination URL "+e+".")),l=o[0],h=r(t).scheme,d=r(t).path,p=h===r(t).scheme,[4,a.load()];case 1:return f=s.sent(),n&&p?[4,g.getManager(h).removeModel(d)]:[3,3];case 2:s.sent(),s.label=3;case 3:return[4,l.save(f)];case 4:return A=s.sent(),!n||p?[3,6]:[4,g.getManager(h).removeModel(d)];case 5:s.sent(),s.label=6;case 6:return[2,A.modelArtifactsInfo]}})})}var a=this&&this.__decorate||function(t,e,n,r){var i,a=arguments.length,o=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(o=(a<3?i(o):a>3?i(e,n,o):i(e,n))||o);return a>3&&o&&Object.defineProperty(e,n,o),o},o=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,a){function o(t){try{l(r.next(t))}catch(t){a(t)}}function s(t){try{l(r.throw(t))}catch(t){a(t)}}function l(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(o,s)}l((r=r.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;l;)try{if(i=1,a&&(o=2&n[0]?a.return:n[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,n[1])).done)return o;switch(a=0,o&&(n=[2&n[0],o.value]),n[0]){case 0:case 1:o=n;break;case 4:return l.label++,{value:n[1],done:!1};case 5:l.label++,a=n[1],n=[0];continue;case 7:n=l.ops.pop(),l.trys.pop();continue;default:if(o=l.trys,!(o=o.length>0&&o[o.length-1])&&(6===n[0]||2===n[0])){l=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3])){l.label=n[1];break}if(6===n[0]&&l.label<o[1]){l.label=o[1],o=n;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(n);break}o[2]&&l.ops.pop(),l.trys.pop();continue}n=e.call(t,l)}catch(t){n=[6,t],a=0}finally{i=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,a,o,s,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(e,"__esModule",{value:!0});var l=n(509),u=n(512),c=n(627),h="://",g=function(){function t(){this.managers={}}return t.getInstance=function(){return null==t.instance&&(t.instance=new t),t.instance},t.registerManager=function(e,n){u.assert(null!=e,"scheme must not be undefined or null."),e.endsWith(h)&&(e=e.slice(0,e.indexOf(h))),u.assert(e.length>0,"scheme must not be an empty string.");var r=t.getInstance();u.assert(null==r.managers[e],"A model store manager is already registered for scheme '"+e+"'."),r.managers[e]=n},t.getManager=function(t){var e=this.getInstance().managers[t];if(null==e)throw new Error("Cannot find model manager for scheme '"+t+"'");return e},t.getSchemes=function(){return Object.keys(this.getInstance().managers)},t}();e.ModelStoreManagerRegistry=g;var d=function(){function t(){}return t.listModels=function(){return o(this,void 0,void 0,function(){var t,e,n,r,i,a,o,l;return s(this,function(s){switch(s.label){case 0:t=g.getSchemes(),e={},n=0,r=t,s.label=1;case 1:return n<r.length?(i=r[n],[4,g.getManager(i).listModels()]):[3,4];case 2:a=s.sent();for(o in a)l=i+h+o,e[l]=a[o];s.label=3;case 3:return n++,[3,1];case 4:return[2,e]}})})},t.removeModel=function(t){return o(this,void 0,void 0,function(){var e,n;return s(this,function(i){switch(i.label){case 0:return e=r(t),n=g.getManager(e.scheme),[4,n.removeModel(e.path)];case 1:return[2,i.sent()]}})})},t.copyModel=function(t,e){return o(this,void 0,void 0,function(){var n;return s(this,function(r){switch(r.label){case 0:return n=!1,[4,i(t,e,n)];case 1:return[2,r.sent()]}})})},t.moveModel=function(t,e){return o(this,void 0,void 0,function(){var n;return s(this,function(r){switch(r.label){case 0:return n=!0,[4,i(t,e,n)];case 1:return[2,r.sent()]}})})},a([l.doc({heading:"Models",subheading:"Management",namespace:"io"})],t,"listModels",null),a([l.doc({heading:"Models",subheading:"Management",namespace:"io"})],t,"removeModel",null),a([l.doc({heading:"Models",subheading:"Management",namespace:"io"})],t,"copyModel",null),a([l.doc({heading:"Models",subheading:"Management",namespace:"io"})],t,"moveModel",null),t}();e.ModelManagement=d},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){this.saveRouters=[],this.loadRouters=[]}return t.getInstance=function(){return null==t.instance&&(t.instance=new t),t.instance},t.registerSaveRouter=function(e){t.getInstance().saveRouters.push(e)},t.registerLoadRouter=function(e){t.getInstance().loadRouters.push(e)},t.getSaveHandlers=function(e){return t.getHandlers(e,"save")},t.getLoadHandlers=function(e){return t.getHandlers(e,"load")},t.getHandlers=function(t,e){var n=[],r="load"===e?this.getInstance().loadRouters:this.getInstance().saveRouters;return r.forEach(function(e){var r=e(t);null!==r&&n.push(r)}),n},t}();e.IORouterRegistry=n},function(t,e,n){"use strict";function r(){if(!c.ENV.get("IS_BROWSER")||"undefined"==typeof window.localStorage)throw new Error("purgeLocalStorageModels() cannot proceed because local storage is unavailable in the current environment.");for(var t=window.localStorage,e=[],n=0;n<t.length;++n){var r=t.key(n),i=A+f;if(r.startsWith(i)&&r.length>i.length){t.removeItem(r);var o=a(r);e.indexOf(o)===-1&&e.push(o)}}return e}function i(t){return{info:[A,t,C].join(f),topology:[A,t,I].join(f),weightSpecs:[A,t,m].join(f),weightData:[A,t,v].join(f)}}function a(t){var e=t.split(f);if(e.length<3)throw new Error("Invalid key format: "+t);return e.slice(1,e.length-1).join(f)}function o(t){return t.startsWith(y.URL_SCHEME)?t.slice(y.URL_SCHEME.length):t}function s(t){return new y(t)}var l=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,a){function o(t){try{l(r.next(t))}catch(t){a(t)}}function s(t){try{l(r.throw(t))}catch(t){a(t)}}function l(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(o,s)}l((r=r.apply(t,e||[])).next())})},u=this&&this.__generator||function(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;l;)try{if(i=1,a&&(o=2&n[0]?a.return:n[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,n[1])).done)return o;switch(a=0,o&&(n=[2&n[0],o.value]),n[0]){case 0:case 1:o=n;break;case 4:return l.label++,{value:n[1],done:!1};case 5:l.label++,a=n[1],n=[0];continue;case 7:n=l.ops.pop(),l.trys.pop();continue;default:if(o=l.trys,!(o=o.length>0&&o[o.length-1])&&(6===n[0]||2===n[0])){l=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3])){l.label=n[1];break}if(6===n[0]&&l.label<o[1]){l.label=o[1],o=n;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(n);break}o[2]&&l.ops.pop(),l.trys.pop();continue}n=e.call(t,l)}catch(t){n=[6,t],a=0}finally{i=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,a,o,s,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(e,"__esModule",{value:!0});var c=n(507),h=n(512),g=n(620),d=n(626),p=n(627),f="/",A="tensorflowjs_models",C="info",I="model_topology",m="weight_specs",v="weight_data";e.purgeLocalStorageArtifacts=r;var y=function(){function t(t){if(!c.ENV.get("IS_BROWSER")||"undefined"==typeof window.localStorage)throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,null==t||!t)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=t,this.keys=i(this.modelPath)}return t.prototype.save=function(t){return l(this,void 0,void 0,function(){var e,n,r,i;return u(this,function(a){if(t.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");e=JSON.stringify(t.modelTopology),n=JSON.stringify(t.weightSpecs),r=g.getModelArtifactsInfoForJSON(t);try{return this.LS.setItem(this.keys.info,JSON.stringify(r)),this.LS.setItem(this.keys.topology,e),this.LS.setItem(this.keys.weightSpecs,n),this.LS.setItem(this.keys.weightData,g.arrayBufferToBase64String(t.weightData)),[2,{modelArtifactsInfo:r}]}catch(t){for(i in this.keys)this.LS.removeItem(this.keys[i]);throw new Error("Failed to save model '"+this.modelPath+"' to local storage: size quota being exceeded is a possible cause of this failure: "+("modelTopologyBytes="+r.modelTopologyBytes+", ")+("weightSpecsBytes="+r.weightSpecsBytes+", ")+("weightDataBytes="+r.weightDataBytes+"."))}return[2]})})},t.prototype.load=function(){return l(this,void 0,void 0,function(){
var t,e,n,r,i;return u(this,function(a){if(t=JSON.parse(this.LS.getItem(this.keys.info)),null==t)throw new Error("In local storage, there is no model with name '"+this.modelPath+"'");if("JSON"!==t.modelTopologyType)throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");if(e={},n=JSON.parse(this.LS.getItem(this.keys.topology)),null==n)throw new Error("In local storage, the topology of model '"+this.modelPath+"' is missing.");if(e.modelTopology=n,r=JSON.parse(this.LS.getItem(this.keys.weightSpecs)),null==r)throw new Error("In local storage, the weight specs of model '"+this.modelPath+"' are missing.");if(e.weightSpecs=r,i=this.LS.getItem(this.keys.weightData),null==i)throw new Error("In local storage, the binary weight values of model "+("'"+this.modelPath+"' are missing."));return e.weightData=g.base64StringToArrayBuffer(i),[2,e]})})},t.URL_SCHEME="localstorage://",t}();e.BrowserLocalStorage=y,e.localStorageRouter=function(t){return c.ENV.get("IS_BROWSER")&&t.startsWith(y.URL_SCHEME)?s(t.slice(y.URL_SCHEME.length)):null},p.IORouterRegistry.registerSaveRouter(e.localStorageRouter),p.IORouterRegistry.registerLoadRouter(e.localStorageRouter),e.browserLocalStorage=s;var b=function(){function t(){h.assert(c.ENV.get("IS_BROWSER"),"Current environment is not a web browser"),h.assert("undefined"!=typeof window.localStorage,"Current browser does not appear to support localStorage"),this.LS=window.localStorage}return t.prototype.listModels=function(){return l(this,void 0,void 0,function(){var t,e,n,r,i,o;return u(this,function(s){for(t={},e=A+f,n=f+C,r=0;r<this.LS.length;++r)i=this.LS.key(r),i.startsWith(e)&&i.endsWith(n)&&(o=a(i),t[o]=JSON.parse(this.LS.getItem(i)));return[2,t]})})},t.prototype.removeModel=function(t){return l(this,void 0,void 0,function(){var e,n;return u(this,function(r){if(t=o(t),e=i(t),null==this.LS.getItem(e.info))throw new Error("Cannot find model at path '"+t+"'");return n=JSON.parse(this.LS.getItem(e.info)),this.LS.removeItem(e.info),this.LS.removeItem(e.topology),this.LS.removeItem(e.weightSpecs),this.LS.removeItem(e.weightData),[2,n]})})},t}();if(e.BrowserLocalStorageManager=b,c.ENV.get("IS_BROWSER"))try{d.ModelStoreManagerRegistry.registerManager(y.URL_SCHEME,new b)}catch(t){}},function(t,e,n){"use strict";function r(t){return void 0===t&&(t="model"),new d(t)}function i(t){return new p(t)}var a=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,a){function o(t){try{l(r.next(t))}catch(t){a(t)}}function s(t){try{l(r.throw(t))}catch(t){a(t)}}function l(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(o,s)}l((r=r.apply(t,e||[])).next())})},o=this&&this.__generator||function(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;l;)try{if(i=1,a&&(o=2&n[0]?a.return:n[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,n[1])).done)return o;switch(a=0,o&&(n=[2&n[0],o.value]),n[0]){case 0:case 1:o=n;break;case 4:return l.label++,{value:n[1],done:!1};case 5:l.label++,a=n[1],n=[0];continue;case 7:n=l.ops.pop(),l.trys.pop();continue;default:if(o=l.trys,!(o=o.length>0&&o[o.length-1])&&(6===n[0]||2===n[0])){l=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3])){l.label=n[1];break}if(6===n[0]&&l.label<o[1]){l.label=o[1],o=n;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(n);break}o[2]&&l.ops.pop(),l.trys.pop();continue}n=e.call(t,l)}catch(t){n=[6,t],a=0}finally{i=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,a,o,s,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(e,"__esModule",{value:!0});var s=n(507),l=n(620),u=n(627),c="model",h=".json",g=".weights.bin",d=function(){function t(e){if(!s.ENV.get("IS_BROWSER"))throw new Error("triggerDownloads() cannot proceed because the current environment is not a browser.");e.startsWith(t.URL_SCHEME)&&(e=e.slice(t.URL_SCHEME.length)),null!=e&&0!==e.length||(e=c),this.modelTopologyFileName=e+h,this.weightDataFileName=e+g}return t.prototype.save=function(t){return a(this,void 0,void 0,function(){var e,n,r,i,a,s;return o(this,function(o){if(e=window.URL.createObjectURL(new Blob([t.weightData],{type:"application/octet-stream"})),t.modelTopology instanceof ArrayBuffer)throw new Error("DownloadTrigger.save() does not support saving model topology in binary formats yet.");return n=[{paths:["./"+this.weightDataFileName],weights:t.weightSpecs}],r={modelTopology:t.modelTopology,weightsManifest:n},i=window.URL.createObjectURL(new Blob([JSON.stringify(r)],{type:"application/json"})),a=null==this.jsonAnchor?document.createElement("a"):this.jsonAnchor,a.download=this.modelTopologyFileName,a.href=i,a.click(),null!=t.weightData&&(s=null==this.weightDataAnchor?document.createElement("a"):this.weightDataAnchor,s.download=this.weightDataFileName,s.href=e,s.click()),[2,{modelArtifactsInfo:l.getModelArtifactsInfoForJSON(t)}]})})},t.URL_SCHEME="downloads://",t}();e.BrowserDownloads=d;var p=function(){function t(t){if(null==t||t.length<1)throw new Error("When calling browserFiles, at least 1 file is required, but received "+t);this.files=t}return t.prototype.load=function(){return a(this,void 0,void 0,function(){var t,e,n=this;return o(this,function(r){return t=this.files[0],e=this.files.slice(1),[2,new Promise(function(r,i){var a=new FileReader;a.onload=function(a){var o=JSON.parse(a.target.result),s=o.modelTopology;if(null==s)return void i(new Error("modelTopology field is missing from file "+t.name));0===e.length&&r({modelTopology:s});var u=o.weightsManifest;if(null==u)return void i(new Error("weightManifest field is missing from file "+t.name));var c;try{c=n.checkManifestAndWeightFiles(u,e)}catch(t){return void i(t)}var h=[],g=[],d=[];u.forEach(function(t){t.paths.forEach(function(t){g.push(t),d.push(null)}),h.push.apply(h,t.weights)}),u.forEach(function(t){t.paths.forEach(function(t){var e=new FileReader;e.onload=function(e){var n=e.target.result,i=g.indexOf(t);d[i]=n,d.indexOf(null)===-1&&r({modelTopology:s,weightSpecs:h,weightData:l.concatenateArrayBuffers(d)})},e.onerror=function(e){i("Failed to weights data from file of path '"+t+"'.")},e.readAsArrayBuffer(c[t])})})},a.onerror=function(e){i("Failed to read model topology and weights manifest JSON "+("from file '"+t.name+"'. BrowserFiles supports loading ")+"Keras-style tf.Model artifacts only.")},a.readAsText(t)})]})})},t.prototype.checkManifestAndWeightFiles=function(t,e){for(var n=[],r=e.map(function(t){return l.basename(t.name)}),i={},a=0,o=t;a<o.length;a++){var s=o[a];s.paths.forEach(function(t){var a=l.basename(t);if(n.indexOf(a)!==-1)throw new Error("Duplicate file basename found in weights manifest: "+("'"+a+"'"));if(n.push(a),r.indexOf(a)===-1)throw new Error("Weight file with basename '"+a+"' is not provided.");i[t]=e[r.indexOf(a)]})}if(n.length!==e.length)throw new Error("Mismatch in the number of files in weights manifest "+("("+n.length+") and the number of weight files provided ")+("("+e.length+")."));return i},t}();e.browserDownloadsRouter=function(t){return s.ENV.get("IS_BROWSER")&&t.startsWith(d.URL_SCHEME)?r(t.slice(d.URL_SCHEME.length)):null},u.IORouterRegistry.registerSaveRouter(e.browserDownloadsRouter),e.browserDownloads=r,e.browserFiles=i},function(t,e,n){"use strict";function r(t,e){return new h(t,e)}var i=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,a){function o(t){try{l(r.next(t))}catch(t){a(t)}}function s(t){try{l(r.throw(t))}catch(t){a(t)}}function l(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(o,s)}l((r=r.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;l;)try{if(i=1,a&&(o=2&n[0]?a.return:n[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,n[1])).done)return o;switch(a=0,o&&(n=[2&n[0],o.value]),n[0]){case 0:case 1:o=n;break;case 4:return l.label++,{value:n[1],done:!1};case 5:l.label++,a=n[1],n=[0];continue;case 7:n=l.ops.pop(),l.trys.pop();continue;default:if(o=l.trys,!(o=o.length>0&&o[o.length-1])&&(6===n[0]||2===n[0])){l=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3])){l.label=n[1];break}if(6===n[0]&&l.label<o[1]){l.label=o[1],o=n;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(n);break}o[2]&&l.ops.pop(),l.trys.pop();continue}n=e.call(t,l)}catch(t){n=[6,t],a=0}finally{i=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,a,o,s,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(e,"__esModule",{value:!0});var o=n(507),s=n(512),l=n(620),u=n(627),c=n(631),h=function(){function t(t,e){if(this.DEFAULT_METHOD="POST",!o.ENV.get("IS_BROWSER"))throw new Error("browserHTTPRequest is not supported outside the web browser.");if(s.assert(null!=t&&t.length>0,"URL path for browserHTTPRequest must not be null, undefined or empty."),this.path=t,null!=e&&null!=e.body)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=e||{}}return t.prototype.save=function(t){return i(this,void 0,void 0,function(){var e,n,r,i;return a(this,function(a){switch(a.label){case 0:if(t.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");return e=Object.assign({method:this.DEFAULT_METHOD},this.requestInit),e.body=new FormData,n=[{paths:["./model.weights.bin"],weights:t.weightSpecs}],r={modelTopology:t.modelTopology,weightsManifest:n},e.body.append("model.json",new Blob([JSON.stringify(r)],{type:"application/json"}),"model.json"),null!=t.weightData&&e.body.append("model.weights.bin",new Blob([t.weightData],{type:"application/octet-stream"}),"model.weights.bin"),[4,fetch(this.path,e)];case 1:if(i=a.sent(),200===i.status)return[2,{modelArtifactsInfo:l.getModelArtifactsInfoForJSON(t),responses:[i]}];throw new Error("BrowserHTTPRequest.save() failed due to HTTP response status "+(i.status+"."))}})})},t.prototype.load=function(){return i(this,void 0,void 0,function(){var t,e,n,r,i,o,s,u,h,g,d,p,f;return a(this,function(a){switch(a.label){case 0:return[4,fetch(this.path,this.requestInit)];case 1:return t=a.sent(),[4,t.json()];case 2:if(e=a.sent(),n=e.modelTopology,r=e.weightsManifest,null==n&&null==r)throw new Error("The JSON from HTTP path "+this.path+" contains neither model topology or manifest for weights.");if(null==r)return[3,4];for(s=e.weightsManifest,i=[],u=0,h=s;u<h.length;u++)g=h[u],i.push.apply(i,g.weights);return d=this.path.substring(0,this.path.lastIndexOf("/")),d.endsWith("/")||(d+="/"),p=[],s.forEach(function(t){t.paths.forEach(function(t){p.push(d+t)})}),f=l.concatenateArrayBuffers,[4,c.loadWeightsAsArrayBuffer(p,this.requestInit)];case 3:o=f.apply(void 0,[a.sent()]),a.label=4;case 4:return[2,{modelTopology:n,weightSpecs:i,weightData:o}]}})})},t.URL_SCHEMES=["http://","https://"],t}();e.BrowserHTTPRequest=h,e.httpRequestRouter=function(t){if(o.ENV.get("IS_BROWSER")){for(var e=0,n=h.URL_SCHEMES;e<n.length;e++){var i=n[e];if(t.startsWith(i))return r(t)}return null}return null},u.IORouterRegistry.registerSaveRouter(e.httpRequestRouter),u.IORouterRegistry.registerLoadRouter(e.httpRequestRouter),e.browserHTTPRequest=r},function(t,e,n){"use strict";function r(t,e){return a(this,void 0,void 0,function(){var n,r,i;return o(this,function(a){switch(a.label){case 0:return n=t.map(function(t){return fetch(t,e)}),[4,Promise.all(n)];case 1:return r=a.sent(),[4,Promise.all(r.map(function(t){return t.arrayBuffer()}))];case 2:return i=a.sent(),[2,i]}})})}function i(t,e,n,i){return void 0===e&&(e=""),a(this,void 0,void 0,function(){var a,c,h,g,d,p,f,A,C,I;return o(this,function(o){switch(o.label){case 0:if(a=t.map(function(){return!1}),c={},h=null!=n?n.map(function(){return!1}):[],g=[],t.forEach(function(t,e){var r=0;t.weights.forEach(function(t){var i="quantization"in t?t.quantization.dtype:t.dtype,o=u.DTYPE_VALUE_SIZE_MAP[i]*l.sizeFromShape(t.shape),s=function(){a[e]=!0,null==c[e]&&(c[e]=[]),c[e].push({manifestEntry:t,groupOffset:r,sizeBytes:o})};null!=n?n.forEach(function(e,n){e===t.name&&(s(),h[n]=!0)}):s(),g.push(t.name),r+=o})}),!h.every(function(t){return t}))throw d=n.filter(function(t,e){return!h[e]}),new Error("Could not find weights in manifest with names: "+(d.join(", ")+". \n")+"Manifest JSON has weights with names: "+(g.join(", ")+"."));return p=a.reduce(function(t,e,n){return e&&t.push(n),t},[]),f=[],p.forEach(function(n){t[n].paths.forEach(function(t){var n=e+(e.endsWith("/")?"":"/")+t;f.push(n)})}),[4,r(f,i)];case 1:return A=o.sent(),C={},I=0,p.forEach(function(e){for(var n=t[e].paths.length,r=0,i=0;i<n;i++)r+=A[I+i].byteLength;for(var a=new ArrayBuffer(r),o=new Uint8Array(a),l=0,u=0;u<n;u++){var h=new Uint8Array(A[I+u]);o.set(h,l),l+=h.byteLength}var g=c[e];g.forEach(function(t){var e,n=a.slice(t.groupOffset,t.groupOffset+t.sizeBytes),r=t.manifestEntry.dtype;if("quantization"in t.manifestEntry){var i=t.manifestEntry.quantization;if("uint8"!==i.dtype&&"uint16"!==i.dtype)throw new Error("Weight "+t.manifestEntry.name+" has unknown "+("quantization dtype "+i.dtype+"."));var o="uint8"===i.dtype?new Uint8Array(n):new Uint16Array(n);if("float32"===r)e=Float32Array.from(o,function(t){return t*i.scale+i.min});else{if("int32"!==r)throw new Error("Weight "+t.manifestEntry.name+" has a dtype not supported by quantization: "+r);e=Int32Array.from(o,function(t){return Math.round(t*i.scale+i.min)})}}else if("float32"===r)e=new Float32Array(n);else{if("int32"!==r)throw new Error("Weight "+t.manifestEntry.name+" has unknown dtype "+(r+"."));e=new Int32Array(n)}var l=t.manifestEntry.name;if(null!=C[l])throw new Error("Duplicate weight with name "+l+". Please make sure weights names are unique in the manifest JSON.");C[l]=s.tensor(e,t.manifestEntry.shape,t.manifestEntry.dtype)}),I+=n}),[2,C]}})})}var a=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,a){function o(t){try{l(r.next(t))}catch(t){a(t)}}function s(t){try{l(r.throw(t))}catch(t){a(t)}}function l(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(o,s)}l((r=r.apply(t,e||[])).next())})},o=this&&this.__generator||function(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;l;)try{if(i=1,a&&(o=2&n[0]?a.return:n[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,n[1])).done)return o;switch(a=0,o&&(n=[2&n[0],o.value]),n[0]){case 0:case 1:o=n;break;case 4:return l.label++,{value:n[1],done:!1};case 5:l.label++,a=n[1],n=[0];continue;case 7:n=l.ops.pop(),l.trys.pop();continue;default:if(o=l.trys,!(o=o.length>0&&o[o.length-1])&&(6===n[0]||2===n[0])){l=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3])){l.label=n[1];break}if(6===n[0]&&l.label<o[1]){l.label=o[1],o=n;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(n);break}o[2]&&l.ops.pop(),l.trys.pop();continue}n=e.call(t,l)}catch(t){n=[6,t],a=0}finally{i=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,a,o,s,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(e,"__esModule",{value:!0});var s=n(519),l=n(512),u=n(625);e.loadWeightsAsArrayBuffer=r,e.loadWeights=i},function(t,e){"use strict";function n(t,e,n){return new s(t,e,n)}function r(t){return new l(t)}var i=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},a=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,a){function o(t){try{l(r.next(t))}catch(t){a(t)}}function s(t){try{l(r.throw(t))}catch(t){a(t)}}function l(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(o,s)}l((r=r.apply(t,e||[])).next())})},o=this&&this.__generator||function(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;l;)try{if(i=1,a&&(o=2&n[0]?a.return:n[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,n[1])).done)return o;switch(a=0,o&&(n=[2&n[0],o.value]),n[0]){case 0:case 1:o=n;break;case 4:return l.label++,{value:n[1],done:!1};case 5:l.label++,a=n[1],n=[0];continue;case 7:n=l.ops.pop(),l.trys.pop();continue;default:if(o=l.trys,!(o=o.length>0&&o[o.length-1])&&(6===n[0]||2===n[0])){l=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3])){l.label=n[1];break}if(6===n[0]&&l.label<o[1]){l.label=o[1],o=n;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(n);break}o[2]&&l.ops.pop(),l.trys.pop();continue}n=e.call(t,l)}catch(t){n=[6,t],a=0}finally{i=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,a,o,s,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e,n){this.modelTopology=t,this.weightSpecs=e,this.weightData=n}return t.prototype.load=function(){return a(this,void 0,void 0,function(){var t;return o(this,function(e){return t={},null!=this.modelTopology&&(t=i({modelTopology:this.modelTopology},t)),null!=this.weightSpecs&&this.weightSpecs.length>0&&(t=i({weightSpecs:this.weightSpecs},t)),null!=this.weightData&&this.weightData.byteLength>0&&(t=i({weightData:this.weightData},t)),[2,t]})})},t}(),l=function(){function t(t){this.saveHandler=t}return t.prototype.save=function(t){return a(this,void 0,void 0,function(){return o(this,function(e){return[2,this.saveHandler(t)]})})},t}();e.fromMemory=n,e.withSaveHandler=r},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.prototype.getClassName=function(){return this.constructor.className},t.fromConfig=function(t,e){return new t(e)},t}();e.Serializable=n;var r=function(){function t(){this.classNameMap={}}return t.getMap=function(){return null==t.instance&&(t.instance=new t),t.instance},t.register=function(e){t.getMap().classNameMap[e.className]=[e,e.fromConfig]},t}();e.SerializationMap=r},function(t,e,n){"use strict";function r(t,e,n){if(null==n&&(n=c.ENV.get("TEST_EPSILON")),t instanceof h.Tensor||e instanceof h.Tensor){if(t instanceof h.Tensor&&e instanceof h.Tensor){if(t.dtype!==e.dtype)throw new Error("Arrays are of different type actual: "+t.dtype+" "+("vs expected: "+e.dtype+"."));if(!g.arraysEqual(t.shape,e.shape))throw new Error("Arrays are of different shape actual: "+t.shape+" "+("vs expected: "+e.shape+"."))}}else{var r=t.constructor.name,i=e.constructor.name;if(r!==i)throw new Error("Arrays are of different type actual: "+r+" vs expected: "+i)}var a,o;if(a=t instanceof h.Tensor?t.dataSync():t,o=e instanceof h.Tensor?e.dataSync():e,a.length!==o.length)throw new Error("Arrays have different lengths actual: "+a.length+" vs "+("expected: "+o.length+".\n")+("Actual:   "+a+".\n")+("Expected: "+o+"."));for(var l=0;l<o.length;++l){var u=a[l],d=o[l];if(!s(u,Number(d),n))throw new Error("Arrays differ: actual["+l+"] = "+u+", expected["+l+"] = "+d+".\n"+("Actual:   "+a+".\n")+("Expected: "+o+"."))}}function i(t,e){t().then(function(){return e.fail()},function(){return e()})}function a(t,e){return r(t,e,0)}function o(t,e,n){if(null==n&&(n=c.ENV.get("TEST_EPSILON")),!s(t,e,n))throw new Error("Numbers differ: actual === "+t+", expected === "+e)}function s(t,e,n){return!(!isNaN(t)||!isNaN(e))||!(isNaN(t)||isNaN(e)||Math.abs(t-e)>n)}function l(t,e,n){var r;r=t instanceof h.Tensor?t.dataSync():t;for(var i=0;i<r.length;i++)if(r[i]<e||r[i]>n)throw new Error("Value out of range:"+r[i]+" low: "+e+", high: "+n)}function u(t,e){expect(new Float32Array(t)).toEqual(new Float32Array(e))}Object.defineProperty(e,"__esModule",{value:!0});var c=n(507),h=n(514),g=n(512);e.WEBGL_ENVS={HAS_WEBGL:!0},e.NODE_ENVS={IS_NODE:!0},e.CHROME_ENVS={IS_CHROME:!0},e.BROWSER_ENVS={IS_BROWSER:!0},e.CPU_ENVS={HAS_WEBGL:!1},e.ALL_ENVS={},e.expectArraysClose=r,e.expectPromiseToFail=i,e.expectArraysEqual=a,e.expectNumbersClose=o,e.expectValuesInRange=l,e.expectArrayBuffersEqual=u},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n="0.12.4";e.version=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(588);e.gpgpu_util=r;var i=n(590);e.webgl_util=i;var a=n(506);e.MathBackendWebGL=a.MathBackendWebGL;var o=n(587);e.GPGPUContext=o.GPGPUContext},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(507),a=n(549),o=n(519),s=n(633),l=n(638),u=n(639),c=function(t){function e(e,n,r){void 0===r&&(r=null);var i=t.call(this)||this;return i.learningRate=e,i.rho=n,i.epsilon=r,i.accumulatedGrads={},i.accumulatedUpdates={},i.c=a.keep(o.scalar(-e)),i.rhoScalar=a.keep(o.scalar(n)),i.oneMinusRho=a.keep(o.scalar(1-n)),null===r&&(r=u.getOptimizerDefaultEpsilonValue()),i.epsilonScalar=a.keep(o.scalar(r)),i}return r(e,t),e.prototype.applyGradients=function(t){var e=this,n=function(n){var s=i.ENV.engine.registeredVariables[n];if(null==r.accumulatedGrads[n]){var l=!1;a.tidy(function(){e.accumulatedGrads[n]=o.zerosLike(s).variable(l)})}if(null==r.accumulatedUpdates[n]){var u=!1;a.tidy(function(){e.accumulatedUpdates[n]=o.zerosLike(s).variable(u)})}var c=t[n],h=r.accumulatedGrads[n],g=r.accumulatedUpdates[n];a.tidy(function(){var t=e.rhoScalar.mul(h).add(e.oneMinusRho.mul(c.square())),r=g.add(e.epsilonScalar).sqrt().div(h.add(e.epsilonScalar).sqrt()).mul(c),i=e.rhoScalar.mul(g).add(e.oneMinusRho.mul(r.square()));e.accumulatedGrads[n].assign(t),e.accumulatedUpdates[n].assign(i);var a=e.c.mul(r).add(s);s.assign(a)})},r=this;for(var s in t)n(s)},e.prototype.dispose=function(){var t=this;this.c.dispose(),this.epsilonScalar.dispose(),this.rhoScalar.dispose(),this.oneMinusRho.dispose(),null!=this.accumulatedUpdates&&(Object.keys(this.accumulatedUpdates).forEach(function(e){return t.accumulatedUpdates[e].dispose()}),Object.keys(this.accumulatedGrads).forEach(function(e){return t.accumulatedGrads[e].dispose()}))},e.prototype.getConfig=function(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}},e.fromConfig=function(t,e){return new t(e.learningRate,e.rho,e.epsilon)},e.className="AdadeltaOptimizer",e}(l.Optimizer);e.AdadeltaOptimizer=c,s.SerializationMap.register(c)},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__decorate||function(t,e,n,r){var i,a=arguments.length,o=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(o=(a<3?i(o):a>3?i(e,n,o):i(e,n))||o);return a>3&&o&&Object.defineProperty(e,n,o),o};Object.defineProperty(e,"__esModule",{value:!0});var a=n(509),o=n(549),s=n(633),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.minimize=function(t,e,n){void 0===e&&(e=!1);var r=this.computeGradients(t,n),i=r.value,a=r.grads;this.applyGradients(a);var o=Object.keys(a);return o.forEach(function(t){return a[t].dispose()}),e?i:(i.dispose(),null)},e.prototype.computeGradients=function(t,e){return o.variableGrads(t,e)},i([a.doc({heading:"Training",subheading:"Optimizers"})],e.prototype,"minimize",null),e=i([a.doc({heading:"Training",subheading:"Classes",namespace:"train"})],e)}(s.Serializable);e.Optimizer=l},function(t,e,n){"use strict";function r(){return i.ENV.get("WEBGL_RENDER_FLOAT32_ENABLED")?a:o}Object.defineProperty(e,"__esModule",{value:!0});var i=n(507),a=1e-8,o=1e-4;e.getOptimizerDefaultEpsilonValue=r},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(507),a=n(549),o=n(519),s=n(633),l=n(638),u=n(639),c=function(t){function e(e,n){void 0===n&&(n=.1);var r=t.call(this)||this;r.learningRate=e,r.initialAccumulatorValue=n,r.accumulatedGrads={},r.c=a.keep(o.scalar(-e));var i=u.getOptimizerDefaultEpsilonValue();return r.epsilon=a.keep(o.scalar(i)),r}return r(e,t),e.prototype.applyGradients=function(t){var e=this,n=function(n){var s=i.ENV.engine.registeredVariables[n];if(null==r.accumulatedGrads[n]){var l=!1;a.tidy(function(){e.accumulatedGrads[n]=o.fill(s.shape,e.initialAccumulatorValue).variable(l)})}var u=t[n],c=r.accumulatedGrads[n];a.tidy(function(){var t=c.add(u.square());e.accumulatedGrads[n].assign(t);var r=e.c.mul(u.div(t.add(e.epsilon).sqrt())).add(s);s.assign(r)})},r=this;for(var s in t)n(s)},e.prototype.dispose=function(){var t=this;this.epsilon.dispose(),this.c.dispose(),null!=this.accumulatedGrads&&Object.keys(this.accumulatedGrads).forEach(function(e){return t.accumulatedGrads[e].dispose()})},e.prototype.getConfig=function(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}},e.fromConfig=function(t,e){return new t(e.learningRate,e.initialAccumulatorValue)},e.className="AdagradOptimizer",e}(l.Optimizer);e.AdagradOptimizer=c,s.SerializationMap.register(c)},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(507),a=n(549),o=n(519),s=n(633),l=n(638),u=n(639),c=function(t){function e(e,n,r,i){void 0===i&&(i=null);var s=t.call(this)||this;return s.learningRate=e,s.beta1=n,s.beta2=r,s.epsilon=i,s.accumulatedFirstMoment={},s.accumulatedSecondMoment={},s.c=a.keep(o.scalar(-e)),s.beta1Scalar=a.keep(o.scalar(n)),s.beta2Scalar=a.keep(o.scalar(r)),a.tidy(function(){s.accBeta1=o.scalar(n).variable(),s.accBeta2=o.scalar(r).variable()}),s.oneMinusBeta1=a.keep(o.scalar(1-n)),s.oneMinusBeta2=a.keep(o.scalar(1-r)),s.one=a.keep(o.scalar(1)),null===i&&(i=u.getOptimizerDefaultEpsilonValue()),s.epsScalar=a.keep(o.scalar(i)),s}return r(e,t),e.prototype.applyGradients=function(t){var e=this;a.tidy(function(){var n=e.one.sub(e.accBeta1),r=e.one.sub(e.accBeta2);for(var a in t){var s=i.ENV.engine.registeredVariables[a];if(null==e.accumulatedFirstMoment[a]){var l=!1;e.accumulatedFirstMoment[a]=o.zerosLike(s).variable(l)}if(null==e.accumulatedSecondMoment[a]){var l=!1;e.accumulatedSecondMoment[a]=o.zerosLike(s).variable(l)}var u=t[a],c=e.accumulatedFirstMoment[a],h=e.accumulatedSecondMoment[a],g=e.beta1Scalar.mul(c).add(e.oneMinusBeta1.mul(u)),d=e.beta2Scalar.mul(h).add(e.oneMinusBeta2.mul(u.square())),p=g.div(n),f=d.div(r);e.accumulatedFirstMoment[a].assign(g),e.accumulatedSecondMoment[a].assign(d);var A=e.c.mul(p.div(e.epsScalar.add(f.sqrt()))).add(s);s.assign(A)}e.accBeta1.assign(e.accBeta1.mul(e.beta1Scalar)),e.accBeta2.assign(e.accBeta2.mul(e.beta2Scalar))})},e.prototype.dispose=function(){var t=this;this.c.dispose(),this.epsScalar.dispose(),this.beta1Scalar.dispose(),this.beta2Scalar.dispose(),this.accBeta1.dispose(),this.accBeta2.dispose(),this.oneMinusBeta1.dispose(),this.oneMinusBeta2.dispose(),this.one.dispose(),null!=this.accumulatedFirstMoment&&Object.keys(this.accumulatedFirstMoment).forEach(function(e){return t.accumulatedFirstMoment[e].dispose()}),null!=this.accumulatedSecondMoment&&Object.keys(this.accumulatedSecondMoment).forEach(function(e){return t.accumulatedSecondMoment[e].dispose()})},e.prototype.getConfig=function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}},e.fromConfig=function(t,e){return new t(e.learningRate,e.beta1,e.beta2,e.epsilon)},e.className="AdamOptimizer",e}(l.Optimizer);e.AdamOptimizer=c,s.SerializationMap.register(c)},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(507),a=n(549),o=n(519),s=n(633),l=n(638),u=n(639),c=function(t){function e(e,n,r,i,s){void 0===i&&(i=null),void 0===s&&(s=0);var l=t.call(this)||this;return l.learningRate=e,l.beta1=n,l.beta2=r,l.epsilon=i,l.decay=s,l.accumulatedFirstMoment={},l.accumulatedWeightedInfNorm={},l.c=a.keep(o.scalar(-e)),l.beta1Scalar=a.keep(o.scalar(n)),l.beta2Scalar=a.keep(o.scalar(r)),l.decayScalar=a.keep(o.scalar(s)),a.tidy(function(){l.iteration=o.scalar(0).variable(),l.accBeta1=o.scalar(n).variable()}),l.oneMinusBeta1=a.keep(o.scalar(1-n)),l.one=a.keep(o.scalar(1)),null===i&&(i=u.getOptimizerDefaultEpsilonValue()),l.epsScalar=a.keep(o.scalar(i)),l}return r(e,t),e.prototype.applyGradients=function(t){var e=this;a.tidy(function(){var n=e.one.sub(e.accBeta1),r=e.c.div(e.one.add(e.decayScalar.mul(e.iteration)));for(var a in t){var s=i.ENV.engine.registeredVariables[a];if(null==e.accumulatedFirstMoment[a]){var l=!1;e.accumulatedFirstMoment[a]=o.zerosLike(s).variable(l)}if(null==e.accumulatedWeightedInfNorm[a]){var l=!1;e.accumulatedWeightedInfNorm[a]=o.zerosLike(s).variable(l)}var u=t[a],c=e.accumulatedFirstMoment[a],h=e.accumulatedWeightedInfNorm[a],g=e.beta1Scalar.mul(c).add(e.oneMinusBeta1.mul(u)),d=e.beta2Scalar.mul(h),p=u.abs(),f=d.maximum(p);e.accumulatedFirstMoment[a].assign(g),e.accumulatedWeightedInfNorm[a].assign(f);var A=r.div(n).mul(g.div(e.epsScalar.add(f))).add(s);s.assign(A)}e.iteration.assign(e.iteration.add(e.one)),e.accBeta1.assign(e.accBeta1.mul(e.beta1Scalar))})},e.prototype.dispose=function(){var t=this;this.c.dispose(),this.epsScalar.dispose(),this.accBeta1.dispose(),this.beta1Scalar.dispose(),this.beta2Scalar.dispose(),this.oneMinusBeta1.dispose(),this.decayScalar.dispose(),this.iteration.dispose(),this.one.dispose(),null!=this.accumulatedFirstMoment&&Object.keys(this.accumulatedFirstMoment).forEach(function(e){return t.accumulatedFirstMoment[e].dispose()}),null!=this.accumulatedWeightedInfNorm&&Object.keys(this.accumulatedWeightedInfNorm).forEach(function(e){return t.accumulatedWeightedInfNorm[e].dispose()})},e.prototype.getConfig=function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}},e.fromConfig=function(t,e){return new t(e.learningRate,e.beta1,e.beta2,e.epsilon,e.decay)},e.className="AdamaxOptimizer",e}(l.Optimizer);e.AdamaxOptimizer=c,s.SerializationMap.register(c)},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{
__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(507),a=n(549),o=n(519),s=n(633),l=n(644),u=function(t){function e(e,n,r){void 0===r&&(r=!1);var i=t.call(this,e)||this;return i.learningRate=e,i.momentum=n,i.useNesterov=r,i.m=o.scalar(i.momentum),i.accumulations={},i}return r(e,t),e.prototype.applyGradients=function(t){var e=this,n=function(n){var s=i.ENV.engine.registeredVariables[n];if(null==r.accumulations[n]){var l=!1;a.tidy(function(){e.accumulations[n]=o.zerosLike(s).variable(l)})}var u=r.accumulations[n],c=t[n];a.tidy(function(){var t,r=e.m.mul(u).add(c);t=e.useNesterov?e.c.mul(c.add(r.mul(e.m))).add(s):e.c.mul(r).add(s),e.accumulations[n].assign(r),s.assign(t)})},r=this;for(var s in t)n(s)},e.prototype.dispose=function(){if(t.prototype.dispose.call(this),this.m.dispose(),null!=this.accumulations)for(var e in this.accumulations)this.accumulations[e].dispose()},e.prototype.setMomentum=function(t){this.momentum=t},e.prototype.getConfig=function(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}},e.fromConfig=function(t,e){return new t(e.learningRate,e.momentum,e.useNesterov)},e.className="MomentumOptimizer",e}(l.SGDOptimizer);e.MomentumOptimizer=u,s.SerializationMap.register(u)},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(507),a=n(549),o=n(519),s=n(633),l=n(638),u=function(t){function e(e){var n=t.call(this)||this;return n.learningRate=e,n.setLearningRate(e),n}return r(e,t),e.prototype.applyGradients=function(t){var e=this,n=Object.keys(t);n.forEach(function(n){var r=t[n],o=i.ENV.engine.registeredVariables[n];a.tidy(function(){var t=e.c.mul(r).add(o);o.assign(t)})})},e.prototype.setLearningRate=function(t){this.learningRate=t,null!=this.c&&this.c.dispose(),this.c=a.keep(o.scalar(-t))},e.prototype.dispose=function(){this.c.dispose()},e.prototype.getConfig=function(){return{learningRate:this.learningRate}},e.fromConfig=function(t,e){return new t(e.learningRate)},e.className="SGDOptimizer",e}(l.Optimizer);e.SGDOptimizer=u,s.SerializationMap.register(u)},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(507),a=n(549),o=n(519),s=n(633),l=n(638),u=n(639),c=function(t){function e(e,n,r,i,s){void 0===n&&(n=.9),void 0===r&&(r=0),void 0===i&&(i=null),void 0===s&&(s=!1);var l=t.call(this)||this;return l.learningRate=e,l.decay=n,l.momentum=r,l.epsilon=i,l.accumulatedMeanSquares={},l.accumulatedMeanGrads={},l.accumulatedMoments={},l.c=a.keep(o.scalar(e)),l.decayScalar=a.keep(o.scalar(n)),l.momentumScalar=a.keep(o.scalar(r)),l.oneMinusDecay=a.keep(o.scalar(1-n)),l.centered=s,null===i&&(i=u.getOptimizerDefaultEpsilonValue()),l.epsilonScalar=a.keep(o.scalar(i)),l}return r(e,t),e.prototype.applyGradients=function(t){var e=this,n=function(n){var s=i.ENV.engine.registeredVariables[n];if(null==r.accumulatedMeanSquares[n]){var l=!1;a.tidy(function(){e.accumulatedMeanSquares[n]=o.zerosLike(s).variable(l)})}if(null==r.accumulatedMeanGrads[n]&&r.centered){var u=!1;a.tidy(function(){e.accumulatedMeanGrads[n]=o.zerosLike(s).variable(u)})}if(null==r.accumulatedMoments[n]){var c=!1;a.tidy(function(){e.accumulatedMoments[n]=o.zerosLike(s).variable(c)})}var h=r.accumulatedMeanSquares[n],g=r.accumulatedMeanGrads[n],d=r.accumulatedMoments[n],p=t[n];a.tidy(function(){var t=e.decayScalar.mul(h).add(e.oneMinusDecay.mul(p.square()));if(e.centered){var r=e.decayScalar.mul(g).add(e.oneMinusDecay.mul(p)),i=e.momentumScalar.mul(d).add(e.c.mul(p).div(t.sub(r.square().add(e.epsilonScalar)).sqrt()));e.accumulatedMeanSquares[n].assign(t),e.accumulatedMeanGrads[n].assign(r),e.accumulatedMoments[n].assign(i);var a=s.sub(i);s.assign(a)}else{var o=e.decayScalar.mul(h).add(e.oneMinusDecay.mul(p.square())),i=e.momentumScalar.mul(d).add(e.c.mul(p).div(o.add(e.epsilonScalar).sqrt()));e.accumulatedMeanSquares[n].assign(o),e.accumulatedMoments[n].assign(i);var a=s.sub(i);s.assign(a)}})},r=this;for(var s in t)n(s)},e.prototype.dispose=function(){var t=this;this.c.dispose(),this.epsilonScalar.dispose(),this.decayScalar.dispose(),this.momentumScalar.dispose(),this.oneMinusDecay.dispose(),null!=this.accumulatedMeanSquares&&Object.keys(this.accumulatedMeanSquares).forEach(function(e){return t.accumulatedMeanSquares[e].dispose()}),null!=this.accumulatedMeanGrads&&this.centered&&Object.keys(this.accumulatedMeanGrads).forEach(function(e){return t.accumulatedMeanGrads[e].dispose()}),null!=this.accumulatedMoments&&Object.keys(this.accumulatedMoments).forEach(function(e){return t.accumulatedMoments[e].dispose()})},e.prototype.getConfig=function(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}},e.fromConfig=function(t,e){return new t(e.learningRate,e.decay,e.momentum,e.epsilon,e.centered)},e.className="RMSPropOptimizer",e}(l.Optimizer);e.RMSPropOptimizer=c,s.SerializationMap.register(c)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(637),i=n(640),a=n(641),o=n(642),s=n(643),l=n(647),u=n(645),c=n(644);[s.MomentumOptimizer,c.SGDOptimizer,r.AdadeltaOptimizer,i.AdagradOptimizer,u.RMSPropOptimizer,o.AdamaxOptimizer,a.AdamOptimizer],e.train={sgd:l.OptimizerConstructors.sgd,momentum:l.OptimizerConstructors.momentum,adadelta:l.OptimizerConstructors.adadelta,adagrad:l.OptimizerConstructors.adagrad,rmsprop:l.OptimizerConstructors.rmsprop,adamax:l.OptimizerConstructors.adamax,adam:l.OptimizerConstructors.adam}},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var i,a=arguments.length,o=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(o=(a<3?i(o):a>3?i(e,n,o):i(e,n))||o);return a>3&&o&&Object.defineProperty(e,n,o),o};Object.defineProperty(e,"__esModule",{value:!0});var i=n(509),a=n(637),o=n(640),s=n(641),l=n(642),u=n(643),c=n(645),h=n(644),g=function(){function t(){}return t.sgd=function(t){return new h.SGDOptimizer(t)},t.momentum=function(t,e,n){return void 0===n&&(n=!1),new u.MomentumOptimizer(t,e,n)},t.rmsprop=function(t,e,n,r,i){return void 0===e&&(e=.9),void 0===n&&(n=0),void 0===r&&(r=null),void 0===i&&(i=!1),new c.RMSPropOptimizer(t,e,n,r,i)},t.adam=function(t,e,n,r){return void 0===t&&(t=.001),void 0===e&&(e=.9),void 0===n&&(n=.999),void 0===r&&(r=null),new s.AdamOptimizer(t,e,n,r)},t.adadelta=function(t,e,n){return void 0===t&&(t=.001),void 0===e&&(e=.95),void 0===n&&(n=null),new a.AdadeltaOptimizer(t,e,n)},t.adamax=function(t,e,n,r,i){return void 0===t&&(t=.002),void 0===e&&(e=.9),void 0===n&&(n=.999),void 0===r&&(r=null),void 0===i&&(i=0),new l.AdamaxOptimizer(t,e,n,r,i)},t.adagrad=function(t,e){return void 0===e&&(e=.1),new o.AdagradOptimizer(t,e)},r([i.doc({heading:"Training",subheading:"Optimizers",namespace:"train"})],t,"sgd",null),r([i.doc({heading:"Training",subheading:"Optimizers",namespace:"train"})],t,"momentum",null),r([i.doc({heading:"Training",subheading:"Optimizers",namespace:"train"})],t,"rmsprop",null),r([i.doc({heading:"Training",subheading:"Optimizers",namespace:"train"})],t,"adam",null),r([i.doc({heading:"Training",subheading:"Optimizers",namespace:"train"})],t,"adadelta",null),r([i.doc({heading:"Training",subheading:"Optimizers",namespace:"train"})],t,"adamax",null),r([i.doc({heading:"Training",subheading:"Optimizers",namespace:"train"})],t,"adagrad",null),t}();e.OptimizerConstructors=g},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(649),i=n(666);e.CallbackList=i.CallbackList,e.CustomCallback=i.CustomCallback;var a=n(689);e.Callback=a.Callback;var o=n(655);e.SymbolicTensor=o.SymbolicTensor;var s=n(663);e.Model=s.Model;var l=n(686);e.RNN=l.RNN;var u=n(688);e.Sequential=u.Sequential;var c=n(662);e.version_layers=c.version,e.model=r.ModelExports.model,e.sequential=r.ModelExports.sequential,e.loadModel=r.ModelExports.loadModel,e.input=r.ModelExports.input,e.layers=r.LayerExports,e.constraints=r.ConstraintExports,e.initializers=r.InitializerExports,e.metrics=r.MetricExports,e.regularizers=r.RegularizerExports},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var i,a=arguments.length,o=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(o=(a<3?i(o):a>3?i(e,n,o):i(e,n))||o);return a>3&&o&&Object.defineProperty(e,n,o),o};Object.defineProperty(e,"__esModule",{value:!0});var i=n(505),a=n(650),o=n(655),s=n(663),l=n(673),u=n(674),c=n(676),h=n(679),g=n(680),d=n(681),p=n(682),f=n(683),A=n(684),C=n(685),I=n(686),m=n(687),v=n(668),y=n(669),b=n(688),x=n(677),w=function(){function t(){}return t.model=function(t){return new s.Model(t)},t.sequential=function(t){return new b.Sequential(t)},t.loadModel=function(t){return b.loadModelInternal(t)},t.input=function(t){return o.Input(t)},r([i.doc({heading:"Models",subheading:"Creation",configParamIndices:[0]})],t,"model",null),r([i.doc({heading:"Models",subheading:"Creation",configParamIndices:[0]})],t,"sequential",null),r([i.doc({heading:"Models",subheading:"Loading",useDocsFrom:"loadModelInternal"})],t,"loadModel",null),r([i.doc({heading:"Models",subheading:"Inputs",useDocsFrom:"Input",configParamIndices:[0]})],t,"input",null),t}();e.ModelExports=w;var S=function(){function t(){}return t.inputLayer=function(t){return new o.InputLayer(t)},t.elu=function(t){return new u.ELU(t)},t.leakyReLU=function(t){return new u.LeakyReLU(t)},t.softmax=function(t){return new u.Softmax(t)},t.thresholdedReLU=function(t){return new u.ThresholdedReLU(t)},t.conv1d=function(t){return new c.Conv1D(t)},t.conv2d=function(t){return new c.Conv2D(t)},t.conv2dTranspose=function(t){return new c.Conv2DTranspose(t)},t.separableConv2d=function(t){return new c.SeparableConv2D(t)},t.cropping2D=function(t){return new c.Cropping2D(t)},t.upSampling2d=function(t){return new c.UpSampling2D(t)},t.depthwiseConv2d=function(t){return new h.DepthwiseConv2D(t)},t.activation=function(t){return new g.Activation(t)},t.dense=function(t){return new g.Dense(t)},t.dropout=function(t){return new g.Dropout(t)},t.flatten=function(t){return new g.Flatten(t)},t.repeatVector=function(t){return new g.RepeatVector(t)},t.reshape=function(t){return new g.Reshape(t)},t.embedding=function(t){return new d.Embedding(t)},t.add=function(t){return new p.Add(t)},t.average=function(t){return new p.Average(t)},t.concatenate=function(t){return new p.Concatenate(t)},t.maximum=function(t){return new p.Maximum(t)},t.minimum=function(t){return new p.Minimum(t)},t.multiply=function(t){return new p.Multiply(t)},t.batchNormalization=function(t){return new f.BatchNormalization(t)},t.zeroPadding2d=function(t){return new A.ZeroPadding2D(t)},t.averagePooling1d=function(t){return new C.AveragePooling1D(t)},t.avgPool1d=function(e){return t.averagePooling1d(e)},t.avgPooling1d=function(e){return t.averagePooling1d(e)},t.averagePooling2d=function(t){return new C.AveragePooling2D(t)},t.avgPool2d=function(e){return t.averagePooling2d(e)},t.avgPooling2d=function(e){return t.averagePooling2d(e)},t.globalAveragePooling1d=function(t){return new C.GlobalAveragePooling1D(t)},t.globalAveragePooling2d=function(t){return new C.GlobalAveragePooling2D(t)},t.globalMaxPooling1d=function(t){return new C.GlobalMaxPooling1D(t)},t.globalMaxPooling2d=function(t){return new C.GlobalMaxPooling2D(t)},t.maxPooling1d=function(t){return new C.MaxPooling1D(t)},t.maxPooling2d=function(t){return new C.MaxPooling2D(t)},t.gru=function(t){return new I.GRU(t)},t.gruCell=function(t){return new I.GRUCell(t)},t.lstm=function(t){return new I.LSTM(t)},t.lstmCell=function(t){return new I.LSTMCell(t)},t.simpleRNN=function(t){return new I.SimpleRNN(t)},t.simpleRNNCell=function(t){return new I.SimpleRNNCell(t)},t.rnn=function(t){return new I.RNN(t)},t.stackedRNNCells=function(t){return new I.StackedRNNCells(t)},t.bidirectional=function(t){return new m.Bidirectional(t)},t.timeDistributed=function(t){return new m.TimeDistributed(t)},t.Layer=o.Layer,t.RNN=I.RNN,t.RNNCell=I.RNNCell,t.input=w.input,r([i.doc({heading:"Layers",subheading:"Inputs",namespace:"layers",useDocsFrom:"InputLayer",configParamIndices:[0]})],t,"inputLayer",null),r([i.doc({heading:"Layers",subheading:"Advanced Activation",namespace:"layers",useDocsFrom:"ELU",configParamIndices:[0]})],t,"elu",null),r([i.doc({heading:"Layers",subheading:"Advanced Activation",namespace:"layers",useDocsFrom:"LeakyReLU",configParamIndices:[0]})],t,"leakyReLU",null),r([i.doc({heading:"Layers",subheading:"Advanced Activation",namespace:"layers",useDocsFrom:"Softmax",configParamIndices:[0]})],t,"softmax",null),r([i.doc({heading:"Layers",subheading:"Advanced Activation",namespace:"layers",useDocsFrom:"ThresholdedReLU",configParamIndices:[0]})],t,"thresholdedReLU",null),r([i.doc({heading:"Layers",subheading:"Convolutional",namespace:"layers",useDocsFrom:"Conv1D",configParamIndices:[0]})],t,"conv1d",null),r([i.doc({heading:"Layers",subheading:"Convolutional",namespace:"layers",useDocsFrom:"Conv2D",configParamIndices:[0]})],t,"conv2d",null),r([i.doc({heading:"Layers",subheading:"Convolutional",namespace:"layers",useDocsFrom:"Conv2DTranspose",configParamIndices:[0]})],t,"conv2dTranspose",null),r([i.doc({heading:"Layers",subheading:"Convolutional",namespace:"layers",useDocsFrom:"SeparableConv2D",configParamIndices:[0]})],t,"separableConv2d",null),r([i.doc({heading:"Layers",subheading:"Convolutional",namespace:"layers",useDocsFrom:"Cropping2D",configParamIndices:[0]})],t,"cropping2D",null),r([i.doc({heading:"Layers",subheading:"Convolutional",namespace:"layers",useDocsFrom:"UpSampling2D",configParamIndices:[0]})],t,"upSampling2d",null),r([i.doc({heading:"Layers",subheading:"Convolutional",namespace:"layers",useDocsFrom:"DepthwiseConv2D",configParamIndices:[0]})],t,"depthwiseConv2d",null),r([i.doc({heading:"Layers",subheading:"Basic",namespace:"layers",useDocsFrom:"Activation",configParamIndices:[0]})],t,"activation",null),r([i.doc({heading:"Layers",subheading:"Basic",namespace:"layers",useDocsFrom:"Dense",configParamIndices:[0]})],t,"dense",null),r([i.doc({heading:"Layers",subheading:"Basic",namespace:"layers",useDocsFrom:"Dropout",configParamIndices:[0]})],t,"dropout",null),r([i.doc({heading:"Layers",subheading:"Basic",namespace:"layers",useDocsFrom:"Flatten",configParamIndices:[0]})],t,"flatten",null),r([i.doc({heading:"Layers",subheading:"Basic",namespace:"layers",useDocsFrom:"RepeatVector",configParamIndices:[0]})],t,"repeatVector",null),r([i.doc({heading:"Layers",subheading:"Basic",namespace:"layers",useDocsFrom:"Reshape",configParamIndices:[0]})],t,"reshape",null),r([i.doc({heading:"Layers",subheading:"Basic",namespace:"layers",useDocsFrom:"Embedding",configParamIndices:[0]})],t,"embedding",null),r([i.doc({heading:"Layers",subheading:"Merge",namespace:"layers",useDocsFrom:"Add",configParamIndices:[0]})],t,"add",null),r([i.doc({heading:"Layers",subheading:"Merge",namespace:"layers",useDocsFrom:"Average",configParamIndices:[0]})],t,"average",null),r([i.doc({heading:"Layers",subheading:"Merge",namespace:"layers",useDocsFrom:"Concatenate",configParamIndices:[0]})],t,"concatenate",null),r([i.doc({heading:"Layers",subheading:"Merge",namespace:"layers",useDocsFrom:"Maximum",configParamIndices:[0]})],t,"maximum",null),r([i.doc({heading:"Layers",subheading:"Merge",namespace:"layers",useDocsFrom:"Minimum",configParamIndices:[0]})],t,"minimum",null),r([i.doc({heading:"Layers",subheading:"Merge",namespace:"layers",useDocsFrom:"Multiply",configParamIndices:[0]})],t,"multiply",null),r([i.doc({heading:"Layers",subheading:"Normalization",namespace:"layers",useDocsFrom:"BatchNormalization",configParamIndices:[0]})],t,"batchNormalization",null),r([i.doc({heading:"Layers",subheading:"Padding",namespace:"layers",useDocsFrom:"ZeroPadding2D",configParamIndices:[0]})],t,"zeroPadding2d",null),r([i.doc({heading:"Layers",subheading:"Pooling",namespace:"layers",useDocsFrom:"AveragePooling1D",configParamIndices:[0]})],t,"averagePooling1d",null),r([i.doc({heading:"Layers",subheading:"Pooling",namespace:"layers",useDocsFrom:"AveragePooling2D",configParamIndices:[0]})],t,"averagePooling2d",null),r([i.doc({heading:"Layers",subheading:"Pooling",namespace:"layers",useDocsFrom:"GlobalAveragePooling1D",configParamIndices:[0]})],t,"globalAveragePooling1d",null),r([i.doc({heading:"Layers",subheading:"Pooling",namespace:"layers",useDocsFrom:"GlobalAveragePooling2D",configParamIndices:[0]})],t,"globalAveragePooling2d",null),r([i.doc({heading:"Layers",subheading:"Pooling",namespace:"layers",useDocsFrom:"GlobalMaxPooling1D",configParamIndices:[0]})],t,"globalMaxPooling1d",null),r([i.doc({heading:"Layers",subheading:"Pooling",namespace:"layers",useDocsFrom:"GlobalMaxPooling2D",configParamIndices:[0]})],t,"globalMaxPooling2d",null),r([i.doc({heading:"Layers",subheading:"Pooling",namespace:"layers",useDocsFrom:"MaxPooling1D",configParamIndices:[0]})],t,"maxPooling1d",null),r([i.doc({heading:"Layers",subheading:"Pooling",namespace:"layers",useDocsFrom:"MaxPooling2D",configParamIndices:[0]})],t,"maxPooling2d",null),r([i.doc({heading:"Layers",subheading:"Recurrent",namespace:"layers",useDocsFrom:"GRU",configParamIndices:[0]})],t,"gru",null),r([i.doc({heading:"Layers",subheading:"Recurrent",namespace:"layers",useDocsFrom:"GRUCell",configParamIndices:[0]})],t,"gruCell",null),r([i.doc({heading:"Layers",subheading:"Recurrent",namespace:"layers",useDocsFrom:"LSTM",configParamIndices:[0]})],t,"lstm",null),r([i.doc({heading:"Layers",subheading:"Recurrent",namespace:"layers",useDocsFrom:"LSTMCell",configParamIndices:[0]})],t,"lstmCell",null),r([i.doc({heading:"Layers",subheading:"Recurrent",namespace:"layers",useDocsFrom:"SimpleRNN",configParamIndices:[0]})],t,"simpleRNN",null),r([i.doc({heading:"Layers",subheading:"Recurrent",namespace:"layers",useDocsFrom:"SimpleRNNCell",configParamIndices:[0]})],t,"simpleRNNCell",null),r([i.doc({heading:"Layers",subheading:"Recurrent",namespace:"layers",useDocsFrom:"RNN",configParamIndices:[0]})],t,"rnn",null),r([i.doc({heading:"Layers",subheading:"Recurrent",namespace:"layers",useDocsFrom:"RNN",configParamIndices:[0]})],t,"stackedRNNCells",null),r([i.doc({heading:"Layers",subheading:"Wrapper",namespace:"layers",useDocsFrom:"Bidirectional",configParamIndices:[0]})],t,"bidirectional",null),r([i.doc({heading:"Layers",subheading:"Wrapper",namespace:"layers",useDocsFrom:"TimeDistributed",configParamIndices:[0]})],t,"timeDistributed",null),t}();e.LayerExports=S;var T=function(){function t(){}return t.maxNorm=function(t){return new a.MaxNorm(t)},t.unitNorm=function(t){return new a.UnitNorm(t)},t.nonNeg=function(){return new a.NonNeg},t.minMaxNorm=function(t){return new a.MinMaxNorm(t)},r([i.doc({heading:"Constraints",namespace:"constraints",useDocsFrom:"MaxNorm",configParamIndices:[0]})],t,"maxNorm",null),r([i.doc({heading:"Constraints",namespace:"constraints",useDocsFrom:"UnitNorm",configParamIndices:[0]})],t,"unitNorm",null),r([i.doc({heading:"Constraints",namespace:"constraints",useDocsFrom:"NonNeg"})],t,"nonNeg",null),r([i.doc({heading:"Constraints",namespace:"constraints",useDocsFrom:"MinMaxNormConfig",configParamIndices:[0]})],t,"minMaxNorm",null),t}();e.ConstraintExports=T;var N=function(){function t(){}return t.zeros=function(){return new l.Zeros},t.ones=function(){return new l.Ones},t.constant=function(t){return new l.Constant(t)},t.randomUniform=function(t){return new l.RandomUniform(t)},t.randomNormal=function(t){return new l.RandomNormal(t)},t.truncatedNormal=function(t){return new l.TruncatedNormal(t)},t.identity=function(t){return new l.Identity(t)},t.varianceScaling=function(t){return new l.VarianceScaling(t)},t.glorotUniform=function(t){return new l.GlorotUniform(t)},t.glorotNormal=function(t){return new l.GlorotNormal(t)},t.heNormal=function(t){return new l.HeNormal(t)},t.leCunNormal=function(t){return new l.LeCunNormal(t)},t.orthogonal=function(t){return new l.Orthogonal(t)},r([i.doc({heading:"Initializers",namespace:"initializers",useDocsFrom:"Zeros"})],t,"zeros",null),r([i.doc({heading:"Initializers",namespace:"initializers",useDocsFrom:"Ones"})],t,"ones",null),r([i.doc({heading:"Initializers",namespace:"initializers",useDocsFrom:"Constant",configParamIndices:[0]})],t,"constant",null),r([i.doc({heading:"Initializers",namespace:"initializers",useDocsFrom:"RandomUniform",configParamIndices:[0]})],t,"randomUniform",null),r([i.doc({heading:"Initializers",namespace:"initializers",useDocsFrom:"RandomNormal",configParamIndices:[0]})],t,"randomNormal",null),r([i.doc({heading:"Initializers",namespace:"initializers",useDocsFrom:"TruncatedNormal",configParamIndices:[0]})],t,"truncatedNormal",null),r([i.doc({heading:"Initializers",namespace:"initializers",useDocsFrom:"Identity",configParamIndices:[0]})],t,"identity",null),r([i.doc({heading:"Initializers",namespace:"initializers",useDocsFrom:"VarianceScaling",configParamIndices:[0]})],t,"varianceScaling",null),r([i.doc({heading:"Initializers",namespace:"initializers",useDocsFrom:"GlorotUniform",configParamIndices:[0]})],t,"glorotUniform",null),r([i.doc({heading:"Initializers",namespace:"initializers",useDocsFrom:"GlorotNormal",configParamIndices:[0]})],t,"glorotNormal",null),r([i.doc({heading:"Initializers",namespace:"initializers",useDocsFrom:"HeNormal",configParamIndices:[0]})],t,"heNormal",null),r([i.doc({heading:"Initializers",namespace:"initializers",useDocsFrom:"LeCunNormal",configParamIndices:[0]})],t,"leCunNormal",null),r([i.doc({heading:"Initializers",namespace:"initializers",useDocsFrom:"Orthogonal",configParamIndices:[0]})],t,"orthogonal",null),t}();e.InitializerExports=N;var E=function(){function t(){}return t.binaryAccuracy=function(t,e){return y.binaryAccuracy(t,e)},t.binaryCrossentropy=function(t,e){return y.binaryCrossentropy(t,e)},t.categoricalAccuracy=function(t,e){return y.categoricalAccuracy(t,e)},t.categoricalCrossentropy=function(t,e){return v.categoricalCrossentropy(t,e)},t.cosineProximity=function(t,e){return v.cosineProximity(t,e)},t.prototype.meanAbsoluteError=function(t,e){return v.meanAbsoluteError(t,e)},t.prototype.meanAbsolutePercentageError=function(t,e){return v.meanAbsolutePercentageError(t,e)},t.prototype.MAPE=function(t,e){return v.meanAbsolutePercentageError(t,e)},t.prototype.mape=function(t,e){return v.meanAbsolutePercentageError(t,e)},t.meanSquaredError=function(t,e){return v.meanSquaredError(t,e)},t.MSE=function(t,e){return v.meanSquaredError(t,e)},t.mse=function(t,e){return v.meanSquaredError(t,e)},r([i.doc({heading:"Metrics",namespace:"metrics",useDocsFrom:"meanAbsoluteError"})],t.prototype,"meanAbsoluteError",null),r([i.doc({heading:"Metrics",namespace:"metrics",useDocsFrom:"meanAbsolutePercentageError"})],t.prototype,"meanAbsolutePercentageError",null),r([i.doc({heading:"Metrics",namespace:"metrics",useDocsFrom:"binaryAccuracy"})],t,"binaryAccuracy",null),r([i.doc({heading:"Metrics",namespace:"metrics",useDocsFrom:"binaryCrossentropy"})],t,"binaryCrossentropy",null),r([i.doc({heading:"Metrics",namespace:"metrics",useDocsFrom:"categoricalAccuracy"})],t,"categoricalAccuracy",null),r([i.doc({heading:"Metrics",namespace:"metrics",useDocsFrom:"categoricalCrossentropy"})],t,"categoricalCrossentropy",null),r([i.doc({heading:"Metrics",namespace:"metrics",useDocsFrom:"cosineProximity"})],t,"cosineProximity",null),r([i.doc({heading:"Metrics",namespace:"metrics",useDocsFrom:"meanSquaredError"})],t,"meanSquaredError",null),t}();e.MetricExports=E;var k=function(){function t(){}return t.l1l2=function(t){return new x.L1L2(t)},t.l1=function(t){return x.l1(t)},t.l2=function(t){return x.l2(t)},r([i.doc({heading:"Regularizers",namespace:"regularizers",useDocsFrom:"L1L2",configParamIndices:[0]})],t,"l1l2",null),r([i.doc({heading:"Regularizers",namespace:"regularizers",useDocsFrom:"L1L2",configParamIndices:[0]})],t,"l1",null),r([i.doc({heading:"Regularizers",namespace:"regularizers",useDocsFrom:"L1L2",configParamIndices:[0]})],t,"l2",null),t}();e.RegularizerExports=k},function(t,e,n){"use strict";function r(t,e){return c.tidy(function(){return u.sqrt(u.sum(u.mulStrict(t,t),e,!0))})}function i(t){return d.serializeKerasObject(t)}function a(t,e){return void 0===e&&(e={}),d.deserializeKerasObject(t,c.serialization.SerializationMap.getMap().classNameMap,e,"constraint")}function o(t){if(null==t)return null;if("string"==typeof t){var n=t in e.CONSTRAINT_IDENTIFIER_REGISTRY_SYMBOL_MAP?e.CONSTRAINT_IDENTIFIER_REGISTRY_SYMBOL_MAP[t]:t,r={className:n,config:{}};return a(r)}return t instanceof p?t:a(t)}var s=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),l=this&&this.__decorate||function(t,e,n,r){var i,a=arguments.length,o=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(o=(a<3?i(o):a>3?i(e,n,o):i(e,n))||o);return a>3&&o&&Object.defineProperty(e,n,o),o};Object.defineProperty(e,"__esModule",{value:!0});var u=n(505),c=n(505),h=n(651),g=n(652),d=n(653),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype.getConfig=function(){return{}},e=l([c.doc({heading:"Constraints",subheading:"Classes",namespace:"constraints"})],e)}(c.serialization.Serializable);e.Constraint=p;var f=function(t){function e(e){var n=t.call(this)||this;return n.defaultMaxValue=2,n.defaultAxis=0,n.maxValue=null!=e.maxValue?e.maxValue:n.defaultMaxValue,n.axis=null!=e.axis?e.axis:n.defaultAxis,n}return s(e,t),e.prototype.apply=function(t){var e=this;return c.tidy(function(){var n=r(t,e.axis),i=u.clipByValue(n,0,e.maxValue);return u.mul(t,u.div(i,u.add(g.getScalar(h.epsilon()),n)))})},e.prototype.getConfig=function(){return{maxValue:this.maxValue,axis:this.axis}},e.className="MaxNorm",e}(p);e.MaxNorm=f,c.serialization.SerializationMap.register(f);var A=function(t){function e(e){var n=t.call(this)||this;return n.defaultAxis=0,n.axis=null!=e.axis?e.axis:n.defaultAxis,n}return s(e,t),e.prototype.apply=function(t){var e=this;return c.tidy(function(){return u.div(t,u.add(g.getScalar(h.epsilon()),r(t,e.axis)))})},e.prototype.getConfig=function(){return{axis:this.axis}},e.className="UnitNorm",e}(p);e.UnitNorm=A,c.serialization.SerializationMap.register(A);var C=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype.apply=function(t){return u.relu(t)},e.className="NonNeg",e}(p);e.NonNeg=C,c.serialization.SerializationMap.register(C);var I=function(t){function e(e){var n=t.call(this)||this;return n.defaultMinValue=0,n.defaultMaxValue=1,n.defaultRate=1,n.defaultAxis=0,n.minValue=null!=e.minValue?e.minValue:n.defaultMinValue,n.maxValue=null!=e.maxValue?e.maxValue:n.defaultMaxValue,n.rate=null!=e.rate?e.rate:n.defaultRate,n.axis=null!=e.axis?e.axis:n.defaultAxis,n}return s(e,t),e.prototype.apply=function(t){var e=this;return c.tidy(function(){var n=r(t,e.axis),i=u.add(u.mul(g.getScalar(e.rate),u.clipByValue(n,e.minValue,e.maxValue)),u.mul(g.getScalar(1-e.rate),n));return u.mul(t,u.div(i,u.add(g.getScalar(h.epsilon()),n)))})},e.prototype.getConfig=function(){return{minValue:this.minValue,maxValue:this.maxValue,rate:this.rate,axis:this.axis}},e.className="MinMaxNorm",e}(p);e.MinMaxNorm=I,c.serialization.SerializationMap.register(I),e.CONSTRAINT_IDENTIFIER_REGISTRY_SYMBOL_MAP={maxNorm:"MaxNorm",minMaxNorm:"MinMaxNorm",nonNeg:"NonNeg",unitNorm:"UnitNorm"},e.serializeConstraint=i,e.deserializeConstraint=a,e.getConstraint=o},function(t,e){"use strict";function n(){return a}function r(t){a=t}function i(){return"channelsLast"}Object.defineProperty(e,"__esModule",{value:!0});var a=1e-7;e.epsilon=n,e.setEpsilon=r,e.imageDataFormat=i},function(t,e,n){"use strict";function r(){return l++}function i(t){return void 0===t&&(t=""),t in u||(u[t]=0),u[t]+=1,t+u[t].toString()}function a(t,e){return void 0===e&&(e=h),null==c[e][t]&&(c[e][t]=s.scalar(t,e),s.keep(c[e][t])),c[e][t]}function o(){for(var t in c)for(var e in c[t])c[t][e].dispose(),delete c[t][e]}Object.defineProperty(e,"__esModule",{value:!0});var s=n(505),l=0;e.getNextUniqueTensorId=r;var u={};e.getUid=i;var c={float32:{},int32:{}},h="float32";e.getScalar=a,e.disposeScalarCache=o},function(t,e,n){"use strict";function r(t,e){if(Array.isArray(t)){for(var n=[],r=0;r<e;r++)n=n.concat(t);return n}var n=new Array(e);return n.fill(t),n}function i(t,e){if(!t)throw new b.AssertionError(e)}function a(t,e){for(var n=0,r=0,i=t;r<i.length;r++){var a=i[r];a===e&&n++}return n}function o(t){return 1===t.length?t[0]:t}function s(t){return Array.isArray(t)?t:[t]}function l(t){for(var e=s(t),n="",r=0,i=e;r<i.length;r++){var a=i[r];if(null==a.id)throw new b.ValueError("Object "+a+" passed to objectListUid without an id");""!==n&&(n+=", "),n+=Math.abs(a.id)}return n}function u(t){var e=t.replace(/(.)([A-Z][a-z0-9]+)/g,"$1_$2"),n=e.replace(/([a-z])([A-Z])/g,"$1_$2").toLowerCase();return"_"!==n[0]?n:"private"+n}function c(t){return t.length<=1?t:t.indexOf("_")===-1?t:t.replace(/[_]+(\w|$)/g,function(t,e){return e.toUpperCase()})}function h(t){return null===t||void 0===t?null:{className:t.getClassName(),config:t.getConfig()}}function g(t,e,n,r){if(void 0===e&&(e={}),void 0===n&&(n={}),void 0===r&&(r="object"),"string"==typeof t){var i=t,a=void 0;if(i in n)a=n[i];else if(i in x)a=x[i];else if(a=e[i],null==a)throw new b.ValueError("Unknown "+r+": "+t);return a}var o=t;if(null==o.className||null==o.config)throw new b.ValueError(r+": Improper config format: "+(JSON.stringify(o)+".\n")+"'className' and 'config' must set.");var s=o.className,l=void 0,u=void 0;if(s in n?(T=n.get(s),l=T[0],u=T[1]):s in x?(N=x.className,l=N[0],u=N[1]):s in e&&(E=e[s],l=E[0],u=E[1]),null==l)throw new b.ValueError("Unknown "+r+": "+s);if(null!=u){for(var c={},h=0,g=Object.keys(x);h<g.length;h++){var d=g[h];c[d]=x[d]}for(var p=0,f=Object.keys(n);p<f.length;p++){var d=f[p];c[d]=n[d]}var A=o.config;A.customObjects=c;for(var C=y({},x),I=0,m=Object.keys(n);I<m.length;I++){var d=m[I];x[d]=n[d]}var v=u(l,o.config);return x=y({},C),v}for(var C=y({},x),w=0,S=Object.keys(n);w<S.length;w++){var d=S[w];x[d]=n[d]}var v=new l(o.config);return x=y({},C),v;var T,N,E}function d(t,e){return t<e?-1:t>e?1:0}function p(t,e){return-1*d(t,e)}function f(t){switch(t){case"float32":return"float32";default:throw new b.ValueError("Invalid dtype: "+t)}}function A(t,e){if(null==t||null==e)return t===e;if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(t[n]!==e[n])return!1;return!0}function C(t){if(null==t)return t;for(var e=[],n=0,r=t;n<r.length;n++){var i=r[n];e.indexOf(i)===-1&&e.push(i)}return e}function I(t){if(null==t)throw new b.ValueError("Invalid value in obj: "+JSON.stringify(t));for(var e in t)if(t.hasOwnProperty(e))return!1;
return!0}function m(t,e,n){if(null!=n&&t.indexOf(n)<0)throw new b.ValueError(n+" is not a valid "+e+".  Valid values are "+t+" or null/undefined.")}function v(t,e,n,r){return void 0===n&&(n=0),void 0===r&&(r=1/0),i(n>=0),i(r>=n),Array.isArray(t)&&t.length>=n&&t.length<=r&&t.every(function(t){return typeof t===e})}var y=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t};Object.defineProperty(e,"__esModule",{value:!0});var b=n(654);e.pyListRepeat=r,e.assert=i,e.count=a,e.singletonOrArray=o,e.toList=s,e.objectListUid=l,e.toSnakeCase=u,e.toCamelCase=c;var x={};e.serializeKerasObject=h,e.deserializeKerasObject=g,e.numberCompare=d,e.reverseNumberCompare=p,e.stringToDType=f,e.stringsEqual=A,e.unique=C,e.isObjectEmpty=I,e.checkStringTypeUnionValue=m,e.checkArrayTypeAndLength=v},function(t,e){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(n){var r=t.call(this,n)||this;return Object.setPrototypeOf(r,e.prototype),r}return n(e,t),e}(Error);e.AttributeError=r;var i=function(t){function e(n){var r=t.call(this,n)||this;return Object.setPrototypeOf(r,e.prototype),r}return n(e,t),e}(Error);e.RuntimeError=i;var a=function(t){function e(n){var r=t.call(this,n)||this;return Object.setPrototypeOf(r,e.prototype),r}return n(e,t),e}(Error);e.ValueError=a;var o=function(t){function e(n){var r=t.call(this,n)||this;return Object.setPrototypeOf(r,e.prototype),r}return n(e,t),e}(Error);e.NotImplementedError=o;var s=function(t){function e(n){var r=t.call(this,n)||this;return Object.setPrototypeOf(r,e.prototype),r}return n(e,t),e}(Error);e.AssertionError=s;var l=function(t){function e(n){var r=t.call(this,n)||this;return Object.setPrototypeOf(r,e.prototype),r}return n(e,t),e}(Error);e.IndexError=l},function(t,e,n){"use strict";function r(t){t=I.toList(t);for(var e=[],n=0,r=t;n<r.length;n++){var i=r[n];e.push(i.shape)}return I.singletonOrArray(e)}function i(t){return"float32"}function a(t){if(null==t.batchShape&&null==t.shape)throw new Error("Please provide to Input either a `shape` or a `batchShape` argument. Note that `shape` does not include the batch dimension.");if(null!=t.batchShape&&null!=t.shape)throw new A.ValueError("Please provide either a `shape` or `batchShape` argument to Input, but not both.");var e=t.batchShape;null!=t.shape&&null==e&&(e=[null].concat(t.shape));var n=t.dtype;null==n&&(n="float32");var r=new O({batchInputShape:e,name:t.name,dtype:n,sparse:t.sparse}),i=r.inboundNodes[0].outputTensors;return i[0]}function o(t,e,n){if((null==e||null!=n&&n>0)&&(e=t.sourceLayer,n=t.nodeIndex),0===e.inboundNodes.length)return[t];var r=e.inboundNodes[n];if(0===r.inboundLayers.length)return r.inputTensors;for(var i=[],a=0;a<r.inboundLayers.length;a++)for(var s=r.inputTensors[a],l=r.inboundLayers[a],u=r.nodeIndices[a],c=o(s,l,u),h=0,g=c;h<g.length;h++){var d=g[h];i.indexOf(d)===-1&&i.push(d)}return i}function s(t,e,n){var r=I.stringToDType(t);return d.Tensor.make(e,{values:0===e.length?n:d.util.flatten(n)},r)}function l(t,e,n,r){if(!n.startsWith("2."))throw new A.ValueError("Unsupported Keras version in weights being loaded: "+n);return e}function u(t,e){for(var n={},r=0,i=0,a=e;i<a.length;i++)for(var o=a[i],s=0,l=o.weights;s<l.length;s++){var u=l[s];if(null!=n[u.originalName])throw new A.ValueError("Duplicate weight name: "+u.originalName);n[u.originalName]=u,r++}var c=[];for(var h in t)c.push([n[h],t[h]]),delete n[h];var g=[];for(var d in n)g.push(d);if(g.length>0)throw new A.ValueError(g.length+" of "+r+" weights are not set: "+g);b.batchSetValue(c)}function c(t,e,n){void 0===n&&(n=!1);for(var r=t.keras_version,i=t.backend,a=e.map(function(t){return t.name}),o={},u=0,c=e;u<c.length;u++){var h=c[u];null!=h.name&&(null==o[h.name]&&(o[h.name]=[]),o[h.name].push(h))}for(var g=t.weights,p=[],f=0;f<a.length;++f){var C=a[f],I=g[C];null==I&&(I=[]);for(var m=[],v=0;v<I.length;++v){var y=I[v];m.push(new b.LayerVariable(s(y.dtype,y.shape,y.value)))}for(var x=0,w=o[C];x<w.length;x++){var h=w[x],S=h.weights;if(m=l(h,m,r,i),m.length!==S.length){if(!n)throw new A.ValueError("Layer #"+f+' (named "'+h.name+'") expects '+(S.length+" weight(s), but the saved weights ")+("have "+m.length+" element(s)."));console.warn("Skipping loading of weights of layer "+h.name+" "+("due to mismatch in number of weights: ("+m.length+" ")+("vs "+S.length+")."))}for(var T=0;T<m.length;++T)!n||d.util.arraysEqual(S[T].shape,m[T].shape)?p.push([S[T],m[T].read()]):console.warn("Skipping loading of weights for layer "+h.name+" due "+("to mismatch in shape ("+S[T].shape+" vs ")+(m[T].shape+")"))}}b.batchSetValue(p)}var h=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),g=this&&this.__decorate||function(t,e,n,r){var i,a=arguments.length,o=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(o=(a<3?i(o):a>3?i(e,n,o):i(e,n))||o);return a>3&&o&&Object.defineProperty(e,n,o),o};Object.defineProperty(e,"__esModule",{value:!0});var d=n(505),p=n(652),f=n(656),A=n(654),C=n(657),I=n(653),m=n(658),v=n(659),y=n(660),b=n(661),x=n(662),w=function(){function t(t){this.dtype=t.dtype,this.shape=t.shape,null!=t.shape?this.ndim=t.shape.length:this.ndim=t.ndim,this.maxNDim=t.maxNDim,this.minNDim=t.minNDim,this.axes=t.axes||{}}return t}();e.InputSpec=w;var S=function(){function t(t,e,n,r,i,a,o){this.dtype=t,this.shape=e,this.sourceLayer=n,this.inputs=r,this.callArgs=i,this.outputTensorIndex=o,this.id=p.getNextUniqueTensorId(),null!=a&&(this.originalName=f.getScopedTensorName(a),this.name=f.getUniqueTensorName(this.originalName)),this.rank=e.length}return t=g([d.doc({heading:"Models",subheading:"Classes"})],t)}();e.SymbolicTensor=S;var T=0,N=function(){function t(t,e){this.callArgs=e,this.id=T++,this.outboundLayer=t.outboundLayer,this.inboundLayers=t.inboundLayers,this.nodeIndices=t.nodeIndices,this.tensorIndices=t.tensorIndices,this.inputTensors=t.inputTensors,this.outputTensors=t.outputTensors,this.inputMasks=t.inputMasks,this.outputMasks=t.outputMasks,this.inputShapes=t.inputShapes,this.outputShapes=t.outputShapes;for(var n=0,r=t.inboundLayers;n<r.length;n++){var i=r[n];null!=i&&i.outboundNodes.push(this)}t.outboundLayer.inboundNodes.push(this)}return t.prototype.getConfig=function(){for(var t=[],e=0,n=this.inboundLayers;e<n.length;e++){var r=n[e];null!=r?t.push(r.name):t.push(null)}return{outboundLayer:this.outboundLayer?this.outboundLayer.name:null,inboundLayers:t,nodeIndices:this.nodeIndices,tensorIndices:this.tensorIndices}},t}();e.Node=N;var E=0,k=function(t){function e(e){var n=t.call(this)||this;n._callHook=null,n._addedWeightNames=[],n._stateful=!1,n.id=E++,n.activityRegularizer=null,n.inputSpec=null,n.supportsMasking=!1,n._trainableWeights=[],n._nonTrainableWeights=[],n._losses=[],n._updates=[],n._built=!1,n.inboundNodes=[],n.outboundNodes=[];var r=e.name;if(!r){var i=n.getClassName();r=I.toSnakeCase(i)+"_"+p.getUid(i)}if(n.name=r,n.trainable=null==e.trainable||e.trainable,n.updatable=null==e.updatable||e.updatable,null!=e.inputShape||null!=e.batchInputShape){var a=void 0;if(null!=e.batchInputShape)a=e.batchInputShape;else if(null!=e.inputShape){var o=null;null!=e.batchSize&&(o=e.batchSize),a=[o].concat(e.inputShape)}n.batchInputShape=a;var s=e.dtype;null==s&&(s=e.inputDType),null==s&&(s="float32"),n.dtype=s}return null!=e.weights?n.initialWeights=e.weights:n.initialWeights=null,n}return h(e,t),e.nodeKey=function(t,e){return t.name+"_ib-"+e.toString()},e.prototype.getNodeAtIndex=function(t,e){if(0===this.inboundNodes.length)throw new A.RuntimeError("The layer has never been called "+("and thus has no defined "+e+"."));if(this.inboundNodes.length<=t)throw new A.ValueError("Asked to get "+e+" at node "+t+", "+("but the layer has only "+this.inboundNodes.length+" inbound nodes."));return this.inboundNodes[t]},e.prototype.getInputAt=function(t){return I.singletonOrArray(this.getNodeAtIndex(t,"input").inputTensors)},e.prototype.getOutputAt=function(t){return I.singletonOrArray(this.getNodeAtIndex(t,"output").outputTensors)},Object.defineProperty(e.prototype,"input",{get:function(){if(this.inboundNodes.length>1)throw new A.AttributeError("Layer "+this.name+' has multiple inbound nodes, hence the notion of "layer input" is ill-defined. Use `getInputAt(nodeIndex)` instead.');if(0===this.inboundNodes.length)throw new A.AttributeError("Layer "+this.name+" is not connected, no input to return.");return I.singletonOrArray(this.getNodeAtIndex(0,"input").inputTensors)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"output",{get:function(){if(0===this.inboundNodes.length)throw new A.AttributeError("Layer "+this.name+" has no inbound nodes.");if(this.inboundNodes.length>1)throw new A.AttributeError("Layer "+this.name+' has multiple inbound nodes, hence the notion of "layer output" is ill-defined. Use `getOutputAt(nodeIndex)` instead.');return I.singletonOrArray(this.getNodeAtIndex(0,"output").outputTensors)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"losses",{get:function(){return this._losses},enumerable:!0,configurable:!0}),e.prototype.calculateLosses=function(){return this.losses.map(function(t){return t()})},Object.defineProperty(e.prototype,"updates",{get:function(){return this._updates},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"built",{get:function(){return this._built},set:function(t){this._built=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"trainableWeights",{get:function(){return this.trainable?this._trainableWeights:[]},set:function(t){this._trainableWeights=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nonTrainableWeights",{get:function(){return this.trainable?this._nonTrainableWeights:this._trainableWeights.concat(this._nonTrainableWeights)},set:function(t){this._nonTrainableWeights=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"weights",{get:function(){return this.trainableWeights.concat(this.nonTrainableWeights)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stateful",{get:function(){return this._stateful},enumerable:!0,configurable:!0}),e.prototype.assertInputCompatibility=function(t){if(t=I.toList(t),null!=this.inputSpec&&0!==this.inputSpec.length){var e=I.toList(this.inputSpec);if(t.length!==e.length)throw new A.ValueError("Layer "+this.name+" expects "+e.length+" inputs, "+("but it received "+t.length+" input tensors. ")+("Input received: "+t));for(var n=0;n<t.length;n++){var r=t[n],i=e[n];if(null!=i){var a=r.rank;if(null!=i.ndim&&a!==i.ndim)throw new A.ValueError("Input "+n+" is incompatible with layer "+this.name+": "+("expected ndim="+i.ndim+", found ndim="+a));if(null!=i.maxNDim&&a>i.maxNDim)throw new A.ValueError("Input "+n+" is incompatible with layer "+this.name+(": expected max_ndim="+i.maxNDim+", found ndim="+a));if(null!=i.minNDim&&a<i.minNDim)throw new A.ValueError("Input "+n+" is incompatible with layer "+this.name+(": expected min_ndim="+i.minNDim+", found ndim="+a+"."));if(null!=i.dtype&&r.dtype!==i.dtype)throw new A.ValueError("Input "+n+" is incompatible with layer "+this.name+" "+(": expected dtype="+i.dtype+", found dtype="+r.dtype+"."));if(i.axes){var o=r.shape;for(var s in i.axes){var l=Number(s),u=i.axes[s],c=l>=0?o[l]:o[o.length+l];if(null!=u&&[u,null].indexOf(c)===-1)throw new A.ValueError("Input "+n+" is incompatible with layer "+(this.name+": expected axis "+l+" of input shape to ")+("have value "+u+" but got shape "+o+"."))}}if(null!=i.shape)for(var h=0;h<i.shape.length;++h){var g=i.shape[h],d=r.shape[h];if(null!=g&&null!=d&&g!==d)throw new A.ValueError("Input "+n+" is incompatible with layer "+(this.name+": expected shape="+i.shape+", ")+"found shape=${xShape}.")}}}}},e.prototype.call=function(t,e){return t},e.prototype.invokeCallHook=function(t,e){null!=this._callHook&&this._callHook(t,e)},e.prototype.setCallHook=function(t){this._callHook=t},e.prototype.clearCallHook=function(){this._callHook=null},e.prototype.apply=function(t,e){var n=this;e=e||{};for(var a=I.toList(t),o=!0,s=0,l=a;s<l.length;s++){var u=l[s];if(!(u instanceof S)){o=!1;break}}for(var c=!0,h=0,g=a;h<g.length;h++){var u=g[h];if(u instanceof S){c=!1;break}}if(o===c)throw new A.ValueError("Arguments to apply() must be all SymbolicTensors or all Tensors");return f.nameScope(this.name,function(){if(!n.built){n.assertInputCompatibility(t);for(var o=[],s=0,l=I.toList(t);s<l.length;s++){var u=l[s];o.push(u.shape)}n.build(I.singletonOrArray(o)),n.built=!0,n.initialWeights&&n.setWeights(n.initialWeights)}if(n.assertInputCompatibility(t),c){for(var h=n.call(t,e),g=I.toList(h),d=[],p=0,f=g;p<f.length;p++){var C=f[p];a.indexOf(C)!==-1&&(C=C.clone()),d.push(C)}if(h=I.singletonOrArray(d),null!=n.activityRegularizer)throw new A.NotImplementedError("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return h}var m=r(t),v=n.computeOutputShape(m),h=void 0,y=i(t);if(h=null!=v&&v.length>0&&Array.isArray(v[0])?v.map(function(r,i){return new S(y,r,n,I.toList(t),e,n.name,i)}):new S(y,v,n,I.toList(t),e,n.name),n.addInboundNode(t,h,null,null,m,v,e),null!=n.activityRegularizer)throw new A.NotImplementedError("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return h})},Object.defineProperty(e.prototype,"outputShape",{get:function(){if(null==this.inboundNodes||0===this.inboundNodes.length)throw new A.AttributeError("The layer "+this.name+" has never been called and thus has no defined output shape.");for(var t=[],e=0,n=this.inboundNodes;e<n.length;e++){var r=n[e],i=JSON.stringify(r.outputShapes);t.indexOf(i)===-1&&t.push(i)}if(1===t.length){var a=this.inboundNodes[0].outputShapes;return Array.isArray(a)&&Array.isArray(a[0])&&1===a.length?a[0]:a}throw new A.AttributeError("The layer "+this.name+' has multiple inbound nodes with different output shapes. Hence the notion of "outut shape" is ill-defined for the layer.')},enumerable:!0,configurable:!0}),e.prototype.countParams=function(){if(!this.built)throw new A.RuntimeError("You tried to call countParams() on "+this.name+", but the layer is not built yet. Build it first by calling build(batchInputShape).");return y.countParamsInWeights(this.weights)},e.prototype.build=function(t){this.built=!0},e.prototype.getWeights=function(t){return void 0===t&&(t=!1),b.batchGetValue(t?this.trainableWeights:this.weights)},e.prototype.setWeights=function(t){var e=this;d.tidy(function(){var n=e.weights;if(n.length!==t.length)throw new A.ValueError('You called setWeights(weights) on layer "'+e.name+'" '+("with a weight list of length "+t.length+", ")+("but the layer was expecting "+n.length+" weights. ")+("Provided weights: "+t+"..."));if(0!==n.length){for(var r=[],i=b.batchGetValue(n),a=0;a<i.length;++a){var o=i[a],s=n[a],l=t[a];if(!d.util.arraysEqual(o.shape,l.shape))throw new A.ValueError("Layer weight shape "+o.shape+" not compatible with provided weight shape "+l.shape);r.push([s,l])}b.batchSetValue(r)}})},e.prototype.addWeight=function(t,e,n,r,i,a,o){if(this._addedWeightNames.indexOf(t)!==-1)throw new A.ValueError("Duplicate weight name "+t+" for layer "+this.name);this._addedWeightNames.push(t),null==n&&(n="float32");var s=new b.LayerVariable(r.apply(e,n),n,t,a,o);return null!=i&&this.addLoss(function(){return i.apply(s.read())}),null==a&&(a=!0),a?this._trainableWeights.push(s):this._nonTrainableWeights.push(s),s},e.prototype.addLoss=function(t){if(!(null==t||Array.isArray(t)&&0===t.length)){t=I.toList(t),void 0!==this._losses&&null!==this._losses&&(e=this.losses).push.apply(e,t);var e}},e.prototype.computeOutputShape=function(t){return t},e.prototype.computeMask=function(t,e){var n=this;if(!this.supportsMasking){if(null!=e){if(!Array.isArray(e))throw new TypeError("Layer "+this.name+" does not support masking,but was passed an inputMask.");e.forEach(function(t){if(null!=t)throw new TypeError("Layer "+n.name+" does not support masking,but was passed an inputMask.")})}return null}return e},e.prototype.addInboundNode=function(t,e,n,r,i,a,o){void 0===o&&(o=null);var s=I.toList(t);e=I.toList(e),n=I.toList(n),r=I.toList(r),i=v.normalizeShapeList(i),a=v.normalizeShapeList(a);for(var l=[],u=[],c=[],h=0,g=s;h<g.length;h++){var d=g[h];l.push(d.sourceLayer),u.push(d.nodeIndex),c.push(d.tensorIndex)}new N({outboundLayer:this,inboundLayers:l,nodeIndices:u,tensorIndices:c,inputTensors:s,outputTensors:e,inputMasks:n,outputMasks:r,inputShapes:i,outputShapes:a},o);for(var p=0;p<e.length;p++)e[p].sourceLayer=this,e[p].nodeIndex=this.inboundNodes.length-1,e[p].tensorIndex=p},e.prototype.getConfig=function(){var t={name:this.name,trainable:this.trainable};return null!=this.batchInputShape&&(t.batchInputShape=this.batchInputShape),null!=this.dtype&&(t.dtype=this.dtype),t},g([d.doc({heading:"Models",subheading:"Classes"})],e.prototype,"apply",null),e=g([d.doc({heading:"Layers",subheading:"Classes",namespace:"layers"})],e)}(d.serialization.Serializable);e.Layer=k;var O=function(t){function e(e){var n=t.call(this,{dtype:e.dtype,name:null!=e.name?e.name:p.getUid("input").toString()})||this;if(null==e.batchSize&&(e.batchSize=null),null==e.sparse&&(e.sparse=!1),n.trainable=!1,n.built=!0,n.sparse=e.sparse,null!=e.inputShape&&null!=e.batchInputShape)throw new A.ValueError("Only provide the inputShape OR batchInputShape argument to inputLayer, not both at the same time.");var r=e.batchInputShape;if(null==r){if(null==e.inputShape)throw new A.ValueError("An InputLayer should be passed either a `batchInputShape` or an `inputShape`.");r=[e.batchSize].concat(e.inputShape)}else if(null!=e.batchSize)throw new A.ValueError("Cannot specify batchSize if batchInputShape isspecified when creating an InputLayer.");var i=e.dtype||"float32";n.batchInputShape=r,n.dtype=i,n.inputSpec=[{shape:r}];var a=new S(n.dtype,n.batchInputShape,n,[],{},n.name);return a.nodeIndex=0,a.tensorIndex=0,new N({outboundLayer:n,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:[a],outputTensors:[a],inputMasks:[null],outputMasks:[null],inputShapes:[r],outputShapes:[r]}),n}return h(e,t),e.prototype.apply=function(t,e){throw new A.ValueError("Cannot pass any input to an InputLayer's apply() method. InputLayer name: "+this.name)},e.prototype.getConfig=function(){return{batchInputShape:this.batchInputShape,dtype:this.dtype,sparse:this.sparse,name:this.name}},e.className="InputLayer",e}(k);e.InputLayer=O,d.serialization.SerializationMap.register(O),e.Input=a;var M=function(t){function e(n){var r=t.call(this,{})||this;if(r.containerNodes=new Set,r.name=n.name,null==r.name){var i=r.getClassName().toLowerCase();r.name=p.getUid(i)}if(r.supportsMasking=!1,r.trainable=!0,r.updatable=!0,Array.isArray(n.inputs)?r.inputs=n.inputs.slice():r.inputs=[n.inputs],Array.isArray(n.outputs)?r.outputs=n.outputs.slice():r.outputs=[n.outputs],I.unique(r.inputs).length!==r.inputs.length)throw new A.ValueError("The list of inputs passed to the model is redundant. All inputs should only appear once. Found: "+r.inputs.map(function(t){return t.name}));I.unique(r.outputs).length!==r.outputs.length&&console.warn("The list of outputs passed to the model is redundant. All outputs should only appear once. Found: "+r.outputs.map(function(t){return t.name})),r.inputLayers=[],r.inputLayersNodeIndices=[],r.inputLayersTensorIndices=[],r.outputLayers=[],r.outputLayersNodeIndices=[],r.outputLayersTensorIndices=[],r.layers=[];for(var a=0,o=r.outputs;a<o.length;a++){var s=o[a],l=s.sourceLayer,u=s.nodeIndex,c=s.tensorIndex;r.outputLayers.push(l),r.outputLayersNodeIndices.push(u),r.outputLayersTensorIndices.push(c)}for(var h=0,g=r.inputs;h<g.length;h++){var s=g[h],l=s.sourceLayer,u=s.nodeIndex,c=s.tensorIndex;I.assert(0===u,"input layer has >1 nodes"),I.assert(0===c,"input layer has >1 tensors"),r.inputLayers.push(l),r.inputLayersNodeIndices.push(u),r.inputLayersTensorIndices.push(c)}r.inputNames=[],r.outputNames=[],r.feedInputShapes=[],r.feedInputNames=[],r.feedOutputNames=[];for(var d=0;d<r.inputLayers.length;d++){var l=r.inputLayers[d];if(!(l instanceof O))throw new TypeError("Input layers to a Model must be InputLayer objects. "+("Received inputs: "+n.inputs+". ")+("Input "+d+" (0-based) originates ")+("from layer type "+l.getClassName()+"."));r.inputNames.push(l.name),r.feedInputShapes.push(l.batchInputShape),r.feedInputNames.push(l.name)}for(var f=0,C=r.outputLayers;f<C.length;f++){var l=C[f];r.outputNames.push(l.name)}r.internalInputShapes=r.inputs.map(function(t){return t.shape}),r.internalOutputShapes=r.outputs.map(function(t){return t.shape});for(var m={},v={},y={},b={},x={},w=[],S=(function(t,n,i,a,o,s){null!=a&&null!=o&&null!=s||(a=t.sourceLayer,o=t.nodeIndex,s=t.tensorIndex);var l=a.inboundNodes[o];if(i.indexOf(l)!==-1)throw new A.RuntimeError("The tensor "+t.name+' at layer "'+a.name+'" is part of a cycle.');if(n.indexOf(l)===-1){r.containerNodes.add(e.nodeKey(a,o)),a.id in x||(x[a.id]=Object.keys(x).length),i.indexOf(l)===-1&&i.push(l);for(var u=l.inboundLayers.length,c=0;c<u;c++){var h=l.inputTensors[c],g=l.inboundLayers[c],d=l.nodeIndices[c],p=l.tensorIndices[c];S(h,n,i,g,d,p)}for(n.push(l);i.indexOf(l)>=0;)i.splice(i.indexOf(l),1);w.push(l)}}),T=[],E=[],k=0,M=r.outputs;k<M.length;k++){var s=M[k];S(s,T,E)}for(var R=w.slice().reverse(),D=0,_=R;D<_.length;D++){var P=_[D];v[P.id]=P,P.id in m||(m[P.id]=0);var L=m[P.id],z=null==y[P.outboundLayer.id]?0:y[P.outboundLayer.id];L=Math.max(L,z),y[P.outboundLayer.id]=L,b[P.outboundLayer.id]=P.outboundLayer,m[P.id]=L;for(var d=0;d<P.inboundLayers.length;d++){var F=P.inboundLayers[d],u=P.nodeIndices[d],B=F.inboundNodes[u],V=null==m[B.id]?0:m[B.id];m[B.id]=Math.max(L+1,V),v[B.id]=B}}var j={};for(var W in m){var L=m[W];L in j||(j[L]=[]),j[L].push(v[W])}var G={};for(var U in y){var L=y[U];L in G||(G[L]=[]),G[L].push(b[U])}var H=Object.keys(G).map(function(t){return parseInt(t,10)}).sort(I.reverseNumberCompare);r.layers=[];for(var Z=0,Y=H;Z<Y.length;Z++){var L=Y[Z],X=G[L];X.sort(function(t,e){var n=x[t.id],r=x[e.id];return n<r?-1:n>r?1:0});for(var q=0,K=X;q<K.length;q++){var l=K[q];r.layers.push(l)}}r.layersByDepth=G,H=Object.keys(j).map(function(t){return parseInt(t,10)}).sort(I.reverseNumberCompare);for(var J=r.inputs.slice(),Q=[],$=0,tt=H;$<tt.length;$++)for(var L=tt[$],et=0,nt=j[L];et<nt.length;et++){var P=nt[et],l=P.outboundLayer;if(null!=l){for(var rt=0,it=P.inputTensors;rt<it.length;rt++){var s=it[rt];if(J.indexOf(s)===-1)throw new A.RuntimeError("Graph disconnected: cannot obtain value for tensor "+s+(' at layer "'+l.name+'". ')+"The following previous layers were accessed without issue: "+Q)}for(var at=0,ot=P.outputTensors;at<ot.length;at++){var s=ot[at];J.push(s)}Q.push(l.name)}}r.nodesByDepth=j;for(var st=r.layers.map(function(t){return t.name}),lt=function(t){var e=st.filter(function(e){return e===t}).length;if(1!==e)throw new A.RuntimeError('The name "'+t+'" is used '+e+" times in the model. All layer names should be unique. Layer names: "+JSON.stringify(st))},ut=0,ct=st;ut<ct.length;ut++){var ht=ct[ut];lt(ht)}return r.outboundNodes=[],r.inboundNodes=[],new N({outboundLayer:r,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:r.inputs,outputTensors:r.outputs,inputMasks:r.inputs.map(function(t){return null}),outputMasks:r.outputs.map(function(t){return null}),inputShapes:r.inputs.map(function(t){return t.shape}),outputShapes:r.outputs.map(function(t){return t.shape})}),r.built=!0,r}return h(e,t),Object.defineProperty(e.prototype,"trainableWeights",{get:function(){if(this._trainableWeights.length>0)throw new A.ValueError("Container instance unexpectedly contains _trainableWeights.The trainable weights of a Container are a union of the trainable weights of its consituent Layers. Its own _trainableWeights must remain an empty Array.");if(!this.trainable)return[];for(var t=[],e=0,n=this.layers;e<n.length;e++){var r=n[e];t=t.concat(r.trainableWeights)}return t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nonTrainableWeights",{get:function(){for(var t=[],e=0,n=this.layers;e<n.length;e++){var r=n[e];t.push.apply(t,r.nonTrainableWeights)}if(!this.trainable){for(var i=[],a=0,o=this.layers;a<o.length;a++){var r=o[a];i.push.apply(i,r.trainableWeights)}return i.concat(t)}return t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"weights",{get:function(){return this.trainableWeights.concat(this.nonTrainableWeights)},enumerable:!0,configurable:!0}),e.prototype.loadWeights=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=!1),n?u(t,this.layers):c(t,this.layers,e)},e.prototype.updatedConfig=function(){var t=this.getConfig(),e={className:this.getClassName(),config:t,kerasVersion:"tfjs-layers "+x.version,backend:"TensorFlow.js"};return e},e.prototype.toJSON=function(t,e){void 0===e&&(e=!0);var n=m.convertTsToPythonic(this.updatedConfig());return e?JSON.stringify(n):n},e.prototype.call=function(t,e){var n=this;return d.tidy(function(){t=I.toList(t);var r;return r="mask"in e?I.toList(e.mask):I.pyListRepeat(null,t.length),n.runInternalGraph(t,r)[0]})},e.prototype.computeMask=function(t,e){var n=this;return d.tidy(function(){t=I.toList(t);var r;return r=null==e?I.pyListRepeat(null,t.length):I.toList(e),n.runInternalGraph(t,r)[1]})},e.prototype.computeOutputShape=function(t){var e=v.normalizeShapeList(t);if(e.length!==this.inputLayers.length)throw new A.ValueError("Invalid inputShape argument "+t+": "+("model has "+this.inputLayers.length+" tensor inputs."));for(var n={},r=0;r<e.length;r++){var i=this.inputLayers[r],a=e[r],o=i.name+"_0_0";n[o]=a}var s=Object.keys(this.nodesByDepth).map(function(t){return parseInt(t,10)}).sort(I.reverseNumberCompare);if(s.length>1)for(var l=0,u=s;l<u.length;l++)for(var c=u[l],h=this.nodesByDepth[c],g=0,d=h;g<d.length;g++){var p=d[g],i=p.outboundLayer;if(this.inputLayers.map(function(t){return t.id}).indexOf(i.id)===-1){for(var f=[],C=0;C<p.inboundLayers.length;C++){var m=p.inboundLayers[C],y=p.nodeIndices[C],b=p.tensorIndices[C],o=m.name+"_"+y+"_"+b,x=n[o];f.push(x)}for(var w=i.computeOutputShape(I.singletonOrArray(f)),S=v.normalizeShapeList(w),T=i.inboundNodes.indexOf(p),C=0;C<S.length;C++){var o=i.name+"_"+T+"_"+C;n[o]=S[C]}}}for(var N=[],E=[],r=0;r<this.outputLayers.length;r++){var i=this.outputLayers[r],T=this.outputLayersNodeIndices[r],b=this.outputLayersTensorIndices[r],o=i.name+"_"+T+"_"+b;E.push(o)}for(var r=0;r<E.length;r++){var k=E[r];I.assert(k in n),N.push(n[k])}return I.singletonOrArray(N)},e.prototype.runInternalGraph=function(t,e){null==e&&(e=I.pyListRepeat(null,t.length));for(var n={},r=0;r<this.inputs.length;++r){var i=this.inputs[r],a=t[r],o=e[r];n[i.id]=[a,o]}for(var s=Object.keys(this.nodesByDepth).map(function(t){return parseInt(t,10)}).sort(I.reverseNumberCompare),l=0,u=s;l<u.length;l++)for(var c=u[l],h=this.nodesByDepth[c],g=0,d=h;g<d.length;g++){for(var p=d[g],f=p.outboundLayer,C=p.inputTensors,m=p.outputTensors,v=new Array,y=0,b=C;y<b.length;y++){var i=b[y];i.id in n&&v.push(n[i.id])}if(v.length===C.length){var x={},w=void 0,S=void 0,T=void 0,N=void 0;if(null!=p.callArgs&&(x=p.callArgs),1===v.length){var E=v[0],k=E[0],O=E[1];null==x.mask&&(x.mask=O),T=I.toList(f.call(k,x)),N=I.toList(f.computeMask(k,O)),w=[k],S=[O]}else w=v.map(function(t){return t[0]}),S=v.map(function(t){return t[1]}),null==x.mask&&(x.mask=S),T=I.toList(f.call(w,x)),N=I.toList(f.computeMask(w,S));if(f.activityRegularizer)throw new A.NotImplementedError("Model invocation with concrete Tensor value(s) in the presence of activity regularizer(s) is not supported yet.");for(var r=0;r<m.length;++r){var i=m[r],a=T[r],o=N[r];n[i.id]=[a,o]}}}for(var M=[],R=[],D=[],_=0,P=this.outputs;_<P.length;_++){var i=P[_];I.assert(i.id in n,"Could not compute output "+i.name+" : "+i.id);var L=n[i.id],z=L[0],o=L[1];D.push(z.shape),M.push(z),R.push(o)}return[M,R,D]},e.prototype.buildNodeConversionMap=function(t){for(var n,r={},i=0,a=this.layers;i<a.length;i++){var o=a[i];n=o instanceof e?1:0;for(var s=0;s<o.inboundNodes.length;s++){var l=e.nodeKey(o,s);l in this.containerNodes&&(r[l]=n,n+=1)}}return r},e.prototype.getLayer=function(t,e){if(null!=e){if(this.layers.length<=e)throw new A.ValueError("Was asked to retrieve layer at index "+e+", but model only "+("has "+this.layers.length+" layer(s)."));return this.layers[e]}if(null==t)throw new A.ValueError("Provide either a layer name or layer index");for(var n=0,r=this.layers;n<r.length;n++){var i=r[n];if(i.name===t)return i}throw new A.ValueError("No such layer: "+t)},e.prototype.calculateLosses=function(){var t=this;return d.tidy(function(){for(var n=[],r=0,i=t.layers;r<i.length;r++)for(var a=i[r],o=0;o<a.inboundNodes.length;++o){var s=e.nodeKey(a,o);t.containerNodes.has(s)&&n.push.apply(n,a.calculateLosses())}return n})},e.prototype.getConfig=function(){for(var t={name:this.name},n=this.buildNodeConversionMap(this.layers),r=[],i=0,a=this.layers;i<a.length;i++){for(var o=a[i],s=o.getClassName(),l=o.getConfig(),u=[],c=0;c<o.inboundNodes.length;c++){var h=o.inboundNodes[c],g=e.nodeKey(o,c),d={};if(this.containerNodes.has(g)){if(h.callArgs){var p=JSON.stringify(h.callArgs);p.indexOf("undefined")===-1?d=h.callArgs:(console.warn("Layer "+o.name+" was passed non-serializable keyword arguments: "+(h.callArgs+". They will not be included ")+"in the serialized model (and thus will be missing at deserialization time)."),d={})}if(h.inboundLayers.length>0){for(var f=[],A=0;A<h.inboundLayers.length;A++){var C=h.inboundLayers[A],I=h.nodeIndices[A],m=h.tensorIndices[A],v=e.nodeKey(C,I),y=n[v];null!==y&&void 0!==y||(y=0),f.push([C.name,y,m,d])}u.push(f)}}}r.push({name:o.name,className:s,config:l,inboundNodes:u})}t.layers=r;for(var b=[],A=0;A<this.inputLayers.length;A++){var o=this.inputLayers[A],I=this.inputLayersNodeIndices[A],g=e.nodeKey(o,I);if(this.containerNodes.has(g)){var y=n[g];null!==y&&void 0!==y||(y=0);var m=this.inputLayersTensorIndices[A];b.push([o.name,y,m])}}t.inputLayers=b;for(var x=[],A=0;A<this.outputLayers.length;A++){var o=this.outputLayers[A],I=this.outputLayersNodeIndices[A],g=e.nodeKey(o,I);if(this.containerNodes.has(g)){var y=n[g];null!==y&&void 0!==y||(y=0);var m=this.outputLayersTensorIndices[A];x.push([o.name,y,m])}}return t.outputLayers=x,t},e.fromConfig=function(t,e){function n(t,e){t.name in o?o[t.name].push(e):o[t.name]=[e]}function r(t,e){for(var r,i=[],o=0,s=e;o<s.length;o++){var l=s[o],u=l[0],c=l[1],h=l[2];if(3===l.length)r={};else{if(4!==l.length)throw new A.ValueError("Improperly formatted model config for layer "+JSON.stringify(t)+": "+JSON.stringify(l));r=l[3]}if(!(u in a))return void n(t,e);var g=a[u];if(g.inboundNodes.length<=c)return void n(t,e);var d=g.inboundNodes[c];i.push(d.outputTensors[h])}i.length>0&&t.apply(I.singletonOrArray(i),r)}function i(t){var r=t.name,i=C.deserialize(t,null!=e.customObjects?e.customObjects:{});a[r]=i;for(var o=t.inboundNodes,s=0,l=o;s<l.length;s++){var u=l[s];if(!(u instanceof Array))throw new A.ValueError("Corrupted configuration, expected array for nodeData: "+u);n(i,u)}}for(var a={},o={},s=e.name,l=e.layers,u=0,c=l;u<c.length;u++){var h=c[u];i(h)}for(;!I.isObjectEmpty(o);)for(var g=0,d=l;g<d.length;g++){var h=d[g],p=a[h.name];if(p.name in o){for(var f=0,m=o[p.name];f<m.length;f++){var v=m[f];r(p,v)}delete o[p.name]}}for(var y=[],b=[],x=e.inputLayers,w=0,S=x;w<S.length;w++){
var h=S[w],T=h[0],N=h[1],E=h[2];I.assert(T in a);var p=a[T],k=p.inboundNodes[N].outputTensors;y.push(k[E])}for(var O=e.outputLayers,M=0,R=O;M<R.length;M++){var h=R[M],T=h[0],N=h[1],E=h[2];I.assert(T in a);var p=a[T],k=p.inboundNodes[N].outputTensors;b.push(k[E])}return new t({inputs:y,outputs:b,name:s})},Object.defineProperty(e.prototype,"stateful",{get:function(){if(this._stateful)throw new A.ValueError("Container instance unexpectedly has _stateful = true. The statefulness of a Container is determined by the Layers it contains. Its _stateful property must remain the default false.");for(var t=0,e=this.layers;t<e.length;t++){var n=e[t];if(n.stateful)return!0}return!1},enumerable:!0,configurable:!0}),g([d.doc({heading:"Layers",subheading:"Classes",namespace:"layers",subclasses:["Model"]})],e.prototype,"getLayer",null),e}(k);e.Container=M,e.getSourceInputs=o,e.loadWeightsFromNamedTensorMap=u,e.loadWeightsFromJson=c},function(t,e,n){"use strict";function r(t){h.checkStringTypeUnionValue(e.VALID_DATA_FORMAT_VALUES,"DataFormat",t)}function i(t){h.checkStringTypeUnionValue(e.VALID_PADDING_MODE_VALUES,"PaddingMode",t)}function a(t){h.checkStringTypeUnionValue(e.VALID_POOL_MODE_VALUES,"PoolMode",t)}function o(t,e){d.push(t);try{var n=e();return d.pop(),n}catch(t){throw d.pop(),t}}function s(){return 0===d.length?"":d.join(p)+p}function l(t){if(!c(t))throw new Error("Not a valid tensor name: '"+t+"'");return s()+t}function u(t){if(!c(t))throw new Error("Not a valid tensor name: '"+t+"'");g.has(t)||g.set(t,0);var e=g.get(t);if(g.set(t,g.get(t)+1),e>0){var n=t+"_"+e;return g.set(n,1),n}return t}function c(t){return!!t.match(f)}Object.defineProperty(e,"__esModule",{value:!0});var h=n(653),g=new Map;e.VALID_DATA_FORMAT_VALUES=["channelsFirst","channelsLast"],e.checkDataFormat=r,e.VALID_PADDING_MODE_VALUES=["valid","same","causal"],e.checkPaddingMode=i,e.VALID_POOL_MODE_VALUES=["max","avg"],e.checkPoolMode=a;var d=[],p="/";e.nameScope=o,e.getScopedTensorName=l,e.getUniqueTensorName=u;var f=new RegExp(/^[A-Za-z][A-Za-z0-9\._\/]*$/);e.isValidTensorName=c},function(t,e,n){"use strict";function r(t,e){return void 0===e&&(e={}),a.deserializeKerasObject(t,i.serialization.SerializationMap.getMap().classNameMap,e,"layer")}Object.defineProperty(e,"__esModule",{value:!0});var i=n(505),a=n(653);e.deserialize=r},function(t,e,n){"use strict";function r(t,e,n){return("inboundNodes"===t||"outputLayers"===t||"inputLayers"===t)&&0===e&&"string"==typeof n}function i(t,e){if(null===t)return null;if("string"==typeof t)return o.toCamelCase(t);if("number"==typeof t||"boolean"==typeof t)return t;if(t instanceof Array){for(var n=[],a=t.length,s=0;s<a;++s){var l=t[s];r(e,s,l)?n.push(l):n.push(i(l,e))}return n}for(var u={},c=0,h=Object.keys(t);c<h.length;c++){var g=h[c],d=t[g];if("name"===g&&"string"==typeof d)u[g]=d;else{var p=o.toCamelCase(g);u[p]=i(d,p)}}return u}function a(t,e){if(null===t||void 0===t)return null;if("string"==typeof t)return o.toSnakeCase(t);if("number"==typeof t||"boolean"==typeof t)return t;if(t instanceof Array){for(var n=[],i=t.length,s=0;s<i;++s){var l=t[s];r(e,s,l)?n.push(l):n.push(a(l,e))}return n}for(var u={},c=0,h=Object.keys(t);c<h.length;c++){var g=h[c],d=t[g],p=o.toSnakeCase(g);"name"!==g&&"className"!==g||"string"!=typeof d?u[p]=a(d,g):u[p]=d}return u}Object.defineProperty(e,"__esModule",{value:!0});var o=n(653);e.convertPythonicToTs=i,e.convertTsToPythonic=a},function(t,e,n){"use strict";function r(t){return Array.isArray(t)&&Array.isArray(t[0])}function i(t){return 0===t.length?[]:Array.isArray(t[0])?t:[t]}function a(t){var e;if(Array.isArray(t)){if(1!==t.length)throw new s.ValueError("Expected Tensor length to be 1; got "+t.length);e=t[0]}else e=t;return e}function o(t){if(Array.isArray(t)&&Array.isArray(t[0])){if(1===t.length)return t=t,t[0];throw new s.ValueError("Expected exactly 1 Shape; got "+t.length)}return t}Object.defineProperty(e,"__esModule",{value:!0});var s=n(654);e.isArrayOfShapes=r,e.normalizeShapeList=i,e.getExactlyOneTensor=a,e.getExactlyOneShape=o},function(t,e){"use strict";function n(t){for(var e=0,n=0,r=t;n<r.length;n++){var i=r[n];e+=0===i.shape.length?1:i.shape.reduce(function(t,e){return t*e})}return e}Object.defineProperty(e,"__esModule",{value:!0}),e.countParamsInWeights=n},function(t,e,n){"use strict";function r(t,e){if(t.shape.toString()!==e.shape.toString())throw new Error("Shape mismatch: "+JSON.stringify(t.shape)+" vs. "+JSON.stringify(e.shape))}function i(t,e,n,r){return new S(t,e,n,!0,r)}function a(t,e,n){return new S(m.zeros(t),e,n)}function o(t,e,n){return new S(m.zerosLike(t),e,n)}function s(t,e,n){var r=m.ones(t);return new S(r,e,n)}function l(t,e,n){var r=m.onesLike(t);return new S(r,e,n)}function u(t,e,n){return new S(m.eye(t),e,n)}function c(t,e,n,r,i,a){return void 0===a&&(a="randomUniform"),new S(m.randomUniform(t,e,n,r),r,a)}function h(t,e,n,r,i,a){if(void 0===e&&(e=0),void 0===n&&(n=1),void 0===a&&(a="truncatedNormal"),"bool"===r)throw new x.NotImplementedError("randomNormal does not support dType bool.");return new S(m.truncatedNormal(t,e,n,r,i),r,a)}function g(t,e,n,r,i,a){if(void 0===e&&(e=0),void 0===n&&(n=1),void 0===a&&(a="randomNormal"),"bool"===r)throw new x.NotImplementedError("randomNormalVariable does not support dType bool.");return new S(m.randomNormal(t,e,n,r,i),r,a)}function d(t,e){return t.write(e)}function p(t,e){return t.write(m.add(t.read(),e))}function f(t,e){return t.write(m.sub(t.read(),e))}function A(t){return t.map(function(t){return t.read()})}function C(t){t.map(function(t){var e=t[0];e.write(t[1])})}function I(t,e){var n=e.map(function(t){return t.read()}),r=v.variableGrads(t,n);return e.map(function(t){return r.grads[t.name]})}Object.defineProperty(e,"__esModule",{value:!0});var m=n(505),v=n(505),y=n(652),b=n(656),x=n(654),w="Variable",S=function(){function t(t,e,n,r,i){void 0===e&&(e="float32"),void 0===n&&(n=w),void 0===r&&(r=!0),void 0===i&&(i=null),this.dtype=null==e?"float32":e,this.shape=t.shape,this.id=y.getNextUniqueTensorId(),n=null==n?w:n,this.originalName=b.getScopedTensorName(n),this.name=b.getUniqueTensorName(this.originalName),this.trainable=r,this.constraint=i,this.val=m.variable(t,this.trainable,this.name,this.dtype)}return t.prototype.read=function(){return this.val},t.prototype.write=function(t){return r(this.val,t),this.val.assign(t),null!=this.constraint&&this.val.assign(this.constraint.apply(this.val)),this},t}();e.LayerVariable=S,e.variable=i,e.zerosVariable=a,e.zerosLike=o,e.onesVariable=s,e.onesLike=l,e.eyeVariable=u,e.randomUniformVariable=c,e.truncatedNormalVariable=h,e.randomNormalVariable=g,e.update=d,e.updateAdd=p,e.updateSub=f,e.batchGetValue=A,e.batchSetValue=C,e.gradients=I},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n="0.7.0";e.version=n},function(t,e,n){"use strict";function r(t){return t instanceof m.Tensor}function i(t){return Array.isArray(t)}function a(t){return!r(t)&&!i(t)}function o(t,e,n,r,o){if(void 0===r&&(r=!0),void 0===o&&(o=""),null==e||0===e.length){if(null!=t){var s=!1;if(i(t)&&t.length>0)s=!0;else if(a(t)){for(var l in t)if(t.hasOwnProperty(l)){s=!0;break}}else s=!0;if(s)throw new w.ValueError("Error when checking model "+o+" expected no data, but got "+t)}return[]}if(null==t)return e.map(function(t){return null});var u;if(a(t)){t=t,u=[];for(var c=0,h=e;c<h.length;c++){var g=h[c];if(null==t[g])throw new w.ValueError('No data provided for "'+g+'". Need data for each key in: '+e);u.push(t[g])}}else if(i(t)){if(t=t,t.length!==e.length)throw new w.ValueError("Error when checking model "+o+": the Array of Tensors that you are passing to your model is not the size the "+("model expected. Expected to see "+e.length+" Tensor(s), but ")+("instead got the following list of Tensor(s): "+t));u=t}else{if(t=t,e.length>1)throw new w.ValueError("The model "+o+" expects "+e.length+" Tensor(s), but only received one Tensor. Found: Tensor with shape "+t.shape);u=[t]}for(var d=0;d<e.length;++d){var p=u[d];1===p.shape.length&&(u[d]=y.expandDims(p,1))}if(null!=n)for(var d=0;d<e.length;++d)if(null!=n[d]){var p=u[d];if(p.shape.length!==n[d].length)throw new w.ValueError("Error when checking "+o+": expected "+e[d]+" "+("to have "+n[d].length+" dimension(s). but got array with ")+("shape "+p.shape));for(var f=0;f<n[d].length;++f)if(0!==f||r){var A=p.shape[f],C=n[d][f];if(null!=C&&C>=0&&A!==C)throw new w.ValueError("Error when checking "+o+": expected "+e[d]+" "+("to have shape ["+n[d]+"], but got array with shape ")+("["+p.shape+"]."))}}return u}function s(t,e,n){var r=k.unique(t.map(function(t){return t.shape[0]}));r.sort();var i=k.unique(e.map(function(t){return t.shape[0]}));if(i.sort(),r.length>1)throw new w.ValueError("All input Tensors (x) should have the same number of samples. Got array shapes: "+JSON.stringify(t.map(function(t){return t.shape})));if(i.length>1)throw new w.ValueError("All target Tensors (y) should have the same number of samples. Got array shapes: "+JSON.stringify(e.map(function(t){return t.shape})));if(r.length>0&&i.length>0&&!m.util.arraysEqual(r,i))throw new w.ValueError("Input Tensors should have the same number of samples as target "+("Tensors. Found "+r[0]+" input sample(s) and "+i[0]+" target ")+"sample(s).")}function l(t,e,n){for(var r=[T.meanSquaredError,T.binaryCrossentropy,T.categoricalCrossentropy],i=0;i<t.length;++i){var a=t[i],o=e[i],s=n[i];if(null!=o){if(o===T.categoricalCrossentropy&&1===a.shape[a.shape.length-1])throw new w.ValueError("You are passing a target array of shape "+a.shape+" while using a loss 'categorical_crossentropy'. 'categorical_crossentropy'expects targets to be binary matrices (1s and 0s) of shape [samples, classes].");if(r.indexOf(o)!==-1)for(var l=a.shape.slice(1),u=s.slice(1),c=0;c<l.length;++c){var h=l[c],g=u[c];if(null!=g&&h!==g)throw new w.ValueError("A target Tensor with shape "+a.shape+" was passed for an "+("output of shape "+s+", while using a loss function that ")+"expects targets to have the same shape as the output.")}}}}function u(t,e){for(var n=[],r=0,i=null;r<t;)i=r+e,i>=t&&(i=t),n.push([r,i]),r=i;return n}function c(t,e,n){return null==t?[null]:Array.isArray(t)?t.map(function(t){return y.sliceAlongFirstAxis(t,e,n-e)}):y.sliceAlongFirstAxis(t,e,n-e)}function h(t,e){return I.tidy(function(){return null==t?null:Array.isArray(t)?t.map(function(t){return h(t,e)}):y.gather(t,"int32"===e.dtype?e:e.toInt())})}function g(t,e,n,r,i){void 0===r&&(r=!0),void 0===i&&(i="");var a;if(Array.isArray(t)){if(t.length!==e.length)throw new w.ValueError("Error when checking model "+i+": the Array of Tensors that you are passing to your model is not the size the "+("the model expected. Expected to see "+e.length+" Tensor(s),")+(" but instead got "+t.length+" Tensors(s)."));a=t}else{if(e.length>1)throw new w.ValueError("The model expects "+e.length+" "+i+" Tensors, but only received one Tensor. Found: array with shape "+(JSON.stringify(t.shape)+"."));a=[t]}if(null!=n)for(var o=0;o<e.length;++o)if(null!=n[o]){var s=a[o];if(s.shape.length!==n[o].length)throw new w.ValueError("Error when checking "+i+": expected "+e[o]+" "+("to have "+n[o].length+" dimension(s), but got array with ")+("shape "+JSON.stringify(s.shape)));for(var l=0;l<n[o].length;++l)if(0!==l||r){var u=s.shape[l],c=n[o][l];if(null!=c&&c!==u)throw new w.ValueError("Error when checking "+i+": expected "+(e[o]+" to have shape "+JSON.stringify(n[o])+" but ")+("got array with shape "+JSON.stringify(s.shape)+"."))}}}function d(t,e){if(null==t||Array.isArray(t)&&0===t.length)return e.map(function(t){return[]});if(Array.isArray(t))return e.map(function(e){return t});if(null!=t){for(var n=[],r=0,i=e;r<i.length;r++){var a=i[r],o=t.hasOwnProperty(a)?t[a]:[];Array.isArray(o)||(o=[o]),n.push(o)}return n}throw new TypeError("Type of metrics argument not understood. Expected an Array or Object, found: "+t)}var p=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),f=this&&this.__decorate||function(t,e,n,r){var i,a=arguments.length,o=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(o=(a<3?i(o):a>3?i(e,n,o):i(e,n))||o);return a>3&&o&&Object.defineProperty(e,n,o),o},A=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,a){function o(t){try{l(r.next(t))}catch(t){a(t)}}function s(t){try{l(r.throw(t))}catch(t){a(t)}}function l(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(o,s)}l((r=r.apply(t,e||[])).next())})},C=this&&this.__generator||function(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;l;)try{if(i=1,a&&(o=a[2&n[0]?"return":n[0]?"throw":"next"])&&!(o=o.call(a,n[1])).done)return o;switch(a=0,o&&(n=[0,o.value]),n[0]){case 0:case 1:o=n;break;case 4:return l.label++,{value:n[1],done:!1};case 5:l.label++,a=n[1],n=[0];continue;case 7:n=l.ops.pop(),l.trys.pop();continue;default:if(o=l.trys,!(o=o.length>0&&o[o.length-1])&&(6===n[0]||2===n[0])){l=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3])){l.label=n[1];break}if(6===n[0]&&l.label<o[1]){l.label=o[1],o=n;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(n);break}o[2]&&l.ops.pop(),l.trys.pop();continue}n=e.call(t,l)}catch(t){n=[6,t],a=0}finally{i=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,a,o,s,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(e,"__esModule",{value:!0});var I=n(505),m=n(505),v=n(652),y=n(664),b=n(666),x=n(656),w=n(654),S=n(667),T=n(668),N=n(669),E=n(670),k=n(653),O=n(671),M=n(665),R=n(672),D=n(655);e.isDataTensor=r,e.isDataArray=i,e.isDataDict=a,e.standardizeInputData=o,e.checkArrayLengths=s,e.makeBatches=u,e.sliceArraysByIndices=h;var _;!function(t){t[t.SILENT=0]="SILENT",t[t.VERBOSE=1]="VERBOSE"}(_=e.ModelLoggingVerbosity||(e.ModelLoggingVerbosity={}));var P=function(t){function e(e){return t.call(this,e)||this}return p(e,t),e.prototype.summary=function(t,e,n){if(void 0===n&&(n=console.log),!this.built)throw new w.ValueError("This model has never been called, thus its weights have not been created yet. So no summary can be displayed. Build the model first (e.g., by calling it on some test data).");O.printSummary(this,t,e,n)},e.prototype.compile=function(t){var e=this;if(null==t.loss&&(t.loss=[]),this.loss=t.loss,"string"==typeof t.optimizer)this.optimizer=E.getOptimizer(t.optimizer);else{if(!(t.optimizer instanceof m.Optimizer))throw new w.ValueError("User-defined optimizer must be an instance of tf.Optimizer.");this.optimizer=t.optimizer}var n=[];if(Array.isArray(t.loss)||"string"==typeof t.loss||"function"==typeof t.loss)if(Array.isArray(t.loss)){if(t.loss.length!==this.outputs.length)throw new w.ValueError("When passing an Array as loss, it should have one entry per "+("model output. The model has "+this.outputs.length+" output(s), ")+("but you passed loss="+t.loss+"."));var r=t.loss;n=r.map(function(t){return T.get(t)})}else{var i=T.get(t.loss);this.outputs.map(function(t){n.push(i)})}else{t.loss=t.loss;for(var a in t.loss)if(this.outputNames.indexOf(a)===-1)throw new w.ValueError('Unknown entry in loss dictionary: "'+a+'". Only expect the following keys: '+this.outputNames);for(var o in this.outputNames)null==t.loss[o]&&console.warn('Output "'+o+'" is missing from loss dictionary. We assume this was done on purpose, and we will not be expecting data '+("to be passed to "+o+" during training")),n.push(T.get(t.loss[o]))}this.lossFunctions=n,this.feedOutputNames=[],this.feedOutputShapes=[],this.feedLossFns=[];for(var s=0;s<this.outputs.length;++s){var l=this.internalOutputShapes[s],u=this.outputNames[s];this.feedOutputNames.push(u),this.feedOutputShapes.push(l),this.feedLossFns.push(this.lossFunctions[s])}var c=[];this.metrics=t.metrics,this.metricsNames=["loss"],this.metricsTensors=[],x.nameScope("loss",function(){for(var t=0;t<e.outputs.length;++t)if(c.indexOf(t)===-1){var n=e.lossFunctions[t];e.outputs.length>1&&(e.metricsTensors.push([n,t]),e.metricsNames.push(e.outputNames[t]+"_loss"))}});var h=d(t.metrics,this.outputNames),g=function(t,n,r){e.outputNames.length>1&&(n=e.outputNames[t]+"_"+n),e.metricsNames.push(n),e.metricsTensors.push([r,t])};x.nameScope("metric",function(){for(var t=function(t){if(c.indexOf(t)!==-1)return"continue";var n=h[t],r=function(n){for(var r,i,a,o="",s=function(n){if(["accuracy","acc","crossentropy","ce"].indexOf(n)!==-1){var s=e.internalOutputShapes[t];1===s[s.length-1]||e.lossFunctions[t]===T.binaryCrossentropy?["accuracy","acc"].indexOf(n)!==-1?i=N.binaryAccuracy:["crossentropy","ce"].indexOf(n)!==-1&&(i=N.binaryCrossentropy):e.lossFunctions[t]===T.sparseCategoricalCrossentropy?["accuracy","acc"].indexOf(n)!==-1?i=N.sparseCategoricalAccuracy:["crossentropy","ce"].indexOf(n)!==-1&&(i=N.sparseCategoricalCrossentropy):["accuracy","acc"].indexOf(n)!==-1?i=N.categoricalAccuracy:["crossentropy","ce"].indexOf(n)!==-1&&(i=N.categoricalCrossentropy);var l=void 0;["accuracy","acc"].indexOf(n)!==-1?l="acc":["crossentropy","ce"].indexOf(n)!==-1&&(l="ce"),a=i,r=o+l}else{var u=N.get(n);a=u,r=o+n}var c;x.nameScope(r,function(){c=a}),g(t,r,c)},l=0,u=n;l<u.length;l++){var c=u[l];s(c)}};r(n)},n=0;n<e.outputs.length;++n)t(n)}),this.collectedTrainableWeights=this.trainableWeights},e.prototype.checkTrainableWeightsConsistency=function(){null!=this.collectedTrainableWeights&&this.trainableWeights.length!==this.collectedTrainableWeights.length&&console.warn("Discrepancy between trainableweights and collected trainable weights. Did you set `model.trainable` without calling `model.compile()` afterwards?")},e.prototype.evaluate=function(t,e,n){void 0===n&&(n={});var r=null==n.batchSize?32:n.batchSize,i=this.standardizeUserData(t,e,!0,r),a=i[0].concat(i[1]);this.makeTestFunction();var o=this.testFunction,s=this.testLoop(o,a,r,n.verbose,n.steps);return k.singletonOrArray(s)},e.prototype.checkNumSamples=function(t,e,n,r){void 0===r&&(r="steps");var i;if(null!=n){if(i=null,null!=e)throw new w.ValueError("If "+r+" is set, batchSize must be null or undefined.Got batchSize = "+e)}else{if(null==t)throw new w.ValueError("Either the input data should have a defined shape, or "+(r+" shoud be specified."));i=Array.isArray(t)?t[0].shape[0]:t.shape[0]}return i},e.prototype.execute=function(t,e){if(Array.isArray(e)&&0===e.length)throw new w.ValueError("`outputs` is an empty Array, which is not allowed.");var n=Array.isArray(e),r=n?e:[e],i=this.retrieveSymbolicTensors(r),a=new R.FeedDict;if(t instanceof m.Tensor&&(t=[t]),Array.isArray(t)){if(t.length!==this.inputs.length)throw new w.ValueError("The number of inputs provided ("+t.length+") does not match the number of inputs of this model "+("("+this.inputs.length+")."));for(var o=0;o<this.inputs.length;++o)a.add(this.inputs[o],t[o])}else for(var s=0,l=this.inputs;s<l.length;s++){var u=l[s],c=t[u.name];if(null==c)throw new w.ValueError("No value is provided for the model's input "+u.name);a.add(u,c)}var h=R.execute(i,a);return n?h:h[0]},e.prototype.retrieveSymbolicTensors=function(t){for(var e=k.pyListRepeat(null,t.length),n=t.length,r=0,i=this.layers;r<i.length;r++){for(var a=i[r],o=Array.isArray(a.output)?a.output:[a.output],s=o.map(function(t){return t.name}),l=0;l<t.length;++l){var u=s.indexOf(t[l]);if(u!==-1&&(e[l]=o[u],n--),0===n)break}if(0===n)break}if(n>0){var c=[];throw e.forEach(function(e,n){null==e&&c.push(t[n])}),new w.ValueError("Cannot find SymbolicTensors for output name(s): "+JSON.stringify(c))}return e},e.prototype.predictLoop=function(t,e,n){var r=this;return void 0===e&&(e=32),void 0===n&&(n=!1),I.tidy(function(){var i=r.checkNumSamples(t);if(n)throw new w.NotImplementedError("Verbose predictLoop() is not implemented yet.");for(var a=u(i,e),o=[],s=function(e){var n=I.tidy(function(){var n=a[e][0],i=a[e][1],o=c(t,n,i),s=[];if(Array.isArray(o))for(var l=0;l<o.length;++l)s.push({key:r.inputs[l],value:o[l]});else s.push({key:r.inputs[0],value:o});var u=new R.FeedDict(s);return R.execute(r.outputs,u)});if(0===e)for(var i=0,s=n;i<s.length;i++){var l=s[i];o.push(l)}else for(var u=0;u<n.length;++u)o[u]=y.concatAlongFirstAxis(o[u],n[u])},l=0;l<a.length;++l)s(l);return k.singletonOrArray(o)})},e.prototype.predict=function(t,e){void 0===e&&(e={}),g(t,this.inputNames,this.feedInputShapes,!1);var n=null==e.batchSize?32:e.batchSize;return this.predictLoop(t,n)},e.prototype.predictOnBatch=function(t){return g(t,this.inputNames,this.feedInputShapes,!0),this.predictLoop(t,t.shape[0])},e.prototype.standardizeUserData=function(t,e,n,r){if(void 0===n&&(n=!0),null==this.optimizer)throw new w.RuntimeError("You must compile a model before training/testing. Use Model.compile(modelCompileConfig).");for(var i=[],a=0;a<this.feedOutputShapes.length;++a){var u=this.feedOutputShapes[a],c=this.feedLossFns[a];c===T.sparseCategoricalCrossentropy?i.push(u.slice(0,u.length-1).concat([1])):i.push(u)}if(t=o(t,this.feedInputNames,this.feedInputShapes,!1,"input"),e=o(e,this.feedOutputNames,i,!1,"target"),s(t,e,null),l(e,this.feedLossFns,this.feedOutputShapes),this.stateful&&null!=r&&r>0&&t[0].shape[0]%r!==0)throw new w.ValueError("In a stateful network, you should only pass inputs with a number of samples that is divisible by the batch size "+(r+". Found: "+t[0].shape[0]+" sample(s)."));return[t,e,null]},e.prototype.fitLoop=function(t,e,n,r,i,a,o,s,l,c,g,d,p,f){return void 0===d&&(d=0),A(this,void 0,void 0,function(){var A,v,x,T,N,E,k,O,R=this;return C(this,function(D){switch(D.label){case 0:if(null==r&&(r=32),null==i&&(i=1),null==c&&(c=!0),null==d&&(d=0),A=!1,null!=s&&null!=l&&(A=!0),null!=f&&(A=!0,null==p))throw new w.ValueError("Can only use `validationSteps` when doing step-wise training, i.e., `stepsPerEpoch` must be set.");if(v=this.checkNumSamples(e,r,p,"steps_per_epoch"),null!=v&&(x=M.range(0,v)),this.history=new b.History,o=null==o?[new b.BaseLogger]:[new b.BaseLogger].concat(o),o=o.concat([this.history]),a>0)throw new w.NotImplementedError("Verbose mode is not implemented yet.");return T=new b.CallbackList(o),T.setModel(this),T.setParams({epochs:i,steps:p,verbose:a,doValidation:A,metrics:g}),[4,T.onTrainBegin()];case 1:D.sent(),this.stopTraining=!1,N=function(i){var a,o,g,d,f,b;return C(this,function(N){switch(N.label){case 0:return[4,T.onEpochBegin(i)];case 1:if(N.sent(),a={},null==p)return[3,2];throw new w.NotImplementedError("stepsPerEpoch mode is not implemented yet.");case 2:if("batch"===c)throw new w.NotImplementedError("batch shuffling is not implemneted yet");c&&m.util.shuffle(x),o=m.tensor1d(x),g=u(v,r),d=function(i){var u;return C(this,function(c){switch(c.label){case 0:return u={},[4,T.onBatchBegin(i,u)];case 1:return c.sent(),I.tidy(function(){var c=g[i][0],d=g[i][1],p=y.sliceAlongFirstAxis(o,c,d-c);u.batch=i,u.size=d-c;for(var f=h(e,p),C=t(f),m=0;m<n.length;++m){var v=n[m],b=C[m];u[v]=b,I.keep(b)}if(i===g.length-1&&A)for(var x=R.testLoop(s,l,r),m=0;m<n.length;++m){var v=n[m],b=x[m];I.keep(b),a["val_"+v]=b}}),[4,T.onBatchEnd(i,u)];case 2:return c.sent(),S.disposeTensorsInLogs(u),E.stopTraining?[2,"break"]:[2]}})},f=0,N.label=3;case 3:return f<g.length?[5,d(f)]:[3,6];case 4:if(b=N.sent(),"break"===b)return[3,6];N.label=5;case 5:return++f,[3,3];case 6:o.dispose(),N.label=7;case 7:return[4,T.onEpochEnd(i,a)];case 8:return N.sent(),E.stopTraining?[2,"break"]:[2]}})},E=this,k=d,D.label=2;case 2:return k<i?[5,N(k)]:[3,5];case 3:if(O=D.sent(),"break"===O)return[3,5];D.label=4;case 4:return++k,[3,2];case 5:return[4,T.onTrainEnd()];case 6:return D.sent(),[4,this.history.syncData()];case 7:return D.sent(),[2,this.history]}})})},e.prototype.testLoop=function(t,e,n,r,i){var a=this;return void 0===r&&(r=0),I.tidy(function(){var o=a.checkNumSamples(e,n,i,"steps"),s=[];if(1===r)throw new w.NotImplementedError("Verbose mode is not implemented yet.");if(null!=i)throw new w.NotImplementedError("steps mode in testLoop() is not implemented yet");for(var l=u(o,n),c=m.tensor1d(M.range(0,o)),g=0;g<l.length;++g){var d=l[g][0],p=l[g][1],f=y.sliceAlongFirstAxis(c,d,p-d),A=h(e,f),C=t(A);if(0===g)for(var b=0;b<C.length;++b)s.push(v.getScalar(0));for(var b=0;b<C.length;++b){var x=C[b];s[b]=I.add(s[b],I.mul(v.getScalar(p-d),x))}}for(var b=0;b<s.length;++b)s[b]=I.div(s[b],v.getScalar(o));return s})},e.prototype.getDedupedMetricsNames=function(){for(var t=this.metricsNames,e=[],n=0;n<t.length;++n){var r=t[n],i=r;if(k.count(t,r)>1){var a=k.count(t.slice(0,n),r);i+="_"+a}e.push(i)}return e},e.prototype.makeTestFunction=function(){var t=this;this.testFunction=function(e){return I.tidy(function(){for(var n,r=[],i=e.slice(0,t.inputs.length),a=e.slice(t.inputs.length,t.inputs.length+t.outputs.length),o=[],s=0;s<t.inputs.length;++s)o.push({key:t.inputs[s],value:i[s]});for(var l=new R.FeedDict(o),u=R.execute(t.outputs,l),s=0;s<t.lossFunctions.length;++s){var c=t.lossFunctions[s],h=I.mean(c(a[s],u[s]));n=0===s?h:I.add(n,h),r.push(n)}for(var s=0;s<t.metricsTensors.length;++s){var g=t.metricsTensors[s][0],d=t.metricsTensors[s][1],p=I.mean(g(a[d],u[d]));r.push(p)}return r})}},e.prototype.fit=function(t,e,n){return void 0===n&&(n={}),A(this,void 0,void 0,function(){var r,i,a,o,s,l,u,h,g,d,p,f,A,m,v,y,x,S,T,N=this;return C(this,function(C){switch(C.label){case 0:if(r=null==n.batchSize?32:n.batchSize,i=this.standardizeUserData(t,e,!1,r),a=i[0],o=i[1],s=!1,g=!1,null!=n.validationData&&n.validationData.length>0){if(s=!0,2!==n.validationData.length)throw 3===n.validationData.length?new w.NotImplementedError("validationData including sample weights is not supported yet."):new w.ValueError("When passing validation data, it must contain 2 (valX, valY) or 3 (valX, valY, valSampleWeight) items; "+(n.validationData+" is invalid."));l=n.validationData[0],u=n.validationData[1],d=this.standardizeUserData(l,u,!0,r),l=d[0],u=d[1],h=l.concat(u)}else null!=n.validationSplit&&n.validationSplit>0&&n.validationSplit<1?(s=!0,p=Math.floor(a[0].shape[0]*(1-n.validationSplit)),f=a[0].shape[0],l=c(a,p,f),a=c(a,0,p),u=c(o,p,f),o=c(o,0,p),g=!0,h=l.concat(u)):null!=n.validationSteps&&(s=!0);return A=a.concat(o),this.checkTrainableWeightsConsistency(),m=function(t){var e=[],n=[],r=t.slice(0,N.inputs.length),i=t.slice(N.inputs.length,N.inputs.length+N.outputs.length),a=[],o=function(){for(var t=[],o=0;o<N.inputs.length;++o)t.push({key:N.inputs[o],value:r[o]});for(var s,l=new R.FeedDict(t),u=R.execute(N.outputs,l,{training:!0}),o=0;o<N.lossFunctions.length;++o){var c=N.lossFunctions[o],h=c(i[o],u[o]);e.push(h);var g=I.mean(h);n.push(g),s=0===o?h:I.add(s,h)}for(var o=0;o<N.metricsTensors.length;++o){var d=N.metricsTensors[o][0],p=N.metricsTensors[o][1],f=I.mean(d(i[p],u[p]));I.keep(f),a.push(f)}return s=I.mean(s),N.calculateLosses().forEach(function(t){s=I.add(s,t)}),s},s=N.collectedTrainableWeights.map(function(t){return t.read()}),l=!0,u=N.optimizer.minimize(o,l,s);return[u].concat(a)},v=this.getDedupedMetricsNames(),s?(this.makeTestFunction(),y=this.testFunction,x=v.slice().concat(v.map(function(t){return"val_"+t}))):(y=null,h=[],x=v.slice()),S=b.standardizeCallbacks(n.callbacks),[4,this.fitLoop(m,A,v,r,n.epochs,n.verbose,S,y,h,n.shuffle,x,null,null,null)];case 1:return T=C.sent(),g&&(h.forEach(function(t){return t.dispose()}),a.forEach(function(t){return t.dispose()}),o.forEach(function(t){return t.dispose()})),[2,T]}})})},e.prototype.getNamedWeights=function(t){for(var e={},n=null!=t&&t.trainableOnly,r=n?this.trainableWeights:this.weights,i=this.getWeights(n),a=0;a<r.length;++a)n&&!r[a].trainable||(e[r[a].originalName]=i[a]);return e},e.prototype.save=function(t,e){return A(this,void 0,void 0,function(){var n,r,i,a,o;return C(this,function(s){switch(s.label){case 0:if("string"==typeof t){if(n=m.io.getSaveHandlers(t),0===n.length)throw new w.ValueError("Cannot find any save handlers for URL '"+t+"'");if(n.length>1)throw new w.ValueError("Found more than one ("+n.length+") save handlers for "+("URL '"+t+"'"));t=n[0]}if(null==t.save)throw new w.ValueError("Model.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");return[4,m.io.encodeWeights(this.getNamedWeights(e))];case 1:return r=s.sent(),i=!1,a=null,o=this.toJSON(a,i),[2,t.save({modelTopology:o,weightData:r.data,weightSpecs:r.specs})]}})})},e.className="Model",f([m.doc({heading:"Models",subheading:"Classes"})],e.prototype,"summary",null),f([m.doc({heading:"Models",subheading:"Classes",configParamIndices:[0]})],e.prototype,"compile",null),f([m.doc({heading:"Models",subheading:"Classes",configParamIndices:[2]})],e.prototype,"evaluate",null),f([m.doc({heading:"Models",subheading:"Classes",configParamIndices:[1]})],e.prototype,"predict",null),f([m.doc({heading:"Models",subheading:"Classes"})],e.prototype,"predictOnBatch",null),f([m.doc({heading:"Models",subheading:"Classes",configParamIndices:[2]})],e.prototype,"fit",null),f([m.doc({heading:"Models",subheading:"Classes",configParamIndices:[1]})],e.prototype,"save",null),e=f([m.doc({heading:"Models",subheading:"Classes"})],e)}(D.Container);e.Model=P,m.serialization.SerializationMap.register(P)},function(t,e,n){"use strict";function r(t){M.setBackend(t),F=t,D.disposeScalarCache()}function i(){return F}function a(){return!1}function o(t){var e=t.shape;return e.length>0?e.reduce(function(t,e){return t*e}):1}function s(t,e){return t.asType(e)}function l(t,e){void 0===e&&(e=-1);var n=t.shape.slice();return e<0&&(e=n.length+e+1),n.splice(e,0,1),t.reshape(n)}function u(t,e){return R.tidy(function(){if(2!==t.shape.length)throw new P.ValueError("repeat() expects a rank-2 tensor, but received a "+("rank-"+t.shape.length+" tensor."));var n=l(t,1);return C(n,[1,e,1])})}function c(t){var e=[L.arrayProd(t.shape)];return t.reshape(e)}function h(t){if(t.rank<=1)throw new P.ValueError("batchFlatten requires a minimum rank of 2. Got rank: "+t.rank+".");var e=[t.shape[0],L.arrayProd(t.shape,1)];return t.reshape(e)}function g(t,e,n){return R.tidy(function(){switch(t.rank){case 1:return M.slice1d(t,e,n);case 2:return M.slice2d(t,[e,0],[n,t.shape[1]]);case 3:return M.slice3d(t,[e,0,0],[n,t.shape[1],t.shape[2]]);case 4:return M.slice4d(t,[e,0,0,0],[n,t.shape[1],t.shape[2],t.shape[3]]);default:throw new P.ValueError("sliceAlongFirstAxis() received an unsupported tensor rank: "+t.rank)}})}function d(t,e,n){return R.tidy(function(){switch(t.rank){case 1:return M.slice1d(t,e,n);case 2:return M.slice2d(t,[0,e],[t.shape[0],n]);case 3:return M.slice3d(t,[0,0,e],[t.shape[0],t.shape[1],n]);case 4:return M.slice4d(t,[0,0,0,e],[t.shape[0],t.shape[1],t.shape[2],n]);default:throw new P.ValueError("sliceAlongLastAxis() received an unsupported tensor rank: "+t.rank)}})}function p(t,e,n,r){return R.tidy(function(){switch(t.rank){case 1:return M.slice1d(t,e,n);case 2:switch(r){case 1:return g(t,e,n);case 2:return d(t,e,n);default:throw new P.ValueError("The axis is not within the rank of the tensor "+r)}case 3:switch(r){case 1:return g(t,e,n);case 2:return M.slice3d(t,[0,e,0],[t.shape[0],n,t.shape[2]]);case 3:return d(t,e,n);default:throw new P.ValueError("The axis is not within the rank of the tensor "+r)}case 4:switch(r){case 1:return g(t,e,n);case 2:return M.slice4d(t,[0,e,0,0],[t.shape[0],n,t.shape[2],t.shape[3]]);case 3:return M.slice4d(t,[0,0,e,0],[t.shape[0],t.shape[1],n,t.shape[3]]);case 4:return d(t,e,n);default:throw new P.ValueError("The axis is not within the rank of the tensor "+r)}default:throw new P.ValueError("sliceAlongLastAxis() received an unsupported tensor rank: "+t.rank)}})}function f(t,e){void 0===e&&(e=-1);var n;return e<0&&(n=t[0].rank,e=0!==n?n:0),e===t[0].rank&&(e=-1),
M.concat(t,e)}function A(t,e){switch(t.rank){case 1:return M.concat1d([t,e]);case 2:return M.concat2d([t,e],0);case 3:return M.concat3d([t,e],0);case 4:return M.concat4d([t,e],0);default:throw new P.ValueError("concatAlongFirstAxis() received an unsupported tensor rank: "+t.rank)}}function C(t,e){if(Array.isArray(e)||(e=[e]),t.rank!==e.length)throw new P.ValueError("The length of input n ("+e.length+") does not match "+("the number of dimensions in input x ("+t.rank+")"));return M.tile(t,e)}function I(t,e,n,r,i){return void 0===e&&(e=0),void 0===n&&(n=1),M.randomNormal(t,e,n,r,i)}function m(t,e){if(2!==e.rank)throw new P.NotImplementedError("dot support for y other than rank 2 is not yet implemented: y shape = "+e.shape);if(2===t.rank)return M.matMul(t,e);if(3===t.rank){var n=t.shape[0],r=t.shape[1],i=t.shape[2];return t=t.reshape([n*r,i]),M.matMul(t,e).reshape([n,r,e.shape[1]])}throw new P.NotImplementedError("dot support for x of rank "+t.rank+" is not yet implemented: x shape = "+t.shape)}function v(t){return R.tidy(function(){var e=R.zerosLike(t),n=R.onesLike(t);return R.where(M.equal(t,e),e,R.where(M.greater(t,R.zerosLike(t)),n,M.mul(D.getScalar(-1),n)))})}function y(t,e){return R.tidy(function(){if(1!==t.rank)throw new Error("Only 1D one-hot tensors are supported in the deeplearn backend, at present.");return t=t.toInt(),M.oneHot(t,e).toFloat()})}function b(t,e,n){return R.tidy(function(){return e=Array.isArray(e)?R.tensor1d(e,"int32"):e.toInt(),M.gather(t,e,n)})}function x(t){return M.mulStrict(t,t)}function w(t,e){return R.tidy(function(){if("number"==typeof e&&(e=R.scalar(Math.round(e),"int32")),"int32"!==e.dtype)throw new P.NotImplementedError("Non-int32 dtype ("+e.dtype+") is not supported by pow() yet");return M.pow(t,e)})}function S(t,e,n){return R.tidy(function(){if(null==n&&(n=z.imageDataFormat()),_.checkDataFormat(n),1!==e.rank&&e.rank!==t.rank)throw new P.ValueError("Unexpected bias dimensions: "+e.rank+"; expected it to be 1 or "+t.rank);var r,i=e.shape;if(5===t.rank)"channelsFirst"===n?r=1===i.length?t.add(e.reshape([1,i[0],1,1,1])):t.add(e.reshape([1,i[3],i[0],i[1],i[2]])):"channelsLast"===n&&(r=1===i.length?t.add(e.reshape([1,1,1,1,i[0]])):t.add(e.reshape([1].concat(i))));else if(4===t.rank)"channelsFirst"===n?r=1===i.length?t.add(e.reshape([1,i[0],1,1])):t.add(e.reshape([1,i[2],i[0],i[1]])):"channelsLast"===n&&(r=1===i.length?t.add(e.reshape([1,1,1,i[0]])):t.add(e.reshape([1].concat(i))));else if(3===t.rank)"channelsFirst"===n?r=1===i.length?t.add(e.reshape([1,i[0],1])):t.add(e.reshape([1,i[1],i[0]])):"channelsLast"===n&&(r=1===i.length?t.add(e.reshape([1,1,i[0]])):t.add(e.reshape([1].concat(i))));else{if(!(t.rank<3))throw new P.ValueError("Unsupported input rank by biasAdd: "+t.rank);r=t.add(e)}return r})}function T(t,e){if(void 0===e&&(e=1),1!==e)throw new P.NotImplementedError("Support for alpha values other than 1 ("+e+") is not implemented yet.");return M.elu(t)}function N(t){return R.tidy(function(){return M.div(t,M.add(D.getScalar(1),M.abs(t)))})}function E(t,e,n,r){return R.tidy(function(){if(null!=n&&!R.util.arraysEqual(t.shape,n))throw new P.NotImplementedError("Non-default noise shape is not implemented yet: "+JSON.stringify(n));if(null!=r)throw new P.NotImplementedError("seed is not implemented for dropout yet.");var i=M.step(M.add(M.neg(e),M.randomUniform(t.shape,0,1,"float32")));return i=M.mul(M.div(D.getScalar(1),M.sub(D.getScalar(1),e)),i),M.mul(t,i)})}function k(t){return R.tidy(function(){var e=M.add(D.getScalar(.5),M.mul(D.getScalar(.2),t));return M.clipByValue(e,0,1)})}function O(t,e,n){return void 0===n&&(n=!1),n?t():e()}Object.defineProperty(e,"__esModule",{value:!0});var M=n(505),R=n(505),D=n(652),_=n(656),P=n(654),L=n(665),z=n(651),F="webgl";e.setBackend=r,e.getBackend=i,e.isBackendSymbolic=a,e.countParams=o,e.cast=s,e.expandDims=l,e.repeat=u,e.flatten=c,e.batchFlatten=h,e.sliceAlongFirstAxis=g,e.sliceAlongLastAxis=d,e.sliceAlongAxis=p,e.concatenate=f,e.concatAlongFirstAxis=A,e.tile=C,e.randomNormal=I,e.dot=m,e.sign=v,e.oneHot=y,e.gather=b,e.square=x,e.pow=w,e.biasAdd=S,e.elu=T,e.softsign=N,e.dropout=E,e.hardSigmoid=k,e.inTrainPhase=O},function(t,e,n){"use strict";function r(t){return t===parseInt(t.toString(),10)}function i(t,e,n){null==e&&(e=0),null==n&&(n=t.length);for(var r=1,i=e;i<n;++i)r*=t[i];return r}function a(t){return t=Array.isArray(t)?new Float32Array(t):t,p.tensor1d(t)}function o(t){return d.min(a(t)).dataSync()[0]}function s(t){return d.max(a(t)).dataSync()[0]}function l(t){return d.sum(a(t)).dataSync()[0]}function u(t){return l(t)/t.length}function c(t){var e=d.sub(a(t),p.scalar(u(t))),n=d.sum(d.mulStrict(e,e)).dataSync()[0];return n/t.length}function h(t){var e=t.slice().sort(function(t,e){return t-e}),n=Math.floor((e.length-1)/2),r=Math.ceil((e.length-1)/2);return n===r?e[n]:(e[n]+e[r])/2}function g(t,e){if(e<t)throw new f.ValueError("end ("+e+") < begin ("+t+") is forbidden.");for(var n=[],r=t;r<e;++r)n.push(r);return n}Object.defineProperty(e,"__esModule",{value:!0});var d=n(505),p=n(505),f=n(654);e.isInteger=r,e.arrayProd=i,e.min=o,e.max=s,e.sum=l,e.mean=u,e.variance=c,e.median=h,e.range=g},function(t,e,n){"use strict";function r(t){if(null==t)return null;if(t instanceof h)return[t];if(Array.isArray(t)&&t[0]instanceof h)return t;var e=c.toList(t);return e.map(function(t){return new f(t)})}var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,a){function o(t){try{l(r.next(t))}catch(t){a(t)}}function s(t){try{l(r.throw(t))}catch(t){a(t)}}function l(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(o,s)}l((r=r.apply(t,e||[])).next())})},o=this&&this.__generator||function(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;l;)try{if(i=1,a&&(o=a[2&n[0]?"return":n[0]?"throw":"next"])&&!(o=o.call(a,n[1])).done)return o;switch(a=0,o&&(n=[0,o.value]),n[0]){case 0:case 1:o=n;break;case 4:return l.label++,{value:n[1],done:!1};case 5:l.label++,a=n[1],n=[0];continue;case 7:n=l.ops.pop(),l.trys.pop();continue;default:if(o=l.trys,!(o=o.length>0&&o[o.length-1])&&(6===n[0]||2===n[0])){l=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3])){l.label=n[1];break}if(6===n[0]&&l.label<o[1]){l.label=o[1],o=n;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(n);break}o[2]&&l.ops.pop(),l.trys.pop();continue}n=e.call(t,l)}catch(t){n=[6,t],a=0}finally{i=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,a,o,s,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(e,"__esModule",{value:!0});var s=n(505),l=n(652),u=n(667),c=n(653),h=function(){function t(){this.validationData=null}return t.prototype.setParams=function(t){this.params=t},t.prototype.onEpochBegin=function(t,e){return a(this,void 0,void 0,function(){return o(this,function(t){return[2]})})},t.prototype.onEpochEnd=function(t,e){return a(this,void 0,void 0,function(){return o(this,function(t){return[2]})})},t.prototype.onBatchBegin=function(t,e){return a(this,void 0,void 0,function(){return o(this,function(t){return[2]})})},t.prototype.onBatchEnd=function(t,e){return a(this,void 0,void 0,function(){return o(this,function(t){return[2]})})},t.prototype.onTrainBegin=function(t){return a(this,void 0,void 0,function(){return o(this,function(t){return[2]})})},t.prototype.onTrainEnd=function(t){return a(this,void 0,void 0,function(){return o(this,function(t){return[2]})})},t.prototype.setModel=function(t){},t}();e.BaseCallback=h;var g=function(){function t(t,e){void 0===e&&(e=10),null==t&&(t=[]),this.callbacks=t,this.queueLength=e}return t.prototype.append=function(t){this.callbacks.push(t)},t.prototype.setParams=function(t){for(var e=0,n=this.callbacks;e<n.length;e++){var r=n[e];r.setParams(t)}},t.prototype.setModel=function(t){for(var e=0,n=this.callbacks;e<n.length;e++){var r=n[e];r.setModel(t)}},t.prototype.onEpochBegin=function(t,e){return a(this,void 0,void 0,function(){var n,r,i;return o(this,function(a){switch(a.label){case 0:null==e&&(e={}),n=0,r=this.callbacks,a.label=1;case 1:return n<r.length?(i=r[n],[4,i.onEpochBegin(t,e)]):[3,4];case 2:a.sent(),a.label=3;case 3:return n++,[3,1];case 4:return[2]}})})},t.prototype.onEpochEnd=function(t,e){return a(this,void 0,void 0,function(){var n,r,i;return o(this,function(a){switch(a.label){case 0:null==e&&(e={}),n=0,r=this.callbacks,a.label=1;case 1:return n<r.length?(i=r[n],[4,i.onEpochEnd(t,e)]):[3,4];case 2:a.sent(),a.label=3;case 3:return n++,[3,1];case 4:return[2]}})})},t.prototype.onBatchBegin=function(t,e){return a(this,void 0,void 0,function(){var n,r,i;return o(this,function(a){switch(a.label){case 0:null==e&&(e={}),n=0,r=this.callbacks,a.label=1;case 1:return n<r.length?(i=r[n],[4,i.onBatchBegin(t,e)]):[3,4];case 2:a.sent(),a.label=3;case 3:return n++,[3,1];case 4:return[2]}})})},t.prototype.onBatchEnd=function(t,e){return a(this,void 0,void 0,function(){var n,r,i;return o(this,function(a){switch(a.label){case 0:null==e&&(e={}),n=0,r=this.callbacks,a.label=1;case 1:return n<r.length?(i=r[n],[4,i.onBatchEnd(t,e)]):[3,4];case 2:a.sent(),a.label=3;case 3:return n++,[3,1];case 4:return[2]}})})},t.prototype.onTrainBegin=function(t){return a(this,void 0,void 0,function(){var e,n,r;return o(this,function(i){switch(i.label){case 0:null==t&&(t={}),e=0,n=this.callbacks,i.label=1;case 1:return e<n.length?(r=n[e],[4,r.onTrainBegin(t)]):[3,4];case 2:i.sent(),i.label=3;case 3:return e++,[3,1];case 4:return[2]}})})},t.prototype.onTrainEnd=function(t){return a(this,void 0,void 0,function(){var e,n,r;return o(this,function(i){switch(i.label){case 0:null==t&&(t={}),e=0,n=this.callbacks,i.label=1;case 1:return e<n.length?(r=n[e],[4,r.onTrainEnd(t)]):[3,4];case 2:i.sent(),i.label=3;case 3:return e++,[3,1];case 4:return[2]}})})},t}();e.CallbackList=g;var d=function(t){function e(){return t.call(this)||this}return i(e,t),e.prototype.onEpochBegin=function(t,e){return a(this,void 0,void 0,function(){return o(this,function(t){return this.seen=0,this.totals={},[2]})})},e.prototype.onBatchEnd=function(t,e){return a(this,void 0,void 0,function(){var t,n,r,i,a=this;return o(this,function(o){null==e&&(e={}),t=null==e.size?0:e.size,this.seen+=t,n=function(n){var i=e[n];if("number"==typeof i)r.totals.hasOwnProperty(n)||(r.totals[n]=0),r.totals[n]=r.totals[n]+i*t;else{var o=void 0;n in r.totals?o=r.totals[n]:r.totals[n]=l.getScalar(0),r.totals[n]=s.tidy(function(){return s.add(a.totals[n],s.mul(i,l.getScalar(t)))}),null!=o&&o.dispose()}},r=this;for(i in e)n(i);return[2]})})},e.prototype.onEpochEnd=function(t,e){return a(this,void 0,void 0,function(){var t,n,r,i,a,u=this;return o(this,function(o){if(null!=e)for(t=function(t){return null==n.totals[t]?"continue":void("number"==typeof n.totals[t]?e[t]=n.totals[t]/n.seen:s.tidy(function(){e[t]=s.mul(s.div(l.getScalar(1),l.getScalar(u.seen)),u.totals[t]),u.totals[t].dispose(),s.keep(e[t])}))},n=this,r=0,i=this.params.metrics;r<i.length;r++)a=i[r],t(a);return[2]})})},e}(h);e.BaseLogger=d;var p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onTrainBegin=function(t){return a(this,void 0,void 0,function(){return o(this,function(t){return this.epoch=[],this.history={},[2]})})},e.prototype.onEpochEnd=function(t,e){return a(this,void 0,void 0,function(){var n;return o(this,function(r){null==e&&(e={}),this.epoch.push(t);for(n in e)null==this.history[n]&&(this.history[n]=[]),this.history[n].push(e[n]);return[2]})})},e.prototype.syncData=function(){return a(this,void 0,void 0,function(){var t,e,n,r,i,a,s,l,u,c;return o(this,function(o){switch(o.label){case 0:t=[],e=[],n=[];for(r in this.history)for(i=this.history[r],a=0;a<i.length;++a)"number"!=typeof i[a]&&(s=i[a],t.push(s.data()),e.push(r),n.push(a));return[4,Promise.all(t)];case 1:for(l=o.sent(),u=0;u<l.length;++u)c=this.history[e[u]][n[u]],c.dispose(),this.history[e[u]][n[u]]=l[u][0];return[2]}})})},e}(h);e.History=p;var f=function(t){function e(e){var n=t.call(this)||this;return n.trainBegin=e.onTrainBegin,n.trainEnd=e.onTrainEnd,n.epochBegin=e.onEpochBegin,n.epochEnd=e.onEpochEnd,n.batchBegin=e.onBatchBegin,n.batchEnd=e.onBatchEnd,n}return i(e,t),e.prototype.onEpochBegin=function(t,e){return a(this,void 0,void 0,function(){return o(this,function(n){switch(n.label){case 0:return null==this.epochBegin?[3,3]:[4,u.resolveScalarsInLogs(e)];case 1:return n.sent(),[4,this.epochBegin(t,e)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},e.prototype.onEpochEnd=function(t,e){return a(this,void 0,void 0,function(){return o(this,function(n){switch(n.label){case 0:return null==this.epochEnd?[3,3]:[4,u.resolveScalarsInLogs(e)];case 1:return n.sent(),[4,this.epochEnd(t,e)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},e.prototype.onBatchBegin=function(t,e){return a(this,void 0,void 0,function(){return o(this,function(n){switch(n.label){case 0:return null==this.batchBegin?[3,3]:[4,u.resolveScalarsInLogs(e)];case 1:return n.sent(),[4,this.batchBegin(t,e)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},e.prototype.onBatchEnd=function(t,e){return a(this,void 0,void 0,function(){return o(this,function(n){switch(n.label){case 0:return null==this.batchEnd?[3,3]:[4,u.resolveScalarsInLogs(e)];case 1:return n.sent(),[4,this.batchEnd(t,e)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},e.prototype.onTrainBegin=function(t){return a(this,void 0,void 0,function(){return o(this,function(e){switch(e.label){case 0:return null==this.trainBegin?[3,3]:[4,u.resolveScalarsInLogs(t)];case 1:return e.sent(),[4,this.trainBegin(t)];case 2:e.sent(),e.label=3;case 3:return[2]}})})},e.prototype.onTrainEnd=function(t){return a(this,void 0,void 0,function(){return o(this,function(e){switch(e.label){case 0:return null==this.trainEnd?[3,3]:[4,u.resolveScalarsInLogs(t)];case 1:return e.sent(),[4,this.trainEnd(t)];case 2:e.sent(),e.label=3;case 3:return[2]}})})},e}(h);e.CustomCallback=f,e.standardizeCallbacks=r},function(t,e,n){"use strict";function r(t){return a(this,void 0,void 0,function(){var e,n,r,i,a,l,u,c;return o(this,function(o){switch(o.label){case 0:if(null==t)return[2];e=[],n=[],r=[];for(i in t)a=t[i],"number"!=typeof a&&(l=a,e.push(l.data()),n.push(i),r.push(l));return[4,Promise.all(e)];case 1:for(u=o.sent(),c=0;c<u.length;++c)t[n[c]]=u[c][0];return s.dispose(r),[2]}})})}function i(t){if(null!=t)for(var e in t){var n=t[e];"number"!=typeof n&&n.dispose()}}var a=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,a){function o(t){try{l(r.next(t))}catch(t){a(t)}}function s(t){try{l(r.throw(t))}catch(t){a(t)}}function l(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(o,s)}l((r=r.apply(t,e||[])).next())})},o=this&&this.__generator||function(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;l;)try{if(i=1,a&&(o=a[2&n[0]?"return":n[0]?"throw":"next"])&&!(o=o.call(a,n[1])).done)return o;switch(a=0,o&&(n=[0,o.value]),n[0]){case 0:case 1:o=n;break;case 4:return l.label++,{value:n[1],done:!1};case 5:l.label++,a=n[1],n=[0];continue;case 7:n=l.ops.pop(),l.trys.pop();continue;default:if(o=l.trys,!(o=o.length>0&&o[o.length-1])&&(6===n[0]||2===n[0])){l=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3])){l.label=n[1];break}if(6===n[0]&&l.label<o[1]){l.label=o[1],o=n;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(n);break}o[2]&&l.ops.pop(),l.trys.pop();continue}n=e.call(t,l)}catch(t){n=[6,t],a=0}finally{i=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,a,o,s,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(e,"__esModule",{value:!0});var s=n(505);e.resolveScalarsInLogs=r,e.disposeTensorsInLogs=i},function(t,e,n){"use strict";function r(t,e){return y.tidy(function(){var n=v.sum(x.square(t),e,!0),r=v.mul(y.scalar(b.epsilon()),v.onesLike(t)),i=v.sqrt(v.maximum(n,r));return v.div(t,i)})}function i(t,e){return y.tidy(function(){return v.mean(x.square(v.sub(e,t)),-1)})}function a(t,e){return y.tidy(function(){return v.mean(v.abs(v.sub(e,t)),-1)})}function o(t,e){return y.tidy(function(){var n=v.sub(t,e),r=v.clipByValue(v.abs(t),b.epsilon(),Number.MAX_VALUE),i=v.abs(v.div(n,r));return v.mul(w.getScalar(100),v.mean(i,-1))})}function s(t,e){return y.tidy(function(){var n=w.getScalar(1),r=v.clipByValue(e,b.epsilon(),Number.MAX_VALUE),i=v.log(v.add(n,r)),a=v.clipByValue(t,b.epsilon(),Number.MAX_VALUE),o=v.log(v.add(n,a));return v.mean(x.square(v.sub(i,o)),-1)})}function l(t,e){return y.tidy(function(){var n=w.getScalar(0),r=w.getScalar(1),i=v.maximum(n,v.sub(r,v.mul(t,e)));return v.mean(x.square(i),-1)})}function u(t,e){return y.tidy(function(){var n=w.getScalar(0),r=w.getScalar(1),i=v.maximum(n,v.sub(r,v.mul(t,e)));return v.mean(i,-1)})}function c(t,e){return y.tidy(function(){var n=w.getScalar(0),r=w.getScalar(1),i=v.sum(v.mul(t,e),-1),a=v.max(v.mul(v.sub(r,t),e),-1);return v.maximum(n,v.add(r,v.sub(a,i)))})}function h(t,e){return y.tidy(function(){var n=w.getScalar(Math.log(2)),r=v.sub(e,t),i=v.sub(v.add(r,v.softplus(v.mul(w.getScalar(-2),r))),n);return v.mean(i,-1)})}function g(t,e,n){return void 0===n&&(n=!1),y.tidy(function(){if(n)e=v.softmax(e);else{var r=v.sum(e,e.shape.length-1,!0);e=v.div(e,r)}return e=v.clipByValue(e,b.epsilon(),1-b.epsilon()),v.neg(v.sum(v.mul(t.toFloat(),v.log(e)),e.shape.length-1))})}function d(t,e,n){return void 0===n&&(n=!1),y.tidy(function(){var r=v.floor(x.flatten(t)).toInt(),i=e.shape,a=v.oneHot(r,i[i.length-1]).reshape(i);return g(a,e,n)})}function p(t,e){return y.tidy(function(){var n=v.maximum(e,v.zerosLike(e)),r=v.mul(e,t),i=v.log(v.add(w.getScalar(1),v.exp(v.neg(v.abs(e))))),a=v.add(v.sub(n,r),i);return a})}function f(t,e){return y.tidy(function(){var n;return n=v.clipByValue(e,b.epsilon(),1-b.epsilon()),n=v.log(v.div(n,v.sub(v.onesLike(n),n))),v.mean(p(t,n),-1)})}function A(t,e){return y.tidy(function(){var n=v.clipByValue(t,b.epsilon(),1),r=v.clipByValue(e,b.epsilon(),1);return v.sum(v.mul(t,v.log(v.div(n,r))),-1)})}function C(t,e){return y.tidy(function(){var n=v.log(v.add(w.getScalar(b.epsilon()),e));return v.mean(v.sub(e,v.mul(t,n)),-1)})}function I(t,e){return y.tidy(function(){var n=r(t,-1),i=r(e,-1),a=v.mul(n,i);return v.neg(v.sum(a,-1))})}function m(t){var e={meanSquaredError:i,meanAbsoluteError:a,meanAbsolutePercentageError:o,meanSquaredLogarithmicError:s,squaredHinge:l,hinge:u,categoricalHinge:c,logcosh:h,categoricalCrossentropy:g,sparseCategoricalCrossentropy:d,binaryCrossentropy:f,kullbackLeiblerDivergence:A,poisson:C,cosineProximity:I};if("string"==typeof t){if(t in e)return e[t];throw new S.ValueError("Unknown loss "+t)}return t}Object.defineProperty(e,"__esModule",{value:!0});var v=n(505),y=n(505),b=n(651),x=n(664),w=n(652),S=n(654);e.l2Normalize=r,e.meanSquaredError=i,e.meanAbsoluteError=a,e.meanAbsolutePercentageError=o,e.meanSquaredLogarithmicError=s,e.squaredHinge=l,e.hinge=u,e.categoricalHinge=c,e.logcosh=h,e.categoricalCrossentropy=g,e.sparseCategoricalCrossentropy=d,e.sigmoidCrossEntropyWithLogits=p,e.binaryCrossentropy=f,e.kullbackLeiblerDivergence=A,e.poisson=C,e.cosineProximity=I,e.mse=i,e.MSE=i,e.mae=a,e.MAE=a,e.mape=o,e.MAPE=o,e.msle=s,e.MSLE=s,e.kld=A,e.KLD=A,e.cosine=I,e.get=m},function(t,e,n){"use strict";function r(t,e){return h.tidy(function(){var n=c.mul(d.getScalar(.5),c.onesLike(e)),r=g.cast(c.greater(e,n),t.dtype);return c.mean(c.equal(t,r),-1)})}function i(t,e){return h.tidy(function(){return g.cast(c.equal(c.argMax(t,-1),c.argMax(e,-1)),"float32")})}function a(t,e){return A.binaryCrossentropy(t,e)}function o(t,e){throw new p.NotImplementedError}function s(t,e){throw new p.NotImplementedError}function l(t,e){throw new p.NotImplementedError}function u(t){var n={binaryAccuracy:r,categoricalAccuracy:i,categoricalCrossentropy:e.categoricalCrossentropy,sparseCategoricalCrossentropy:e.sparseCategoricalCrossentropy,mse:e.mse,MSE:e.MSE,mae:e.mae,MAE:e.MAE,mape:e.mape,MAPE:e.MAPE,cosine:e.cosine};if("string"==typeof t&&t in n)return n[t];if("string"!=typeof t&&null!=t)return t;throw new p.ValueError("Unknown metric "+t)}Object.defineProperty(e,"__esModule",{value:!0});var c=n(505),h=n(505),g=n(664),d=n(652),p=n(654),f=n(668),A=n(668);e.binaryAccuracy=r,e.categoricalAccuracy=i,e.binaryCrossentropy=a,e.sparseCategoricalAccuracy=o,e.topKCategoricalAccuracy=s,e.sparseTopKCategoricalAccuracy=l,e.mse=f.meanSquaredError,e.MSE=f.meanSquaredError,e.mae=f.meanAbsoluteError,e.MAE=f.meanAbsoluteError,e.mape=f.meanAbsolutePercentageError,e.MAPE=f.meanAbsolutePercentageError,e.categoricalCrossentropy=f.categoricalCrossentropy,e.cosine=f.cosineProximity,e.sparseCategoricalCrossentropy=f.sparseCategoricalCrossentropy,e.get=u},function(t,e,n){"use strict";function r(t){var e={Adagrad:function(){return i.train.adagrad(.01)},Adadelta:function(){return i.train.adadelta(1,.95,a.epsilon())},Adam:function(){return i.train.adam(.001,.9,.999,a.epsilon())},Adamax:function(){return i.train.adamax(.002,.9,.999,a.epsilon(),0)},RMSProp:function(){return i.train.rmsprop(.001,.9,0,a.epsilon())},SGD:function(){return i.train.sgd(.01)}};if(e.adagrad=e.Adagrad,e.adadelta=e.Adadelta,e.adam=e.Adam,e.adamax=e.Adamax,e.rmsprop=e.RMSProp,e.sgd=e.SGD,t in e)return e[t]();throw new o.ValueError("Unknown Optimizer "+t)}Object.defineProperty(e,"__esModule",{value:!0});var i=n(505),a=n(651),o=n(654);e.getOptimizer=r},function(t,e,n){"use strict";function r(t,e,n,r){void 0===r&&(r=console.log);var u=i(t),c=["Layer (type)","Output shape","Param #"];u?(e=e||65,n=n||[.45,.85,1]):(e=e||98,n=n||[.33,.55,.67,1]),n[n.length-1]<=1&&(n=n.map(function(t){return Math.floor(e*t)}));var h;if(!u){c.push("Receives inputs"),h=[];for(var g in t.nodesByDepth)h.push.apply(h,t.nodesByDepth[g])}r("_".repeat(e)),a(c,n,r),r("=".repeat(e));for(var d=t.layers,p=0;p<d.length;++p)u?o(d[p],n,r):s(d[p],n,h,r),r((p===d.length-1?"=":"_").repeat(e));t.checkTrainableWeightsConsistency();var f;f=null!=t.collectedTrainableWeights?l.countParamsInWeights(t.collectedTrainableWeights):l.countParamsInWeights(t.trainableWeights);var A=l.countParamsInWeights(t.nonTrainableWeights);r("Total params: "+(f+A)),r("Trainable params: "+f),r("Non-trainable params: "+A),r("_".repeat(e))}function i(t){var e=!0,n=[],r=[];for(var i in t.nodesByDepth)n.push(t.nodesByDepth[i]);for(var a=0,o=n;a<o.length;a++){var s=o[a];if(s.length>1||1===s.length&&s[0].inboundLayers.length>1){e=!1;break}r.push.apply(r,s)}if(e)for(var l=0,u=t.layers;l<u.length;l++){for(var c=u[l],h=!1,g=0,d=c.inboundNodes;g<d.length;g++){var p=d[g];if(r.indexOf(p)!==-1){if(h){e=!1;break}h=!0}}if(!e)break}return e}function a(t,e,n){void 0===n&&(n=console.log);for(var r="",i=0;i<t.length;++i)i>0&&(r=r.slice(0,r.length-1)+" "),r+=t[i],r=r.slice(0,e[i]),r+=" ".repeat(e[i]-r.length);n(r)}function o(t,e,n){var r;try{r=JSON.stringify(t.outputShape)}catch(t){r="multiple"}var i=t.name,o=t.getClassName(),s=[i+" ("+o+")",r,t.countParams().toString()];a(s,e,n)}function s(t,e,n,r){var i;try{i=JSON.stringify(t.outputShape)}catch(t){i="multiple"}for(var o=[],s=0,l=t.inboundNodes;s<l.length;s++){var u=l[s];if(!(null!=n&&n.length>0&&n.indexOf(u)===-1))for(var c=0;c<u.inboundLayers.length;++c){var h=u.inboundLayers[c].name,g=u.nodeIndices[c],d=u.tensorIndices[c];o.push(h+"["+g+"]["+d+"]")}}var p=t.name,f=t.getClassName(),A=0===o.length?"":o[0],C=[p+" ("+f+")",i,t.countParams().toString(),A];a(C,e,r);for(var c=1;c<o.length;++c)a(["","","",o[c]],e,r)}Object.defineProperty(e,"__esModule",{value:!0});var l=n(660);e.printSummary=r},function(t,e,n){"use strict";function r(t,e){if(null!=t.dtype&&t.dtype!==e.dtype)throw new s.ValueError("The dtype of the feed ("+e.dtype+") is incompatible with that of "+("the key '"+t.name+"' ("+t.dtype+")."));if(null!=t.shape){if(t.shape.length!==e.shape.length)throw new s.ValueError("The rank of feed ("+e.shape.length+") does not match the rank of "+("the key ("+t.shape.length+")."));for(var n=0;n<t.shape.length;++n)if(null!=t.shape[n]&&t.shape[n]!==e.shape[n])throw new s.ValueError("The "+n+"-th dimension of the feed ("+e.shape[n]+") is "+("incompatible with that of the key ("+t.shape[n]+")."))}}function i(t,e,n){for(var r=Array.isArray(t),i=r?t:[t],o=[],s=new u(e),l=0,c=i;l<c.length;l++){var h=c[l];o.push(a(h,s,n))}return r?o:o[0]}function a(t,e,n){if(e.hasKey(t))return e.getValue(t);if(t.sourceLayer instanceof l.InputLayer)throw new s.ValueError("Missing a feed value for SymbolicTensor from InputLayer "+("'"+l.InputLayer.name+"'"));for(var r=t.inputs,i=[],u=0,c=r;u<c.length;u++){var h=c[u],g=a(h,e,n);i.push(g)}var d=t.sourceLayer.apply(i,n);Array.isArray(d)||(d=[d]);for(var p=o(t),f=Array.isArray(p)?p:[p],A=0;A<f.length;++A)e.add(f[A],d[A]);return 1===d.length?d[0]:d[t.outputTensorIndex]}function o(t){var e;if(1===t.sourceLayer.inboundNodes.length)e=t.sourceLayer.output;else{for(var n=null,r=0;r<t.sourceLayer.inboundNodes.length;++r)for(var i=0,a=t.sourceLayer.inboundNodes[r].outputTensors;i<a.length;i++){var o=a[i];if(o.id===t.id){n=r;break}}e=t.sourceLayer.getOutputAt(n)}return e}Object.defineProperty(e,"__esModule",{value:!0});var s=n(654),l=n(655),u=function(){function t(e){if(this.id2Value={},e instanceof t)for(var n in e.id2Value)this.id2Value[n]=e.id2Value[n];else{if(null==e)return;for(var r=0,i=e;r<i.length;r++){var a=i[r];this.add(a.key,a.value)}}}return t.prototype.add=function(t,e){if(r(t,e),null!=this.id2Value[t.id])throw new s.ValueError("Duplicate key: name="+t.name+", id="+t.id);return this.id2Value[t.id]=e,this},t.prototype.addFeed=function(t){this.add(t.key,t.value)},t.prototype.hasKey=function(t){return null!=this.id2Value[t.id]},t.prototype.getValue=function(t){if(null==this.id2Value[t.id])throw new s.ValueError("Nonexistent key: "+JSON.stringify(t));return this.id2Value[t.id]},t}();e.FeedDict=u,e.execute=i},function(t,e,n){"use strict";function r(t){A.checkStringTypeUnionValue(e.VALID_FAN_MODE_VALUES,"FanMode",t)}function i(t){A.checkStringTypeUnionValue(e.VALID_DISTRIBUTION_VALUES,"Distribution",t)}function a(t,e){void 0===e&&(e="channelsLast");var n,r;if(d.checkDataFormat(e),2===t.length)n=t[0],r=t[1];else if([3,4,5].indexOf(t.length)!==-1){if("channelsFirst"===e){var i=C.arrayProd(t,2);n=t[1]*i,r=t[0]*i}else if("channelsLast"===e){var i=C.arrayProd(t,0,t.length-2);n=t[t.length-2]*i,r=t[t.length-1]*i}}else{var a=C.arrayProd(t);n=Math.sqrt(a),r=Math.sqrt(a)}return[n,r]}function o(t,e){return void 0===e&&(e={}),A.deserializeKerasObject(t,h.serialization.SerializationMap.getMap().classNameMap,e,"initializer")}function s(t){return A.serializeKerasObject(t)}function l(t){if("string"==typeof t){var n=t in e.INITIALIZER_IDENTIFIER_REGISTRY_SYMBOL_MAP?e.INITIALIZER_IDENTIFIER_REGISTRY_SYMBOL_MAP[t]:t;if("GlorotUniform"===n)return new N;if("GlorotNormal"===n)return new E;if("HeNormal"===n)return new k;if("LeCunNormal"===n)return new O;var r={className:n,config:{}};return o(r)}return t instanceof I?t:o(t)}var u=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),c=this&&this.__decorate||function(t,e,n,r){var i,a=arguments.length,o=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(o=(a<3?i(o):a>3?i(e,n,o):i(e,n))||o);return a>3&&o&&Object.defineProperty(e,n,o),o};Object.defineProperty(e,"__esModule",{value:!0});var h=n(505),g=n(664),d=n(656),p=n(652),f=n(654),A=n(653),C=n(665);e.VALID_FAN_MODE_VALUES=["fanIn","fanOut","fanAvg"],e.checkFanMode=r,e.VALID_DISTRIBUTION_VALUES=["normal","uniform"],e.checkDistribution=i;var I=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return u(e,t),e.prototype.fromConfigUsesCustomObjects=function(){return!1},e.prototype.getConfig=function(){return{}},e=c([h.doc({heading:"Initializers",subheading:"Classes",namespace:"initializers"})],e)}(h.serialization.Serializable);e.Initializer=I;var m=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return u(e,t),e.prototype.apply=function(t,e){return h.zeros(t,e)},e.className="Zeros",e}(I);e.Zeros=m,h.serialization.SerializationMap.register(m);var v=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return u(e,t),e.prototype.apply=function(t,e){return h.ones(t,e)},e.className="Ones",e}(I);e.Ones=v,h.serialization.SerializationMap.register(v);var y=function(t){function e(e){var n=t.call(this)||this;return n.value=e.value,n}return u(e,t),e.prototype.apply=function(t,e){var n=this;return h.tidy(function(){return h.mul(h.scalar(n.value),h.ones(t,e))})},e.prototype.getConfig=function(){return{value:this.value}},e.className="Constant",e}(I);e.Constant=y,h.serialization.SerializationMap.register(y);var b=function(t){function e(e){var n=t.call(this)||this;return n.DEFAULT_MINVAL=-.05,n.DEFAULT_MAXVAL=.05,n.minval=e.minval||n.DEFAULT_MINVAL,n.maxval=e.maxval||n.DEFAULT_MAXVAL,n.seed=e.seed,n}return u(e,t),e.prototype.apply=function(t,e){return h.randomUniform(t,this.minval,this.maxval,e)},e.prototype.getConfig=function(){return{minval:this.minval,maxval:this.maxval,seed:this.seed}},e.className="RandomUniform",e}(I);e.RandomUniform=b,h.serialization.SerializationMap.register(b);var x=function(t){function e(e){var n=t.call(this)||this;return n.DEFAULT_MEAN=0,n.DEFAULT_STDDEV=.05,n.mean=e.mean||n.DEFAULT_MEAN,n.stddev=e.stddev||n.DEFAULT_STDDEV,n.seed=e.seed,n}return u(e,t),e.prototype.apply=function(t,e){if("bool"===e)throw new f.NotImplementedError("randomNormal does not support dType bool.");return g.randomNormal(t,this.mean,this.stddev,e,this.seed)},e.prototype.getConfig=function(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}},e.className="RandomNormal",e}(I);e.RandomNormal=x,h.serialization.SerializationMap.register(x);var w=function(t){function e(e){var n=t.call(this)||this;return n.DEFAULT_MEAN=0,n.DEFAULT_STDDEV=.05,n.mean=e.mean||n.DEFAULT_MEAN,n.stddev=e.stddev||n.DEFAULT_STDDEV,n.seed=e.seed,n}return u(e,t),e.prototype.apply=function(t,e){if("bool"===e)throw new f.NotImplementedError("truncatedNormal does not support dType bool.");return h.truncatedNormal(t,this.mean,this.stddev,e,this.seed)},e.prototype.getConfig=function(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}},e.className="TruncatedNormal",e}(I);e.TruncatedNormal=w,h.serialization.SerializationMap.register(w);var S=function(t){function e(e){var n=t.call(this)||this;return n.gain=null!=e.gain?h.scalar(e.gain):p.getScalar(1),n}return u(e,t),e.prototype.apply=function(t,e){var n=this;return h.tidy(function(){if(2!==t.length||t[0]!==t[1])throw new f.ValueError("Identity matrix initializer can only be used for 2D square matrices.");return h.mul(n.gain,h.eye(t[0]))})},e.prototype.getConfig=function(){return{gain:this.gain.get()}},e.className="Identity",e}(I);e.Identity=S,h.serialization.SerializationMap.register(S);var T=function(t){function e(e){var n=t.call(this)||this;if(e.scale<0)throw new f.ValueError("scale must be a positive float. Got: "+e.scale);return n.scale=null==e.scale?1:e.scale,n.mode=e.mode,r(n.mode),n.distribution=e.distribution,i(n.distribution),n.seed=e.seed,n}return u(e,t),
e.prototype.apply=function(t,e){var n=a(t),r=n[0],i=n[1],o=this.scale;if(o/="fanIn"===this.mode?Math.max(1,r):"fanOut"===this.mode?Math.max(1,i):Math.max(1,(r+i)/2),"normal"===this.distribution){var s=Math.sqrt(o);if("bool"===e)throw new f.NotImplementedError(this.getClassName()+" does not support dType bool.");return h.truncatedNormal(t,0,s,e,this.seed)}var l=Math.sqrt(3*o);return h.randomUniform(t,-l,l,e)},e.prototype.getConfig=function(){return{scale:this.scale,mode:this.mode,distribution:this.distribution,seed:this.seed}},e.className="VarianceScaling",e}(I);e.VarianceScaling=T,h.serialization.SerializationMap.register(T);var N=function(t){function e(e){return t.call(this,{scale:1,mode:"fanAvg",distribution:"uniform",seed:null==e?null:e.seed})||this}return u(e,t),e.prototype.getClassName=function(){return T.className},e}(T);e.GlorotUniform=N;var E=function(t){function e(e){return t.call(this,{scale:1,mode:"fanAvg",distribution:"normal",seed:null==e?null:e.seed})||this}return u(e,t),e.prototype.getClassName=function(){return T.className},e}(T);e.GlorotNormal=E;var k=function(t){function e(e){return t.call(this,{scale:2,mode:"fanIn",distribution:"normal",seed:null==e?null:e.seed})||this}return u(e,t),e.prototype.getClassName=function(){return T.className},e}(T);e.HeNormal=k;var O=function(t){function e(e){return t.call(this,{scale:1,mode:"fanIn",distribution:"normal",seed:null==e?null:e.seed})||this}return u(e,t),e.prototype.getClassName=function(){return T.className},e}(T);e.LeCunNormal=O;var M=function(t){function e(e){var n=t.call(this)||this;if(n.DEFAULT_GAIN=1,n.gain=null==e.gain?n.DEFAULT_GAIN:e.gain,n.seed=e.seed,null!=n.seed)throw new f.NotImplementedError("Random seed is not implemented for Orthogonal Initializer yet.");return n}return u(e,t),e.prototype.apply=function(t,e){var n=this;return h.tidy(function(){if(2!==t.length)throw new f.NotImplementedError("The Orthogonal Initializer does not support non-2D shapes yet.");t[0]*t[1]>2e3&&console.warn("Orthogonal initializer is being called on a matrix with more "+("than 2000 ("+t[0]*t[1]+") elements: ")+"Slowness may result.");var e=t[0]>t[1]?[t[1],t[0]]:t,r=g.randomNormal(e,0,1,"float32"),i=h.linalg.gramSchmidt(r);return t[0]>t[1]&&(i=i.transpose()),h.mul(p.getScalar(n.gain),i)})},e.prototype.getConfig=function(){return{gain:this.gain,seed:this.seed}},e.className="Orthogonal",e}(I);e.Orthogonal=M,h.serialization.SerializationMap.register(M),e.INITIALIZER_IDENTIFIER_REGISTRY_SYMBOL_MAP={constant:"Constant",glorotNormal:"GlorotNormal",glorotUniform:"GlorotUniform",heNormal:"HeNormal",identity:"Identity",leCunNormal:"LeCunNormal",ones:"Ones",orthogonal:"Orthogonal",randomNormal:"RandomNormal",randomUniform:"RandomUniform",truncatedNormal:"TruncatedNormal",varianceScaling:"VarianceScaling",zeros:"Zeros"},e.serializeInitializer=s,e.getInitializer=l},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(505),a=n(675),o=n(664),s=n(655),l=n(652),u=n(654),c=n(659),h=function(t){function e(e){var n=t.call(this,null==e?{}:e)||this;return n.DEFAULT_ALPHA=.3,null==e&&(e={}),n.alpha=null==e.alpha?n.DEFAULT_ALPHA:e.alpha,n}return r(e,t),e.prototype.call=function(t,e){var n=c.getExactlyOneTensor(t);return i.leakyRelu(n,this.alpha)},e.prototype.computeOutputShape=function(t){return t},e.prototype.getConfig=function(){var e={alpha:this.alpha},n=t.prototype.getConfig.call(this);return Object.assign(e,n),e},e.className="LeakyReLU",e}(s.Layer);e.LeakyReLU=h,i.serialization.SerializationMap.register(h);var g=function(t){function e(e){var n=t.call(this,null==e?{}:e)||this;if(n.DEFAULT_ALPHA=1,null==e&&(e={}),null!=e.alpha&&e.alpha!==n.DEFAULT_ALPHA)throw new u.NotImplementedError("Non-default alpha value ("+e.alpha+") is not supported by the ELU layer yet.");return n.alpha=null==e.alpha?n.DEFAULT_ALPHA:e.alpha,n}return r(e,t),e.prototype.call=function(t,e){var n=c.getExactlyOneTensor(t);return i.elu(n)},e.prototype.computeOutputShape=function(t){return t},e.prototype.getConfig=function(){var e={alpha:this.alpha},n=t.prototype.getConfig.call(this);return Object.assign(e,n),e},e.className="ELU",e}(s.Layer);e.ELU=g,i.serialization.SerializationMap.register(g);var d=function(t){function e(e){var n=t.call(this,null==e?{}:e)||this;return n.DEFAULT_THETA=1,null==e&&(e={}),n.theta=null==e.theta?n.DEFAULT_THETA:e.theta,n.thetaTensor=l.getScalar(n.theta),n}return r(e,t),e.prototype.call=function(t,e){var n=c.getExactlyOneTensor(t);return n.mul(o.cast(n.greater(this.thetaTensor),"float32"))},e.prototype.computeOutputShape=function(t){return t},e.prototype.getConfig=function(){var e={theta:this.theta},n=t.prototype.getConfig.call(this);return Object.assign(e,n),e},e.className="ThresholdedReLU",e}(s.Layer);e.ThresholdedReLU=d,i.serialization.SerializationMap.register(d);var p=function(t){function e(e){var n=t.call(this,null==e?{}:e)||this;return n.DEFAULT_AXIS=1,null==e&&(e={}),n.softmax=(new a.Softmax).apply,n.axis=null==e.axis?n.DEFAULT_AXIS:e.axis,n}return r(e,t),e.prototype.call=function(t,e){var n=c.getExactlyOneTensor(t);return this.softmax(n,this.axis)},e.prototype.computeOutputShape=function(t){return t},e.prototype.getConfig=function(){var e={axis:this.axis},n=t.prototype.getConfig.call(this);return Object.assign(e,n),e},e.className="Softmax",e}(s.Layer);e.Softmax=p,i.serialization.SerializationMap.register(p)},function(t,e,n){"use strict";function r(t){return t.getClassName()}function i(t,e){return void 0===e&&(e={}),h.deserializeKerasObject(t,l.serialization.SerializationMap.getMap().classNameMap,e,"activation")}function a(t){if(null==t){var e={className:"linear",config:{}};return i(e)}if("string"==typeof t){var e={className:t,config:{}};return i(e)}return t instanceof g?t:i(t)}var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var s=n(505),l=n(505),u=n(664),c=n(652),h=n(653),g=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.getConfig=function(){return{}},e}(l.serialization.Serializable);e.Activation=g;var d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.apply=function(t,e){return void 0===e&&(e=1),u.elu(t,e)},e.className="elu",e}(g);e.Elu=d,l.serialization.SerializationMap.register(d);var p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.apply=function(t){return s.selu(t)},e.className="selu",e}(g);e.Selu=p,l.serialization.SerializationMap.register(p);var f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.apply=function(t){return s.relu(t)},e.className="relu",e}(g);e.Relu=f,l.serialization.SerializationMap.register(f);var A=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.apply=function(t){return l.tidy(function(){return s.minimum(c.getScalar(6),s.relu(t))})},e.className="relu6",e}(g);e.Relu6=A,l.serialization.SerializationMap.register(A);var C=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.apply=function(t){return t},e.className="linear",e}(g);e.Linear=C,l.serialization.SerializationMap.register(C);var I=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.apply=function(t){return s.sigmoid(t)},e.className="sigmoid",e}(g);e.Sigmoid=I,l.serialization.SerializationMap.register(I);var m=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.apply=function(t){return u.hardSigmoid(t)},e.className="hardSigmoid",e}(g);e.HardSigmoid=m,l.serialization.SerializationMap.register(m);var v=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.apply=function(t){return s.softplus(t)},e.className="softplus",e}(g);e.Softplus=v,l.serialization.SerializationMap.register(v);var y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.apply=function(t){return u.softsign(t)},e.className="softsign",e}(g);e.Softsign=y,l.serialization.SerializationMap.register(y);var b=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.apply=function(t){return s.tanh(t)},e.className="tanh",e}(g);e.Tanh=b,l.serialization.SerializationMap.register(b);var x=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.apply=function(t,e){return void 0===e&&(e=-1),s.softmax(t,e)},e.className="softmax",e}(g);e.Softmax=x,l.serialization.SerializationMap.register(x),e.serializeActivation=r,e.deserializeActivation=i,e.getActivation=a},function(t,e,n){"use strict";function r(t,e){return c.tidy(function(){return p.checkDataFormat(e),"channelsFirst"===e?u.transpose(t,[0,2,3,1]):t})}function i(t,e,n,r,i,a,o){return void 0===r&&(r=1),void 0===i&&(i="valid"),void 0===o&&(o=1),c.tidy(function(){if(null==a&&(a=g.imageDataFormat()),p.checkDataFormat(a),3!==t.shape.length)throw new C.ValueError("The input of a conv1dWithBias operation should be 3, but is "+(t.shape.length+" instead."));if(3!==e.shape.length)throw new C.ValueError("The kernel for a conv1dWithBias operation should be 3, but is "+(e.shape.length+" instead"));if(null!=n&&1!==n.shape.length)throw new C.ValueError("The bias for a conv1dWithBias operation should be 1, but is "+(e.shape.length+" instead"));if("channelsFirst"===a&&(t=u.transpose(t,[0,2,1])),"causal"===i)throw new C.NotImplementedError("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");var s=u.conv1d(t,e,r,"same"===i?"same":"valid","NWC",o);return null!=n&&(s=d.biasAdd(s,n)),s})}function a(t,e,n,r,a,o){return void 0===n&&(n=1),void 0===r&&(r="valid"),void 0===o&&(o=1),c.tidy(function(){return p.checkDataFormat(a),i(t,e,null,n,r,a,o)})}function o(t,e,n,r,i,a){return void 0===n&&(n=[1,1]),void 0===r&&(r="valid"),c.tidy(function(){return p.checkDataFormat(i),s(t,e,null,n,r,i,a)})}function s(t,e,n,i,a,o,s){return void 0===i&&(i=[1,1]),void 0===a&&(a="valid"),c.tidy(function(){if(null==o&&(o=g.imageDataFormat()),p.checkDataFormat(o),3!==t.rank&&4!==t.rank)throw new C.ValueError("conv2dWithBias expects input to be of rank 3 or 4, but received "+(t.rank+"."));if(3!==e.rank&&4!==e.rank)throw new C.ValueError("conv2dWithBias expects kernel to be of rank 3 or 4, but received "+(t.rank+"."));var l=r(t,o);if("causal"===a)throw new C.NotImplementedError("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");return l=u.conv2d(l,e,i,"same"===a?"same":"valid","NHWC",s),null!=n&&(l=d.biasAdd(l,n)),"channelsFirst"===o&&(l=u.transpose(l,[0,3,1,2])),l})}var l=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var u=n(505),c=n(505),h=n(675),g=n(651),d=n(664),p=n(656),f=n(650),A=n(655),C=n(654),I=n(673),m=n(677),v=n(678),y=n(653),b=n(659);e.preprocessConv2DInput=r,e.conv1dWithBias=i,e.conv1d=a,e.conv2d=o,e.conv2dWithBias=s;var x=function(t){function e(n,r){var i=t.call(this,r)||this;if(i.bias=null,i.DEFAULT_KERNEL_INITIALIZER="glorotNormal",i.DEFAULT_BIAS_INITIALIZER="zeros",e.verifyConfig(r),i.rank=n,1!==i.rank&&2!==i.rank)throw new C.NotImplementedError("Convolution layer for rank other than 1 or 2 ("+i.rank+") is not implemented yet.");if(i.kernelSize=v.normalizeArray(r.kernelSize,n,"kernelSize"),i.strides=v.normalizeArray(null==r.strides?1:r.strides,n,"strides"),i.padding=null==r.padding?"valid":r.padding,p.checkPaddingMode(i.padding),i.dataFormat=null==r.dataFormat?"channelsLast":r.dataFormat,p.checkDataFormat(i.dataFormat),i.activation=h.getActivation(r.activation),i.useBias=null==r.useBias||r.useBias,i.biasInitializer=I.getInitializer(r.biasInitializer||i.DEFAULT_BIAS_INITIALIZER),i.biasConstraint=f.getConstraint(r.biasConstraint),i.biasRegularizer=m.getRegularizer(r.biasRegularizer),i.activityRegularizer=m.getRegularizer(r.activityRegularizer),i.dilationRate=v.normalizeArray(null==r.dilationRate?1:r.dilationRate,n,"dilationRate"),1===i.rank&&Array.isArray(i.dilationRate)&&1!==i.dilationRate.length)throw new C.ValueError("dilationRate must be a number or an array of a single number for 1D convolution, but received "+JSON.stringify(i.dilationRate));if(2===i.rank)if("number"==typeof i.dilationRate)i.dilationRate=[i.dilationRate,i.dilationRate];else if(2!==i.dilationRate.length)throw new C.ValueError("dilationRate must be a number or array of two numbers for 2D convolution, but received "+JSON.stringify(i.dilationRate));return i}return l(e,t),e.verifyConfig=function(t){if(y.assert("kernelSize"in t,"required key 'kernelSize' not in config"),"number"!=typeof t.kernelSize&&!y.checkArrayTypeAndLength(t.kernelSize,"number",1,2))throw new C.ValueError("BaseConv expects config.kernelSize to be number or number[] with "+("length 1 or 2, but received "+JSON.stringify(t.kernelSize)+"."))},e}(A.Layer);e.BaseConv=x;var w=function(t){function e(n,r){var i=t.call(this,n,r)||this;return i.kernel=null,e.verifyConfig(r),i.filters=r.filters,i.kernelInitializer=I.getInitializer(r.kernelInitializer||i.DEFAULT_KERNEL_INITIALIZER),i.kernelConstraint=f.getConstraint(r.kernelConstraint),i.kernelRegularizer=m.getRegularizer(r.kernelRegularizer),i}return l(e,t),e.prototype.build=function(t){t=b.getExactlyOneShape(t);var e="channelsFirst"===this.dataFormat?1:t.length-1;if(null==t[e])throw new C.ValueError("The channel dimension of the input should be defined. Found "+t[e]);var n=t[e],r=this.kernelSize.concat([n,this.filters]);this.kernel=this.addWeight("kernel",r,null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[{ndim:this.rank+2,axes:(i={},i[e]=n,i)}],this.built=!0;var i},e.prototype.call=function(t,e){var n=this;return c.tidy(function(){t=b.getExactlyOneTensor(t);var e,r=null==n.bias?null:n.bias.read();if(1===n.rank)e=i(t,n.kernel.read(),r,n.strides[0],n.padding,n.dataFormat,n.dilationRate[0]);else if(2===n.rank)e=s(t,n.kernel.read(),r,n.strides,n.padding,n.dataFormat,n.dilationRate);else if(3===n.rank)throw new C.NotImplementedError("3D convolution is not implemented yet.");return null!=n.activation&&(e=n.activation.apply(e)),e})},e.prototype.computeOutputShape=function(t){t=b.getExactlyOneShape(t);for(var e=[],n="channelsLast"===this.dataFormat?t.slice(1,t.length-1):t.slice(2),r=0;r<n.length;++r){var i=v.convOutputLength(n[r],this.kernelSize[r],this.padding,this.strides[r],"number"==typeof this.dilationRate?this.dilationRate:this.dilationRate[r]);e.push(i)}var a=[t[0]];return"channelsLast"===this.dataFormat?(a=a.concat(e),a.push(this.filters)):(a.push(this.filters),a=a.concat(e)),a},e.prototype.getConfig=function(){var e={rank:this.rank,filters:this.filters,kernelSize:this.kernelSize,strides:this.strides,padding:this.padding,dataFormat:this.dataFormat,dilationRate:this.dilationRate,activation:h.serializeActivation(this.activation),useBias:this.useBias,kernelInitializer:I.serializeInitializer(this.kernelInitializer),biasInitializer:I.serializeInitializer(this.biasInitializer),kernelRegularizer:m.serializeRegularizer(this.kernelRegularizer),biasRegularizer:m.serializeRegularizer(this.biasRegularizer),activityRegularizer:m.serializeRegularizer(this.activityRegularizer),kernelConstraint:f.serializeConstraint(this.kernelConstraint),biasConstraint:f.serializeConstraint(this.biasConstraint)},n=t.prototype.getConfig.call(this);return Object.assign(e,n),e},e.verifyConfig=function(t){if(!("filters"in t)||"number"!=typeof t.filters||t.filters<1)throw new C.ValueError("Convolution layer expected config.filters to be a 'number' > 0 but got "+JSON.stringify(t.filters))},e}(x);e.Conv=w;var S=function(t){function e(n){var r=t.call(this,2,n)||this;return e.verifyConfig(n),r}return l(e,t),e.prototype.getConfig=function(){var e=t.prototype.getConfig.call(this);return delete e.rank,e},e.verifyConfig=function(t){if("number"!=typeof t.kernelSize&&!y.checkArrayTypeAndLength(t.kernelSize,"number",1,2))throw new C.ValueError("Conv2D expects config.kernelSize to be number or number[] with "+("length 1 or 2, but received "+JSON.stringify(t.kernelSize)+"."))},e.className="Conv2D",e}(w);e.Conv2D=S,c.serialization.SerializationMap.register(S);var T=function(t){function e(e){var n=t.call(this,e)||this;if(n.inputSpec=[new A.InputSpec({ndim:4})],"same"!==n.padding&&"valid"!==n.padding)throw new C.ValueError("Conv2DTranspose currently supports only padding modes 'same' and 'valid', but received padding mode "+n.padding);return n}return l(e,t),e.prototype.build=function(t){if(t=b.getExactlyOneShape(t),4!==t.length)throw new C.ValueError("Input should have rank 4; Received input shape: "+JSON.stringify(t));var e="channelsFirst"===this.dataFormat?1:t.length-1;if(null==t[e])throw new C.ValueError("The channel dimension of the inputs should be defined. Found `None`.");var n=t[e],r=this.kernelSize.concat([this.filters,n]);this.kernel=this.addWeight("kernel",r,"float32",this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[new A.InputSpec({ndim:4,axes:(i={},i[e]=n,i)})],this.built=!0;var i},e.prototype.call=function(t,e){var n=this;return u.tidy(function(){var e=b.getExactlyOneTensor(t);if(4!==e.shape.length)throw new C.ValueError("Conv2DTranspose.call() expects input tensor to be rank-4, but received a tensor of rank-"+e.shape.length);var r,i,a=e.shape,o=a[0];"channelsFirst"===n.dataFormat?(r=2,i=3):(r=1,i=2);var s=a[r],l=a[i],c=n.kernelSize[0],h=n.kernelSize[1],g=n.strides[0],p=n.strides[1],f=v.deconvLength(s,g,c,n.padding),A=v.deconvLength(l,p,h,n.padding),I=[o,f,A,n.filters];"channelsLast"!==n.dataFormat&&(e=u.transpose(e,[0,2,3,1]));var m=u.conv2dTranspose(e,n.kernel.read(),I,n.strides,n.padding);return"channelsLast"!==n.dataFormat&&(m=u.transpose(m,[0,3,1,2])),null!=n.bias&&(m=d.biasAdd(m,n.bias.read(),n.dataFormat)),null!=n.activation&&(m=n.activation.apply(m)),m})},e.prototype.computeOutputShape=function(t){t=b.getExactlyOneShape(t);var e,n,r,i=t.slice();"channelsFirst"===this.dataFormat?(e=1,n=2,r=3):(e=3,n=1,r=2);var a=this.kernelSize[0],o=this.kernelSize[1],s=this.strides[0],l=this.strides[1];return i[e]=this.filters,i[n]=v.deconvLength(i[n],s,a,this.padding),i[r]=v.deconvLength(i[r],l,o,this.padding),i},e.prototype.getConfig=function(){var e=t.prototype.getConfig.call(this);return delete e.dilationRate,e},e.className="Conv2DTranspose",e}(S);e.Conv2DTranspose=T,c.serialization.SerializationMap.register(T);var N=function(t){function e(e,n){var r=t.call(this,e,n)||this;if(r.DEFAULT_DEPTHWISE_INITIALIZER="glorotUniform",r.DEFAULT_POINTWISE_INITIALIZER="glorotUniform",r.depthwiseKernel=null,r.pointwiseKernel=null,null==n.filters)throw new C.ValueError("The `filters` configuration field is required by SeparableConv, but is unspecified.");if(null!=n.kernelInitializer||null!=n.kernelRegularizer||null!=n.kernelConstraint)throw new C.ValueError("Fields kernelInitializer, kernelRegularizer and kernelConstraint are invalid for SeparableConv2D. Use depthwiseInitializer, depthwiseRegularizer, depthwiseConstraint, pointwiseInitializer, pointwiseRegularizer and pointwiseConstraint instead.");if(null!=n.padding&&"same"!==n.padding&&"valid"!==n.padding)throw new C.ValueError("SeparableConv"+r.rank+"D supports only padding modes: 'same' and 'valid', but received "+JSON.stringify(n.padding));return r.depthMultiplier=null==n.depthMultiplier?1:n.depthMultiplier,r.depthwiseInitializer=I.getInitializer(n.depthwiseInitializer||r.DEFAULT_DEPTHWISE_INITIALIZER),r.depthwiseRegularizer=m.getRegularizer(n.depthwiseRegularizer),r.depthwiseConstraint=f.getConstraint(n.depthwiseConstraint),r.pointwiseInitializer=I.getInitializer(n.depthwiseInitializer||r.DEFAULT_POINTWISE_INITIALIZER),r.pointwiseRegularizer=m.getRegularizer(n.pointwiseRegularizer),r.pointwiseConstraint=f.getConstraint(n.pointwiseConstraint),r}return l(e,t),e.prototype.build=function(t){if(t=b.getExactlyOneShape(t),t.length<this.rank+2)throw new C.ValueError("Inputs to SeparableConv"+this.rank+"D should have rank "+(this.rank+2+", but received input shape: ")+(""+JSON.stringify(t)));var e="channelsFirst"===this.dataFormat?1:t.length-1;if(null==t[e]||t[e]<0)throw new C.ValueError("The channel dimension of the inputs should be defined, but found "+JSON.stringify(t[e]));for(var n=t[e],r=this.kernelSize.concat([n,this.depthMultiplier]),i=[],a=0;a<this.rank;++a)i.push(1);i.push(n*this.depthMultiplier,this.filters);var o=!0;this.depthwiseKernel=this.addWeight("depthwise_kernel",r,"float32",this.depthwiseInitializer,this.depthwiseRegularizer,o,this.depthwiseConstraint),this.pointwiseKernel=this.addWeight("pointwise_kernel",i,"float32",this.pointwiseInitializer,this.pointwiseRegularizer,o,this.pointwiseConstraint),this.useBias?this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,o,this.biasConstraint):this.bias=null,this.inputSpec=[new A.InputSpec({ndim:this.rank+2,axes:(s={},s[e]=n,s)})],this.built=!0;var s},e.prototype.call=function(t,e){var n=this;return c.tidy(function(){t=b.getExactlyOneTensor(t);var e;if(1===n.rank)throw new C.NotImplementedError("1D separable convolution is not implemented yet.");return 2===n.rank&&("channelsFirst"===n.dataFormat&&(t=u.transpose(t,[0,2,3,1])),e=u.separableConv2d(t,n.depthwiseKernel.read(),n.pointwiseKernel.read(),n.strides,n.padding,n.dilationRate,"NHWC")),n.useBias&&(e=d.biasAdd(e,n.bias.read(),n.dataFormat)),null!=n.activation&&(e=n.activation.apply(e)),"channelsFirst"===n.dataFormat&&(e=u.transpose(e,[0,3,1,2])),e})},e.prototype.getConfig=function(){var e=t.prototype.getConfig.call(this);return delete e.rank,delete e.kernelInitializer,delete e.kernelRegularizer,delete e.kernelConstraint,e.depthwiseInitializer=I.serializeInitializer(this.depthwiseInitializer),e.pointwiseInitializer=I.serializeInitializer(this.pointwiseInitializer),e.depthwiseRegularizer=m.serializeRegularizer(this.depthwiseRegularizer),e.pointwiseRegularizer=m.serializeRegularizer(this.pointwiseRegularizer),e.depthwiseConstraint=f.serializeConstraint(this.depthwiseConstraint),e.pointwiseConstraint=f.serializeConstraint(this.pointwiseConstraint),e},e.className="SeparableConv",e}(w);e.SeparableConv=N;var E=function(t){function e(e){return t.call(this,2,e)||this}return l(e,t),e.className="SeparableConv2D",e}(N);e.SeparableConv2D=E,c.serialization.SerializationMap.register(E);var k=function(t){function e(n){var r=t.call(this,1,n)||this;return e.verifyConfig(n),r.inputSpec=[{ndim:3}],r}return l(e,t),e.prototype.getConfig=function(){var e=t.prototype.getConfig.call(this);return delete e.rank,delete e.dataFormat,e},e.verifyConfig=function(t){if("number"!=typeof t.kernelSize&&!y.checkArrayTypeAndLength(t.kernelSize,"number",1,1))throw new C.ValueError("Conv1D expects config.kernelSize to be number or number[] with "+("length 1, but received "+JSON.stringify(t.kernelSize)+"."))},e.className="Conv1D",e}(w);e.Conv1D=k,c.serialization.SerializationMap.register(k);var O=function(t){function e(e){var n=t.call(this,e)||this;return"number"==typeof e.cropping?n.cropping=[[e.cropping,e.cropping],[e.cropping,e.cropping]]:"number"==typeof e.cropping[0]?n.cropping=[[e.cropping[0],e.cropping[0]],[e.cropping[1],e.cropping[1]]]:n.cropping=e.cropping,n.dataFormat=void 0===e.dataFormat?"channelsLast":e.dataFormat,n.inputSpec=[{ndim:4}],n}return l(e,t),e.prototype.computeOutputShape=function(t){return"channelsFirst"===this.dataFormat?[t[0],t[1],t[2]-this.cropping[0][0]-this.cropping[0][1],t[2]-this.cropping[1][0]-this.cropping[1][1]]:[t[0],t[1]-this.cropping[0][0]-this.cropping[0][1],t[2]-this.cropping[1][0]-this.cropping[1][1],t[3]]},e.prototype.call=function(t,e){var n=this;return c.tidy(function(){if(t=b.getExactlyOneTensor(t),"channelsLast"===n.dataFormat){var e=d.sliceAlongAxis(t,n.cropping[0][0],t.shape[1]-n.cropping[0][0]-n.cropping[0][1],2);return d.sliceAlongAxis(e,n.cropping[1][0],t.shape[2]-n.cropping[1][1]-n.cropping[1][0],3)}var e=d.sliceAlongAxis(t,n.cropping[0][0],t.shape[2]-n.cropping[0][0]-n.cropping[0][1],3);return d.sliceAlongAxis(e,n.cropping[1][0],t.shape[3]-n.cropping[1][1]-n.cropping[1][0],4)})},e.prototype.getConfig=function(){var e={cropping:this.cropping,dataFormat:this.dataFormat},n=t.prototype.getConfig.call(this);return Object.assign(e,n),e},e.className="Cropping2D",e}(A.Layer);e.Cropping2D=O,c.serialization.SerializationMap.register(O);var M=function(t){function e(e){var n=t.call(this,e)||this;return n.DEFAULT_SIZE=[2,2],n.inputSpec=[{ndim:4}],n.size=void 0===e.size?n.DEFAULT_SIZE:e.size,n.dataFormat=void 0===e.dataFormat?"channelsLast":e.dataFormat,n}return l(e,t),e.prototype.computeOutputShape=function(t){if("channelsFirst"===this.dataFormat){var e=this.size[0]*t[2],n=this.size[1]*t[3];return[t[0],t[1],e,n]}var e=this.size[0]*t[1],n=this.size[1]*t[2];return[t[0],e,n,t[3]]},e.prototype.call=function(t,e){var n=this;return u.tidy(function(){var e=b.getExactlyOneTensor(t),r=e.shape;if("channelsFirst"===n.dataFormat){e=u.transpose(e,[0,2,3,1]);var i=n.size[0]*r[2],a=n.size[1]*r[3],o=e.resizeNearestNeighbor([i,a]);return u.transpose(o,[0,3,1,2])}var i=n.size[0]*r[1],a=n.size[1]*r[2];return e.resizeNearestNeighbor([i,a])})},e.prototype.getConfig=function(){var e={size:this.size,dataFormat:this.dataFormat},n=t.prototype.getConfig.call(this);return Object.assign(e,n),e},e.className="UpSampling2D",e}(A.Layer);e.UpSampling2D=M,c.serialization.SerializationMap.register(M)},function(t,e,n){"use strict";function r(t){return new A({l1:null!=t?t.l1:null,l2:0})}function i(t){return new A({l2:null!=t?t.l2:null,l1:0})}function a(t){return p.serializeKerasObject(t)}function o(t,e){return void 0===e&&(e={}),p.deserializeKerasObject(t,h.serialization.SerializationMap.getMap().classNameMap,e,"regularizer")}function s(t){if(null==t)return null;if("string"==typeof t){var n=t in e.REGULARIZER_IDENTIFIER_REGISTRY_SYMBOL_MAP?e.REGULARIZER_IDENTIFIER_REGISTRY_SYMBOL_MAP[t]:t,r={className:n,config:{}};return o(r)}return t instanceof f?t:o(t)}var l=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),u=this&&this.__decorate||function(t,e,n,r){var i,a=arguments.length,o=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(o=(a<3?i(o):a>3?i(e,n,o):i(e,n))||o);return a>3&&o&&Object.defineProperty(e,n,o),o};Object.defineProperty(e,"__esModule",{value:!0});var c=n(505),h=n(505),g=n(664),d=n(652),p=n(653),f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return l(e,t),e}(h.serialization.Serializable);e.Regularizer=f;var A=function(t){function e(e){var n=t.call(this)||this,r=null==e||null==e.l1?.01:e.l1,i=null==e||null==e.l2?.01:e.l2;return n.hasL1=0!==r,n.hasL2=0!==i,n.l1=d.getScalar(r),n.l2=d.getScalar(i),n}return l(e,t),e.prototype.apply=function(t){var e=this;return h.tidy(function(){var n=h.zeros([1]);return e.hasL1&&(n=h.add(n,h.sum(c.mul(e.l1,h.abs(t))))),e.hasL2&&(n=h.add(n,h.sum(c.mul(e.l2,g.square(t))))),n.asScalar()})},e.prototype.getConfig=function(){return{l1:this.l1.dataSync()[0],l2:this.l2.dataSync()[0]}},e.fromConfig=function(t,e){return new t({l1:e.l1,l2:e.l2})},e.className="L1L2",e=u([h.doc({heading:"Regularizers",namespace:"regularizers"})],e)}(f);e.L1L2=A,h.serialization.SerializationMap.register(A),e.l1=r,e.l2=i,e.REGULARIZER_IDENTIFIER_REGISTRY_SYMBOL_MAP={l1l2:"L1L2"},e.serializeRegularizer=a,e.deserializeRegularizer=o,e.getRegularizer=s},function(t,e,n){"use strict";function r(t,e,n){if("number"==typeof t)return s.pyListRepeat(t,e);if(t.length!==e)throw new o.ValueError("The "+n+" argument must be a tuple of "+e+" integers. Received: "+(t.length+" elements."));for(var r=0;r<e;++r){var i=t[r];if(!l.isInteger(i))throw new o.ValueError("The "+n+" argument must be a tuple of "+e+" integers. Received: "+(JSON.stringify(t)+" including a non-integer number ")+(""+i))}return t}function i(t,e,n,r,i){if(void 0===i&&(i=1),null==t)return t;var a,o=e+(e-1)*(i-1);return a="same"===n?t:t-o+1,Math.floor((a+r-1)/r)}function a(t,e,n,r){if(null==t)return null;if("valid"===r)t=t*e+l.max([n-e,0]);else{if("same"!==r)throw new o.ValueError("Unsupport padding mode: "+r+".");t*=e}return t}Object.defineProperty(e,"__esModule",{value:!0});var o=n(654),s=n(653),l=n(665);e.normalizeArray=r,e.convOutputLength=i,e.deconvLength=a},function(t,e,n){"use strict";function r(t,e,n,r,i,l){return void 0===n&&(n=[1,1]),void 0===r&&(r="valid"),o.tidy(function(){null==i&&(i=s.imageDataFormat()),u.checkDataFormat(i);var o=A.preprocessConv2DInput(t,i);if(4!==t.rank)throw new h.ValueError("Input for depthwiseConv2d is required to be 4-D, but is instead "+(t.rank+"-D"));if(4!==e.rank)throw new h.ValueError("depthwiseKernel is required to be 4-D, but is instead "+(e.rank+"-D"));return o=a.depthwiseConv2d(o,e,n,"same"===r?"same":"valid","NHWC",l),"channelsFirst"===i&&(o=a.transpose(o,[0,3,1,2])),o})}var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var a=n(505),o=n(505),s=n(651),l=n(664),u=n(656),c=n(650),h=n(654),g=n(673),d=n(677),p=n(678),f=n(659),A=n(676);e.depthwiseConv2d=r;var C=function(t){function e(e){var n=t.call(this,2,e)||this;return n.depthwiseKernel=null,n.depthMultiplier=null==e.depthMultiplier?1:e.depthMultiplier,n.depthwiseInitializer=g.getInitializer(e.depthwiseInitializer||n.DEFAULT_KERNEL_INITIALIZER),n.depthwiseConstraint=c.getConstraint(e.depthwiseConstraint),n.depthwiseRegularizer=d.getRegularizer(e.depthwiseRegularizer),n}return i(e,t),e.prototype.build=function(t){if(t=f.getExactlyOneShape(t),t.length<4)throw new h.ValueError("Inputs to DepthwiseConv2D should have rank 4. "+("Received input shape: "+JSON.stringify(t)+"."));var e="channelsFirst"===this.dataFormat?1:3;if(null==t[e]||t[e]<0)throw new h.ValueError("The channel dimension of the inputs to DepthwiseConv2D should "+("be defined, but is not ("+t[e]+")."));var n=t[e],r=[this.kernelSize[0],this.kernelSize[1],n,this.depthMultiplier];this.depthwiseKernel=this.addWeight("depthwise_kernel",r,null,this.depthwiseInitializer,this.depthwiseRegularizer,!0,this.depthwiseConstraint),this.useBias?this.bias=this.addWeight("bias",[n*this.depthMultiplier],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,
this.built=!0},e.prototype.call=function(t,e){var n=this;return o.tidy(function(){t=f.getExactlyOneTensor(t);var e=r(t,n.depthwiseKernel.read(),n.strides,n.padding,n.dataFormat,null);return n.useBias&&(e=l.biasAdd(e,n.bias.read(),n.dataFormat)),null!=n.activation&&(e=n.activation.apply(e)),e})},e.prototype.computeOutputShape=function(t){t=f.getExactlyOneShape(t);var e="channelsFirst"===this.dataFormat?t[2]:t[1],n="channelsFirst"===this.dataFormat?t[3]:t[2],r="channelsFirst"===this.dataFormat?t[1]*this.depthMultiplier:t[3]*this.depthMultiplier,i=p.convOutputLength(e,this.kernelSize[0],this.padding,this.strides[0]),a=p.convOutputLength(n,this.kernelSize[1],this.padding,this.strides[1]);return"channelsFirst"===this.dataFormat?[t[0],r,i,a]:[t[0],i,a,r]},e.className="DepthwiseConv2D",e}(A.BaseConv);e.DepthwiseConv2D=C,o.serialization.SerializationMap.register(C)},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(505),a=n(675),o=n(664),s=n(650),l=n(655),u=n(652),c=n(654),h=n(673),g=n(677),d=n(665),p=n(659),f=function(t){function e(e){var n=t.call(this,e)||this;if(n.rate=Math.max(Math.min(e.rate,1),0),n.rateScalar=u.getScalar(n.rate),n.noiseShape=e.noiseShape,n.seed=e.seed,null!=n.seed)throw new c.NotImplementedError("Non-default seed is not implemented in Dropout layer yet: "+n.seed);return n.supportsMasking=!0,n}return r(e,t),e.prototype.getNoiseShape=function(t){if(null==this.noiseShape)return this.noiseShape;for(var e=t.shape,n=[],r=0;r<this.noiseShape.length;++r)n.push(null==this.noiseShape[r]?e[r]:this.noiseShape[r]);return n},e.prototype.call=function(t,e){var n=this;return i.tidy(function(){n.invokeCallHook(t,e);var r=p.getExactlyOneTensor(t);if(null!=n.noiseShape&&!i.util.arraysEqual(r.shape,n.noiseShape))throw new c.NotImplementedError("Non-default noise shape is not implemented in Dropout layer yet: "+JSON.stringify(n.noiseShape));if(0<n.rate&&n.rate<1){var a=null!=e.training&&e.training,s=n.getNoiseShape(r),l=o.inTrainPhase(function(){return o.dropout(r,n.rateScalar,s,n.seed)},function(){return r},a);return l}return t})},e.prototype.getConfig=function(){var e={rate:this.rate,noiseShape:this.noiseShape,seed:this.seed},n=t.prototype.getConfig.call(this);return Object.assign(e,n),e},e.className="Dropout",e}(l.Layer);e.Dropout=f,i.serialization.SerializationMap.register(f);var A=function(t){function e(e){var n=t.call(this,e)||this;if(n.activation=null,n.useBias=!0,n.kernel=null,n.bias=null,n.DEFAULT_KERNEL_INITIALIZER="glorotNormal",n.DEFAULT_BIAS_INITIALIZER="zeros",null==e.batchInputShape&&null==e.inputShape&&null!=e.inputDim){var r=null;null!=e.batchSize&&(r=e.batchSize),n.batchInputShape=[r,e.inputDim]}return n.units=e.units,n.activation=a.getActivation(e.activation),null!=e.useBias&&(n.useBias=e.useBias),n.kernelInitializer=h.getInitializer(e.kernelInitializer||n.DEFAULT_KERNEL_INITIALIZER),n.biasInitializer=h.getInitializer(e.biasInitializer||n.DEFAULT_BIAS_INITIALIZER),n.kernelConstraint=s.getConstraint(e.kernelConstraint),n.biasConstraint=s.getConstraint(e.biasConstraint),n.kernelRegularizer=g.getRegularizer(e.kernelRegularizer),n.biasRegularizer=g.getRegularizer(e.biasRegularizer),n.activityRegularizer=g.getRegularizer(e.activityRegularizer),n.inputSpec=[{minNDim:2}],n}return r(e,t),e.prototype.build=function(t){t=p.getExactlyOneShape(t);var e=t[t.length-1];null==this.kernel&&(this.kernel=this.addWeight("kernel",[e,this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint))),this.inputSpec=[{minNDim:2,axes:(n={},n[-1]=e,n)}],this.built=!0;var n},e.prototype.computeOutputShape=function(t){t=p.getExactlyOneShape(t);var e=t.slice();return e[e.length-1]=this.units,e},e.prototype.call=function(t,e){var n=this;return i.tidy(function(){n.invokeCallHook(t,e);var r=p.getExactlyOneTensor(t),i=o.dot(r,n.kernel.read());return null!=n.bias&&(i=o.biasAdd(i,n.bias.read())),null!=n.activation&&(i=n.activation.apply(i)),i})},e.prototype.getConfig=function(){var e={units:this.units,activation:a.serializeActivation(this.activation),useBias:this.useBias,kernelInitializer:h.serializeInitializer(this.kernelInitializer),biasInitializer:h.serializeInitializer(this.biasInitializer),kernelRegularizer:g.serializeRegularizer(this.kernelRegularizer),biasRegularizer:g.serializeRegularizer(this.biasRegularizer),activityRegularizer:g.serializeRegularizer(this.activityRegularizer),kernelConstraint:s.serializeConstraint(this.kernelConstraint),biasConstraint:s.serializeConstraint(this.biasConstraint)},n=t.prototype.getConfig.call(this);return Object.assign(e,n),e},e.className="Dense",e}(l.Layer);e.Dense=A,i.serialization.SerializationMap.register(A);var C=function(t){function e(e){var n=t.call(this,e||{})||this;return n.inputSpec=[{minNDim:3}],n}return r(e,t),e.prototype.computeOutputShape=function(t){t=p.getExactlyOneShape(t);for(var e=0,n=t.slice(1);e<n.length;e++){var r=n[e];if(null==r)throw new c.ValueError('The shape of the input to "Flatten" is not fully defined '+("(got "+t.slice(1)+"). Make sure to pass a complete ")+'"input_shape" or "batch_input_shape" argument to the first layer in your model.')}return[t[0],d.arrayProd(t,1)]},e.prototype.call=function(t,e){var n=this;return i.tidy(function(){return n.invokeCallHook(t,e),o.batchFlatten(p.getExactlyOneTensor(t))})},e.className="Flatten",e}(l.Layer);e.Flatten=C,i.serialization.SerializationMap.register(C);var I=function(t){function e(e){var n=t.call(this,e)||this;return n.supportsMasking=!0,n.activation=a.getActivation(e.activation),n}return r(e,t),e.prototype.call=function(t,e){var n=this;return i.tidy(function(){n.invokeCallHook(t,e);var r=p.getExactlyOneTensor(t);return n.activation.apply(r)})},e.prototype.getConfig=function(){var e={activation:a.serializeActivation(this.activation)},n=t.prototype.getConfig.call(this);return Object.assign(e,n),e},e.className="Activation",e}(l.Layer);e.Activation=I,i.serialization.SerializationMap.register(I);var m=function(t){function e(e){var n=t.call(this,e)||this;return n.n=e.n,n.inputSpec=[{ndim:2}],n}return r(e,t),e.prototype.computeOutputShape=function(t){return[t[0],this.n,t[1]]},e.prototype.call=function(t,e){var n=this;return i.tidy(function(){return t=p.getExactlyOneTensor(t),o.repeat(t,n.n)})},e.prototype.getConfig=function(){var e={n:this.n},n=t.prototype.getConfig.call(this);return Object.assign(e,n),e},e.className="RepeatVector",e}(l.Layer);e.RepeatVector=m,i.serialization.SerializationMap.register(m);var v=function(t){function e(e){var n=t.call(this,e)||this;n.targetShape=e.targetShape;for(var r=0;r<n.targetShape.length;++r)n.isUnknown(n.targetShape[r])&&(n.targetShape[r]=null);return n}return r(e,t),e.prototype.isUnknown=function(t){return t<0||null==t},e.prototype.fixUnknownDimension=function(t,e){for(var n="Total size of new array must be unchanged.",r=e.slice(),i=1,a=null,o=0;o<r.length;++o){var s=r[o];if(this.isUnknown(s)){if(null!==a)throw new c.ValueError("Can only specifiy one unknown dimension.");a=o}else i*=s}var l=d.arrayProd(t);if(null!==a){if(0===i||l%i!==0)throw new c.ValueError(n);r[a]=l/i}else if(l!==i)throw new c.ValueError(n);return r},e.prototype.computeOutputShape=function(t){for(var e=!1,n=0;n<t.length;++n)if(this.isUnknown(t[n])){e=!0;break}return e?t.slice(0,1).concat(this.targetShape):t.slice(0,1).concat(this.fixUnknownDimension(t.slice(1),this.targetShape))},e.prototype.call=function(t,e){var n=this;return i.tidy(function(){n.invokeCallHook(t,e);var r=p.getExactlyOneTensor(t),i=r.shape,a=i.slice(0,1).concat(n.fixUnknownDimension(i.slice(1),n.targetShape));return r.reshape(a)})},e.prototype.getConfig=function(){var e={targetShape:this.targetShape},n=t.prototype.getConfig.call(this);return Object.assign(e,n),e},e.className="Reshape",e}(l.Layer);e.Reshape=v,i.serialization.SerializationMap.register(v)},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(505),a=n(664),o=n(650),s=n(655),l=n(654),u=n(673),c=n(677),h=n(653),g=n(659),d=function(t){function e(e){var n=t.call(this,e)||this;if(n.embeddings=null,n.DEFAULT_EMBEDDINGS_INITIALIZER="randomUniform",null==e.batchInputShape&&null==e.inputShape){var r=null;null!=e.batchSize&&(r=e.batchSize),null==e.inputLength?n.batchInputShape=[r,null]:n.batchInputShape=[r].concat(h.toList(e.inputLength))}return n.inputDim=e.inputDim,n.outputDim=e.outputDim,n.embeddingsInitializer=u.getInitializer(e.embeddingsInitializer||n.DEFAULT_EMBEDDINGS_INITIALIZER),n.embeddingsRegularizer=c.getRegularizer(e.embeddingsRegularizer),n.activityRegularizer=c.getRegularizer(e.activityRegularizer),n.embeddingsConstraint=o.getConstraint(e.embeddingsConstraint),n.maskZero=e.maskZero,n.inputLength=e.inputLength,n}return r(e,t),e.prototype.build=function(t){this.embeddings=this.addWeight("embeddings",[this.inputDim,this.outputDim],this.dtype,this.embeddingsInitializer,this.embeddingsRegularizer,!0,this.embeddingsConstraint),this.built=!0},e.prototype.computeMask=function(t,e){throw new l.NotImplementedError("computeMask has not been implemented for Embedding yet")},e.prototype.computeOutputShape=function(t){if(t=g.getExactlyOneShape(t),null==this.inputLength)return t.concat([this.outputDim]);var e=h.toList(this.inputLength);if(e.length!==t.length-1)throw new l.ValueError('"inputLength" is '+this.inputLength+", but received input shape has shape "+t);for(var n=0,r=0;r<e.length;++r){var i=e[r],a=t[r+1];if(null!=i&&null!=a&&i!==a)throw new l.ValueError('"inputLength" is '+this.inputLength+", but received input shape has shape "+t);null==i&&(e[n]=a),n++}return[t[0]].concat(e,[this.outputDim])},e.prototype.call=function(t,e){var n=this;return i.tidy(function(){n.invokeCallHook(t,e);var r=g.getExactlyOneTensor(t);"int32"!==r.dtype&&(r=a.cast(r,"int32"));var i=a.gather(n.embeddings.read(),r.as1D());return i.reshape(g.getExactlyOneShape(n.computeOutputShape(r.shape)))})},e.prototype.getConfig=function(){var e={inputDim:this.inputDim,outputDim:this.outputDim,embeddingsInitializer:u.serializeInitializer(this.embeddingsInitializer),embeddingsRegularizer:c.serializeRegularizer(this.embeddingsRegularizer),activityRegularizer:c.serializeRegularizer(this.activityRegularizer),embeddingsConstraint:o.serializeConstraint(this.embeddingsConstraint),maskZero:this.maskZero,inputLength:this.inputLength},n=t.prototype.getConfig.call(this);return Object.assign(e,n),e},e.className="Embedding",e}(s.Layer);e.Embedding=d,i.serialization.SerializationMap.register(d)},function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){var e=new v({});return e.apply(t)}return new v(t)}function i(t){if(Array.isArray(t)){var e=new y({});return e.apply(t)}return new y(t)}function a(t){if(Array.isArray(t)){var e=new b({});return e.apply(t)}return new b(t)}function o(t){if(Array.isArray(t)){var e=new x({});return e.apply(t)}return new x(t)}function s(t){if(Array.isArray(t)){var e=new w({});return e.apply(t)}return new w(t)}function l(t){if(Array.isArray(t)){var e=new S({});return e.apply(t)}return new S(t)}var u=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var c=n(505),h=n(505),g=n(664),d=n(655),p=n(652),f=n(654),A=n(653),C=n(665),I=n(659),m=function(t){function e(e){var n=t.call(this,e||{})||this;return n.supportsMasking=!0,n}return u(e,t),e.prototype.mergeFunction=function(t){throw new f.NotImplementedError},e.prototype.computeElementwiseOpOutputShape=function(t,e){if(null==t||null==e)return null;if(t.length<e.length)return this.computeElementwiseOpOutputShape(e,t);if(0===e.length)return t;for(var n=t.slice(0,t.length-e.length),r=0;r<e.length;++r){var i=t[t.length-e.length+r],a=e[r];if(null==i||null==a||i<0||a<0)n.push(null);else if(1===i)n.push(a);else if(1===a)n.push(i);else{if(i!==a)throw new f.ValueError("Operands could not be broadcast together with shapes "+JSON.stringify(t)+" "+JSON.stringify(e));n.push(i)}}return n},e.prototype.build=function(t){if(Array.isArray(t)&&!Array.isArray(t[0])&&(t=[I.getExactlyOneShape(t)]),t=t,t.length<2)throw new f.ValueError("A merge layer should be called on an Array of at least 2 inputs."+(" Got "+t.length+" input(s)."));for(var e=[],n=0,r=t;n<r.length;n++){var i=r[n];null!=i&&null!==i[0]&&e.push(i[0])}if(e=A.unique(e),e.length>1)throw new f.ValueError("Can not merge tensors with different batch sizes. "+("Got tensors with shapes: "+JSON.stringify(t)+"."));for(var a=null==t[0]?null:t[0].slice(1),o=1;o<t.length;++o){var i=null==t[o]?null:t[o].slice(1);a=this.computeElementwiseOpOutputShape(a,i)}var s=t.map(function(t){return t.length});t.indexOf(null)===-1&&1===A.unique(s).length?this.reshapeRequired=!1:this.reshapeRequired=!0},e.prototype.call=function(t,e){var n=this;return h.tidy(function(){if(t=t,n.reshapeRequired){var e=[],r=t.map(function(t){return t.rank});if(r.indexOf(null)===-1){for(var i=C.max(r),a=0,o=t;a<o.length;a++){for(var s=o[a],l=s.rank,u=0;u<i-l;++u)s=g.expandDims(s,1);e.push(s)}return n.mergeFunction(e)}for(var h=!1,d=0,p=t;d<p.length;d++){var s=p[d],l=s.rank;if(null==l){var f=s.shape,A=f[0],I=f.slice(1).concat([A]),m=s.reshape([A].concat(C.arrayProd(f.slice(1))));m=c.transpose(m,[1,0]),m=m.reshape(I),e.push(m),h=!0}else if(l>1){var v=C.range(1,l).concat([0]);e.push(c.transpose(s,v)),h=!0}else e.push(s)}var y=n.mergeFunction(e),b=y.rank;if(h)if(null==b){var x=y.shape,w=x.length,A=x[w-1],I=[A].concat(x.slice(0,x.length-1));y=c.transpose(y.reshape([-1,A]),[1,0]).reshape(I)}else if(b>1){var v=[b-1].concat(C.range(0,b-1));y=c.transpose(y,v)}return y}return n.mergeFunction(t)})},e.prototype.computeOutputShape=function(t){t=t;var e;e=null==t[0]?null:t[0].slice(1);for(var n=1;n<t.length;++n){var r=null==t[n]?null:t[n].slice(1);e=this.computeElementwiseOpOutputShape(e,r)}for(var i=[],a=0,o=t;a<o.length;a++){var r=o[a];null!=r&&null!==r[0]&&i.push(r[0])}return i=A.unique(i),e=1===i.length?i.concat(e):[null].concat(e)},e}(d.Layer);e.Merge=m;var v=function(t){function e(e){return t.call(this,e)||this}return u(e,t),e.prototype.mergeFunction=function(t){return h.tidy(function(){for(var e=c.zeros(t[0].shape),n=0,r=t;n<r.length;n++){var i=r[n];e=c.add(e,i)}return e})},e.className="Add",e}(m);e.Add=v,h.serialization.SerializationMap.register(v),e.add=r;var y=function(t){function e(e){return t.call(this,e)||this}return u(e,t),e.prototype.mergeFunction=function(t){return h.tidy(function(){for(var e=c.ones(t[0].shape),n=0,r=t;n<r.length;n++){var i=r[n];e=c.mul(e,i)}return e})},e.className="Multiply",e}(m);e.Multiply=y,h.serialization.SerializationMap.register(y),e.multiply=i;var b=function(t){function e(e){return t.call(this,e)||this}return u(e,t),e.prototype.mergeFunction=function(t){return h.tidy(function(){for(var e=c.zeros(t[0].shape),n=0,r=t;n<r.length;n++){var i=r[n];e=c.add(e,i)}return c.mul(p.getScalar(1/t.length),e)})},e.className="Average",e}(m);e.Average=b,h.serialization.SerializationMap.register(b),e.average=a;var x=function(t){function e(e){return t.call(this,e)||this}return u(e,t),e.prototype.mergeFunction=function(t){return h.tidy(function(){for(var e=t[0],n=1;n<t.length;++n)e=c.maximum(e,t[n]);return e})},e.className="Maximum",e}(m);e.Maximum=x,h.serialization.SerializationMap.register(x),e.maximum=o;var w=function(t){function e(e){return t.call(this,e)||this}return u(e,t),e.prototype.mergeFunction=function(t){return h.tidy(function(){for(var e=t[0],n=1;n<t.length;++n)e=c.minimum(e,t[n]);return e})},e.className="Minimum",e}(m);e.Minimum=w,h.serialization.SerializationMap.register(w),e.minimum=s;var S=function(t){function e(e){var n=t.call(this,e)||this;return n.DEFAULT_AXIS=-1,null==e&&(e={}),n.axis=null==e.axis?n.DEFAULT_AXIS:e.axis,n.supportsMasking=!0,n.reshapeRequired=!1,n}return u(e,t),e.prototype.build=function(t){if(!Array.isArray(t)||!Array.isArray(t[0])||1===t.length)throw new f.ValueError("A `Concatenate` layer should be called on a list of at least 2 inputs");t=t;for(var e=!0,n=0,r=t;n<r.length;n++){var i=r[n];if(null!=i){e=!1;break}}if(!e){for(var a=[],o=0;o<t.length;++o){var s=t[o].slice();s.splice(this.axis,1);for(var l=!1,u=0,c=a;u<c.length;u++){var i=c[u];if(h.util.arraysEqual(i,s)){l=!0;break}}l||a.push(s)}if(a.length>1)throw new f.ValueError("A `Concatenate` layer requires inputs with matching shapes except for the concat axis. Got input shapes: "+JSON.stringify(t))}},e.prototype.mergeFunction=function(t){var e=this;return h.tidy(function(){return g.concatenate(t,e.axis)})},e.prototype.computeOutputShape=function(t){if(!Array.isArray(t)||!Array.isArray(t[0]))throw new f.ValueError("A `Concatenate` layer should be called on a list of inputs.");for(var e=t,n=e[0].slice(),r=this.axis<0?n.length+this.axis:this.axis,i=0,a=e.slice(1);i<a.length;i++){var o=a[i];if(null==n[r]||null==o[r]){n[r]=null;break}n[r]+=o[r]}return n},e.prototype.getConfig=function(){var e={axis:this.axis},n=t.prototype.getConfig.call(this);return Object.assign(e,n),e},e.className="Concatenate",e}(m);e.Concatenate=S,h.serialization.SerializationMap.register(S),e.concatenate=l},function(t,e,n){"use strict";function r(t,e,n,r,i,a){void 0===a&&(a=.001);var o;if(2===t.rank)o=l.batchNormalization2d(t,e,n,a,i,r);else if(3===t.rank)o=l.batchNormalization3d(t,e,n,a,i,r);else{if(4!==t.rank)throw new d.NotImplementedError("batchNormalization is not implememnted for array of rank "+t.rank+" yet");o=l.batchNormalization4d(t,e,n,a,i,r)}return o}function i(t,e,n,i,a){return void 0===a&&(a=.001),u.tidy(function(){var o=l.moments(t,i),s=o.mean,u=o.variance,c=r(t,s,u,n,e,a);return[c,s,u]})}function a(t,e,n,i,a){return void 0===a&&(a=.001),u.tidy(function(){for(var o=l.moments(t,i),s=o.mean,u=o.variance,c=[],h=0,g=C.range(0,t.rank);h<g.length;h++){var d=g[h];i.indexOf(d)!==-1?c.push(1):c.push(t.shape[d])}var p=s.reshape(c),f=u.reshape(c),A=null==e?null:e.reshape(c),I=null==n?null:n.reshape(c),m=r(t,p,f,I,A,a);return[m,s,u]})}function o(t,e,n,r,o){return void 0===o&&(o=.001),u.util.arraysEqual(r.slice().sort(),C.range(0,t.rank-1))?i(t,e,n,r,o):a(t,e,n,r,o)}var s=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var l=n(505),u=n(505),c=n(650),h=n(655),g=n(652),d=n(654),p=n(673),f=n(677),A=n(653),C=n(665),I=n(659);e.batchNormalization=r,e.normalizeBatchInTraining=o;var m=function(t){function e(e){var n=t.call(this,e)||this;return n.supportsMasking=!0,n.axis=null==e.axis?-1:e.axis,n.momentum=null==e.momentum?.99:e.momentum,n.epsilon=null==e.epsilon?.001:e.epsilon,n.center=null==e.center||e.center,n.scale=null==e.scale||e.scale,n.betaInitializer=p.getInitializer(e.betaInitializer||"zeros"),n.gammaInitializer=p.getInitializer(e.gammaInitializer||"ones"),n.movingMeanInitializer=p.getInitializer(e.movingMeanInitializer||"zeros"),n.movingVarianceInitializer=p.getInitializer(e.movingVarianceInitializer||"ones"),n.betaConstraint=c.getConstraint(e.betaConstraint),n.gammaConstraint=c.getConstraint(e.gammaConstraint),n.betaRegularizer=f.getRegularizer(e.betaRegularizer),n.gammaRegularizer=f.getRegularizer(e.gammaRegularizer),n.stepCount=0,n}return s(e,t),e.prototype.build=function(t){t=I.getExactlyOneShape(t);var e=this.axis>=0?this.axis:this.axis+t.length,n=t[e];if(null==n)throw new d.ValueError("Axis "+e+" of input tensor should have a defined dimension but the layer received an input with shape "+(JSON.stringify(t)+"."));this.inputSpec=[new h.InputSpec({ndim:t.length,axes:(i={},i[e]=n,i)})];var r=[n];this.scale&&(this.gamma=this.addWeight("gamma",r,null,this.gammaInitializer,this.gammaRegularizer,!0,this.gammaConstraint)),this.center&&(this.beta=this.addWeight("beta",r,null,this.betaInitializer,this.betaRegularizer,!0,this.betaConstraint)),this.movingMean=this.addWeight("moving_mean",r,null,this.movingMeanInitializer,null,!1),this.movingVariance=this.addWeight("moving_variance",r,null,this.movingVarianceInitializer,null,!1),this.built=!0;var i},e.prototype.call=function(t,e){var n=this;return u.tidy(function(){var i=null!=e.training&&e.training,a=I.getExactlyOneTensor(t),s=a.shape,c=s.length,h=C.range(0,c),d=n.axis>=0?n.axis:n.axis+c;h.splice(d,1);var p=A.pyListRepeat(1,c);p[d]=s[d];var f=h.slice();f.sort();var m=!u.util.arraysEqual(f,C.range(0,c).slice(0,c-1)),v=function(){if(m){var t=n.movingMean.read().reshape(p),e=n.movingVariance.read().reshape(p),i=n.center?n.beta.read().reshape(p):null,o=n.scale?n.gamma.read().reshape(p):null;return r(a,t,e,i,o,n.epsilon)}return r(a,n.movingMean.read(),n.movingVariance.read(),null==n.beta?null:n.beta.read(),null==n.gamma?null:n.gamma.read(),n.epsilon)};if(!i)return v();var y=o(a,n.gamma.read(),n.beta.read(),h,n.epsilon),b=y[0],x=y[1],w=y[2],S=C.arrayProd(h.map(function(t){return a.shape[t]})),T=w.mul(g.getScalar(S/(S-(1+n.epsilon)))),N=function(){n.stepCount++;var t=l.movingAverage(n.movingMean.read(),x,n.momentum,n.stepCount);n.movingMean.write(t);var e=l.movingAverage(n.movingVariance.read(),T,n.momentum,n.stepCount);n.movingVariance.write(e)};return N(),b})},e.prototype.getConfig=function(){var e={axis:this.axis,momentum:this.momentum,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:p.serializeInitializer(this.betaInitializer),gammaInitializer:p.serializeInitializer(this.gammaInitializer),movingMeanInitializer:p.serializeInitializer(this.movingMeanInitializer),movingVarianceInitializer:p.serializeInitializer(this.movingVarianceInitializer),betaRegularizer:f.serializeRegularizer(this.betaRegularizer),gammaRegularizer:f.serializeRegularizer(this.gammaRegularizer),betaConstraint:c.serializeConstraint(this.betaConstraint),gammaConstraint:c.serializeConstraint(this.gammaConstraint)},n=t.prototype.getConfig.call(this);return Object.assign(e,n),e},e.className="BatchNormalization",e}(h.Layer);e.BatchNormalization=m,u.serialization.SerializationMap.register(m)},function(t,e,n){"use strict";function r(t,e){return s.tidy(function(){if(3!==t.rank)throw new c.ValueError("temporalPadding expects input tensor to be 3-D, but received a "+(t.rank+"-D tensor."));if(null==e&&(e=[1,1]),2!==e.length)throw new c.ValueError("temporalPadding expects input padding pattern to be a length-2 "+("array, but received a length-"+e.length+" array."));var n=[[0,0],e,[0,0]];return o.pad(t,n)})}function i(t,e,n){return s.tidy(function(){if(4!==t.rank)throw new c.ValueError("temporalPadding expects input tensor to be 4-D, but received a "+(t.rank+"-D tensor."));if(null==e&&(e=[[1,1],[1,1]]),2!==e.length||2!==e[0].length||2!==e[1].length)throw new c.ValueError("spatial2dPadding expects `padding` to be an Array of two Arrays, each of which is an Array of two integers.");if(null==n&&(n=l.imageDataFormat()),"channelsLast"!==n&&"channelsFirst"!==n)throw new c.ValueError("Unknown data format: "+n+". Supported data formats are 'channelsLast' and 'channelsFirst.");var r;return r="channelsFirst"===n?[[0,0],[0,0],e[0],e[1]]:[[0,0],e[0],e[1],[0,0]],o.pad(t,r)})}var a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(505),s=n(505),l=n(651),u=n(655),c=n(654),h=n(659);e.temporalPadding=r,e.spatial2dPadding=i;var g=function(t){function e(e){var n=this;if(null==e&&(e={}),n=t.call(this,e)||this,n.dataFormat=null==e.dataFormat?l.imageDataFormat():e.dataFormat,null==e.padding)n.padding=[[1,1],[1,1]];else if("number"==typeof e.padding)n.padding=[[e.padding,e.padding],[e.padding,e.padding]];else{if(e.padding=e.padding,2!==e.padding.length)throw new c.ValueError("ZeroPadding2D expects padding to be a length-2 array, but "+("received a length-"+e.padding.length+" array."));var r=void 0,i=void 0;if("number"==typeof e.padding[0])r=[e.padding[0],e.padding[0]],i=[e.padding[1],e.padding[1]];else{if(e.padding=e.padding,2!==e.padding[0].length)throw new c.ValueError("ZeroPadding2D expects height padding to be a length-2 array, "+("but received a length-"+e.padding[0].length+" array."));if(r=e.padding[0],2!==e.padding[1].length)throw new c.ValueError("ZeroPadding2D expects width padding to be a length-2 array, "+("but received a length-"+e.padding[1].length+" array."));i=e.padding[1]}n.padding=[r,i]}return n.inputSpec=[new u.InputSpec({ndim:4})],n}return a(e,t),e.prototype.computeOutputShape=function(t){t=h.getExactlyOneShape(t);var e,n;return"channelsFirst"===this.dataFormat?(e=null!=t[2]&&t[2]>=0?t[2]+this.padding[0][0]+this.padding[0][1]:null,n=null!=t[3]&&t[3]>=0?t[3]+this.padding[1][0]+this.padding[1][1]:null,[t[0],t[1],e,n]):(e=null!=t[1]&&t[1]>=0?t[1]+this.padding[0][0]+this.padding[0][1]:null,n=null!=t[2]&&t[2]>=0?t[2]+this.padding[1][0]+this.padding[1][1]:null,[t[0],e,n,t[3]])},e.prototype.call=function(t,e){var n=this;return s.tidy(function(){return i(h.getExactlyOneTensor(t),n.padding,n.dataFormat)})},e.prototype.getConfig=function(){var e={padding:this.padding,dataFormat:this.dataFormat},n=t.prototype.getConfig.call(this);return Object.assign(e,n),e},e.className="ZeroPadding2D",e}(u.Layer);e.ZeroPadding2D=g,s.serialization.SerializationMap.register(g)},function(t,e,n){"use strict";function r(t,e,n,r,i,l){return o.tidy(function(){u.checkDataFormat(i),u.checkPoolMode(l),u.checkPaddingMode(r),null==n&&(n=[1,1]),null==r&&(r="valid"),null==i&&(i=s.imageDataFormat()),null==l&&(l="max"),t=f.preprocessConv2DInput(t,i);var o,c="same"===r?"same":"valid";return o="max"===l?a.maxPool(t,e,n,c):a.avgPool(t,e,n,c),"channelsFirst"===i&&(o=a.transpose(o,[0,3,1,2])),o})}var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var a=n(505),o=n(505),s=n(651),l=n(664),u=n(656),c=n(655),h=n(655),g=n(654),d=n(678),p=n(659),f=n(676);e.pool2d=r;var A=function(t){function e(e){var n=this;if(null==e.poolSize&&(e.poolSize=2),n=t.call(this,e)||this,"number"==typeof e.poolSize)n.poolSize=[e.poolSize];else{if(!Array.isArray(e.poolSize)||1!==e.poolSize.length||"number"!=typeof e.poolSize[0])throw new g.ValueError("poolSize for 1D convolutional layer must be a number or an Array of a single number, but received "+JSON.stringify(e.poolSize));n.poolSize=e.poolSize}if(null==e.strides)n.strides=n.poolSize;else if("number"==typeof e.strides)n.strides=[e.strides];else{if(!Array.isArray(e.strides)||1!==e.strides.length||"number"!=typeof e.strides[0])throw new g.ValueError("strides for 1D convolutional layer must be a number or an Array of a single number, but received "+JSON.stringify(e.strides));n.strides=e.strides}return n.padding=null==e.padding?"valid":e.padding,u.checkPaddingMode(n.padding),n.inputSpec=[new c.InputSpec({ndim:3})],n}return i(e,t),e.prototype.computeOutputShape=function(t){t=p.getExactlyOneShape(t);var e=d.convOutputLength(t[1],this.poolSize[0],this.padding,this.strides[0]);return[t[0],e,t[2]]},e.prototype.call=function(t,e){var n=this;return o.tidy(function(){n.invokeCallHook(t,e),t=l.expandDims(p.getExactlyOneTensor(t),2);var r=n.poolingFunction(p.getExactlyOneTensor(t),[n.poolSize[0],1],[n.strides[0],1],n.padding,"channelsLast");return a.squeeze(r,[2])})},e.prototype.getConfig=function(){var e={poolSize:this.poolSize,padding:this.padding,strides:this.strides},n=t.prototype.getConfig.call(this);return Object.assign(e,n),e},e}(h.Layer);e.Pooling1D=A;var C=function(t){function e(e){return t.call(this,e)||this}return i(e,t),e.prototype.poolingFunction=function(t,e,n,i,a){return u.checkDataFormat(a),u.checkPaddingMode(i),r(t,e,n,i,a,"max")},e.className="MaxPooling1D",e}(A);e.MaxPooling1D=C,o.serialization.SerializationMap.register(C);var I=function(t){function e(e){return t.call(this,e)||this}return i(e,t),e.prototype.poolingFunction=function(t,e,n,i,a){return u.checkDataFormat(a),u.checkPaddingMode(i),r(t,e,n,i,a,"avg")},e.className="AveragePooling1D",e}(A);e.AveragePooling1D=I,o.serialization.SerializationMap.register(I);var m=function(t){function e(e){var n=this;if(null==e.poolSize&&(e.poolSize=[2,2]),n=t.call(this,e)||this,n.poolSize=Array.isArray(e.poolSize)?e.poolSize:[e.poolSize,e.poolSize],null==e.strides)n.strides=n.poolSize;else if(Array.isArray(e.strides)){if(2!==e.strides.length)throw new g.ValueError("If the strides property of a 2D pooling layer is an Array, it is expected to have a length of 2, but received length "+(e.strides.length+"."));n.strides=e.strides}else n.strides=[e.strides,e.strides];return n.padding=null==e.padding?"valid":e.padding,n.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,u.checkDataFormat(n.dataFormat),u.checkPaddingMode(n.padding),n.inputSpec=[new c.InputSpec({ndim:4})],n}return i(e,t),e.prototype.computeOutputShape=function(t){t=p.getExactlyOneShape(t);var e="channelsFirst"===this.dataFormat?t[2]:t[1],n="channelsFirst"===this.dataFormat?t[3]:t[2];return e=d.convOutputLength(e,this.poolSize[0],this.padding,this.strides[0]),n=d.convOutputLength(n,this.poolSize[1],this.padding,this.strides[1]),"channelsFirst"===this.dataFormat?[t[0],t[1],e,n]:[t[0],e,n,t[3]]},e.prototype.call=function(t,e){var n=this;return o.tidy(function(){return n.invokeCallHook(t,e),n.poolingFunction(p.getExactlyOneTensor(t),n.poolSize,n.strides,n.padding,n.dataFormat)})},e.prototype.getConfig=function(){var e={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},n=t.prototype.getConfig.call(this);return Object.assign(e,n),e},e}(h.Layer);e.Pooling2D=m;var v=function(t){function e(e){return t.call(this,e)||this}return i(e,t),e.prototype.poolingFunction=function(t,e,n,i,a){return u.checkDataFormat(a),u.checkPaddingMode(i),r(t,e,n,i,a,"max")},e.className="MaxPooling2D",e}(m);e.MaxPooling2D=v,o.serialization.SerializationMap.register(v);var y=function(t){function e(e){return t.call(this,e)||this}return i(e,t),e.prototype.poolingFunction=function(t,e,n,i,a){return u.checkDataFormat(a),u.checkPaddingMode(i),r(t,e,n,i,a,"avg")},e.className="AveragePooling2D",e}(m);e.AveragePooling2D=y,o.serialization.SerializationMap.register(y);var b=function(t){function e(e){var n=t.call(this,e)||this;return n.inputSpec=[new c.InputSpec({ndim:3})],n}return i(e,t),e.prototype.computeOutputShape=function(t){return[t[0],t[2]]},e.prototype.call=function(t,e){throw new g.NotImplementedError},e}(h.Layer);e.GlobalPooling1D=b;var x=function(t){function e(e){return t.call(this,e)||this}return i(e,t),e.prototype.call=function(t,e){return o.tidy(function(){
var e=p.getExactlyOneTensor(t);return a.mean(e,1)})},e.className="GlobalAveragePooling1D",e}(b);e.GlobalAveragePooling1D=x,o.serialization.SerializationMap.register(x);var w=function(t){function e(e){return t.call(this,e)||this}return i(e,t),e.prototype.call=function(t,e){return o.tidy(function(){var e=p.getExactlyOneTensor(t);return a.max(e,1)})},e.className="GlobalMaxPooling1D",e}(b);e.GlobalMaxPooling1D=w,o.serialization.SerializationMap.register(w);var S=function(t){function e(e){var n=t.call(this,e)||this;return n.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,u.checkDataFormat(n.dataFormat),n.inputSpec=[new c.InputSpec({ndim:4})],n}return i(e,t),e.prototype.computeOutputShape=function(t){return t=t,"channelsLast"===this.dataFormat?[t[0],t[3]]:[t[0],t[1]]},e.prototype.call=function(t,e){throw new g.NotImplementedError},e.prototype.getConfig=function(){var e={dataFormat:this.dataFormat},n=t.prototype.getConfig.call(this);return Object.assign(e,n),e},e}(h.Layer);e.GlobalPooling2D=S;var T=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.call=function(t,e){var n=this;return o.tidy(function(){var e=p.getExactlyOneTensor(t);return"channelsLast"===n.dataFormat?a.mean(e,[1,2]):a.mean(e,[2,3])})},e.className="GlobalAveragePooling2D",e}(S);e.GlobalAveragePooling2D=T,o.serialization.SerializationMap.register(T);var N=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.call=function(t,e){var n=this;return o.tidy(function(){var e=p.getExactlyOneTensor(t);return"channelsLast"===n.dataFormat?a.max(e,[1,2]):a.max(e,[2,3])})},e.className="GlobalMaxPooling2D",e}(S);e.GlobalMaxPooling2D=N,o.serialization.SerializationMap.register(N)},function(t,e,n){"use strict";function r(t,e,n,r,i,a,s,l){void 0===r&&(r=!1),void 0===s&&(s=!1);var c=e.shape.length;if(c<3)throw new p.ValueError("Input should be at least 3D, but is "+c+"D.");var h=[1,0].concat(C.range(2,c));if(e=o.transpose(e,h),null!=i)throw new p.NotImplementedError("The rnn() function of the deeplearn.js backend does not support masking yet.");if(null!=a)throw new p.NotImplementedError("The rnn() functoin of the deeplearn.js backend does not support constants yet.");s&&console.warn("Backend rnn(): the unroll = true option is not applicable to the imperative deeplearn.js backend."),r&&(e=o.reverse(e,0));for(var g,d,f=n,A=e.shape[0],I=0;I<A;++I){var m=u.sliceAlongFirstAxis(e,I,1);m=m.reshape(m.shape.slice(1));var v=t(m,f);d=v[0],g=0===I?d.reshape([1].concat(d.shape)):u.concatAlongFirstAxis(g,d.reshape([1].concat(d.shape))),f=v[1]}return[d,o.transpose(g,[1,0].concat(C.range(2,g.shape.length))),f]}var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=this&&this.__decorate||function(t,e,n,r){var i,a=arguments.length,o=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(o=(a<3?i(o):a>3?i(e,n,o):i(e,n))||o);return a>3&&o&&Object.defineProperty(e,n,o),o};Object.defineProperty(e,"__esModule",{value:!0});var o=n(505),s=n(505),l=n(675),u=n(664),c=n(650),h=n(655),g=n(655),d=n(652),p=n(654),f=n(673),A=n(677),C=n(665),I=n(659),m=n(661),v=n(657);e.rnn=r;var y=function(t){function e(e){var n,r=t.call(this,e)||this;if(null==e.cell)throw new p.ValueError("cell property is missing for the constructor of RNN.");if(n=Array.isArray(e.cell)?new k({cells:e.cell}):e.cell,null==n.stateSize)throw new p.ValueError("The RNN cell should have an attribute `stateSize` (tuple of integers, one integer per RNN state).");return r.cell=n,r.returnSequences=null!=e.returnSequences&&e.returnSequences,r.returnState=null!=e.returnState&&e.returnState,r.goBackwards=null!=e.goBackwards&&e.goBackwards,r._stateful=null!=e.stateful&&e.stateful,r.unroll=null!=e.unroll&&e.unroll,r.supportsMasking=!0,r.inputSpec=[new h.InputSpec({ndim:3})],r.stateSpec=null,r.states=null,r.numConstants=null,r}return i(e,t),e.prototype.getStates=function(){if(null==this.states){var t=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1;return C.range(0,t).map(function(t){return null})}return this.states},e.prototype.setStates=function(t){this.states=t},e.prototype.computeOutputShape=function(t){I.isArrayOfShapes(t)&&(t=t[0]),t=t;var e=this.cell.stateSize;Array.isArray(e)||(e=[e]);var n,r=e[0];if(n=this.returnSequences?[t[0],t[1],r]:[t[0],r],this.returnState){for(var i=[],a=0,o=e;a<o.length;a++){var s=o[a];i.push([t[0],s])}return[n].concat(i)}return n},e.prototype.computeMask=function(t,e){throw new p.NotImplementedError("computeMask has not been implemented for RNN yet")},e.prototype.build=function(t){var e=null;if(null!=this.numConstants)throw new p.NotImplementedError("Constants support is not implemented in RNN yet.");I.isArrayOfShapes(t)&&(t=t[0]),t=t;var n=this.stateful?t[0]:null,r=t[t.length-1];this.inputSpec[0]=new h.InputSpec({shape:[n,null,r]});var i=[t[0]].concat(t.slice(2));if(null!=e)throw new p.NotImplementedError("Constants support is not implemented in RNN yet.");this.cell.build(i);var a;if(a=Array.isArray(this.cell.stateSize)?this.cell.stateSize:[this.cell.stateSize],null!=this.stateSpec){if(!s.util.arraysEqual(this.stateSpec.map(function(t){return t.shape[t.shape.length-1]}),a))throw new p.ValueError("An initialState was passed that is not compatible with "+("cell.stateSize. Received stateSpec="+this.stateSpec+"; ")+("However cell.stateSize is "+this.cell.stateSize))}else this.stateSpec=a.map(function(t){return new h.InputSpec({shape:[null,t]})});if(this.stateful)throw new p.NotImplementedError("stateful RNN layer is not implemented yet")},e.prototype.resetStates=function(t){var e=this;s.tidy(function(){if(!e.stateful)throw new p.AttributeError("Cannot call resetState() on an RNN Layer that is not stateful.");var n=e.inputSpec[0].shape[0];if(null==n)throw new p.ValueError("If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.");if(null==e.states)Array.isArray(e.cell.stateSize)?e.states=e.cell.stateSize.map(function(t){return o.zeros([n,t])}):e.states=[o.zeros([n,e.cell.stateSize])];else if(null==t)Array.isArray(e.cell.stateSize)?e.states=e.cell.stateSize.map(function(t){return o.zeros([n,t])}):e.states[0]=o.zeros([n,e.cell.stateSize]);else{if(Array.isArray(t)||(t=[t]),t.length!==e.states.length)throw new p.ValueError("Layer "+e.name+" expects "+e.states.length+" state(s), "+("but it received "+t.length+" state value(s). Input ")+("received: "+t));for(var r=0;r<e.states.length;++r){var i=t[r],a=Array.isArray(e.cell.stateSize)?e.cell.stateSize[r]:e.cell.stateSize,l=[n,a];if(!s.util.arraysEqual(i.shape,l))throw new p.ValueError("State "+r+" is incompatible with layer "+e.name+": "+("expected shape="+l+", received shape="+i.shape));e.states[r]=i}}})},e.prototype.standardizeArgs=function(t,e,n){function r(t){return null==t||Array.isArray(t)?t:[t]}if(Array.isArray(t)){if(null!=e||null!=n)throw new p.ValueError("When inputs is an array, neither initialState or constants should be provided");null!=this.numConstants&&(n=t.slice(t.length-this.numConstants,t.length),t=t.slice(0,t.length-this.numConstants)),t.length>1&&(e=t.slice(1,t.length)),t=t[0]}return e=r(e),n=r(n),{inputs:t,initialState:e,constants:n}},e.prototype.apply=function(e,n){var r=null==n?null:n.initialState,i=null==n?null:n.constants;null==n&&(n={});var a=this.standardizeArgs(e,r,i);e=a.inputs,r=a.initialState,i=a.constants;var o=[],s=[];if(null!=r){n.initialState=r,o=o.concat(r),this.stateSpec=[];for(var l=0,u=r;l<u.length;l++){var c=u[l];this.stateSpec.push(new h.InputSpec({shape:c.shape}))}s=s.concat(this.stateSpec)}null!=i&&(n.constants=i,o=o.concat(i),this.numConstants=i.length);var g=o[0]instanceof h.SymbolicTensor;if(g){var d=[e].concat(o),p=this.inputSpec.concat(s),f=this.inputSpec;this.inputSpec=p;var A=t.prototype.apply.call(this,d,n);return this.inputSpec=f,A}return t.prototype.apply.call(this,e,n)},e.prototype.call=function(t,e){var n=this;return s.tidy(function(){var i=null==e?null:e.mask,a=null==e?null:e.training,o=null==e?null:e.initialState;if(t=I.getExactlyOneTensor(t),null==o){if(n.stateful)throw new p.NotImplementedError("stateful RNN layer is not implemented yet.");o=n.getInitialState(t)}if(null!=i)throw new p.NotImplementedError("Masking is not implemented for RNN yet");var s=Array.isArray(n.cell.stateSize)?n.cell.stateSize.length:1;if(o.length!==s)throw new p.ValueError("RNN Layer has "+s+" state(s) but was passed "+(o.length+" initial state(s)."));var l=t.shape,u=l[1];n.unroll&&console.warn("Ignoring unroll = true for RNN layer, due to imperative backend.");var c={training:a},h=function(t,e){var r=n.cell.call([t].concat(e),c);return[r[0],r.slice(1)]},g=r(h,t,o,n.goBackwards,null,null,n.unroll,u),d=g[0],f=g[1],A=g[2];if(n.stateful)throw new p.NotImplementedError("stateful RNN layer is not implemented yet");var C=n.returnSequences?f:d;return n.returnState?[C].concat(A):C})},e.prototype.getInitialState=function(t){var e=this;return s.tidy(function(){var n=o.zeros(t.shape);return n=o.sum(n,[1,2]),n=u.expandDims(n),Array.isArray(e.cell.stateSize)?e.cell.stateSize.map(function(t){return t>1?u.tile(n,[1,t]):n}):e.cell.stateSize>1?[u.tile(n,[1,e.cell.stateSize])]:[n]})},Object.defineProperty(e.prototype,"trainableWeights",{get:function(){return this.trainable?this.cell.trainableWeights:[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nonTrainableWeights",{get:function(){return this.trainable?this.cell.nonTrainableWeights:this.cell.weights},enumerable:!0,configurable:!0}),e.prototype.getConfig=function(){var e={returnSequences:this.returnSequences,returnState:this.returnState,goBackwards:this.goBackwards,stateful:this.stateful,unroll:this.unroll};null!=this.numConstants&&(e.numConstants=this.numConstants);var n=this.cell.getConfig();e.cell={className:this.cell.getClassName(),config:n};var r=t.prototype.getConfig.call(this);return Object.assign(e,r),e},e.className="RNN",e}(g.Layer);e.RNN=y,s.serialization.SerializationMap.register(y);var b=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e=a([s.doc({heading:"Layers",subheading:"Classes"})],e)}(g.Layer);e.RNNCell=b;var x=function(t){function e(e){var n=t.call(this,e)||this;return n.DEFAULT_ACTIVATION="tanh",n.DEFAULT_KERNEL_INITIALIZER="glorotNormal",n.DEFAULT_RECURRENT_INITIALIZER="orthogonal",n.DEFAULT_BIAS_INITIALIZER="zeros",n.units=e.units,n.activation=l.getActivation(null==e.activation?n.DEFAULT_ACTIVATION:e.activation),n.useBias=null==e.useBias||e.useBias,n.kernelInitializer=f.getInitializer(e.kernelInitializer||n.DEFAULT_KERNEL_INITIALIZER),n.recurrentInitializer=f.getInitializer(e.recurrentInitializer||n.DEFAULT_RECURRENT_INITIALIZER),n.biasInitializer=f.getInitializer(e.biasInitializer||n.DEFAULT_BIAS_INITIALIZER),n.kernelRegularizer=A.getRegularizer(e.kernelRegularizer),n.recurrentRegularizer=A.getRegularizer(e.recurrentRegularizer),n.biasRegularizer=A.getRegularizer(e.biasRegularizer),n.kernelConstraint=c.getConstraint(e.kernelConstraint),n.recurrentConstraint=c.getConstraint(e.recurrentConstraint),n.biasConstraint=c.getConstraint(e.biasConstraint),n.dropout=C.min([1,C.max([0,null==e.dropout?0:e.dropout])]),n.recurrentDropout=C.min([1,C.max([0,null==e.recurrentDropout?0:e.recurrentDropout])]),n.stateSize=n.units,n}return i(e,t),e.prototype.build=function(t){t=I.getExactlyOneShape(t),this.kernel=this.addWeight("kernel",[t[t.length-1],this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0},e.prototype.call=function(t,e){var n=this;return s.tidy(function(){if(t=t,2!==t.length)throw new p.ValueError("SimpleRNNCell expects 2 input Tensors, got "+t.length+".");var e=t[1];if(t=t[0],0!==n.dropout||0!==n.recurrentDropout)throw new p.NotImplementedError("Dropout is not implemented for SimpleRNNCell yet");var r=u.dot(t,n.kernel.read());null!=n.bias&&(r=u.biasAdd(r,n.bias.read()));var i=o.add(r,u.dot(e,n.recurrentKernel.read()));return null!=n.activation&&(i=n.activation.apply(i)),[i,i]})},e.prototype.getConfig=function(){var e={units:this.units,activation:l.serializeActivation(this.activation),useBias:this.useBias,kernelInitializer:f.serializeInitializer(this.kernelInitializer),recurrentInitializer:f.serializeInitializer(this.recurrentInitializer),biasInitializer:f.serializeInitializer(this.biasInitializer),kernelRegularizer:A.serializeRegularizer(this.kernelRegularizer),recurrentRegularizer:A.serializeRegularizer(this.recurrentRegularizer),biasRegularizer:A.serializeRegularizer(this.biasRegularizer),activityRegularizer:A.serializeRegularizer(this.activityRegularizer),kernelConstraint:c.serializeConstraint(this.kernelConstraint),recurrentConstraint:c.serializeConstraint(this.recurrentConstraint),biasConstraint:c.serializeConstraint(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout},n=t.prototype.getConfig.call(this);return Object.assign(e,n),e},e.className="SimpleRNNCell",e}(b);e.SimpleRNNCell=x,s.serialization.SerializationMap.register(x);var w=function(t){function e(e){var n=this;return e.cell=new x(e),n=t.call(this,e)||this}return i(e,t),e.prototype.call=function(e,n){var r=this;return s.tidy(function(){var i=null==n?null:n.mask,a=null==n?null:n.training,o=null==n?null:n.initialState;return t.prototype.call.call(r,e,{mask:i,training:a,initialState:o})})},Object.defineProperty(e.prototype,"units",{get:function(){return this.cell.units},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activation",{get:function(){return this.cell.activation},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"useBias",{get:function(){return this.cell.useBias},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"kernelInitializer",{get:function(){return this.cell.kernelInitializer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"recurrentInitializer",{get:function(){return this.cell.recurrentInitializer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"biasInitializer",{get:function(){return this.cell.biasInitializer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"kernelRegularizer",{get:function(){return this.cell.kernelRegularizer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"recurrentRegularizer",{get:function(){return this.cell.recurrentRegularizer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"biasRegularizer",{get:function(){return this.cell.biasRegularizer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"kernelConstraint",{get:function(){return this.cell.kernelConstraint},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"recurrentConstraint",{get:function(){return this.cell.recurrentConstraint},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"biasConstraint",{get:function(){return this.cell.biasConstraint},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dropout",{get:function(){return this.cell.dropout},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"recurrentDropout",{get:function(){return this.cell.recurrentDropout},enumerable:!0,configurable:!0}),e.prototype.getConfig=function(){var e={units:this.units,activation:l.serializeActivation(this.activation),useBias:this.useBias,kernelInitializer:f.serializeInitializer(this.kernelInitializer),recurrentInitializer:f.serializeInitializer(this.recurrentInitializer),biasInitializer:f.serializeInitializer(this.biasInitializer),kernelRegularizer:A.serializeRegularizer(this.kernelRegularizer),recurrentRegularizer:A.serializeRegularizer(this.recurrentRegularizer),biasRegularizer:A.serializeRegularizer(this.biasRegularizer),activityRegularizer:A.serializeRegularizer(this.activityRegularizer),kernelConstraint:c.serializeConstraint(this.kernelConstraint),recurrentConstraint:c.serializeConstraint(this.recurrentConstraint),biasConstraint:c.serializeConstraint(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout},n=t.prototype.getConfig.call(this);return delete n.cell,Object.assign(e,n),e},e.className="SimpleRNN",e}(y);e.SimpleRNN=w,s.serialization.SerializationMap.register(w);var S=function(t){function e(e){var n=t.call(this,e)||this;return n.DEFAULT_ACTIVATION="tanh",n.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",n.DEFAULT_KERNEL_INITIALIZER="glorotNormal",n.DEFAULT_RECURRENT_INITIALIZER="orthogonal",n.DEFAULT_BIAS_INITIALIZER="zeros",n.units=e.units,n.activation=l.getActivation(void 0===e.activation?n.DEFAULT_ACTIVATION:e.activation),n.recurrentActivation=l.getActivation(void 0===e.recurrentActivation?n.DEFAULT_RECURRENT_ACTIVATION:e.recurrentActivation),n.useBias=null==e.useBias||e.useBias,n.kernelInitializer=f.getInitializer(e.kernelInitializer||n.DEFAULT_KERNEL_INITIALIZER),n.recurrentInitializer=f.getInitializer(e.recurrentInitializer||n.DEFAULT_RECURRENT_INITIALIZER),n.biasInitializer=f.getInitializer(e.biasInitializer||n.DEFAULT_BIAS_INITIALIZER),n.kernelRegularizer=A.getRegularizer(e.kernelRegularizer),n.recurrentRegularizer=A.getRegularizer(e.recurrentRegularizer),n.biasRegularizer=A.getRegularizer(e.biasRegularizer),n.kernelConstraint=c.getConstraint(e.kernelConstraint),n.recurrentConstraint=c.getConstraint(e.recurrentConstraint),n.biasConstraint=c.getConstraint(e.biasConstraint),n.dropout=C.min([1,C.max([0,null==e.dropout?0:e.dropout])]),n.recurrentDropout=C.min([1,C.max([0,null==e.recurrentDropout?0:e.recurrentDropout])]),n.implementation=e.implementation,n.stateSize=n.units,n}return i(e,t),e.prototype.build=function(t){t=I.getExactlyOneShape(t);var e=t[t.length-1];this.kernel=this.addWeight("kernel",[e,3*this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,3*this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight("bias",[3*this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0},e.prototype.call=function(t,e){var n=this;return s.tidy(function(){if(0!==n.dropout||0!==n.recurrentDropout)throw new p.NotImplementedError("Dropout is not implemented for GRUCell yet");if(t=t,2!==t.length)throw new p.ValueError("GRUCell expects 2 input Tensors (inputs, h, c), got "+(t.length+"."));var e=t[1];t=t[0];var r,i,a;if(1===n.implementation){var s=u.sliceAlongLastAxis(n.kernel.read(),0,n.units),l=u.sliceAlongLastAxis(n.kernel.read(),n.units,n.units),c=u.sliceAlongLastAxis(n.kernel.read(),2*n.units,n.units),h=u.sliceAlongLastAxis(n.recurrentKernel.read(),0,n.units),g=u.sliceAlongLastAxis(n.recurrentKernel.read(),n.units,n.units),f=u.sliceAlongLastAxis(n.recurrentKernel.read(),2*n.units,n.units),A=t,C=t,I=t,m=u.dot(A,s),v=u.dot(C,l),y=u.dot(I,c);if(n.useBias){var b=u.sliceAlongFirstAxis(n.bias.read(),0,n.units),x=u.sliceAlongFirstAxis(n.bias.read(),n.units,n.units),w=u.sliceAlongFirstAxis(n.bias.read(),2*n.units,n.units);m=u.biasAdd(m,b),v=u.biasAdd(v,x),y=u.biasAdd(y,w)}var S=e,T=e,N=e;r=n.recurrentActivation.apply(o.add(m,u.dot(S,h))),i=n.recurrentActivation.apply(o.add(v,u.dot(T,g))),a=n.activation.apply(o.add(y,u.dot(o.mul(i,N),f)))}else{var E=u.dot(t,n.kernel.read());n.useBias&&(E=u.biasAdd(E,n.bias.read()));var k=u.dot(e,u.sliceAlongLastAxis(n.recurrentKernel.read(),0,2*n.units)),m=u.sliceAlongLastAxis(E,0,n.units),v=u.sliceAlongLastAxis(E,n.units,n.units),O=u.sliceAlongLastAxis(k,0,n.units),M=u.sliceAlongLastAxis(k,n.units,n.units);r=n.recurrentActivation.apply(o.add(m,O)),i=n.recurrentActivation.apply(o.add(v,M));var y=u.sliceAlongLastAxis(E,2*n.units,n.units),R=u.dot(o.mul(i,e),u.sliceAlongLastAxis(n.recurrentKernel.read(),2*n.units,n.units));a=n.activation.apply(o.add(y,R))}var D=o.add(o.mul(r,e),o.mul(o.add(d.getScalar(1),o.neg(r)),a));return[D,D]})},e.prototype.getConfig=function(){var e={units:this.units,activation:l.serializeActivation(this.activation),recurrentActivation:l.serializeActivation(this.recurrentActivation),useBias:this.useBias,kernelInitializer:f.serializeInitializer(this.kernelInitializer),recurrentInitializer:f.serializeInitializer(this.recurrentInitializer),biasInitializer:f.serializeInitializer(this.biasInitializer),kernelRegularizer:A.serializeRegularizer(this.kernelRegularizer),recurrentRegularizer:A.serializeRegularizer(this.recurrentRegularizer),biasRegularizer:A.serializeRegularizer(this.biasRegularizer),activityRegularizer:A.serializeRegularizer(this.activityRegularizer),kernelConstraint:c.serializeConstraint(this.kernelConstraint),recurrentConstraint:c.serializeConstraint(this.recurrentConstraint),biasConstraint:c.serializeConstraint(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation},n=t.prototype.getConfig.call(this);return Object.assign(e,n),e},e.className="GRUCell",e}(b);e.GRUCell=S,s.serialization.SerializationMap.register(S);var T=function(t){function e(e){var n=this;return 0===e.implementation&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),e.cell=new S(e),n=t.call(this,e)||this}return i(e,t),e.prototype.call=function(e,n){var r=this;return s.tidy(function(){var i=null==n?null:n.mask,a=null==n?null:n.training,o=null==n?null:n.initialState;return t.prototype.call.call(r,e,{mask:i,training:a,initialState:o})})},Object.defineProperty(e.prototype,"units",{get:function(){return this.cell.units},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activation",{get:function(){return this.cell.activation},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"recurrentActivation",{get:function(){return this.cell.recurrentActivation},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"useBias",{get:function(){return this.cell.useBias},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"kernelInitializer",{get:function(){return this.cell.kernelInitializer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"recurrentInitializer",{get:function(){return this.cell.recurrentInitializer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"biasInitializer",{get:function(){return this.cell.biasInitializer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"kernelRegularizer",{get:function(){return this.cell.kernelRegularizer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"recurrentRegularizer",{get:function(){return this.cell.recurrentRegularizer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"biasRegularizer",{get:function(){return this.cell.biasRegularizer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"kernelConstraint",{get:function(){return this.cell.kernelConstraint},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"recurrentConstraint",{get:function(){return this.cell.recurrentConstraint},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"biasConstraint",{get:function(){return this.cell.biasConstraint},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dropout",{get:function(){return this.cell.dropout},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"recurrentDropout",{get:function(){return this.cell.recurrentDropout},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"implementation",{get:function(){return this.cell.implementation},enumerable:!0,configurable:!0}),e.prototype.getConfig=function(){var e={units:this.units,activation:l.serializeActivation(this.activation),recurrentActivation:l.serializeActivation(this.recurrentActivation),useBias:this.useBias,kernelInitializer:f.serializeInitializer(this.kernelInitializer),recurrentInitializer:f.serializeInitializer(this.recurrentInitializer),biasInitializer:f.serializeInitializer(this.biasInitializer),kernelRegularizer:A.serializeRegularizer(this.kernelRegularizer),recurrentRegularizer:A.serializeRegularizer(this.recurrentRegularizer),biasRegularizer:A.serializeRegularizer(this.biasRegularizer),activityRegularizer:A.serializeRegularizer(this.activityRegularizer),kernelConstraint:c.serializeConstraint(this.kernelConstraint),recurrentConstraint:c.serializeConstraint(this.recurrentConstraint),biasConstraint:c.serializeConstraint(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation},n=t.prototype.getConfig.call(this);return delete n.cell,Object.assign(e,n),e},e.fromConfig=function(t,e){return 0===e.implmentation&&(e.implementation=1),new t(e)},e.className="GRU",e}(y);e.GRU=T,s.serialization.SerializationMap.register(T);var N=function(t){function e(e){var n=t.call(this,e)||this;return n.DEFAULT_ACTIVATION="tanh",n.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",n.DEFAULT_KERNEL_INITIALIZER="glorotNormal",n.DEFAULT_RECURRENT_INITIALIZER="orthogonal",n.DEFAULT_BIAS_INITIALIZER="zeros",n.units=e.units,n.activation=l.getActivation(void 0===e.activation?n.DEFAULT_ACTIVATION:e.activation),n.recurrentActivation=l.getActivation(void 0===e.recurrentActivation?n.DEFAULT_RECURRENT_ACTIVATION:e.recurrentActivation),n.useBias=null==e.useBias||e.useBias,n.kernelInitializer=f.getInitializer(e.kernelInitializer||n.DEFAULT_KERNEL_INITIALIZER),n.recurrentInitializer=f.getInitializer(e.recurrentInitializer||n.DEFAULT_RECURRENT_INITIALIZER),n.biasInitializer=f.getInitializer(e.biasInitializer||n.DEFAULT_BIAS_INITIALIZER),n.unitForgetBias=e.unitForgetBias,n.kernelRegularizer=A.getRegularizer(e.kernelRegularizer),n.recurrentRegularizer=A.getRegularizer(e.recurrentRegularizer),n.biasRegularizer=A.getRegularizer(e.biasRegularizer),n.kernelConstraint=c.getConstraint(e.kernelConstraint),n.recurrentConstraint=c.getConstraint(e.recurrentConstraint),n.biasConstraint=c.getConstraint(e.biasConstraint),n.dropout=C.min([1,C.max([0,null==e.dropout?0:e.dropout])]),n.recurrentDropout=C.min([1,C.max([0,null==e.recurrentDropout?0:e.recurrentDropout])]),n.implementation=e.implementation,n.stateSize=[n.units,n.units],n}return i(e,t),e.prototype.build=function(t){t=I.getExactlyOneShape(t);var e=t[t.length-1];this.kernel=this.addWeight("kernel",[e,4*this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,4*this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint);var n;if(this.useBias){if(this.unitForgetBias){var r=this.biasInitializer,a=this.units;n=new(o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.apply=function(t,e){var n=r.apply([a]),i=(new f.Ones).apply([a]),o=r.apply([2*a]);return u.concatAlongFirstAxis(u.concatAlongFirstAxis(n,i),o)},e}(f.Initializer),o.className="CustomInit",o)}else n=this.biasInitializer;this.bias=this.addWeight("bias",[4*this.units],null,n,this.biasRegularizer,!0,this.biasConstraint)}else this.bias=null;this.built=!0;var o},e.prototype.call=function(t,e){var n=this;return s.tidy(function(){if(0!==n.dropout||0!==n.recurrentDropout)throw new p.NotImplementedError("Dropout is not implemented for LSTMCell yet");if(t=t,3!==t.length)throw new p.ValueError("LSTMCell expects 3 input Tensors (inputs, h, c), got "+(t.length+"."));var e=t[1],r=t[2];t=t[0];var i,a,s,l;if(1===n.implementation){var c=u.sliceAlongLastAxis(n.kernel.read(),0,n.units),h=u.sliceAlongLastAxis(n.kernel.read(),n.units,n.units),g=u.sliceAlongLastAxis(n.kernel.read(),2*n.units,n.units),d=u.sliceAlongLastAxis(n.kernel.read(),3*n.units,n.units),f=u.sliceAlongLastAxis(n.recurrentKernel.read(),0,n.units),A=u.sliceAlongLastAxis(n.recurrentKernel.read(),n.units,n.units),C=u.sliceAlongLastAxis(n.recurrentKernel.read(),2*n.units,n.units),I=u.sliceAlongLastAxis(n.recurrentKernel.read(),3*n.units,n.units),m=t,v=t,y=t,b=t,x=u.dot(m,c),w=u.dot(v,h),S=u.dot(y,g),T=u.dot(b,d);if(n.useBias){var N=u.sliceAlongFirstAxis(n.bias.read(),0,n.units),E=u.sliceAlongFirstAxis(n.bias.read(),n.units,n.units),k=u.sliceAlongFirstAxis(n.bias.read(),2*n.units,n.units),O=u.sliceAlongFirstAxis(n.bias.read(),3*n.units,n.units);x=u.biasAdd(x,N),w=u.biasAdd(w,E),S=u.biasAdd(S,k),T=u.biasAdd(T,O)}var M=e,R=e,D=e,_=e;i=n.recurrentActivation.apply(o.add(x,u.dot(M,f))),a=n.recurrentActivation.apply(o.add(w,u.dot(R,A))),s=o.add(o.mul(a,r),o.mul(i,n.activation.apply(o.add(S,u.dot(D,C))))),l=n.recurrentActivation.apply(o.add(T,u.dot(_,I)))}else{var P=u.dot(t,n.kernel.read());P=o.add(P,u.dot(e,n.recurrentKernel.read())),n.useBias&&(P=u.biasAdd(P,n.bias.read()));var L=u.sliceAlongLastAxis(P,0,n.units),z=u.sliceAlongLastAxis(P,n.units,n.units),F=u.sliceAlongLastAxis(P,2*n.units,n.units),B=u.sliceAlongLastAxis(P,3*n.units,n.units);i=n.recurrentActivation.apply(L),a=n.recurrentActivation.apply(z),s=o.add(o.mul(a,r),o.mul(i,n.activation.apply(F))),l=n.recurrentActivation.apply(B)}var V=o.mul(l,n.activation.apply(s));return[V,V,s]})},e.prototype.getConfig=function(){var e={units:this.units,activation:l.serializeActivation(this.activation),recurrentActivation:l.serializeActivation(this.recurrentActivation),useBias:this.useBias,kernelInitializer:f.serializeInitializer(this.kernelInitializer),recurrentInitializer:f.serializeInitializer(this.recurrentInitializer),biasInitializer:f.serializeInitializer(this.biasInitializer),unitForgetBias:this.unitForgetBias,kernelRegularizer:A.serializeRegularizer(this.kernelRegularizer),recurrentRegularizer:A.serializeRegularizer(this.recurrentRegularizer),biasRegularizer:A.serializeRegularizer(this.biasRegularizer),activityRegularizer:A.serializeRegularizer(this.activityRegularizer),kernelConstraint:c.serializeConstraint(this.kernelConstraint),recurrentConstraint:c.serializeConstraint(this.recurrentConstraint),biasConstraint:c.serializeConstraint(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation},n=t.prototype.getConfig.call(this);return Object.assign(e,n),e},e.className="LSTMCell",e}(b);e.LSTMCell=N,s.serialization.SerializationMap.register(N);var E=function(t){function e(e){var n=this;return 0===e.implementation&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),e.cell=new N(e),n=t.call(this,e)||this}return i(e,t),e.prototype.call=function(e,n){var r=this;return s.tidy(function(){var i=null==n?null:n.mask,a=null==n?null:n.training,o=null==n?null:n.initialState;return t.prototype.call.call(r,e,{mask:i,training:a,initialState:o})})},Object.defineProperty(e.prototype,"units",{get:function(){return this.cell.units},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activation",{get:function(){return this.cell.activation},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"recurrentActivation",{get:function(){return this.cell.recurrentActivation},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"useBias",{get:function(){
return this.cell.useBias},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"kernelInitializer",{get:function(){return this.cell.kernelInitializer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"recurrentInitializer",{get:function(){return this.cell.recurrentInitializer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"biasInitializer",{get:function(){return this.cell.biasInitializer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"unitForgetBias",{get:function(){return this.cell.unitForgetBias},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"kernelRegularizer",{get:function(){return this.cell.kernelRegularizer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"recurrentRegularizer",{get:function(){return this.cell.recurrentRegularizer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"biasRegularizer",{get:function(){return this.cell.biasRegularizer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"kernelConstraint",{get:function(){return this.cell.kernelConstraint},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"recurrentConstraint",{get:function(){return this.cell.recurrentConstraint},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"biasConstraint",{get:function(){return this.cell.biasConstraint},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dropout",{get:function(){return this.cell.dropout},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"recurrentDropout",{get:function(){return this.cell.recurrentDropout},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"implementation",{get:function(){return this.cell.implementation},enumerable:!0,configurable:!0}),e.prototype.getConfig=function(){var e={units:this.units,activation:l.serializeActivation(this.activation),recurrentActivation:l.serializeActivation(this.recurrentActivation),useBias:this.useBias,kernelInitializer:f.serializeInitializer(this.kernelInitializer),recurrentInitializer:f.serializeInitializer(this.recurrentInitializer),biasInitializer:f.serializeInitializer(this.biasInitializer),unitForgetBias:this.unitForgetBias,kernelRegularizer:A.serializeRegularizer(this.kernelRegularizer),recurrentRegularizer:A.serializeRegularizer(this.recurrentRegularizer),biasRegularizer:A.serializeRegularizer(this.biasRegularizer),activityRegularizer:A.serializeRegularizer(this.activityRegularizer),kernelConstraint:c.serializeConstraint(this.kernelConstraint),recurrentConstraint:c.serializeConstraint(this.recurrentConstraint),biasConstraint:c.serializeConstraint(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation},n=t.prototype.getConfig.call(this);return delete n.cell,Object.assign(e,n),e},e.fromConfig=function(t,e){return 0===e.implmentation&&(e.implementation=1),new t(e)},e.className="LSTM",e}(y);e.LSTM=E,s.serialization.SerializationMap.register(E);var k=function(t){function e(e){var n=t.call(this,e)||this;return n.cells=e.cells,n}return i(e,t),Object.defineProperty(e.prototype,"stateSize",{get:function(){for(var t=[],e=0,n=this.cells.slice().reverse();e<n.length;e++){var r=n[e];Array.isArray(r.stateSize)?t.push.apply(t,r.stateSize):t.push(r.stateSize)}return t},enumerable:!0,configurable:!0}),e.prototype.call=function(t,e){var n=this;return s.tidy(function(){t=t;for(var r=t.slice(1),i=[],a=0,o=n.cells.slice().reverse();a<o.length;a++){var s=o[a];Array.isArray(s.stateSize)?i.push(r.splice(0,s.stateSize.length)):i.push(r.splice(0,1))}i.reverse();for(var l,u=[],c=0;c<n.cells.length;++c){var s=n.cells[c];r=i[c],l=0===c?[t[0]].concat(r):[l[0]].concat(r),l=s.call(l,e),u.push(l.slice(1))}r=[];for(var h=0,g=u.slice().reverse();h<g.length;h++){var d=g[h];r.push.apply(r,d)}return[l[0]].concat(r)})},e.prototype.build=function(t){I.isArrayOfShapes(t)&&(t=t[0]),t=t;for(var e,n=0,r=this.cells;n<r.length;n++){var i=r[n];i.build(t),e=Array.isArray(i.stateSize)?i.stateSize[0]:i.stateSize,t=[t[0],e]}this.built=!0},e.prototype.getConfig=function(){for(var e=[],n=0,r=this.cells;n<r.length;n++){var i=r[n];e.push({className:this.getClassName(),config:i.getConfig()})}var a={cells:e},o=t.prototype.getConfig.call(this);return Object.assign(a,o),a},e.fromConfig=function(t,e,n){void 0===n&&(n={});for(var r=[],i=0,a=e.cells;i<a.length;i++){var o=a[i];r.push(v.deserialize(o,n))}return new t({cells:r})},Object.defineProperty(e.prototype,"trainableWeights",{get:function(){if(!this.trainable)return[];for(var t=[],e=0,n=this.cells;e<n.length;e++){var r=n[e];t.push.apply(t,r.trainableWeights)}return t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nonTrainableWeights",{get:function(){for(var t=[],e=0,n=this.cells;e<n.length;e++){var r=n[e];t.push.apply(t,r.nonTrainableWeights)}if(!this.trainable){for(var i=[],a=0,o=this.cells;a<o.length;a++){var r=o[a];i.push.apply(i,r.trainableWeights)}return i.concat(t)}return t},enumerable:!0,configurable:!0}),e.prototype.getWeights=function(){for(var t=[],e=0,n=this.cells;e<n.length;e++){var r=n[e];t.push.apply(t,r.weights)}return m.batchGetValue(t)},e.prototype.setWeights=function(t){for(var e=[],n=0,r=this.cells;n<r.length;n++)for(var i=r[n],a=i.weights.length,o=t.splice(a),s=0;s<i.weights.length;++s)e.push([i.weights[s],o[s]]);m.batchSetValue(e)},e.className="StackedRNNCells",e}(b);e.StackedRNNCells=k,s.serialization.SerializationMap.register(k)},function(t,e,n){"use strict";function r(t){g.checkStringTypeUnionValue(e.VALID_BIDIRECTIONAL_MERGE_MODES,"BidirectionalMergeMode",t)}var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var a=n(505),o=n(505),s=n(664),l=n(656),u=n(655),c=n(652),h=n(654),g=n(653),d=n(659),p=n(686),f=n(657),A=function(t){function e(e){var n=t.call(this,e)||this;return n.layer=e.layer,n}return i(e,t),e.prototype.build=function(t){this.built=!0},Object.defineProperty(e.prototype,"trainable",{get:function(){return null!=this.layer&&this.layer.trainable},set:function(t){null!=this.layer&&(this.layer.trainable=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"trainableWeights",{get:function(){return this.layer.trainableWeights},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nonTrainableWeights",{get:function(){return this.layer.nonTrainableWeights},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"updates",{get:function(){return this.layer._updates},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"losses",{get:function(){return this.layer.losses},enumerable:!0,configurable:!0}),e.prototype.getWeights=function(){return this.layer.getWeights()},e.prototype.setWeights=function(t){this.layer.setWeights(t)},e.prototype.getConfig=function(){var e={layer:{className:this.layer.getClassName(),config:this.layer.getConfig()}},n=t.prototype.getConfig.call(this);return Object.assign(e,n),e},e.fromConfig=function(t,e,n){void 0===n&&(n={});var r=e.layer,i=f.deserialize(r,n);delete e.layer;var a={layer:i};return Object.assign(a,e),new t(a)},e}(u.Layer);e.Wrapper=A;var C=function(t){function e(e){var n=t.call(this,e)||this;return n.supportsMasking=!0,n}return i(e,t),e.prototype.build=function(e){if(e=d.getExactlyOneShape(e),e.length<3)throw new h.ValueError("TimeDistributed layer expects an input shape >= 3D, but received input shape "+JSON.stringify(e));this.inputSpec=[{shape:e}];var n=[e[0]].concat(e.slice(2));this.layer.built||(this.layer.build(n),this.layer.built=!0),t.prototype.build.call(this,e)},e.prototype.computeOutputShape=function(t){t=d.getExactlyOneShape(t);var e=[t[0]].concat(t.slice(2)),n=this.layer.computeOutputShape(e),r=t[1];return[n[0],r].concat(n.slice(1))},e.prototype.call=function(t,e){var n=this;return o.tidy(function(){t=d.getExactlyOneTensor(t);var r=function(t,r){var i=n.layer.call(t,e);return[i,[]]},i=p.rnn(r,t,[],!1,null,null,!1,t.shape[1]),a=i[1];return a})},e.className="TimeDistributed",e}(A);e.TimeDistributed=C,o.serialization.SerializationMap.register(C),e.VALID_BIDIRECTIONAL_MERGE_MODES=["sum","mul","concat","ave"],e.checkBidirectionalMergeMode=r;var I=function(t){function e(e){var n=t.call(this,e)||this,i=e.layer.getConfig();if(n.forwardLayer=f.deserialize({className:e.layer.getClassName(),config:i}),i.goBackwards=i.goBackwards!==!0,n.backwardLayer=f.deserialize({className:e.layer.getClassName(),config:i}),n.forwardLayer.name="forward_"+n.forwardLayer.name,n.backwardLayer.name="backward_"+n.backwardLayer.name,r(e.mergeMode),n.mergeMode=e.mergeMode,e.weights)throw new h.NotImplementedError("weights support is not implemented for Bidirectional layer yet.");return n._stateful=e.layer.stateful,n.returnSequences=e.layer.returnSequences,n.returnState=e.layer.returnState,n.supportsMasking=!0,n._trainable=!0,n.inputSpec=e.layer.inputSpec,n}return i(e,t),Object.defineProperty(e.prototype,"trainable",{get:function(){return this._trainable},set:function(t){this._trainable=t,null!=this.forwardLayer&&(this.forwardLayer.trainable=t),null!=this.backwardLayer&&(this.backwardLayer.trainable=t)},enumerable:!0,configurable:!0}),e.prototype.getWeights=function(){return this.forwardLayer.getWeights().concat(this.backwardLayer.getWeights())},e.prototype.setWeights=function(t){var e=t.length,n=Math.floor(e/2);this.forwardLayer.setWeights(t.slice(0,n)),this.backwardLayer.setWeights(t.slice(n))},e.prototype.computeOutputShape=function(t){var e=this.forwardLayer.computeOutputShape(t);Array.isArray(e)&&Array.isArray(e[0])||(e=[e]),e=e;var n,r,i;return this.returnState?(i=e.slice(1),n=e[0]):n=e[0],n=n,"concat"===this.mergeMode?(n[n.length-1]*=2,r=[n]):r=null==this.mergeMode?[n,n.slice()]:[n],this.returnState?null==this.mergeMode?r.concat(i).concat(i.slice()):[n].concat(i).concat(i.slice()):g.singletonOrArray(r)},e.prototype.apply=function(e,n){var r=null;if(null!=n&&(r=n.initialState),Array.isArray(e)&&(r=e.slice(1),e=e[0]),null==r||0===r.length){var i=t.prototype.apply.call(this,e,n);return i}throw new h.NotImplementedError("The support for initial states is not implemented for Bidirectional layers yet.")},e.prototype.call=function(t,e){var n=this;return o.tidy(function(){if(null!=e.mask)throw new h.NotImplementedError("The support for masking is not implemented for Bidirectional layers yet.");if(null!=e.initialState)throw new h.NotImplementedError("The support for initial states is not implemented for Bidirectional layers yet.");var r,i=n.forwardLayer.call(t,e),o=n.backwardLayer.call(t,e);n.returnState&&(Array.isArray(i)&&(r=i.slice(1).concat(o.slice(1))),i=i[0],o=o[0]),n.returnSequences&&(o=a.reverse(o,1));var l;return"concat"===n.mergeMode?l=s.concatenate([i,o]):"sum"===n.mergeMode?l=a.add(i,o):"ave"===n.mergeMode?l=a.mul(c.getScalar(.5),a.add(i,o)):"mul"===n.mergeMode?l=a.mul(i,o):null==n.mergeMode&&(l=[i,o]),n.returnState?null==n.mergeMode?l.concat(r):[l].concat(r):l})},e.prototype.resetStates=function(t){this.forwardLayer.resetStates(),this.backwardLayer.resetStates()},e.prototype.build=function(t){var e=this;l.nameScope(this.forwardLayer.name,function(){e.forwardLayer.build(t)}),l.nameScope(this.backwardLayer.name,function(){e.backwardLayer.build(t)}),this.built=!0},Object.defineProperty(e.prototype,"trainableWeights",{get:function(){return this.forwardLayer.trainableWeights.concat(this.backwardLayer.trainableWeights)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nonTrainableWeights",{get:function(){return this.forwardLayer.nonTrainableWeights.concat(this.backwardLayer.nonTrainableWeights)},enumerable:!0,configurable:!0}),e.prototype.getConfig=function(){var e={mergeMode:this.mergeMode},n=t.prototype.getConfig.call(this);return Object.assign(e,n),e},e.fromConfig=function(t,e){var n=f.deserialize(e.layer);if(delete e.layer,null!=e.numConstants)throw new h.NotImplementedError("Deserialization of a Bidirectional layer with numConstants present is not supported yet.");var r=e;return r.layer=n,new t(r)},e.className="Bidirectional",e}(A);e.Bidirectional=I,o.serialization.SerializationMap.register(I)},function(t,e,n){"use strict";function r(t,e){return l(this,void 0,void 0,function(){var n,r,i,a,o,s,l,h,g,d;return u(this,function(u){switch(u.label){case 0:return n=t.modelTopology,null!=n.model_config&&(n=n.model_config),r=C.convertPythonicToTs(n),i=f.deserialize(r,e),null==t.weightsManifest?[3,2]:[4,c.io.loadWeights(t.weightsManifest,t.pathPrefix,i.weights.map(function(t){return t.originalName}))];case 1:for(a=u.sent(),o={},s=0,l=i.weights;s<l.length;s++)h=l[s],o[h.originalName]=a[h.originalName];g=null,d=!0,i.loadWeights(o,g,d),u.label=2;case 2:return[2,i]}})})}function i(t){return l(this,void 0,void 0,function(){var e;return u(this,function(n){if("string"==typeof t){if(e=c.io.getLoadHandlers(t),0===e.length)e.push(c.io.browserHTTPRequest(t));else if(e.length>1)throw new p.ValueError("Found more than one ("+e.length+") load handlers for "+("URL '"+t+"'"));t=e[0]}return[2,a(t)]})})}function a(t,e){return l(this,void 0,void 0,function(){var n,r,i,a,o;return u(this,function(s){switch(s.label){case 0:if(null==t.load)throw new p.ValueError("Cannot proceed with model loading because the IOHandler provided does not have the `load` method implemented.");return[4,t.load()];case 1:if(n=s.sent(),r=n.modelTopology,null!=r.model_config&&(r=r.model_config),i=f.deserialize(C.convertPythonicToTs(r),e),null!=n.weightData){if(null==n.weightSpecs)throw new p.ValueError("Model artifacts contains weight data, but not weight specs. Therefore loading of weights cannot proceed.");a=!1,o=!0,i.loadWeights(c.io.decodeWeights(n.weightData,n.weightSpecs),a,o)}return[2,i]}})})}var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),s=this&&this.__decorate||function(t,e,n,r){var i,a=arguments.length,o=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(o=(a<3?i(o):a>3?i(e,n,o):i(e,n))||o);return a>3&&o&&Object.defineProperty(e,n,o),o},l=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,a){function o(t){try{l(r.next(t))}catch(t){a(t)}}function s(t){try{l(r.throw(t))}catch(t){a(t)}}function l(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(o,s)}l((r=r.apply(t,e||[])).next())})},u=this&&this.__generator||function(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;l;)try{if(i=1,a&&(o=a[2&n[0]?"return":n[0]?"throw":"next"])&&!(o=o.call(a,n[1])).done)return o;switch(a=0,o&&(n=[0,o.value]),n[0]){case 0:case 1:o=n;break;case 4:return l.label++,{value:n[1],done:!1};case 5:l.label++,a=n[1],n=[0];continue;case 7:n=l.ops.pop(),l.trys.pop();continue;default:if(o=l.trys,!(o=o.length>0&&o[o.length-1])&&(6===n[0]||2===n[0])){l=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3])){l.label=n[1];break}if(6===n[0]&&l.label<o[1]){l.label=o[1],o=n;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(n);break}o[2]&&l.ops.pop(),l.trys.pop();continue}n=e.call(t,l)}catch(t){n=[6,t],a=0}finally{i=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,a,o,s,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(e,"__esModule",{value:!0});var c=n(505),h=n(652),g=n(655),d=n(663),p=n(654),f=n(657),A=n(653),C=n(658),I=n(659);e.modelFromJSON=r,e.loadModelInternal=i,e.loadModelFromIOHandler=a;var m=function(t){function e(e){var n=t.call(this,{inputs:[],outputs:[]})||this;if(e=e||{},n.trainable=!0,n._updatable=!0,n.built=!1,n.name=null!=e.name?e.name:h.getUid("sequential_"),null!=e.layers)for(var r=0,i=e.layers;r<i.length;r++){var a=i[r];n.add(a)}return n}return o(e,t),n=e,e.prototype.add=function(t){var e,r=t instanceof n||t instanceof d.Model;if(r){if(e=t,1!==e.outputs.length)throw new p.ValueError("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");if(1!==e.inputs.length)throw new p.ValueError("All layers in a Sequential model should have a single input tensor. For multi-input layers, use the functional API.")}if(0===this.outputs.length){if(0===t.inboundNodes.length){if(null==t.batchInputShape)throw new p.ValueError("The first layer in a Sequential model must get an `inputShape` or `batchInputShape` argument.");var i=g.Input({batchShape:t.batchInputShape,dtype:t.dtype,name:t.name+"_input"});t.apply(i)}if(r)this.outputs=e.outputs,this.inputs=e.inputs;else{if(1!==t.inboundNodes.length)throw new p.ValueError("A layer added to a Sequential model must not already be "+("connected somewhere else. Model received layer "+t.name+" ")+("which has "+t.inboundNodes.length+" pre-existing inbound ")+"connections.");if(1!==t.inboundNodes[0].outputTensors.length)throw new p.ValueError("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.outputs=[t.inboundNodes[0].outputTensors[0]],this.inputs=g.getSourceInputs(this.outputs[0])}this.inboundNodes=[],new g.Node({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:this.inputs,outputTensors:this.outputs,inputMasks:A.pyListRepeat(null,this.inputs.length),outputMasks:[null],inputShapes:this.inputs.map(function(t){return t.shape}),outputShapes:this.outputs[0].shape})}else{var a=t.apply(this.outputs[0]);if(Array.isArray(a))throw new TypeError("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.outputs=[a],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}this.layers.push(t),this.built=!1},e.prototype.pop=function(){if(0===this.layers.length)throw new TypeError("There are no layers in the model.");if(this.layers.pop(),0===this.layers.length)this.outputs=[],this.inboundNodes=[],this.outboundNodes=[];else{var t=this.layers.length-1;this.layers[t].outboundNodes=[],this.outputs=[this.layers[t].output],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}},e.prototype.call=function(t,e){return null==this.model&&this.build(),this.model.call(t,e)},e.prototype.build=function(t){if(I.getExactlyOneShape(t),0===this.inputs.length||0===this.outputs.length)throw new TypeError("Sequential model cannot be built: model is empty. Add some layers first.");this.model=new d.Model({inputs:this.inputs,outputs:this.outputs[0],name:this.name+"_model"}),this.model.trainable=this.trainable,this.model.updatable=this.updatable,this.supportsMasking=this.model.supportsMasking,this.inputLayers=this.model.inputLayers,this.inputLayersNodeIndices=this.model.inputLayersNodeIndices,this.inputLayersTensorIndices=this.model.inputLayersTensorIndices,this.outputLayers=this.model.outputLayers,this.outputLayersNodeIndices=this.model.outputLayersNodeIndices,this.outputLayersTensorIndices=this.model.outputLayersTensorIndices,this.nodesByDepth=this.model.nodesByDepth,this.containerNodes=this.model.containerNodes,this.outputNames=this.model.outputNames,this.inputNames=this.model.inputNames,this.built=!0},e.prototype.countParams=function(){return this.built||this.build(),t.prototype.countParams.call(this)},e.prototype.summary=function(e,n,r){void 0===r&&(r=console.log),this.built||this.build(),t.prototype.summary.call(this,e,n,r)},e.prototype.setWeights=function(t){null==this.model&&this.build(),this.model.setWeights(t)},Object.defineProperty(e.prototype,"updatable",{get:function(){return this._updatable},set:function(t){this.built&&(this.model.updatable=t),this._updatable=t},enumerable:!0,configurable:!0}),e.prototype.evaluate=function(t,e,n){if(void 0===n&&(n={}),!this.built)throw new p.RuntimeError("The model needs to be compiled before being used.");return this.model.evaluate(t,e,n)},e.prototype.predict=function(t,e){return void 0===e&&(e={}),null==this.model&&this.build(),this.model.predict(t,e)},e.prototype.predictOnBatch=function(t){return null==this.model&&this.build(),this.model.predictOnBatch(t)},e.prototype.compile=function(t){this.build(),this.model.compile(t),this.optimizer=this.model.optimizer,this.loss=this.model.loss,this.metrics=this.model.metrics,this.metricsTensors=this.model.metricsTensors,this.metricsNames=this.model.metricsNames},e.prototype.fit=function(t,e,n){return void 0===n&&(n={}),l(this,void 0,void 0,function(){return u(this,function(r){if(!this.built)throw new p.RuntimeError("The model needs to be compiled before being used.");return[2,this.model.fit(t,e,n)]})})},e.fromConfig=function(t,e){var r=new t({});if(!(r instanceof n))throw new p.ValueError("Sequential.fromConfig called on non-Sequential input: "+r);if(!(e instanceof Array))throw new p.ValueError("Sequential.fromConfig called without an array of configs");if(null==e[0].className||"Merge"===e[0].className)throw new p.ValueError("Legacy serialization format not supported yet.");for(var i=0,a=e;i<a.length;i++){var o=a[i],s=f.deserialize(o);r.add(s)}return r},e.prototype.getConfig=function(){for(var t=[],e=0,n=this.layers;e<n.length;e++){var r=n[e];t.push({className:r.getClassName(),config:r.getConfig()})}return t},e.className="Sequential",s([c.doc({heading:"Models",subheading:"Classes"})],e.prototype,"add",null),s([c.doc({heading:"Models",subheading:"Classes"})],e.prototype,"summary",null),s([c.doc({heading:"Models",subheading:"Classes",configParamIndices:[2]})],e.prototype,"evaluate",null),s([c.doc({heading:"Models",subheading:"Classes",configParamIndices:[1]})],e.prototype,"predict",null),s([c.doc({heading:"Models",subheading:"Classes",configParamIndices:[2]})],e.prototype,"fit",null),e=n=s([c.doc({heading:"Models",subheading:"Classes"})],e);var n}(d.Model);e.Sequential=m,c.serialization.SerializationMap.register(m)},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(666),a=n(663),o=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.model=null,e}return r(e,t),e.prototype.setModel=function(t){if(!(t instanceof a.Model))throw new Error("model must be a Model, not some other Container");this.model=t},e}(i.BaseCallback);e.Callback=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(691);e.FrozenModel=r.FrozenModel,e.loadFrozenModel=r.loadFrozenModel;var i=n(748);e.version_converter=i.version},function(t,e,n){"use strict";function r(t,e,n){return i(this,void 0,void 0,function(){var r;return a(this,function(i){switch(i.label){case 0:return r=new h(t,e,n),[4,r.load()];case 1:return i.sent(),[2,r]}})})}var i=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,a){function o(t){try{l(r.next(t))}catch(t){a(t)}}function s(t){try{l(r.throw(t))}catch(t){a(t)}}function l(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(o,s)}l((r=r.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;l;)try{if(i=1,a&&(o=a[2&n[0]?"return":n[0]?"throw":"next"])&&!(o=o.call(a,n[1])).done)return o;switch(a=0,o&&(n=[0,o.value]),n[0]){case 0:case 1:o=n;break;case 4:return l.label++,{value:n[1],done:!1};case 5:l.label++,a=n[1],n=[0];continue;case 7:n=l.ops.pop(),l.trys.pop();continue;default:if(o=l.trys,!(o=o.length>0&&o[o.length-1])&&(6===n[0]||2===n[0])){l=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3])){l.label=n[1];break}if(6===n[0]&&l.label<o[1]){l.label=o[1],o=n;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(n);break}o[2]&&l.ops.pop(),l.trys.pop();continue}n=e.call(t,l)}catch(t){n=[6,t],a=0}finally{i=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,a,o,s,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(e,"__esModule",{value:!0});var o=n(505),s=n(692),l=n(698),u=n(717),c=n(732),h=function(){function t(t,e,n){this.modelUrl=t,this.weightManifestUrl=e,this.requestOption=n,this.version="n/a",this.pathPrefix=this.getPathPrefix()}return Object.defineProperty(t.prototype,"modelVersion",{get:function(){return this.version},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputNodes",{get:function(){return this.executor.inputNodes},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outputNodes",{get:function(){return this.executor.outputNodes},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputs",{get:function(){return this.executor.inputs},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outputs",{get:function(){return this.executor.outputs},enumerable:!0,configurable:!0}),t.prototype.getPathPrefix=function(){var t=s.parse(this.weightManifestUrl),e=t.pathname.split("/");return e.splice(-1),t.pathname=e.join("/"),s.format(t)+"/"},t.prototype.loadRemoteProtoFile=function(){return i(this,void 0,void 0,function(){var t,e,n,r,i;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),[4,fetch(this.modelUrl,this.requestOption)];case 1:return t=a.sent(),n=(e=l.tensorflow.GraphDef).decode,r=Uint8Array.bind,[4,t.arrayBuffer()];case 2:return[2,n.apply(e,[new(r.apply(Uint8Array,[void 0,a.sent()]))])];case 3:throw i=a.sent(),new Error(this.modelUrl+" not found. "+i);case 4:return[2]}})})},t.prototype.loadWeightManifest=function(){return i(this,void 0,void 0,function(){var t,e,n;return a(this,function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,fetch(this.weightManifestUrl,this.requestOption)];case 1:return t=r.sent(),e=this,[4,t.clone().json()];case 2:return e.weightManifest=r.sent(),[3,4];case 3:throw n=r.sent(),new Error(this.weightManifestUrl+" not found. "+n);case 4:return[2]}})})},t.prototype.load=function(){return i(this,void 0,void 0,function(){var t,e,n,r;return a(this,function(i){switch(i.label){case 0:return t=this.loadRemoteProtoFile(),e=this.loadWeightManifest(),[4,Promise.all([t,e])];case 1:return n=i.sent()[0],this.version=n.versions.producer+"."+n.versions.minConsumer,[4,o.io.loadWeights(this.weightManifest,this.pathPrefix,void 0,this.requestOption)];case 2:return r=i.sent(),this.executor=new c.GraphExecutor(u.OperationMapper.Instance.transformGraph(n)),this.executor.weightMap=this.convertTensorMapToTensorsMap(r),[2,!0]}})})},t.prototype.predict=function(t,e){return this.execute(t,this.outputNodes)},t.prototype.constructTensorMap=function(t){var e=t instanceof o.Tensor?[t]:t;if(e.length!==this.inputNodes.length)throw new Error("Input tensor count mismatch,"+("the frozen model has "+this.inputNodes.length+" placeholders, ")+("while there are "+e.length+" input tensors."));return this.inputNodes.reduce(function(t,n,r){return t[n]=e[r],t},{})},t.prototype.execute=function(t,e){if(e=e||this.outputNodes,(t instanceof o.Tensor||Array.isArray(t))&&(t=this.constructTensorMap(t)),this.executor.isControlFlowModel)throw new Error("The model contains control flow ops, please use executeAsync method");var n=this.executor.execute(this.convertTensorMapToTensorsMap(t),e),r=Object.keys(n);return Array.isArray(e)&&e.length>1?e.map(function(t){return n[t]}):n[r[0]]},t.prototype.executeAsync=function(t,e){return i(this,void 0,void 0,function(){var n,r;return a(this,function(i){switch(i.label){case 0:if(!this.executor.isControlFlowModel)throw new Error("The model does not contain control flow ops, please use execute method for better performance.");return e=e||this.outputNodes,(t instanceof o.Tensor||Array.isArray(t))&&(t=this.constructTensorMap(t)),[4,this.executor.executeAsync(this.convertTensorMapToTensorsMap(t),e)];case 1:return n=i.sent(),r=Object.keys(n),[2,Array.isArray(e)&&e.length>1?e.map(function(t){return n[t]}):n[r[0]]]}})})},t.prototype.convertTensorMapToTensorsMap=function(t){return Object.keys(t).reduce(function(e,n){return e[n]=[t[n]],e},{})},t.prototype.dispose=function(){this.executor.dispose()},t}();e.FrozenModel=h,e.loadFrozenModel=r},function(t,e,n){"use strict";function r(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function i(t,e,n){if(t&&u.isObject(t)&&t instanceof r)return t;var i=new r;return i.parse(t,e,n),i}function a(t){return u.isString(t)&&(t=i(t)),t instanceof r?t.format():r.prototype.format.call(t)}function o(t,e){return i(t,!1,!0).resolve(e)}function s(t,e){return t?i(t,!1,!0).resolveObject(e):e}var l=n(693),u=n(694);e.parse=i,e.resolve=o,e.resolveObject=s,e.format=a,e.Url=r;var c=/^([a-z0-9.+-]+:)/i,h=/:[0-9]*$/,g=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,d=["<",">",'"',"`"," ","\r","\n","\t"],p=["{","}","|","\\","^","`"].concat(d),f=["'"].concat(p),A=["%","/","?",";","#"].concat(f),C=["/","?","#"],I=255,m=/^[+a-z0-9A-Z_-]{0,63}$/,v=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,y={javascript:!0,"javascript:":!0},b={javascript:!0,"javascript:":!0},x={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},w=n(695);r.prototype.parse=function(t,e,n){if(!u.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var r=t.indexOf("?"),i=r!==-1&&r<t.indexOf("#")?"?":"#",a=t.split(i),o=/\\/g;a[0]=a[0].replace(o,"/"),t=a.join(i);var s=t;if(s=s.trim(),!n&&1===t.split("#").length){var h=g.exec(s);if(h)return this.path=s,this.href=s,this.pathname=h[1],h[2]?(this.search=h[2],e?this.query=w.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var d=c.exec(s);if(d){d=d[0];var p=d.toLowerCase();this.protocol=p,s=s.substr(d.length)}if(n||d||s.match(/^\/\/[^@\/]+@[^@\/]+/)){var S="//"===s.substr(0,2);!S||d&&b[d]||(s=s.substr(2),this.slashes=!0)}if(!b[d]&&(S||d&&!x[d])){for(var T=-1,N=0;N<C.length;N++){var E=s.indexOf(C[N]);E!==-1&&(T===-1||E<T)&&(T=E)}var k,O;O=T===-1?s.lastIndexOf("@"):s.lastIndexOf("@",T),O!==-1&&(k=s.slice(0,O),s=s.slice(O+1),this.auth=decodeURIComponent(k)),T=-1;for(var N=0;N<A.length;N++){var E=s.indexOf(A[N]);E!==-1&&(T===-1||E<T)&&(T=E)}T===-1&&(T=s.length),this.host=s.slice(0,T),s=s.slice(T),this.parseHost(),this.hostname=this.hostname||"";var M="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!M)for(var R=this.hostname.split(/\./),N=0,D=R.length;N<D;N++){var _=R[N];if(_&&!_.match(m)){for(var P="",L=0,z=_.length;L<z;L++)P+=_.charCodeAt(L)>127?"x":_[L];if(!P.match(m)){var F=R.slice(0,N),B=R.slice(N+1),V=_.match(v);V&&(F.push(V[1]),B.unshift(V[2])),B.length&&(s="/"+B.join(".")+s),this.hostname=F.join(".");break}}}this.hostname.length>I?this.hostname="":this.hostname=this.hostname.toLowerCase(),M||(this.hostname=l.toASCII(this.hostname));var j=this.port?":"+this.port:"",W=this.hostname||"";this.host=W+j,this.href+=this.host,
M&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==s[0]&&(s="/"+s))}if(!y[p])for(var N=0,D=f.length;N<D;N++){var G=f[N];if(s.indexOf(G)!==-1){var U=encodeURIComponent(G);U===G&&(U=escape(G)),s=s.split(G).join(U)}}var H=s.indexOf("#");H!==-1&&(this.hash=s.substr(H),s=s.slice(0,H));var Z=s.indexOf("?");if(Z!==-1?(this.search=s.substr(Z),this.query=s.substr(Z+1),e&&(this.query=w.parse(this.query)),s=s.slice(0,Z)):e&&(this.search="",this.query={}),s&&(this.pathname=s),x[p]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var j=this.pathname||"",Y=this.search||"";this.path=j+Y}return this.href=this.format(),this},r.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,a="";this.host?i=t+this.host:this.hostname&&(i=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&u.isObject(this.query)&&Object.keys(this.query).length&&(a=w.stringify(this.query));var o=this.search||a&&"?"+a||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||x[e])&&i!==!1?(i="//"+(i||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):i||(i=""),r&&"#"!==r.charAt(0)&&(r="#"+r),o&&"?"!==o.charAt(0)&&(o="?"+o),n=n.replace(/[?#]/g,function(t){return encodeURIComponent(t)}),o=o.replace("#","%23"),e+i+n+o+r},r.prototype.resolve=function(t){return this.resolveObject(i(t,!1,!0)).format()},r.prototype.resolveObject=function(t){if(u.isString(t)){var e=new r;e.parse(t,!1,!0),t=e}for(var n=new r,i=Object.keys(this),a=0;a<i.length;a++){var o=i[a];n[o]=this[o]}if(n.hash=t.hash,""===t.href)return n.href=n.format(),n;if(t.slashes&&!t.protocol){for(var s=Object.keys(t),l=0;l<s.length;l++){var c=s[l];"protocol"!==c&&(n[c]=t[c])}return x[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(t.protocol&&t.protocol!==n.protocol){if(!x[t.protocol]){for(var h=Object.keys(t),g=0;g<h.length;g++){var d=h[g];n[d]=t[d]}return n.href=n.format(),n}if(n.protocol=t.protocol,t.host||b[t.protocol])n.pathname=t.pathname;else{for(var p=(t.pathname||"").split("/");p.length&&!(t.host=p.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),n.pathname=p.join("/")}if(n.search=t.search,n.query=t.query,n.host=t.host||"",n.auth=t.auth,n.hostname=t.hostname||t.host,n.port=t.port,n.pathname||n.search){var f=n.pathname||"",A=n.search||"";n.path=f+A}return n.slashes=n.slashes||t.slashes,n.href=n.format(),n}var C=n.pathname&&"/"===n.pathname.charAt(0),I=t.host||t.pathname&&"/"===t.pathname.charAt(0),m=I||C||n.host&&t.pathname,v=m,y=n.pathname&&n.pathname.split("/")||[],p=t.pathname&&t.pathname.split("/")||[],w=n.protocol&&!x[n.protocol];if(w&&(n.hostname="",n.port=null,n.host&&(""===y[0]?y[0]=n.host:y.unshift(n.host)),n.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===p[0]?p[0]=t.host:p.unshift(t.host)),t.host=null),m=m&&(""===p[0]||""===y[0])),I)n.host=t.host||""===t.host?t.host:n.host,n.hostname=t.hostname||""===t.hostname?t.hostname:n.hostname,n.search=t.search,n.query=t.query,y=p;else if(p.length)y||(y=[]),y.pop(),y=y.concat(p),n.search=t.search,n.query=t.query;else if(!u.isNullOrUndefined(t.search)){if(w){n.hostname=n.host=y.shift();var S=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@");S&&(n.auth=S.shift(),n.host=n.hostname=S.shift())}return n.search=t.search,n.query=t.query,u.isNull(n.pathname)&&u.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!y.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var T=y.slice(-1)[0],N=(n.host||t.host||y.length>1)&&("."===T||".."===T)||""===T,E=0,k=y.length;k>=0;k--)T=y[k],"."===T?y.splice(k,1):".."===T?(y.splice(k,1),E++):E&&(y.splice(k,1),E--);if(!m&&!v)for(;E--;E)y.unshift("..");!m||""===y[0]||y[0]&&"/"===y[0].charAt(0)||y.unshift(""),N&&"/"!==y.join("/").substr(-1)&&y.push("");var O=""===y[0]||y[0]&&"/"===y[0].charAt(0);if(w){n.hostname=n.host=O?"":y.length?y.shift():"";var S=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@");S&&(n.auth=S.shift(),n.host=n.hostname=S.shift())}return m=m||n.host&&y.length,m&&!O&&y.unshift(""),y.length?n.pathname=y.join("/"):(n.pathname=null,n.path=null),u.isNull(n.pathname)&&u.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=t.auth||n.auth,n.slashes=n.slashes||t.slashes,n.href=n.format(),n},r.prototype.parseHost=function(){var t=this.host,e=h.exec(t);e&&(e=e[0],":"!==e&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},function(t,e,n){var r;(function(t,i){!function(a){function o(t){throw RangeError(R[t])}function s(t,e){for(var n=t.length,r=[];n--;)r[n]=e(t[n]);return r}function l(t,e){var n=t.split("@"),r="";n.length>1&&(r=n[0]+"@",t=n[1]),t=t.replace(M,".");var i=t.split("."),a=s(i,e).join(".");return r+a}function u(t){for(var e,n,r=[],i=0,a=t.length;i<a;)e=t.charCodeAt(i++),e>=55296&&e<=56319&&i<a?(n=t.charCodeAt(i++),56320==(64512&n)?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),i--)):r.push(e);return r}function c(t){return s(t,function(t){var e="";return t>65535&&(t-=65536,e+=P(t>>>10&1023|55296),t=56320|1023&t),e+=P(t)}).join("")}function h(t){return t-48<10?t-22:t-65<26?t-65:t-97<26?t-97:y}function g(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function d(t,e,n){var r=0;for(t=n?_(t/S):t>>1,t+=_(t/e);t>D*x>>1;r+=y)t=_(t/D);return _(r+(D+1)*t/(t+w))}function p(t){var e,n,r,i,a,s,l,u,g,p,f=[],A=t.length,C=0,I=N,m=T;for(n=t.lastIndexOf(E),n<0&&(n=0),r=0;r<n;++r)t.charCodeAt(r)>=128&&o("not-basic"),f.push(t.charCodeAt(r));for(i=n>0?n+1:0;i<A;){for(a=C,s=1,l=y;i>=A&&o("invalid-input"),u=h(t.charCodeAt(i++)),(u>=y||u>_((v-C)/s))&&o("overflow"),C+=u*s,g=l<=m?b:l>=m+x?x:l-m,!(u<g);l+=y)p=y-g,s>_(v/p)&&o("overflow"),s*=p;e=f.length+1,m=d(C-a,e,0==a),_(C/e)>v-I&&o("overflow"),I+=_(C/e),C%=e,f.splice(C++,0,I)}return c(f)}function f(t){var e,n,r,i,a,s,l,c,h,p,f,A,C,I,m,w=[];for(t=u(t),A=t.length,e=N,n=0,a=T,s=0;s<A;++s)f=t[s],f<128&&w.push(P(f));for(r=i=w.length,i&&w.push(E);r<A;){for(l=v,s=0;s<A;++s)f=t[s],f>=e&&f<l&&(l=f);for(C=r+1,l-e>_((v-n)/C)&&o("overflow"),n+=(l-e)*C,e=l,s=0;s<A;++s)if(f=t[s],f<e&&++n>v&&o("overflow"),f==e){for(c=n,h=y;p=h<=a?b:h>=a+x?x:h-a,!(c<p);h+=y)m=c-p,I=y-p,w.push(P(g(p+m%I,0))),c=_(m/I);w.push(P(g(c,0))),a=d(n,C,r==i),n=0,++r}++n,++e}return w.join("")}function A(t){return l(t,function(t){return k.test(t)?p(t.slice(4).toLowerCase()):t})}function C(t){return l(t,function(t){return O.test(t)?"xn--"+f(t):t})}var I=("object"==typeof e&&e&&!e.nodeType&&e,"object"==typeof t&&t&&!t.nodeType&&t,"object"==typeof i&&i);I.global!==I&&I.window!==I&&I.self!==I||(a=I);var m,v=2147483647,y=36,b=1,x=26,w=38,S=700,T=72,N=128,E="-",k=/^xn--/,O=/[^\x20-\x7E]/,M=/[\x2E\u3002\uFF0E\uFF61]/g,R={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},D=y-b,_=Math.floor,P=String.fromCharCode;m={version:"1.3.2",ucs2:{decode:u,encode:c},decode:p,encode:f,toASCII:C,toUnicode:A},r=function(){return m}.call(e,n,e,t),!(void 0!==r&&(t.exports=r))}(this)}).call(e,n(528)(t),function(){return this}())},function(t,e){"use strict";t.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},function(t,e,n){"use strict";e.decode=e.parse=n(696),e.encode=e.stringify=n(697)},function(t,e){"use strict";function n(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,r,i){e=e||"&",r=r||"=";var a={};if("string"!=typeof t||0===t.length)return a;var o=/\+/g;t=t.split(e);var s=1e3;i&&"number"==typeof i.maxKeys&&(s=i.maxKeys);var l=t.length;s>0&&l>s&&(l=s);for(var u=0;u<l;++u){var c,h,g,d,p=t[u].replace(o,"%20"),f=p.indexOf(r);f>=0?(c=p.substr(0,f),h=p.substr(f+1)):(c=p,h=""),g=decodeURIComponent(c),d=decodeURIComponent(h),n(a,g)?Array.isArray(a[g])?a[g].push(d):a[g]=[a[g],d]:a[g]=d}return a}},function(t,e){"use strict";var n=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,e,r,i){return e=e||"&",r=r||"=",null===t&&(t=void 0),"object"==typeof t?Object.keys(t).map(function(i){var a=encodeURIComponent(n(i))+r;return Array.isArray(t[i])?t[i].map(function(t){return a+encodeURIComponent(n(t))}).join(e):a+encodeURIComponent(n(t[i]))}).join(e):i?encodeURIComponent(n(i))+r+encodeURIComponent(n(t)):""}},function(t,e,n){"use strict";var r=n(699),i=r.Reader,a=r.util,o=r.roots.default||(r.roots.default={});o.tensorflow=function(){var t={};return t.Any=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.typeUrl="",t.prototype.value=a.newBuffer([]),t.decode=function(t,e){t instanceof i||(t=i.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new o.tensorflow.Any;t.pos<n;){var a=t.uint32();switch(a>>>3){case 1:r.typeUrl=t.string();break;case 2:r.value=t.bytes();break;default:t.skipType(7&a)}}return r},t}(),t.DataType=function(){var t={},e=Object.create(t);return e[t[0]="DT_INVALID"]=0,e[t[1]="DT_FLOAT"]=1,e[t[2]="DT_DOUBLE"]=2,e[t[3]="DT_INT32"]=3,e[t[4]="DT_UINT8"]=4,e[t[5]="DT_INT16"]=5,e[t[6]="DT_INT8"]=6,e[t[7]="DT_STRING"]=7,e[t[8]="DT_COMPLEX64"]=8,e[t[9]="DT_INT64"]=9,e[t[10]="DT_BOOL"]=10,e[t[11]="DT_QINT8"]=11,e[t[12]="DT_QUINT8"]=12,e[t[13]="DT_QINT32"]=13,e[t[14]="DT_BFLOAT16"]=14,e[t[101]="DT_FLOAT_REF"]=101,e[t[102]="DT_DOUBLE_REF"]=102,e[t[103]="DT_INT32_REF"]=103,e[t[104]="DT_UINT8_REF"]=104,e[t[105]="DT_INT16_REF"]=105,e[t[106]="DT_INT8_REF"]=106,e[t[107]="DT_STRING_REF"]=107,e[t[108]="DT_COMPLEX64_REF"]=108,e[t[109]="DT_INT64_REF"]=109,e[t[110]="DT_BOOL_REF"]=110,e[t[111]="DT_QINT8_REF"]=111,e[t[112]="DT_QUINT8_REF"]=112,e[t[113]="DT_QINT32_REF"]=113,e[t[114]="DT_BFLOAT16_REF"]=114,e}(),t.TensorShape=function(){function t(t){if(this.dim=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.dim=a.emptyArray,t.prototype.unknownRank=!1,t.decode=function(t,e){t instanceof i||(t=i.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new o.tensorflow.TensorShape;t.pos<n;){var a=t.uint32();switch(a>>>3){case 2:r.dim&&r.dim.length||(r.dim=[]),r.dim.push(o.tensorflow.TensorShape.Dim.decode(t,t.uint32()));break;case 3:r.unknownRank=t.bool();break;default:t.skipType(7&a)}}return r},t.Dim=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.size=a.Long?a.Long.fromBits(0,0,!1):0,t.prototype.name="",t.decode=function(t,e){t instanceof i||(t=i.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new o.tensorflow.TensorShape.Dim;t.pos<n;){var a=t.uint32();switch(a>>>3){case 1:r.size=t.int64();break;case 2:r.name=t.string();break;default:t.skipType(7&a)}}return r},t}(),t}(),t.Tensor=function(){function t(t){if(this.floatVal=[],this.doubleVal=[],this.intVal=[],this.stringVal=[],this.scomplexVal=[],this.int64Val=[],this.boolVal=[],this.uint32Val=[],this.uint64Val=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.dtype=0,t.prototype.tensorShape=null,t.prototype.versionNumber=0,t.prototype.tensorContent=a.newBuffer([]),t.prototype.floatVal=a.emptyArray,t.prototype.doubleVal=a.emptyArray,t.prototype.intVal=a.emptyArray,t.prototype.stringVal=a.emptyArray,t.prototype.scomplexVal=a.emptyArray,t.prototype.int64Val=a.emptyArray,t.prototype.boolVal=a.emptyArray,t.prototype.uint32Val=a.emptyArray,t.prototype.uint64Val=a.emptyArray,t.decode=function(t,e){t instanceof i||(t=i.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new o.tensorflow.Tensor;t.pos<n;){var a=t.uint32();switch(a>>>3){case 1:r.dtype=t.int32();break;case 2:r.tensorShape=o.tensorflow.TensorShape.decode(t,t.uint32());break;case 3:r.versionNumber=t.int32();break;case 4:r.tensorContent=t.bytes();break;case 5:if(r.floatVal&&r.floatVal.length||(r.floatVal=[]),2===(7&a))for(var s=t.uint32()+t.pos;t.pos<s;)r.floatVal.push(t.float());else r.floatVal.push(t.float());break;case 6:if(r.doubleVal&&r.doubleVal.length||(r.doubleVal=[]),2===(7&a))for(var s=t.uint32()+t.pos;t.pos<s;)r.doubleVal.push(t.double());else r.doubleVal.push(t.double());break;case 7:if(r.intVal&&r.intVal.length||(r.intVal=[]),2===(7&a))for(var s=t.uint32()+t.pos;t.pos<s;)r.intVal.push(t.int32());else r.intVal.push(t.int32());break;case 8:r.stringVal&&r.stringVal.length||(r.stringVal=[]),r.stringVal.push(t.bytes());break;case 9:if(r.scomplexVal&&r.scomplexVal.length||(r.scomplexVal=[]),2===(7&a))for(var s=t.uint32()+t.pos;t.pos<s;)r.scomplexVal.push(t.float());else r.scomplexVal.push(t.float());break;case 10:if(r.int64Val&&r.int64Val.length||(r.int64Val=[]),2===(7&a))for(var s=t.uint32()+t.pos;t.pos<s;)r.int64Val.push(t.int64());else r.int64Val.push(t.int64());break;case 11:if(r.boolVal&&r.boolVal.length||(r.boolVal=[]),2===(7&a))for(var s=t.uint32()+t.pos;t.pos<s;)r.boolVal.push(t.bool());else r.boolVal.push(t.bool());break;case 16:if(r.uint32Val&&r.uint32Val.length||(r.uint32Val=[]),2===(7&a))for(var s=t.uint32()+t.pos;t.pos<s;)r.uint32Val.push(t.uint32());else r.uint32Val.push(t.uint32());break;case 17:if(r.uint64Val&&r.uint64Val.length||(r.uint64Val=[]),2===(7&a))for(var s=t.uint32()+t.pos;t.pos<s;)r.uint64Val.push(t.uint64());else r.uint64Val.push(t.uint64());break;default:t.skipType(7&a)}}return r},t}(),t.AttrValue=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}t.prototype.list=null,t.prototype.s=a.newBuffer([]),t.prototype.i=a.Long?a.Long.fromBits(0,0,!1):0,t.prototype.f=0,t.prototype.b=!1,t.prototype.type=0,t.prototype.shape=null,t.prototype.tensor=null,t.prototype.placeholder="",t.prototype.func=null;var e;return Object.defineProperty(t.prototype,"value",{get:a.oneOfGetter(e=["list","s","i","f","b","type","shape","tensor","placeholder","func"]),set:a.oneOfSetter(e)}),t.decode=function(t,e){t instanceof i||(t=i.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new o.tensorflow.AttrValue;t.pos<n;){var a=t.uint32();switch(a>>>3){case 1:r.list=o.tensorflow.AttrValue.ListValue.decode(t,t.uint32());break;case 2:r.s=t.bytes();break;case 3:r.i=t.int64();break;case 4:r.f=t.float();break;case 5:r.b=t.bool();break;case 6:r.type=t.int32();break;case 7:r.shape=o.tensorflow.TensorShape.decode(t,t.uint32());break;case 8:r.tensor=o.tensorflow.Tensor.decode(t,t.uint32());break;case 9:r.placeholder=t.string();break;case 10:r.func=o.tensorflow.NameAttrList.decode(t,t.uint32());break;default:t.skipType(7&a)}}return r},t.ListValue=function(){function t(t){if(this.s=[],this.i=[],this.f=[],this.b=[],this.type=[],this.shape=[],this.tensor=[],this.func=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.s=a.emptyArray,t.prototype.i=a.emptyArray,t.prototype.f=a.emptyArray,t.prototype.b=a.emptyArray,t.prototype.type=a.emptyArray,t.prototype.shape=a.emptyArray,t.prototype.tensor=a.emptyArray,t.prototype.func=a.emptyArray,t.decode=function(t,e){t instanceof i||(t=i.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new o.tensorflow.AttrValue.ListValue;t.pos<n;){var a=t.uint32();switch(a>>>3){case 2:r.s&&r.s.length||(r.s=[]),r.s.push(t.bytes());break;case 3:if(r.i&&r.i.length||(r.i=[]),2===(7&a))for(var s=t.uint32()+t.pos;t.pos<s;)r.i.push(t.int64());else r.i.push(t.int64());break;case 4:if(r.f&&r.f.length||(r.f=[]),2===(7&a))for(var s=t.uint32()+t.pos;t.pos<s;)r.f.push(t.float());else r.f.push(t.float());break;case 5:if(r.b&&r.b.length||(r.b=[]),2===(7&a))for(var s=t.uint32()+t.pos;t.pos<s;)r.b.push(t.bool());else r.b.push(t.bool());break;case 6:if(r.type&&r.type.length||(r.type=[]),2===(7&a))for(var s=t.uint32()+t.pos;t.pos<s;)r.type.push(t.int32());else r.type.push(t.int32());break;case 7:r.shape&&r.shape.length||(r.shape=[]),r.shape.push(o.tensorflow.TensorShape.decode(t,t.uint32()));break;case 8:r.tensor&&r.tensor.length||(r.tensor=[]),r.tensor.push(o.tensorflow.Tensor.decode(t,t.uint32()));break;case 9:r.func&&r.func.length||(r.func=[]),r.func.push(o.tensorflow.NameAttrList.decode(t,t.uint32()));break;default:t.skipType(7&a)}}return r},t}(),t}(),t.NameAttrList=function(){function t(t){if(this.attr={},t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.name="",t.prototype.attr=a.emptyObject,t.decode=function(t,e){t instanceof i||(t=i.create(t));for(var n,r=void 0===e?t.len:t.pos+e,s=new o.tensorflow.NameAttrList;t.pos<r;){var l=t.uint32();switch(l>>>3){case 1:s.name=t.string();break;case 2:t.skip().pos++,s.attr===a.emptyObject&&(s.attr={}),n=t.string(),t.pos++,s.attr[n]=o.tensorflow.AttrValue.decode(t,t.uint32());break;default:t.skipType(7&l)}}return s},t}(),t.NodeDef=function(){function t(t){if(this.input=[],this.attr={},t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.name="",t.prototype.op="",t.prototype.input=a.emptyArray,t.prototype.device="",t.prototype.attr=a.emptyObject,t.decode=function(t,e){t instanceof i||(t=i.create(t));for(var n,r=void 0===e?t.len:t.pos+e,s=new o.tensorflow.NodeDef;t.pos<r;){var l=t.uint32();switch(l>>>3){case 1:s.name=t.string();break;case 2:s.op=t.string();break;case 3:s.input&&s.input.length||(s.input=[]),s.input.push(t.string());break;case 4:s.device=t.string();break;case 5:t.skip().pos++,s.attr===a.emptyObject&&(s.attr={}),n=t.string(),t.pos++,s.attr[n]=o.tensorflow.AttrValue.decode(t,t.uint32());break;default:t.skipType(7&l)}}return s},t}(),t.VersionDef=function(){function t(t){if(this.badConsumers=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.producer=0,t.prototype.minConsumer=0,t.prototype.badConsumers=a.emptyArray,t.decode=function(t,e){t instanceof i||(t=i.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new o.tensorflow.VersionDef;t.pos<n;){var a=t.uint32();switch(a>>>3){case 1:r.producer=t.int32();break;case 2:r.minConsumer=t.int32();break;case 3:if(r.badConsumers&&r.badConsumers.length||(r.badConsumers=[]),2===(7&a))for(var s=t.uint32()+t.pos;t.pos<s;)r.badConsumers.push(t.int32());else r.badConsumers.push(t.int32());break;default:t.skipType(7&a)}}return r},t}(),t.GraphDef=function(){function t(t){if(this.node=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.node=a.emptyArray,t.prototype.versions=null,t.prototype.library=null,t.decode=function(t,e){t instanceof i||(t=i.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new o.tensorflow.GraphDef;t.pos<n;){var a=t.uint32();switch(a>>>3){case 1:r.node&&r.node.length||(r.node=[]),r.node.push(o.tensorflow.NodeDef.decode(t,t.uint32()));break;case 4:r.versions=o.tensorflow.VersionDef.decode(t,t.uint32());break;case 2:r.library=o.tensorflow.FunctionDefLibrary.decode(t,t.uint32());break;default:t.skipType(7&a)}}return r},t}(),t.CollectionDef=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}t.prototype.nodeList=null,t.prototype.bytesList=null,t.prototype.int64List=null,t.prototype.floatList=null,t.prototype.anyList=null;var e;return Object.defineProperty(t.prototype,"kind",{get:a.oneOfGetter(e=["nodeList","bytesList","int64List","floatList","anyList"]),set:a.oneOfSetter(e)}),t.decode=function(t,e){t instanceof i||(t=i.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new o.tensorflow.CollectionDef;t.pos<n;){var a=t.uint32();switch(a>>>3){case 1:r.nodeList=o.tensorflow.CollectionDef.NodeList.decode(t,t.uint32());break;case 2:r.bytesList=o.tensorflow.CollectionDef.BytesList.decode(t,t.uint32());break;case 3:r.int64List=o.tensorflow.CollectionDef.Int64List.decode(t,t.uint32());break;case 4:r.floatList=o.tensorflow.CollectionDef.FloatList.decode(t,t.uint32());break;case 5:r.anyList=o.tensorflow.CollectionDef.AnyList.decode(t,t.uint32());break;default:t.skipType(7&a)}}return r},t.NodeList=function(){function t(t){if(this.value=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.value=a.emptyArray,t.decode=function(t,e){t instanceof i||(t=i.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new o.tensorflow.CollectionDef.NodeList;t.pos<n;){var a=t.uint32();switch(a>>>3){case 1:r.value&&r.value.length||(r.value=[]),r.value.push(t.string());break;default:t.skipType(7&a)}}return r},t}(),t.BytesList=function(){function t(t){if(this.value=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.value=a.emptyArray,t.decode=function(t,e){t instanceof i||(t=i.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new o.tensorflow.CollectionDef.BytesList;t.pos<n;){var a=t.uint32();switch(a>>>3){case 1:r.value&&r.value.length||(r.value=[]),r.value.push(t.bytes());break;default:t.skipType(7&a)}}return r},t}(),t.Int64List=function(){function t(t){if(this.value=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.value=a.emptyArray,t.decode=function(t,e){t instanceof i||(t=i.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new o.tensorflow.CollectionDef.Int64List;t.pos<n;){var a=t.uint32();switch(a>>>3){case 1:if(r.value&&r.value.length||(r.value=[]),2===(7&a))for(var s=t.uint32()+t.pos;t.pos<s;)r.value.push(t.int64());else r.value.push(t.int64());break;default:t.skipType(7&a)}}return r},t}(),t.FloatList=function(){function t(t){if(this.value=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.value=a.emptyArray,t.decode=function(t,e){t instanceof i||(t=i.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new o.tensorflow.CollectionDef.FloatList;t.pos<n;){var a=t.uint32();switch(a>>>3){case 1:if(r.value&&r.value.length||(r.value=[]),2===(7&a))for(var s=t.uint32()+t.pos;t.pos<s;)r.value.push(t.float());else r.value.push(t.float());break;default:t.skipType(7&a)}}return r},t}(),t.AnyList=function(){function t(t){if(this.value=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.value=a.emptyArray,t.decode=function(t,e){t instanceof i||(t=i.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new o.tensorflow.CollectionDef.AnyList;t.pos<n;){var a=t.uint32();switch(a>>>3){case 1:r.value&&r.value.length||(r.value=[]),r.value.push(o.tensorflow.Any.decode(t,t.uint32()));break;default:t.skipType(7&a)}}return r},t}(),t}(),t.SaverDef=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.filenameTensorName="",t.prototype.saveTensorName="",t.prototype.restoreOpName="",t.prototype.maxToKeep=0,t.prototype.sharded=!1,t.prototype.keepCheckpointEveryNHours=0,t.prototype.version=0,t.decode=function(t,e){t instanceof i||(t=i.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new o.tensorflow.SaverDef;t.pos<n;){var a=t.uint32();switch(a>>>3){case 1:r.filenameTensorName=t.string();break;case 2:r.saveTensorName=t.string();break;case 3:r.restoreOpName=t.string();break;case 4:r.maxToKeep=t.int32();break;case 5:r.sharded=t.bool();break;case 6:r.keepCheckpointEveryNHours=t.float();break;case 7:r.version=t.int32();break;default:t.skipType(7&a)}}return r},t.CheckpointFormatVersion=function(){var t={},e=Object.create(t);return e[t[0]="LEGACY"]=0,e[t[1]="V1"]=1,e[t[2]="V2"]=2,e}(),t}(),t.TensorInfo=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}t.prototype.name="",t.prototype.cooSparse=null,t.prototype.dtype=0,t.prototype.tensorShape=null;var e;return Object.defineProperty(t.prototype,"encoding",{get:a.oneOfGetter(e=["name","cooSparse"]),set:a.oneOfSetter(e)}),t.decode=function(t,e){t instanceof i||(t=i.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new o.tensorflow.TensorInfo;t.pos<n;){var a=t.uint32();switch(a>>>3){case 1:r.name=t.string();break;case 4:r.cooSparse=o.tensorflow.TensorInfo.CooSparse.decode(t,t.uint32());break;case 2:r.dtype=t.int32();break;case 3:r.tensorShape=o.tensorflow.TensorShape.decode(t,t.uint32());break;default:t.skipType(7&a)}}return r},t.CooSparse=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.valuesTensorName="",t.prototype.indicesTensorName="",t.prototype.denseShapeTensorName="",t.decode=function(t,e){t instanceof i||(t=i.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new o.tensorflow.TensorInfo.CooSparse;t.pos<n;){var a=t.uint32();switch(a>>>3){case 1:r.valuesTensorName=t.string();break;case 2:r.indicesTensorName=t.string();break;case 3:r.denseShapeTensorName=t.string();break;default:t.skipType(7&a)}}return r},t}(),t}(),t.SignatureDef=function(){function t(t){if(this.inputs={},this.outputs={},t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.inputs=a.emptyObject,t.prototype.outputs=a.emptyObject,t.prototype.methodName="",t.decode=function(t,e){t instanceof i||(t=i.create(t));for(var n,r=void 0===e?t.len:t.pos+e,s=new o.tensorflow.SignatureDef;t.pos<r;){var l=t.uint32();switch(l>>>3){case 1:t.skip().pos++,s.inputs===a.emptyObject&&(s.inputs={}),n=t.string(),t.pos++,s.inputs[n]=o.tensorflow.TensorInfo.decode(t,t.uint32());break;case 2:t.skip().pos++,s.outputs===a.emptyObject&&(s.outputs={}),n=t.string(),t.pos++,s.outputs[n]=o.tensorflow.TensorInfo.decode(t,t.uint32());break;case 3:s.methodName=t.string();break;default:t.skipType(7&l)}}return s},t}(),t.AssetFileDef=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.tensorInfo=null,t.prototype.filename="",t.decode=function(t,e){t instanceof i||(t=i.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new o.tensorflow.AssetFileDef;t.pos<n;){var a=t.uint32();switch(a>>>3){case 1:r.tensorInfo=o.tensorflow.TensorInfo.decode(t,t.uint32());break;case 2:r.filename=t.string();break;default:t.skipType(7&a)}}return r},t}(),t.OpDef=function(){function t(t){if(this.inputArg=[],this.outputArg=[],this.attr=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.name="",t.prototype.inputArg=a.emptyArray,t.prototype.outputArg=a.emptyArray,t.prototype.attr=a.emptyArray,t.prototype.deprecation=null,t.prototype.summary="",t.prototype.description="",t.prototype.isCommutative=!1,t.prototype.isAggregate=!1,t.prototype.isStateful=!1,t.prototype.allowsUninitializedInput=!1,t.decode=function(t,e){t instanceof i||(t=i.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new o.tensorflow.OpDef;t.pos<n;){var a=t.uint32();switch(a>>>3){case 1:r.name=t.string();break;case 2:r.inputArg&&r.inputArg.length||(r.inputArg=[]),r.inputArg.push(o.tensorflow.OpDef.ArgDef.decode(t,t.uint32()));break;case 3:r.outputArg&&r.outputArg.length||(r.outputArg=[]),r.outputArg.push(o.tensorflow.OpDef.ArgDef.decode(t,t.uint32()));break;case 4:r.attr&&r.attr.length||(r.attr=[]),r.attr.push(o.tensorflow.OpDef.AttrDef.decode(t,t.uint32()));break;case 8:r.deprecation=o.tensorflow.OpDef.OpDeprecation.decode(t,t.uint32());break;case 5:r.summary=t.string();break;case 6:r.description=t.string();break;case 18:r.isCommutative=t.bool();break;case 16:r.isAggregate=t.bool();break;case 17:r.isStateful=t.bool();break;case 19:r.allowsUninitializedInput=t.bool();break;default:t.skipType(7&a)}}return r},t.ArgDef=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.name="",t.prototype.description="",t.prototype.type=0,t.prototype.typeAttr="",t.prototype.numberAttr="",t.prototype.typeListAttr="",t.prototype.isRef=!1,t.decode=function(t,e){t instanceof i||(t=i.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new o.tensorflow.OpDef.ArgDef;t.pos<n;){var a=t.uint32();switch(a>>>3){case 1:r.name=t.string();break;case 2:r.description=t.string();break;case 3:r.type=t.int32();break;case 4:r.typeAttr=t.string();break;case 5:r.numberAttr=t.string();break;case 6:r.typeListAttr=t.string();break;case 16:r.isRef=t.bool();break;default:t.skipType(7&a)}}return r},t}(),t.AttrDef=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.name="",t.prototype.type="",t.prototype.defaultValue=null,t.prototype.description="",t.prototype.hasMinimum=!1,t.prototype.minimum=a.Long?a.Long.fromBits(0,0,!1):0,t.prototype.allowedValues=null,t.decode=function(t,e){t instanceof i||(t=i.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new o.tensorflow.OpDef.AttrDef;t.pos<n;){var a=t.uint32();switch(a>>>3){case 1:r.name=t.string();break;case 2:r.type=t.string();break;case 3:r.defaultValue=o.tensorflow.AttrValue.decode(t,t.uint32());break;case 4:r.description=t.string();break;case 5:r.hasMinimum=t.bool();break;case 6:r.minimum=t.int64();break;case 7:r.allowedValues=o.tensorflow.AttrValue.decode(t,t.uint32());break;default:t.skipType(7&a)}}return r},t}(),t.OpDeprecation=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.version=0,t.prototype.explanation="",t.decode=function(t,e){t instanceof i||(t=i.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new o.tensorflow.OpDef.OpDeprecation;t.pos<n;){var a=t.uint32();switch(a>>>3){case 1:r.version=t.int32();break;case 2:r.explanation=t.string();break;default:t.skipType(7&a)}}return r},t}(),t}(),t.OpList=function(){function t(t){if(this.op=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.op=a.emptyArray,t.decode=function(t,e){t instanceof i||(t=i.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new o.tensorflow.OpList;t.pos<n;){var a=t.uint32();switch(a>>>3){case 1:r.op&&r.op.length||(r.op=[]),r.op.push(o.tensorflow.OpDef.decode(t,t.uint32()));break;default:t.skipType(7&a)}}return r},t}(),t.MetaGraphDef=function(){function t(t){if(this.collectionDef={},this.signatureDef={},this.assetFileDef=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.metaInfoDef=null,t.prototype.graphDef=null,t.prototype.saverDef=null,t.prototype.collectionDef=a.emptyObject,t.prototype.signatureDef=a.emptyObject,t.prototype.assetFileDef=a.emptyArray,t.decode=function(t,e){t instanceof i||(t=i.create(t));for(var n,r=void 0===e?t.len:t.pos+e,s=new o.tensorflow.MetaGraphDef;t.pos<r;){var l=t.uint32();switch(l>>>3){case 1:s.metaInfoDef=o.tensorflow.MetaGraphDef.MetaInfoDef.decode(t,t.uint32());break;case 2:s.graphDef=o.tensorflow.GraphDef.decode(t,t.uint32());break;case 3:s.saverDef=o.tensorflow.SaverDef.decode(t,t.uint32());break;case 4:t.skip().pos++,s.collectionDef===a.emptyObject&&(s.collectionDef={}),n=t.string(),t.pos++,s.collectionDef[n]=o.tensorflow.CollectionDef.decode(t,t.uint32());break;case 5:t.skip().pos++,s.signatureDef===a.emptyObject&&(s.signatureDef={}),n=t.string(),t.pos++,s.signatureDef[n]=o.tensorflow.SignatureDef.decode(t,t.uint32());break;case 6:s.assetFileDef&&s.assetFileDef.length||(s.assetFileDef=[]),s.assetFileDef.push(o.tensorflow.AssetFileDef.decode(t,t.uint32()));break;default:t.skipType(7&l)}}return s},t.MetaInfoDef=function(){function t(t){if(this.tags=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.metaGraphVersion="",t.prototype.strippedOpList=null,t.prototype.anyInfo=null,t.prototype.tags=a.emptyArray,t.prototype.tensorflowVersion="",t.prototype.tensorflowGitVersion="",t.decode=function(t,e){t instanceof i||(t=i.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new o.tensorflow.MetaGraphDef.MetaInfoDef;t.pos<n;){var a=t.uint32();switch(a>>>3){case 1:r.metaGraphVersion=t.string();break;case 2:r.strippedOpList=o.tensorflow.OpList.decode(t,t.uint32());
break;case 3:r.anyInfo=o.tensorflow.Any.decode(t,t.uint32());break;case 4:r.tags&&r.tags.length||(r.tags=[]),r.tags.push(t.string());break;case 5:r.tensorflowVersion=t.string();break;case 6:r.tensorflowGitVersion=t.string();break;default:t.skipType(7&a)}}return r},t}(),t}(),t.SavedModel=function(){function t(t){if(this.metaGraphs=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.savedModelSchemaVersion=a.Long?a.Long.fromBits(0,0,!1):0,t.prototype.metaGraphs=a.emptyArray,t.decode=function(t,e){t instanceof i||(t=i.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new o.tensorflow.SavedModel;t.pos<n;){var a=t.uint32();switch(a>>>3){case 1:r.savedModelSchemaVersion=t.int64();break;case 2:r.metaGraphs&&r.metaGraphs.length||(r.metaGraphs=[]),r.metaGraphs.push(o.tensorflow.MetaGraphDef.decode(t,t.uint32()));break;default:t.skipType(7&a)}}return r},t}(),t.FunctionDefLibrary=function(){function t(t){if(this.function=[],this.gradient=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.function=a.emptyArray,t.prototype.gradient=a.emptyArray,t.decode=function(t,e){t instanceof i||(t=i.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new o.tensorflow.FunctionDefLibrary;t.pos<n;){var a=t.uint32();switch(a>>>3){case 1:r.function&&r.function.length||(r.function=[]),r.function.push(o.tensorflow.FunctionDef.decode(t,t.uint32()));break;case 2:r.gradient&&r.gradient.length||(r.gradient=[]),r.gradient.push(o.tensorflow.GradientDef.decode(t,t.uint32()));break;default:t.skipType(7&a)}}return r},t}(),t.FunctionDef=function(){function t(t){if(this.attr={},this.nodeDef=[],this.ret={},t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.signature=null,t.prototype.attr=a.emptyObject,t.prototype.nodeDef=a.emptyArray,t.prototype.ret=a.emptyObject,t.decode=function(t,e){t instanceof i||(t=i.create(t));for(var n,r=void 0===e?t.len:t.pos+e,s=new o.tensorflow.FunctionDef;t.pos<r;){var l=t.uint32();switch(l>>>3){case 1:s.signature=o.tensorflow.OpDef.decode(t,t.uint32());break;case 5:t.skip().pos++,s.attr===a.emptyObject&&(s.attr={}),n=t.string(),t.pos++,s.attr[n]=o.tensorflow.AttrValue.decode(t,t.uint32());break;case 3:s.nodeDef&&s.nodeDef.length||(s.nodeDef=[]),s.nodeDef.push(o.tensorflow.NodeDef.decode(t,t.uint32()));break;case 4:t.skip().pos++,s.ret===a.emptyObject&&(s.ret={}),n=t.string(),t.pos++,s.ret[n]=t.string();break;default:t.skipType(7&l)}}return s},t}(),t.GradientDef=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.functionName="",t.prototype.gradientFunc="",t.decode=function(t,e){t instanceof i||(t=i.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new o.tensorflow.GradientDef;t.pos<n;){var a=t.uint32();switch(a>>>3){case 1:r.functionName=t.string();break;case 2:r.gradientFunc=t.string();break;default:t.skipType(7&a)}}return r},t}(),t}(),t.exports=o},function(t,e,n){"use strict";t.exports=n(700)},function(t,e,n){"use strict";function r(){i.Reader._configure(i.BufferReader),i.util._configure()}var i=e;i.build="minimal",i.Writer=n(701),i.BufferWriter=n(711),i.Reader=n(712),i.BufferReader=n(713),i.util=n(702),i.rpc=n(714),i.roots=n(716),i.configure=r,i.Writer._configure(i.BufferWriter),r()},function(t,e,n){"use strict";function r(t,e,n){this.fn=t,this.len=e,this.next=void 0,this.val=n}function i(){}function a(t){this.head=t.head,this.tail=t.tail,this.len=t.len,this.next=t.states}function o(){this.len=0,this.head=new r(i,0,0),this.tail=this.head,this.states=null}function s(t,e,n){e[n]=255&t}function l(t,e,n){for(;t>127;)e[n++]=127&t|128,t>>>=7;e[n]=t}function u(t,e){this.len=t,this.next=void 0,this.val=e}function c(t,e,n){for(;t.hi;)e[n++]=127&t.lo|128,t.lo=(t.lo>>>7|t.hi<<25)>>>0,t.hi>>>=7;for(;t.lo>127;)e[n++]=127&t.lo|128,t.lo=t.lo>>>7;e[n++]=t.lo}function h(t,e,n){e[n]=255&t,e[n+1]=t>>>8&255,e[n+2]=t>>>16&255,e[n+3]=t>>>24}t.exports=o;var g,d=n(702),p=d.LongBits,f=d.base64,A=d.utf8;o.create=d.Buffer?function(){return(o.create=function(){return new g})()}:function(){return new o},o.alloc=function(t){return new d.Array(t)},d.Array!==Array&&(o.alloc=d.pool(o.alloc,d.Array.prototype.subarray)),o.prototype._push=function(t,e,n){return this.tail=this.tail.next=new r(t,e,n),this.len+=e,this},u.prototype=Object.create(r.prototype),u.prototype.fn=l,o.prototype.uint32=function(t){return this.len+=(this.tail=this.tail.next=new u((t>>>=0)<128?1:t<16384?2:t<2097152?3:t<268435456?4:5,t)).len,this},o.prototype.int32=function(t){return t<0?this._push(c,10,p.fromNumber(t)):this.uint32(t)},o.prototype.sint32=function(t){return this.uint32((t<<1^t>>31)>>>0)},o.prototype.uint64=function(t){var e=p.from(t);return this._push(c,e.length(),e)},o.prototype.int64=o.prototype.uint64,o.prototype.sint64=function(t){var e=p.from(t).zzEncode();return this._push(c,e.length(),e)},o.prototype.bool=function(t){return this._push(s,1,t?1:0)},o.prototype.fixed32=function(t){return this._push(h,4,t>>>0)},o.prototype.sfixed32=o.prototype.fixed32,o.prototype.fixed64=function(t){var e=p.from(t);return this._push(h,4,e.lo)._push(h,4,e.hi)},o.prototype.sfixed64=o.prototype.fixed64,o.prototype.float=function(t){return this._push(d.float.writeFloatLE,4,t)},o.prototype.double=function(t){return this._push(d.float.writeDoubleLE,8,t)};var C=d.Array.prototype.set?function(t,e,n){e.set(t,n)}:function(t,e,n){for(var r=0;r<t.length;++r)e[n+r]=t[r]};o.prototype.bytes=function(t){var e=t.length>>>0;if(!e)return this._push(s,1,0);if(d.isString(t)){var n=o.alloc(e=f.length(t));f.decode(t,n,0),t=n}return this.uint32(e)._push(C,e,t)},o.prototype.string=function(t){var e=A.length(t);return e?this.uint32(e)._push(A.write,e,t):this._push(s,1,0)},o.prototype.fork=function(){return this.states=new a(this),this.head=this.tail=new r(i,0,0),this.len=0,this},o.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new r(i,0,0),this.len=0),this},o.prototype.ldelim=function(){var t=this.head,e=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=t.next,this.tail=e,this.len+=n),this},o.prototype.finish=function(){for(var t=this.head.next,e=this.constructor.alloc(this.len),n=0;t;)t.fn(t.val,e,n),n+=t.len,t=t.next;return e},o._configure=function(t){g=t}},function(t,e,n){(function(t){"use strict";function r(t,e,n){for(var r=Object.keys(e),i=0;i<r.length;++i)void 0!==t[r[i]]&&n||(t[r[i]]=e[r[i]]);return t}function i(t){function e(t,n){return this instanceof e?(Object.defineProperty(this,"message",{get:function(){return t}}),Error.captureStackTrace?Error.captureStackTrace(this,e):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),void(n&&r(this,n))):new e(t,n)}return(e.prototype=Object.create(Error.prototype)).constructor=e,Object.defineProperty(e.prototype,"name",{get:function(){return t}}),e.prototype.toString=function(){return this.name+": "+this.message},e}var a=e;a.asPromise=n(703),a.base64=n(704),a.EventEmitter=n(705),a.float=n(706),a.inquire=n(707),a.utf8=n(708),a.pool=n(709),a.LongBits=n(710),a.emptyArray=Object.freeze?Object.freeze([]):[],a.emptyObject=Object.freeze?Object.freeze({}):{},a.isNode=Boolean(t.process&&t.process.versions&&t.process.versions.node),a.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},a.isString=function(t){return"string"==typeof t||t instanceof String},a.isObject=function(t){return t&&"object"==typeof t},a.isset=a.isSet=function(t,e){var n=t[e];return!(null==n||!t.hasOwnProperty(e))&&("object"!=typeof n||(Array.isArray(n)?n.length:Object.keys(n).length)>0)},a.Buffer=function(){try{var t=a.inquire("buffer").Buffer;return t.prototype.utf8Write?t:null}catch(t){return null}}(),a._Buffer_from=null,a._Buffer_allocUnsafe=null,a.newBuffer=function(t){return"number"==typeof t?a.Buffer?a._Buffer_allocUnsafe(t):new a.Array(t):a.Buffer?a._Buffer_from(t):"undefined"==typeof Uint8Array?t:new Uint8Array(t)},a.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,a.Long=t.dcodeIO&&t.dcodeIO.Long||a.inquire("long"),a.key2Re=/^true|false|0|1$/,a.key32Re=/^-?(?:0|[1-9][0-9]*)$/,a.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,a.longToHash=function(t){return t?a.LongBits.from(t).toHash():a.LongBits.zeroHash},a.longFromHash=function(t,e){var n=a.LongBits.fromHash(t);return a.Long?a.Long.fromBits(n.lo,n.hi,e):n.toNumber(Boolean(e))},a.merge=r,a.lcFirst=function(t){return t.charAt(0).toLowerCase()+t.substring(1)},a.newError=i,a.ProtocolError=i("ProtocolError"),a.oneOfGetter=function(t){for(var e={},n=0;n<t.length;++n)e[t[n]]=1;return function(){for(var t=Object.keys(this),n=t.length-1;n>-1;--n)if(1===e[t[n]]&&void 0!==this[t[n]]&&null!==this[t[n]])return t[n]}},a.oneOfSetter=function(t){return function(e){for(var n=0;n<t.length;++n)t[n]!==e&&delete this[t[n]]}},a.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},a._configure=function(){var t=a.Buffer;return t?(a._Buffer_from=t.from!==Uint8Array.from&&t.from||function(e,n){return new t(e,n)},void(a._Buffer_allocUnsafe=t.allocUnsafe||function(e){return new t(e)})):void(a._Buffer_from=a._Buffer_allocUnsafe=null)}}).call(e,function(){return this}())},function(t,e){"use strict";function n(t,e){for(var n=new Array(arguments.length-1),r=0,i=2,a=!0;i<arguments.length;)n[r++]=arguments[i++];return new Promise(function(i,o){n[r]=function(t){if(a)if(a=!1,t)o(t);else{for(var e=new Array(arguments.length-1),n=0;n<e.length;)e[n++]=arguments[n];i.apply(null,e)}};try{t.apply(e||null,n)}catch(t){a&&(a=!1,o(t))}})}t.exports=n},function(t,e){"use strict";var n=e;n.length=function(t){var e=t.length;if(!e)return 0;for(var n=0;--e%4>1&&"="===t.charAt(e);)++n;return Math.ceil(3*t.length)/4-n};for(var r=new Array(64),i=new Array(123),a=0;a<64;)i[r[a]=a<26?a+65:a<52?a+71:a<62?a-4:a-59|43]=a++;n.encode=function(t,e,n){for(var i,a=null,o=[],s=0,l=0;e<n;){var u=t[e++];switch(l){case 0:o[s++]=r[u>>2],i=(3&u)<<4,l=1;break;case 1:o[s++]=r[i|u>>4],i=(15&u)<<2,l=2;break;case 2:o[s++]=r[i|u>>6],o[s++]=r[63&u],l=0}s>8191&&((a||(a=[])).push(String.fromCharCode.apply(String,o)),s=0)}return l&&(o[s++]=r[i],o[s++]=61,1===l&&(o[s++]=61)),a?(s&&a.push(String.fromCharCode.apply(String,o.slice(0,s))),a.join("")):String.fromCharCode.apply(String,o.slice(0,s))};var o="invalid encoding";n.decode=function(t,e,n){for(var r,a=n,s=0,l=0;l<t.length;){var u=t.charCodeAt(l++);if(61===u&&s>1)break;if(void 0===(u=i[u]))throw Error(o);switch(s){case 0:r=u,s=1;break;case 1:e[n++]=r<<2|(48&u)>>4,r=u,s=2;break;case 2:e[n++]=(15&r)<<4|(60&u)>>2,r=u,s=3;break;case 3:e[n++]=(3&r)<<6|u,s=0}}if(1===s)throw Error(o);return n-a},n.test=function(t){return/^(?:[A-Za-z0-9+\/]{4})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/.test(t)}},function(t,e){"use strict";function n(){this._listeners={}}t.exports=n,n.prototype.on=function(t,e,n){return(this._listeners[t]||(this._listeners[t]=[])).push({fn:e,ctx:n||this}),this},n.prototype.off=function(t,e){if(void 0===t)this._listeners={};else if(void 0===e)this._listeners[t]=[];else for(var n=this._listeners[t],r=0;r<n.length;)n[r].fn===e?n.splice(r,1):++r;return this},n.prototype.emit=function(t){var e=this._listeners[t];if(e){for(var n=[],r=1;r<arguments.length;)n.push(arguments[r++]);for(r=0;r<e.length;)e[r].fn.apply(e[r++].ctx,n)}return this}},function(t,e){"use strict";function n(t){return"undefined"!=typeof Float32Array?function(){function e(t,e,n){a[0]=t,e[n]=o[0],e[n+1]=o[1],e[n+2]=o[2],e[n+3]=o[3]}function n(t,e,n){a[0]=t,e[n]=o[3],e[n+1]=o[2],e[n+2]=o[1],e[n+3]=o[0]}function r(t,e){return o[0]=t[e],o[1]=t[e+1],o[2]=t[e+2],o[3]=t[e+3],a[0]}function i(t,e){return o[3]=t[e],o[2]=t[e+1],o[1]=t[e+2],o[0]=t[e+3],a[0]}var a=new Float32Array([-0]),o=new Uint8Array(a.buffer),s=128===o[3];t.writeFloatLE=s?e:n,t.writeFloatBE=s?n:e,t.readFloatLE=s?r:i,t.readFloatBE=s?i:r}():function(){function e(t,e,n,r){var i=e<0?1:0;if(i&&(e=-e),0===e)t(1/e>0?0:2147483648,n,r);else if(isNaN(e))t(2143289344,n,r);else if(e>3.4028234663852886e38)t((i<<31|2139095040)>>>0,n,r);else if(e<1.1754943508222875e-38)t((i<<31|Math.round(e/1.401298464324817e-45))>>>0,n,r);else{var a=Math.floor(Math.log(e)/Math.LN2),o=8388607&Math.round(e*Math.pow(2,-a)*8388608);t((i<<31|a+127<<23|o)>>>0,n,r)}}function n(t,e,n){var r=t(e,n),i=2*(r>>31)+1,a=r>>>23&255,o=8388607&r;return 255===a?o?NaN:i*(1/0):0===a?1.401298464324817e-45*i*o:i*Math.pow(2,a-150)*(o+8388608)}t.writeFloatLE=e.bind(null,r),t.writeFloatBE=e.bind(null,i),t.readFloatLE=n.bind(null,a),t.readFloatBE=n.bind(null,o)}(),"undefined"!=typeof Float64Array?function(){function e(t,e,n){a[0]=t,e[n]=o[0],e[n+1]=o[1],e[n+2]=o[2],e[n+3]=o[3],e[n+4]=o[4],e[n+5]=o[5],e[n+6]=o[6],e[n+7]=o[7]}function n(t,e,n){a[0]=t,e[n]=o[7],e[n+1]=o[6],e[n+2]=o[5],e[n+3]=o[4],e[n+4]=o[3],e[n+5]=o[2],e[n+6]=o[1],e[n+7]=o[0]}function r(t,e){return o[0]=t[e],o[1]=t[e+1],o[2]=t[e+2],o[3]=t[e+3],o[4]=t[e+4],o[5]=t[e+5],o[6]=t[e+6],o[7]=t[e+7],a[0]}function i(t,e){return o[7]=t[e],o[6]=t[e+1],o[5]=t[e+2],o[4]=t[e+3],o[3]=t[e+4],o[2]=t[e+5],o[1]=t[e+6],o[0]=t[e+7],a[0]}var a=new Float64Array([-0]),o=new Uint8Array(a.buffer),s=128===o[7];t.writeDoubleLE=s?e:n,t.writeDoubleBE=s?n:e,t.readDoubleLE=s?r:i,t.readDoubleBE=s?i:r}():function(){function e(t,e,n,r,i,a){var o=r<0?1:0;if(o&&(r=-r),0===r)t(0,i,a+e),t(1/r>0?0:2147483648,i,a+n);else if(isNaN(r))t(0,i,a+e),t(2146959360,i,a+n);else if(r>1.7976931348623157e308)t(0,i,a+e),t((o<<31|2146435072)>>>0,i,a+n);else{var s;if(r<2.2250738585072014e-308)s=r/5e-324,t(s>>>0,i,a+e),t((o<<31|s/4294967296)>>>0,i,a+n);else{var l=Math.floor(Math.log(r)/Math.LN2);1024===l&&(l=1023),s=r*Math.pow(2,-l),t(4503599627370496*s>>>0,i,a+e),t((o<<31|l+1023<<20|1048576*s&1048575)>>>0,i,a+n)}}}function n(t,e,n,r,i){var a=t(r,i+e),o=t(r,i+n),s=2*(o>>31)+1,l=o>>>20&2047,u=4294967296*(1048575&o)+a;return 2047===l?u?NaN:s*(1/0):0===l?5e-324*s*u:s*Math.pow(2,l-1075)*(u+4503599627370496)}t.writeDoubleLE=e.bind(null,r,0,4),t.writeDoubleBE=e.bind(null,i,4,0),t.readDoubleLE=n.bind(null,a,0,4),t.readDoubleBE=n.bind(null,o,4,0)}(),t}function r(t,e,n){e[n]=255&t,e[n+1]=t>>>8&255,e[n+2]=t>>>16&255,e[n+3]=t>>>24}function i(t,e,n){e[n]=t>>>24,e[n+1]=t>>>16&255,e[n+2]=t>>>8&255,e[n+3]=255&t}function a(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24)>>>0}function o(t,e){return(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0}t.exports=n(n)},function(module,exports){"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(t){}return null}module.exports=inquire},function(t,e){"use strict";var n=e;n.length=function(t){for(var e=0,n=0,r=0;r<t.length;++r)n=t.charCodeAt(r),n<128?e+=1:n<2048?e+=2:55296===(64512&n)&&56320===(64512&t.charCodeAt(r+1))?(++r,e+=4):e+=3;return e},n.read=function(t,e,n){var r=n-e;if(r<1)return"";for(var i,a=null,o=[],s=0;e<n;)i=t[e++],i<128?o[s++]=i:i>191&&i<224?o[s++]=(31&i)<<6|63&t[e++]:i>239&&i<365?(i=((7&i)<<18|(63&t[e++])<<12|(63&t[e++])<<6|63&t[e++])-65536,o[s++]=55296+(i>>10),o[s++]=56320+(1023&i)):o[s++]=(15&i)<<12|(63&t[e++])<<6|63&t[e++],s>8191&&((a||(a=[])).push(String.fromCharCode.apply(String,o)),s=0);return a?(s&&a.push(String.fromCharCode.apply(String,o.slice(0,s))),a.join("")):String.fromCharCode.apply(String,o.slice(0,s))},n.write=function(t,e,n){for(var r,i,a=n,o=0;o<t.length;++o)r=t.charCodeAt(o),r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=63&r|128):55296===(64512&r)&&56320===(64512&(i=t.charCodeAt(o+1)))?(r=65536+((1023&r)<<10)+(1023&i),++o,e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=63&r|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=63&r|128);return n-a}},function(t,e){"use strict";function n(t,e,n){var r=n||8192,i=r>>>1,a=null,o=r;return function(n){if(n<1||n>i)return t(n);o+n>r&&(a=t(r),o=0);var s=e.call(a,o,o+=n);return 7&o&&(o=(7|o)+1),s}}t.exports=n},function(t,e,n){"use strict";function r(t,e){this.lo=t>>>0,this.hi=e>>>0}t.exports=r;var i=n(702),a=r.zero=new r(0,0);a.toNumber=function(){return 0},a.zzEncode=a.zzDecode=function(){return this},a.length=function(){return 1};var o=r.zeroHash="\0\0\0\0\0\0\0\0";r.fromNumber=function(t){if(0===t)return a;var e=t<0;e&&(t=-t);var n=t>>>0,i=(t-n)/4294967296>>>0;return e&&(i=~i>>>0,n=~n>>>0,++n>4294967295&&(n=0,++i>4294967295&&(i=0))),new r(n,i)},r.from=function(t){if("number"==typeof t)return r.fromNumber(t);if(i.isString(t)){if(!i.Long)return r.fromNumber(parseInt(t,10));t=i.Long.fromString(t)}return t.low||t.high?new r(t.low>>>0,t.high>>>0):a},r.prototype.toNumber=function(t){if(!t&&this.hi>>>31){var e=~this.lo+1>>>0,n=~this.hi>>>0;return e||(n=n+1>>>0),-(e+4294967296*n)}return this.lo+4294967296*this.hi},r.prototype.toLong=function(t){return i.Long?new i.Long(0|this.lo,0|this.hi,Boolean(t)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(t)}};var s=String.prototype.charCodeAt;r.fromHash=function(t){return t===o?a:new r((s.call(t,0)|s.call(t,1)<<8|s.call(t,2)<<16|s.call(t,3)<<24)>>>0,(s.call(t,4)|s.call(t,5)<<8|s.call(t,6)<<16|s.call(t,7)<<24)>>>0)},r.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},r.prototype.zzEncode=function(){var t=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^t)>>>0,this.lo=(this.lo<<1^t)>>>0,this},r.prototype.zzDecode=function(){var t=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^t)>>>0,this.hi=(this.hi>>>1^t)>>>0,this},r.prototype.length=function(){var t=this.lo,e=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return 0===n?0===e?t<16384?t<128?1:2:t<2097152?3:4:e<16384?e<128?5:6:e<2097152?7:8:n<128?9:10}},function(t,e,n){"use strict";function r(){a.call(this)}function i(t,e,n){t.length<40?o.utf8.write(t,e,n):e.utf8Write(t,n)}t.exports=r;var a=n(701);(r.prototype=Object.create(a.prototype)).constructor=r;var o=n(702),s=o.Buffer;r.alloc=function(t){return(r.alloc=o._Buffer_allocUnsafe)(t)};var l=s&&s.prototype instanceof Uint8Array&&"set"===s.prototype.set.name?function(t,e,n){e.set(t,n)}:function(t,e,n){if(t.copy)t.copy(e,n,0,t.length);else for(var r=0;r<t.length;)e[n++]=t[r++]};r.prototype.bytes=function(t){o.isString(t)&&(t=o._Buffer_from(t,"base64"));var e=t.length>>>0;return this.uint32(e),e&&this._push(l,e,t),this},r.prototype.string=function(t){var e=s.byteLength(t);return this.uint32(e),e&&this._push(i,e,t),this}},function(t,e,n){"use strict";function r(t,e){return RangeError("index out of range: "+t.pos+" + "+(e||1)+" > "+t.len)}function i(t){this.buf=t,this.pos=0,this.len=t.length}function a(){var t=new c(0,0),e=0;if(!(this.len-this.pos>4)){for(;e<3;++e){if(this.pos>=this.len)throw r(this);if(t.lo=(t.lo|(127&this.buf[this.pos])<<7*e)>>>0,this.buf[this.pos++]<128)return t}return t.lo=(t.lo|(127&this.buf[this.pos++])<<7*e)>>>0,t}for(;e<4;++e)if(t.lo=(t.lo|(127&this.buf[this.pos])<<7*e)>>>0,this.buf[this.pos++]<128)return t;if(t.lo=(t.lo|(127&this.buf[this.pos])<<28)>>>0,t.hi=(t.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return t;if(e=0,this.len-this.pos>4){for(;e<5;++e)if(t.hi=(t.hi|(127&this.buf[this.pos])<<7*e+3)>>>0,this.buf[this.pos++]<128)return t}else for(;e<5;++e){if(this.pos>=this.len)throw r(this);if(t.hi=(t.hi|(127&this.buf[this.pos])<<7*e+3)>>>0,this.buf[this.pos++]<128)return t}throw Error("invalid varint encoding")}function o(t,e){return(t[e-4]|t[e-3]<<8|t[e-2]<<16|t[e-1]<<24)>>>0}function s(){if(this.pos+8>this.len)throw r(this,8);return new c(o(this.buf,this.pos+=4),o(this.buf,this.pos+=4))}t.exports=i;var l,u=n(702),c=u.LongBits,h=u.utf8,g="undefined"!=typeof Uint8Array?function(t){if(t instanceof Uint8Array||Array.isArray(t))return new i(t);throw Error("illegal buffer")}:function(t){if(Array.isArray(t))return new i(t);throw Error("illegal buffer")};i.create=u.Buffer?function(t){return(i.create=function(t){return u.Buffer.isBuffer(t)?new l(t):g(t)})(t)}:g,i.prototype._slice=u.Array.prototype.subarray||u.Array.prototype.slice,i.prototype.uint32=function(){var t=4294967295;return function(){if(t=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return t;if(t=(t|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return t;if(t=(t|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return t;if(t=(t|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return t;if(t=(t|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return t;if((this.pos+=5)>this.len)throw this.pos=this.len,r(this,10);return t}}(),i.prototype.int32=function(){return 0|this.uint32()},i.prototype.sint32=function(){var t=this.uint32();return t>>>1^-(1&t)|0},i.prototype.bool=function(){return 0!==this.uint32()},i.prototype.fixed32=function(){if(this.pos+4>this.len)throw r(this,4);return o(this.buf,this.pos+=4)},i.prototype.sfixed32=function(){if(this.pos+4>this.len)throw r(this,4);return 0|o(this.buf,this.pos+=4)},i.prototype.float=function(){if(this.pos+4>this.len)throw r(this,4);var t=u.float.readFloatLE(this.buf,this.pos);return this.pos+=4,t},i.prototype.double=function(){if(this.pos+8>this.len)throw r(this,4);var t=u.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,t},i.prototype.bytes=function(){var t=this.uint32(),e=this.pos,n=this.pos+t;if(n>this.len)throw r(this,t);return this.pos+=t,Array.isArray(this.buf)?this.buf.slice(e,n):e===n?new this.buf.constructor(0):this._slice.call(this.buf,e,n)},i.prototype.string=function(){var t=this.bytes();return h.read(t,0,t.length)},i.prototype.skip=function(t){if("number"==typeof t){if(this.pos+t>this.len)throw r(this,t);this.pos+=t}else do if(this.pos>=this.len)throw r(this);while(128&this.buf[this.pos++]);return this},i.prototype.skipType=function(t){switch(t){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;;){if(4===(t=7&this.uint32()))break;this.skipType(t)}break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+t+" at offset "+this.pos)}return this},i._configure=function(t){l=t;var e=u.Long?"toLong":"toNumber";u.merge(i.prototype,{int64:function(){return a.call(this)[e](!1)},uint64:function(){return a.call(this)[e](!0)},sint64:function(){return a.call(this).zzDecode()[e](!1)},fixed64:function(){return s.call(this)[e](!0)},sfixed64:function(){return s.call(this)[e](!1)}})}},function(t,e,n){"use strict";function r(t){i.call(this,t)}t.exports=r;var i=n(712);(r.prototype=Object.create(i.prototype)).constructor=r;var a=n(702);a.Buffer&&(r.prototype._slice=a.Buffer.prototype.slice),r.prototype.string=function(){var t=this.uint32();return this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+t,this.len))}},function(t,e,n){"use strict";var r=e;r.Service=n(715)},function(t,e,n){"use strict";function r(t,e,n){if("function"!=typeof t)throw TypeError("rpcImpl must be a function");i.EventEmitter.call(this),this.rpcImpl=t,this.requestDelimited=Boolean(e),this.responseDelimited=Boolean(n)}t.exports=r;var i=n(702);(r.prototype=Object.create(i.EventEmitter.prototype)).constructor=r,r.prototype.rpcCall=function t(e,n,r,a,o){if(!a)throw TypeError("request must be specified");var s=this;if(!o)return i.asPromise(t,s,e,n,r,a);if(!s.rpcImpl)return void setTimeout(function(){o(Error("already ended"))},0);try{return s.rpcImpl(e,n[s.requestDelimited?"encodeDelimited":"encode"](a).finish(),function(t,n){if(t)return s.emit("error",t,e),o(t);if(null===n)return void s.end(!0);if(!(n instanceof r))try{n=r[s.responseDelimited?"decodeDelimited":"decode"](n)}catch(t){return s.emit("error",t,e),o(t)}return s.emit("data",n,e),o(null,n)})}catch(t){return s.emit("error",t,e),void setTimeout(function(){o(t)},0)}},r.prototype.end=function(t){return this.rpcImpl&&(t||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},function(t,e){"use strict";t.exports={}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(698),i=n(718),a=n(719),o=n(720),s=n(721),l=n(722),u=n(723),c=n(724),h=n(725),g=n(726),d=n(727),p=n(728),f=n(729),A=n(730),C=n(731),I=["Switch","Merge","Enter","Exit","NextIteration"],m=function(){function t(){var t=[a,o,s,l,u,g,h,c,d,p,f,A,C],e=[].concat.apply([],t.map(function(t){return t.default?t.default:t}));this.opMappers=e.reduce(function(t,e){return t[e.tfOpName]=e,t},{})}return Object.defineProperty(t,"Instance",{get:function(){return this._instance||(this._instance=new this)},enumerable:!0,configurable:!0}),t.prototype.isControlFlow=function(t){return I.some(function(e){return e===t.op})},t.prototype.transformGraph=function(t){var e=this,n=t.node,r=!1,a=[],o=n.reduce(function(t,n){return t[n.name]=e.mapNode(n),e.isControlFlow(n)&&(r=!0),"Placeholder"===n.op&&a.push(t[n.name]),t},{}),s=[],l=[];return Object.keys(o).forEach(function(t){var e=o[t];e.inputNames.forEach(function(t){var n=i.getNodeNameAndIndex(t)[0];e.inputs.push(o[n]),o[n].children.push(e)}),0===e.inputs.length&&s.push(e)}),Object.keys(o).forEach(function(t){var e=o[t];0===e.children.length&&l.push(e)}),{nodes:o,inputs:s,outputs:l,placeholders:a,withControlFlow:r}},t.prototype.mapNode=function(t){var e=this,n=this.opMappers[t.op];if(void 0===n)throw new Error("Tensorflow Op is not supported: "+t.op);var r={name:t.name,op:n.dlOpName,category:n.category,inputNames:(t.input||[]).map(function(t){return t.startsWith("^")?t.substr(1):t}),inputs:[],children:[],params:{}};return n.params&&(r.params=n.params.reduce(function(n,r){var i=r.tfInputIndex,a=r.tfInputParamLength,o=r.type,s=void 0;if(void 0===i)switch(r.type){case"string":s=e.getStringParam(t.attr,r.tfParamName,r.defaultValue),void 0===s&&r.tfParamNameDeprecated&&(s=e.getStringParam(t.attr,r.tfParamNameDeprecated,r.defaultValue));break;case"number":s=e.getNumberParam(t.attr,r.tfParamName,r.defaultValue),void 0===s&&r.tfParamNameDeprecated&&(s=e.getNumberParam(t.attr,r.tfParamNameDeprecated,r.defaultValue));break;case"number[]":s=e.getNumericArrayParam(t.attr,r.tfParamName,r.defaultValue),void 0===s&&r.tfParamNameDeprecated&&(s=e.getNumericArrayParam(t.attr,r.tfParamNameDeprecated,r.defaultValue));break;case"bool":s=e.getBoolParam(t.attr,r.tfParamName,r.defaultValue),void 0===s&&r.tfParamNameDeprecated&&(s=e.getBoolParam(t.attr,r.tfParamNameDeprecated,r.defaultValue));break;case"shape":s=e.getTensorShapeParam(t.attr,r.tfParamName,r.defaultValue),void 0===s&&r.tfParamNameDeprecated&&(s=e.getTensorShapeParam(t.attr,r.tfParamNameDeprecated,r.defaultValue));break;case"dtype":s=e.getDtypeParam(t.attr,r.tfParamName,r.defaultValue),void 0===s&&r.tfParamNameDeprecated&&(s=e.getDtypeParam(t.attr,r.tfParamNameDeprecated,r.defaultValue));break;case"tensor":case"tensors":break;default:throw new Error("Unsupported param type: "+r.type+" for op: "+t.op)}return n[r.dlParamName]={value:s,inputIndex:i,type:o,inputParamLength:a},n},{})),r},t.prototype.getStringParam=function(t,e,n,r){void 0===r&&(r=!1);var i=t[e];if(void 0!==i){var a=String.fromCharCode.apply(null,i.s);return r?a:a.toLowerCase()}return n},t.prototype.getBoolParam=function(t,e,n){var r=t[e];return r?r.b:n},t.prototype.getNumberParam=function(t,e,n){var r=t[e],i=r?void 0!==r.f?r.f:r.i:n;return"number"==typeof i?i:i.toInt()},t.prototype.getDtypeParam=function(t,e,n){var i=t[e];if(i&&i.type)switch(i.type){case r.tensorflow.DataType.DT_FLOAT:return"float32";case r.tensorflow.DataType.DT_INT32:return"int32";case r.tensorflow.DataType.DT_BOOL:return"bool";default:return n}return n},t.prototype.getTensorShapeParam=function(t,e,n){var r=t[e];return r&&r.shape?r.shape.dim.map(function(t){return t.size}):n},t.prototype.getNumericArrayParam=function(t,e,n){var r=t[e];return r?(r.list.f&&r.list.f.length?r.list.f:r.list.i).map(function(t){return"number"==typeof t?t:t.toInt()}):n},t}();e.OperationMapper=m},function(t,e){"use strict";function n(t,e,n,i){var a=e.params[t];if(a&&void 0!==a.inputIndex){if("tensor"===a.type)return r(e.inputNames[a.inputIndex],n,i);if("tensors"===a.type){var o=0===a.inputIndex?0===a.inputParamLength?e.inputNames:e.inputNames.slice(a.inputIndex,-a.inputParamLength):e.inputNames.splice(a.inputIndex);return o.map(function(t){return r(t,n,i)})}var s=Array.prototype.slice.call(r(e.inputNames.slice(a.inputIndex)[0],n,i).dataSync());return"number"===a.type?s[0]:s}return a&&a.value}function r(t,e,n){var r=o(t),i=r[0],s=r[1],l=n.currentContextIds.find(function(t){return!!e[a(i,t)]});return void 0!==l?e[a(i,l)][s]:void 0}function i(t,e){var n=o(t),r=n[0],i=n[1];return[a(r,e&&e.currentContextId),i]}function a(t,e){return e?t+"-"+e:t}function o(t){var e=t.lastIndexOf(":");if(e===-1)return[t,0];var n=t.substring(0,e);return[n,Number(t.substring(e+1))]}function s(t,e){for(var n=[],r=0;r<t.length;r+=e)n.push(t.slice(r,r+e));return n}Object.defineProperty(e,"__esModule",{value:!0}),e.getParamValue=n,e.getTensor=r,e.getNodeNameAndIndex=i,e.parseNodeName=o,e.split=s},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e,n){"use strict";var r=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},i=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,a){function o(t){try{l(r.next(t))}catch(t){a(t)}}function s(t){try{l(r.throw(t))}catch(t){a(t)}}function l(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(o,s)}l((r=r.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;l;)try{if(i=1,a&&(o=a[2&n[0]?"return":n[0]?"throw":"next"])&&!(o=o.call(a,n[1])).done)return o;switch(a=0,o&&(n=[0,o.value]),n[0]){case 0:case 1:o=n;break;case 4:return l.label++,{value:n[1],done:!1};case 5:l.label++,a=n[1],n=[0];continue;case 7:n=l.ops.pop(),l.trys.pop();continue;default:if(o=l.trys,!(o=o.length>0&&o[o.length-1])&&(6===n[0]||2===n[0])){l=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3])){l.label=n[1];break}if(6===n[0]&&l.label<o[1]){l.label=o[1],o=n;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(n);break}o[2]&&l.ops.pop(),l.trys.pop();continue}n=e.call(t,l)}catch(t){n=[6,t],a=0}finally{i=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,a,o,s,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(e,"__esModule",{value:!0});var o=n(505),s=n(718),l=n(733),u=n(747),c=function(){function t(t){this.graph=t,this.compiledOrder=[],this._weightMap={},this.placeholders=t.placeholders,this._outputs=t.outputs,this.compile()}return Object.defineProperty(t.prototype,"weightMap",{get:function(){return this._weightMap},set:function(t){var e=Object.keys(t).map(function(e){return t[e].map(function(t){return t.id})});this.weightIds=[].concat.apply([],e),this._weightMap=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputs",{get:function(){return this.placeholders.map(function(t){return{name:t.name,shape:t.params.shape?t.params.shape.value:void 0,dtype:t.params.dtype?t.params.dtype.value:void 0}})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outputs",{get:function(){return this._outputs.map(function(t){return{name:t.name,shape:t.params.shape?t.params.shape.value:void 0,dtype:t.params.dtype?t.params.dtype.value:void 0}})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputNodes",{get:function(){return this.placeholders.map(function(t){return t.name})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outputNodes",{get:function(){return this.outputs.map(function(t){return t.name})},enumerable:!0,configurable:!0
}),Object.defineProperty(t.prototype,"isControlFlowModel",{get:function(){return this.graph.withControlFlow},enumerable:!0,configurable:!0}),t.prototype.compile=function(){if(!this.graph.withControlFlow)for(var t=this.graph.inputs.slice(),e={};t.length>0;){var n=t.pop();e[n.name]=!0,this.compiledOrder.push(n),n.children.forEach(function(n){!e[n.name]&&n.inputNames.every(function(t){var n=s.getNodeNameAndIndex(t)[0];return e[n]})&&t.push(n)})}},t.prototype.execute=function(t,e){var n=this;this.checkInput(t),this.checkInputShapeAndType(t);var i=o.tidy(function(){var i=new u.ExecutionContext(n._weightMap),a=n.compiledOrder.reduce(function(t,e){return t[e.name]=l.executeOp(e,t,i),t},r({},n.weightMap,t));return n.findOutputs(a,i,e)});return i},t.prototype.executeAsync=function(t,e){return i(this,void 0,void 0,function(){var n,r,i,o,s,l,c=this;return a(this,function(a){switch(a.label){case 0:return this.checkInput(t),this.checkInputShapeAndType(t),n=new u.ExecutionContext(this._weightMap),[4,this.executeWithControlFlow(t,n)];case 1:return r=a.sent(),i=this.findOutputs(r,n,e),o=Object.keys(i).map(function(t){return i[t].id}),s=Object.keys(t).map(function(e){return t[e].map(function(t){return t.id})}),l=[].concat.apply([],s),Object.keys(r).forEach(function(t){var e=r[t];e.forEach(function(t){t&&o.indexOf(t.id)===-1&&l.indexOf(t.id)===-1&&c.weightIds.indexOf(t.id)===-1&&t.dispose()})}),[2,i]}})})},t.prototype.executeWithControlFlow=function(t,e){return i(this,void 0,void 0,function(){var n,i,o,u,c,h,g,d;return a(this,function(a){switch(a.label){case 0:n=this.graph.inputs.map(function(t){return{node:t,contexts:e.currentContext}}),i=r({},this.weightMap,t),o={},a.label=1;case 1:return n.length>0?(u=n.pop(),e.currentContext=u.contexts,c=l.executeOp(u.node,i,e),h=s.getNodeNameAndIndex(u.node.name,e)[0],g=i,d=h,[4,c]):[3,3];case 2:return g[d]=a.sent(),u.node.children.forEach(function(t){var r=s.getNodeNameAndIndex(t.name,e)[0];o[r]||("merge"===t.op?t.inputNames.some(function(t){return!!s.getTensor(t,i,e)})&&(o[r]=!0,n.push({contexts:e.currentContext,node:t})):t.inputNames.every(function(t){return!!s.getTensor(t,i,e)})&&(o[r]=!0,n.push({contexts:e.currentContext,node:t})))}),[3,1];case 3:return[2,i]}})})},t.prototype.findOutputs=function(t,e,n){!n||n instanceof Array||(n=[n]);var r=n||this.graph.outputs.map(function(t){return t.name});return r.reduce(function(n,r){return n[r]=s.getTensor(r,t,e),n},{})},t.prototype.dispose=function(){var t=this;Object.keys(this.weightMap).forEach(function(e){return t.weightMap[e].forEach(function(t){return t.dispose()})})},t.prototype.checkInputShapeAndType=function(t){this.placeholders.forEach(function(e){var n=t[e.name][0];if(e.params.shape&&e.params.shape.value){var r=e.params.shape.value,i=r.length===n.shape.length&&n.shape.every(function(t,e){return r[e]===-1||r[e]===t});o.util.assert(i,"The shape of dict['"+e.name+"'] provided in model.execute(dict) must be ["+r+"], but was ["+n.shape+"]")}e.params.dtype&&e.params.dtype.value&&o.util.assert(n.dtype===e.params.dtype.value,"The dtype of dict['"+e.name+"'] provided in model.execute(dict) must be "+e.params.dtype.value+", but was "+n.dtype)})},t.prototype.checkInput=function(t){var e=this,n=Object.keys(t),r=[],i=[];if(this.inputNodes.forEach(function(t){n.indexOf(t)===-1&&r.push(t)}),n.forEach(function(t){e.inputNodes.indexOf(t)===-1&&i.push(t)}),r.length>0)throw new Error("The dict provided in model.execute(dict) has the keys "+("["+n+"], but is missing the required keys: ["+r+"]."));if(i.length>0)throw new Error("The dict provided in model.execute(dict) has "+("unused keys: ["+i+"]. Please provide only the following keys: ")+("["+this.inputNodes+"]."))},t}();e.GraphExecutor=c},function(t,e,n){"use strict";function r(t,e,n){switch(t.category){case"arithmetic":return i.executeOp(t,e,n);case"basic_math":return a.executeOp(t,e,n);case"control":return o.executeOp(t,e,n);case"convolution":return s.executeOp(t,e,n);case"creation":return l.executeOp(t,e,n);case"image":return c.executeOp(t,e,n);case"graph":return u.executeOp(t,e,n);case"logical":return h.executeOp(t,e,n);case"matrices":return g.executeOp(t,e,n);case"normalization":return d.executeOp(t,e,n);case"reduction":return p.executeOp(t,e,n);case"slice_join":return f.executeOp(t,e,n);case"transformation":return A.executeOp(t,e,n);default:throw TypeError("Node type "+t.op+" is not implemented")}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(734),a=n(735),o=n(736),s=n(737),l=n(738),u=n(739),c=n(740),h=n(741),g=n(742),d=n(743),p=n(744),f=n(745),A=n(746);e.executeOp=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(505),i=n(718);e.executeOp=function(t,e,n){switch(t.op){case"add":return[r.add(i.getParamValue("a",t,e,n),i.getParamValue("b",t,e,n))];case"mod":return[r.mod(i.getParamValue("a",t,e,n),i.getParamValue("b",t,e,n))];case"mul":return[r.mul(i.getParamValue("a",t,e,n),i.getParamValue("b",t,e,n))];case"div":return[r.div(i.getParamValue("a",t,e,n),i.getParamValue("b",t,e,n))];case"floorDiv":return[r.floorDiv(i.getParamValue("a",t,e,n),i.getParamValue("b",t,e,n))];case"sub":return[r.sub(i.getParamValue("a",t,e,n),i.getParamValue("b",t,e,n))];case"minimum":return[r.minimum(i.getParamValue("a",t,e,n),i.getParamValue("b",t,e,n))];case"maximum":return[r.maximum(i.getParamValue("a",t,e,n),i.getParamValue("b",t,e,n))];case"pow":return[r.pow(i.getParamValue("a",t,e,n),i.getParamValue("b",t,e,n))];case"squaredDifference":return[r.squaredDifference(i.getParamValue("a",t,e,n),i.getParamValue("b",t,e,n))];default:throw TypeError("Node type "+t.op+" is not implemented")}},e.CATEGORY="arithmetic"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(505),i=n(718);e.executeOp=function(t,e,n){switch(t.op){case"abs":return[r.abs(i.getParamValue("x",t,e,n))];case"acos":return[r.acos(i.getParamValue("x",t,e,n))];case"acosh":return[r.acosh(i.getParamValue("x",t,e,n))];case"asin":return[r.asin(i.getParamValue("x",t,e,n))];case"asinh":return[r.asinh(i.getParamValue("x",t,e,n))];case"atan":return[r.atan(i.getParamValue("x",t,e,n))];case"atanh":return[r.atanh(i.getParamValue("x",t,e,n))];case"ceil":return[r.ceil(i.getParamValue("x",t,e,n))];case"cos":return[r.cos(i.getParamValue("x",t,e,n))];case"cosh":return[r.cosh(i.getParamValue("x",t,e,n))];case"elu":return[r.elu(i.getParamValue("x",t,e,n))];case"erf":return[r.erf(i.getParamValue("x",t,e,n))];case"exp":return[r.exp(i.getParamValue("x",t,e,n))];case"expm1":return[r.expm1(i.getParamValue("x",t,e,n))];case"floor":return[r.floor(i.getParamValue("x",t,e,n))];case"log":return[r.log(i.getParamValue("x",t,e,n))];case"log1p":return[r.log1p(i.getParamValue("x",t,e,n))];case"neg":return[r.neg(i.getParamValue("x",t,e,n))];case"reciprocal":return[r.reciprocal(i.getParamValue("x",t,e,n))];case"relu":return[r.relu(i.getParamValue("x",t,e,n))];case"round":return[r.round(i.getParamValue("x",t,e,n))];case"selu":return[r.selu(i.getParamValue("x",t,e,n))];case"sigmoid":return[r.sigmoid(i.getParamValue("x",t,e,n))];case"sin":return[r.sin(i.getParamValue("x",t,e,n))];case"sign":return[r.sign(i.getParamValue("x",t,e,n))];case"sinh":return[r.sinh(i.getParamValue("x",t,e,n))];case"softplus":return[r.softplus(i.getParamValue("x",t,e,n))];case"sqrt":return[r.sqrt(i.getParamValue("x",t,e,n))];case"square":return[r.square(i.getParamValue("x",t,e,n))];case"tanh":return[r.tanh(i.getParamValue("x",t,e,n))];case"tan":return[r.tan(i.getParamValue("x",t,e,n))];case"clipByValue":return[r.clipByValue(i.getParamValue("x",t,e,n),i.getParamValue("clipValueMin",t,e,n),i.getParamValue("clipValueMax",t,e,n))];case"rsqrt":return[r.div(r.scalar(1,"float32"),r.sqrt(i.getTensor(t.inputNames[0],e,n)))];default:throw TypeError("Node type "+t.op+" is not implemented")}},e.CATEGORY="basic_math"},function(t,e,n){"use strict";function r(t,e,n){return i(this,void 0,void 0,function(){var r,i,s,l,u,c,h,g;return a(this,function(a){switch(a.label){case 0:switch(r=t.op){case"loopCond":return[3,1];case"switch":return[3,2];case"merge":return[3,4];case"enter":return[3,5];case"exit":return[3,6];case"nextIteration":return[3,7]}return[3,8];case 1:return[2,[o.getParamValue("pred",t,e,n)]];case 2:return i=o.getParamValue("pred",t,e,n),s=o.getParamValue("data",t,e,n),[4,i.data()];case 3:return[2,a.sent()[0]?[void 0,s]:[s,void 0]];case 4:return l=t.inputNames.find(function(t){return void 0!==o.getTensor(t,e,n)}),[2,l?[o.getTensor(l,e,n)]:void 0];case 5:return u=o.getParamValue("frameName",t,e,n),c=o.getParamValue("tensor",t,e,n),n.enterFrame(u),[2,[c]];case 6:return h=o.getParamValue("tensor",t,e,n),n.exitFrame(),[2,[h]];case 7:return g=o.getParamValue("tensor",t,e,n),n.nextIteration(),[2,[g]];case 8:throw TypeError("Node type "+t.op+" is not implemented")}})})}var i=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,a){function o(t){try{l(r.next(t))}catch(t){a(t)}}function s(t){try{l(r.throw(t))}catch(t){a(t)}}function l(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(o,s)}l((r=r.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;l;)try{if(i=1,a&&(o=a[2&n[0]?"return":n[0]?"throw":"next"])&&!(o=o.call(a,n[1])).done)return o;switch(a=0,o&&(n=[0,o.value]),n[0]){case 0:case 1:o=n;break;case 4:return l.label++,{value:n[1],done:!1};case 5:l.label++,a=n[1],n=[0];continue;case 7:n=l.ops.pop(),l.trys.pop();continue;default:if(o=l.trys,!(o=o.length>0&&o[o.length-1])&&(6===n[0]||2===n[0])){l=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3])){l.label=n[1];break}if(6===n[0]&&l.label<o[1]){l.label=o[1],o=n;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(n);break}o[2]&&l.ops.pop(),l.trys.pop();continue}n=e.call(t,l)}catch(t){n=[6,t],a=0}finally{i=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,a,o,s,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(e,"__esModule",{value:!0});var o=n(718);e.executeOp=r,e.CATEGORY="control"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(505),i=n(718);e.executeOp=function(t,e,n){switch(t.op){case"conv1d":var a=i.getParamValue("stride",t,e,n),o=i.getParamValue("pad",t,e,n),s=i.getParamValue("dataFormat",t,e,n).toUpperCase(),l=i.getParamValue("dilation",t,e,n);return[r.conv1d(i.getParamValue("x",t,e,n),i.getParamValue("filter",t,e,n),a,o,s,l)];case"conv2d":var a=i.getParamValue("strides",t,e,n),o=i.getParamValue("pad",t,e,n),s=i.getParamValue("dataFormat",t,e,n).toUpperCase(),u=i.getParamValue("dilations",t,e,n);return[r.conv2d(i.getParamValue("x",t,e,n),i.getParamValue("filter",t,e,n),[a[1],a[2]],o,s,[u[0],u[1]])];case"conv2dTranspose":var c=i.getParamValue("outputShape",t,e,n),a=i.getParamValue("strides",t,e,n),o=i.getParamValue("pad",t,e,n);return[r.conv2dTranspose(i.getParamValue("x",t,e,n),i.getParamValue("filter",t,e,n),c,[a[1],a[2]],o)];case"depthwiseConv2d":var a=i.getParamValue("strides",t,e,n),o=i.getParamValue("pad",t,e,n),u=i.getParamValue("dilations",t,e,n),s=i.getParamValue("dataFormat",t,e,n).toUpperCase();return[r.depthwiseConv2d(i.getParamValue("input",t,e,n),i.getParamValue("filter",t,e,n),[a[1],a[2]],o,s,[u[0],u[1]])];case"avgPool":var a=i.getParamValue("strides",t,e,n),o=i.getParamValue("pad",t,e,n),h=i.getParamValue("kernelSize",t,e,n);return[r.avgPool(i.getParamValue("x",t,e,n),[h[1],h[2]],[a[1],a[2]],o)];case"maxPool":var a=i.getParamValue("strides",t,e,n),o=i.getParamValue("pad",t,e,n),h=i.getParamValue("kernelSize",t,e,n);return[r.maxPool(i.getParamValue("x",t,e,n),[h[1],h[2]],[a[1],a[2]],o)];default:throw TypeError("Node type "+t.op+" is not implemented")}},e.CATEGORY="convolution"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(505),i=n(718);e.executeOp=function(t,e,n){switch(t.op){case"fill":var a=i.getParamValue("shape",t,e,n),o=i.getParamValue("value",t,e,n);return[r.fill(a,o)];case"linspace":var s=i.getParamValue("start",t,e,n),l=i.getParamValue("stop",t,e,n),u=i.getParamValue("num",t,e,n);return[r.linspace(s,l,u)];case"oneHot":var c=i.getParamValue("indices",t,e,n),h=i.getParamValue("depth",t,e,n),g=i.getParamValue("onValue",t,e,n),d=i.getParamValue("offValue",t,e,n);return[r.oneHot(c,h,g,d)];case"ones":return[r.ones(i.getParamValue("shape",t,e,n),i.getParamValue("dtype",t,e,n))];case"onesLike":return[r.onesLike(i.getParamValue("x",t,e,n))];case"randomUniform":return[r.randomUniform(i.getParamValue("shape",t,e,n),i.getParamValue("minval",t,e,n),i.getParamValue("maxval",t,e,n),i.getParamValue("dtype",t,e,n))];case"range":var s=i.getParamValue("start",t,e,n),p=i.getParamValue("stop",t,e,n),f=i.getParamValue("step",t,e,n);return[r.range(s,p,f,i.getParamValue("dtype",t,e,n))];case"truncatedNormal":var a=i.getParamValue("shape",t,e,n),A=i.getParamValue("mean",t,e,n),C=i.getParamValue("stdDev",t,e,n),I=i.getParamValue("seed",t,e,n);return[r.truncatedNormal(a,A,C,i.getParamValue("dtype",t,e,n),I)];case"zeros":return[r.zeros(i.getParamValue("shape",t,e,n),i.getParamValue("dtype",t,e,n))];case"zerosLike":return[r.zerosLike(i.getParamValue("x",t,e,n))];default:throw TypeError("Node type "+t.op+" is not implemented")}},e.CATEGORY="creation"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(505),i=n(718);e.executeOp=function(t,e,n){switch(t.op){case"const":return e[t.name];case"placeholder":var a=i.getParamValue("default",t,e,n);return[i.getTensor(t.name,e,n)||a];case"identity":case"stopGradient":case"fakeQuantWithMinMaxVars":return[i.getParamValue("x",t,e,n)];case"snapshot":var o=i.getParamValue("x",t,e,n);return[o.clone()];case"shape":return[r.tensor1d(i.getParamValue("x",t,e,n).shape,"int32")];case"size":return[r.scalar(i.getParamValue("x",t,e,n).size,"int32")];case"rank":return[r.scalar(i.getParamValue("x",t,e,n).rank,"int32")];case"noop":return[];case"print":var s=i.getParamValue("x",t,e,n),l=i.getParamValue("data",t,e,n),u=i.getParamValue("message",t,e,n),c=i.getParamValue("summarize",t,e,n);console.warn("The graph has a tf.print() operation,usually used for debugging, which slows down performance."),console.log(u);for(var h=0;h<l.length;h++)console.log(Array.prototype.slice.call(l[0].dataSync()).slice(0,c));return[s];default:throw TypeError("Node type "+t.op+" is not implemented")}},e.CATEGORY="graph"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(505),i=n(718);e.executeOp=function(t,e,n){switch(t.op){case"resizeBilinear":var a=i.getParamValue("images",t,e,n),o=i.getParamValue("size",t,e,n),s=i.getParamValue("alignCorners",t,e,n);return[r.image.resizeBilinear(a,[o[0],o[1]],s)];case"resizeNearestNeighbor":var a=i.getParamValue("images",t,e,n),o=i.getParamValue("size",t,e,n),s=i.getParamValue("alignCorners",t,e,n);return[r.image.resizeNearestNeighbor(a,[o[0],o[1]],s)];default:throw TypeError("Node type "+t.op+" is not implemented")}},e.CATEGORY="image"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(505),i=n(718);e.executeOp=function(t,e,n){switch(t.op){case"equal":return[r.equal(i.getParamValue("a",t,e,n),i.getParamValue("b",t,e,n))];case"notEqual":return[r.notEqual(i.getParamValue("a",t,e,n),i.getParamValue("b",t,e,n))];case"greater":return[r.greater(i.getParamValue("a",t,e,n),i.getParamValue("b",t,e,n))];case"greaterEqual":return[r.greaterEqual(i.getParamValue("a",t,e,n),i.getParamValue("b",t,e,n))];case"less":return[r.less(i.getParamValue("a",t,e,n),i.getParamValue("b",t,e,n))];case"lessEqual":return[r.lessEqual(i.getParamValue("a",t,e,n),i.getParamValue("b",t,e,n))];case"logicalAnd":return[r.logicalAnd(i.getParamValue("a",t,e,n),i.getParamValue("b",t,e,n))];case"logicalNot":return[r.logicalNot(i.getParamValue("a",t,e,n))];case"logicalOr":return[r.logicalOr(i.getParamValue("a",t,e,n),i.getParamValue("b",t,e,n))];case"where":return[r.where(i.getParamValue("condition",t,e,n),i.getParamValue("a",t,e,n),i.getParamValue("b",t,e,n))];default:throw TypeError("Node type "+t.op+" is not implemented")}},e.CATEGORY="logical"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(505),i=n(718);e.executeOp=function(t,e,n){switch(t.op){case"matMul":return[r.matMul(i.getParamValue("a",t,e,n),i.getParamValue("b",t,e,n),i.getParamValue("transposeA",t,e,n),i.getParamValue("transposeB",t,e,n))];case"transpose":return[r.transpose(i.getParamValue("x",t,e,n),i.getParamValue("perm",t,e,n))];default:throw TypeError("Node type "+t.op+" is not implemented")}},e.CATEGORY="matrices"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(505),i=n(718);e.executeOp=function(t,e,n){switch(t.op){case"batchNormalization":return[r.batchNormalization(i.getParamValue("x",t,e,n),i.getParamValue("mean",t,e,n),i.getParamValue("variance",t,e,n),i.getParamValue("epsilon",t,e,n),i.getParamValue("scale",t,e,n),i.getParamValue("offset",t,e,n))];case"localResponseNormalization":return[r.localResponseNormalization(i.getParamValue("x",t,e,n),i.getParamValue("radius",t,e,n),i.getParamValue("bias",t,e,n),i.getParamValue("alpha",t,e,n),i.getParamValue("beta",t,e,n))];case"softmax":return[r.softmax(i.getParamValue("x",t,e,n))];default:throw TypeError("Node type "+t.op+" is not implemented")}},e.CATEGORY="normalization"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(505),i=n(718);e.executeOp=function(t,e,n){switch(t.op){case"max":var a=i.getParamValue("axis",t,e,n),o=i.getParamValue("keepDims",t,e,n);return[r.max(i.getParamValue("x",t,e,n),a,o)];case"mean":var a=i.getParamValue("axis",t,e,n),o=i.getParamValue("keepDims",t,e,n);return[r.mean(i.getParamValue("x",t,e,n),a,o)];case"min":var a=i.getParamValue("axis",t,e,n),o=i.getParamValue("keepDims",t,e,n);return[r.min(i.getParamValue("x",t,e,n),a,o)];case"sum":var a=i.getParamValue("axis",t,e,n),o=i.getParamValue("keepDims",t,e,n);return[r.sum(i.getParamValue("x",t,e,n),a,o)];case"all":var a=i.getParamValue("axis",t,e,n),o=i.getParamValue("keepDims",t,e,n);return[r.all(i.getParamValue("x",t,e,n),a,o)];case"any":var a=i.getParamValue("axis",t,e,n),o=i.getParamValue("keepDims",t,e,n);return[r.any(i.getParamValue("x",t,e,n),a,o)];case"argMax":var a=i.getParamValue("axis",t,e,n);return[r.argMax(i.getParamValue("x",t,e,n),a)];case"argMin":var a=i.getParamValue("axis",t,e,n);return[r.argMin(i.getParamValue("x",t,e,n),a)];default:throw TypeError("Node type "+t.op+" is not implemented")}},e.CATEGORY="reduction"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(505),i=n(718);e.executeOp=function(t,e,n){switch(t.op){case"concat":var a=i.getParamValue("axis",t,e,n),o=i.getParamValue("tensors",t,e,n);return[r.concat(o,a)];case"gather":var a=i.getParamValue("axis",t,e,n),s=i.getParamValue("x",t,e,n),l=i.getParamValue("indices",t,e,n);return[r.gather(s,l,a)];case"reverse":var a=i.getParamValue("axis",t,e,n),s=i.getParamValue("x",t,e,n);return[r.reverse(s,a)];case"slice":var u=i.getParamValue("begin",t,e,n),c=i.getParamValue("size",t,e,n);return[r.slice(i.getParamValue("x",t,e,n),u,c)];case"stridedSlice":var u=i.getParamValue("begin",t,e,n),h=i.getParamValue("end",t,e,n),g=i.getParamValue("strides",t,e,n),d=i.getParamValue("beginMask",t,e,n),p=i.getParamValue("endMask",t,e,n);return[r.stridedSlice(i.getParamValue("x",t,e,n),u,h,g,d,p)];case"stack":return r.tidy(function(){var a=i.getParamValue("axis",t,e,n),o=i.getParamValue("tensors",t,e,n),s=o[0].shape,l=o[0].squeeze().shape,u=o.map(function(t){var e=r.util.arraysEqual(t.shape,s);if(!e&&!r.util.arraysEqual(t.squeeze().shape,l))throw new Error("the input tensors shape does not match");return e?t:t.reshape(s)});return[r.stack(u,a)]});case"unstack":return r.tidy(function(){var a=i.getParamValue("axis",t,e,n),o=i.getParamValue("tensor",t,e,n);return r.unstack(o,a)});case"tile":var f=i.getParamValue("reps",t,e,n);return[r.tile(i.getParamValue("x",t,e,n),f)];case"split":var a=i.getParamValue("axis",t,e,n),A=i.getParamValue("numOrSizeSplits",t,e,n);return r.split(i.getParamValue("x",t,e,n),A,a);default:throw TypeError("Node type "+t.op+" is not implemented")}},e.CATEGORY="slice_join"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(505),i=n(718);e.executeOp=function(t,e,n){switch(t.op){case"cast":return[r.cast(i.getParamValue("x",t,e,n),i.getParamValue("dtype",t,e,n))];case"expandDims":var a=t.params.axis.value;return[r.expandDims(i.getParamValue("x",t,e,n),a)];case"squeeze":var a=t.params.axis.value;return[r.squeeze(i.getParamValue("x",t,e,n),a)];case"reshape":return[r.reshape(i.getParamValue("x",t,e,n),i.getParamValue("shape",t,e,n))];case"pad":return[r.pad(i.getParamValue("x",t,e,n),i.split(i.getParamValue("padding",t,e,n),2),i.getParamValue("constantValue",t,e,n))];default:throw TypeError("Node type "+t.op+" is not implemented")}},e.CATEGORY="transformation"},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t){this.weightMap=t,this.rootContext={id:0,frameName:"",iterationId:0},this.contexts=[this.rootContext],this.lastId=0,this.generateCurrentContextIds()}return t.prototype.newFrame=function(t,e){return{id:t,frameName:e,iterationId:0}},Object.defineProperty(t.prototype,"currentContext",{get:function(){return this.contexts},set:function(t){this.contexts!==t&&(this.contexts=t,this.generateCurrentContextIds())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentContextId",{get:function(){return this._currentContextIds[0]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentContextIds",{get:function(){return this._currentContextIds},enumerable:!0,configurable:!0}),t.prototype.generateCurrentContextIds=function(){for(var t=[],e=0;e<this.contexts.length-1;e++){var n=this.contexts.slice(0,this.contexts.length-e);t.push(this.contextIdforContexts(n))}t.push(""),this._currentContextIds=t},t.prototype.contextIdforContexts=function(t){return t?t.map(function(t){return 0===t.id&&0===t.iterationId?"":t.frameName+"-"+t.iterationId}).join("/"):""},t.prototype.enterFrame=function(t){this.contexts&&(this.lastId++,this.contexts=this.contexts.slice(),this.contexts.push(this.newFrame(this.lastId,t)),this._currentContextIds.unshift(this.contextIdforContexts(this.contexts)))},t.prototype.exitFrame=function(){if(!(this.contexts&&this.contexts.length>1))throw new Error("Cannot exit frame, the context is empty");this.contexts=this.contexts.slice(),this.contexts.splice(-1),this.currentContextIds.shift()},t.prototype.nextIteration=function(){if(!(this.contexts&&this.contexts.length>0))throw new Error("Cannot increase frame iteration, the context is empty");this.contexts=this.contexts.slice(),this.lastId++;var t=Object.assign({},this.contexts[this.contexts.length-1]);t.iterationId+=1,t.id=this.lastId,this.contexts.splice(-1,1,t),this._currentContextIds.splice(0,1,this.contextIdforContexts(this.contexts))},t.prototype.getWeight=function(t){return this.weightMap[t]},t}();e.ExecutionContext=n},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n="0.5.1";e.version=n},,,,,,,,,function(t,e,n){(function(t){"use strict";n(758),n(1014),n(1016),n(1019),n(1021),n(1023),n(1025),n(1028),n(1030),n(1032),n(1036),t._babelPolyfill&&"undefined"!=typeof console&&console.warn&&console.warn("@babel/polyfill is loaded more than once on this page. This is probably not desirable/intended and may have consequences if different versions of the polyfills are applied sequentially. If you do need to load the polyfill more than once, use @babel/polyfill/noConflict instead to bypass the warning."),t._babelPolyfill=!0}).call(e,function(){return this}())},function(t,e,n){n(759),n(807),n(808),n(809),n(810),n(812),n(815),n(816),n(817),n(818),n(819),n(820),n(821),n(822),n(823),n(825),n(827),n(829),n(831),n(834),n(835),n(836),n(840),n(842),n(844),n(847),n(848),n(849),n(850),n(852),n(853),n(854),n(855),n(856),n(857),n(858),n(860),n(861),n(862),n(864),n(865),n(866),n(868),n(870),n(871),n(872),n(873),n(874),n(875),n(876),n(877),n(878),n(879),n(880),n(881),n(882),n(887),n(888),n(892),n(893),n(894),n(895),n(897),n(898),n(899),n(900),n(901),n(902),n(903),n(904),n(905),n(906),n(907),n(908),n(909),n(910),n(911),n(913),n(914),n(916),n(917),n(923),n(924),n(926),n(927),n(928),n(932),n(933),n(934),n(935),n(936),n(938),n(939),n(940),n(941),n(944),n(946),n(947),n(948),n(950),n(952),n(954),n(956),n(957),n(958),n(962),n(963),n(964),n(966),n(976),n(980),n(981),n(983),n(984),n(988),n(989),n(991),n(992),n(993),n(994),n(995),n(996),n(997),n(998),n(999),n(1e3),n(1001),n(1002),n(1003),n(1004),n(1005),n(1006),n(1007),n(1008),n(1009),n(1011),n(1012),n(1013),t.exports=n(765)},function(t,e,n){"use strict";var r=n(760),i=n(761),a=n(762),o=n(764),s=n(774),l=n(778).KEY,u=n(763),c=n(779),h=n(781),g=n(775),d=n(782),p=n(783),f=n(784),A=n(785),C=n(800),I=n(768),m=n(769),v=n(788),y=n(772),b=n(773),x=n(801),w=n(804),S=n(806),T=n(767),N=n(786),E=S.f,k=T.f,O=w.f,M=r.Symbol,R=r.JSON,D=R&&R.stringify,_="prototype",P=d("_hidden"),L=d("toPrimitive"),z={}.propertyIsEnumerable,F=c("symbol-registry"),B=c("symbols"),V=c("op-symbols"),j=Object[_],W="function"==typeof M,G=r.QObject,U=!G||!G[_]||!G[_].findChild,H=a&&u(function(){return 7!=x(k({},"a",{get:function(){return k(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=E(j,e);r&&delete j[e],k(t,e,n),r&&t!==j&&k(j,e,r)}:k,Z=function(t){var e=B[t]=x(M[_]);return e._k=t,e},Y=W&&"symbol"==typeof M.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof M},X=function(t,e,n){return t===j&&X(V,e,n),I(t),e=y(e,!0),I(n),i(B,e)?(n.enumerable?(i(t,P)&&t[P][e]&&(t[P][e]=!1),n=x(n,{enumerable:b(0,!1)})):(i(t,P)||k(t,P,b(1,{})),t[P][e]=!0),H(t,e,n)):k(t,e,n)},q=function(t,e){I(t);for(var n,r=A(e=v(e)),i=0,a=r.length;a>i;)X(t,n=r[i++],e[n]);return t},K=function(t,e){return void 0===e?x(t):q(x(t),e)},J=function(t){var e=z.call(this,t=y(t,!0));return!(this===j&&i(B,t)&&!i(V,t))&&(!(e||!i(this,t)||!i(B,t)||i(this,P)&&this[P][t])||e)},Q=function(t,e){if(t=v(t),e=y(e,!0),t!==j||!i(B,e)||i(V,e)){var n=E(t,e);return!n||!i(B,e)||i(t,P)&&t[P][e]||(n.enumerable=!0),n}},$=function(t){for(var e,n=O(v(t)),r=[],a=0;n.length>a;)i(B,e=n[a++])||e==P||e==l||r.push(e);return r},tt=function(t){for(var e,n=t===j,r=O(n?V:v(t)),a=[],o=0;r.length>o;)!i(B,e=r[o++])||n&&!i(j,e)||a.push(B[e]);return a};W||(M=function(){if(this instanceof M)throw TypeError("Symbol is not a constructor!");var t=g(arguments.length>0?arguments[0]:void 0),e=function(n){this===j&&e.call(V,n),i(this,P)&&i(this[P],t)&&(this[P][t]=!1),H(this,t,b(1,n))};return a&&U&&H(j,t,{configurable:!0,set:e}),Z(t)},s(M[_],"toString",function(){return this._k}),S.f=Q,T.f=X,n(805).f=w.f=$,n(799).f=J,n(798).f=tt,a&&!n(780)&&s(j,"propertyIsEnumerable",J,!0),p.f=function(t){return Z(d(t))}),o(o.G+o.W+o.F*!W,{Symbol:M});for(var et="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),nt=0;et.length>nt;)d(et[nt++]);for(var rt=N(d.store),it=0;rt.length>it;)f(rt[it++]);o(o.S+o.F*!W,"Symbol",{for:function(t){return i(F,t+="")?F[t]:F[t]=M(t)},keyFor:function(t){if(!Y(t))throw TypeError(t+" is not a symbol!");for(var e in F)if(F[e]===t)return e},useSetter:function(){U=!0},useSimple:function(){U=!1}}),o(o.S+o.F*!W,"Object",{create:K,defineProperty:X,defineProperties:q,getOwnPropertyDescriptor:Q,getOwnPropertyNames:$,getOwnPropertySymbols:tt}),R&&o(o.S+o.F*(!W||u(function(){var t=M();return"[null]"!=D([t])||"{}"!=D({a:t})||"{}"!=D(Object(t))})),"JSON",{stringify:function(t){for(var e,n,r=[t],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=e=r[1],(m(e)||void 0!==t)&&!Y(t))return C(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!Y(e))return e}),r[1]=e,D.apply(R,r)}}),M[_][L]||n(766)(M[_],L,M[_].valueOf),h(M,"Symbol"),h(Math,"Math",!0),h(r.JSON,"JSON",!0)},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){t.exports=!n(763)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){var r=n(760),i=n(765),a=n(766),o=n(774),s=n(776),l="prototype",u=function(t,e,n){var c,h,g,d,p=t&u.F,f=t&u.G,A=t&u.S,C=t&u.P,I=t&u.B,m=f?r:A?r[e]||(r[e]={}):(r[e]||{})[l],v=f?i:i[e]||(i[e]={}),y=v[l]||(v[l]={});f&&(n=e);for(c in n)h=!p&&m&&void 0!==m[c],g=(h?m:n)[c],d=I&&h?s(g,r):C&&"function"==typeof g?s(Function.call,g):g,m&&o(m,c,g,t&u.U),v[c]!=g&&a(v,c,d),C&&y[c]!=g&&(y[c]=g)};r.core=i,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},function(t,e){var n=t.exports={version:"2.6.2"};"number"==typeof __e&&(__e=n)},function(t,e,n){var r=n(767),i=n(773);t.exports=n(762)?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(768),i=n(770),a=n(772),o=Object.defineProperty;e.f=n(762)?Object.defineProperty:function(t,e,n){if(r(t),e=a(e,!0),r(n),i)try{return o(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var r=n(769);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){t.exports=!n(762)&&!n(763)(function(){return 7!=Object.defineProperty(n(771)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){var r=n(769),i=n(760).document,a=r(i)&&r(i.createElement);t.exports=function(t){return a?i.createElement(t):{}}},function(t,e,n){var r=n(769);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var r=n(760),i=n(766),a=n(761),o=n(775)("src"),s="toString",l=Function[s],u=(""+l).split(s);n(765).inspectSource=function(t){return l.call(t)},(t.exports=function(t,e,n,s){var l="function"==typeof n;l&&(a(n,"name")||i(n,"name",e)),t[e]!==n&&(l&&(a(n,o)||i(n,o,t[e]?""+t[e]:u.join(String(e)))),t===r?t[e]=n:s?t[e]?t[e]=n:i(t,e,n):(delete t[e],i(t,e,n)))})(Function.prototype,s,function(){return"function"==typeof this&&this[o]||l.call(this)})},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e,n){var r=n(777);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var r=n(775)("meta"),i=n(769),a=n(761),o=n(767).f,s=0,l=Object.isExtensible||function(){return!0},u=!n(763)(function(){return l(Object.preventExtensions({}))}),c=function(t){o(t,r,{value:{i:"O"+ ++s,w:{}}})},h=function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!a(t,r)){if(!l(t))return"F";if(!e)return"E";c(t)}return t[r].i},g=function(t,e){if(!a(t,r)){if(!l(t))return!0;if(!e)return!1;c(t)}return t[r].w},d=function(t){return u&&p.NEED&&l(t)&&!a(t,r)&&c(t),t},p=t.exports={
KEY:r,NEED:!1,fastKey:h,getWeak:g,onFreeze:d}},function(t,e,n){var r=n(765),i=n(760),a="__core-js_shared__",o=i[a]||(i[a]={});(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:n(780)?"pure":"global",copyright:" 2019 Denis Pushkarev (zloirock.ru)"})},function(t,e){t.exports=!1},function(t,e,n){var r=n(767).f,i=n(761),a=n(782)("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,a)&&r(t,a,{configurable:!0,value:e})}},function(t,e,n){var r=n(779)("wks"),i=n(775),a=n(760).Symbol,o="function"==typeof a,s=t.exports=function(t){return r[t]||(r[t]=o&&a[t]||(o?a:i)("Symbol."+t))};s.store=r},function(t,e,n){e.f=n(782)},function(t,e,n){var r=n(760),i=n(765),a=n(780),o=n(783),s=n(767).f;t.exports=function(t){var e=i.Symbol||(i.Symbol=a?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:o.f(t)})}},function(t,e,n){var r=n(786),i=n(798),a=n(799);t.exports=function(t){var e=r(t),n=i.f;if(n)for(var o,s=n(t),l=a.f,u=0;s.length>u;)l.call(t,o=s[u++])&&e.push(o);return e}},function(t,e,n){var r=n(787),i=n(797);t.exports=Object.keys||function(t){return r(t,i)}},function(t,e,n){var r=n(761),i=n(788),a=n(792)(!1),o=n(796)("IE_PROTO");t.exports=function(t,e){var n,s=i(t),l=0,u=[];for(n in s)n!=o&&r(s,n)&&u.push(n);for(;e.length>l;)r(s,n=e[l++])&&(~a(u,n)||u.push(n));return u}},function(t,e,n){var r=n(789),i=n(791);t.exports=function(t){return r(i(t))}},function(t,e,n){var r=n(790);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){var r=n(788),i=n(793),a=n(795);t.exports=function(t){return function(e,n,o){var s,l=r(e),u=i(l.length),c=a(o,u);if(t&&n!=n){for(;u>c;)if(s=l[c++],s!=s)return!0}else for(;u>c;c++)if((t||c in l)&&l[c]===n)return t||c||0;return!t&&-1}}},function(t,e,n){var r=n(794),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){var r=n(794),i=Math.max,a=Math.min;t.exports=function(t,e){return t=r(t),t<0?i(t+e,0):a(t,e)}},function(t,e,n){var r=n(779)("keys"),i=n(775);t.exports=function(t){return r[t]||(r[t]=i(t))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var r=n(790);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){var r=n(768),i=n(802),a=n(797),o=n(796)("IE_PROTO"),s=function(){},l="prototype",u=function(){var t,e=n(771)("iframe"),r=a.length,i="<",o=">";for(e.style.display="none",n(803).appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write(i+"script"+o+"document.F=Object"+i+"/script"+o),t.close(),u=t.F;r--;)delete u[l][a[r]];return u()};t.exports=Object.create||function(t,e){var n;return null!==t?(s[l]=r(t),n=new s,s[l]=null,n[o]=t):n=u(),void 0===e?n:i(n,e)}},function(t,e,n){var r=n(767),i=n(768),a=n(786);t.exports=n(762)?Object.defineProperties:function(t,e){i(t);for(var n,o=a(e),s=o.length,l=0;s>l;)r.f(t,n=o[l++],e[n]);return t}},function(t,e,n){var r=n(760).document;t.exports=r&&r.documentElement},function(t,e,n){var r=n(788),i=n(805).f,a={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(t){try{return i(t)}catch(t){return o.slice()}};t.exports.f=function(t){return o&&"[object Window]"==a.call(t)?s(t):i(r(t))}},function(t,e,n){var r=n(787),i=n(797).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},function(t,e,n){var r=n(799),i=n(773),a=n(788),o=n(772),s=n(761),l=n(770),u=Object.getOwnPropertyDescriptor;e.f=n(762)?u:function(t,e){if(t=a(t),e=o(e,!0),l)try{return u(t,e)}catch(t){}if(s(t,e))return i(!r.f.call(t,e),t[e])}},function(t,e,n){var r=n(764);r(r.S,"Object",{create:n(801)})},function(t,e,n){var r=n(764);r(r.S+r.F*!n(762),"Object",{defineProperty:n(767).f})},function(t,e,n){var r=n(764);r(r.S+r.F*!n(762),"Object",{defineProperties:n(802)})},function(t,e,n){var r=n(788),i=n(806).f;n(811)("getOwnPropertyDescriptor",function(){return function(t,e){return i(r(t),e)}})},function(t,e,n){var r=n(764),i=n(765),a=n(763);t.exports=function(t,e){var n=(i.Object||{})[t]||Object[t],o={};o[t]=e(n),r(r.S+r.F*a(function(){n(1)}),"Object",o)}},function(t,e,n){var r=n(813),i=n(814);n(811)("getPrototypeOf",function(){return function(t){return i(r(t))}})},function(t,e,n){var r=n(791);t.exports=function(t){return Object(r(t))}},function(t,e,n){var r=n(761),i=n(813),a=n(796)("IE_PROTO"),o=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),r(t,a)?t[a]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?o:null}},function(t,e,n){var r=n(813),i=n(786);n(811)("keys",function(){return function(t){return i(r(t))}})},function(t,e,n){n(811)("getOwnPropertyNames",function(){return n(804).f})},function(t,e,n){var r=n(769),i=n(778).onFreeze;n(811)("freeze",function(t){return function(e){return t&&r(e)?t(i(e)):e}})},function(t,e,n){var r=n(769),i=n(778).onFreeze;n(811)("seal",function(t){return function(e){return t&&r(e)?t(i(e)):e}})},function(t,e,n){var r=n(769),i=n(778).onFreeze;n(811)("preventExtensions",function(t){return function(e){return t&&r(e)?t(i(e)):e}})},function(t,e,n){var r=n(769);n(811)("isFrozen",function(t){return function(e){return!r(e)||!!t&&t(e)}})},function(t,e,n){var r=n(769);n(811)("isSealed",function(t){return function(e){return!r(e)||!!t&&t(e)}})},function(t,e,n){var r=n(769);n(811)("isExtensible",function(t){return function(e){return!!r(e)&&(!t||t(e))}})},function(t,e,n){var r=n(764);r(r.S+r.F,"Object",{assign:n(824)})},function(t,e,n){"use strict";var r=n(786),i=n(798),a=n(799),o=n(813),s=n(789),l=Object.assign;t.exports=!l||n(763)(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=l({},t)[n]||Object.keys(l({},e)).join("")!=r})?function(t,e){for(var n=o(t),l=arguments.length,u=1,c=i.f,h=a.f;l>u;)for(var g,d=s(arguments[u++]),p=c?r(d).concat(c(d)):r(d),f=p.length,A=0;f>A;)h.call(d,g=p[A++])&&(n[g]=d[g]);return n}:l},function(t,e,n){var r=n(764);r(r.S,"Object",{is:n(826)})},function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},function(t,e,n){var r=n(764);r(r.S,"Object",{setPrototypeOf:n(828).set})},function(t,e,n){var r=n(769),i=n(768),a=function(t,e){if(i(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{r=n(776)(Function.call,n(806).f(Object.prototype,"__proto__").set,2),r(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return a(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:a}},function(t,e,n){"use strict";var r=n(830),i={};i[n(782)("toStringTag")]="z",i+""!="[object z]"&&n(774)(Object.prototype,"toString",function(){return"[object "+r(this)+"]"},!0)},function(t,e,n){var r=n(790),i=n(782)("toStringTag"),a="Arguments"==r(function(){return arguments}()),o=function(t,e){try{return t[e]}catch(t){}};t.exports=function(t){var e,n,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=o(e=Object(t),i))?n:a?r(e):"Object"==(s=r(e))&&"function"==typeof e.callee?"Arguments":s}},function(t,e,n){var r=n(764);r(r.P,"Function",{bind:n(832)})},function(t,e,n){"use strict";var r=n(777),i=n(769),a=n(833),o=[].slice,s={},l=function(t,e,n){if(!(e in s)){for(var r=[],i=0;i<e;i++)r[i]="a["+i+"]";s[e]=Function("F,a","return new F("+r.join(",")+")")}return s[e](t,n)};t.exports=Function.bind||function(t){var e=r(this),n=o.call(arguments,1),s=function(){var r=n.concat(o.call(arguments));return this instanceof s?l(e,r.length,r):a(e,r,t)};return i(e.prototype)&&(s.prototype=e.prototype),s}},function(t,e){t.exports=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){var r=n(767).f,i=Function.prototype,a=/^\s*function ([^ (]*)/,o="name";o in i||n(762)&&r(i,o,{configurable:!0,get:function(){try{return(""+this).match(a)[1]}catch(t){return""}}})},function(t,e,n){"use strict";var r=n(769),i=n(814),a=n(782)("hasInstance"),o=Function.prototype;a in o||n(767).f(o,a,{value:function(t){if("function"!=typeof this||!r(t))return!1;if(!r(this.prototype))return t instanceof this;for(;t=i(t);)if(this.prototype===t)return!0;return!1}})},function(t,e,n){var r=n(764),i=n(837);r(r.G+r.F*(parseInt!=i),{parseInt:i})},function(t,e,n){var r=n(760).parseInt,i=n(838).trim,a=n(839),o=/^[-+]?0[xX]/;t.exports=8!==r(a+"08")||22!==r(a+"0x16")?function(t,e){var n=i(String(t),3);return r(n,e>>>0||(o.test(n)?16:10))}:r},function(t,e,n){var r=n(764),i=n(791),a=n(763),o=n(839),s="["+o+"]",l="",u=RegExp("^"+s+s+"*"),c=RegExp(s+s+"*$"),h=function(t,e,n){var i={},s=a(function(){return!!o[t]()||l[t]()!=l}),u=i[t]=s?e(g):o[t];n&&(i[n]=u),r(r.P+r.F*s,"String",i)},g=h.trim=function(t,e){return t=String(i(t)),1&e&&(t=t.replace(u,"")),2&e&&(t=t.replace(c,"")),t};t.exports=h},function(t,e){t.exports="\t\n\v\f\r \u2028\u2029\ufeff"},function(t,e,n){var r=n(764),i=n(841);r(r.G+r.F*(parseFloat!=i),{parseFloat:i})},function(t,e,n){var r=n(760).parseFloat,i=n(838).trim;t.exports=1/r(n(839)+"-0")!==-(1/0)?function(t){var e=i(String(t),3),n=r(e);return 0===n&&"-"==e.charAt(0)?-0:n}:r},function(t,e,n){"use strict";var r=n(760),i=n(761),a=n(790),o=n(843),s=n(772),l=n(763),u=n(805).f,c=n(806).f,h=n(767).f,g=n(838).trim,d="Number",p=r[d],f=p,A=p.prototype,C=a(n(801)(A))==d,I="trim"in String.prototype,m=function(t){var e=s(t,!1);if("string"==typeof e&&e.length>2){e=I?e.trim():g(e,3);var n,r,i,a=e.charCodeAt(0);if(43===a||45===a){if(n=e.charCodeAt(2),88===n||120===n)return NaN}else if(48===a){switch(e.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+e}for(var o,l=e.slice(2),u=0,c=l.length;u<c;u++)if(o=l.charCodeAt(u),o<48||o>i)return NaN;return parseInt(l,r)}}return+e};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof p&&(C?l(function(){A.valueOf.call(n)}):a(n)!=d)?o(new f(m(e)),n,p):m(e)};for(var v,y=n(762)?u(f):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),b=0;y.length>b;b++)i(f,v=y[b])&&!i(p,v)&&h(p,v,c(f,v));p.prototype=A,A.constructor=p,n(774)(r,d,p)}},function(t,e,n){var r=n(769),i=n(828).set;t.exports=function(t,e,n){var a,o=e.constructor;return o!==n&&"function"==typeof o&&(a=o.prototype)!==n.prototype&&r(a)&&i&&i(t,a),t}},function(t,e,n){"use strict";var r=n(764),i=n(794),a=n(845),o=n(846),s=1..toFixed,l=Math.floor,u=[0,0,0,0,0,0],c="Number.toFixed: incorrect invocation!",h="0",g=function(t,e){for(var n=-1,r=e;++n<6;)r+=t*u[n],u[n]=r%1e7,r=l(r/1e7)},d=function(t){for(var e=6,n=0;--e>=0;)n+=u[e],u[e]=l(n/t),n=n%t*1e7},p=function(){for(var t=6,e="";--t>=0;)if(""!==e||0===t||0!==u[t]){var n=String(u[t]);e=""===e?n:e+o.call(h,7-n.length)+n}return e},f=function(t,e,n){return 0===e?n:e%2===1?f(t,e-1,n*t):f(t*t,e/2,n)},A=function(t){for(var e=0,n=t;n>=4096;)e+=12,n/=4096;for(;n>=2;)e+=1,n/=2;return e};r(r.P+r.F*(!!s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!n(763)(function(){s.call({})})),"Number",{toFixed:function(t){var e,n,r,s,l=a(this,c),u=i(t),C="",I=h;if(u<0||u>20)throw RangeError(c);if(l!=l)return"NaN";if(l<=-1e21||l>=1e21)return String(l);if(l<0&&(C="-",l=-l),l>1e-21)if(e=A(l*f(2,69,1))-69,n=e<0?l*f(2,-e,1):l/f(2,e,1),n*=4503599627370496,e=52-e,e>0){for(g(0,n),r=u;r>=7;)g(1e7,0),r-=7;for(g(f(10,r,1),0),r=e-1;r>=23;)d(1<<23),r-=23;d(1<<r),g(1,1),d(2),I=p()}else g(0,n),g(1<<-e,0),I=p()+o.call(h,u);return u>0?(s=I.length,I=C+(s<=u?"0."+o.call(h,u-s)+I:I.slice(0,s-u)+"."+I.slice(s-u))):I=C+I,I}})},function(t,e,n){var r=n(790);t.exports=function(t,e){if("number"!=typeof t&&"Number"!=r(t))throw TypeError(e);return+t}},function(t,e,n){"use strict";var r=n(794),i=n(791);t.exports=function(t){var e=String(i(this)),n="",a=r(t);if(a<0||a==1/0)throw RangeError("Count can't be negative");for(;a>0;(a>>>=1)&&(e+=e))1&a&&(n+=e);return n}},function(t,e,n){"use strict";var r=n(764),i=n(763),a=n(845),o=1..toPrecision;r(r.P+r.F*(i(function(){return"1"!==o.call(1,void 0)})||!i(function(){o.call({})})),"Number",{toPrecision:function(t){var e=a(this,"Number#toPrecision: incorrect invocation!");return void 0===t?o.call(e):o.call(e,t)}})},function(t,e,n){var r=n(764);r(r.S,"Number",{EPSILON:Math.pow(2,-52)})},function(t,e,n){var r=n(764),i=n(760).isFinite;r(r.S,"Number",{isFinite:function(t){return"number"==typeof t&&i(t)}})},function(t,e,n){var r=n(764);r(r.S,"Number",{isInteger:n(851)})},function(t,e,n){var r=n(769),i=Math.floor;t.exports=function(t){return!r(t)&&isFinite(t)&&i(t)===t}},function(t,e,n){var r=n(764);r(r.S,"Number",{isNaN:function(t){return t!=t}})},function(t,e,n){var r=n(764),i=n(851),a=Math.abs;r(r.S,"Number",{isSafeInteger:function(t){return i(t)&&a(t)<=9007199254740991}})},function(t,e,n){var r=n(764);r(r.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(t,e,n){var r=n(764);r(r.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(t,e,n){var r=n(764),i=n(841);r(r.S+r.F*(Number.parseFloat!=i),"Number",{parseFloat:i})},function(t,e,n){var r=n(764),i=n(837);r(r.S+r.F*(Number.parseInt!=i),"Number",{parseInt:i})},function(t,e,n){var r=n(764),i=n(859),a=Math.sqrt,o=Math.acosh;r(r.S+r.F*!(o&&710==Math.floor(o(Number.MAX_VALUE))&&o(1/0)==1/0),"Math",{acosh:function(t){return(t=+t)<1?NaN:t>94906265.62425156?Math.log(t)+Math.LN2:i(t-1+a(t-1)*a(t+1))}})},function(t,e){t.exports=Math.log1p||function(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:Math.log(1+t)}},function(t,e,n){function r(t){return isFinite(t=+t)&&0!=t?t<0?-r(-t):Math.log(t+Math.sqrt(t*t+1)):t}var i=n(764),a=Math.asinh;i(i.S+i.F*!(a&&1/a(0)>0),"Math",{asinh:r})},function(t,e,n){var r=n(764),i=Math.atanh;r(r.S+r.F*!(i&&1/i(-0)<0),"Math",{atanh:function(t){return 0==(t=+t)?t:Math.log((1+t)/(1-t))/2}})},function(t,e,n){var r=n(764),i=n(863);r(r.S,"Math",{cbrt:function(t){return i(t=+t)*Math.pow(Math.abs(t),1/3)}})},function(t,e){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},function(t,e,n){var r=n(764);r(r.S,"Math",{clz32:function(t){return(t>>>=0)?31-Math.floor(Math.log(t+.5)*Math.LOG2E):32}})},function(t,e,n){var r=n(764),i=Math.exp;r(r.S,"Math",{cosh:function(t){return(i(t=+t)+i(-t))/2}})},function(t,e,n){var r=n(764),i=n(867);r(r.S+r.F*(i!=Math.expm1),"Math",{expm1:i})},function(t,e){var n=Math.expm1;t.exports=!n||n(10)>22025.465794806718||n(10)<22025.465794806718||n(-2e-17)!=-2e-17?function(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:Math.exp(t)-1}:n},function(t,e,n){var r=n(764);r(r.S,"Math",{fround:n(869)})},function(t,e,n){var r=n(863),i=Math.pow,a=i(2,-52),o=i(2,-23),s=i(2,127)*(2-o),l=i(2,-126),u=function(t){return t+1/a-1/a};t.exports=Math.fround||function(t){var e,n,i=Math.abs(t),c=r(t);return i<l?c*u(i/l/o)*l*o:(e=(1+o/a)*i,n=e-(e-i),n>s||n!=n?c*(1/0):c*n)}},function(t,e,n){var r=n(764),i=Math.abs;r(r.S,"Math",{hypot:function(t,e){for(var n,r,a=0,o=0,s=arguments.length,l=0;o<s;)n=i(arguments[o++]),l<n?(r=l/n,a=a*r*r+1,l=n):n>0?(r=n/l,a+=r*r):a+=n;return l===1/0?1/0:l*Math.sqrt(a)}})},function(t,e,n){var r=n(764),i=Math.imul;r(r.S+r.F*n(763)(function(){return i(4294967295,5)!=-5||2!=i.length}),"Math",{imul:function(t,e){var n=65535,r=+t,i=+e,a=n&r,o=n&i;return 0|a*o+((n&r>>>16)*o+a*(n&i>>>16)<<16>>>0)}})},function(t,e,n){var r=n(764);r(r.S,"Math",{log10:function(t){return Math.log(t)*Math.LOG10E}})},function(t,e,n){var r=n(764);r(r.S,"Math",{log1p:n(859)})},function(t,e,n){var r=n(764);r(r.S,"Math",{log2:function(t){return Math.log(t)/Math.LN2}})},function(t,e,n){var r=n(764);r(r.S,"Math",{sign:n(863)})},function(t,e,n){var r=n(764),i=n(867),a=Math.exp;r(r.S+r.F*n(763)(function(){return!Math.sinh(-2e-17)!=-2e-17}),"Math",{sinh:function(t){return Math.abs(t=+t)<1?(i(t)-i(-t))/2:(a(t-1)-a(-t-1))*(Math.E/2)}})},function(t,e,n){var r=n(764),i=n(867),a=Math.exp;r(r.S,"Math",{tanh:function(t){var e=i(t=+t),n=i(-t);return e==1/0?1:n==1/0?-1:(e-n)/(a(t)+a(-t))}})},function(t,e,n){var r=n(764);r(r.S,"Math",{trunc:function(t){return(t>0?Math.floor:Math.ceil)(t)}})},function(t,e,n){var r=n(764),i=n(795),a=String.fromCharCode,o=String.fromCodePoint;r(r.S+r.F*(!!o&&1!=o.length),"String",{fromCodePoint:function(t){for(var e,n=[],r=arguments.length,o=0;r>o;){if(e=+arguments[o++],i(e,1114111)!==e)throw RangeError(e+" is not a valid code point");n.push(e<65536?a(e):a(((e-=65536)>>10)+55296,e%1024+56320))}return n.join("")}})},function(t,e,n){var r=n(764),i=n(788),a=n(793);r(r.S,"String",{raw:function(t){for(var e=i(t.raw),n=a(e.length),r=arguments.length,o=[],s=0;n>s;)o.push(String(e[s++])),s<r&&o.push(String(arguments[s]));return o.join("")}})},function(t,e,n){"use strict";n(838)("trim",function(t){return function(){return t(this,3)}})},function(t,e,n){"use strict";var r=n(883)(!0);n(884)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e,n){var r=n(794),i=n(791);t.exports=function(t){return function(e,n){var a,o,s=String(i(e)),l=r(n),u=s.length;return l<0||l>=u?t?"":void 0:(a=s.charCodeAt(l),a<55296||a>56319||l+1===u||(o=s.charCodeAt(l+1))<56320||o>57343?t?s.charAt(l):a:t?s.slice(l,l+2):(a-55296<<10)+(o-56320)+65536)}}},function(t,e,n){"use strict";var r=n(780),i=n(764),a=n(774),o=n(766),s=n(885),l=n(886),u=n(781),c=n(814),h=n(782)("iterator"),g=!([].keys&&"next"in[].keys()),d="@@iterator",p="keys",f="values",A=function(){return this};t.exports=function(t,e,n,C,I,m,v){l(n,e,C);var y,b,x,w=function(t){if(!g&&t in E)return E[t];switch(t){case p:return function(){return new n(this,t)};case f:return function(){return new n(this,t)}}return function(){return new n(this,t)}},S=e+" Iterator",T=I==f,N=!1,E=t.prototype,k=E[h]||E[d]||I&&E[I],O=k||w(I),M=I?T?w("entries"):O:void 0,R="Array"==e?E.entries||k:k;if(R&&(x=c(R.call(new t)),x!==Object.prototype&&x.next&&(u(x,S,!0),r||"function"==typeof x[h]||o(x,h,A))),T&&k&&k.name!==f&&(N=!0,O=function(){return k.call(this)}),r&&!v||!g&&!N&&E[h]||o(E,h,O),s[e]=O,s[S]=A,I)if(y={values:T?O:w(f),keys:m?O:w(p),entries:M},v)for(b in y)b in E||a(E,b,y[b]);else i(i.P+i.F*(g||N),e,y);return y}},function(t,e){t.exports={}},function(t,e,n){"use strict";var r=n(801),i=n(773),a=n(781),o={};n(766)(o,n(782)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=r(o,{next:i(1,n)}),a(t,e+" Iterator")}},function(t,e,n){"use strict";var r=n(764),i=n(883)(!1);r(r.P,"String",{codePointAt:function(t){return i(this,t)}})},function(t,e,n){"use strict";var r=n(764),i=n(793),a=n(889),o="endsWith",s=""[o];r(r.P+r.F*n(891)(o),"String",{endsWith:function(t){var e=a(this,t,o),n=arguments.length>1?arguments[1]:void 0,r=i(e.length),l=void 0===n?r:Math.min(i(n),r),u=String(t);return s?s.call(e,u,l):e.slice(l-u.length,l)===u}})},function(t,e,n){var r=n(890),i=n(791);t.exports=function(t,e,n){if(r(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(i(t))}},function(t,e,n){var r=n(769),i=n(790),a=n(782)("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[a])?!!e:"RegExp"==i(t))}},function(t,e,n){var r=n(782)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,!"/./"[t](e)}catch(t){}}return!0}},function(t,e,n){"use strict";var r=n(764),i=n(889),a="includes";r(r.P+r.F*n(891)(a),"String",{includes:function(t){return!!~i(this,t,a).indexOf(t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){var r=n(764);r(r.P,"String",{repeat:n(846)})},function(t,e,n){"use strict";var r=n(764),i=n(793),a=n(889),o="startsWith",s=""[o];r(r.P+r.F*n(891)(o),"String",{startsWith:function(t){var e=a(this,t,o),n=i(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),r=String(t);return s?s.call(e,r,n):e.slice(n,n+r.length)===r}})},function(t,e,n){"use strict";n(896)("anchor",function(t){return function(e){return t(this,"a","name",e)}})},function(t,e,n){var r=n(764),i=n(763),a=n(791),o=/"/g,s=function(t,e,n,r){var i=String(a(t)),s="<"+e;return""!==n&&(s+=" "+n+'="'+String(r).replace(o,"&quot;")+'"'),s+">"+i+"</"+e+">"};t.exports=function(t,e){var n={};n[t]=e(s),r(r.P+r.F*i(function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}),"String",n)}},function(t,e,n){"use strict";n(896)("big",function(t){return function(){return t(this,"big","","")}})},function(t,e,n){"use strict";n(896)("blink",function(t){return function(){return t(this,"blink","","")}})},function(t,e,n){"use strict";n(896)("bold",function(t){return function(){return t(this,"b","","")}})},function(t,e,n){"use strict";n(896)("fixed",function(t){return function(){return t(this,"tt","","")}})},function(t,e,n){"use strict";n(896)("fontcolor",function(t){return function(e){return t(this,"font","color",e)}})},function(t,e,n){"use strict";n(896)("fontsize",function(t){return function(e){return t(this,"font","size",e)}})},function(t,e,n){"use strict";n(896)("italics",function(t){return function(){return t(this,"i","","")}})},function(t,e,n){"use strict";n(896)("link",function(t){return function(e){return t(this,"a","href",e)}})},function(t,e,n){"use strict";n(896)("small",function(t){return function(){return t(this,"small","","")}})},function(t,e,n){"use strict";n(896)("strike",function(t){return function(){return t(this,"strike","","")}})},function(t,e,n){"use strict";n(896)("sub",function(t){return function(){return t(this,"sub","","")}})},function(t,e,n){"use strict";n(896)("sup",function(t){return function(){return t(this,"sup","","")}})},function(t,e,n){var r=n(764);r(r.S,"Date",{now:function(){return(new Date).getTime()}})},function(t,e,n){"use strict";var r=n(764),i=n(813),a=n(772);r(r.P+r.F*n(763)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(t){var e=i(this),n=a(e);return"number"!=typeof n||isFinite(n)?e.toISOString():null}})},function(t,e,n){var r=n(764),i=n(912);r(r.P+r.F*(Date.prototype.toISOString!==i),"Date",{toISOString:i})},function(t,e,n){"use strict";var r=n(763),i=Date.prototype.getTime,a=Date.prototype.toISOString,o=function(t){return t>9?t:"0"+t};t.exports=r(function(){return"0385-07-25T07:06:39.999Z"!=a.call(new Date(-5e13-1))})||!r(function(){a.call(new Date(NaN))})?function(){if(!isFinite(i.call(this)))throw RangeError("Invalid time value");var t=this,e=t.getUTCFullYear(),n=t.getUTCMilliseconds(),r=e<0?"-":e>9999?"+":"";return r+("00000"+Math.abs(e)).slice(r?-6:-4)+"-"+o(t.getUTCMonth()+1)+"-"+o(t.getUTCDate())+"T"+o(t.getUTCHours())+":"+o(t.getUTCMinutes())+":"+o(t.getUTCSeconds())+"."+(n>99?n:"0"+o(n))+"Z"}:a},function(t,e,n){var r=Date.prototype,i="Invalid Date",a="toString",o=r[a],s=r.getTime;new Date(NaN)+""!=i&&n(774)(r,a,function(){var t=s.call(this);return t===t?o.call(this):i})},function(t,e,n){var r=n(782)("toPrimitive"),i=Date.prototype;r in i||n(766)(i,r,n(915))},function(t,e,n){"use strict";var r=n(768),i=n(772),a="number";t.exports=function(t){if("string"!==t&&t!==a&&"default"!==t)throw TypeError("Incorrect hint");return i(r(this),t!=a)}},function(t,e,n){var r=n(764);r(r.S,"Array",{isArray:n(800)})},function(t,e,n){"use strict";var r=n(776),i=n(764),a=n(813),o=n(918),s=n(919),l=n(793),u=n(920),c=n(921);i(i.S+i.F*!n(922)(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,i,h,g=a(t),d="function"==typeof this?this:Array,p=arguments.length,f=p>1?arguments[1]:void 0,A=void 0!==f,C=0,I=c(g);if(A&&(f=r(f,p>2?arguments[2]:void 0,2)),void 0==I||d==Array&&s(I))for(e=l(g.length),n=new d(e);e>C;C++)u(n,C,A?f(g[C],C):g[C]);else for(h=I.call(g),n=new d;!(i=h.next()).done;C++)u(n,C,A?o(h,f,[i.value,C],!0):i.value);return n.length=C,n}})},function(t,e,n){var r=n(768);t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(e){var a=t.return;throw void 0!==a&&r(a.call(t)),e}}},function(t,e,n){var r=n(885),i=n(782)("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||a[i]===t)}},function(t,e,n){"use strict";var r=n(767),i=n(773);t.exports=function(t,e,n){e in t?r.f(t,e,i(0,n)):t[e]=n}},function(t,e,n){var r=n(830),i=n(782)("iterator"),a=n(885);t.exports=n(765).getIteratorMethod=function(t){if(void 0!=t)return t[i]||t["@@iterator"]||a[r(t)]}},function(t,e,n){var r=n(782)("iterator"),i=!1;try{var a=[7][r]();a.return=function(){i=!0},Array.from(a,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var a=[7],o=a[r]();o.next=function(){return{done:n=!0}},a[r]=function(){return o},t(a)}catch(t){}return n}},function(t,e,n){"use strict";var r=n(764),i=n(920);r(r.S+r.F*n(763)(function(){function t(){}return!(Array.of.call(t)instanceof t)}),"Array",{of:function(){for(var t=0,e=arguments.length,n=new("function"==typeof this?this:Array)(e);e>t;)i(n,t,arguments[t++]);return n.length=e,n}})},function(t,e,n){"use strict";var r=n(764),i=n(788),a=[].join;r(r.P+r.F*(n(789)!=Object||!n(925)(a)),"Array",{join:function(t){return a.call(i(this),void 0===t?",":t)}})},function(t,e,n){"use strict";var r=n(763);t.exports=function(t,e){return!!t&&r(function(){e?t.call(null,function(){},1):t.call(null)})}},function(t,e,n){"use strict";var r=n(764),i=n(803),a=n(790),o=n(795),s=n(793),l=[].slice;r(r.P+r.F*n(763)(function(){i&&l.call(i)}),"Array",{slice:function(t,e){var n=s(this.length),r=a(this);if(e=void 0===e?n:e,"Array"==r)return l.call(this,t,e);for(var i=o(t,n),u=o(e,n),c=s(u-i),h=new Array(c),g=0;g<c;g++)h[g]="String"==r?this.charAt(i+g):this[i+g];return h}})},function(t,e,n){"use strict";var r=n(764),i=n(777),a=n(813),o=n(763),s=[].sort,l=[1,2,3];r(r.P+r.F*(o(function(){l.sort(void 0)})||!o(function(){l.sort(null)})||!n(925)(s)),"Array",{sort:function(t){return void 0===t?s.call(a(this)):s.call(a(this),i(t))}})},function(t,e,n){"use strict";var r=n(764),i=n(929)(0),a=n(925)([].forEach,!0);r(r.P+r.F*!a,"Array",{forEach:function(t){return i(this,t,arguments[1])}})},function(t,e,n){var r=n(776),i=n(789),a=n(813),o=n(793),s=n(930);t.exports=function(t,e){var n=1==t,l=2==t,u=3==t,c=4==t,h=6==t,g=5==t||h,d=e||s;return function(e,s,p){for(var f,A,C=a(e),I=i(C),m=r(s,p,3),v=o(I.length),y=0,b=n?d(e,v):l?d(e,0):void 0;v>y;y++)if((g||y in I)&&(f=I[y],A=m(f,y,C),t))if(n)b[y]=A;else if(A)switch(t){case 3:return!0;case 5:return f;case 6:return y;case 2:b.push(f)}else if(c)return!1;return h?-1:u||c?c:b}}},function(t,e,n){var r=n(931);t.exports=function(t,e){return new(r(t))(e)}},function(t,e,n){var r=n(769),i=n(800),a=n(782)("species");t.exports=function(t){var e;return i(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!i(e.prototype)||(e=void 0),r(e)&&(e=e[a],null===e&&(e=void 0))),void 0===e?Array:e}},function(t,e,n){"use strict";var r=n(764),i=n(929)(1);r(r.P+r.F*!n(925)([].map,!0),"Array",{map:function(t){return i(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(764),i=n(929)(2);r(r.P+r.F*!n(925)([].filter,!0),"Array",{filter:function(t){return i(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(764),i=n(929)(3);r(r.P+r.F*!n(925)([].some,!0),"Array",{some:function(t){return i(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(764),i=n(929)(4);r(r.P+r.F*!n(925)([].every,!0),"Array",{every:function(t){return i(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(764),i=n(937);r(r.P+r.F*!n(925)([].reduce,!0),"Array",{reduce:function(t){return i(this,t,arguments.length,arguments[1],!1)}})},function(t,e,n){var r=n(777),i=n(813),a=n(789),o=n(793);t.exports=function(t,e,n,s,l){r(e);var u=i(t),c=a(u),h=o(u.length),g=l?h-1:0,d=l?-1:1;if(n<2)for(;;){if(g in c){s=c[g],g+=d;break}if(g+=d,l?g<0:h<=g)throw TypeError("Reduce of empty array with no initial value")}for(;l?g>=0:h>g;g+=d)g in c&&(s=e(s,c[g],g,u));return s}},function(t,e,n){"use strict";var r=n(764),i=n(937);r(r.P+r.F*!n(925)([].reduceRight,!0),"Array",{reduceRight:function(t){return i(this,t,arguments.length,arguments[1],!0)}})},function(t,e,n){"use strict";var r=n(764),i=n(792)(!1),a=[].indexOf,o=!!a&&1/[1].indexOf(1,-0)<0;r(r.P+r.F*(o||!n(925)(a)),"Array",{indexOf:function(t){return o?a.apply(this,arguments)||0:i(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(764),i=n(788),a=n(794),o=n(793),s=[].lastIndexOf,l=!!s&&1/[1].lastIndexOf(1,-0)<0;r(r.P+r.F*(l||!n(925)(s)),"Array",{lastIndexOf:function(t){if(l)return s.apply(this,arguments)||0;var e=i(this),n=o(e.length),r=n-1;for(arguments.length>1&&(r=Math.min(r,a(arguments[1]))),r<0&&(r=n+r);r>=0;r--)if(r in e&&e[r]===t)return r||0;return-1}})},function(t,e,n){var r=n(764);r(r.P,"Array",{copyWithin:n(942)}),n(943)("copyWithin")},function(t,e,n){"use strict";var r=n(813),i=n(795),a=n(793);t.exports=[].copyWithin||function(t,e){var n=r(this),o=a(n.length),s=i(t,o),l=i(e,o),u=arguments.length>2?arguments[2]:void 0,c=Math.min((void 0===u?o:i(u,o))-l,o-s),h=1;for(l<s&&s<l+c&&(h=-1,l+=c-1,s+=c-1);c-- >0;)l in n?n[s]=n[l]:delete n[s],s+=h,l+=h;return n}},function(t,e,n){var r=n(782)("unscopables"),i=Array.prototype;void 0==i[r]&&n(766)(i,r,{}),t.exports=function(t){i[r][t]=!0}},function(t,e,n){var r=n(764);r(r.P,"Array",{fill:n(945)}),n(943)("fill")},function(t,e,n){"use strict";var r=n(813),i=n(795),a=n(793);t.exports=function(t){for(var e=r(this),n=a(e.length),o=arguments.length,s=i(o>1?arguments[1]:void 0,n),l=o>2?arguments[2]:void 0,u=void 0===l?n:i(l,n);u>s;)e[s++]=t;return e}},function(t,e,n){"use strict";var r=n(764),i=n(929)(5),a="find",o=!0;a in[]&&Array(1)[a](function(){o=!1}),r(r.P+r.F*o,"Array",{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n(943)(a)},function(t,e,n){"use strict";var r=n(764),i=n(929)(6),a="findIndex",o=!0;a in[]&&Array(1)[a](function(){o=!1}),r(r.P+r.F*o,"Array",{findIndex:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n(943)(a)},function(t,e,n){n(949)("Array")},function(t,e,n){"use strict";var r=n(760),i=n(767),a=n(762),o=n(782)("species");t.exports=function(t){var e=r[t];a&&e&&!e[o]&&i.f(e,o,{configurable:!0,get:function(){return this}})}},function(t,e,n){"use strict";var r=n(943),i=n(951),a=n(885),o=n(788);t.exports=n(884)(Array,"Array",function(t,e){this._t=o(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,i(1)):"keys"==e?i(0,n):"values"==e?i(0,t[n]):i(0,[n,t[n]])},"values"),a.Arguments=a.Array,r("keys"),r("values"),r("entries")},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){var r=n(760),i=n(843),a=n(767).f,o=n(805).f,s=n(890),l=n(953),u=r.RegExp,c=u,h=u.prototype,g=/a/g,d=/a/g,p=new u(g)!==g;if(n(762)&&(!p||n(763)(function(){return d[n(782)("match")]=!1,u(g)!=g||u(d)==d||"/a/i"!=u(g,"i")}))){u=function(t,e){var n=this instanceof u,r=s(t),a=void 0===e;return!n&&r&&t.constructor===u&&a?t:i(p?new c(r&&!a?t.source:t,e):c((r=t instanceof u)?t.source:t,r&&a?l.call(t):e),n?this:h,u)};for(var f=(function(t){t in u||a(u,t,{configurable:!0,get:function(){return c[t]},set:function(e){c[t]=e}})}),A=o(c),C=0;A.length>C;)f(A[C++]);h.constructor=u,u.prototype=h,n(774)(r,"RegExp",u)}n(949)("RegExp")},function(t,e,n){"use strict";var r=n(768);t.exports=function(){var t=r(this),e="";
return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,n){"use strict";var r=n(955);n(764)({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},function(t,e,n){"use strict";var r=n(953),i=RegExp.prototype.exec,a=String.prototype.replace,o=i,s="lastIndex",l=function(){var t=/a/,e=/b*/g;return i.call(t,"a"),i.call(e,"a"),0!==t[s]||0!==e[s]}(),u=void 0!==/()??/.exec("")[1],c=l||u;c&&(o=function(t){var e,n,o,c,h=this;return u&&(n=new RegExp("^"+h.source+"$(?!\\s)",r.call(h))),l&&(e=h[s]),o=i.call(h,t),l&&o&&(h[s]=h.global?o.index+o[0].length:e),u&&o&&o.length>1&&a.call(o[0],n,function(){for(c=1;c<arguments.length-2;c++)void 0===arguments[c]&&(o[c]=void 0)}),o}),t.exports=o},function(t,e,n){"use strict";n(957);var r=n(768),i=n(953),a=n(762),o="toString",s=/./[o],l=function(t){n(774)(RegExp.prototype,o,t,!0)};n(763)(function(){return"/a/b"!=s.call({source:"a",flags:"b"})})?l(function(){var t=r(this);return"/".concat(t.source,"/","flags"in t?t.flags:!a&&t instanceof RegExp?i.call(t):void 0)}):s.name!=o&&l(function(){return s.call(this)})},function(t,e,n){n(762)&&"g"!=/./g.flags&&n(767).f(RegExp.prototype,"flags",{configurable:!0,get:n(953)})},function(t,e,n){"use strict";var r=n(768),i=n(793),a=n(959),o=n(960);n(961)("match",1,function(t,e,n,s){return[function(n){var r=t(this),i=void 0==n?void 0:n[e];return void 0!==i?i.call(n,r):new RegExp(n)[e](String(r))},function(t){var e=s(n,t,this);if(e.done)return e.value;var l=r(t),u=String(this);if(!l.global)return o(l,u);var c=l.unicode;l.lastIndex=0;for(var h,g=[],d=0;null!==(h=o(l,u));){var p=String(h[0]);g[d]=p,""===p&&(l.lastIndex=a(u,i(l.lastIndex),c)),d++}return 0===d?null:g}]})},function(t,e,n){"use strict";var r=n(883)(!0);t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},function(t,e,n){"use strict";var r=n(830),i=RegExp.prototype.exec;t.exports=function(t,e){var n=t.exec;if("function"==typeof n){var a=n.call(t,e);if("object"!=typeof a)throw new TypeError("RegExp exec method returned something other than an Object or null");return a}if("RegExp"!==r(t))throw new TypeError("RegExp#exec called on incompatible receiver");return i.call(t,e)}},function(t,e,n){"use strict";n(954);var r=n(774),i=n(766),a=n(763),o=n(791),s=n(782),l=n(955),u=s("species"),c=!a(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}),h=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();t.exports=function(t,e,n){var g=s(t),d=!a(function(){var e={};return e[g]=function(){return 7},7!=""[t](e)}),p=d?!a(function(){var e=!1,n=/a/;return n.exec=function(){return e=!0,null},"split"===t&&(n.constructor={},n.constructor[u]=function(){return n}),n[g](""),!e}):void 0;if(!d||!p||"replace"===t&&!c||"split"===t&&!h){var f=/./[g],A=n(o,g,""[t],function(t,e,n,r,i){return e.exec===l?d&&!i?{done:!0,value:f.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}}),C=A[0],I=A[1];r(String.prototype,t,C),i(RegExp.prototype,g,2==e?function(t,e){return I.call(t,this,e)}:function(t){return I.call(t,this)})}}},function(t,e,n){"use strict";var r=n(768),i=n(813),a=n(793),o=n(794),s=n(959),l=n(960),u=Math.max,c=Math.min,h=Math.floor,g=/\$([$&`']|\d\d?|<[^>]*>)/g,d=/\$([$&`']|\d\d?)/g,p=function(t){return void 0===t?t:String(t)};n(961)("replace",2,function(t,e,n,f){function A(t,e,r,a,o,s){var l=r+t.length,u=a.length,c=d;return void 0!==o&&(o=i(o),c=g),n.call(s,c,function(n,i){var s;switch(i.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,r);case"'":return e.slice(l);case"<":s=o[i.slice(1,-1)];break;default:var c=+i;if(0===c)return n;if(c>u){var g=h(c/10);return 0===g?n:g<=u?void 0===a[g-1]?i.charAt(1):a[g-1]+i.charAt(1):n}s=a[c-1]}return void 0===s?"":s})}return[function(r,i){var a=t(this),o=void 0==r?void 0:r[e];return void 0!==o?o.call(r,a,i):n.call(String(a),r,i)},function(t,e){var i=f(n,t,this,e);if(i.done)return i.value;var h=r(t),g=String(this),d="function"==typeof e;d||(e=String(e));var C=h.global;if(C){var I=h.unicode;h.lastIndex=0}for(var m=[];;){var v=l(h,g);if(null===v)break;if(m.push(v),!C)break;var y=String(v[0]);""===y&&(h.lastIndex=s(g,a(h.lastIndex),I))}for(var b="",x=0,w=0;w<m.length;w++){v=m[w];for(var S=String(v[0]),T=u(c(o(v.index),g.length),0),N=[],E=1;E<v.length;E++)N.push(p(v[E]));var k=v.groups;if(d){var O=[S].concat(N,T,g);void 0!==k&&O.push(k);var M=String(e.apply(void 0,O))}else M=A(S,g,T,N,k,e);T>=x&&(b+=g.slice(x,T)+M,x=T+S.length)}return b+g.slice(x)}]})},function(t,e,n){"use strict";var r=n(768),i=n(826),a=n(960);n(961)("search",1,function(t,e,n,o){return[function(n){var r=t(this),i=void 0==n?void 0:n[e];return void 0!==i?i.call(n,r):new RegExp(n)[e](String(r))},function(t){var e=o(n,t,this);if(e.done)return e.value;var s=r(t),l=String(this),u=s.lastIndex;i(u,0)||(s.lastIndex=0);var c=a(s,l);return i(s.lastIndex,u)||(s.lastIndex=u),null===c?-1:c.index}]})},function(t,e,n){"use strict";var r=n(890),i=n(768),a=n(965),o=n(959),s=n(793),l=n(960),u=n(955),c=Math.min,h=[].push,g="split",d="length",p="lastIndex",f=!!function(){try{return new RegExp("x","y")}catch(t){}}();n(961)("split",2,function(t,e,n,A){var C;return C="c"=="abbc"[g](/(b)*/)[1]||4!="test"[g](/(?:)/,-1)[d]||2!="ab"[g](/(?:ab)*/)[d]||4!="."[g](/(.?)(.?)/)[d]||"."[g](/()()/)[d]>1||""[g](/.?/)[d]?function(t,e){var i=String(this);if(void 0===t&&0===e)return[];if(!r(t))return n.call(i,t,e);for(var a,o,s,l=[],c=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),g=0,f=void 0===e?4294967295:e>>>0,A=new RegExp(t.source,c+"g");(a=u.call(A,i))&&(o=A[p],!(o>g&&(l.push(i.slice(g,a.index)),a[d]>1&&a.index<i[d]&&h.apply(l,a.slice(1)),s=a[0][d],g=o,l[d]>=f)));)A[p]===a.index&&A[p]++;return g===i[d]?!s&&A.test("")||l.push(""):l.push(i.slice(g)),l[d]>f?l.slice(0,f):l}:"0"[g](void 0,0)[d]?function(t,e){return void 0===t&&0===e?[]:n.call(this,t,e)}:n,[function(n,r){var i=t(this),a=void 0==n?void 0:n[e];return void 0!==a?a.call(n,i,r):C.call(String(i),n,r)},function(t,e){var r=A(C,t,this,e,C!==n);if(r.done)return r.value;var u=i(t),h=String(this),g=a(u,RegExp),d=u.unicode,p=(u.ignoreCase?"i":"")+(u.multiline?"m":"")+(u.unicode?"u":"")+(f?"y":"g"),I=new g(f?u:"^(?:"+u.source+")",p),m=void 0===e?4294967295:e>>>0;if(0===m)return[];if(0===h.length)return null===l(I,h)?[h]:[];for(var v=0,y=0,b=[];y<h.length;){I.lastIndex=f?y:0;var x,w=l(I,f?h:h.slice(y));if(null===w||(x=c(s(I.lastIndex+(f?0:y)),h.length))===v)y=o(h,y,d);else{if(b.push(h.slice(v,y)),b.length===m)return b;for(var S=1;S<=w.length-1;S++)if(b.push(w[S]),b.length===m)return b;y=v=x}}return b.push(h.slice(v)),b}]})},function(t,e,n){var r=n(768),i=n(777),a=n(782)("species");t.exports=function(t,e){var n,o=r(t).constructor;return void 0===o||void 0==(n=r(o)[a])?e:i(n)}},function(t,e,n){"use strict";var r,i,a,o,s=n(780),l=n(760),u=n(776),c=n(830),h=n(764),g=n(769),d=n(777),p=n(967),f=n(968),A=n(965),C=n(969).set,I=n(970)(),m=n(971),v=n(972),y=n(973),b=n(974),x="Promise",w=l.TypeError,S=l.process,T=S&&S.versions,N=T&&T.v8||"",E=l[x],k="process"==c(S),O=function(){},M=i=m.f,R=!!function(){try{var t=E.resolve(1),e=(t.constructor={})[n(782)("species")]=function(t){t(O,O)};return(k||"function"==typeof PromiseRejectionEvent)&&t.then(O)instanceof e&&0!==N.indexOf("6.6")&&y.indexOf("Chrome/66")===-1}catch(t){}}(),D=function(t){var e;return!(!g(t)||"function"!=typeof(e=t.then))&&e},_=function(t,e){if(!t._n){t._n=!0;var n=t._c;I(function(){for(var r=t._v,i=1==t._s,a=0,o=function(e){var n,a,o,s=i?e.ok:e.fail,l=e.resolve,u=e.reject,c=e.domain;try{s?(i||(2==t._h&&z(t),t._h=1),s===!0?n=r:(c&&c.enter(),n=s(r),c&&(c.exit(),o=!0)),n===e.promise?u(w("Promise-chain cycle")):(a=D(n))?a.call(n,l,u):l(n)):u(r)}catch(t){c&&!o&&c.exit(),u(t)}};n.length>a;)o(n[a++]);t._c=[],t._n=!1,e&&!t._h&&P(t)})}},P=function(t){C.call(l,function(){var e,n,r,i=t._v,a=L(t);if(a&&(e=v(function(){k?S.emit("unhandledRejection",i,t):(n=l.onunhandledrejection)?n({promise:t,reason:i}):(r=l.console)&&r.error&&r.error("Unhandled promise rejection",i)}),t._h=k||L(t)?2:1),t._a=void 0,a&&e.e)throw e.v})},L=function(t){return 1!==t._h&&0===(t._a||t._c).length},z=function(t){C.call(l,function(){var e;k?S.emit("rejectionHandled",t):(e=l.onrejectionhandled)&&e({promise:t,reason:t._v})})},F=function(t){var e=this;e._d||(e._d=!0,e=e._w||e,e._v=t,e._s=2,e._a||(e._a=e._c.slice()),_(e,!0))},B=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw w("Promise can't be resolved itself");(e=D(t))?I(function(){var r={_w:n,_d:!1};try{e.call(t,u(B,r,1),u(F,r,1))}catch(t){F.call(r,t)}}):(n._v=t,n._s=1,_(n,!1))}catch(t){F.call({_w:n,_d:!1},t)}}};R||(E=function(t){p(this,E,x,"_h"),d(t),r.call(this);try{t(u(B,this,1),u(F,this,1))}catch(t){F.call(this,t)}},r=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},r.prototype=n(975)(E.prototype,{then:function(t,e){var n=M(A(this,E));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=k?S.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&_(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),a=function(){var t=new r;this.promise=t,this.resolve=u(B,t,1),this.reject=u(F,t,1)},m.f=M=function(t){return t===E||t===o?new a(t):i(t)}),h(h.G+h.W+h.F*!R,{Promise:E}),n(781)(E,x),n(949)(x),o=n(765)[x],h(h.S+h.F*!R,x,{reject:function(t){var e=M(this),n=e.reject;return n(t),e.promise}}),h(h.S+h.F*(s||!R),x,{resolve:function(t){return b(s&&this===o?E:this,t)}}),h(h.S+h.F*!(R&&n(922)(function(t){E.all(t).catch(O)})),x,{all:function(t){var e=this,n=M(e),r=n.resolve,i=n.reject,a=v(function(){var n=[],a=0,o=1;f(t,!1,function(t){var s=a++,l=!1;n.push(void 0),o++,e.resolve(t).then(function(t){l||(l=!0,n[s]=t,--o||r(n))},i)}),--o||r(n)});return a.e&&i(a.v),n.promise},race:function(t){var e=this,n=M(e),r=n.reject,i=v(function(){f(t,!1,function(t){e.resolve(t).then(n.resolve,r)})});return i.e&&r(i.v),n.promise}})},function(t,e){t.exports=function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e,n){var r=n(776),i=n(918),a=n(919),o=n(768),s=n(793),l=n(921),u={},c={},e=t.exports=function(t,e,n,h,g){var d,p,f,A,C=g?function(){return t}:l(t),I=r(n,h,e?2:1),m=0;if("function"!=typeof C)throw TypeError(t+" is not iterable!");if(a(C)){for(d=s(t.length);d>m;m++)if(A=e?I(o(p=t[m])[0],p[1]):I(t[m]),A===u||A===c)return A}else for(f=C.call(t);!(p=f.next()).done;)if(A=i(f,I,p.value,e),A===u||A===c)return A};e.BREAK=u,e.RETURN=c},function(t,e,n){var r,i,a,o=n(776),s=n(833),l=n(803),u=n(771),c=n(760),h=c.process,g=c.setImmediate,d=c.clearImmediate,p=c.MessageChannel,f=c.Dispatch,A=0,C={},I="onreadystatechange",m=function(){var t=+this;if(C.hasOwnProperty(t)){var e=C[t];delete C[t],e()}},v=function(t){m.call(t.data)};g&&d||(g=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return C[++A]=function(){s("function"==typeof t?t:Function(t),e)},r(A),A},d=function(t){delete C[t]},"process"==n(790)(h)?r=function(t){h.nextTick(o(m,t,1))}:f&&f.now?r=function(t){f.now(o(m,t,1))}:p?(i=new p,a=i.port2,i.port1.onmessage=v,r=o(a.postMessage,a,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(r=function(t){c.postMessage(t+"","*")},c.addEventListener("message",v,!1)):r=I in u("script")?function(t){l.appendChild(u("script"))[I]=function(){l.removeChild(this),m.call(t)}}:function(t){setTimeout(o(m,t,1),0)}),t.exports={set:g,clear:d}},function(t,e,n){var r=n(760),i=n(969).set,a=r.MutationObserver||r.WebKitMutationObserver,o=r.process,s=r.Promise,l="process"==n(790)(o);t.exports=function(){var t,e,n,u=function(){var r,i;for(l&&(r=o.domain)&&r.exit();t;){i=t.fn,t=t.next;try{i()}catch(r){throw t?n():e=void 0,r}}e=void 0,r&&r.enter()};if(l)n=function(){o.nextTick(u)};else if(!a||r.navigator&&r.navigator.standalone)if(s&&s.resolve){var c=s.resolve(void 0);n=function(){c.then(u)}}else n=function(){i.call(r,u)};else{var h=!0,g=document.createTextNode("");new a(u).observe(g,{characterData:!0}),n=function(){g.data=h=!h}}return function(r){var i={fn:r,next:void 0};e&&(e.next=i),t||(t=i,n()),e=i}}},function(t,e,n){"use strict";function r(t){var e,n;this.promise=new t(function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r}),this.resolve=i(e),this.reject=i(n)}var i=n(777);t.exports.f=function(t){return new r(t)}},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,e,n){var r=n(760),i=r.navigator;t.exports=i&&i.userAgent||""},function(t,e,n){var r=n(768),i=n(769),a=n(971);t.exports=function(t,e){if(r(t),i(e)&&e.constructor===t)return e;var n=a.f(t),o=n.resolve;return o(e),n.promise}},function(t,e,n){var r=n(774);t.exports=function(t,e,n){for(var i in e)r(t,i,e[i],n);return t}},function(t,e,n){"use strict";var r=n(977),i=n(978),a="Map";t.exports=n(979)(a,function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{get:function(t){var e=r.getEntry(i(this,a),t);return e&&e.v},set:function(t,e){return r.def(i(this,a),0===t?0:t,e)}},r,!0)},function(t,e,n){"use strict";var r=n(767).f,i=n(801),a=n(975),o=n(776),s=n(967),l=n(968),u=n(884),c=n(951),h=n(949),g=n(762),d=n(778).fastKey,p=n(978),f=g?"_s":"size",A=function(t,e){var n,r=d(e);if("F"!==r)return t._i[r];for(n=t._f;n;n=n.n)if(n.k==e)return n};t.exports={getConstructor:function(t,e,n,u){var c=t(function(t,r){s(t,c,e,"_i"),t._t=e,t._i=i(null),t._f=void 0,t._l=void 0,t[f]=0,void 0!=r&&l(r,n,t[u],t)});return a(c.prototype,{clear:function(){for(var t=p(this,e),n=t._i,r=t._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];t._f=t._l=void 0,t[f]=0},delete:function(t){var n=p(this,e),r=A(n,t);if(r){var i=r.n,a=r.p;delete n._i[r.i],r.r=!0,a&&(a.n=i),i&&(i.p=a),n._f==r&&(n._f=i),n._l==r&&(n._l=a),n[f]--}return!!r},forEach:function(t){p(this,e);for(var n,r=o(t,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(t){return!!A(p(this,e),t)}}),g&&r(c.prototype,"size",{get:function(){return p(this,e)[f]}}),c},def:function(t,e,n){var r,i,a=A(t,e);return a?a.v=n:(t._l=a={i:i=d(e,!0),k:e,v:n,p:r=t._l,n:void 0,r:!1},t._f||(t._f=a),r&&(r.n=a),t[f]++,"F"!==i&&(t._i[i]=a)),t},getEntry:A,setStrong:function(t,e,n){u(t,e,function(t,n){this._t=p(t,e),this._k=n,this._l=void 0},function(){for(var t=this,e=t._k,n=t._l;n&&n.r;)n=n.p;return t._t&&(t._l=n=n?n.n:t._t._f)?"keys"==e?c(0,n.k):"values"==e?c(0,n.v):c(0,[n.k,n.v]):(t._t=void 0,c(1))},n?"entries":"values",!n,!0),h(e)}}},function(t,e,n){var r=n(769);t.exports=function(t,e){if(!r(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},function(t,e,n){"use strict";var r=n(760),i=n(764),a=n(774),o=n(975),s=n(778),l=n(968),u=n(967),c=n(769),h=n(763),g=n(922),d=n(781),p=n(843);t.exports=function(t,e,n,f,A,C){var I=r[t],m=I,v=A?"set":"add",y=m&&m.prototype,b={},x=function(t){var e=y[t];a(y,t,"delete"==t?function(t){return!(C&&!c(t))&&e.call(this,0===t?0:t)}:"has"==t?function(t){return!(C&&!c(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return C&&!c(t)?void 0:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,n){return e.call(this,0===t?0:t,n),this})};if("function"==typeof m&&(C||y.forEach&&!h(function(){(new m).entries().next()}))){var w=new m,S=w[v](C?{}:-0,1)!=w,T=h(function(){w.has(1)}),N=g(function(t){new m(t)}),E=!C&&h(function(){for(var t=new m,e=5;e--;)t[v](e,e);return!t.has(-0)});N||(m=e(function(e,n){u(e,m,t);var r=p(new I,e,m);return void 0!=n&&l(n,A,r[v],r),r}),m.prototype=y,y.constructor=m),(T||E)&&(x("delete"),x("has"),A&&x("get")),(E||S)&&x(v),C&&y.clear&&delete y.clear}else m=f.getConstructor(e,t,A,v),o(m.prototype,n),s.NEED=!0;return d(m,t),b[t]=m,i(i.G+i.W+i.F*(m!=I),b),C||f.setStrong(m,t,A),m}},function(t,e,n){"use strict";var r=n(977),i=n(978),a="Set";t.exports=n(979)(a,function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return r.def(i(this,a),t=0===t?0:t,t)}},r)},function(t,e,n){"use strict";var r,i=n(929)(0),a=n(774),o=n(778),s=n(824),l=n(982),u=n(769),c=n(763),h=n(978),g="WeakMap",d=o.getWeak,p=Object.isExtensible,f=l.ufstore,A={},C=function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},I={get:function(t){if(u(t)){var e=d(t);return e===!0?f(h(this,g)).get(t):e?e[this._i]:void 0}},set:function(t,e){return l.def(h(this,g),t,e)}},m=t.exports=n(979)(g,C,I,l,!0,!0);c(function(){return 7!=(new m).set((Object.freeze||Object)(A),7).get(A)})&&(r=l.getConstructor(C,g),s(r.prototype,I),o.NEED=!0,i(["delete","has","get","set"],function(t){var e=m.prototype,n=e[t];a(e,t,function(e,i){if(u(e)&&!p(e)){this._f||(this._f=new r);var a=this._f[t](e,i);return"set"==t?this:a}return n.call(this,e,i)})}))},function(t,e,n){"use strict";var r=n(975),i=n(778).getWeak,a=n(768),o=n(769),s=n(967),l=n(968),u=n(929),c=n(761),h=n(978),g=u(5),d=u(6),p=0,f=function(t){return t._l||(t._l=new A)},A=function(){this.a=[]},C=function(t,e){return g(t.a,function(t){return t[0]===e})};A.prototype={get:function(t){var e=C(this,t);if(e)return e[1]},has:function(t){return!!C(this,t)},set:function(t,e){var n=C(this,t);n?n[1]=e:this.a.push([t,e])},delete:function(t){var e=d(this.a,function(e){return e[0]===t});return~e&&this.a.splice(e,1),!!~e}},t.exports={getConstructor:function(t,e,n,a){var u=t(function(t,r){s(t,u,e,"_i"),t._t=e,t._i=p++,t._l=void 0,void 0!=r&&l(r,n,t[a],t)});return r(u.prototype,{delete:function(t){if(!o(t))return!1;var n=i(t);return n===!0?f(h(this,e)).delete(t):n&&c(n,this._i)&&delete n[this._i]},has:function(t){if(!o(t))return!1;var n=i(t);return n===!0?f(h(this,e)).has(t):n&&c(n,this._i)}}),u},def:function(t,e,n){var r=i(a(e),!0);return r===!0?f(t).set(e,n):r[t._i]=n,t},ufstore:f}},function(t,e,n){"use strict";var r=n(982),i=n(978),a="WeakSet";n(979)(a,function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return r.def(i(this,a),t,!0)}},r,!1,!0)},function(t,e,n){"use strict";var r=n(764),i=n(985),a=n(986),o=n(768),s=n(795),l=n(793),u=n(769),c=n(760).ArrayBuffer,h=n(965),g=a.ArrayBuffer,d=a.DataView,p=i.ABV&&c.isView,f=g.prototype.slice,A=i.VIEW,C="ArrayBuffer";r(r.G+r.W+r.F*(c!==g),{ArrayBuffer:g}),r(r.S+r.F*!i.CONSTR,C,{isView:function(t){return p&&p(t)||u(t)&&A in t}}),r(r.P+r.U+r.F*n(763)(function(){return!new g(2).slice(1,void 0).byteLength}),C,{slice:function(t,e){if(void 0!==f&&void 0===e)return f.call(o(this),t);for(var n=o(this).byteLength,r=s(t,n),i=s(void 0===e?n:e,n),a=new(h(this,g))(l(i-r)),u=new d(this),c=new d(a),p=0;r<i;)c.setUint8(p++,u.getUint8(r++));return a}}),n(949)(C)},function(t,e,n){for(var r,i=n(760),a=n(766),o=n(775),s=o("typed_array"),l=o("view"),u=!(!i.ArrayBuffer||!i.DataView),c=u,h=0,g=9,d="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");h<g;)(r=i[d[h++]])?(a(r.prototype,s,!0),a(r.prototype,l,!0)):c=!1;t.exports={ABV:u,CONSTR:c,TYPED:s,VIEW:l}},function(t,e,n){"use strict";function r(t,e,n){var r,i,a,o=new Array(n),s=8*n-e-1,l=(1<<s)-1,u=l>>1,c=23===e?j(2,-24)-j(2,-77):0,h=0,g=t<0||0===t&&1/t<0?1:0;for(t=V(t),t!=t||t===F?(i=t!=t?1:0,r=l):(r=W(G(t)/U),t*(a=j(2,-r))<1&&(r--,a*=2),t+=r+u>=1?c/a:c*j(2,1-u),t*a>=2&&(r++,a/=2),r+u>=l?(i=0,r=l):r+u>=1?(i=(t*a-1)*j(2,e),r+=u):(i=t*j(2,u-1)*j(2,e),r=0));e>=8;o[h++]=255&i,i/=256,e-=8);for(r=r<<e|i,s+=e;s>0;o[h++]=255&r,r/=256,s-=8);return o[--h]|=128*g,o}function i(t,e,n){var r,i=8*n-e-1,a=(1<<i)-1,o=a>>1,s=i-7,l=n-1,u=t[l--],c=127&u;for(u>>=7;s>0;c=256*c+t[l],l--,s-=8);for(r=c&(1<<-s)-1,c>>=-s,s+=e;s>0;r=256*r+t[l],l--,s-=8);if(0===c)c=1-o;else{if(c===a)return r?NaN:u?-F:F;r+=j(2,e),c-=o}return(u?-1:1)*r*j(2,c-e)}function a(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]}function o(t){return[255&t]}function s(t){return[255&t,t>>8&255]}function l(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function u(t){return r(t,52,8)}function c(t){return r(t,23,4)}function h(t,e,n){T(t[M],e,{get:function(){return this[n]}})}function g(t,e,n,r){var i=+n,a=w(i);if(a+e>t[q])throw z(D);var o=t[X]._b,s=a+t[K],l=o.slice(s,s+e);return r?l:l.reverse()}function d(t,e,n,r,i,a){var o=+n,s=w(o);if(s+e>t[q])throw z(D);for(var l=t[X]._b,u=s+t[K],c=r(+i),h=0;h<e;h++)l[u+h]=c[a?h:e-h-1]}var p=n(760),f=n(762),A=n(780),C=n(985),I=n(766),m=n(975),v=n(763),y=n(967),b=n(794),x=n(793),w=n(987),S=n(805).f,T=n(767).f,N=n(945),E=n(781),k="ArrayBuffer",O="DataView",M="prototype",R="Wrong length!",D="Wrong index!",_=p[k],P=p[O],L=p.Math,z=p.RangeError,F=p.Infinity,B=_,V=L.abs,j=L.pow,W=L.floor,G=L.log,U=L.LN2,H="buffer",Z="byteLength",Y="byteOffset",X=f?"_b":H,q=f?"_l":Z,K=f?"_o":Y;if(C.ABV){if(!v(function(){_(1)})||!v(function(){new _(-1)})||v(function(){return new _,new _(1.5),new _(NaN),_.name!=k})){_=function(t){return y(this,_),new B(w(t))};for(var J,Q=_[M]=B[M],$=S(B),tt=0;$.length>tt;)(J=$[tt++])in _||I(_,J,B[J]);A||(Q.constructor=_)}var et=new P(new _(2)),nt=P[M].setInt8;et.setInt8(0,2147483648),et.setInt8(1,2147483649),!et.getInt8(0)&&et.getInt8(1)||m(P[M],{setInt8:function(t,e){nt.call(this,t,e<<24>>24)},setUint8:function(t,e){nt.call(this,t,e<<24>>24)}},!0)}else _=function(t){y(this,_,k);var e=w(t);this._b=N.call(new Array(e),0),this[q]=e},P=function(t,e,n){y(this,P,O),y(t,_,O);var r=t[q],i=b(e);if(i<0||i>r)throw z("Wrong offset!");if(n=void 0===n?r-i:x(n),i+n>r)throw z(R);this[X]=t,this[K]=i,this[q]=n},f&&(h(_,Z,"_l"),h(P,H,"_b"),h(P,Z,"_l"),h(P,Y,"_o")),m(P[M],{getInt8:function(t){return g(this,1,t)[0]<<24>>24},getUint8:function(t){return g(this,1,t)[0]},getInt16:function(t){var e=g(this,2,t,arguments[1]);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=g(this,2,t,arguments[1]);return e[1]<<8|e[0]},getInt32:function(t){return a(g(this,4,t,arguments[1]))},getUint32:function(t){return a(g(this,4,t,arguments[1]))>>>0},getFloat32:function(t){return i(g(this,4,t,arguments[1]),23,4)},getFloat64:function(t){return i(g(this,8,t,arguments[1]),52,8)},setInt8:function(t,e){d(this,1,t,o,e)},setUint8:function(t,e){d(this,1,t,o,e)},setInt16:function(t,e){d(this,2,t,s,e,arguments[2])},setUint16:function(t,e){d(this,2,t,s,e,arguments[2])},setInt32:function(t,e){d(this,4,t,l,e,arguments[2])},setUint32:function(t,e){d(this,4,t,l,e,arguments[2])},setFloat32:function(t,e){d(this,4,t,c,e,arguments[2])},setFloat64:function(t,e){d(this,8,t,u,e,arguments[2])}});E(_,k),E(P,O),I(P[M],C.VIEW,!0),e[k]=_,e[O]=P},function(t,e,n){var r=n(794),i=n(793);t.exports=function(t){if(void 0===t)return 0;var e=r(t),n=i(e);if(e!==n)throw RangeError("Wrong length!");return n}},function(t,e,n){var r=n(764);r(r.G+r.W+r.F*!n(985).ABV,{DataView:n(986).DataView})},function(t,e,n){n(990)("Int8",1,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){"use strict";if(n(762)){var r=n(780),i=n(760),a=n(763),o=n(764),s=n(985),l=n(986),u=n(776),c=n(967),h=n(773),g=n(766),d=n(975),p=n(794),f=n(793),A=n(987),C=n(795),I=n(772),m=n(761),v=n(830),y=n(769),b=n(813),x=n(919),w=n(801),S=n(814),T=n(805).f,N=n(921),E=n(775),k=n(782),O=n(929),M=n(792),R=n(965),D=n(950),_=n(885),P=n(922),L=n(949),z=n(945),F=n(942),B=n(767),V=n(806),j=B.f,W=V.f,G=i.RangeError,U=i.TypeError,H=i.Uint8Array,Z="ArrayBuffer",Y="Shared"+Z,X="BYTES_PER_ELEMENT",q="prototype",K=Array[q],J=l.ArrayBuffer,Q=l.DataView,$=O(0),tt=O(2),et=O(3),nt=O(4),rt=O(5),it=O(6),at=M(!0),ot=M(!1),st=D.values,lt=D.keys,ut=D.entries,ct=K.lastIndexOf,ht=K.reduce,gt=K.reduceRight,dt=K.join,pt=K.sort,ft=K.slice,At=K.toString,Ct=K.toLocaleString,It=k("iterator"),mt=k("toStringTag"),vt=E("typed_constructor"),yt=E("def_constructor"),bt=s.CONSTR,xt=s.TYPED,wt=s.VIEW,St="Wrong length!",Tt=O(1,function(t,e){return Mt(R(t,t[yt]),e)}),Nt=a(function(){return 1===new H(new Uint16Array([1]).buffer)[0]}),Et=!!H&&!!H[q].set&&a(function(){new H(1).set({})}),kt=function(t,e){var n=p(t);if(n<0||n%e)throw G("Wrong offset!");return n},Ot=function(t){if(y(t)&&xt in t)return t;throw U(t+" is not a typed array!")},Mt=function(t,e){if(!(y(t)&&vt in t))throw U("It is not a typed array constructor!");return new t(e)},Rt=function(t,e){return Dt(R(t,t[yt]),e)},Dt=function(t,e){for(var n=0,r=e.length,i=Mt(t,r);r>n;)i[n]=e[n++];return i},_t=function(t,e,n){j(t,e,{get:function(){return this._d[n]}})},Pt=function(t){var e,n,r,i,a,o,s=b(t),l=arguments.length,c=l>1?arguments[1]:void 0,h=void 0!==c,g=N(s);if(void 0!=g&&!x(g)){for(o=g.call(s),r=[],e=0;!(a=o.next()).done;e++)r.push(a.value);s=r}for(h&&l>2&&(c=u(c,arguments[2],2)),e=0,n=f(s.length),i=Mt(this,n);n>e;e++)i[e]=h?c(s[e],e):s[e];return i},Lt=function(){for(var t=0,e=arguments.length,n=Mt(this,e);e>t;)n[t]=arguments[t++];return n},zt=!!H&&a(function(){Ct.call(new H(1))}),Ft=function(){return Ct.apply(zt?ft.call(Ot(this)):Ot(this),arguments)},Bt={copyWithin:function(t,e){return F.call(Ot(this),t,e,arguments.length>2?arguments[2]:void 0)},every:function(t){return nt(Ot(this),t,arguments.length>1?arguments[1]:void 0)},fill:function(t){return z.apply(Ot(this),arguments)},filter:function(t){return Rt(this,tt(Ot(this),t,arguments.length>1?arguments[1]:void 0))},find:function(t){return rt(Ot(this),t,arguments.length>1?arguments[1]:void 0)},findIndex:function(t){return it(Ot(this),t,arguments.length>1?arguments[1]:void 0)},forEach:function(t){$(Ot(this),t,arguments.length>1?arguments[1]:void 0)},indexOf:function(t){return ot(Ot(this),t,arguments.length>1?arguments[1]:void 0)},includes:function(t){return at(Ot(this),t,arguments.length>1?arguments[1]:void 0)},join:function(t){return dt.apply(Ot(this),arguments)},lastIndexOf:function(t){return ct.apply(Ot(this),arguments)},map:function(t){return Tt(Ot(this),t,arguments.length>1?arguments[1]:void 0)},reduce:function(t){return ht.apply(Ot(this),arguments)},reduceRight:function(t){return gt.apply(Ot(this),arguments)},reverse:function(){for(var t,e=this,n=Ot(e).length,r=Math.floor(n/2),i=0;i<r;)t=e[i],e[i++]=e[--n],e[n]=t;return e},some:function(t){return et(Ot(this),t,arguments.length>1?arguments[1]:void 0)},sort:function(t){return pt.call(Ot(this),t)},subarray:function(t,e){var n=Ot(this),r=n.length,i=C(t,r);return new(R(n,n[yt]))(n.buffer,n.byteOffset+i*n.BYTES_PER_ELEMENT,f((void 0===e?r:C(e,r))-i))}},Vt=function(t,e){return Rt(this,ft.call(Ot(this),t,e))},jt=function(t){Ot(this);var e=kt(arguments[1],1),n=this.length,r=b(t),i=f(r.length),a=0;if(i+e>n)throw G(St);for(;a<i;)this[e+a]=r[a++]},Wt={entries:function(){return ut.call(Ot(this))},keys:function(){return lt.call(Ot(this))},values:function(){return st.call(Ot(this))}},Gt=function(t,e){return y(t)&&t[xt]&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},Ut=function(t,e){return Gt(t,e=I(e,!0))?h(2,t[e]):W(t,e)},Ht=function(t,e,n){return!(Gt(t,e=I(e,!0))&&y(n)&&m(n,"value"))||m(n,"get")||m(n,"set")||n.configurable||m(n,"writable")&&!n.writable||m(n,"enumerable")&&!n.enumerable?j(t,e,n):(t[e]=n.value,t)};bt||(V.f=Ut,B.f=Ht),o(o.S+o.F*!bt,"Object",{getOwnPropertyDescriptor:Ut,defineProperty:Ht}),a(function(){At.call({})})&&(At=Ct=function(){return dt.call(this)});var Zt=d({},Bt);d(Zt,Wt),g(Zt,It,Wt.values),d(Zt,{slice:Vt,set:jt,constructor:function(){},toString:At,toLocaleString:Ft}),_t(Zt,"buffer","b"),_t(Zt,"byteOffset","o"),_t(Zt,"byteLength","l"),_t(Zt,"length","e"),j(Zt,mt,{get:function(){return this[xt]}}),t.exports=function(t,e,n,l){l=!!l;var u=t+(l?"Clamped":"")+"Array",h="get"+t,d="set"+t,p=i[u],C=p||{},I=p&&S(p),m=!p||!s.ABV,b={},x=p&&p[q],N=function(t,n){var r=t._d;return r.v[h](n*e+r.o,Nt)},E=function(t,n,r){var i=t._d;l&&(r=(r=Math.round(r))<0?0:r>255?255:255&r),i.v[d](n*e+i.o,r,Nt)},k=function(t,e){j(t,e,{get:function(){return N(this,e)},set:function(t){return E(this,e,t)},enumerable:!0})};m?(p=n(function(t,n,r,i){c(t,p,u,"_d");var a,o,s,l,h=0,d=0;if(y(n)){if(!(n instanceof J||(l=v(n))==Z||l==Y))return xt in n?Dt(p,n):Pt.call(p,n);a=n,d=kt(r,e);var C=n.byteLength;if(void 0===i){if(C%e)throw G(St);if(o=C-d,o<0)throw G(St)}else if(o=f(i)*e,o+d>C)throw G(St);s=o/e}else s=A(n),o=s*e,a=new J(o);for(g(t,"_d",{b:a,o:d,l:o,e:s,v:new Q(a)});h<s;)k(t,h++)}),x=p[q]=w(Zt),g(x,"constructor",p)):a(function(){p(1)})&&a(function(){new p(-1)})&&P(function(t){new p,new p(null),new p(1.5),new p(t)},!0)||(p=n(function(t,n,r,i){c(t,p,u);var a;return y(n)?n instanceof J||(a=v(n))==Z||a==Y?void 0!==i?new C(n,kt(r,e),i):void 0!==r?new C(n,kt(r,e)):new C(n):xt in n?Dt(p,n):Pt.call(p,n):new C(A(n))}),$(I!==Function.prototype?T(C).concat(T(I)):T(C),function(t){t in p||g(p,t,C[t])}),p[q]=x,r||(x.constructor=p));var O=x[It],M=!!O&&("values"==O.name||void 0==O.name),R=Wt.values;g(p,vt,!0),g(x,xt,u),g(x,wt,!0),g(x,yt,p),(l?new p(1)[mt]==u:mt in x)||j(x,mt,{get:function(){return u}}),b[u]=p,o(o.G+o.W+o.F*(p!=C),b),o(o.S,u,{BYTES_PER_ELEMENT:e}),o(o.S+o.F*a(function(){C.of.call(p,1)}),u,{from:Pt,of:Lt}),X in x||g(x,X,e),o(o.P,u,Bt),L(u),o(o.P+o.F*Et,u,{set:jt}),o(o.P+o.F*!M,u,Wt),r||x.toString==At||(x.toString=At),o(o.P+o.F*a(function(){new p(1).slice()}),u,{slice:Vt}),o(o.P+o.F*(a(function(){return[1,2].toLocaleString()!=new p([1,2]).toLocaleString()})||!a(function(){x.toLocaleString.call([1,2])})),u,{toLocaleString:Ft}),_[u]=M?O:R,r||M||g(x,It,R)}}else t.exports=function(){}},function(t,e,n){n(990)("Uint8",1,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(990)("Uint8",1,function(t){return function(e,n,r){return t(this,e,n,r)}},!0)},function(t,e,n){n(990)("Int16",2,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(990)("Uint16",2,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(990)("Int32",4,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(990)("Uint32",4,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(990)("Float32",4,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(990)("Float64",8,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){var r=n(764),i=n(777),a=n(768),o=(n(760).Reflect||{}).apply,s=Function.apply;r(r.S+r.F*!n(763)(function(){o(function(){})}),"Reflect",{apply:function(t,e,n){var r=i(t),l=a(n);return o?o(r,e,l):s.call(r,e,l)}})},function(t,e,n){var r=n(764),i=n(801),a=n(777),o=n(768),s=n(769),l=n(763),u=n(832),c=(n(760).Reflect||{}).construct,h=l(function(){function t(){}return!(c(function(){},[],t)instanceof t)}),g=!l(function(){c(function(){})});r(r.S+r.F*(h||g),"Reflect",{construct:function(t,e){a(t),o(e);var n=arguments.length<3?t:a(arguments[2]);if(g&&!h)return c(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var r=[null];return r.push.apply(r,e),new(u.apply(t,r))}var l=n.prototype,d=i(s(l)?l:Object.prototype),p=Function.apply.call(t,d,e);return s(p)?p:d}})},function(t,e,n){var r=n(767),i=n(764),a=n(768),o=n(772);i(i.S+i.F*n(763)(function(){Reflect.defineProperty(r.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(t,e,n){a(t),e=o(e,!0),a(n);try{return r.f(t,e,n),!0}catch(t){return!1}}})},function(t,e,n){var r=n(764),i=n(806).f,a=n(768);r(r.S,"Reflect",{deleteProperty:function(t,e){var n=i(a(t),e);return!(n&&!n.configurable)&&delete t[e]}})},function(t,e,n){"use strict";var r=n(764),i=n(768),a=function(t){this._t=i(t),this._i=0;var e,n=this._k=[];for(e in t)n.push(e)};n(886)(a,"Object",function(){var t,e=this,n=e._k;do if(e._i>=n.length)return{value:void 0,done:!0};while(!((t=n[e._i++])in e._t));return{value:t,done:!1}}),r(r.S,"Reflect",{enumerate:function(t){return new a(t)}})},function(t,e,n){function r(t,e){var n,s,c=arguments.length<3?t:arguments[2];return u(t)===c?t[e]:(n=i.f(t,e))?o(n,"value")?n.value:void 0!==n.get?n.get.call(c):void 0:l(s=a(t))?r(s,e,c):void 0}var i=n(806),a=n(814),o=n(761),s=n(764),l=n(769),u=n(768);s(s.S,"Reflect",{
get:r})},function(t,e,n){var r=n(806),i=n(764),a=n(768);i(i.S,"Reflect",{getOwnPropertyDescriptor:function(t,e){return r.f(a(t),e)}})},function(t,e,n){var r=n(764),i=n(814),a=n(768);r(r.S,"Reflect",{getPrototypeOf:function(t){return i(a(t))}})},function(t,e,n){var r=n(764);r(r.S,"Reflect",{has:function(t,e){return e in t}})},function(t,e,n){var r=n(764),i=n(768),a=Object.isExtensible;r(r.S,"Reflect",{isExtensible:function(t){return i(t),!a||a(t)}})},function(t,e,n){var r=n(764);r(r.S,"Reflect",{ownKeys:n(1010)})},function(t,e,n){var r=n(805),i=n(798),a=n(768),o=n(760).Reflect;t.exports=o&&o.ownKeys||function(t){var e=r.f(a(t)),n=i.f;return n?e.concat(n(t)):e}},function(t,e,n){var r=n(764),i=n(768),a=Object.preventExtensions;r(r.S,"Reflect",{preventExtensions:function(t){i(t);try{return a&&a(t),!0}catch(t){return!1}}})},function(t,e,n){function r(t,e,n){var l,g,d=arguments.length<4?t:arguments[3],p=a.f(c(t),e);if(!p){if(h(g=o(t)))return r(g,e,n,d);p=u(0)}if(s(p,"value")){if(p.writable===!1||!h(d))return!1;if(l=a.f(d,e)){if(l.get||l.set||l.writable===!1)return!1;l.value=n,i.f(d,e,l)}else i.f(d,e,u(0,n));return!0}return void 0!==p.set&&(p.set.call(d,n),!0)}var i=n(767),a=n(806),o=n(814),s=n(761),l=n(764),u=n(773),c=n(768),h=n(769);l(l.S,"Reflect",{set:r})},function(t,e,n){var r=n(764),i=n(828);i&&r(r.S,"Reflect",{setPrototypeOf:function(t,e){i.check(t,e);try{return i.set(t,e),!0}catch(t){return!1}}})},function(t,e,n){n(1015),t.exports=n(765).Array.includes},function(t,e,n){"use strict";var r=n(764),i=n(792)(!0);r(r.P,"Array",{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n(943)("includes")},function(t,e,n){n(1017),t.exports=n(765).String.padStart},function(t,e,n){"use strict";var r=n(764),i=n(1018),a=n(973);r(r.P+r.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(a),"String",{padStart:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0,!0)}})},function(t,e,n){var r=n(793),i=n(846),a=n(791);t.exports=function(t,e,n,o){var s=String(a(t)),l=s.length,u=void 0===n?" ":String(n),c=r(e);if(c<=l||""==u)return s;var h=c-l,g=i.call(u,Math.ceil(h/u.length));return g.length>h&&(g=g.slice(0,h)),o?g+s:s+g}},function(t,e,n){n(1020),t.exports=n(765).String.padEnd},function(t,e,n){"use strict";var r=n(764),i=n(1018),a=n(973);r(r.P+r.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(a),"String",{padEnd:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0,!1)}})},function(t,e,n){n(1022),t.exports=n(783).f("asyncIterator")},function(t,e,n){n(784)("asyncIterator")},function(t,e,n){n(1024),t.exports=n(765).Object.getOwnPropertyDescriptors},function(t,e,n){var r=n(764),i=n(1010),a=n(788),o=n(806),s=n(920);r(r.S,"Object",{getOwnPropertyDescriptors:function(t){for(var e,n,r=a(t),l=o.f,u=i(r),c={},h=0;u.length>h;)n=l(r,e=u[h++]),void 0!==n&&s(c,e,n);return c}})},function(t,e,n){n(1026),t.exports=n(765).Object.values},function(t,e,n){var r=n(764),i=n(1027)(!1);r(r.S,"Object",{values:function(t){return i(t)}})},function(t,e,n){var r=n(786),i=n(788),a=n(799).f;t.exports=function(t){return function(e){for(var n,o=i(e),s=r(o),l=s.length,u=0,c=[];l>u;)a.call(o,n=s[u++])&&c.push(t?[n,o[n]]:o[n]);return c}}},function(t,e,n){n(1029),t.exports=n(765).Object.entries},function(t,e,n){var r=n(764),i=n(1027)(!0);r(r.S,"Object",{entries:function(t){return i(t)}})},function(t,e,n){"use strict";n(966),n(1031),t.exports=n(765).Promise.finally},function(t,e,n){"use strict";var r=n(764),i=n(765),a=n(760),o=n(965),s=n(974);r(r.P+r.R,"Promise",{finally:function(t){var e=o(this,i.Promise||a.Promise),n="function"==typeof t;return this.then(n?function(n){return s(e,t()).then(function(){return n})}:t,n?function(n){return s(e,t()).then(function(){throw n})}:t)}})},function(t,e,n){n(1033),n(1034),n(1035),t.exports=n(765)},function(t,e,n){var r=n(760),i=n(764),a=n(973),o=[].slice,s=/MSIE .\./.test(a),l=function(t){return function(e,n){var r=arguments.length>2,i=!!r&&o.call(arguments,2);return t(r?function(){("function"==typeof e?e:Function(e)).apply(this,i)}:e,n)}};i(i.G+i.B+i.F*s,{setTimeout:l(r.setTimeout),setInterval:l(r.setInterval)})},function(t,e,n){var r=n(764),i=n(969);r(r.G+r.B,{setImmediate:i.set,clearImmediate:i.clear})},function(t,e,n){for(var r=n(950),i=n(786),a=n(774),o=n(760),s=n(766),l=n(885),u=n(782),c=u("iterator"),h=u("toStringTag"),g=l.Array,d={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=i(d),f=0;f<p.length;f++){var A,C=p[f],I=d[C],m=o[C],v=m&&m.prototype;if(v&&(v[c]||s(v,c,g),v[h]||s(v,h,C),l[C]=g,I))for(A in r)v[A]||a(v,A,r[A],!0)}},function(t,e){!function(e){"use strict";function n(t,e,n,r){var a=e&&e.prototype instanceof i?e:i,o=Object.create(a.prototype),s=new d(r||[]);return o._invoke=u(t,n,s),o}function r(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}function i(){}function a(){}function o(){}function s(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function l(t){function e(n,i,a,o){var s=r(t[n],t,i);if("throw"!==s.type){var l=s.arg,u=l.value;return u&&"object"==typeof u&&I.call(u,"__await")?Promise.resolve(u.__await).then(function(t){e("next",t,a,o)},function(t){e("throw",t,a,o)}):Promise.resolve(u).then(function(t){l.value=t,a(l)},function(t){return e("throw",t,a,o)})}o(s.arg)}function n(t,n){function r(){return new Promise(function(r,i){e(t,n,r,i)})}return i=i?i.then(r,r):r()}var i;this._invoke=n}function u(t,e,n){var i=S;return function(a,o){if(i===N)throw new Error("Generator is already running");if(i===E){if("throw"===a)throw o;return f()}for(n.method=a,n.arg=o;;){var s=n.delegate;if(s){var l=c(s,n);if(l){if(l===k)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===S)throw i=E,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=N;var u=r(t,e,n);if("normal"===u.type){if(i=n.done?E:T,u.arg===k)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(i=E,n.method="throw",n.arg=u.arg)}}}function c(t,e){var n=t.iterator[e.method];if(n===A){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=A,c(t,e),"throw"===e.method))return k;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return k}var i=r(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,k;var a=i.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=A),e.delegate=null,k):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,k)}function h(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function g(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function d(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(h,this),this.reset(!0)}function p(t){if(t){var e=t[v];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,r=function e(){for(;++n<t.length;)if(I.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=A,e.done=!0,e};return r.next=r}}return{next:f}}function f(){return{value:A,done:!0}}var A,C=Object.prototype,I=C.hasOwnProperty,m="function"==typeof Symbol?Symbol:{},v=m.iterator||"@@iterator",y=m.asyncIterator||"@@asyncIterator",b=m.toStringTag||"@@toStringTag",x="object"==typeof t,w=e.regeneratorRuntime;if(w)return void(x&&(t.exports=w));w=e.regeneratorRuntime=x?t.exports:{},w.wrap=n;var S="suspendedStart",T="suspendedYield",N="executing",E="completed",k={},O={};O[v]=function(){return this};var M=Object.getPrototypeOf,R=M&&M(M(p([])));R&&R!==C&&I.call(R,v)&&(O=R);var D=o.prototype=i.prototype=Object.create(O);a.prototype=D.constructor=o,o.constructor=a,o[b]=a.displayName="GeneratorFunction",w.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===a||"GeneratorFunction"===(e.displayName||e.name))},w.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,o):(t.__proto__=o,b in t||(t[b]="GeneratorFunction")),t.prototype=Object.create(D),t},w.awrap=function(t){return{__await:t}},s(l.prototype),l.prototype[y]=function(){return this},w.AsyncIterator=l,w.async=function(t,e,r,i){var a=new l(n(t,e,r,i));return w.isGeneratorFunction(e)?a:a.next().then(function(t){return t.done?t.value:a.next()})},s(D),D[b]="Generator",D[v]=function(){return this},D.toString=function(){return"[object Generator]"},w.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},w.values=p,d.prototype={constructor:d,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=A,this.done=!1,this.delegate=null,this.method="next",this.arg=A,this.tryEntries.forEach(g),!t)for(var e in this)"t"===e.charAt(0)&&I.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=A)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){function e(e,r){return a.type="throw",a.arg=t,n.next=e,r&&(n.method="next",n.arg=A),!!r}if(this.done)throw t;for(var n=this,r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],a=i.completion;if("root"===i.tryLoc)return e("end");if(i.tryLoc<=this.prev){var o=I.call(i,"catchLoc"),s=I.call(i,"finallyLoc");if(o&&s){if(this.prev<i.catchLoc)return e(i.catchLoc,!0);if(this.prev<i.finallyLoc)return e(i.finallyLoc)}else if(o){if(this.prev<i.catchLoc)return e(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return e(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&I.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,k):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),k},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),g(n),k}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;g(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:p(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=A),k}}}(function(){return this||"object"==typeof self&&self}()||Function("return this")())},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;(function(module){"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};/*!
	 * @skatejs/web-components v1.0.0 - https://github.com/skatejs/web-components#readme
	 * MIT Licensed
	 */
!function(t,e){if("object"===_typeof(exports)&&"object"===_typeof(module))module.exports=e();else{__WEBPACK_AMD_DEFINE_ARRAY__=[],__WEBPACK_AMD_DEFINE_FACTORY__=e,__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__,!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}}(void 0,function(){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=42)}([function(t,e,n){var r=n(2),i=n(31),a="function"==typeof Symbol&&"symbol"===_typeof(Symbol()),o=Object.prototype.toString,s=function(t){return"function"==typeof t&&"[object Function]"===o.call(t)},l=function(){var t={};try{Object.defineProperty(t,"x",{enumerable:!1,value:t});for(var e in t)return!1;return t.x===t}catch(t){return!1}},u=Object.defineProperty&&l(),c=function(t,e,n,r){(!(e in t)||s(r)&&r())&&(u?Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n,writable:!0}):t[e]=n)},h=function(t,e){var n=arguments.length>2?arguments[2]:{},o=r(e);a&&(o=o.concat(Object.getOwnPropertySymbols(e))),i(o,function(r){c(t,r,e[r],n[r])})};h.supportsDescriptors=!!u,t.exports=h},function(t,e,n){var r=Function.prototype.toString,i=/^\s*class /,a=function(t){try{var e=r.call(t),n=e.replace(/\/\/.*\n/g,""),a=n.replace(/\/\*[.\s\S]*\*\//g,""),o=a.replace(/\n/gm," ").replace(/ {2}/g," ");return i.test(o)}catch(t){return!1}},o=function(t){try{return!a(t)&&(r.call(t),!0)}catch(t){return!1}},s=Object.prototype.toString,l="[object Function]",u="[object GeneratorFunction]",c="function"==typeof Symbol&&"symbol"===_typeof(Symbol.toStringTag);t.exports=function(t){if(!t)return!1;if("function"!=typeof t&&"object"!==("undefined"==typeof t?"undefined":_typeof(t)))return!1;if(c)return o(t);if(a(t))return!1;var e=s.call(t);return e===l||e===u}},function(t,e,n){var r=Object.prototype.hasOwnProperty,i=Object.prototype.toString,a=Array.prototype.slice,o=n(36),s=Object.prototype.propertyIsEnumerable,l=!s.call({toString:null},"toString"),u=s.call(function(){},"prototype"),c=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],h=function(t){var e=t.constructor;return e&&e.prototype===t},g={$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},d=function(){if("undefined"==typeof window)return!1;for(var t in window)try{if(!g["$"+t]&&r.call(window,t)&&null!==window[t]&&"object"===_typeof(window[t]))try{h(window[t])}catch(t){return!0}}catch(t){return!0}return!1}(),p=function(t){if("undefined"==typeof window||!d)return h(t);try{return h(t)}catch(t){return!1}},f=function(t){var e=null!==t&&"object"===("undefined"==typeof t?"undefined":_typeof(t)),n="[object Function]"===i.call(t),a=o(t),s=e&&"[object String]"===i.call(t),h=[];if(!e&&!n&&!a)throw new TypeError("Object.keys called on a non-object");var g=u&&n;if(s&&t.length>0&&!r.call(t,0))for(var d=0;d<t.length;++d)h.push(String(d));if(a&&t.length>0)for(var f=0;f<t.length;++f)h.push(String(f));else for(var A in t)g&&"prototype"===A||!r.call(t,A)||h.push(String(A));if(l)for(var C=p(t),I=0;I<c.length;++I)C&&"constructor"===c[I]||!r.call(t,c[I])||h.push(c[I]);return h};f.shim=function(){if(Object.keys){var t=function(){return 2===(Object.keys(arguments)||"").length}(1,2);if(!t){var e=Object.keys;Object.keys=function(t){return e(o(t)?a.call(t):t)}}}else Object.keys=f;return Object.keys||f},t.exports=f},function(t,e,n){var r=n(5),i=n(0).supportsDescriptors;/*! https://mths.be/array-from v0.2.0 by @mathias */
t.exports=function(t){var e=i?Object.defineProperty:function(t,e,n){t[e]=n.value},n=this;if(null===t||"undefined"==typeof t)throw new TypeError("`Array.from` requires an array-like object, not `null` or `undefined`");var a,o,s=r.ToObject(t);if("undefined"!=typeof arguments[1]){if(a=arguments[1],!r.IsCallable(a))throw new TypeError("When provided, the second argument to `Array.from` must be a function");arguments.length>2&&(o=arguments[2])}for(var l,u,c=r.ToLength(s.length),h=r.IsCallable(n)?r.ToObject(new n(c)):new Array(c),g=0;g<c;)l=s[g],u=a?"undefined"==typeof o?a(l,g):r.Call(a,o,[l,g]):l,e(h,g,{configurable:!0,enumerable:!0,value:u,writable:!0}),g+=1;return h.length=c,h}},function(t,e,n){var r=n(5),i=n(3),a=function(t){try{return t(),!0}catch(t){return!1}};t.exports=function(){var t=r.IsCallable(Array.from)&&a(function(){Array.from({length:-(1/0)})})&&!a(function(){Array.from([],void 0)});return t?Array.from:i}},function(t,e,n){var r=Object.prototype.toString,i="function"==typeof Symbol&&"symbol"===_typeof(Symbol.iterator),a=i?Symbol.prototype.toString:r,o=n(7),s=n(6),l=Number.MAX_SAFE_INTEGER||Math.pow(2,53)-1,u=n(26),c=n(9),h=n(8),g=n(27),d=n(29),p=parseInt,f=n(11),A=f.call(Function.call,String.prototype.slice),C=f.call(Function.call,RegExp.prototype.test,/^0b[01]+$/i),I=f.call(Function.call,RegExp.prototype.test,/^0o[0-7]+$/i),m=["","",""].join(""),v=new RegExp("["+m+"]","g"),y=f.call(Function.call,RegExp.prototype.test,v),b=/^[\-\+]0x[0-9a-f]+$/i,x=f.call(Function.call,RegExp.prototype.test,b),w=["\t\n\v\f\r ","\u2028","\u2029\ufeff"].join(""),S=new RegExp("(^["+w+"]+)|(["+w+"]+$)","g"),T=f.call(Function.call,String.prototype.replace),N=function(t){return T(t,S,"")},E=n(25),k=n(34),O=u(u({},E),{Call:function(t,e){var n=arguments.length>2?arguments[2]:[];if(!this.IsCallable(t))throw new TypeError(t+" is not a function");return t.apply(e,n)},ToPrimitive:d,ToNumber:function(t){var e=g(t)?t:d(t,"number");if("symbol"===("undefined"==typeof e?"undefined":_typeof(e)))throw new TypeError("Cannot convert a Symbol value to a number");if("string"==typeof e){if(C(e))return this.ToNumber(p(A(e,2),2));if(I(e))return this.ToNumber(p(A(e,2),8));if(y(e)||x(e))return NaN;var n=N(e);if(n!==e)return this.ToNumber(n)}return Number(e)},ToInt16:function(t){var e=this.ToUint16(t);return e>=32768?e-65536:e},ToInt8:function(t){var e=this.ToUint8(t);return e>=128?e-256:e},ToUint8:function(t){var e=this.ToNumber(t);if(o(e)||0===e||!s(e))return 0;var n=c(e)*Math.floor(Math.abs(e));return h(n,256)},ToUint8Clamp:function(t){var e=this.ToNumber(t);if(o(e)||e<=0)return 0;if(e>=255)return 255;var n=Math.floor(t);return n+.5<e?n+1:e<n+.5?n:n%2!==0?n+1:n},ToString:function(t){if("symbol"===("undefined"==typeof t?"undefined":_typeof(t)))throw new TypeError("Cannot convert a Symbol value to a string");return String(t)},ToObject:function(t){return this.RequireObjectCoercible(t),Object(t)},ToPropertyKey:function(t){var e=this.ToPrimitive(t,String);return"symbol"===("undefined"==typeof e?"undefined":_typeof(e))?a.call(e):this.ToString(e)},ToLength:function(t){var e=this.ToInteger(t);return e<=0?0:e>l?l:e},CanonicalNumericIndexString:function(t){if("[object String]"!==r.call(t))throw new TypeError("must be a string");if("-0"===t)return-0;var e=this.ToNumber(t);return this.SameValue(this.ToString(e),t)?e:void 0},RequireObjectCoercible:E.CheckObjectCoercible,IsArray:Array.isArray||function(t){return"[object Array]"===r.call(t)},IsConstructor:function(t){return"function"==typeof t&&!!t.prototype},IsExtensible:function(t){return!Object.preventExtensions||!g(t)&&Object.isExtensible(t)},IsInteger:function(t){if("number"!=typeof t||o(t)||!s(t))return!1;var e=Math.abs(t);return Math.floor(e)===e},IsPropertyKey:function(t){return"string"==typeof t||"symbol"===("undefined"==typeof t?"undefined":_typeof(t))},IsRegExp:function(t){if(!t||"object"!==("undefined"==typeof t?"undefined":_typeof(t)))return!1;if(i){var e=t[Symbol.match];if("undefined"!=typeof e)return E.ToBoolean(e)}return k(t)},SameValueZero:function(t,e){return t===e||o(t)&&o(e)},Type:function(t){return"symbol"===("undefined"==typeof t?"undefined":_typeof(t))?"Symbol":E.Type(t)},SpeciesConstructor:function(t,e){if("Object"!==this.Type(t))throw new TypeError("Assertion failed: Type(O) is not Object");var n=t.constructor;if("undefined"==typeof n)return e;if("Object"!==this.Type(n))throw new TypeError("O.constructor is not an Object");var r=i&&Symbol.species?n[Symbol.species]:void 0;if(null==r)return e;if(this.IsConstructor(r))return r;throw new TypeError("no constructor found")}});delete O.CheckObjectCoercible,t.exports=O},function(t,e){var n=Number.isNaN||function(t){return t!==t};t.exports=Number.isFinite||function(t){return"number"==typeof t&&!n(t)&&t!==1/0&&t!==-(1/0)}},function(t,e){t.exports=Number.isNaN||function(t){return t!==t}},function(t,e){t.exports=function(t,e){var n=t%e;return Math.floor(n>=0?n:n+e)}},function(t,e){t.exports=function(t){return t>=0?1:-1}},function(t,e){t.exports=function(t){return null===t||"function"!=typeof t&&"object"!==("undefined"==typeof t?"undefined":_typeof(t))}},function(t,e,n){var r=n(32);t.exports=Function.prototype.bind||r},function(t,e,n){var r=n(2),i=n(11),a=function(t){return"undefined"!=typeof t&&null!==t},o=n(37)(),s=Object,l=i.call(Function.call,Array.prototype.push),u=i.call(Function.call,Object.prototype.propertyIsEnumerable),c=o?Object.getOwnPropertySymbols:null;t.exports=function(t,e){if(!a(t))throw new TypeError("target must be an object");var n,i,h,g,d,p,f,A=s(t);for(n=1;n<arguments.length;++n){i=s(arguments[n]),g=r(i);var C=o&&(Object.getOwnPropertySymbols||c);if(C)for(d=C(i),h=0;h<d.length;++h)f=d[h],u(i,f)&&l(g,f);for(h=0;h<g.length;++h)f=g[h],p=i[f],u(i,f)&&(A[f]=p)}return A}},function(t,e,n){var r=n(12),i=function(){if(!Object.assign)return!1;for(var t="abcdefghijklmnopqrst",e=t.split(""),n={},r=0;r<e.length;++r)n[e[r]]=e[r];var i=Object.assign({},n),a="";for(var o in i)a+=o;return t!==a},a=function(){if(!Object.assign||!Object.preventExtensions)return!1;var t=Object.preventExtensions({1:2});try{Object.assign(t,"xy")}catch(e){return"y"===t[1]}return!1};t.exports=function(){return Object.assign?i()?r:a()?r:Object.assign:r}},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"===("undefined"==typeof window?"undefined":_typeof(window))&&(n=window)}t.exports=n},function(t,e,n){n(21).shim(),n(38).shim(),n(30).polyfill(),n(23),n(20),n(16);var r=window,i=r.navigator,a=i.userAgent,o=a.indexOf("Safari/60")!==-1;o&&a.match(/Version\/([^\s]+)/)[1],[0,1].map(function(t){return"10.0."+t}).concat(["10.0"]);n(24),n(19),n(17),n(18)},function(t,e,n){(function(){!function(){function t(t){function n(e,n){Object.defineProperty(e,"innerHTML",{enumerable:n.enumerable,configurable:!0,get:n.get,set:function(e){var r=this,i=void 0;if(h(this)&&(i=[],d(this,function(t){t!==r&&i.push(t)})),n.set.call(this,e),i)for(var a=0;a<i.length;a++){var o=i[a];1===o.__CE_state&&t.disconnectedCallback(o)}return this.ownerDocument.__CE_hasRegistry?t.f(this):t.l(this),e}})}function r(e,n){p(e,"insertAdjacentElement",function(e,r){var i=h(r);return e=n.call(this,e,r),i&&t.a(r),h(e)&&t.b(r),e})}if(k&&p(Element.prototype,"attachShadow",function(t){return this.__CE_shadowRoot=t=k.call(this,t)}),O&&O.get)n(Element.prototype,O);else if(H&&H.get)n(HTMLElement.prototype,H);else{var a=A.call(document,"div");t.u(function(t){n(t,{enumerable:!0,configurable:!0,get:function(){return x.call(this,!0).innerHTML},set:function(t){var e="template"===this.localName?this.content:this;for(a.innerHTML=t;0<e.childNodes.length;)T.call(e,e.childNodes[0]);for(;0<a.childNodes.length;)w.call(e,a.childNodes[0])}})})}p(Element.prototype,"setAttribute",function(e,n){if(1!==this.__CE_state)return R.call(this,e,n);var r=M.call(this,e);R.call(this,e,n),n=M.call(this,e),t.attributeChangedCallback(this,e,r,n,null)}),p(Element.prototype,"setAttributeNS",function(e,n,r){if(1!==this.__CE_state)return P.call(this,e,n,r);var i=_.call(this,e,n);P.call(this,e,n,r),r=_.call(this,e,n),t.attributeChangedCallback(this,n,i,r,e)}),p(Element.prototype,"removeAttribute",function(e){if(1!==this.__CE_state)return D.call(this,e);var n=M.call(this,e);D.call(this,e),null!==n&&t.attributeChangedCallback(this,e,n,null,null)}),p(Element.prototype,"removeAttributeNS",function(e,n){if(1!==this.__CE_state)return L.call(this,e,n);var r=_.call(this,e,n);L.call(this,e,n);var i=_.call(this,e,n);r!==i&&t.attributeChangedCallback(this,n,r,i,e)}),Z?r(HTMLElement.prototype,Z):z?r(Element.prototype,z):console.warn("Custom Elements: `Element#insertAdjacentElement` was not patched."),i(t,Element.prototype,{s:F,append:B}),e(t,{w:V,I:j,replaceWith:W,remove:G})}function e(t,e){function n(e){return function(n){for(var r=[],i=0;i<arguments.length;++i)r[i-0]=arguments[i];i=[];for(var a=[],o=0;o<r.length;o++){var s=r[o];if(s instanceof Element&&h(s)&&a.push(s),s instanceof DocumentFragment)for(s=s.firstChild;s;s=s.nextSibling)i.push(s);else i.push(s)}for(e.apply(this,r),r=0;r<a.length;r++)t.a(a[r]);if(h(this))for(r=0;r<i.length;r++)a=i[r],a instanceof Element&&t.b(a)}}var r=Element.prototype;void 0!==e.w&&(r.before=n(e.w)),void 0!==e.w&&(r.after=n(e.I)),void 0!==e.replaceWith&&p(r,"replaceWith",function(n){for(var r=[],i=0;i<arguments.length;++i)r[i-0]=arguments[i];i=[];for(var a=[],o=0;o<r.length;o++){var s=r[o];if(s instanceof Element&&h(s)&&a.push(s),s instanceof DocumentFragment)for(s=s.firstChild;s;s=s.nextSibling)i.push(s);else i.push(s)}for(o=h(this),e.replaceWith.apply(this,r),r=0;r<a.length;r++)t.a(a[r]);if(o)for(t.a(this),r=0;r<i.length;r++)a=i[r],a instanceof Element&&t.b(a)}),void 0!==e.remove&&p(r,"remove",function(){var n=h(this);e.remove.call(this),n&&t.a(this)})}function n(t){function e(e,n){Object.defineProperty(e,"textContent",{enumerable:n.enumerable,configurable:!0,get:n.get,set:function(e){if(this.nodeType===Node.TEXT_NODE)n.set.call(this,e);else{var r=void 0;if(this.firstChild){var i=this.childNodes,a=i.length;if(0<a&&h(this)){r=Array(a);for(var o=0;o<a;o++)r[o]=i[o]}}if(n.set.call(this,e),r)for(e=0;e<r.length;e++)t.a(r[e])}}})}p(Node.prototype,"insertBefore",function(e,n){if(e instanceof DocumentFragment){var r=Array.prototype.slice.apply(e.childNodes);if(e=S.call(this,e,n),h(this))for(n=0;n<r.length;n++)t.b(r[n]);return e}return r=h(e),n=S.call(this,e,n),r&&t.a(e),h(this)&&t.b(e),n}),p(Node.prototype,"appendChild",function(e){if(e instanceof DocumentFragment){var n=Array.prototype.slice.apply(e.childNodes);if(e=w.call(this,e),h(this))for(var r=0;r<n.length;r++)t.b(n[r]);return e}return n=h(e),r=w.call(this,e),n&&t.a(e),h(this)&&t.b(e),r}),p(Node.prototype,"cloneNode",function(e){return e=x.call(this,e),this.ownerDocument.__CE_hasRegistry?t.f(e):t.l(e),e}),p(Node.prototype,"removeChild",function(e){var n=h(e),r=T.call(this,e);return n&&t.a(e),r}),p(Node.prototype,"replaceChild",function(e,n){if(e instanceof DocumentFragment){var r=Array.prototype.slice.apply(e.childNodes);if(e=N.call(this,e,n),h(this))for(t.a(n),n=0;n<r.length;n++)t.b(r[n]);return e}r=h(e);var i=N.call(this,e,n),a=h(this);return a&&t.a(n),r&&t.a(e),a&&t.b(e),i}),E&&E.get?e(Node.prototype,E):t.u(function(t){e(t,{enumerable:!0,configurable:!0,get:function(){for(var t=[],e=0;e<this.childNodes.length;e++)t.push(this.childNodes[e].textContent);return t.join("")},set:function(t){for(;this.firstChild;)T.call(this,this.firstChild);w.call(this,document.createTextNode(t))}})})}function r(t){p(Document.prototype,"createElement",function(e){if(this.__CE_hasRegistry){var n=t.c(e);if(n)return new n.constructor}return e=A.call(this,e),t.g(e),e}),p(Document.prototype,"importNode",function(e,n){return e=I.call(this,e,n),this.__CE_hasRegistry?t.f(e):t.l(e),e}),p(Document.prototype,"createElementNS",function(e,n){if(this.__CE_hasRegistry&&(null===e||"http://www.w3.org/1999/xhtml"===e)){var r=t.c(n);if(r)return new r.constructor}return e=C.call(this,e,n),t.g(e),e}),i(t,Document.prototype,{s:m,append:v})}function i(t,e,n){function r(e){return function(n){for(var r=[],i=0;i<arguments.length;++i)r[i-0]=arguments[i];i=[];for(var a=[],o=0;o<r.length;o++){var s=r[o];if(s instanceof Element&&h(s)&&a.push(s),s instanceof DocumentFragment)for(s=s.firstChild;s;s=s.nextSibling)i.push(s);else i.push(s)}for(e.apply(this,r),r=0;r<a.length;r++)t.a(a[r]);if(h(this))for(r=0;r<i.length;r++)a=i[r],a instanceof Element&&t.b(a)}}void 0!==n.s&&(e.prepend=r(n.s)),void 0!==n.append&&(e.append=r(n.append))}function a(t){window.HTMLElement=function(){function e(){var e=this.constructor,n=t.K(e);if(!n)throw Error("The custom element being constructed was not registered with `customElements`.");var r=n.constructionStack;if(0===r.length)return r=A.call(document,n.localName),Object.setPrototypeOf(r,e.prototype),r.__CE_state=1,r.__CE_definition=n,t.g(r),r;n=r.length-1;var i=r[n];if(i===Y)throw Error("The HTMLElement constructor was either called reentrantly for this constructor or called multiple times.");return r[n]=Y,Object.setPrototypeOf(i,e.prototype),t.g(i),i}return e.prototype=U.prototype,e}()}function o(t){this.c=!1,this.a=t,this.h=new Map,this.f=function(t){return t()},this.b=!1,this.g=[],this.i=new l(t,document)}function s(){var t=this;this.b=this.a=void 0,this.f=new Promise(function(e){t.b=e,t.a&&e(t.a)})}function l(t,e){this.c=t,this.a=e,this.b=void 0,this.c.f(this.a),"loading"===this.a.readyState&&(this.b=new MutationObserver(this.g.bind(this)),this.b.observe(this.a,{childList:!0,subtree:!0}))}function u(){this.o=new Map,this.m=new Map,this.j=[],this.h=!1}function c(t){var e=f.has(t);return t=/^[a-z][.0-9_a-z]*-[\-.0-9_a-z]*$/.test(t),!e&&t}function h(t){var e=t.isConnected;if(void 0!==e)return e;for(;t&&!(t.__CE_isImportDocument||t instanceof Document);)t=t.parentNode||(window.ShadowRoot&&t instanceof ShadowRoot?t.host:void 0);return!(!t||!(t.__CE_isImportDocument||t instanceof Document))}function g(t,e){for(;e&&e!==t&&!e.nextSibling;)e=e.parentNode;return e&&e!==t?e.nextSibling:null}function d(t,e,n){n=n?n:new Set;for(var r=t;r;){if(r.nodeType===Node.ELEMENT_NODE){var i=r;e(i);var a=i.localName;if("link"===a&&"import"===i.getAttribute("rel")){if(r=i.import,r instanceof Node&&!n.has(r))for(n.add(r),r=r.firstChild;r;r=r.nextSibling)d(r,e,n);r=g(t,i);continue}if("template"===a){r=g(t,i);continue}if(i=i.__CE_shadowRoot)for(i=i.firstChild;i;i=i.nextSibling)d(i,e,n)}r=r.firstChild?r.firstChild:g(t,r)}}function p(t,e,n){t[e]=n}!function(t){function e(t,e){if("function"==typeof window.CustomEvent)return new CustomEvent(t,e);var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!!e.bubbles,!!e.cancelable,e.detail),n}function n(t){if(c)return t.ownerDocument!==document?t.ownerDocument:null;var e=t.__importDoc;if(!e&&t.parentNode){if(e=t.parentNode,"function"==typeof e.closest)e=e.closest("link[rel=import]");else for(;!s(e)&&(e=e.parentNode););t.__importDoc=e}return e}function r(t){var e=document.querySelectorAll("link[rel=import]:not(import-dependency)"),n=e.length;n?u(e,function(e){return o(e,function(){0===--n&&t()})}):t()}function i(t){function e(){"loading"!==document.readyState&&document.body&&(document.removeEventListener("readystatechange",e),t())}document.addEventListener("readystatechange",e),e()}function a(t){i(function(){return r(function(){return t&&t()})})}function o(t,e){if(t.__loaded)e&&e();else if("script"===t.localName&&!t.src||"style"===t.localName&&!t.firstChild)t.__loaded=!0,e&&e();else{var n=function n(r){t.removeEventListener(r.type,n),t.__loaded=!0,e&&e()};t.addEventListener("load",n),I&&"style"===t.localName||t.addEventListener("error",n)}}function s(t){return t.nodeType===Node.ELEMENT_NODE&&"link"===t.localName&&"import"===t.rel}function l(){var t=this;this.a={},this.b=0,this.f=new MutationObserver(function(e){return t.l(e)}),this.f.observe(document.head,{childList:!0,subtree:!0}),this.c(document)}function u(t,e,n){var r=t?t.length:0,i=n?-1:1;for(n=n?r-1:0;n<r&&0<=n;n+=i)e(t[n],n)}var c="import"in document.createElement("link"),h=null;!1=="currentScript"in document&&Object.defineProperty(document,"currentScript",{get:function(){return h||("complete"!==document.readyState?document.scripts[document.scripts.length-1]:null)},configurable:!0});var g=/(^\/)|(^#)|(^[\w-\d]*:)/,d=/(url\()([^)]*)(\))/g,p=/(@import[\s]+(?!url\())([^;]*)(;)/g,f=/(<link[^>]*)(rel=['|"]?stylesheet['|"]?[^>]*>)/g,A={J:function(t,e){if(t.href&&t.setAttribute("href",A.A(t.getAttribute("href"),e)),t.src&&t.setAttribute("src",A.A(t.getAttribute("src"),e)),"style"===t.localName){var n=A.D(t.textContent,e,d);t.textContent=A.D(n,e,p)}},D:function(t,e,n){return t.replace(n,function(t,n,r,i){return t=r.replace(/["']/g,""),e&&(t=A.F(t,e)),n+"'"+t+"'"+i})},A:function(t,e){return t&&g.test(t)?t:A.F(t,e)},F:function(t,e){if(void 0===A.v){A.v=!1;try{var n=new URL("b","http://a");n.pathname="c%20d",A.v="http://a/c%20d"===n.href}catch(t){}}return A.v?new URL(t,e).href:(n=A.H,n||(n=document.implementation.createHTMLDocument("temp"),A.H=n,n.C=n.createElement("base"),n.head.appendChild(n.C),n.B=n.createElement("a")),n.C.href=e,n.B.href=t,n.B.href||t)}},C={async:!0,load:function(t,e,n){if(t)if(t.match(/^data:/)){t=t.split(",");var r=t[1];r=-1<t[0].indexOf(";base64")?atob(r):decodeURIComponent(r),e(r)}else{var i=new XMLHttpRequest;i.open("GET",t,C.async),i.onload=function(){var t=i.responseURL||i.getResponseHeader("Location");t&&0===t.indexOf("/")&&(t=(location.origin||location.protocol+"//"+location.host)+t);var r=i.response||i.responseText;304===i.status||0===i.status||200<=i.status&&300>i.status?e(r,t):n(r)},i.send()}else n("error: href must be specified")}},I=/Trident/.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent);if(l.prototype.c=function(t){var e=this;u(t.querySelectorAll("link[rel=import]"),function(t){return e.h(t)})},l.prototype.h=function(t){var e=this,n=t.href;if(void 0!==this.a[n]){var r=this.a[n];r&&r.__loaded&&(t.import=r,this.g(t))}else this.b++,this.a[n]="pending",C.load(n,function(t,r){t=e.m(t,r||n),e.a[n]=t,e.b--,e.c(t),e.i()},function(){e.a[n]=null,e.b--,e.i()})},l.prototype.m=function(t,e){if(!t)return document.createDocumentFragment();I&&(t=t.replace(f,function(t,e,n){return-1===t.indexOf("type=")?e+" type=import-disable "+n:t}));var n=document.createElement("template");if(n.innerHTML=t,n.content)t=n.content;else for(t=document.createDocumentFragment();n.firstChild;)t.appendChild(n.firstChild);(n=t.querySelector("base"))&&(e=A.A(n.getAttribute("href"),e),n.removeAttribute("href"));var r=0;return u(t.querySelectorAll('link[rel=import], link[rel=stylesheet][href][type=import-disable],\n    style:not([type]), link[rel=stylesheet][href]:not([type]),\n    script:not([type]), script[type="application/javascript"],\n    script[type="text/javascript"]'),function(t){o(t),A.J(t,e),t.setAttribute("import-dependency",""),"script"===t.localName&&!t.src&&t.textContent&&(t.setAttribute("src","data:text/javascript;charset=utf-8,"+encodeURIComponent(t.textContent+("\n//# sourceURL="+e+(r?"-"+r:"")+".js\n"))),t.textContent="",r++)}),t},l.prototype.i=function(){var t=this;if(!this.b){this.f.disconnect(),this.flatten(document);var e=!1,n=!1,r=function(){n&&e&&(t.c(document),t.b||(t.f.observe(document.head,{childList:!0,subtree:!0}),t.j()))};this.u(function(){n=!0,r()}),this.o(function(){e=!0,r()})}},l.prototype.flatten=function(t){var e=this;u(t.querySelectorAll("link[rel=import]"),function(t){var n=e.a[t.href];(t.import=n)&&n.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&(e.a[t.href]=t,t.readyState="loading",t.import=t,e.flatten(n),t.appendChild(n))})},l.prototype.o=function(t){function e(i){if(i<r){var a=n[i],s=document.createElement("script");a.removeAttribute("import-dependency"),u(a.attributes,function(t){return s.setAttribute(t.name,t.value)}),h=s,a.parentNode.replaceChild(s,a),o(s,function(){h=null,e(i+1)})}else t()}var n=document.querySelectorAll("script[import-dependency]"),r=n.length;e(0)},l.prototype.u=function(t){var e=document.querySelectorAll("style[import-dependency],\n    link[rel=stylesheet][import-dependency]"),r=e.length;if(r){var i=I&&!!document.querySelector("link[rel=stylesheet][href][type=import-disable]");u(e,function(e){if(o(e,function(){e.removeAttribute("import-dependency"),0===--r&&t()}),i&&e.parentNode!==document.head){var a=document.createElement(e.localName);for(a.__appliedElement=e,a.setAttribute("type","import-placeholder"),e.parentNode.insertBefore(a,e.nextSibling),a=n(e);a&&n(a);)a=n(a);a.parentNode!==document.head&&(a=null),document.head.insertBefore(e,a),e.removeAttribute("type")}})}else t()},l.prototype.j=function(){var t=this;u(document.querySelectorAll("link[rel=import]"),function(e){return t.g(e)},!0)},l.prototype.g=function(t){t.__loaded||(t.__loaded=!0,t.import&&(t.import.readyState="complete"),t.dispatchEvent(e(t.import?"load":"error",{bubbles:!1,cancelable:!1,detail:void 0})))},l.prototype.l=function(t){var e=this;u(t,function(t){return u(t.addedNodes,function(t){t&&t.nodeType===Node.ELEMENT_NODE&&(s(t)?e.h(t):e.c(t))})})},c){u(document.querySelectorAll("link[rel=import]"),function(t){t.import&&"loading"===t.import.readyState||(t.__loaded=!0)});var m=function(t){t=t.target,s(t)&&(t.__loaded=!0)};document.addEventListener("load",m,!0),document.addEventListener("error",m,!0)}else{var v=Object.getOwnPropertyDescriptor(Node.prototype,"baseURI");Object.defineProperty((!v||v.configurable?Node:Element).prototype,"baseURI",{get:function(){var t=s(this)?this:n(this);return t?t.href:v&&v.get?v.get.call(this):(document.querySelector("base")||window.location).href},configurable:!0,enumerable:!0}),i(function(){return new l})}a(function(){return document.dispatchEvent(e("HTMLImportsLoaded",{cancelable:!0,bubbles:!0,detail:void 0}))}),t.useNative=c,t.whenReady=a,t.importForElement=n}(window.HTMLImports=window.HTMLImports||{});var f=new Set("annotation-xml color-profile font-face font-face-src font-face-uri font-face-format font-face-name missing-glyph".split(" "));u.prototype.L=function(t,e){this.o.set(t,e),this.m.set(e.constructor,e)},u.prototype.c=function(t){return this.o.get(t)},u.prototype.K=function(t){return this.m.get(t)},u.prototype.u=function(t){this.h=!0,this.j.push(t)},u.prototype.l=function(t){var e=this;this.h&&d(t,function(t){return e.g(t)})},u.prototype.g=function(t){if(this.h&&!t.__CE_patched){t.__CE_patched=!0;for(var e=0;e<this.j.length;e++)this.j[e](t)}},u.prototype.b=function(t){var e=[];for(d(t,function(t){return e.push(t)}),t=0;t<e.length;t++){var n=e[t];1===n.__CE_state?this.connectedCallback(n):this.i(n)}},u.prototype.a=function(t){var e=[];for(d(t,function(t){return e.push(t)}),t=0;t<e.length;t++){var n=e[t];1===n.__CE_state&&this.disconnectedCallback(n)}},u.prototype.f=function(t,e){var n=this;e=e?e:{};var r=e.M||new Set,i=e.G||function(t){return n.i(t)},a=[];if(d(t,function(t){if("link"===t.localName&&"import"===t.getAttribute("rel")){var e=t.import;e instanceof Node&&"complete"===e.readyState?(e.__CE_isImportDocument=!0,e.__CE_hasRegistry=!0):t.addEventListener("load",function(){var e=t.import;if(!e.__CE_documentLoadHandled){e.__CE_documentLoadHandled=!0,e.__CE_isImportDocument=!0,e.__CE_hasRegistry=!0;var a=new Set(r);a.delete(e),n.f(e,{M:a,G:i})}})}else a.push(t)},r),this.h)for(t=0;t<a.length;t++)this.g(a[t]);for(t=0;t<a.length;t++)i(a[t])},u.prototype.i=function(t){if(void 0===t.__CE_state){var e=this.c(t.localName);if(e){e.constructionStack.push(t);var n=e.constructor;try{try{if(new n!==t)throw Error("The custom element constructor did not produce the element being upgraded.")}finally{e.constructionStack.pop()}}catch(e){throw t.__CE_state=2,e}if(t.__CE_state=1,t.__CE_definition=e,e.attributeChangedCallback)for(e=e.observedAttributes,n=0;n<e.length;n++){var r=e[n],i=t.getAttribute(r);null!==i&&this.attributeChangedCallback(t,r,null,i,null)}h(t)&&this.connectedCallback(t)}}},u.prototype.connectedCallback=function(t){var e=t.__CE_definition;e.connectedCallback&&e.connectedCallback.call(t)},u.prototype.disconnectedCallback=function(t){var e=t.__CE_definition;e.disconnectedCallback&&e.disconnectedCallback.call(t)},u.prototype.attributeChangedCallback=function(t,e,n,r,i){var a=t.__CE_definition;a.attributeChangedCallback&&-1<a.observedAttributes.indexOf(e)&&a.attributeChangedCallback.call(t,e,n,r,i)},l.prototype.f=function(){this.b&&this.b.disconnect()},l.prototype.g=function(t){var e=this.a.readyState;for("interactive"!==e&&"complete"!==e||this.f(),e=0;e<t.length;e++)for(var n=t[e].addedNodes,r=0;r<n.length;r++)this.c.f(n[r])},s.prototype.c=function(){if(this.a)throw Error("Already resolved.");this.a=void 0,this.b&&this.b(void 0)},o.prototype.define=function(t,e){var n=this;if(!(e instanceof Function))throw new TypeError("Custom element constructors must be functions.");if(!c(t))throw new SyntaxError("The element name '"+t+"' is not valid.");if(this.a.c(t))throw Error("A custom element with name '"+t+"' has already been defined.");if(this.c)throw Error("A custom element is already being defined.");this.c=!0;try{var r=function(t){var e=i[t];if(void 0!==e&&!(e instanceof Function))throw Error("The '"+t+"' callback must be a function.");return e},i=e.prototype;if(!(i instanceof Object))throw new TypeError("The custom element constructor's prototype is not an object.");var a=r("connectedCallback"),o=r("disconnectedCallback"),s=r("adoptedCallback"),l=r("attributeChangedCallback"),u=e.observedAttributes||[]}catch(t){return}finally{this.c=!1}e={localName:t,constructor:e,connectedCallback:a,disconnectedCallback:o,adoptedCallback:s,attributeChangedCallback:l,observedAttributes:u,constructionStack:[]},this.a.L(t,e),this.g.push(e),this.b||(this.b=!0,this.f(function(){return n.j()}))},o.prototype.j=function(){var t=this;if(!1!==this.b){this.b=!1;for(var e=this.g,n=[],r=new Map,i=0;i<e.length;i++)r.set(e[i].localName,[]);for(this.a.f(document,{G:function(e){if(void 0===e.__CE_state){var i=e.localName,a=r.get(i);a?a.push(e):t.a.c(i)&&n.push(e)}}}),i=0;i<n.length;i++)this.a.i(n[i]);for(;0<e.length;){var a=e.shift();i=a.localName,a=r.get(a.localName);for(var o=0;o<a.length;o++)this.a.i(a[o]);(i=this.h.get(i))&&i.c()}}},o.prototype.get=function(t){if(t=this.a.c(t))return t.constructor},o.prototype.whenDefined=function(t){if(!c(t))return Promise.reject(new SyntaxError("'"+t+"' is not a valid custom element name."));var e=this.h.get(t);return e?e.f:(e=new s,this.h.set(t,e),this.a.c(t)&&!this.g.some(function(e){return e.localName===t})&&e.c(),e.f)},o.prototype.l=function(t){this.i.f();var e=this.f;this.f=function(n){return t(function(){return e(n)})}},window.CustomElementRegistry=o,o.prototype.define=o.prototype.define,o.prototype.get=o.prototype.get,o.prototype.whenDefined=o.prototype.whenDefined,o.prototype.polyfillWrapFlushCallback=o.prototype.l;var A=window.Document.prototype.createElement,C=window.Document.prototype.createElementNS,I=window.Document.prototype.importNode,m=window.Document.prototype.prepend,v=window.Document.prototype.append,y=window.DocumentFragment.prototype.prepend,b=window.DocumentFragment.prototype.append,x=window.Node.prototype.cloneNode,w=window.Node.prototype.appendChild,S=window.Node.prototype.insertBefore,T=window.Node.prototype.removeChild,N=window.Node.prototype.replaceChild,E=Object.getOwnPropertyDescriptor(window.Node.prototype,"textContent"),k=window.Element.prototype.attachShadow,O=Object.getOwnPropertyDescriptor(window.Element.prototype,"innerHTML"),M=window.Element.prototype.getAttribute,R=window.Element.prototype.setAttribute,D=window.Element.prototype.removeAttribute,_=window.Element.prototype.getAttributeNS,P=window.Element.prototype.setAttributeNS,L=window.Element.prototype.removeAttributeNS,z=window.Element.prototype.insertAdjacentElement,F=window.Element.prototype.prepend,B=window.Element.prototype.append,V=window.Element.prototype.before,j=window.Element.prototype.after,W=window.Element.prototype.replaceWith,G=window.Element.prototype.remove,U=window.HTMLElement,H=Object.getOwnPropertyDescriptor(window.HTMLElement.prototype,"innerHTML"),Z=window.HTMLElement.prototype.insertAdjacentElement,Y=new function(){},X=window.customElements;X&&!X.forcePolyfill&&"function"==typeof X.define&&"function"==typeof X.get||(X=new u,a(X),r(X),i(X,DocumentFragment.prototype,{s:y,append:b}),n(X),t(X),document.__CE_hasRegistry=!0,y=new o(X),Object.defineProperty(window,"customElements",{configurable:!0,enumerable:!0,value:y})),y=window.customElements;var q=window.HTMLImports;if(window.WebComponents=window.WebComponents||{},y&&y.polyfillWrapFlushCallback){var K,J=function(){if(K){var t=K;return K=null,t(),!0}},Q=q.whenReady;y.polyfillWrapFlushCallback(function(t){K=t,Q(J)}),q.whenReady=function(t){Q(function(){J()?q.whenReady(t):t()})}}q.whenReady(function(){requestAnimationFrame(function(){window.WebComponents.ready=!0,document.dispatchEvent(new CustomEvent("WebComponentsReady",{bubbles:!0}))})}),y=document.createElement("style"),y.textContent="body {transition: opacity ease-in 0.2s; } \nbody[unresolved] {opacity: 0; display: block; overflow: hidden; position: relative; } \n",b=document.querySelector("head"),b.insertBefore(y,b.firstChild)}()}).call(self)},function(t,e){},function(t,e){},function(t,e,n){},function(t,e){/**
	       * @license
	       * Copyright (c) 2016 The Polymer Project Authors. All rights reserved.
	       * This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
	       * The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
	       * The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
	       * Code distributed by Google as part of the polymer project is also
	       * subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
	       */
!function(){var t="undefined"==typeof HTMLTemplateElement;/Trident/.test(navigator.userAgent)&&!function(){var t=Document.prototype.importNode;Document.prototype.importNode=function(){var e=t.apply(this,arguments);if(e.nodeType===Node.DOCUMENT_FRAGMENT_NODE){var n=this.createDocumentFragment();return n.appendChild(e),n}return e}}();var e=Node.prototype.cloneNode,n=Document.prototype.createElement,r=Document.prototype.importNode,i=function(){if(!t){var e=document.createElement("template"),n=document.createElement("template");n.content.appendChild(document.createElement("div")),e.content.appendChild(n);var r=e.cloneNode(!0);return 0===r.content.childNodes.length||0===r.content.firstChild.content.childNodes.length||!(document.createDocumentFragment().cloneNode()instanceof DocumentFragment)}}(),a="template",o=function(){};if(t){var s=function(t){Object.defineProperty(t,"innerHTML",{get:function(){for(var t="",e=this.content.firstChild;e;e=e.nextSibling)t+=e.outerHTML||u(e.data);return t},set:function(t){for(c.body.innerHTML=t,o.bootstrap(c);this.content.firstChild;)this.content.removeChild(this.content.firstChild);for(;c.body.firstChild;)this.content.appendChild(c.body.firstChild)},configurable:!0})},l=function(t){switch(t){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case"":return"&nbsp;"}},u=function(t){return t.replace(f,l)},c=document.implementation.createHTMLDocument("template"),h=!0,g=document.createElement("style");g.textContent=a+"{display:none;}";var d=document.head;d.insertBefore(g,d.firstElementChild),o.prototype=Object.create(HTMLElement.prototype);var p=!document.createElement("div").hasOwnProperty("innerHTML");o.decorate=function(t){if(!t.content){t.content=c.createDocumentFragment();for(var e;e=t.firstChild;)t.content.appendChild(e);if(p)t.__proto__=o.prototype;else if(t.cloneNode=function(t){return o._cloneNode(this,t)},h)try{s(t)}catch(t){h=!1}o.bootstrap(t.content)}},s(o.prototype),o.bootstrap=function(t){for(var e,n=t.querySelectorAll(a),r=0,i=n.length;r<i&&(e=n[r]);r++)o.decorate(e)},document.addEventListener("DOMContentLoaded",function(){o.bootstrap(document)}),Document.prototype.createElement=function(){var t=n.apply(this,arguments);return"template"===t.localName&&o.decorate(t),t};var f=/[&\u00A0<>]/g}(t||i)&&(o._cloneNode=function(t,n){var r=e.call(t,!1);return this.decorate&&this.decorate(r),n&&(r.content.appendChild(e.call(t.content,!0)),this.fixClonedDom(r.content,t.content)),r},o.prototype.cloneNode=function(t){return o._cloneNode(this,t)},o.fixClonedDom=function(t,e){if(e.querySelectorAll)for(var n,r,i=e.querySelectorAll(a),o=t.querySelectorAll(a),s=0,l=o.length;s<l;s++)r=i[s],n=o[s],this.decorate&&this.decorate(r),n.parentNode.replaceChild(r.cloneNode(!0),n)},Node.prototype.cloneNode=function(t){var n;if(this instanceof DocumentFragment){if(!t)return this.ownerDocument.createDocumentFragment();n=this.ownerDocument.importNode(this,!0)}else n=e.call(this,t);return t&&o.fixClonedDom(n,this),n},Document.prototype.importNode=function(t,e){if(t.localName===a)return o._cloneNode(t,e);var n=r.call(this,t,e);return e&&o.fixClonedDom(n,t),n},i&&(window.HTMLTemplateElement.prototype.cloneNode=function(t){return o._cloneNode(this,t)})),t&&(window.HTMLTemplateElement=o)}()},function(t,e,n){var r=n(0),i=n(3),a=n(4),o=n(22),s=function(t){return i.apply(this||Array,arguments)};r(s,{getPolyfill:a,implementation:i,shim:o}),t.exports=s},function(t,e,n){var r=n(0),i=n(4);t.exports=function(){var t=i();return r(Array,{from:t},{from:function(){return Array.from!==t}}),t}},function(module,exports){window.customElements&&eval("/**\n * @license\n * Copyright (c) 2016 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n */\n\n/**\n * This shim allows elements written in, or compiled to, ES5 to work on native\n * implementations of Custom Elements.\n *\n * ES5-style classes don't work with native Custom Elements because the\n * HTMLElement constructor uses the value of `new.target` to look up the custom\n * element definition for the currently called constructor. `new.target` is only\n * set when `new` is called and is only propagated via super() calls. super()\n * is not emulatable in ES5. The pattern of `SuperClass.call(this)`` only works\n * when extending other ES5-style classes, and does not propagate `new.target`.\n *\n * This shim allows the native HTMLElement constructor to work by generating and\n * registering a stand-in class instead of the users custom element class. This\n * stand-in class's constructor has an actual call to super().\n * `customElements.define()` and `customElements.get()` are both overridden to\n * hide this stand-in class from users.\n *\n * In order to create instance of the user-defined class, rather than the stand\n * in, the stand-in's constructor swizzles its instances prototype and invokes\n * the user-defined constructor. When the user-defined constructor is called\n * directly it creates an instance of the stand-in class to get a real extension\n * of HTMLElement and returns that.\n *\n * There are two important constructors: A patched HTMLElement constructor, and\n * the StandInElement constructor. They both will be called to create an element\n * but which is called first depends on whether the browser creates the element\n * or the user-defined constructor is called directly. The variables\n * `browserConstruction` and `userConstruction` control the flow between the\n * two constructors.\n *\n * This shim should be better than forcing the polyfill because:\n *   1. It's smaller\n *   2. All reaction timings are the same as native (mostly synchronous)\n *   3. All reaction triggering DOM operations are automatically supported\n *\n * There are some restrictions and requirements on ES5 constructors:\n *   1. All constructors in a inheritance hierarchy must be ES5-style, so that\n *      they can be called with Function.call(). This effectively means that the\n *      whole application must be compiled to ES5.\n *   2. Constructors must return the value of the emulated super() call. Like\n *      `return SuperClass.call(this)`\n *   3. The `this` reference should not be used before the emulated super() call\n *      just like `this` is illegal to use before super() in ES6.\n *   4. Constructors should not create other custom elements before the emulated\n *      super() call. This is the same restriction as with native custom\n *      elements.\n *\n *  Compiling valid class-based custom elements to ES5 will satisfy these\n *  requirements with the latest version of popular transpilers.\n */\n(() => {\n  'use strict';\n\n  const NativeHTMLElement = window.HTMLElement;\n  const nativeDefine = window.customElements.define;\n  const nativeGet = window.customElements.get;\n\n  /**\n   * Map of user-provided constructors to tag names.\n   *\n   * @type {Map<Function, string>}\n   */\n  const tagnameByConstructor = new Map();\n\n  /**\n   * Map of tag names to user-provided constructors.\n   *\n   * @type {Map<string, Function>}\n   */\n  const constructorByTagname = new Map();\n\n\n  /**\n   * Whether the constructors are being called by a browser process, ie parsing\n   * or createElement.\n   */\n  let browserConstruction = false;\n\n  /**\n   * Whether the constructors are being called by a user-space process, ie\n   * calling an element constructor.\n   */\n  let userConstruction = false;\n\n  window.HTMLElement = function() {\n    if (!browserConstruction) {\n      const tagname = tagnameByConstructor.get(this.constructor);\n      const fakeClass = nativeGet.call(window.customElements, tagname);\n\n      // Make sure that the fake constructor doesn't call back to this constructor\n      userConstruction = true;\n      const instance = new (fakeClass)();\n      return instance;\n    }\n    // Else do nothing. This will be reached by ES5-style classes doing\n    // HTMLElement.call() during initialization\n    browserConstruction = false;\n  };\n  // By setting the patched HTMLElement's prototype property to the native\n  // HTMLElement's prototype we make sure that:\n  //     document.createElement('a') instanceof HTMLElement\n  // works because instanceof uses HTMLElement.prototype, which is on the\n  // ptototype chain of built-in elements.\n  window.HTMLElement.prototype = NativeHTMLElement.prototype;\n\n  window.customElements.define = (tagname, elementClass) => {\n    const elementProto = elementClass.prototype;\n    const StandInElement = class extends NativeHTMLElement {\n      constructor() {\n        // Call the native HTMLElement constructor, this gives us the\n        // under-construction instance as `this`:\n        super();\n\n        // The prototype will be wrong up because the browser used our fake\n        // class, so fix it:\n        Object.setPrototypeOf(this, elementProto);\n\n        if (!userConstruction) {\n          // Make sure that user-defined constructor bottom's out to a do-nothing\n          // HTMLElement() call\n          browserConstruction = true;\n          // Call the user-defined constructor on our instance:\n          elementClass.call(this);\n        }\n        userConstruction = false;\n      }\n    };\n    const standInProto = StandInElement.prototype;\n    StandInElement.observedAttributes = elementClass.observedAttributes;\n    standInProto.connectedCallback = elementProto.connectedCallback;\n    standInProto.disconnectedCallback = elementProto.disconnectedCallback;\n    standInProto.attributeChangedCallback = elementProto.attributeChangedCallback;\n    standInProto.adoptedCallback = elementProto.adoptedCallback;\n\n    tagnameByConstructor.set(elementClass, tagname);\n    constructorByTagname.set(tagname, elementClass);\n    nativeDefine.call(window.customElements, tagname, StandInElement);\n  };\n\n  window.customElements.get = (tagname) => constructorByTagname.get(tagname);\n\n})();")},function(t,e){(function(){}).call(this)},function(t,e,n){var r=n(7),i=n(6),a=n(9),o=n(8),s=n(1),l=n(28),u={ToPrimitive:l,ToBoolean:function(t){return Boolean(t)},ToNumber:function(t){return Number(t)},ToInteger:function(t){var e=this.ToNumber(t);return r(e)?0:0!==e&&i(e)?a(e)*Math.floor(Math.abs(e)):e},ToInt32:function(t){return this.ToNumber(t)>>0},ToUint32:function(t){return this.ToNumber(t)>>>0},ToUint16:function(t){var e=this.ToNumber(t);if(r(e)||0===e||!i(e))return 0;var n=a(e)*Math.floor(Math.abs(e));return o(n,65536)},ToString:function(t){return String(t)},ToObject:function(t){return this.CheckObjectCoercible(t),Object(t)},CheckObjectCoercible:function(t,e){if(null==t)throw new TypeError(e||"Cannot call method on "+t);return t},IsCallable:s,SameValue:function(t,e){return t===e?0!==t||1/t===1/e:r(t)&&r(e)},Type:function(t){return null===t?"Null":"undefined"==typeof t?"Undefined":"function"==typeof t||"object"===("undefined"==typeof t?"undefined":_typeof(t))?"Object":"number"==typeof t?"Number":"boolean"==typeof t?"Boolean":"string"==typeof t?"String":void 0}};t.exports=u},function(t,e){var n=Object.prototype.hasOwnProperty;t.exports=Object.assign||function(t,e){for(var r in e)n.call(e,r)&&(t[r]=e[r]);return t}},function(t,e){t.exports=function(t){return null===t||"function"!=typeof t&&"object"!==("undefined"==typeof t?"undefined":_typeof(t))}},function(t,e,n){var r=Object.prototype.toString,i=n(10),a=n(1),o={"[[DefaultValue]]":function(t,e){var n=e||("[object Date]"===r.call(t)?String:Number);if(n===String||n===Number){var o,s,l=n===String?["toString","valueOf"]:["valueOf","toString"];for(s=0;s<l.length;++s)if(a(t[l[s]])&&(o=t[l[s]](),i(o)))return o;throw new TypeError("No default value")}throw new TypeError("invalid [[DefaultValue]] hint supplied")}};t.exports=function(t,e){return i(t)?t:o["[[DefaultValue]]"](t,e)}},function(t,e,n){var r="function"==typeof Symbol&&"symbol"===_typeof(Symbol.iterator),i=n(10),a=n(1),o=n(33),s=n(35),l=function(t,e){if("undefined"==typeof t||null===t)throw new TypeError("Cannot call method on "+t);if("string"!=typeof e||"number"!==e&&"string"!==e)throw new TypeError('hint must be "string" or "number"');var n,r,o,s="string"===e?["toString","valueOf"]:["valueOf","toString"];for(o=0;o<s.length;++o)if(n=t[s[o]],a(n)&&(r=n.call(t),i(r)))return r;throw new TypeError("No default value")},u=function(t,e){var n=t[e];if(null!==n&&"undefined"!=typeof n){if(!a(n))throw new TypeError(n+" returned for property "+e+" of object "+t+" is not a function");return n}};t.exports=function(t,e){if(i(t))return t;var n="default";arguments.length>1&&(e===String?n="string":e===Number&&(n="number"));var a;if(r&&(Symbol.toPrimitive?a=u(t,Symbol.toPrimitive):s(t)&&(a=Symbol.prototype.valueOf)),"undefined"!=typeof a){var c=a.call(t,n);if(i(c))return c;throw new TypeError("unable to convert exotic object to primitive")}return"default"===n&&(o(t)||s(t))&&(n="string"),l(t,"default"===n?"number":n)}},function(t,e,n){(function(e,r){/*!
	                     * @overview es6-promise - a tiny implementation of Promises/A+.
	                     * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
	                     * @license   Licensed under MIT license
	                     *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
	                     * @version   4.0.5
	                     */
!function(e,n){t.exports=n()}(this,function(){function t(t){return"function"==typeof t||"object"===("undefined"==typeof t?"undefined":_typeof(t))&&null!==t}function i(t){return"function"==typeof t}function a(t){q=t}function o(t){K=t}function s(){return function(){return e.nextTick(g)}}function l(){return"undefined"!=typeof X?function(){X(g)}:h()}function u(){var t=0,e=new $(g),n=document.createTextNode("");return e.observe(n,{characterData:!0}),function(){n.data=t=++t%2}}function c(){var t=new MessageChannel;return t.port1.onmessage=g,function(){return t.port2.postMessage(0)}}function h(){var t=setTimeout;return function(){return t(g,1)}}function g(){for(var t=0;t<Y;t+=2){var e=nt[t],n=nt[t+1];e(n),nt[t]=void 0,nt[t+1]=void 0}Y=0}function d(){try{var t=n(41);return X=t.runOnLoop||t.runOnContext,l()}catch(t){return h()}}function p(t,e){var n=arguments,r=this,i=new this.constructor(A);void 0===i[it]&&P(i);var a=r._state;return a?!function(){var t=n[a-1];K(function(){return R(a,i,t,r._result)})}():E(r,i,t,e),i}function f(t){var e=this;if(t&&"object"===("undefined"==typeof t?"undefined":_typeof(t))&&t.constructor===e)return t;var n=new e(A);return w(n,t),n}function A(){}function C(){return new TypeError("You cannot resolve a promise with itself")}function I(){return new TypeError("A promises callback cannot return that same promise.")}function m(t){try{return t.then}catch(t){return lt.error=t,lt}}function v(t,e,n,r){try{t.call(e,n,r)}catch(t){return t}}function y(t,e,n){K(function(t){var r=!1,i=v(n,e,function(n){r||(r=!0,e!==n?w(t,n):T(t,n))},function(e){r||(r=!0,N(t,e))},"Settle: "+(t._label||" unknown promise"));!r&&i&&(r=!0,N(t,i))},t)}function b(t,e){e._state===ot?T(t,e._result):e._state===st?N(t,e._result):E(e,void 0,function(e){return w(t,e)},function(e){return N(t,e)})}function x(t,e,n){e.constructor===t.constructor&&n===p&&e.constructor.resolve===f?b(t,e):n===lt?N(t,lt.error):void 0===n?T(t,e):i(n)?y(t,e,n):T(t,e)}function w(e,n){e===n?N(e,C()):t(n)?x(e,n,m(n)):T(e,n)}function S(t){t._onerror&&t._onerror(t._result),k(t)}function T(t,e){t._state===at&&(t._result=e,t._state=ot,0!==t._subscribers.length&&K(k,t))}function N(t,e){t._state===at&&(t._state=st,t._result=e,K(S,t))}function E(t,e,n,r){var i=t._subscribers,a=i.length;t._onerror=null,i[a]=e,i[a+ot]=n,i[a+st]=r,0===a&&t._state&&K(k,t)}function k(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var r=void 0,i=void 0,a=t._result,o=0;o<e.length;o+=3)r=e[o],i=e[o+n],r?R(n,r,i,a):i(a);t._subscribers.length=0}}function O(){this.error=null}function M(t,e){try{return t(e)}catch(t){return ut.error=t,ut}}function R(t,e,n,r){var a=i(n),o=void 0,s=void 0,l=void 0,u=void 0;if(a){if(o=M(n,r),o===ut?(u=!0,s=o.error,o=null):l=!0,e===o)return void N(e,I())}else o=r,l=!0;e._state!==at||(a&&l?w(e,o):u?N(e,s):t===ot?T(e,o):t===st&&N(e,o))}function D(t,e){try{e(function(e){w(t,e)},function(e){N(t,e)})}catch(e){N(t,e)}}function _(){return ct++}function P(t){t[it]=ct++,t._state=void 0,t._result=void 0,t._subscribers=[]}function L(t,e){this._instanceConstructor=t,this.promise=new t(A),this.promise[it]||P(this.promise),Z(e)?(this._input=e,this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?T(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&T(this.promise,this._result))):N(this.promise,z())}function z(){return new Error("Array Methods must be provided an Array")}function F(t){return new L(this,t).promise}function B(t){var e=this;return new e(Z(t)?function(n,r){for(var i=t.length,a=0;a<i;a++)e.resolve(t[a]).then(n,r)}:function(t,e){return e(new TypeError("You must pass an array to race."))})}function V(t){var e=this,n=new e(A);return N(n,t),n}function j(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function W(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function G(t){this[it]=_(),this._result=this._state=void 0,this._subscribers=[],A!==t&&("function"!=typeof t&&j(),this instanceof G?D(this,t):W())}function U(){var t=void 0;if("undefined"!=typeof r)t=r;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var n=null;try{n=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===n&&!e.cast)return}t.Promise=G}var H=void 0;H=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};var Z=H,Y=0,X=void 0,q=void 0,K=function(t,e){nt[Y]=t,nt[Y+1]=e,Y+=2,2===Y&&(q?q(g):rt())},J="undefined"!=typeof window?window:void 0,Q=J||{},$=Q.MutationObserver||Q.WebKitMutationObserver,tt="undefined"==typeof self&&"undefined"!=typeof e&&"[object process]"==={}.toString.call(e),et="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,nt=new Array(1e3),rt=void 0;rt=tt?s():$?u():et?c():void 0===J?d():h();var it=Math.random().toString(36).substring(16),at=void 0,ot=1,st=2,lt=new O,ut=new O,ct=0;return L.prototype._enumerate=function(){for(var t=this.length,e=this._input,n=0;this._state===at&&n<t;n++)this._eachEntry(e[n],n)},L.prototype._eachEntry=function(t,e){var n=this._instanceConstructor,r=n.resolve;if(r===f){var i=m(t);if(i===p&&t._state!==at)this._settledAt(t._state,e,t._result);else if("function"!=typeof i)this._remaining--,this._result[e]=t;else if(n===G){var a=new n(A);x(a,t,i),this._willSettleAt(a,e)}else this._willSettleAt(new n(function(e){return e(t)}),e)}else this._willSettleAt(r(t),e)},L.prototype._settledAt=function(t,e,n){var r=this.promise;r._state===at&&(this._remaining--,t===st?N(r,n):this._result[e]=n),0===this._remaining&&T(r,this._result)},L.prototype._willSettleAt=function(t,e){var n=this;E(t,void 0,function(t){return n._settledAt(ot,e,t)},function(t){return n._settledAt(st,e,t)})},G.all=F,G.race=B,G.resolve=f,G.reject=V,G._setScheduler=a,G._setAsap=o,G._asap=K,G.prototype={constructor:G,then:p,catch:function(t){return this.then(null,t)}},G.polyfill=U,G.Promise=G,G})}).call(e,n(40),n(14))},function(t,e){var n=Object.prototype.hasOwnProperty,r=Object.prototype.toString;t.exports=function(t,e,i){if("[object Function]"!==r.call(e))throw new TypeError("iterator must be a function");var a=t.length;if(a===+a)for(var o=0;o<a;o++)e.call(i,t[o],o,t);else for(var s in t)n.call(t,s)&&e.call(i,t[s],s,t)}},function(t,e){var n="Function.prototype.bind called on incompatible ",r=Array.prototype.slice,i=Object.prototype.toString,a="[object Function]";t.exports=function(t){var e=this;if("function"!=typeof e||i.call(e)!==a)throw new TypeError(n+e);for(var o,s=r.call(arguments,1),l=function(){if(this instanceof o){var n=e.apply(this,s.concat(r.call(arguments)));return Object(n)===n?n:this}return e.apply(t,s.concat(r.call(arguments)))},u=Math.max(0,e.length-s.length),c=[],h=0;h<u;h++)c.push("$"+h);if(o=Function("binder","return function ("+c.join(",")+"){ return binder.apply(this,arguments); }")(l),e.prototype){var g=function(){};g.prototype=e.prototype,o.prototype=new g,g.prototype=null}return o}},function(t,e,n){var r=Date.prototype.getDay,i=function(t){try{return r.call(t),!0}catch(t){return!1}},a=Object.prototype.toString,o="[object Date]",s="function"==typeof Symbol&&"symbol"===_typeof(Symbol.toStringTag);t.exports=function(t){return"object"===("undefined"==typeof t?"undefined":_typeof(t))&&null!==t&&(s?i(t):a.call(t)===o)}},function(t,e,n){var r=RegExp.prototype.exec,i=function(t){try{return r.call(t),!0}catch(t){return!1}},a=Object.prototype.toString,o="[object RegExp]",s="function"==typeof Symbol&&"symbol"===_typeof(Symbol.toStringTag);t.exports=function(t){return"object"===("undefined"==typeof t?"undefined":_typeof(t))&&(s?i(t):a.call(t)===o)}},function(t,e,n){var r=Object.prototype.toString,i="function"==typeof Symbol&&"symbol"===_typeof(Symbol());if(i){var a=Symbol.prototype.toString,o=/^Symbol\(.*\)$/,s=function(t){return"symbol"===_typeof(t.valueOf())&&o.test(a.call(t))};t.exports=function(t){if("symbol"===("undefined"==typeof t?"undefined":_typeof(t)))return!0;if("[object Symbol]"!==r.call(t))return!1;try{return s(t)}catch(t){return!1}}}else t.exports=function(t){return!1}},function(t,e,n){var r=Object.prototype.toString;t.exports=function(t){var e=r.call(t),n="[object Arguments]"===e;return n||(n="[object Array]"!==e&&null!==t&&"object"===("undefined"==typeof t?"undefined":_typeof(t))&&"number"==typeof t.length&&t.length>=0&&"[object Function]"===r.call(t.callee)),n}},function(t,e,n){var r=n(2);t.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"===_typeof(Symbol.iterator))return!0;var t={},e=Symbol("test"),n=Object(e);if("string"==typeof e)return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;var i=42;t[e]=i;for(e in t)return!1;if(0!==r(t).length)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var a=Object.getOwnPropertySymbols(t);if(1!==a.length||a[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(t,e);if(o.value!==i||o.enumerable!==!0)return!1}return!0}},function(t,e,n){var r=n(0),i=n(12),a=n(13),o=n(39),s=a();r(s,{implementation:i,getPolyfill:a,shim:o}),t.exports=s},function(t,e,n){var r=n(0),i=n(13);t.exports=function(){var t=i();return r(Object,{assign:t},{assign:function(){return Object.assign!==t}}),t}},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(t){if(c===setTimeout)return setTimeout(t,0);if((c===n||!c)&&setTimeout)return c=setTimeout,setTimeout(t,0);try{return c(t,0)}catch(e){try{return c.call(null,t,0)}catch(e){return c.call(this,t,0)}}}function a(t){if(h===clearTimeout)return clearTimeout(t);if((h===r||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(t);try{return h(t)}catch(e){try{return h.call(null,t)}catch(e){return h.call(this,t)}}}function o(){f&&d&&(f=!1,d.length?p=d.concat(p):A=-1,p.length&&s())}function s(){if(!f){var t=i(o);f=!0;for(var e=p.length;e;){for(d=p,p=[];++A<e;)d&&d[A].run();A=-1,e=p.length}d=null,f=!1,a(t)}}function l(t,e){this.fun=t,this.array=e}function u(){}var c,h,g=t.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:n}catch(t){c=n}try{h="function"==typeof clearTimeout?clearTimeout:r}catch(t){h=r}}();var d,p=[],f=!1,A=-1;g.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];p.push(new l(t,e)),1!==p.length||f||i(s)},l.prototype.run=function(){this.fun.apply(null,this.array)},g.title="browser",g.browser=!0,g.env={},g.argv=[],g.version="",g.versions={},g.on=u,g.addListener=u,g.once=u,g.off=u,g.removeListener=u,g.removeAllListeners=u,g.emit=u,g.binding=function(t){throw new Error("process.binding is not supported")},g.cwd=function(){return"/"},g.chdir=function(t){throw new Error("process.chdir is not supported")},g.umask=function(){return 0}},function(t,e){},function(t,e,n){t.exports=n(15)}])})}).call(exports,__webpack_require__(528)(module))},function(t,e){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(){var t;window.AmCharts?t=window.AmCharts:(t={},window.AmCharts=t,t.themes={},t.maps={},t.inheriting={},t.charts=[],t.onReadyArray=[],t.useUTC=!1,t.updateRate=60,t.uid=0,t.lang={},t.translations={},t.mapTranslations={},t.windows={},t.initHandlers=[],t.amString="am",t.pmString="pm"),t.Class=function(e){var n=function(){arguments[0]!==t.inheriting&&(this.events={},this.construct.apply(this,arguments))};e.inherits?(n.prototype=new e.inherits(t.inheriting),n.base=e.inherits.prototype,delete e.inherits):(n.prototype.createEvents=function(){for(var t=0;t<arguments.length;t++)this.events[arguments[t]]=[]},n.prototype.listenTo=function(t,e,n){this.removeListener(t,e,n),t.events[e].push({handler:n,scope:this})},n.prototype.addListener=function(t,e,n){this.removeListener(this,t,e),t&&this.events[t]&&this.events[t].push({handler:e,scope:n})},n.prototype.removeListener=function(t,e,n){if(t&&t.events&&(t=t.events[e]))for(e=t.length-1;0<=e;e--)t[e].handler===n&&t.splice(e,1)},n.prototype.fire=function(t){for(var e=this.events[t.type],n=0;n<e.length;n++){var r=e[n];r.handler.call(r.scope,t)}});for(var r in e)n.prototype[r]=e[r];return n},t.addChart=function(e){window.requestAnimationFrame?t.animationRequested||(t.animationRequested=!0,window.requestAnimationFrame(t.update)):t.updateInt||(t.updateInt=setInterval(function(){t.update()},Math.round(1e3/t.updateRate))),t.charts.push(e)},t.removeChart=function(e){for(var n=t.charts,r=n.length-1;0<=r;r--)n[r]==e&&n.splice(r,1);0===n.length&&(t.requestAnimation&&(window.cancelAnimationFrame(t.requestAnimation),t.animationRequested=!1),t.updateInt&&(clearInterval(t.updateInt),t.updateInt=NaN))},t.isModern=!0,t.getIEVersion=function(){var t,e,n=0;return"Microsoft Internet Explorer"==navigator.appName&&(t=navigator.userAgent,e=/MSIE ([0-9]{1,}[.0-9]{0,})/,null!==e.exec(t)&&(n=parseFloat(RegExp.$1))),n},t.applyLang=function(e,n){var r=t.translations;n.dayNames=t.extend({},t.dayNames),n.shortDayNames=t.extend({},t.shortDayNames),n.monthNames=t.extend({},t.monthNames),n.shortMonthNames=t.extend({},t.shortMonthNames),n.amString="am",n.pmString="pm",r&&(r=r[e])&&(t.lang=r,n.langObj=r,r.monthNames&&(n.dayNames=t.extend({},r.dayNames),n.shortDayNames=t.extend({},r.shortDayNames),n.monthNames=t.extend({},r.monthNames),n.shortMonthNames=t.extend({},r.shortMonthNames)),r.am&&(n.amString=r.am),r.pm&&(n.pmString=r.pm)),t.amString=n.amString,t.pmString=n.pmString},t.IEversion=t.getIEVersion(),9>t.IEversion&&0<t.IEversion&&(t.isModern=!1,t.isIE=!0),t.dx=0,t.dy=0,(document.addEventListener||window.opera)&&(t.isNN=!0,t.isIE=!1,t.dx=.5,t.dy=.5),document.attachEvent&&(t.isNN=!1,t.isIE=!0,t.isModern||(t.dx=0,t.dy=0)),window.chrome&&(t.chrome=!0),t.handleMouseUp=function(e){for(var n=t.charts,r=0;r<n.length;r++){var i=n[r];i&&i.handleReleaseOutside&&i.handleReleaseOutside(e)}},t.handleMouseMove=function(e){for(var n=t.charts,r=0;r<n.length;r++){var i=n[r];i&&i.handleMouseMove&&i.handleMouseMove(e)}},t.handleWheel=function(e){for(var n=t.charts,r=0;r<n.length;r++){var i=n[r];if(i&&i.mouseIsOver){(i.mouseWheelScrollEnabled||i.mouseWheelZoomEnabled)&&i.handleWheel&&i.handleWheel(e);break}}},t.resetMouseOver=function(){for(var e=t.charts,n=0;n<e.length;n++){var r=e[n];r&&(r.mouseIsOver=!1)}},t.ready=function(e){t.onReadyArray.push(e)},t.handleLoad=function(){t.isReady=!0;for(var e=t.onReadyArray,n=0;n<e.length;n++){var r=e[n];isNaN(t.processDelay)?r():setTimeout(r,t.processDelay*n)}},t.addInitHandler=function(e,n){t.initHandlers.push({method:e,types:n})},t.callInitHandler=function(e){var n=t.initHandlers;if(t.initHandlers)for(var r=0;r<n.length;r++){var i=n[r];i.types?t.isInArray(i.types,e.type)&&i.method(e):i.method(e)}},t.getUniqueId=function(){return t.uid++,"AmChartsEl-"+t.uid},t.isNN&&(document.addEventListener("mousemove",t.handleMouseMove),document.addEventListener("mouseup",t.handleMouseUp,!0),window.addEventListener("load",t.handleLoad,!0),window.addEventListener("DOMMouseScroll",t.handleWheel,!0),document.addEventListener("mousewheel",t.handleWheel,!0)),t.isIE&&(document.attachEvent("onmousemove",t.handleMouseMove),document.attachEvent("onmouseup",t.handleMouseUp),window.attachEvent("onload",t.handleLoad),document.attachEvent("onmousewheel",t.handleWheel)),t.clear=function(){var e=t.charts;if(e)for(var n=e.length-1;0<=n;n--)e[n].clear();t.updateInt&&clearInterval(t.updateInt),t.requestAnimation&&window.cancelAnimationFrame(t.requestAnimation),t.charts=[],t.isNN&&(document.removeEventListener("mousemove",t.handleMouseMove,!0),document.removeEventListener("mouseup",t.handleMouseUp,!0),window.removeEventListener("load",t.handleLoad,!0),window.removeEventListener("DOMMouseScroll",t.handleWheel,!0),document.removeEventListener("mousewheel",t.handleWheel,!0)),t.isIE&&(document.detachEvent("onmousemove",t.handleMouseMove),document.detachEvent("onmouseup",t.handleMouseUp),window.detachEvent("onload",t.handleLoad))},t.makeChart=function(e,n,r){var i=n.type,a=n.theme;t.isString(a)&&(a=t.themes[a],n.theme=a);var o;switch(i){case"serial":o=new t.AmSerialChart(a);break;case"xy":o=new t.AmXYChart(a);break;case"pie":o=new t.AmPieChart(a);break;case"radar":o=new t.AmRadarChart(a);break;case"gauge":o=new t.AmAngularGauge(a);break;case"funnel":o=new t.AmFunnelChart(a);break;case"map":o=new t.AmMap(a);break;case"stock":o=new t.AmStockChart(a);break;case"gantt":o=new t.AmGanttChart(a)}return t.extend(o,n),t.isReady?isNaN(r)?o.write(e):setTimeout(function(){t.realWrite(o,e)},r):t.ready(function(){isNaN(r)?o.write(e):setTimeout(function(){t.realWrite(o,e)},r)}),o},t.realWrite=function(t,e){t.write(e)},t.updateCount=0,t.validateAt=Math.round(t.updateRate/10),t.update=function(){var e=t.charts;t.updateCount++;var n=!1;if(t.updateCount==t.validateAt&&(n=!0,t.updateCount=0),e)for(var r=e.length-1;0<=r;r--)e[r].update&&e[r].update(),n&&(e[r].autoResize?e[r].validateSize&&e[r].validateSize():e[r].premeasure&&e[r].premeasure());window.requestAnimationFrame&&(t.requestAnimation=window.requestAnimationFrame(t.update))},t.bezierX=3,t.bezierY=6,"complete"==document.readyState&&t.handleLoad()}(),function(){var t=window.AmCharts;t.toBoolean=function(t,e){if(void 0===t)return e;switch(String(t).toLowerCase()){case"true":case"yes":case"1":return!0;case"false":case"no":case"0":case null:return!1;default:return!!t}},t.removeFromArray=function(t,e){var n;if(void 0!==e&&void 0!==t)for(n=t.length-1;0<=n;n--)t[n]==e&&t.splice(n,1)},t.getPath=function(){var t=document.getElementsByTagName("script");if(t)for(var e=0;e<t.length;e++){var n=t[e].src;if(-1!==n.search(/\/(amcharts|ammap)\.js/))return n.replace(/\/(amcharts|ammap)\.js.*/,"/")}},t.normalizeUrl=function(t){return""!==t&&-1===t.search(/\/$/)?t+"/":t},t.isAbsolute=function(t){return 0===t.search(/^http[s]?:|^\//)},t.isInArray=function(t,e){for(var n=0;n<t.length;n++)if(t[n]==e)return!0;return!1},t.getDecimals=function(t){var e=0;return isNaN(t)||(t=String(t),-1!=t.indexOf("e-")?e=Number(t.split("-")[1]):-1!=t.indexOf(".")&&(e=t.split(".")[1].length)),e},t.wordwrap=function(e,n,r,i){var a,o,s,l;if(e+="",1>n)return e;for(a=-1,e=(l=e.split(/\r\n|\n|\r/)).length;++a<e;l[a]+=s){for(s=l[a],l[a]="";s.length>n;l[a]+=t.trim(s.slice(0,o))+((s=s.slice(o)).length?r:""))o=2==i||(o=s.slice(0,n+1).match(/\S*(\s)?$/))[1]?n:o.input.length-o[0].length||1==i&&n||o.input.length+(o=s.slice(n).match(/^\S*/))[0].length;s=t.trim(s)}return l.join(r)},t.trim=function(t){return t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},t.wrappedText=function(e,n,r,i,a,o,s,l){var u=t.text(e,n,r,i,a,o,s);if(u){var c=u.getBBox();if(c.width>l){var h="\n";t.isModern||(h="<br>"),l=Math.floor(l/(c.width/n.length)),2<l&&(l-=2),n=t.wordwrap(n,l,h,!0),u.remove(),u=t.text(e,n,r,i,a,o,s)}}return u},t.getStyle=function(t,e){var n="";if(document.defaultView&&document.defaultView.getComputedStyle)try{n=document.defaultView.getComputedStyle(t,"").getPropertyValue(e)}catch(t){}else t.currentStyle&&(e=e.replace(/\-(\w)/g,function(t,e){return e.toUpperCase()}),n=t.currentStyle[e]);return n},t.removePx=function(t){if(void 0!==t)return Number(t.substring(0,t.length-2))},t.getURL=function(e,n){if(e)if("_self"!=n&&n)if("_top"==n&&window.top)window.top.location.href=e;else if("_parent"==n&&window.parent)window.parent.location.href=e;else if("_blank"==n)window.open(e);else{var r=document.getElementsByName(n)[0];r?r.src=e:(r=t.windows[n])&&r.opener&&!r.opener.closed?r.location.href=e:t.windows[n]=window.open(e)}else window.location.href=e},t.ifArray=function(t){return!!(t&&"object"==("undefined"==typeof t?"undefined":n(t))&&0<t.length)},t.callMethod=function(t,e){var n;for(n=0;n<e.length;n++){var r=e[n];if(r){r[t]&&r[t]();var i=r.length;if(0<i){var a;for(a=0;a<i;a++){var o=r[a];o&&o[t]&&o[t]()}}}}},t.toNumber=function(t){return"number"==typeof t?t:Number(String(t).replace(/[^0-9\-.]+/g,""))},t.toColor=function(t){if(""!==t&&void 0!==t)if(-1!=t.indexOf(",")){t=t.split(",");var e;for(e=0;e<t.length;e++){var n=t[e].substring(t[e].length-6,t[e].length);t[e]="#"+n}}else t=t.substring(t.length-6,t.length),t="#"+t;return t},t.toCoordinate=function(t,e,n){var r;return void 0!==t&&(t=String(t),n&&n<e&&(e=n),r=Number(t),-1!=t.indexOf("!")&&(r=e-Number(t.substr(1))),-1!=t.indexOf("%")&&(r=e*Number(t.substr(0,t.length-1))/100)),r},t.fitToBounds=function(t,e,n){return t<e&&(t=e),t>n&&(t=n),t},t.isDefined=function(t){return void 0!==t},t.stripNumbers=function(t){return t.replace(/[0-9]+/g,"")},t.roundTo=function(t,e){if(0>e)return t;var n=Math.pow(10,e);return Math.round(t*n)/n},t.toFixed=function(t,e){var n=String(Math.round(t*Math.pow(10,e)));if(0<e){var r=n.length;if(r<e){var i;for(i=0;i<e-r;i++)n="0"+n}return r=n.substring(0,n.length-e),""===r&&(r=0),r+"."+n.substring(n.length-e,n.length)}return String(n)},t.formatDuration=function(e,n,r,i,a,o){var s=t.intervals,l=o.decimalSeparator;if(e>=s[n].contains){var u=e-Math.floor(e/s[n].contains)*s[n].contains;return"ss"==n?(u=t.formatNumber(u,o),1==u.split(l)[0].length&&(u="0"+u)):u=t.roundTo(u,o.precision),("mm"==n||"hh"==n)&&10>u&&(u="0"+u),r=u+""+i[n]+r,e=Math.floor(e/s[n].contains),n=s[n].nextInterval,t.formatDuration(e,n,r,i,a,o)}if("ss"==n&&(e=t.formatNumber(e,o),1==e.split(l)[0].length&&(e="0"+e)),("mm"==n||"hh"==n)&&10>e&&(e="0"+e),r=e+""+i[n]+r,s[a].count>s[n].count)for(e=s[n].count;e<s[a].count;e++)n=s[n].nextInterval,"ss"==n||"mm"==n||"hh"==n?r="00"+i[n]+r:"DD"==n&&(r="0"+i[n]+r);return":"==r.charAt(r.length-1)&&(r=r.substring(0,r.length-1)),r},t.formatNumber=function(e,n,r,i,a){e=t.roundTo(e,n.precision),isNaN(r)&&(r=n.precision);var o=n.decimalSeparator;n=n.thousandsSeparator;var s;s=0>e?"-":"",e=Math.abs(e);var l=String(e),u=!1;-1!=l.indexOf("e")&&(u=!0),0<=r&&!u&&(l=t.toFixed(e,r));var c="";if(u)c=l;else{var h,l=l.split("."),u=String(l[0]);for(h=u.length;0<=h;h-=3)c=h!=u.length?0!==h?u.substring(h-3,h)+n+c:u.substring(h-3,h)+c:u.substring(h-3,h);void 0!==l[1]&&(c=c+o+l[1]),void 0!==r&&0<r&&"0"!=c&&(c=t.addZeroes(c,o,r))}return c=s+c,""===s&&!0===i&&0!==e&&(c="+"+c),!0===a&&(c+="%"),c},t.addZeroes=function(e,n,r){return e=e.split(n),void 0===e[1]&&0<r&&(e[1]="0"),e[1].length<r?(e[1]+="0",t.addZeroes(e[0]+n+e[1],n,r)):void 0!==e[1]?e[0]+n+e[1]:e[0]},t.scientificToNormal=function(t){var e;t=String(t).split("e");var n;if("-"==t[1].substr(0,1)){for(e="0.",n=0;n<Math.abs(Number(t[1]))-1;n++)e+="0";e+=t[0].split(".").join("")}else{var r=0;for(e=t[0].split("."),e[1]&&(r=e[1].length),e=t[0].split(".").join(""),n=0;n<Math.abs(Number(t[1]))-r;n++)e+="0"}return e},t.toScientific=function(t,e){if(0===t)return"0";var n=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),r=String(r).split(".").join(e);return String(r)+"e"+n},t.randomColor=function(){return"#"+("00000"+(16777216*Math.random()<<0).toString(16)).substr(-6)},t.hitTest=function(e,n,r){var i=!1,a=e.x,o=e.x+e.width,s=e.y,l=e.y+e.height,u=t.isInRectangle;return i||(i=u(a,s,n)),i||(i=u(a,l,n)),i||(i=u(o,s,n)),i||(i=u(o,l,n)),i||!0===r||(i=t.hitTest(n,e,!0)),i},t.isInRectangle=function(t,e,n){return t>=n.x-5&&t<=n.x+n.width+5&&e>=n.y-5&&e<=n.y+n.height+5},t.isPercents=function(t){if(-1!=String(t).indexOf("%"))return!0},t.formatValue=function(e,n,r,i,a,o,s,l){if(n){void 0===a&&(a="");var u;for(u=0;u<r.length;u++){var c=r[u],h=n[c];void 0!==h&&(h=o?t.addPrefix(h,l,s,i):t.formatNumber(h,i),e=e.replace(new RegExp("\\[\\["+a+c+"\\]\\]","g"),h))}}return e},t.formatDataContextValue=function(t,e){if(t){var n,r=t.match(/\[\[.*?\]\]/g);for(n=0;n<r.length;n++){var i=r[n],i=i.substr(2,i.length-4);void 0!==e[i]&&(t=t.replace(new RegExp("\\[\\["+i+"\\]\\]","g"),e[i]))}}return t},t.massReplace=function(t,e){for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];void 0===r&&(r=""),t=t.replace(n,r)}return t},t.cleanFromEmpty=function(t){return t.replace(/\[\[[^\]]*\]\]/g,"")},t.addPrefix=function(e,n,r,i,a){var o,s,l,u=t.formatNumber(e,i),c="";if(0===e)return"0";if(0>e&&(c="-"),e=Math.abs(e),1<e){for(o=n.length-1;-1<o;o--)if(e>=n[o].number&&(s=e/n[o].number,l=Number(i.precision),1>l&&(l=1),r=t.roundTo(s,l),l=t.formatNumber(r,{precision:-1,decimalSeparator:i.decimalSeparator,thousandsSeparator:i.thousandsSeparator}),!a||s==r)){u=c+""+l+n[o].prefix;break}}else for(o=0;o<r.length;o++)if(e<=r[o].number){s=e/r[o].number,l=Math.abs(Math.floor(Math.log(s)*Math.LOG10E)),s=t.roundTo(s,l),u=c+""+s+r[o].prefix;break}return u},t.remove=function(t){t&&t.remove()},t.getEffect=function(t){return">"==t&&(t="easeOutSine"),"<"==t&&(t="easeInSine"),"elastic"==t&&(t="easeOutElastic"),t},t.getObjById=function(t,e){var n,r;for(r=0;r<t.length;r++){var i=t[r];if(i.id==e){n=i;break}}return n},t.applyTheme=function(e,n,r){n||(n=t.theme);try{n=JSON.parse(JSON.stringify(n))}catch(t){}n&&n[r]&&t.extend(e,n[r])},t.isString=function(t){return"string"==typeof t},t.extend=function(t,e,n){var r;t||(t={});for(r in e)n?t.hasOwnProperty(r)||(t[r]=e[r]):t[r]=e[r];return t},t.copyProperties=function(t,e){for(var n in t)t.hasOwnProperty(n)&&"events"!=n&&void 0!==t[n]&&"function"!=typeof t[n]&&"cname"!=n&&(e[n]=t[n])},t.processObject=function(e,n,r,i){if(!1==e instanceof n&&(e=i?t.extend(new n(r),e):t.extend(e,new n(r),!0),e.listeners))for(var a in e.listeners)n=e.listeners[a],e.addListener(n.event,n.method);return e},t.fixNewLines=function(t){var e=RegExp("\\n","g");return t&&(t=t.replace(e,"<br />")),t},t.fixBrakes=function(e){if(t.isModern){var n=RegExp("<br>","g");e&&(e=e.replace(n,"\n"))}else e=t.fixNewLines(e);return e},t.deleteObject=function(e,r){if(e&&(void 0!==r&&null!==r||(r=20),0!==r))if("[object Array]"===Object.prototype.toString.call(e))for(var i=0;i<e.length;i++)t.deleteObject(e[i],r-1),e[i]=null;else if(e&&!e.tagName)try{for(i in e.theme=null,e)e[i]&&("object"==n(e[i])&&t.deleteObject(e[i],r-1),"function"!=typeof e[i]&&(e[i]=null))}catch(t){}},t.bounce=function(t,e,n,r,i){return(e/=i)<1/2.75?7.5625*r*e*e+n:e<2/2.75?r*(7.5625*(e-=1.5/2.75)*e+.75)+n:e<2.5/2.75?r*(7.5625*(e-=2.25/2.75)*e+.9375)+n:r*(7.5625*(e-=2.625/2.75)*e+.984375)+n},t.easeInOutQuad=function(t,e,n,r,i){return e/=i/2,1>e?r/2*e*e+n:(e--,-r/2*(e*(e-2)-1)+n)},t.easeInSine=function(t,e,n,r,i){return-r*Math.cos(e/i*(Math.PI/2))+r+n},t.easeOutSine=function(t,e,n,r,i){return r*Math.sin(e/i*(Math.PI/2))+n},t.easeOutElastic=function(t,e,n,r,i){t=1.70158;var a=0,o=r;return 0===e?n:1==(e/=i)?n+r:(a||(a=.3*i),o<Math.abs(r)?(o=r,t=a/4):t=a/(2*Math.PI)*Math.asin(r/o),o*Math.pow(2,-10*e)*Math.sin(2*(e*i-t)*Math.PI/a)+r+n)},t.fixStepE=function(e){e=e.toExponential(0).split("e");var n=Number(e[1]);return 9==Number(e[0])&&n++,t.generateNumber(1,n)},t.generateNumber=function(t,e){var n,r="";n=0>e?Math.abs(e)-1:Math.abs(e);var i;for(i=0;i<n;i++)r+="0";return 0>e?Number("0."+r+String(t)):Number(String(t)+r)},t.setCN=function(t,e,n,r){if(t.addClassNames&&e&&(e=e.node)&&n){var i=e.getAttribute("class");t=t.classNamePrefix+"-",r&&(t=""),i?e.setAttribute("class",i+" "+t+n):e.setAttribute("class",t+n)}},t.removeCN=function(t,e,n){e&&(e=e.node)&&n&&(e=e.classList)&&e.remove(t.classNamePrefix+"-"+n)},t.parseDefs=function(e,r){for(var i in e){var a=n(e[i]);if(0<e[i].length&&"object"==a)for(var o=0;o<e[i].length;o++)a=document.createElementNS(t.SVG_NS,i),r.appendChild(a),t.parseDefs(e[i][o],a);else"object"==a?(a=document.createElementNS(t.SVG_NS,i),r.appendChild(a),t.parseDefs(e[i],a)):r.setAttribute(i,e[i])}}}(),function(){var t=window.AmCharts;t.AxisBase=t.Class({construct:function(e){this.createEvents("clickItem","rollOverItem","rollOutItem"),this.titleDY=this.y=this.x=this.dy=this.dx=0,this.axisThickness=1,this.axisColor="#000000",this.axisAlpha=1,this.gridCount=this.tickLength=5,this.gridAlpha=.15,this.gridThickness=1,this.gridColor="#000000",this.dashLength=0,this.labelFrequency=1,this.showLastLabel=this.showFirstLabel=!0,this.fillColor="#FFFFFF",this.fillAlpha=0,this.labelsEnabled=!0,this.labelRotation=0,this.autoGridCount=!0,this.offset=0,this.guides=[],this.visible=!0,this.counter=0,this.guides=[],this.ignoreAxisWidth=this.inside=!1,this.minHorizontalGap=75,this.minVerticalGap=35,this.titleBold=!0,this.minorGridEnabled=!1,this.minorGridAlpha=.07,this.autoWrap=!1,this.titleAlign="middle",this.labelOffset=0,this.bcn="axis-",this.centerLabels=!1,this.firstDayOfWeek=1,this.centerLabelOnFullPeriod=this.markPeriodChange=this.boldPeriodBeginning=!0,this.periods=[{period:"fff",count:1},{period:"fff",count:5},{period:"fff",count:10},{period:"fff",count:50},{period:"fff",count:100},{period:"fff",count:500},{period:"ss",count:1},{period:"ss",count:5},{period:"ss",count:10},{period:"ss",count:30},{period:"mm",count:1},{period:"mm",count:5},{period:"mm",count:10},{period:"mm",count:30},{period:"hh",count:1},{period:"hh",count:3},{period:"hh",count:6},{period:"hh",count:12},{period:"DD",count:1},{period:"DD",count:2},{period:"DD",count:3},{period:"DD",count:4},{period:"DD",count:5},{period:"WW",count:1},{period:"MM",count:1},{period:"MM",count:2},{period:"MM",count:3},{period:"MM",count:6},{period:"YYYY",count:1},{period:"YYYY",count:2},{period:"YYYY",count:5},{period:"YYYY",count:10},{period:"YYYY",count:50},{period:"YYYY",count:100}],this.dateFormats=[{period:"fff",format:"NN:SS.QQQ"},{period:"ss",format:"JJ:NN:SS"},{period:"mm",format:"JJ:NN"},{period:"hh",format:"JJ:NN"},{period:"DD",format:"MMM DD"},{period:"WW",format:"MMM DD"},{period:"MM",format:"MMM"},{period:"YYYY",format:"YYYY"}],this.nextPeriod={fff:"ss",ss:"mm",mm:"hh",hh:"DD",DD:"MM",MM:"YYYY"},t.applyTheme(this,e,"AxisBase")},zoom:function(t,e){this.start=t,this.end=e,this.dataChanged=!0,this.draw()},fixAxisPosition:function(){var t=this.position;"H"==this.orientation?("left"==t&&(t="bottom"),"right"==t&&(t="top")):("bottom"==t&&(t="left"),"top"==t&&(t="right")),this.position=t},init:function(){this.createBalloon()},draw:function(){var t=this.chart;this.prevBY=this.prevBX=NaN,this.allLabels=[],this.counter=0,this.destroy(),this.fixAxisPosition(),this.setBalloonBounds(),this.labels=[];var e=t.container,n=e.set();t.gridSet.push(n),this.set=n,e=e.set(),t.axesLabelsSet.push(e),this.labelsSet=e,this.axisLine=new this.axisRenderer(this),this.autoGridCount?("V"==this.orientation?(t=this.height/this.minVerticalGap,3>t&&(t=3)):t=this.width/this.minHorizontalGap,this.gridCountR=Math.max(t,1)):this.gridCountR=this.gridCount,this.axisWidth=this.axisLine.axisWidth,this.addTitle()},setOrientation:function(t){this.orientation=t?"H":"V"},addTitle:function(){var e=this.title;if(this.titleLabel=null,e){var n=this.chart,r=this.titleColor;void 0===r&&(r=n.color);var i=this.titleFontSize;isNaN(i)&&(i=n.fontSize+1),e=t.text(n.container,e,r,n.fontFamily,i,this.titleAlign,this.titleBold),t.setCN(n,e,this.bcn+"title"),this.titleLabel=e}},positionTitle:function(){var e=this.titleLabel;if(e){var n,r,i=this.labelsSet,a={};0<i.length()?a=i.getBBox():(a.x=0,a.y=0,a.width=this.width,a.height=this.height,t.VML&&(a.y+=this.y,a.x+=this.x)),i.push(e);var i=a.x,o=a.y;t.VML&&(o-=this.y,i-=this.x);var s=a.width,a=a.height,l=this.width,u=this.height,c=0,h=e.getBBox().height/2,g=this.inside,d=this.titleAlign;switch(this.position){case"top":n="left"==d?-1:"right"==d?l:l/2,r=o-10-h;break;case"bottom":n="left"==d?-1:"right"==d?l:l/2,r=o+a+10+h;break;case"left":n=i-10-h,g&&(n-=5),c=-90,r=("left"==d?u+1:"right"==d?-1:u/2)+this.titleDY;break;case"right":n=i+s+10+h,g&&(n+=7),
r=("left"==d?u+2:"right"==d?-2:u/2)+this.titleDY,c=-90}this.marginsChanged?(e.translate(n,r),this.tx=n,this.ty=r):e.translate(this.tx,this.ty),this.marginsChanged=!1,isNaN(this.titleRotation)||(c=this.titleRotation),0!==c&&e.rotate(c)}},pushAxisItem:function(t,e){var n=this,r=t.graphics();0<r.length()&&(e?n.labelsSet.push(r):n.set.push(r)),(r=t.getLabel())&&(n.labelsSet.push(r),r.click(function(e){n.handleMouse(e,t,"clickItem")}).touchend(function(e){n.handleMouse(e,t,"clickItem")}).mouseover(function(e){n.handleMouse(e,t,"rollOverItem")}).mouseout(function(e){n.handleMouse(e,t,"rollOutItem")}))},handleMouse:function(t,e,n){this.fire({type:n,value:e.value,serialDataItem:e.serialDataItem,axis:this,target:e.label,chart:this.chart,event:t})},addGuide:function(e){for(var n=this.guides,r=!1,i=n.length,a=0;a<n.length;a++)n[a]==e&&(r=!0,i=a);e=t.processObject(e,t.Guide,this.theme),e.id||(e.id="guideAuto"+i+"_"+(new Date).getTime()),r||n.push(e)},removeGuide:function(t){var e,n=this.guides;for(e=0;e<n.length;e++)n[e]==t&&n.splice(e,1)},handleGuideOver:function(t){clearTimeout(this.chart.hoverInt);var e=t.graphics.getBBox(),n=this.x+e.x+e.width/2,e=this.y+e.y+e.height/2,r=t.fillColor;void 0===r&&(r=t.lineColor),this.chart.showBalloon(t.balloonText,r,!0,n,e)},handleGuideOut:function(){this.chart.hideBalloon()},addEventListeners:function(t,e){var n=this;t.mouseover(function(){n.handleGuideOver(e)}),t.touchstart(function(){n.handleGuideOver(e)}),t.mouseout(function(){n.handleGuideOut(e)})},getBBox:function(){var e;return this.labelsSet&&(e=this.labelsSet.getBBox()),e?t.VML||(e={x:e.x+this.x,y:e.y+this.y,width:e.width,height:e.height}):e={x:0,y:0,width:0,height:0},e},destroy:function(){t.remove(this.set),t.remove(this.labelsSet);var e=this.axisLine;e&&t.remove(e.axisSet),t.remove(this.grid0)},chooseMinorFrequency:function(t){for(var e=10;0<e;e--)if(t/e==Math.round(t/e))return t/e},parseDatesDraw:function(){var e,n,r,i,a,o,s,l=this.chart,u=this.showFirstLabel,c=this.showLastLabel,h="",g=t.extractPeriod(this.minPeriod),d=t.getPeriodDuration(g.period,g.count),p=this.firstDayOfWeek,f=this.boldPeriodBeginning;e=this.minorGridEnabled;var A,C,I=this.gridAlpha,m=this.choosePeriod(0),v=m.period,m=m.count,y=t.getPeriodDuration(v,m);y<d&&(v=g.period,m=g.count,y=d),g=v,"WW"==g&&(g="DD"),this.stepWidth=this.getStepWidth(this.timeDifference);var b=Math.ceil(this.timeDifference/y)+5,x=r=t.resetDateToMin(new Date(this.startTime-y),v,m,p).getTime();(g==v&&1==m&&this.centerLabelOnFullPeriod||this.autoWrap||this.centerLabels)&&(a=y*this.stepWidth,this.autoWrap&&!this.centerLabels&&(a=-a)),this.cellWidth=d*this.stepWidth,o=Math.round(r/y),d=-1,o/2==Math.round(o/2)&&(d=-2,r-=y),o=this.firstTime;var w=0,S=0;if(e&&1<m&&(A=this.chooseMinorFrequency(m),C=t.getPeriodDuration(v,A),"DD"==v&&(C+=t.getPeriodDuration("hh")),"fff"==v&&(C=1)),0<this.gridCountR)for(b-5-d>this.autoRotateCount&&!isNaN(this.autoRotateAngle)&&(this.labelRotationR=this.autoRotateAngle),e=d;e<=b;e++){if(s=o+y*(e+Math.floor((x-o)/y))-w,"DD"==v&&(s+=36e5),s=t.resetDateToMin(new Date(s),v,m,p).getTime(),"MM"==v&&(n=(s-r)/y,1.5<=(s-r)/y&&(s=s-(n-1)*y+t.getPeriodDuration("DD",3),s=t.resetDateToMin(new Date(s),v,1).getTime(),w+=y)),n=(s-this.startTime)*this.stepWidth,"radar"==l.type){if(n=this.axisWidth-n,0>n||n>this.axisWidth)continue}else this.rotate?"date"==this.type&&"middle"==this.gridPosition&&(S=-y*this.stepWidth/2):"date"==this.type&&(n=this.axisWidth-n);if(h=!1,this.nextPeriod[g]&&(h=this.checkPeriodChange(this.nextPeriod[g],1,s,r,g)),r=!1,h&&this.markPeriodChange?(h=this.dateFormatsObject[this.nextPeriod[g]],this.twoLineMode&&(h=this.dateFormatsObject[g]+"\n"+h,h=t.fixBrakes(h)),r=!0):h=this.dateFormatsObject[g],f||(r=!1),this.currentDateFormat=h,h=t.formatDate(new Date(s),h,l),(e==d&&!u||e==b&&!c)&&(h=" "),this.labelFunction&&(h=this.labelFunction(h,new Date(s),this,v,m,i).toString()),this.boldLabels&&(r=!0),i=new this.axisItemRenderer(this,n,h,!1,a,S,!1,r),this.pushAxisItem(i),i=r=s,!isNaN(A))for(n=1;n<m;n+=A)this.gridAlpha=this.minorGridAlpha,h=s+C*n,h=t.resetDateToMin(new Date(h),v,A,p).getTime(),h=new this.axisItemRenderer(this,(h-this.startTime)*this.stepWidth,void 0,void 0,void 0,void 0,void 0,void 0,void 0,!0),this.pushAxisItem(h);this.gridAlpha=I}},choosePeriod:function(e){var n=t.getPeriodDuration(this.periods[e].period,this.periods[e].count),r=this.periods;return this.timeDifference<n&&0<e?r[e-1]:Math.ceil(this.timeDifference/n)<=this.gridCountR?r[e]:e+1<r.length?this.choosePeriod(e+1):r[e]},getStepWidth:function(t){var e;return this.startOnAxis?(e=this.axisWidth/(t-1),1==t&&(e=this.axisWidth)):e=this.axisWidth/t,e},timeZoom:function(t,e){this.startTime=t,this.endTime=e},minDuration:function(){var e=t.extractPeriod(this.minPeriod);return t.getPeriodDuration(e.period,e.count)},checkPeriodChange:function(e,n,r,i,a){r=new Date(r);var o=new Date(i),s=this.firstDayOfWeek;return i=n,"DD"==e&&(n=1),r=t.resetDateToMin(r,e,n,s).getTime(),n=t.resetDateToMin(o,e,n,s).getTime(),!("DD"==e&&"hh"!=a&&r-n<t.getPeriodDuration(e,i)-t.getPeriodDuration("hh",1))&&r!=n},generateDFObject:function(){this.dateFormatsObject={};var t;for(t=0;t<this.dateFormats.length;t++){var e=this.dateFormats[t];this.dateFormatsObject[e.period]=e.format}},hideBalloon:function(){this.balloon&&this.balloon.hide&&this.balloon.hide(),this.prevBY=this.prevBX=NaN},formatBalloonText:function(t){return t},showBalloon:function(t,e,n,r){var i=this.offset;switch(this.position){case"bottom":e=this.height+i;break;case"top":e=-i;break;case"left":t=-i;break;case"right":t=this.width+i}if(n||(n=this.currentDateFormat),"V"==this.orientation){if(0>e||e>this.height)return;if(isNaN(e))return void this.hideBalloon();e=this.adjustBalloonCoordinate(e,r),r=this.coordinateToValue(e)}else{if(0>t||t>this.width)return;if(isNaN(t))return void this.hideBalloon();t=this.adjustBalloonCoordinate(t,r),r=this.coordinateToValue(t)}var a;(i=this.chart.chartCursor)&&(a=i.index),this.balloon&&void 0!==r&&this.balloon.enabled&&(this.balloonTextFunction?("date"!=this.type&&!0!==this.parseDates||(r=new Date(r)),r=this.balloonTextFunction(r)):this.balloonText?r=this.formatBalloonText(this.balloonText,a,n):isNaN(r)||(r=this.formatValue(r,n)),t==this.prevBX&&e==this.prevBY||(this.balloon.setPosition(t,e),this.prevBX=t,this.prevBY=e,r&&this.balloon.showBalloon(r)))},adjustBalloonCoordinate:function(t){return t},createBalloon:function(){var e=this.chart,n=e.chartCursor;n&&(n=n.cursorPosition,"mouse"!=n&&(this.stickBalloonToCategory=!0),"start"==n&&(this.stickBalloonToStart=!0),"ValueAxis"==this.cname&&(this.stickBalloonToCategory=!1)),this.balloon&&(this.balloon.destroy&&this.balloon.destroy(),t.extend(this.balloon,e.balloon,!0))},setBalloonBounds:function(){var t=this.balloon;if(t){var e=this.chart;t.cornerRadius=0,t.shadowAlpha=0,t.borderThickness=1,t.borderAlpha=1,t.adjustBorderColor=!1,t.showBullet=!1,this.balloon=t,t.chart=e,t.mainSet=e.plotBalloonsSet,t.pointerWidth=this.tickLength,(this.parseDates||"date"==this.type)&&(t.pointerWidth=0),t.className=this.id,e="V","V"==this.orientation&&(e="H"),this.stickBalloonToCategory||(t.animationDuration=0);var n,r,i,a,o=this.inside,s=this.width,l=this.height;switch(this.position){case"bottom":n=0,r=s,o?(i=0,a=l):(i=l,a=l+1e3);break;case"top":n=0,r=s,o?(i=0,a=l):(i=-1e3,a=0);break;case"left":i=0,a=l,o?(n=0,r=s):(n=-1e3,r=0);break;case"right":i=0,a=l,o?(n=0,r=s):(n=s,r=s+1e3)}t.drop||(t.pointerOrientation=e),t.setBounds(n,i,r,a)}}})}(),function(){var t=window.AmCharts;t.ValueAxis=t.Class({inherits:t.AxisBase,construct:function(e){this.cname="ValueAxis",this.createEvents("axisChanged","logarithmicAxisFailed","axisZoomed","axisIntZoomed"),t.ValueAxis.base.construct.call(this,e),this.dataChanged=!0,this.stackType="none",this.position="left",this.unitPosition="right",this.includeAllValues=this.recalculateToPercents=this.includeHidden=this.includeGuidesInMinMax=this.integersOnly=!1,this.durationUnits={DD:"d. ",hh:":",mm:":",ss:""},this.scrollbar=!1,this.baseValue=0,this.radarCategoriesEnabled=!0,this.axisFrequency=1,this.gridType="polygons",this.useScientificNotation=!1,this.axisTitleOffset=10,this.pointPosition="axis",this.minMaxMultiplier=1,this.logGridLimit=2,this.totalTextOffset=this.treatZeroAs=0,this.minPeriod="ss",this.relativeStart=0,this.relativeEnd=1,t.applyTheme(this,e,this.cname)},updateData:function(){0>=this.gridCountR&&(this.gridCountR=1),this.totals=[],this.data=this.chart.chartData;var e=this.chart;"xy"!=e.type&&(this.stackGraphs("smoothedLine"),this.stackGraphs("line"),this.stackGraphs("column"),this.stackGraphs("step")),this.recalculateToPercents&&this.recalculate(),this.synchronizationMultiplier&&this.synchronizeWith?(t.isString(this.synchronizeWith)&&(this.synchronizeWith=e.getValueAxisById(this.synchronizeWith)),this.synchronizeWith&&(this.synchronizeWithAxis(this.synchronizeWith),this.foundGraphs=!0)):(this.foundGraphs=!1,this.getMinMax(),0===this.start&&this.end==this.data.length-1&&isNaN(this.minZoom)&&isNaN(this.maxZoom)&&(this.fullMin=this.min,this.fullMax=this.max,"date"!=this.type&&this.strictMinMax&&(isNaN(this.minimum)||(this.fullMin=this.minimum),isNaN(this.maximum)||(this.fullMax=this.maximum)),this.logarithmic&&(this.fullMin=this.logMin,0===this.fullMin&&(this.fullMin=this.treatZeroAs)),"date"==this.type&&(this.minimumDate||(this.fullMin=this.minRR),this.maximumDate||(this.fullMax=this.maxRR))))},draw:function(){t.ValueAxis.base.draw.call(this);var e=this.chart,n=this.set;this.labelRotationR=this.labelRotation,t.setCN(e,this.set,"value-axis value-axis-"+this.id),t.setCN(e,this.labelsSet,"value-axis value-axis-"+this.id),t.setCN(e,this.axisLine.axisSet,"value-axis value-axis-"+this.id);var r=this.type;if("duration"==r&&(this.duration="ss"),!0===this.dataChanged&&(this.updateData(),this.dataChanged=!1),"date"==r&&(this.logarithmic=!1,this.min=this.minRR,this.max=this.maxRR,this.reversed=!1,this.getDateMinMax()),this.logarithmic){var i=this.treatZeroAs,a=this.getExtremes(0,this.data.length-1).min;if(!isNaN(this.minimum)&&this.minimum<a&&(a=this.minimum),this.logMin=a,this.minReal<a&&(this.minReal=a),isNaN(this.minReal)&&(this.minReal=a),0<i&&0===a&&(this.minReal=a=i),0>=a||0>=this.minimum)return void this.fire({type:"logarithmicAxisFailed",chart:e})}this.grid0=null;var o,s,l=e.dx,u=e.dy,i=!1,a=this.logarithmic;if(isNaN(this.min)||isNaN(this.max)||!this.foundGraphs||1/0==this.min||-(1/0)==this.max)i=!0;else{"date"==this.type&&this.min==this.max&&(this.max+=this.minDuration(),this.min-=this.minDuration());var c=this.labelFrequency,h=this.showFirstLabel,g=this.showLastLabel,d=1,p=0;if(this.minCalc=this.min,this.maxCalc=this.max,this.strictMinMax&&(isNaN(this.minimum)||(this.min=this.minimum),isNaN(this.maximum)||(this.max=this.maximum),this.min==this.max))return;if(isNaN(this.minZoom)||(this.minReal=this.min=this.minZoom),isNaN(this.maxZoom)||(this.max=this.maxZoom),this.logarithmic){s=Math.log(this.fullMax)*Math.LOG10E-Math.log(this.fullMin)*Math.LOG10E;var f=Math.log(this.max)/Math.LN10-Math.log(this.fullMin)*Math.LOG10E;this.relativeStart=(Math.log(this.minReal)/Math.LN10-Math.log(this.fullMin)*Math.LOG10E)/s,this.relativeEnd=f/s}else this.relativeStart=t.fitToBounds((this.min-this.fullMin)/(this.fullMax-this.fullMin),0,1),this.relativeEnd=t.fitToBounds((this.max-this.fullMin)/(this.fullMax-this.fullMin),0,1);var A,f=Math.round((this.maxCalc-this.minCalc)/this.step)+1;!0===a?(A=Math.log(this.max)*Math.LOG10E-Math.log(this.minReal)*Math.LOG10E,this.stepWidth=this.axisWidth/A,A>this.logGridLimit&&(f=Math.ceil(Math.log(this.max)*Math.LOG10E)+1,p=Math.round(Math.log(this.minReal)*Math.LOG10E),f>this.gridCountR&&(d=Math.ceil(f/this.gridCountR)))):this.stepWidth=this.axisWidth/(this.max-this.min);var C=0;1>this.step&&-1<this.step&&(C=t.getDecimals(this.step)),this.integersOnly&&(C=0),C>this.maxDecCount&&(C=this.maxDecCount);var I=this.precision;isNaN(I)||(C=I),isNaN(this.maxZoom)&&(this.max=t.roundTo(this.max,this.maxDecCount),this.min=t.roundTo(this.min,this.maxDecCount)),s={},s.precision=C,s.decimalSeparator=e.nf.decimalSeparator,s.thousandsSeparator=e.nf.thousandsSeparator,this.numberFormatter=s;var m;for(this.exponential=!1,s=p;s<f;s+=d){var v=t.roundTo(this.step*s+this.min,C);-1!=String(v).indexOf("e")&&(this.exponential=!0)}this.duration&&(this.maxInterval=t.getMaxInterval(this.max,this.duration));var y,C=this.step,v=this.minorGridAlpha;if(this.minorGridEnabled&&(y=this.getMinorGridStep(C,this.stepWidth*C)),this.autoGridCount||0!==this.gridCount)if("date"==r)this.generateDFObject(),this.timeDifference=this.max-this.min,this.maxTime=this.lastTime=this.max,this.startTime=this.firstTime=this.min,this.parseDatesDraw();else for(f>=this.autoRotateCount&&!isNaN(this.autoRotateAngle)&&(this.labelRotationR=this.autoRotateAngle),r=this.minCalc,a&&(f++,r=this.maxCalc-f*C),this.gridCountReal=f,s=this.startCount=p;s<f;s+=d)if(p=C*s+r,p=t.roundTo(p,this.maxDecCount+1),(!this.integersOnly||Math.round(p)==p)&&(isNaN(I)||Number(t.toFixed(p,I))==p)){if(!0===a)if(A>this.logGridLimit)p=Math.pow(10,s);else if(0>=p&&(p=r+C*s+C/2,0>=p))continue;m=this.formatValue(p,!1,s),Math.round(s/c)!=s/c&&(m=void 0),(0===s&&!h||s==f-1&&!g)&&(m=" "),o=this.getCoordinate(p);var b;if(this.rotate&&this.autoWrap&&(b=this.stepWidth*C-10),m=new this.axisItemRenderer(this,o,m,void 0,b,void 0,void 0,this.boldLabels),this.pushAxisItem(m),p==this.baseValue&&"radar"!=e.type){var x,w,S=this.width,T=this.height;"H"==this.orientation?0<=o&&o<=S+1&&(x=[o,o,o+l],w=[T,0,u]):0<=o&&o<=T+1&&(x=[0,S,S+l],w=[o,o,o+u]),x&&(o=t.fitToBounds(2*this.gridAlpha,0,1),isNaN(this.zeroGridAlpha)||(o=this.zeroGridAlpha),o=t.line(e.container,x,w,this.gridColor,o,1,this.dashLength),o.translate(this.x,this.y),this.grid0=o,e.axesSet.push(o),o.toBack(),t.setCN(e,o,this.bcn+"zero-grid-"+this.id),t.setCN(e,o,this.bcn+"zero-grid"))}if(!isNaN(y)&&0<v&&s<f-1){for(o=C/y,a&&(y=C*(s+d)+this.minCalc,y=t.roundTo(y,this.maxDecCount+1),A>this.logGridLimit&&(y=Math.pow(10,s+d)),o=9,y=(y-p)/o),S=this.gridAlpha,this.gridAlpha=this.minorGridAlpha,T=1;T<o;T++){var N=this.getCoordinate(p+y*T),N=new this.axisItemRenderer(this,N,"",!1,0,0,!1,!1,0,!0);this.pushAxisItem(N)}this.gridAlpha=S}}if(A=this.guides,b=A.length,0<b){for(x=this.fillAlpha,s=this.fillAlpha=0;s<b;s++)w=A[s],l=NaN,y=w.above,isNaN(w.toValue)||(l=this.getCoordinate(w.toValue),m=new this.axisItemRenderer(this,l,"",!0,NaN,NaN,w),this.pushAxisItem(m,y)),u=NaN,isNaN(w.value)||(u=this.getCoordinate(w.value),m=new this.axisItemRenderer(this,u,w.label,!0,NaN,(l-u)/2,w),this.pushAxisItem(m,y)),isNaN(l)&&(u-=3,l=u+3),w.balloonText&&m&&(c=m.label)&&this.addEventListeners(c,w),isNaN(l-u)||0>u&&0>l||(l=new this.guideFillRenderer(this,u,l,w),this.pushAxisItem(l,y),y=l.graphics(),w.graphics=y,w.balloonText&&this.addEventListeners(y,w));this.fillAlpha=x}m=this.baseValue,this.min>this.baseValue&&this.max>this.baseValue&&(m=this.min),this.min<this.baseValue&&this.max<this.baseValue&&(m=this.max),a&&m<this.minReal&&(m=this.minReal),this.baseCoord=this.getCoordinate(m,!0),m={type:"axisChanged",target:this,chart:e},m.min=a?this.minReal:this.min,m.max=this.max,this.fire(m),this.axisCreated=!0}a=this.axisLine.set,m=this.labelsSet,n.translate(this.x,this.y),m.translate(this.x,this.y),this.positionTitle(),"radar"!=e.type&&a.toFront(),!this.visible||i?(n.hide(),a.hide(),m.hide()):(n.show(),a.show(),m.show()),this.axisY=this.y,this.axisX=this.x},getDateMinMax:function(){this.minimumDate&&(this.minimumDate instanceof Date||(this.minimumDate=t.getDate(this.minimumDate,this.chart.dataDateFormat,"fff")),this.min=this.minimumDate.getTime()),this.maximumDate&&(this.maximumDate instanceof Date||(this.maximumDate=t.getDate(this.maximumDate,this.chart.dataDateFormat,"fff")),this.max=this.maximumDate.getTime())},formatValue:function(e,n,r){var i=this.exponential,a=this.logarithmic,o=this.numberFormatter,s=this.chart;if(o)return!0===this.logarithmic&&(i=-1!=String(e).indexOf("e")),this.useScientificNotation&&(i=!0),this.usePrefixes&&(i=!1),i?(r=-1==String(e).indexOf("e")?e.toExponential(15):String(e),i=r.split("e"),r=Number(i[0]),i=Number(i[1]),r=t.roundTo(r,14),n||isNaN(this.precision)||(r=t.roundTo(r,this.precision)),10==r&&(r=1,i+=1),r=r+"e"+i,0===e&&(r="0"),1==e&&(r="1")):(a&&(i=String(e).split("."),i[1]?(o.precision=i[1].length,0>r&&(o.precision=Math.abs(r)),n&&1<e&&(o.precision=0),n||isNaN(this.precision)||(o.precision=this.precision)):o.precision=-1),r=this.usePrefixes?t.addPrefix(e,s.prefixesOfBigNumbers,s.prefixesOfSmallNumbers,o,!n):t.formatNumber(e,o,o.precision)),this.duration&&(n&&(o.precision=0),r=t.formatDuration(e,this.duration,"",this.durationUnits,this.maxInterval,o)),"date"==this.type&&(r=t.formatDate(new Date(e),this.currentDateFormat,s)),this.recalculateToPercents?r+="%":(n=this.unit)&&(r="left"==this.unitPosition?n+r:r+n),this.labelFunction&&(r="date"==this.type?this.labelFunction(r,new Date(e),this).toString():this.labelFunction(e,r,this).toString()),r},getMinorGridStep:function(t,e){var n=[5,4,2];60>e&&n.shift();for(var r=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),i=0;i<n.length;i++){var a=t/n[i],o=Math.floor(Math.log(Math.abs(a))*Math.LOG10E);if(!(1<Math.abs(r-o)))if(1>t){if(o=Math.pow(10,-o)*a,o==Math.round(o))return a}else if(a==Math.round(a))return a}},stackGraphs:function(e){var n=this.stackType;"stacked"==n&&(n="regular"),"line"==n&&(n="none"),"100% stacked"==n&&(n="100%"),this.stackType=n;var r,i,a,o,s,l,u=[],c=[],h=[],g=[],d=this.chart.graphs,p=this.baseValue,f=!1;if("line"!=e&&"step"!=e&&"smoothedLine"!=e||(f=!0),f&&("regular"==n||"100%"==n))for(s=0;s<d.length;s++)o=d[s],o.stackGraph=null,o.hidden||(a=o.type,o.chart==this.chart&&o.valueAxis==this&&e==a&&o.stackable&&(i&&(o.stackGraph=i),i=o));for(o=this.start-10,i=this.end+10,s=this.data.length-1,o=t.fitToBounds(o,0,s),i=t.fitToBounds(i,0,s),l=o;l<=i;l++){var A=0;for(s=0;s<d.length;s++)if(o=d[s],o.hidden)o.newStack&&(h[l]=NaN,c[l]=NaN);else if(a=o.type,o.chart==this.chart&&o.valueAxis==this&&e==a&&o.stackable)if(a=this.data[l].axes[this.id].graphs[o.id],r=a.values.value,isNaN(r))o.newStack&&(h[l]=NaN,c[l]=NaN);else{var C=t.getDecimals(r);A<C&&(A=C),isNaN(g[l])?g[l]=Math.abs(r):g[l]+=Math.abs(r),g[l]=t.roundTo(g[l],A),C=o.fillToGraph,f&&C&&(C=this.data[l].axes[this.id].graphs[C.id])&&(a.values.open=C.values.value),"regular"==n&&(f&&(isNaN(u[l])?(u[l]=r,a.values.close=r,a.values.open=this.baseValue):(isNaN(r)?a.values.close=u[l]:a.values.close=r+u[l],a.values.open=u[l],u[l]=a.values.close)),"column"==e&&(o.newStack&&(h[l]=NaN,c[l]=NaN),a.values.close=r,0>r?(a.values.close=r,isNaN(c[l])?a.values.open=p:(a.values.close+=c[l],a.values.open=c[l]),c[l]=a.values.close):(a.values.close=r,isNaN(h[l])?a.values.open=p:(a.values.close+=h[l],a.values.open=h[l]),h[l]=a.values.close)))}}for(l=this.start;l<=this.end;l++)for(s=0;s<d.length;s++)o=d[s],o.hidden?o.newStack&&(h[l]=NaN,c[l]=NaN):(a=o.type,o.chart==this.chart&&o.valueAxis==this&&e==a&&o.stackable&&(a=this.data[l].axes[this.id].graphs[o.id],r=a.values.value,isNaN(r)||(u=r/g[l]*100,a.values.percents=u,a.values.total=g[l],o.newStack&&(h[l]=NaN,c[l]=NaN),"100%"==n&&(isNaN(c[l])&&(c[l]=0),isNaN(h[l])&&(h[l]=0),0>u?(a.values.close=t.fitToBounds(u+c[l],-100,100),a.values.open=c[l],c[l]=a.values.close):(a.values.close=t.fitToBounds(u+h[l],-100,100),a.values.open=h[l],h[l]=a.values.close)))))},recalculate:function(){var e,n=this.chart,r=n.graphs;for(e=0;e<r.length;e++){var i=r[e];if(i.valueAxis==this){var a="value";"candlestick"!=i.type&&"ohlc"!=i.type||(a="open");var o,s,l=this.end+2,l=t.fitToBounds(this.end+1,0,this.data.length-1),u=this.start;0<u&&u--;var c;if(s=this.start,i.compareFromStart&&(s=0),!isNaN(n.startTime)&&(c=n.categoryAxis)){var h=c.minDuration(),h=new Date(n.startTime+h/2),g=t.resetDateToMin(new Date(n.startTime),c.minPeriod).getTime();t.resetDateToMin(new Date(h),c.minPeriod).getTime()>g&&s++}for((c=n.recalculateFromDate)&&(c=t.getDate(c,n.dataDateFormat,"fff"),s=n.getClosestIndex(n.chartData,"time",c.getTime(),!0,0,n.chartData.length),l=n.chartData.length-1),c=s;c<=l&&(s=this.data[c].axes[this.id].graphs[i.id],o=s.values[a],i.recalculateValue&&(o=s.dataContext[i.valueField+i.recalculateValue]),isNaN(o));c++);for(this.recBaseValue=o,a=u;a<=l;a++){s=this.data[a].axes[this.id].graphs[i.id],s.percents={};var d,u=s.values;for(d in u)s.percents[d]="percents"!=d?u[d]/o*100-100:u[d]}}}},getMinMax:function(){var e,n=!1,r=this.chart,i=r.graphs;for(e=0;e<i.length;e++){var a=i[e].type;("line"==a||"step"==a||"smoothedLine"==a)&&this.expandMinMax&&(n=!0)}if(n&&(0<this.start&&this.start--,this.end<this.data.length-1&&this.end++),"serial"==r.type&&(!0!==r.categoryAxis.parseDates||n||this.end<this.data.length-1&&this.end++),this.includeAllValues&&(this.start=0,this.end=this.data.length-1),n=this.minMaxMultiplier,r=this.getExtremes(this.start,this.end),this.min=r.min,this.max=r.max,this.minRR=this.min,this.maxRR=this.max,n=(this.max-this.min)*(n-1),this.min-=n,this.max+=n,n=this.guides.length,this.includeGuidesInMinMax&&0<n)for(r=0;r<n;r++)i=this.guides[r],i.toValue<this.min&&(this.min=i.toValue),i.value<this.min&&(this.min=i.value),i.toValue>this.max&&(this.max=i.toValue),i.value>this.max&&(this.max=i.value);isNaN(this.minimum)||(this.min=this.minimum),isNaN(this.maximum)||(this.max=this.maximum),"date"==this.type&&this.getDateMinMax(),this.min>this.max&&(n=this.max,this.max=this.min,this.min=n),isNaN(this.minZoom)||(this.min=this.minZoom),isNaN(this.maxZoom)||(this.max=this.maxZoom),this.minCalc=this.min,this.maxCalc=this.max,this.minReal=this.min,this.maxReal=this.max,0===this.min&&0===this.max&&(this.max=9),this.min>this.max&&(this.min=this.max-1),n=this.min,r=this.max,i=this.max-this.min,e=0===i?Math.pow(10,Math.floor(Math.log(Math.abs(this.max))*Math.LOG10E))/10:Math.pow(10,Math.floor(Math.log(Math.abs(i))*Math.LOG10E))/10,isNaN(this.maximum)&&(this.max=Math.ceil(this.max/e)*e+e),isNaN(this.minimum)&&(this.min=Math.floor(this.min/e)*e-e),0>this.min&&0<=n&&(this.min=0),0<this.max&&0>=r&&(this.max=0),"100%"==this.stackType&&(this.min=0>this.min?-100:0,this.max=0>this.max?0:100),i=this.max-this.min,e=Math.pow(10,Math.floor(Math.log(Math.abs(i))*Math.LOG10E))/10,this.step=Math.ceil(i/this.gridCountR/e)*e,i=Math.pow(10,Math.floor(Math.log(Math.abs(this.step))*Math.LOG10E)),i=t.fixStepE(i),e=Math.ceil(this.step/i),5<e&&(e=10),5>=e&&2<e&&(e=5),this.step=Math.ceil(this.step/(i*e))*i*e,isNaN(this.setStep)||(this.step=this.setStep),1>i?(this.maxDecCount=Math.abs(Math.log(Math.abs(i))*Math.LOG10E),this.maxDecCount=Math.round(this.maxDecCount),this.step=t.roundTo(this.step,this.maxDecCount+1)):this.maxDecCount=0,this.min=this.step*Math.floor(this.min/this.step),this.max=this.step*Math.ceil(this.max/this.step),0>this.min&&0<=n&&(this.min=0),0<this.max&&0>=r&&(this.max=0),1<this.minReal&&1<this.max-this.minReal&&(this.minReal=Math.floor(this.minReal)),i=Math.pow(10,Math.floor(Math.log(Math.abs(this.minReal))*Math.LOG10E)),0===this.min&&(this.minReal=i),0===this.min&&1<this.minReal&&(this.minReal=1),0<this.min&&0<this.minReal-this.step&&(this.minReal=this.min+this.step<this.minReal?this.min+this.step:this.min),this.logarithmic&&(2<Math.log(r)*Math.LOG10E-Math.log(n)*Math.LOG10E?(this.minReal=this.min=Math.pow(10,Math.floor(Math.log(Math.abs(n))*Math.LOG10E)),this.max=Math.pow(10,Math.ceil(Math.log(Math.abs(r))*Math.LOG10E))):(n=Math.pow(10,Math.floor(Math.log(Math.abs(n))*Math.LOG10E))/10,Math.pow(10,Math.floor(Math.log(Math.abs(this.min))*Math.LOG10E))/10<n&&(this.minReal=this.min=10*n)))},getExtremes:function(t,e){var n,r,i;for(i=t;i<=e;i++){var a,o=this.data[i].axes[this.id].graphs;for(a in o)if(o.hasOwnProperty(a)){var s=this.chart.graphsById[a];if(s.includeInMinMax&&(!s.hidden||this.includeHidden)){isNaN(n)&&(n=1/0),isNaN(r)&&(r=-(1/0)),this.foundGraphs=!0,s=o[a].values,this.recalculateToPercents&&(s=o[a].percents);var l;if(this.minMaxField)l=s[this.minMaxField],l<n&&(n=l),l>r&&(r=l);else for(var u in s)s.hasOwnProperty(u)&&"percents"!=u&&"total"!=u&&"error"!=u&&(l=s[u],l<n&&(n=l),l>r&&(r=l))}}}return{min:n,max:r}},zoomOut:function(t){this.maxZoom=this.minZoom=NaN,this.zoomToRelativeValues(0,1,t)},zoomToRelativeValues:function(t,e,n){if(this.reversed){var r=t;t=1-e,e=1-r}var i=this.fullMax,r=this.fullMin,a=r+(i-r)*t,o=r+(i-r)*e;return this.logarithmic&&(i=Math.log(i)*Math.LOG10E-Math.log(r)*Math.LOG10E,a=Math.pow(10,i*t+Math.log(r)*Math.LOG10E),o=Math.pow(10,i*e+Math.log(r)*Math.LOG10E)),this.zoomToValues(a,o,n)},zoomToValues:function(e,n,r){if(n<e){var i=n;n=e,e=i}var a=this.fullMax,i=this.fullMin;if(this.relativeStart=(e-i)/(a-i),this.relativeEnd=(n-i)/(a-i),this.logarithmic){var a=Math.log(a)*Math.LOG10E-Math.log(i)*Math.LOG10E,o=Math.log(n)/Math.LN10-Math.log(i)*Math.LOG10E;this.relativeStart=(Math.log(e)/Math.LN10-Math.log(i)*Math.LOG10E)/a,this.relativeEnd=o/a}if(this.minZoom!=e||this.maxZoom!=n)return this.minZoom=e,this.maxZoom=n,i={type:"axisZoomed"},i.chart=this.chart,i.valueAxis=this,i.startValue=e,i.endValue=n,i.relativeStart=this.relativeStart,i.relativeEnd=this.relativeEnd,this.prevStartValue==e&&this.prevEndValue==n||this.fire(i),this.prevStartValue=e,this.prevEndValue=n,r||(e={},t.copyProperties(i,e),e.type="axisIntZoomed",this.fire(e)),0===this.relativeStart&&1==this.relativeEnd&&(this.maxZoom=this.minZoom=NaN),!0},coordinateToValue:function(t){if(isNaN(t))return NaN;var e=this.axisWidth,n=this.stepWidth,r=this.reversed,i=this.rotate,a=this.min,o=this.minReal;return!0===this.logarithmic?Math.pow(10,(i?!0===r?(e-t)/n:t/n:!0===r?t/n:(e-t)/n)+Math.log(o)*Math.LOG10E):!0===r?i?a-(t-e)/n:t/n+a:i?t/n+a:a-(t-e)/n},getCoordinate:function(t,e){if(isNaN(t))return NaN;var n=this.rotate,r=this.reversed,i=this.axisWidth,a=this.stepWidth,o=this.min,s=this.minReal;return!0===this.logarithmic?(0===t&&(t=this.treatZeroAs),o=Math.log(t)*Math.LOG10E-Math.log(s)*Math.LOG10E,n=n?!0===r?i-a*o:a*o:!0===r?a*o:i-a*o):n=!0===r?n?i-a*(t-o):a*(t-o):n?a*(t-o):i-a*(t-o),1e7<Math.abs(n)&&(n=n/Math.abs(n)*1e7),e||(n=Math.round(n)),n},synchronizeWithAxis:function(t){this.synchronizeWith=t,this.listenTo(this.synchronizeWith,"axisChanged",this.handleSynchronization)},handleSynchronization:function(){if(this.synchronizeWith){t.isString(this.synchronizeWith)&&(this.synchronizeWith=this.chart.getValueAxisById(this.synchronizeWith));var e=this.synchronizeWith,n=e.min,r=e.max,e=e.step,i=this.synchronizationMultiplier;i&&(this.min=n*i,this.max=r*i,this.step=e*i,n=Math.abs(Math.log(Math.abs(Math.pow(10,Math.floor(Math.log(Math.abs(this.step))*Math.LOG10E))))*Math.LOG10E),this.maxDecCount=n=Math.round(n),this.draw())}}})}(),function(){var t=window.AmCharts;t.RecAxis=t.Class({construct:function(e){var n=e.chart,r=e.axisThickness,i=e.axisColor,a=e.axisAlpha,o=e.offset,s=e.dx,l=e.dy,u=e.x,c=e.y,h=e.height,g=e.width,d=n.container;"H"==e.orientation?(i=t.line(d,[0,g],[0,0],i,a,r),this.axisWidth=e.width,"bottom"==e.position?(l=r/2+o+h+c-1,r=u):(l=-r/2-o+c+l,r=s+u)):(this.axisWidth=e.height,"right"==e.position?(i=t.line(d,[0,0,-s],[0,h,h-l],i,a,r),l=c+l,r=r/2+o+s+g+u-1):(i=t.line(d,[0,0],[0,h],i,a,r),l=c,r=-r/2-o+u)),i.translate(r,l),r=n.container.set(),r.push(i),n.axesSet.push(r),t.setCN(n,i,e.bcn+"line"),this.axisSet=r,this.set=i}})}(),function(){var t=window.AmCharts;t.RecItem=t.Class({construct:function(e,n,r,i,a,o,s,l,u,c,h,g){n=Math.round(n);var d=e.chart;this.value=r,void 0==r&&(r=""),u||(u=0),void 0==i&&(i=!0);var p=d.fontFamily,f=e.fontSize;void 0==f&&(f=d.fontSize);var A=e.color;void 0==A&&(A=d.color),void 0!==h&&(A=h);var C=e.chart.container,I=C.set();this.set=I;var m=e.axisThickness,v=e.axisColor,y=e.axisAlpha,b=e.tickLength,x=e.gridAlpha,w=e.gridThickness,S=e.gridColor,T=e.dashLength,N=e.fillColor,E=e.fillAlpha,k=e.labelsEnabled;h=e.labelRotationR;var O,M,R=e.counter,D=e.inside,_=e.labelOffset,P=e.dx,L=e.dy,z=e.orientation,F=e.position,B=e.previousCoord,V=e.height,j=e.width,W=e.offset;s?(void 0!==s.id&&(g=d.classNamePrefix+"-guide-"+s.id),k=!0,isNaN(s.tickLength)||(b=s.tickLength),void 0!=s.lineColor&&(S=s.lineColor),void 0!=s.color&&(A=s.color),isNaN(s.lineAlpha)||(x=s.lineAlpha),isNaN(s.dashLength)||(T=s.dashLength),isNaN(s.lineThickness)||(w=s.lineThickness),!0===s.inside&&(D=!0,0<W&&(W=0)),isNaN(s.labelRotation)||(h=s.labelRotation),isNaN(s.fontSize)||(f=s.fontSize),s.position&&(F=s.position),void 0!==s.boldLabel&&(l=s.boldLabel),isNaN(s.labelOffset)||(_=s.labelOffset)):""===r&&(b=0),c&&!isNaN(e.minorTickLength)&&(b=e.minorTickLength);var G="start";0<a&&(G="middle"),e.centerLabels&&(G="middle");var U,H,Z=h*Math.PI/180,Y=0,X=0,q=0,K=U=0,J=0;"V"==z&&(h=0);var Q;k&&""!==r&&(Q=e.autoWrap&&0===h?t.wrappedText(C,r,A,p,f,G,l,Math.abs(a),0):t.text(C,r,A,p,f,G,l),G=Q.getBBox(),K=G.width,J=G.height),"H"==z?(0<=n&&n<=j+1&&(0<b&&0<y&&n+u<=j+1&&(O=t.line(C,[n+u,n+u],[0,b],v,y,w),I.push(O)),0<x&&(M=t.line(C,[n,n+P,n+P],[V,V+L,L],S,x,w,T),I.push(M))),X=0,Y=n,s&&90==h&&D&&(Y-=f),!1===i?(G="start",X="bottom"==F?D?X+b:X-b:D?X-b:X+b,Y+=3,0<a&&(Y+=a/2-3,G="middle"),0<h&&(G="middle")):G="middle",1==R&&0<E&&!s&&!c&&B<j&&(i=t.fitToBounds(n,0,j),B=t.fitToBounds(B,0,j),U=i-B,0<U&&(H=t.rect(C,U,e.height,N,E),H.translate(i-U+P,L),I.push(H))),"bottom"==F?(X+=V+f/2+W,D?(0<h?(X=V-K/2*Math.sin(Z)-b-3,e.centerRotatedLabels||(Y+=K/2*Math.cos(Z)-4+2)):0>h?(X=V+K*Math.sin(Z)-b-3+2,Y+=-K*Math.cos(Z)-J*Math.sin(Z)-4):X-=b+f+3+3,X-=_):(0<h?(X=V+K/2*Math.sin(Z)+b+3,e.centerRotatedLabels||(Y-=K/2*Math.cos(Z))):0>h?(X=V+b+3-K/2*Math.sin(Z)+2,Y+=K/2*Math.cos(Z)):X+=b+m+3+3,X+=_)):(X+=L+f/2-W,Y+=P,D?(0<h?(X=K/2*Math.sin(Z)+b+3,e.centerRotatedLabels||(Y-=K/2*Math.cos(Z))):X+=b+3,X+=_):(0<h?(X=-(K/2)*Math.sin(Z)-b-6,e.centerRotatedLabels||(Y+=K/2*Math.cos(Z))):X-=b+f+3+m+3,X-=_)),"bottom"==F?U=(D?V-b-1:V+m-1)+W:(q=P,U=(D?L:L-b-m+1)-W),o&&(Y+=o),f=Y,0<h&&(f+=K/2*Math.cos(Z)),Q&&(o=0,D&&(o=K/2*Math.cos(Z)),f+o>j+2||0>f)&&(Q.remove(),Q=null)):(0<=n&&n<=V+1&&(0<b&&0<y&&n+u<=V+1&&(O=t.line(C,[0,b+1],[n+u,n+u],v,y,w),I.push(O)),0<x&&(M=t.line(C,[0,P,j+P],[n,n+L,n+L],S,x,w,T),I.push(M))),G="end",(!0===D&&"left"==F||!1===D&&"right"==F)&&(G="start"),X=n-J/2+2,1==R&&0<E&&!s&&!c&&(i=t.fitToBounds(n,0,V),B=t.fitToBounds(B,0,V),Z=i-B,H=t.polygon(C,[0,e.width,e.width,0],[0,0,Z,Z],N,E),H.translate(P,i-Z+L),I.push(H)),X+=f/2,"right"==F?(Y+=P+j+W,X+=L,D?(o||(X-=f/2+3),Y=Y-(b+4)-_):(Y+=b+4+m,X-=2,Y+=_)):D?(Y+=b+4-W,o||(X-=f/2+3),s&&(Y+=P,X+=L),Y+=_):(Y+=-b-m-4-2-W,X-=2,Y-=_),O&&("right"==F?(q+=P+W+j-1,U+=L,q=D?q-m:q+m):(q-=W,D||(q-=b+m))),o&&(X+=o),D=-3,"right"==F&&(D+=L),Q&&(X>V+1||X<D-f/10)&&(Q.remove(),Q=null)),O&&(O.translate(q,U),t.setCN(d,O,e.bcn+"tick"),t.setCN(d,O,g,!0),s&&t.setCN(d,O,"guide")),!1===e.visible&&(O&&O.remove(),Q&&(Q.remove(),Q=null)),Q&&(Q.attr({"text-anchor":G}),Q.translate(Y,X,NaN,!0),0!==h&&Q.rotate(-h,e.chart.backgroundColor),e.allLabels.push(Q),this.label=Q,t.setCN(d,Q,e.bcn+"label"),t.setCN(d,Q,g,!0),s&&t.setCN(d,Q,"guide")),M&&(t.setCN(d,M,e.bcn+"grid"),t.setCN(d,M,g,!0),s&&t.setCN(d,M,"guide")),H&&(t.setCN(d,H,e.bcn+"fill"),t.setCN(d,H,g,!0)),c?M&&t.setCN(d,M,e.bcn+"grid-minor"):(e.counter=0===R?1:0,e.previousCoord=n),0===this.set.node.childNodes.length&&this.set.remove()},graphics:function(){return this.set},getLabel:function(){return this.label}})}(),function(){var t=window.AmCharts;t.RecFill=t.Class({construct:function(e,r,i,a){var o=e.dx,s=e.dy,l=e.orientation,u=0;if(i<r){var c=r;r=i,i=c}var h=a.fillAlpha;isNaN(h)&&(h=0);var c=e.chart.container,g=a.fillColor;"V"==l?(r=t.fitToBounds(r,0,e.height),i=t.fitToBounds(i,0,e.height)):(r=t.fitToBounds(r,0,e.width),i=t.fitToBounds(i,0,e.width)),i-=r,isNaN(i)&&(i=4,u=2,h=0),0>i&&"object"==("undefined"==typeof g?"undefined":n(g))&&(g=g.join(",").split(",").reverse()),"V"==l?(l=t.rect(c,e.width,i,g,h),l.translate(o,r-u+s)):(l=t.rect(c,i,e.height,g,h),l.translate(r-u+o,s)),t.setCN(e.chart,l,"guide-fill"),a.id&&t.setCN(e.chart,l,"guide-fill-"+a.id),this.set=c.set([l])},graphics:function(){return this.set},getLabel:function(){}})}(),function(){var t=window.AmCharts;t.AmChart=t.Class({construct:function(e){this.svgIcons=this.tapToActivate=!0,
this.theme=e,this.classNamePrefix="amcharts",this.addClassNames=!1,this.version="3.20.14",t.addChart(this),this.createEvents("buildStarted","dataUpdated","init","rendered","drawn","failed","resized","animationFinished"),this.height=this.width="100%",this.dataChanged=!0,this.chartCreated=!1,this.previousWidth=this.previousHeight=0,this.backgroundColor="#FFFFFF",this.borderAlpha=this.backgroundAlpha=0,this.color=this.borderColor="#000000",this.fontFamily="Verdana",this.fontSize=11,this.usePrefixes=!1,this.autoResize=!0,this.autoDisplay=!1,this.addCodeCredits=this.accessible=!0,this.touchStartTime=this.touchClickDuration=0,this.precision=-1,this.percentPrecision=2,this.decimalSeparator=".",this.thousandsSeparator=",",this.labels=[],this.allLabels=[],this.titles=[],this.marginRight=this.marginLeft=this.autoMarginOffset=0,this.timeOuts=[],this.creditsPosition="top-left";var n=document.createElement("div"),r=n.style;r.overflow="hidden",r.position="relative",r.textAlign="left",this.chartDiv=n,n=document.createElement("div"),r=n.style,r.overflow="hidden",r.position="relative",r.textAlign="left",this.legendDiv=n,this.titleHeight=0,this.hideBalloonTime=150,this.handDrawScatter=2,this.cssScale=this.handDrawThickness=1,this.cssAngle=0,this.prefixesOfBigNumbers=[{number:1e3,prefix:"k"},{number:1e6,prefix:"M"},{number:1e9,prefix:"G"},{number:1e12,prefix:"T"},{number:1e15,prefix:"P"},{number:1e18,prefix:"E"},{number:1e21,prefix:"Z"},{number:1e24,prefix:"Y"}],this.prefixesOfSmallNumbers=[{number:1e-24,prefix:"y"},{number:1e-21,prefix:"z"},{number:1e-18,prefix:"a"},{number:1e-15,prefix:"f"},{number:1e-12,prefix:"p"},{number:1e-9,prefix:"n"},{number:1e-6,prefix:""},{number:.001,prefix:"m"}],this.panEventsEnabled=!0,this.product="amcharts",this.animations=[],this.balloon=new t.AmBalloon(this.theme),this.balloon.chart=this,this.processTimeout=0,this.processCount=1e3,this.animatable=[],this.langObj={},t.applyTheme(this,e,"AmChart")},drawChart:function(){0<this.realWidth&&0<this.realHeight&&(this.drawBackground(),this.redrawLabels(),this.drawTitles(),this.brr(),this.renderFix(),this.chartDiv&&(this.boundingRect=this.chartDiv.getBoundingClientRect()))},makeAccessible:function(t,e,n){this.accessible&&t&&(n&&t.setAttr("role",n),t.setAttr("aria-label",e))},drawBackground:function(){t.remove(this.background);var e=this.container,n=this.backgroundColor,r=this.backgroundAlpha,i=this.set;t.isModern||0!==r||(r=.001);var a=this.updateWidth();this.realWidth=a;var o=this.updateHeight();this.realHeight=o,n=t.polygon(e,[0,a-1,a-1,0],[0,0,o-1,o-1],n,r,1,this.borderColor,this.borderAlpha),t.setCN(this,n,"bg"),this.background=n,i.push(n),(n=this.backgroundImage)&&(e=e.image(n,0,0,a,o),t.setCN(this,n,"bg-image"),this.bgImg=e,i.push(e))},drawTitles:function(e){var n=this.titles;if(this.titleHeight=0,t.ifArray(n)){var r,i=20;for(r=0;r<n.length;r++){var a=n[r],a=t.processObject(a,t.Title,this.theme);if(!1!==a.enabled){var o=a.color;void 0===o&&(o=this.color);var s=a.size;isNaN(s)&&(s=this.fontSize+2),isNaN(a.alpha);var l=this.marginLeft,u=!0;void 0!==a.bold&&(u=a.bold),o=t.wrappedText(this.container,a.text,o,this.fontFamily,s,"middle",u,this.realWidth-35),o.translate(l+(this.realWidth-this.marginRight-l)/2,i),o.node.style.pointerEvents="none",a.sprite=o,void 0!==a.tabIndex&&o.setAttr("tabindex",a.tabIndex),t.setCN(this,o,"title"),a.id&&t.setCN(this,o,"title-"+a.id),o.attr({opacity:a.alpha}),i+=o.getBBox().height+5,e?o.remove():this.freeLabelsSet.push(o)}}this.titleHeight=i-10}},write:function(t){var e=this;if(e.listeners)for(var n=0;n<e.listeners.length;n++){var r=e.listeners[n];e.addListener(r.event,r.method)}e.fire({type:"buildStarted",chart:e}),e.afterWriteTO&&clearTimeout(e.afterWriteTO),0<e.processTimeout?e.afterWriteTO=setTimeout(function(){e.afterWrite.call(e,t)},e.processTimeout):e.afterWrite(t)},afterWrite:function(e){var r;if(r="object"!=("undefined"==typeof e?"undefined":n(e))?document.getElementById(e):e){for(;r.firstChild;)r.removeChild(r.firstChild);this.div=r,r.style.overflow="hidden",r.style.textAlign="left",e=this.chartDiv;var i=this.legendDiv,a=this.legend,o=i.style,s=e.style;this.measure(),this.previousHeight=this.divRealHeight,this.previousWidth=this.divRealWidth;var l,u=document.createElement("div");if(l=u.style,l.position="relative",this.containerDiv=u,u.className=this.classNamePrefix+"-main-div",e.className=this.classNamePrefix+"-chart-div",r.appendChild(u),(r=this.exportConfig)&&t.AmExport&&!this.AmExport&&(this.AmExport=new t.AmExport(this,r)),this.amExport&&t.AmExport&&(this.AmExport=t.extend(this.amExport,new t.AmExport(this),!0)),this.AmExport&&this.AmExport.init&&this.AmExport.init(),a){if(a=this.addLegend(a,a.divId),a.enabled)switch(o.left=null,o.top=null,o.right=null,s.left=null,s.right=null,s.top=null,o.position="relative",s.position="relative",l.width="100%",l.height="100%",a.position){case"bottom":u.appendChild(e),u.appendChild(i);break;case"top":u.appendChild(i),u.appendChild(e);break;case"absolute":o.position="absolute",s.position="absolute",void 0!==a.left&&(o.left=a.left+"px"),void 0!==a.right&&(o.right=a.right+"px"),void 0!==a.top&&(o.top=a.top+"px"),void 0!==a.bottom&&(o.bottom=a.bottom+"px"),a.marginLeft=0,a.marginRight=0,u.appendChild(e),u.appendChild(i);break;case"right":o.position="relative",s.position="absolute",u.appendChild(e),u.appendChild(i);break;case"left":o.position="absolute",s.position="relative",u.appendChild(e),u.appendChild(i);break;case"outside":u.appendChild(e)}else u.appendChild(e);this.prevLegendPosition=a.position}else u.appendChild(e);this.listenersAdded||(this.addListeners(),this.listenersAdded=!0),this.initChart()}},createLabelsSet:function(){t.remove(this.labelsSet),this.labelsSet=this.container.set(),this.freeLabelsSet.push(this.labelsSet)},initChart:function(){this.balloon=t.processObject(this.balloon,t.AmBalloon,this.theme),window.AmCharts_path&&(this.path=window.AmCharts_path),void 0===this.path&&(this.path=t.getPath()),void 0===this.path&&(this.path="amcharts/"),this.path=t.normalizeUrl(this.path),void 0===this.pathToImages&&(this.pathToImages=this.path+"images/"),this.initHC||(t.callInitHandler(this),this.initHC=!0),t.applyLang(this.language,this);var e=this.numberFormatter;e&&(isNaN(e.precision)||(this.precision=e.precision),void 0!==e.thousandsSeparator&&(this.thousandsSeparator=e.thousandsSeparator),void 0!==e.decimalSeparator&&(this.decimalSeparator=e.decimalSeparator)),(e=this.percentFormatter)&&!isNaN(e.precision)&&(this.percentPrecision=e.precision),this.nf={precision:this.precision,thousandsSeparator:this.thousandsSeparator,decimalSeparator:this.decimalSeparator},this.pf={precision:this.percentPrecision,thousandsSeparator:this.thousandsSeparator,decimalSeparator:this.decimalSeparator},this.destroy(),(e=this.container)?(e.container.innerHTML="",e.width=this.realWidth,e.height=this.realHeight,e.addDefs(this),this.chartDiv.appendChild(e.container)):e=new t.AmDraw(this.chartDiv,this.realWidth,this.realHeight,this),this.container=e,this.extension=".png",this.svgIcons&&t.SVG&&(this.extension=".svg"),this.checkDisplay(),this.checkTransform(this.div),e.chart=this,t.VML||t.SVG?(e.handDrawn=this.handDrawn,e.handDrawScatter=this.handDrawScatter,e.handDrawThickness=this.handDrawThickness,t.remove(this.set),this.set=e.set(),t.remove(this.gridSet),this.gridSet=e.set(),t.remove(this.cursorLineSet),this.cursorLineSet=e.set(),t.remove(this.graphsBehindSet),this.graphsBehindSet=e.set(),t.remove(this.bulletBehindSet),this.bulletBehindSet=e.set(),t.remove(this.columnSet),this.columnSet=e.set(),t.remove(this.graphsSet),this.graphsSet=e.set(),t.remove(this.trendLinesSet),this.trendLinesSet=e.set(),t.remove(this.axesSet),this.axesSet=e.set(),t.remove(this.cursorSet),this.cursorSet=e.set(),t.remove(this.scrollbarsSet),this.scrollbarsSet=e.set(),t.remove(this.bulletSet),this.bulletSet=e.set(),t.remove(this.freeLabelsSet),this.freeLabelsSet=e.set(),t.remove(this.axesLabelsSet),this.axesLabelsSet=e.set(),t.remove(this.balloonsSet),this.balloonsSet=e.set(),t.remove(this.plotBalloonsSet),this.plotBalloonsSet=e.set(),t.remove(this.zoomButtonSet),this.zoomButtonSet=e.set(),t.remove(this.zbSet),this.zbSet=null,t.remove(this.linkSet),this.linkSet=e.set()):this.fire({type:"failed",chart:this})},premeasure:function(){var t=this.div;if(t){try{this.boundingRect=this.chartDiv.getBoundingClientRect()}catch(t){}var e=t.offsetWidth,n=t.offsetHeight;t.clientHeight&&(e=t.clientWidth,n=t.clientHeight),e==this.mw&&n==this.mh||(this.mw=e,this.mh=n,this.measure())}},measure:function(){var e=this.div;if(e){var n=this.chartDiv,r=e.offsetWidth,i=e.offsetHeight,a=this.container;e.clientHeight&&(r=e.clientWidth,i=e.clientHeight);var i=Math.round(i),r=Math.round(r),e=Math.round(t.toCoordinate(this.width,r)),o=Math.round(t.toCoordinate(this.height,i));(r!=this.previousWidth||i!=this.previousHeight)&&0<e&&0<o&&(n.style.width=e+"px",n.style.height=o+"px",n.style.padding=0,a&&a.setSize(e,o),this.balloon=t.processObject(this.balloon,t.AmBalloon,this.theme)),this.balloon.setBounds&&this.balloon.setBounds(2,2,e-2,o),this.balloon.chart=this,this.realWidth=e,this.realHeight=o,this.divRealWidth=r,this.divRealHeight=i}},checkDisplay:function(){if(this.autoDisplay&&this.container){var e=t.rect(this.container,10,10),n=e.getBBox();0===n.width&&0===n.height&&(this.divRealHeight=this.divRealWidth=this.realHeight=this.realWidth=0,this.previousWidth=this.previousHeight=NaN),e.remove()}},checkTransform:function(t){if(this.autoTransform&&window.getComputedStyle&&t){if(t.style){var e=window.getComputedStyle(t,null);if(e&&(e=e.getPropertyValue("-webkit-transform")||e.getPropertyValue("-moz-transform")||e.getPropertyValue("-ms-transform")||e.getPropertyValue("-o-transform")||e.getPropertyValue("transform"))&&"none"!==e){var n=e.split("(")[1].split(")")[0].split(","),e=n[0],n=n[1],e=Math.sqrt(e*e+n*n);isNaN(e)||(this.cssScale*=e)}}t.parentNode&&this.checkTransform(t.parentNode)}},destroy:function(){this.chartDiv.innerHTML="",this.clearTimeOuts(),this.legend&&this.legend.destroy()},clearTimeOuts:function(){var t=this.timeOuts;if(t){var e;for(e=0;e<t.length;e++)clearTimeout(t[e])}this.timeOuts=[]},clear:function(e){try{document.removeEventListener("touchstart",this.docfn1,!0),document.removeEventListener("touchend",this.docfn2,!0)}catch(t){}if(t.callMethod("clear",[this.chartScrollbar,this.scrollbarV,this.scrollbarH,this.chartCursor]),this.chartCursor=this.scrollbarH=this.scrollbarV=this.chartScrollbar=null,this.clearTimeOuts(),this.container&&(this.container.remove(this.chartDiv),this.container.remove(this.legendDiv)),e||t.removeChart(this),e=this.div)for(;e.firstChild;)e.removeChild(e.firstChild);this.legend&&this.legend.destroy(),this.AmExport&&this.AmExport.clear&&this.AmExport.clear()},setMouseCursor:function(e){"auto"==e&&t.isNN&&(e="default"),this.chartDiv.style.cursor=e,this.legendDiv.style.cursor=e},redrawLabels:function(){this.labels=[];var t=this.allLabels;this.createLabelsSet();var e;for(e=0;e<t.length;e++)this.drawLabel(t[e])},drawLabel:function(e){var n=this;if(n.container&&!1!==e.enabled){e=t.processObject(e,t.Label,n.theme);var r=e.y,i=e.text,a=e.align,o=e.size,s=e.color,l=e.rotation,u=e.alpha,c=e.bold,h=t.toCoordinate(e.x,n.realWidth),r=t.toCoordinate(r,n.realHeight);h||(h=0),r||(r=0),void 0===s&&(s=n.color),isNaN(o)&&(o=n.fontSize),a||(a="start"),"left"==a&&(a="start"),"right"==a&&(a="end"),"center"==a&&(a="middle",l?r=n.realHeight-r+r/2:h=n.realWidth/2-h),void 0===u&&(u=1),void 0===l&&(l=0),r+=o/2,i=t.text(n.container,i,s,n.fontFamily,o,a,c,u),i.translate(h,r),void 0!==e.tabIndex&&i.setAttr("tabindex",e.tabIndex),t.setCN(n,i,"label"),e.id&&t.setCN(n,i,"label-"+e.id),0!==l&&i.rotate(l),e.url?(i.setAttr("cursor","pointer"),i.click(function(){t.getURL(e.url,n.urlTarget)})):i.node.style.pointerEvents="none",n.labelsSet.push(i),n.labels.push(i)}},addLabel:function(t,e,n,r,i,a,o,s,l,u){t={x:t,y:e,text:n,align:r,size:i,color:a,alpha:s,rotation:o,bold:l,url:u,enabled:!0},this.container&&this.drawLabel(t),this.allLabels.push(t)},clearLabels:function(){var t,e=this.labels;for(t=e.length-1;0<=t;t--)e[t].remove();this.labels=[],this.allLabels=[]},updateHeight:function(){var t=this.divRealHeight,e=this.legend;if(e){var n=this.legendDiv.offsetHeight,e=e.position;"top"!=e&&"bottom"!=e||(t-=n,(0>t||isNaN(t))&&(t=0),this.chartDiv.style.height=t+"px")}return t},updateWidth:function(){var t=this.divRealWidth,e=this.divRealHeight,n=this.legend;if(n){var r=this.legendDiv,i=r.offsetWidth;isNaN(n.width)||(i=n.width),n.ieW&&(i=n.ieW);var a=r.offsetHeight,r=r.style,o=this.chartDiv.style,n=n.position;"right"!=n&&"left"!=n||(t-=i,(0>t||isNaN(t))&&(t=0),o.width=t+"px",this.balloon.setBounds(2,2,t-2,this.realHeight),"left"==n?(o.left=i+"px",r.left="0px"):(o.left="0px",r.left=t+"px"),e>a&&(r.top=(e-a)/2+"px"))}return t},getTitleHeight:function(){return this.drawTitles(!0),this.titleHeight},addTitle:function(t,e,n,r,i){return isNaN(e)&&(e=this.fontSize+2),t={text:t,size:e,color:n,alpha:r,bold:i,enabled:!0},this.titles.push(t),t},handleWheel:function(t){var e=0;t||(t=window.event),t.wheelDelta?e=t.wheelDelta/120:t.detail&&(e=-t.detail/3),e&&this.handleWheelReal(e,t.shiftKey),t.preventDefault&&t.preventDefault()},handleWheelReal:function(){},handleDocTouchStart:function(){var t=this;setTimeout(function(){t.hideBalloonReal()},300),t.handleMouseMove(),t.tmx=t.mouseX,t.tmy=t.mouseY,t.touchStartTime=(new Date).getTime()},handleDocTouchEnd:function(){-.5<this.tmx&&this.tmx<this.divRealWidth+1&&0<this.tmy&&this.tmy<this.divRealHeight?(this.handleMouseMove(),4>Math.abs(this.mouseX-this.tmx)&&4>Math.abs(this.mouseY-this.tmy)?(this.tapped=!0,this.panRequired&&this.panEventsEnabled&&this.chartDiv&&(this.chartDiv.style.msTouchAction="none",this.chartDiv.style.touchAction="none")):this.mouseIsOver||this.resetTouchStyle()):(this.tapped=!1,this.resetTouchStyle())},resetTouchStyle:function(){this.panEventsEnabled&&this.chartDiv&&(this.chartDiv.style.msTouchAction="auto",this.chartDiv.style.touchAction="auto")},checkTouchDuration:function(t){var e=this,n=(new Date).getTime();if(t)if(t.touches)e.isTouchEvent=!0;else if(!e.isTouchEvent)return!0;return n-e.touchStartTime>e.touchClickDuration||void setTimeout(function(){e.resetTouchDuration()},300)},resetTouchDuration:function(){this.isTouchEvent=!1},checkTouchMoved:function(){if(4<Math.abs(this.mouseX-this.tmx)||4<Math.abs(this.mouseY-this.tmy))return!0},addListeners:function(){var t=this,e=t.chartDiv;document.addEventListener?("ontouchstart"in document.documentElement&&(e.addEventListener("touchstart",function(e){t.handleTouchStart.call(t,e)},!0),e.addEventListener("touchmove",function(e){t.handleMouseMove.call(t,e)},!0),e.addEventListener("touchend",function(e){t.handleTouchEnd.call(t,e)},!0),t.docfn1=function(e){t.handleDocTouchStart.call(t,e)},t.docfn2=function(e){t.handleDocTouchEnd.call(t,e)},document.addEventListener("touchstart",t.docfn1,!0),document.addEventListener("touchend",t.docfn2,!0)),e.addEventListener("mousedown",function(e){t.mouseIsOver=!0,t.handleMouseMove.call(t,e),t.handleMouseDown.call(t,e),t.handleDocTouchStart.call(t,e)},!0),e.addEventListener("mouseover",function(e){t.handleMouseOver.call(t,e)},!0),e.addEventListener("mouseout",function(e){t.handleMouseOut.call(t,e)},!0),e.addEventListener("mouseup",function(e){t.handleDocTouchEnd.call(t,e)},!0)):(e.attachEvent("onmousedown",function(e){t.handleMouseDown.call(t,e)}),e.attachEvent("onmouseover",function(e){t.handleMouseOver.call(t,e)}),e.attachEvent("onmouseout",function(e){t.handleMouseOut.call(t,e)}))},dispDUpd:function(){this.skipEvents||(this.dispatchDataUpdated&&(this.dispatchDataUpdated=!1,this.fire({type:"dataUpdated",chart:this})),this.chartCreated||(this.chartCreated=!0,this.fire({type:"init",chart:this})),this.chartRendered||(this.fire({type:"rendered",chart:this}),this.chartRendered=!0),this.fire({type:"drawn",chart:this})),this.skipEvents=!1},validateSize:function(){var t=this;if(t.premeasure(),t.checkDisplay(),t.cssScale=1,t.cssAngle=0,t.checkTransform(t.div),t.divRealWidth!=t.previousWidth||t.divRealHeight!=t.previousHeight){var e=t.legend;if(0<t.realWidth&&0<t.realHeight){if(t.sizeChanged=!0,e){t.legendInitTO&&clearTimeout(t.legendInitTO);var n=setTimeout(function(){e.invalidateSize()},10);t.timeOuts.push(n),t.legendInitTO=n}t.marginsUpdated=!1,clearTimeout(t.initTO),n=setTimeout(function(){t.initChart()},10),t.timeOuts.push(n),t.initTO=n}t.renderFix(),e&&e.renderFix&&e.renderFix(),clearTimeout(t.resizedTO),t.resizedTO=setTimeout(function(){t.fire({type:"resized",chart:t})},10),t.previousHeight=t.divRealHeight,t.previousWidth=t.divRealWidth}},invalidateSize:function(){this.previousHeight=this.previousWidth=NaN,this.invalidateSizeReal()},invalidateSizeReal:function(){var t=this;t.marginsUpdated=!1,clearTimeout(t.validateTO);var e=setTimeout(function(){t.validateSize()},5);t.timeOuts.push(e),t.validateTO=e},validateData:function(t){this.chartCreated&&(this.dataChanged=!0,this.marginsUpdated=!1,this.initChart(t))},validateNow:function(t,e){this.initTO&&clearTimeout(this.initTO),t&&(this.dataChanged=!0,this.marginsUpdated=!1),this.skipEvents=e,this.chartRendered=!1;var n=this.legend;n&&n.position!=this.prevLegendPosition&&(this.previousWidth=this.mw=0,n.invalidateSize&&(n.invalidateSize(),this.validateSize())),this.write(this.div)},showItem:function(t){t.hidden=!1,this.initChart()},hideItem:function(t){t.hidden=!0,this.initChart()},hideBalloon:function(){var t=this;clearTimeout(t.hoverInt),clearTimeout(t.balloonTO),t.hoverInt=setTimeout(function(){t.hideBalloonReal.call(t)},t.hideBalloonTime)},cleanChart:function(){},hideBalloonReal:function(){var t=this.balloon;t&&t.hide&&t.hide()},showBalloon:function(t,e,n,r,i){var a=this;clearTimeout(a.balloonTO),clearTimeout(a.hoverInt),a.balloonTO=setTimeout(function(){a.showBalloonReal.call(a,t,e,n,r,i)},1)},showBalloonReal:function(t,e,n,r,i){this.handleMouseMove();var a=this.balloon;a.enabled&&(a.followCursor(!1),a.changeColor(e),!n||a.fixedPosition?(a.setPosition(r,i),isNaN(r)||isNaN(i)?a.followCursor(!0):a.followCursor(!1)):a.followCursor(!0),t&&a.showBalloon(t))},handleMouseOver:function(){this.outTO&&clearTimeout(this.outTO),t.resetMouseOver(),this.mouseIsOver=!0},handleMouseOut:function(){var e=this;t.resetMouseOver(),e.outTO&&clearTimeout(e.outTO),e.outTO=setTimeout(function(){e.handleMouseOutReal()},10)},handleMouseOutReal:function(){this.mouseIsOver=!1},handleMouseMove:function(t){t||(t=window.event),this.mouse2Y=this.mouse2X=NaN;var e,n,r,i;if(t){if(t.touches){var a=t.touches.item(1);if(a&&this.panEventsEnabled&&this.boundingRect&&(r=a.clientX-this.boundingRect.left,i=a.clientY-this.boundingRect.top),t=t.touches.item(0),!t)return}else this.wasTouched=!1;this.boundingRect&&t.clientX&&(e=t.clientX-this.boundingRect.left,n=t.clientY-this.boundingRect.top),isNaN(r)?this.mouseX=e:(this.mouseX=Math.min(e,r),this.mouse2X=Math.max(e,r)),isNaN(i)?this.mouseY=n:(this.mouseY=Math.min(n,i),this.mouse2Y=Math.max(n,i)),this.autoTransform&&(this.mouseX/=this.cssScale,this.mouseY/=this.cssScale)}},handleTouchStart:function(t){this.hideBalloonReal(),t&&(t.touches&&this.tapToActivate&&!this.tapped||!this.panRequired)||(this.handleMouseMove(t),this.handleMouseDown(t))},handleTouchEnd:function(e){this.wasTouched=!0,this.handleMouseMove(e),t.resetMouseOver(),this.handleReleaseOutside(e)},handleReleaseOutside:function(){this.handleDocTouchEnd.call(this)},handleMouseDown:function(e){t.resetMouseOver(),this.mouseIsOver=!0,e&&e.preventDefault&&(this.panEventsEnabled?e.preventDefault():e.touches||e.preventDefault())},addLegend:function(e,r){e=t.processObject(e,t.AmLegend,this.theme),e.divId=r,e.ieW=0;var i;return i="object"!=("undefined"==typeof r?"undefined":n(r))&&r?document.getElementById(r):r,this.legend=e,e.chart=this,i?(e.div=i,e.position="outside",e.autoMargins=!1):e.div=this.legendDiv,e},removeLegend:function(){this.legend=void 0,this.previousWidth=0,this.legendDiv.innerHTML=""},handleResize:function(){(t.isPercents(this.width)||t.isPercents(this.height))&&this.invalidateSizeReal(),this.renderFix()},renderFix:function(){if(!t.VML){var e=this.container;e&&e.renderFix()}},getSVG:function(){if(t.hasSVG)return this.container},animate:function(e,n,r,i,a,o,s){return e["an_"+n]&&t.removeFromArray(this.animations,e["an_"+n]),r={obj:e,frame:0,attribute:n,from:r,to:i,time:a,effect:o,suffix:s},e["an_"+n]=r,this.animations.push(r),r},setLegendData:function(t){var e=this.legend;e&&e.setData(t)},stopAnim:function(e){t.removeFromArray(this.animations,e)},updateAnimations:function(){var e;if(this.container&&this.container.update(),this.animations)for(e=this.animations.length-1;0<=e;e--){var n=this.animations[e],r=t.updateRate*n.time,i=n.frame+1,a=n.obj,o=n.attribute;if(i<=r){n.frame++;var s=Number(n.from),l=Number(n.to)-s,r=t[n.effect](0,i,s,l,r);0===l?(this.animations.splice(e,1),a.node.style[o]=Number(n.to)+n.suffix):a.node.style[o]=r+n.suffix}else a.node.style[o]=Number(n.to)+n.suffix,a.animationFinished=!0,this.animations.splice(e,1)}},update:function(){this.updateAnimations();var t=this.animatable;if(0<t.length){for(var e=!0,n=t.length-1;0<=n;n--){var r=t[n];r&&(r.animationFinished?t.splice(n,1):e=!1)}e&&(this.fire({type:"animationFinished",chart:this}),this.animatable=[])}},inIframe:function(){try{return window.self!==window.top}catch(t){return!0}},brr:function(){if(!this.hideCredits){var t,e="amcharts.com",n=window.location.hostname.split(".");if(2<=n.length&&(t=n[n.length-2]+"."+n[n.length-1]),this.amLink&&(n=this.amLink.parentNode)&&n.removeChild(this.amLink),n=this.creditsPosition,t!=e||!0===this.inIframe()){var e="http://www."+e,r=t=0,i=this.realWidth,a=this.realHeight,o=this.type;"serial"!=o&&"xy"!=o&&"gantt"!=o||(t=this.marginLeftReal,r=this.marginTopReal,i=t+this.plotAreaWidth,a=r+this.plotAreaHeight);var o=e+"/javascript-charts/",s="JavaScript charts",l="";"ammap"==this.product&&(o=e+"/javascript-maps/",s="Interactive JavaScript maps",l="JS map by amCharts"),e=document.createElement("a"),l=document.createTextNode(l),e.setAttribute("href",o),e.setAttribute("title",s),this.urlTarget&&e.setAttribute("target",this.urlTarget),e.appendChild(l),this.chartDiv.appendChild(e),this.amLink=e,o=e.style,o.position="absolute",o.textDecoration="none",o.color=this.color,o.fontFamily=this.fontFamily,o.fontSize="11px",o.opacity=.7,o.display="block";var s=e.offsetWidth,e=e.offsetHeight,l=5+t,u=r+5;"bottom-left"==n&&(l=5+t,u=a-e-3),"bottom-right"==n&&(l=i-s-5,u=a-e-3),"top-right"==n&&(l=i-s-5,u=r+5),o.left=l+"px",o.top=u+"px"}}}}),t.Slice=t.Class({construct:function(){}}),t.SerialDataItem=t.Class({construct:function(){}}),t.GraphDataItem=t.Class({construct:function(){}}),t.Guide=t.Class({construct:function(e){this.cname="Guide",t.applyTheme(this,e,this.cname)}}),t.Title=t.Class({construct:function(e){this.cname="Title",t.applyTheme(this,e,this.cname)}}),t.Label=t.Class({construct:function(e){this.cname="Label",t.applyTheme(this,e,this.cname)}})}(),function(){var t=window.AmCharts;t.AmGraph=t.Class({construct:function(e){this.cname="AmGraph",this.createEvents("rollOverGraphItem","rollOutGraphItem","clickGraphItem","doubleClickGraphItem","rightClickGraphItem","clickGraph","rollOverGraph","rollOutGraph"),this.type="line",this.stackable=!0,this.columnCount=1,this.columnIndex=0,this.centerCustomBullets=this.showBalloon=!0,this.maxBulletSize=50,this.minBulletSize=4,this.balloonText="[[value]]",this.hidden=this.scrollbar=this.animationPlayed=!1,this.pointPosition="middle",this.depthCount=1,this.includeInMinMax=!0,this.negativeBase=0,this.visibleInLegend=!0,this.showAllValueLabels=!1,this.showBulletsAt=this.showBalloonAt="close",this.lineThickness=1,this.dashLength=0,this.connect=!0,this.lineAlpha=1,this.bullet="none",this.bulletBorderThickness=2,this.bulletBorderAlpha=0,this.bulletAlpha=1,this.bulletSize=8,this.cornerRadiusTop=this.hideBulletsCount=this.bulletOffset=0,this.cursorBulletAlpha=1,this.gradientOrientation="vertical",this.dy=this.dx=0,this.periodValue="",this.clustered=!0,this.periodSpan=1,this.accessibleLabel="[[title]] [[category]] [[value]]",this.accessibleSkipText="Press enter to skip [[title]]",this.y=this.x=0,this.switchable=!0,this.tcc=this.minDistance=1,this.labelRotation=0,this.labelAnchor="auto",this.labelOffset=3,this.bcn="graph-",this.dateFormat="MMM DD, YYYY",this.noRounding=!0,t.applyTheme(this,e,this.cname)},init:function(){this.createBalloon()},draw:function(){var e=this.chart;e.isRolledOverBullet=!1;var n=e.type;if(e.drawGraphs){isNaN(this.precision)||(this.numberFormatter?this.numberFormatter.precision=this.precision:this.numberFormatter={precision:this.precision,decimalSeparator:e.decimalSeparator,thousandsSeparator:e.thousandsSeparator});var r=e.container;this.container=r,this.destroy();var i=r.set();this.set=i,i.translate(this.x,this.y);var a=r.set();this.bulletSet=a,a.translate(this.x,this.y),this.behindColumns?(e.graphsBehindSet.push(i),e.bulletBehindSet.push(a)):(e.graphsSet.push(i),e.bulletSet.push(a));var o=this.bulletAxis;t.isString(o)&&(this.bulletAxis=e.getValueAxisById(o)),r=r.set(),t.remove(this.columnsSet),this.columnsSet=r,t.setCN(e,i,"graph-"+this.type),t.setCN(e,i,"graph-"+this.id),t.setCN(e,a,"graph-"+this.type),t.setCN(e,a,"graph-"+this.id),this.columnsArray=[],this.ownColumns=[],this.allBullets=[],this.animationArray=[],a=this.labelPosition,a||(o=this.valueAxis.stackType,a="top","column"==this.type&&(e.rotate&&(a="right"),"100%"==o||"regular"==o)&&(a="middle"),this.labelPosition=a),t.ifArray(this.data)&&(e=!1,"xy"==n?this.xAxis.axisCreated&&this.yAxis.axisCreated&&(e=!0):this.valueAxis.axisCreated&&(e=!0),!this.hidden&&e&&this.createGraph()),i.push(r)}},createGraph:function(){var e=this,n=e.chart;e.startAlpha=n.startAlpha,e.seqAn=n.sequencedAnimation,e.baseCoord=e.valueAxis.baseCoord,void 0===e.fillAlphas&&(e.fillAlphas=0),e.bulletColorR=e.bulletColor,void 0===e.bulletColorR&&(e.bulletColorR=e.lineColorR,e.bulletColorNegative=e.negativeLineColor),void 0===e.bulletAlpha&&(e.bulletAlpha=e.lineAlpha),("step"==r||t.VML)&&(e.noRounding=!1);var r=n.type;if("gantt"==r&&(r="serial"),clearTimeout(e.playedTO),!isNaN(e.valueAxis.min)&&!isNaN(e.valueAxis.max)){switch(r){case"serial":e.categoryAxis&&(e.createSerialGraph(),"candlestick"==e.type&&1>e.valueAxis.minMaxMultiplier&&e.positiveClip(e.set));break;case"radar":e.createRadarGraph();break;case"xy":e.createXYGraph()}e.playedTO=setTimeout(function(){e.setAnimationPlayed.call(e)},500*e.chart.startDuration)}},setAnimationPlayed:function(){this.animationPlayed=!0},createXYGraph:function(){var t=[],e=[],n=this.xAxis,r=this.yAxis;this.pmh=r.height,this.pmw=n.width,this.pmy=this.pmx=0;var i;for(i=this.start;i<=this.end;i++){var a=this.data[i].axes[n.id].graphs[this.id],o=a.values,s=o.x,l=o.y,o=n.getCoordinate(s,this.noRounding),u=r.getCoordinate(l,this.noRounding);if(!isNaN(s)&&!isNaN(l)&&(t.push(o),e.push(u),a.x=o,a.y=u,s=this.createBullet(a,o,u,i),l=this.labelText)){var l=this.createLabel(a,l),c=0;s&&(c=s.size),this.positionLabel(a,o,u,l,c)}}this.drawLineGraph(t,e),this.launchAnimation()},createRadarGraph:function(){var t,e,n,r,i,a=this.valueAxis.stackType,o=[],s=[],l=[],u=[];for(i=this.start;i<=this.end;i++){var c,h,g=this.data[i].axes[this.valueAxis.id].graphs[this.id];if("none"==a||"3d"==a?c=g.values.value:(c=g.values.close,h=g.values.open),isNaN(c))this.connect||(this.drawLineGraph(o,s,l,u),o=[],s=[],l=[],u=[]);else{var d=this.valueAxis.getCoordinate(c,this.noRounding)-this.height,d=d*this.valueAxis.rMultiplier,p=-360/(this.end-this.start+1)*i;if("middle"==this.valueAxis.pointPosition&&(p-=180/(this.end-this.start+1)),c=d*Math.sin(p/180*Math.PI),d*=Math.cos(p/180*Math.PI),o.push(c),s.push(d),!isNaN(h)){var f=this.valueAxis.getCoordinate(h,this.noRounding)-this.height,f=f*this.valueAxis.rMultiplier,A=f*Math.sin(p/180*Math.PI),p=f*Math.cos(p/180*Math.PI);l.push(A),u.push(p),isNaN(n)&&(n=A),isNaN(r)&&(r=p)}p=this.createBullet(g,c,d,i),g.x=c,g.y=d,(A=this.labelText)&&(A=this.createLabel(g,A),f=0,p&&(f=p.size),this.positionLabel(g,c,d,A,f)),isNaN(t)&&(t=c),isNaN(e)&&(e=d)}}o.push(t),s.push(e),isNaN(n)||(l.push(n),u.push(r)),this.drawLineGraph(o,s,l,u),this.launchAnimation()},positionLabel:function(t,e,n,r,i){if(r){var a=this.chart,o=this.valueAxis,s="middle",l=!1,u=this.labelPosition,c=r.getBBox(),h=this.chart.rotate,g=t.isNegative,d=this.fontSize;switch(void 0===d&&(d=this.chart.fontSize),n-=c.height/2-d/2-1,void 0!==t.labelIsNegative&&(g=t.labelIsNegative),u){case"right":u=h&&g?"left":"right";break;case"top":u=h?"top":g?"bottom":"top";break;case"bottom":u=h?"bottom":g?"top":"bottom";break;case"left":u=h&&g?"right":"left"}var d=t.columnGraphics,p=0,f=0;d&&(p=d.x,f=d.y);var A=this.labelOffset;switch(u){case"right":s="start",e+=i/2+A;break;case"top":n=o.reversed?n+(i/2+c.height/2+A):n-(i/2+c.height/2+A);break;case"bottom":n=o.reversed?n-(i/2+c.height/2+A):n+(i/2+c.height/2+A);break;case"left":s="end",e-=i/2+A;break;case"inside":"column"==this.type&&(l=!0,h?g?(s="end",e=p-3-A):(s="start",e=p+3+A):n=g?f+7+A:f-10-A);break;case"middle":"column"==this.type&&(l=!0,h?e-=(e-p)/2+A-3:n-=(n-f)/2+A-3)}return"auto"!=this.labelAnchor&&(s=this.labelAnchor),r.attr({"text-anchor":s}),this.labelRotation&&r.rotate(this.labelRotation),r.translate(e,n),!this.showAllValueLabels&&d&&l&&(c=r.getBBox(),c.height>t.columnHeight||c.width>t.columnWidth)&&(r.remove(),r=null),r&&"radar"!=a.type&&(h?((0>n||n>this.height)&&(r.remove(),r=null),!this.showAllValueLabels&&(0>e||e>this.width)&&(r.remove(),r=null)):((0>e||e>this.width)&&(r.remove(),r=null),!this.showAllValueLabels&&r&&(0>n||n>this.height)&&(r.remove(),r=null))),r&&this.allBullets.push(r),r}},getGradRotation:function(){var t=270;return"horizontal"==this.gradientOrientation&&(t=0),this.gradientRotation=t},createSerialGraph:function(){this.dashLengthSwitched=this.fillColorsSwitched=this.lineColorSwitched=void 0;var e=this.chart,r=this.id,i=this.index,a=this.data,o=this.chart.container,s=this.valueAxis,l=this.type,u=this.columnWidthReal,c=this.showBulletsAt;isNaN(this.columnWidth)||(u=this.columnWidth),isNaN(u)&&(u=.8);var h,g,d,p,f,A=this.useNegativeColorIfDown,C=this.width,I=this.height,m=this.y,v=this.rotate,y=this.columnCount,b=t.toCoordinate(this.cornerRadiusTop,u/2),x=this.connect,w=[],S=[],T=this.chart.graphs.length,N=this.dx/this.tcc,E=this.dy/this.tcc,k=s.stackType,O=this.start,M=this.end,R=this.scrollbar,D="graph-column-";R&&(D="scrollbar-graph-column-");var _,P=this.categoryAxis,L=this.baseCoord,z=this.negativeBase,F=this.columnIndex,B=this.lineThickness,V=this.lineAlpha,j=this.lineColorR,W=this.dashLength,G=this.set,U=this.getGradRotation(),H=this.chart.columnSpacing,Z=P.cellWidth,Y=(Z*u-y)/y;H>Y&&(H=Y);var X,q,K,J,Q,$,tt,et=I,nt=C,rt=0,it=0,at=this.fillColorsR,ot=this.negativeFillColors,st=this.negativeLineColor,lt=this.fillAlphas,ut=this.negativeFillAlphas;"object"==("undefined"==typeof lt?"undefined":n(lt))&&(lt=lt[0]),"object"==("undefined"==typeof ut?"undefined":n(ut))&&(ut=ut[0]);var ct=this.noRounding;"step"==l&&(ct=!1);var ht=s.getCoordinate(s.min);if(s.logarithmic&&(ht=s.getCoordinate(s.minReal)),this.minCoord=ht,this.resetBullet&&(this.bullet="none"),!(R||"line"!=l&&"smoothedLine"!=l&&"step"!=l||(1==a.length&&"step"!=l&&"none"==this.bullet&&(this.bullet="round",this.resetBullet=!0),!ot&&void 0==st||A))){var gt=z;gt>s.max&&(gt=s.max),gt<s.min&&(gt=s.min),s.logarithmic&&(gt=s.minReal);var dt=s.getCoordinate(gt),pt=s.getCoordinate(s.max);v?(et=I,nt=Math.abs(pt-dt),J=I,Q=Math.abs(ht-dt),tt=it=0,s.reversed?(rt=0,$=dt):(rt=dt,$=0)):(nt=C,et=Math.abs(pt-dt),Q=C,J=Math.abs(ht-dt),$=rt=0,s.reversed?(tt=m,it=dt):tt=dt)}var ft=Math.round;this.pmx=ft(rt),this.pmy=ft(it),this.pmh=ft(et),this.pmw=ft(nt),this.nmx=ft($),this.nmy=ft(tt),this.nmh=ft(J),this.nmw=ft(Q),t.isModern||(this.nmy=this.nmx=0,this.nmh=this.height),this.clustered||(y=1),u="column"==l?(Z*u-H*(y-1))/y:Z*u,1>u&&(u=1);var At=this.fixedColumnWidth;isNaN(At)||(u=At);var Ct;if("line"==l||"step"==l||"smoothedLine"==l){if(0<O){for(Ct=O-1;-1<Ct;Ct--)if(X=a[Ct],
q=X.axes[s.id].graphs[r],K=q.values.value,!isNaN(K)){O=Ct;break}if(this.lineColorField)for(Ct=O;-1<Ct;Ct--)if(X=a[Ct],q=X.axes[s.id].graphs[r],q.lineColor){this.bulletColorSwitched=this.lineColorSwitched=q.lineColor;break}if(this.fillColorsField)for(Ct=O;-1<Ct;Ct--)if(X=a[Ct],q=X.axes[s.id].graphs[r],q.fillColors){this.fillColorsSwitched=q.fillColors;break}if(this.dashLengthField)for(Ct=O;-1<Ct;Ct--)if(X=a[Ct],q=X.axes[s.id].graphs[r],!isNaN(q.dashLength)){this.dashLengthSwitched=q.dashLength;break}}if(M<a.length-1)for(Ct=M+1;Ct<a.length;Ct++)if(X=a[Ct],q=X.axes[s.id].graphs[r],K=q.values.value,!isNaN(K)){M=Ct;break}}M<a.length-1&&M++;var It=[],mt=[],vt=!1;"line"!=l&&"step"!=l&&"smoothedLine"!=l||(this.stackable&&"regular"==k||"100%"==k||this.fillToGraph)&&(vt=!0);var yt=this.noStepRisers,bt=-1e3,xt=-1e3,wt=this.minDistance,St=!0,Tt=!1;for(Ct=O;Ct<=M;Ct++){X=a[Ct],q=X.axes[s.id].graphs[r],q.index=Ct;var Nt,Et=NaN;if(A&&void 0==this.openField)for(var kt=Ct+1;kt<a.length&&(!a[kt]||!(Nt=a[Ct+1].axes[s.id].graphs[r])||!Nt.values||(Et=Nt.values.value,isNaN(Et)));kt++);var Ot,Mt,Rt,Dt,_t,Pt,Lt=NaN,zt=NaN,Ft=NaN,Bt=NaN,Vt=NaN,jt=NaN,Wt=NaN,Gt=NaN,Ut=NaN,Ht=NaN,Zt=NaN,Yt=NaN,Xt=NaN,qt=NaN,Kt=NaN,Jt=NaN,Qt=NaN,$t=void 0,te=at,ee=lt,ne=j,re=this.proCandlesticks,ie=this.topRadius,ae=I-1,oe=C-1,se=this.pattern;void 0!=q.pattern&&(se=q.pattern),isNaN(q.alpha)||(ee=q.alpha),isNaN(q.dashLength)||(W=q.dashLength);var le=q.values;if(s.recalculateToPercents&&(le=q.percents),"none"==k&&(F=isNaN(q.columnIndex)?this.columnIndex:q.columnIndex),le){if(qt=this.stackable&&"none"!=k&&"3d"!=k?le.close:le.value,"candlestick"!=l&&"ohlc"!=l||(qt=le.close,Jt=le.low,Wt=s.getCoordinate(Jt),Kt=le.high,Ut=s.getCoordinate(Kt)),Qt=le.open,Ft=s.getCoordinate(qt,ct),isNaN(Qt)||(Vt=s.getCoordinate(Qt,ct),A&&"regular"!=k&&"100%"!=k&&(Et=Qt,Qt=Vt=NaN)),A&&(void 0==this.openField?Nt&&(Nt.isNegative=Et<qt,isNaN(Et)&&(q.isNegative=!St)):q.isNegative=Et>qt),!R)switch(this.showBalloonAt){case"close":q.y=Ft;break;case"open":q.y=Vt;break;case"high":q.y=Ut;break;case"low":q.y=Wt}var Lt=X.x[P.id],ue=this.periodSpan-1;"step"!=l||isNaN(X.cellWidth)||(Z=X.cellWidth);var ce=Math.floor(Z/2)+Math.floor(ue*Z/2),he=ce,ge=0;if("left"==this.stepDirection&&(ge=(2*Z+ue*Z)/2,Lt-=ge),"center"==this.stepDirection&&(ge=Z/2,Lt-=ge),"start"==this.pointPosition&&(Lt-=Z/2+Math.floor(ue*Z/2),ce=0,he=Math.floor(Z)+Math.floor(ue*Z)),"end"==this.pointPosition&&(Lt+=Z/2+Math.floor(ue*Z/2),ce=Math.floor(Z)+Math.floor(ue*Z),he=0),yt){var de=this.columnWidth;isNaN(de)||(ce*=de,he*=de)}R||(q.x=Lt),-1e5>Lt&&(Lt=-1e5),Lt>C+1e5&&(Lt=C+1e5),v?(zt=Ft,Bt=Vt,Vt=Ft=Lt,isNaN(Qt)&&!this.fillToGraph&&(Bt=L),jt=Wt,Gt=Ut):(Bt=zt=Lt,isNaN(Qt)&&!this.fillToGraph&&(Vt=L)),(!re&&qt<Qt||re&&qt<_)&&(q.isNegative=!0,ot&&(te=ot),ut&&(ee=ut),void 0!=st&&(ne=st)),Tt=!1,isNaN(qt)||(A?qt>Et?(St&&(Tt=!0),St=!1):(St||(Tt=!0),St=!0):q.isNegative=qt<z,_=qt);var pe=!1;switch(R&&e.chartScrollbar.ignoreCustomColors&&(pe=!0),pe||(void 0!=q.color&&(te=q.color),q.fillColors&&(te=q.fillColors)),Ft=t.fitToBounds(Ft,-3e4,3e4),l){case"line":isNaN(qt)?x||(this.drawLineGraph(w,S,It,mt),w=[],S=[],It=[],mt=[]):((Math.abs(zt-bt)>=wt||Math.abs(Ft-xt)>=wt)&&(w.push(zt),S.push(Ft),bt=zt,xt=Ft),Ht=zt,Zt=Ft,Yt=zt,Xt=Ft,!vt||isNaN(Vt)||isNaN(Bt)||(It.push(Bt),mt.push(Vt)),(Tt||void 0!=q.lineColor&&q.lineColor!=this.lineColorSwitched||void 0!=q.fillColors&&q.fillColors!=this.fillColorsSwitched||!isNaN(q.dashLength))&&(this.drawLineGraph(w,S,It,mt),w=[zt],S=[Ft],It=[],mt=[],!vt||isNaN(Vt)||isNaN(Bt)||(It.push(Bt),mt.push(Vt)),A?St?(this.lineColorSwitched=j,this.fillColorsSwitched=at):(this.lineColorSwitched=st,this.fillColorsSwitched=ot):(this.lineColorSwitched=q.lineColor,this.fillColorsSwitched=q.fillColors),this.dashLengthSwitched=q.dashLength),q.gap&&(this.drawLineGraph(w,S,It,mt),w=[],S=[],It=[],mt=[]));break;case"smoothedLine":isNaN(qt)?x||(this.drawSmoothedGraph(w,S,It,mt),w=[],S=[],It=[],mt=[]):((Math.abs(zt-bt)>=wt||Math.abs(Ft-xt)>=wt)&&(w.push(zt),S.push(Ft),bt=zt,xt=Ft),Ht=zt,Zt=Ft,Yt=zt,Xt=Ft,!vt||isNaN(Vt)||isNaN(Bt)||(It.push(Bt),mt.push(Vt)),void 0==q.lineColor&&void 0==q.fillColors&&isNaN(q.dashLength)||(this.drawSmoothedGraph(w,S,It,mt),w=[zt],S=[Ft],It=[],mt=[],!vt||isNaN(Vt)||isNaN(Bt)||(It.push(Bt),mt.push(Vt)),this.lineColorSwitched=q.lineColor,this.fillColorsSwitched=q.fillColors,this.dashLengthSwitched=q.dashLength),q.gap&&(this.drawSmoothedGraph(w,S,It,mt),w=[],S=[],It=[],mt=[]));break;case"step":if(isNaN(qt))x||((1>=this.periodSpan||1<this.periodSpan&&zt-h>ce+he)&&(h=g=NaN),this.drawLineGraph(w,S,It,mt),w=[],S=[],It=[],mt=[]);else{if(v?(isNaN(h)||(w.push(h),S.push(Ft-ce)),S.push(Ft-ce),w.push(zt),S.push(Ft+he),w.push(zt),!vt||isNaN(Vt)||isNaN(Bt)||(isNaN(d)||(It.push(d),mt.push(Vt-ce)),It.push(Bt),mt.push(Vt-ce),It.push(Bt),mt.push(Vt+he))):(isNaN(g)||(S.push(g),w.push(zt-ce)),w.push(zt-ce),S.push(Ft),w.push(zt+he),S.push(Ft),!vt||isNaN(Vt)||isNaN(Bt)||(isNaN(p)||(It.push(Bt-ce),mt.push(p)),It.push(Bt-ce),mt.push(Vt),It.push(Bt+he),mt.push(Vt))),h=zt,g=Ft,d=Bt,p=Vt,Ht=zt,Zt=Ft,Yt=zt,Xt=Ft,Tt||void 0!=q.lineColor||void 0!=q.fillColors||!isNaN(q.dashLength)){var fe=w[w.length-2],Ae=S[S.length-2];w.pop(),S.pop(),It.pop(),mt.pop(),this.drawLineGraph(w,S,It,mt),w=[fe],S=[Ae],It=[],mt=[],vt&&(It=[fe,fe+ce+he],mt=[p,p]),v?(S.push(Ft+he),w.push(zt)):(w.push(zt+he),S.push(Ft)),this.lineColorSwitched=q.lineColor,this.fillColorsSwitched=q.fillColors,this.dashLengthSwitched=q.dashLength,A&&(St?(this.lineColorSwitched=j,this.fillColorsSwitched=at):(this.lineColorSwitched=st,this.fillColorsSwitched=ot))}(yt||q.gap)&&(h=g=NaN,this.drawLineGraph(w,S,It,mt),w=[],S=[],It=[],mt=[])}break;case"column":if(_t=ne,void 0!=q.lineColor&&(_t=q.lineColor),!isNaN(qt)){A||(q.isNegative=qt<z),q.isNegative&&(ot&&(te=ot),void 0!=st&&(_t=st));var Ce=s.min,Ie=s.max,me=Qt;if(isNaN(me)&&(me=z),!(qt<Ce&&me<Ce||qt>Ie&&me>Ie)){var ve;if(v){"3d"==k?(Mt=Ft-(y/2-this.depthCount+1)*(u+H)+H/2+E*F,Ot=Bt+N*F,ve=F):(Mt=Math.floor(Ft-(y/2-F)*(u+H)+H/2),Ot=Bt,ve=0),Rt=u,Ht=zt,Zt=Mt+u/2,Yt=zt,Xt=Mt+u/2,Mt+Rt>I+ve*E&&(Rt=I-Mt+ve*E),Mt<ve*E&&(Rt+=Mt,Mt=ve*E),Dt=zt-Bt;var ye=Ot;Ot=t.fitToBounds(Ot,0,C),Dt+=ye-Ot,Dt=t.fitToBounds(Dt,-Ot,C-Ot+N*F),q.labelIsNegative=0>Dt,0===Dt&&1/qt===1/-0&&(q.labelIsNegative=!0),isNaN(X.percentWidthValue)||(Rt=this.height*X.percentWidthValue/100,Mt=Lt-Rt/2,Zt=Mt+Rt/2),Rt=t.roundTo(Rt,2),Dt=t.roundTo(Dt,2),Mt<I&&0<Rt&&($t=new t.Cuboid(o,Dt,Rt,N-e.d3x,E-e.d3y,te,ee,B,_t,V,U,b,v,W,se,ie,D),q.columnWidth=Math.abs(Dt),q.columnHeight=Math.abs(Rt))}else{"3d"==k?(Ot=zt-(y/2-this.depthCount+1)*(u+H)+H/2+N*F,Mt=Vt+E*F,ve=F):(Ot=zt-(y/2-F)*(u+H)+H/2,Mt=Vt,ve=0),Rt=u,Ht=Ot+u/2,Zt=Ft,Yt=Ot+u/2,Xt=Ft,Ot+Rt>C+ve*N&&(Rt=C-Ot+ve*N),Ot<ve*N&&(Rt+=Ot-ve*N,Ot=ve*N),Dt=Ft-Vt,q.labelIsNegative=0<Dt,0===Dt&&1/qt!==1/Math.abs(qt)&&(q.labelIsNegative=!0);var be=Mt;Mt=t.fitToBounds(Mt,this.dy,I),Dt+=be-Mt,Dt=t.fitToBounds(Dt,-Mt+E*ve,I-Mt),isNaN(X.percentWidthValue)||(Rt=this.width*X.percentWidthValue/100,Ot=Lt-Rt/2,Ht=Ot+Rt/2),Rt=t.roundTo(Rt,2),Dt=t.roundTo(Dt,2),Ot<C+F*N&&0<Rt&&(this.showOnAxis&&(Mt-=E/2),$t=new t.Cuboid(o,Rt,Dt,N-e.d3x,E-e.d3y,te,ee,B,_t,this.lineAlpha,U,b,v,W,se,ie,D),q.columnHeight=Math.abs(Dt),q.columnWidth=Math.abs(Rt))}}$t&&(Pt=$t.set,t.setCN(e,$t.set,"graph-"+this.type),t.setCN(e,$t.set,"graph-"+this.id),q.className&&t.setCN(e,$t.set,q.className,!0),q.columnGraphics=Pt,Ot=t.roundTo(Ot,2),Mt=t.roundTo(Mt,2),Pt.translate(Ot,Mt),(q.url||this.showHandOnHover)&&Pt.setAttr("cursor","pointer"),R||("none"==k&&(f=v?(this.end+1-Ct)*T-i:T*Ct+i),"3d"==k&&(v?(f=(this.end+1-Ct)*T-i-1e3*this.depthCount,Ht+=N*F,Yt+=N*F,q.y+=N*F):(f=(T-i)*(Ct+1)+1e3*this.depthCount,Zt+=E*F,Xt+=E*F,q.y+=E*F)),"regular"!=k&&"100%"!=k||(f=v?0<le.value?(this.end+1-Ct)*T+i:(this.end+1-Ct)*T-i:0<le.value?T*Ct+i:T*Ct-i),this.columnsArray.push({column:$t,depth:f}),q.x=v?Mt+Rt/2:Ot+Rt/2,this.ownColumns.push($t),this.animateColumns($t,Ct,zt,Bt,Ft,Vt),this.addListeners(Pt,q),void 0!==this.tabIndex&&Pt.setAttr("tabindex",this.tabIndex)),this.columnsSet.push(Pt))}break;case"candlestick":if(!isNaN(Qt)&&!isNaN(qt)){var xe,we;if(_t=ne,void 0!=q.lineColor&&(_t=q.lineColor),Ht=zt,Xt=Zt=Ft,Yt=zt,v){if("open"==c&&(Yt=Bt),"high"==c&&(Yt=Gt),"low"==c&&(Yt=jt),zt=t.fitToBounds(zt,0,oe),Bt=t.fitToBounds(Bt,0,oe),jt=t.fitToBounds(jt,0,oe),Gt=t.fitToBounds(Gt,0,oe),0===zt&&0===Bt&&0===jt&&0===Gt)continue;if(zt==oe&&Bt==oe&&jt==oe&&Gt==oe)continue;if(Mt=Ft-u/2,Ot=Bt,Rt=u,Mt+Rt>I&&(Rt=I-Mt),0>Mt&&(Rt+=Mt,Mt=0),Mt<I&&0<Rt){var Se,Te;qt>Qt?(Se=[zt,Gt],Te=[Bt,jt]):(Se=[Bt,Gt],Te=[zt,jt]),!isNaN(Gt)&&!isNaN(jt)&&Ft<I&&0<Ft&&(xe=t.line(o,Se,[Ft,Ft],_t,V,B),we=t.line(o,Te,[Ft,Ft],_t,V,B)),Dt=zt-Bt,$t=new t.Cuboid(o,Dt,Rt,N,E,te,lt,B,_t,V,U,b,v,W,se,ie,D)}}else{if("open"==c&&(Xt=Vt),"high"==c&&(Xt=Ut),"low"==c&&(Xt=Wt),Ft=t.fitToBounds(Ft,0,ae),Vt=t.fitToBounds(Vt,0,ae),Wt=t.fitToBounds(Wt,0,ae),Ut=t.fitToBounds(Ut,0,ae),0===Ft&&0===Vt&&0===Wt&&0===Ut)continue;if(Ft==ae&&Vt==ae&&Wt==ae&&Ut==ae)continue;if(Ot=zt-u/2,Mt=Vt+B/2,Rt=u,Ot+Rt>C&&(Rt=C-Ot),0>Ot&&(Rt+=Ot,Ot=0),Dt=Ft-Vt,Ot<C&&0<Rt){re&&qt>=Qt&&(ee=0);var Ne,Ee,$t=new t.Cuboid(o,Rt,Dt,N,E,te,ee,B,_t,V,U,b,v,W,se,ie,D);qt>Qt?(Ne=[Ft,Ut],Ee=[Vt,Wt]):(Ne=[Vt,Ut],Ee=[Ft,Wt]),!isNaN(Ut)&&!isNaN(Wt)&&zt<C&&0<zt&&(xe=t.line(o,[zt,zt],Ne,_t,V,B),we=t.line(o,[zt,zt],Ee,_t,V,B),t.setCN(e,xe,this.bcn+"line-high"),q.className&&t.setCN(e,xe,q.className,!0),t.setCN(e,we,this.bcn+"line-low"),q.className&&t.setCN(e,we,q.className,!0))}}$t&&(Pt=$t.set,q.columnGraphics=Pt,G.push(Pt),Pt.translate(Ot,Mt-B/2),(q.url||this.showHandOnHover)&&Pt.setAttr("cursor","pointer"),xe&&(G.push(xe),G.push(we)),R||(q.x=v?Mt+Rt/2:Ot+Rt/2,this.animateColumns($t,Ct,zt,Bt,Ft,Vt),this.addListeners(Pt,q),void 0!==this.tabIndex&&Pt.setAttr("tabindex",this.tabIndex)))}break;case"ohlc":if(!(isNaN(Qt)||isNaN(Kt)||isNaN(Jt)||isNaN(qt))){var ke=o.set();G.push(ke),qt<Qt&&(q.isNegative=!0,void 0!=st&&(ne=st)),void 0!=q.lineColor&&(ne=q.lineColor);var Oe,Me,Re;if(v){if(Xt=Ft,Yt=zt,"open"==c&&(Yt=Bt),"high"==c&&(Yt=Gt),"low"==c&&(Yt=jt),jt=t.fitToBounds(jt,0,oe),Gt=t.fitToBounds(Gt,0,oe),0===zt&&0===Bt&&0===jt&&0===Gt)continue;if(zt==oe&&Bt==oe&&jt==oe&&Gt==oe)continue;var De=Ft-u/2,De=t.fitToBounds(De,0,I),_e=t.fitToBounds(Ft,0,I),Pe=Ft+u/2,Pe=t.fitToBounds(Pe,0,I);0<=Bt&&Bt<=oe&&(Me=t.line(o,[Bt,Bt],[De,_e],ne,V,B,W)),0<Ft&&Ft<I&&(Oe=t.line(o,[jt,Gt],[Ft,Ft],ne,V,B,W)),0<=zt&&zt<=oe&&(Re=t.line(o,[zt,zt],[_e,Pe],ne,V,B,W))}else{Xt=Ft,"open"==c&&(Xt=Vt),"high"==c&&(Xt=Ut),"low"==c&&(Xt=Wt);var Yt=zt,Wt=t.fitToBounds(Wt,0,ae),Ut=t.fitToBounds(Ut,0,ae),Le=zt-u/2,Le=t.fitToBounds(Le,0,C),ze=t.fitToBounds(zt,0,C),Fe=zt+u/2,Fe=t.fitToBounds(Fe,0,C);0<=Vt&&Vt<=ae&&(Me=t.line(o,[Le,ze],[Vt,Vt],ne,V,B,W)),0<zt&&zt<C&&(Oe=t.line(o,[zt,zt],[Wt,Ut],ne,V,B,W)),0<=Ft&&Ft<=ae&&(Re=t.line(o,[ze,Fe],[Ft,Ft],ne,V,B,W))}G.push(Me),G.push(Oe),G.push(Re),t.setCN(e,Me,this.bcn+"stroke-open"),t.setCN(e,Re,this.bcn+"stroke-close"),t.setCN(e,Oe,this.bcn+"stroke"),q.className&&t.setCN(e,ke,q.className,!0),Ht=zt,Zt=Ft}}if(!R&&!isNaN(qt)){var Be=this.hideBulletsCount;if(this.end-this.start<=Be||0===Be){var Ve=this.createBullet(q,Yt,Xt,Ct),je=this.labelText;if(je&&!isNaN(Ht)&&!isNaN(Ht)){var We=this.createLabel(q,je),Ge=0;Ve&&(Ge=Ve.size),this.positionLabel(q,Ht,Zt,We,Ge)}if("regular"==k||"100%"==k){var Ue=s.totalText;if(Ue){var He=this.createLabel(q,Ue,s.totalTextColor);if(t.setCN(e,He,this.bcn+"label-total"),this.allBullets.push(He),He){var Ze,Ye,Xe=He.getBBox(),qe=Xe.width,Ke=Xe.height,Je=s.totalTextOffset,Qe=s.totals[Ct];Qe&&Qe.remove();var $e=0;"column"!=l&&($e=this.bulletSize),v?(Ye=Zt,Ze=0>qt?zt-qe/2-2-$e-Je:zt+qe/2+3+$e+Je):(Ze=Ht,Ye=0>qt?Ft+Ke/2+$e+Je:Ft-Ke/2-3-$e-Je),He.translate(Ze,Ye),s.totals[Ct]=He,v?(0>Ye||Ye>I)&&He.remove():(0>Ze||Ze>C)&&He.remove()}}}}}}}this.lastDataItem=q,"line"!=l&&"step"!=l&&"smoothedLine"!=l||("smoothedLine"==l?this.drawSmoothedGraph(w,S,It,mt):this.drawLineGraph(w,S,It,mt),R||this.launchAnimation()),this.bulletsHidden&&this.hideBullets(),this.customBulletsHidden&&this.hideCustomBullets()},animateColumns:function(t,e){var n=this,r=n.chart.startDuration;0<r&&!n.animationPlayed&&(n.seqAn?(t.set.hide(),n.animationArray.push(t),r=setTimeout(function(){n.animate.call(n)},r/(n.end-n.start+1)*(e-n.start)*1e3),n.timeOuts.push(r)):n.animate(t),n.chart.animatable.push(t))},createLabel:function(e,n,r){var i=this.chart,a=e.labelColor;a||(a=this.color),a||(a=i.color),r&&(a=r),r=this.fontSize,void 0===r&&(this.fontSize=r=i.fontSize);var o=this.labelFunction;if(n=i.formatString(n,e),n=t.cleanFromEmpty(n),o&&(n=o(e,n)),void 0!==n&&""!==n)return e=t.text(this.container,n,a,i.fontFamily,r),e.node.style.pointerEvents="none",t.setCN(i,e,this.bcn+"label"),this.bulletSet.push(e),e},positiveClip:function(t){t.clipRect(this.pmx,this.pmy,this.pmw,this.pmh)},negativeClip:function(t){t.clipRect(this.nmx,this.nmy,this.nmw,this.nmh)},drawLineGraph:function(e,n,r,i){var a=this;if(1<e.length){var o=a.noRounding,s=a.set,l=a.chart,u=a.container,c=u.set(),h=u.set();s.push(h),s.push(c);var g=a.lineAlpha,d=a.lineThickness,s=a.fillAlphas,p=a.lineColorR,f=a.negativeLineAlpha;isNaN(f)&&(f=g);var A=a.lineColorSwitched;A&&(p=A);var A=a.fillColorsR,C=a.fillColorsSwitched;C&&(A=C);var I=a.dashLength;(C=a.dashLengthSwitched)&&(I=C);var C=a.negativeLineColor,m=a.negativeFillColors,v=a.negativeFillAlphas,y=a.baseCoord;0!==a.negativeBase&&(y=a.valueAxis.getCoordinate(a.negativeBase,o),y>a.height&&(y=a.height),0>y&&(y=0)),g=t.line(u,e,n,p,g,d,I,!1,!0,o),g.node.setAttribute("stroke-linejoin","round"),t.setCN(l,g,a.bcn+"stroke"),c.push(g),c.click(function(t){a.handleGraphEvent(t,"clickGraph")}).mouseover(function(t){a.handleGraphEvent(t,"rollOverGraph")}).mouseout(function(t){a.handleGraphEvent(t,"rollOutGraph")}).touchmove(function(t){a.chart.handleMouseMove(t)}).touchend(function(t){a.chart.handleTouchEnd(t)}),void 0===C||a.useNegativeColorIfDown||(d=t.line(u,e,n,C,f,d,I,!1,!0,o),d.node.setAttribute("stroke-linejoin","round"),t.setCN(l,d,a.bcn+"stroke"),t.setCN(l,d,a.bcn+"stroke-negative"),h.push(d)),(0<s||0<v)&&(d=e.join(";").split(";"),f=n.join(";").split(";"),g=l.type,"serial"==g||"radar"==g?0<r.length?(r.reverse(),i.reverse(),d=e.concat(r),f=n.concat(i)):"radar"==g?(f.push(0),d.push(0)):a.rotate?(f.push(f[f.length-1]),d.push(y),f.push(f[0]),d.push(y),f.push(f[0]),d.push(d[0])):(d.push(d[d.length-1]),f.push(y),d.push(d[0]),f.push(y),d.push(e[0]),f.push(f[0])):"xy"==g&&(n=a.fillToAxis)&&(t.isString(n)&&(n=l.getValueAxisById(n)),"H"==n.orientation?(y="top"==n.position?0:n.height,d.push(d[d.length-1]),f.push(y),d.push(d[0]),f.push(y),d.push(e[0]),f.push(f[0])):(y="left"==n.position?0:n.width,f.push(f[f.length-1]),d.push(y),f.push(f[0]),d.push(y),f.push(f[0]),d.push(d[0]))),e=a.gradientRotation,0<s&&(n=t.polygon(u,d,f,A,s,1,"#000",0,e,o),n.pattern(a.pattern,NaN,l.path),t.setCN(l,n,a.bcn+"fill"),c.push(n)),(m||void 0!==C)&&(isNaN(v)&&(v=s),m||(m=C),o=t.polygon(u,d,f,m,v,1,"#000",0,e,o),t.setCN(l,o,a.bcn+"fill"),t.setCN(l,o,a.bcn+"fill-negative"),o.pattern(a.pattern,NaN,l.path),h.push(o),h.click(function(t){a.handleGraphEvent(t,"clickGraph")}).mouseover(function(t){a.handleGraphEvent(t,"rollOverGraph")}).mouseout(function(t){a.handleGraphEvent(t,"rollOutGraph")}).touchmove(function(t){a.chart.handleMouseMove(t)}).touchend(function(t){a.chart.handleTouchEnd(t)}))),a.applyMask(h,c)}},applyMask:function(t,e){var n=t.length();"serial"!=this.chart.type||this.scrollbar||(this.positiveClip(e),0<n&&this.negativeClip(t))},drawSmoothedGraph:function(e,n,r,i){if(1<e.length){var a=this.set,o=this.chart,s=this.container,l=s.set(),u=s.set();a.push(u),a.push(l);var c=this.lineAlpha,h=this.lineThickness,a=this.dashLength,g=this.fillAlphas,d=this.lineColorR,p=this.fillColorsR,f=this.negativeLineColor,A=this.negativeFillColors,C=this.negativeFillAlphas,I=this.baseCoord,m=this.lineColorSwitched;m&&(d=m),(m=this.fillColorsSwitched)&&(p=m);var v=this.negativeLineAlpha;isNaN(v)&&(v=c),m=this.getGradRotation(),c=new t.Bezier(s,e,n,d,c,h,p,0,a,void 0,m),t.setCN(o,c,this.bcn+"stroke"),l.push(c.path),void 0!==f&&(h=new t.Bezier(s,e,n,f,v,h,p,0,a,void 0,m),t.setCN(o,h,this.bcn+"stroke"),t.setCN(o,h,this.bcn+"stroke-negative"),u.push(h.path)),0<g&&(c=e.join(";").split(";"),d=n.join(";").split(";"),h="",0<r.length?(r.push("M"),i.push("M"),r.reverse(),i.reverse(),c=e.concat(r),d=n.concat(i)):(this.rotate?(h+=" L"+I+","+n[n.length-1],h+=" L"+I+","+n[0]):(h+=" L"+e[e.length-1]+","+I,h+=" L"+e[0]+","+I),h+=" L"+e[0]+","+n[0]),r=new t.Bezier(s,c,d,NaN,0,0,p,g,a,h,m),t.setCN(o,r,this.bcn+"fill"),r.path.pattern(this.pattern,NaN,o.path),l.push(r.path),A||void 0!==f)&&(C||(C=g),A||(A=f),e=new t.Bezier(s,e,n,NaN,0,0,A,C,a,h,m),e.path.pattern(this.pattern,NaN,o.path),t.setCN(o,e,this.bcn+"fill"),t.setCN(o,e,this.bcn+"fill-negative"),u.push(e.path)),this.applyMask(u,l)}},launchAnimation:function(){var e=this,n=e.chart.startDuration;if(0<n&&!e.animationPlayed){var r=e.set,i=e.bulletSet;t.VML||(r.attr({opacity:e.startAlpha}),i.attr({opacity:e.startAlpha})),r.hide(),i.hide(),e.seqAn?(n=setTimeout(function(){e.animateGraphs.call(e)},e.index*n*1e3),e.timeOuts.push(n)):e.animateGraphs()}},animateGraphs:function(){var t=this.chart,e=this.set,n=this.bulletSet,r=this.x,i=this.y;e.show(),n.show();var a=t.startDuration,o=t.startEffect;e&&(this.rotate?(e.translate(-1e3,i),n.translate(-1e3,i)):(e.translate(r,-1e3),n.translate(r,-1e3)),e.animate({opacity:1,translate:r+","+i},a,o),n.animate({opacity:1,translate:r+","+i},a,o),t.animatable.push(e))},animate:function(e){var n=this.chart,r=this.animationArray;!e&&0<r.length&&(e=r[0],r.shift()),r=t[t.getEffect(n.startEffect)],n=n.startDuration,e&&(this.rotate?e.animateWidth(n,r):e.animateHeight(n,r),e.set.show())},legendKeyColor:function(){var t=this.legendColor,e=this.lineAlpha;return void 0===t&&(t=this.lineColorR,0===e&&(e=this.fillColorsR)&&(t="object"==("undefined"==typeof e?"undefined":n(e))?e[0]:e)),t},legendKeyAlpha:function(){var t=this.legendAlpha;return void 0===t&&(t=this.lineAlpha,this.fillAlphas>t&&(t=this.fillAlphas),0===t&&(t=this.bulletAlpha),0===t&&(t=1)),t},createBullet:function(e,n,r){if(!isNaN(n)&&!isNaN(r)&&("none"!=this.bullet||this.customBullet||e.bullet||e.customBullet)){var i=this.chart,a=this.container,o=this.bulletOffset,s=this.bulletSize;isNaN(e.bulletSize)||(s=e.bulletSize);var l=e.values.value,u=this.maxValue,c=this.minValue,h=this.maxBulletSize,g=this.minBulletSize;isNaN(u)||(isNaN(l)||(s=(l-c)/(u-c)*(h-g)+g),c==u&&(s=h)),u=s,this.bulletAxis&&(s=e.values.error,isNaN(s)||(l=s),s=this.bulletAxis.stepWidth*l),s<this.minBulletSize&&(s=this.minBulletSize),this.rotate?n=e.isNegative?n-o:n+o:r=e.isNegative?r+o:r-o,g=this.bulletColorR,e.lineColor&&(this.bulletColorSwitched=e.lineColor),this.bulletColorSwitched&&(g=this.bulletColorSwitched),e.isNegative&&void 0!==this.bulletColorNegative&&(g=this.bulletColorNegative),void 0!==e.color&&(g=e.color);var d;"xy"==i.type&&this.valueField&&(d=this.pattern,e.pattern&&(d=e.pattern)),o=this.bullet,e.bullet&&(o=e.bullet);var l=this.bulletBorderThickness,c=this.bulletBorderColorR,h=this.bulletBorderAlpha,p=this.bulletAlpha;c||(c=g),this.useLineColorForBulletBorder&&(c=this.lineColorR,e.isNegative&&this.negativeLineColor&&(c=this.negativeLineColor),this.lineColorSwitched&&(c=this.lineColorSwitched));var f=e.alpha;return isNaN(f)||(p=f),d=t.bullet(a,o,s,g,p,l,c,h,u,0,d,i.path),u=this.customBullet,e.customBullet&&(u=e.customBullet),u&&(d&&d.remove(),"function"==typeof u?(u=new u,u.chart=i,e.bulletConfig&&(u.availableSpace=r,u.graph=this,u.graphDataItem=e,u.bulletY=r,e.bulletConfig.minCoord=this.minCoord-r,u.bulletConfig=e.bulletConfig),u.write(a),d&&u.showBullet&&u.set.push(d),e.customBulletGraphics=u.cset,d=u.set):(d=a.set(),u=a.image(u,0,0,s,s),d.push(u),this.centerCustomBullets&&u.translate(-s/2,-s/2))),d&&((e.url||this.showHandOnHover)&&d.setAttr("cursor","pointer"),"serial"!=i.type&&"gantt"!=i.type||(-.5>n||n>this.width||r<-s/2||r>this.height)&&(d.remove(),d=null),d&&(this.bulletSet.push(d),d.translate(n,r),this.addListeners(d,e),this.allBullets.push(d)),e.bx=n,e.by=r,t.setCN(i,d,this.bcn+"bullet"),e.className&&t.setCN(i,d,e.className,!0)),d?(d.size=s||0,(i=this.bulletHitAreaSize)&&(a=t.circle(a,i,"#FFFFFF",.001,0),a.translate(n,r),e.hitBullet=a,this.bulletSet.push(a),this.addListeners(a,e)),e.bulletGraphics=d,void 0!==this.tabIndex&&d.setAttr("tabindex",this.tabIndex)):d={size:0},d.graphDataItem=e,d}},showBullets:function(){var t,e=this.allBullets;for(this.bulletsHidden=!1,t=0;t<e.length;t++)e[t].show()},hideBullets:function(){var t,e=this.allBullets;for(this.bulletsHidden=!0,t=0;t<e.length;t++)e[t].hide()},showCustomBullets:function(){var t,e=this.allBullets;for(this.customBulletsHidden=!1,t=0;t<e.length;t++){var n=e[t].graphDataItem;n.customBulletGraphics&&n.customBulletGraphics.show()}},hideCustomBullets:function(){var t,e=this.allBullets;for(this.customBulletsHidden=!0,t=0;t<e.length;t++){var n=e[t].graphDataItem;n.customBulletGraphics&&n.customBulletGraphics.hide()}},addListeners:function(t,e){var n=this;t.mouseover(function(t){n.handleRollOver(e,t)}).mouseout(function(t){n.handleRollOut(e,t)}).touchend(function(t){n.handleRollOver(e,t),n.chart.panEventsEnabled&&n.handleClick(e,t)}).touchstart(function(t){n.handleRollOver(e,t)}).click(function(t){n.handleClick(e,t)}).dblclick(function(t){n.handleDoubleClick(e,t)}).contextmenu(function(t){n.handleRightClick(e,t)});var r=n.chart;if(r.accessible&&n.accessibleLabel){var i=r.formatString(n.accessibleLabel,e);r.makeAccessible(t,i)}},handleRollOver:function(t,e){if(this.handleGraphEvent(e,"rollOverGraph"),t){var n=this.chart;t.bulletConfig&&(n.isRolledOverBullet=!0);var r={type:"rollOverGraphItem",item:t,index:t.index,graph:this,target:this,chart:this.chart,event:e};this.fire(r),n.fire(r),clearTimeout(n.hoverInt),(n=n.chartCursor)&&n.valueBalloonsEnabled||this.showGraphBalloon(t,"V",!0)}},handleRollOut:function(t,e){var n=this.chart;if(t){var r={type:"rollOutGraphItem",item:t,index:t.index,graph:this,target:this,chart:this.chart,event:e};this.fire(r),n.fire(r),n.isRolledOverBullet=!1}this.handleGraphEvent(e,"rollOutGraph"),(n=n.chartCursor)&&n.valueBalloonsEnabled||this.hideBalloon()},handleClick:function(e,n){if(!this.chart.checkTouchMoved()&&this.chart.checkTouchDuration(n)){if(e){var r={type:"clickGraphItem",item:e,index:e.index,graph:this,target:this,chart:this.chart,event:n};this.fire(r),this.chart.fire(r),t.getURL(e.url,this.urlTarget)}this.handleGraphEvent(n,"clickGraph")}},handleGraphEvent:function(t,e){var n={type:e,graph:this,target:this,chart:this.chart,event:t};this.fire(n),this.chart.fire(n)},handleRightClick:function(t,e){if(t){var n={type:"rightClickGraphItem",item:t,index:t.index,graph:this,target:this,chart:this.chart,event:e};this.fire(n),this.chart.fire(n)}},handleDoubleClick:function(t,e){if(t){var n={type:"doubleClickGraphItem",item:t,index:t.index,graph:this,target:this,chart:this.chart,event:e};this.fire(n),this.chart.fire(n)}},zoom:function(t,e){this.start=t,this.end=e,this.draw()},changeOpacity:function(t){var e=this.set;if(e&&e.setAttr("opacity",t),e=this.ownColumns){var n;for(n=0;n<e.length;n++){var r=e[n].set;r&&r.setAttr("opacity",t)}}(e=this.bulletSet)&&e.setAttr("opacity",t)},destroy:function(){t.remove(this.set),t.remove(this.bulletSet);var e=this.timeOuts;if(e){var n;for(n=0;n<e.length;n++)clearTimeout(e[n])}this.timeOuts=[]},createBalloon:function(){var e=this.chart;this.balloon?this.balloon.destroy&&this.balloon.destroy():this.balloon={};var n=this.balloon;t.extend(n,e.balloon,!0),n.chart=e,n.mainSet=e.plotBalloonsSet,n.className=this.id},hideBalloon:function(){var t=this,e=t.chart;e.chartCursor?e.chartCursor.valueBalloonsEnabled||e.hideBalloon():e.hideBalloon(),clearTimeout(t.hoverInt),t.hoverInt=setTimeout(function(){t.hideBalloonReal.call(t)},e.hideBalloonTime)},hideBalloonReal:function(){this.balloon&&this.balloon.hide(),this.fixBulletSize()},fixBulletSize:function(){if(t.isModern){var e=this.resizedDItem;if(e){var n=e.bulletGraphics;if(n&&!n.doNotScale){n.translate(e.bx,e.by,1);var r=this.bulletAlpha;isNaN(e.alpha)||(r=e.alpha),n.setAttr("fill-opacity",r),n.setAttr("stroke-opacity",this.bulletBorderAlpha)}}this.resizedDItem=null}},showGraphBalloon:function(e,n,r,i,a){if(e){var o=this.chart,s=this.balloon,l=0,u=0,c=o.chartCursor,h=!0;if(c?c.valueBalloonsEnabled||(s=o.balloon,l=this.x,u=this.y,h=!1):(s=o.balloon,l=this.x,u=this.y,h=!1),clearTimeout(this.hoverInt),o.chartCursor&&(this.currentDataItem=e,"serial"==o.type&&o.isRolledOverBullet&&o.chartCursor.valueBalloonsEnabled))return void this.hideBalloonReal();if(this.resizeBullet(e,i,a),s&&s.enabled&&this.showBalloon&&!this.hidden){var c=o.formatString(this.balloonText,e,!0),g=this.balloonFunction;g&&(c=g(e,e.graph)),c&&(c=t.cleanFromEmpty(c)),c&&""!==c?(i=o.getBalloonColor(this,e),s.drop||(s.pointerOrientation=n),n=e.x,a=e.y,o.rotate&&(n=e.y,a=e.x),n+=l,a+=u,isNaN(n)||isNaN(a)?this.hideBalloonReal():(e=this.width,g=this.height,h&&s.setBounds(l,u,e+l,g+u),s.changeColor(i),s.setPosition(n,a),s.fixPrevious(),s.fixedPosition&&(r=!1),!r&&"radar"!=o.type&&(n<l||n>e+l||a<u-.5||a>g+u)?(s.showBalloon(c),s.hide(0)):(s.followCursor(r),s.showBalloon(c)))):(this.hideBalloonReal(),s.hide(),this.resizeBullet(e,i,a))}else this.hideBalloonReal()}},resizeBullet:function(e,n,r){if(this.fixBulletSize(),e&&t.isModern&&(1!=n||!isNaN(r))){var i=e.bulletGraphics;i&&!i.doNotScale&&(i.translate(e.bx,e.by,n),isNaN(r)||(i.setAttr("fill-opacity",r),i.setAttr("stroke-opacity",r)),this.resizedDItem=e)}}})}(),function(){var t=window.AmCharts;t.ChartCursor=t.Class({construct:function(e){this.cname="ChartCursor",this.createEvents("changed","zoomed","onHideCursor","onShowCursor","draw","selected","moved","panning","zoomStarted"),this.enabled=!0,this.cursorAlpha=1,this.selectionAlpha=.2,this.cursorColor="#CC0000",this.categoryBalloonAlpha=1,this.color="#FFFFFF",this.type="cursor",this.zoomed=!1,this.zoomable=!0,this.pan=!1,this.categoryBalloonDateFormat="MMM DD, YYYY",this.categoryBalloonText="[[category]]",this.categoryBalloonEnabled=this.valueBalloonsEnabled=!0,this.rolledOver=!1,this.cursorPosition="middle",this.bulletsEnabled=this.skipZoomDispatch=!1,this.bulletSize=8,this.selectWithoutZooming=this.oneBalloonOnly=!1,this.graphBulletSize=1.7,this.animationDuration=.3,this.zooming=!1,this.adjustment=0,this.avoidBalloonOverlapping=!0,this.leaveCursor=!1,this.leaveAfterTouch=!0,this.valueZoomable=!1,this.balloonPointerOrientation="horizontal",this.hLineEnabled=this.vLineEnabled=!0,this.vZoomEnabled=this.hZoomEnabled=!1,t.applyTheme(this,e,this.cname)},draw:function(){this.destroy();var e=this.chart;e.panRequired=!0;var n=e.container;this.rotate=e.rotate,this.container=n,this.prevLineHeight=this.prevLineWidth=NaN,n=n.set(),n.translate(this.x,this.y),this.set=n,e.cursorSet.push(n),this.createElements(),t.isString(this.limitToGraph)&&(this.limitToGraph=t.getObjById(e.graphs,this.limitToGraph),this.fullWidth=!1,this.cursorPosition="middle"),this.pointer=this.balloonPointerOrientation.substr(0,1).toUpperCase(),this.isHidden=!1,this.hideLines(),this.valueLineAxis||(this.valueLineAxis=e.valueAxes[0])},createElements:function(){var e,n,r=this,i=r.chart,a=i.dx,o=i.dy,s=r.width,l=r.height,u=r.cursorAlpha,c=r.valueLineAlpha;r.rotate?(e=c,n=u):(n=c,e=u),"xy"==i.type&&(n=u,void 0!==c&&(n=c),e=u),r.vvLine=t.line(r.container,[a,0,0],[o,0,l],r.cursorColor,e,1),t.setCN(i,r.vvLine,"cursor-line"),t.setCN(i,r.vvLine,"cursor-line-vertical"),r.hhLine=t.line(r.container,[0,s,s+a],[0,0,o],r.cursorColor,n,1),t.setCN(i,r.hhLine,"cursor-line"),t.setCN(i,r.hhLine,"cursor-line-horizontal"),r.vLine=r.rotate?r.vvLine:r.hhLine,r.set.push(r.vvLine),r.set.push(r.hhLine),r.set.node.style.pointerEvents="none",r.fullLines=r.container.set(),i=i.cursorLineSet,i.push(r.fullLines),i.translate(r.x,r.y),i.clipRect(-1,-1,s+2,l+2),void 0!==r.tabIndex&&(i.setAttr("tabindex",r.tabIndex),i.keyup(function(t){r.handleKeys(t)}).focus(function(t){r.showCursor()}).blur(function(t){r.hideCursor()})),r.set.clipRect(0,0,s,l)},handleKeys:function(e){var n=this.prevIndex,r=this.chart;if(r){var i=r.chartData;i&&(isNaN(n)&&(n=i.length-1),37!=e.keyCode&&40!=e.keyCode||n--,39!=e.keyCode&&38!=e.keyCode||n++,n=t.fitToBounds(n,r.startIndex,r.endIndex),(e=this.chart.chartData[n])&&this.setPosition(e.x.categoryAxis),this.prevIndex=n)}},update:function(){var t=this.chart;if(t){var e=t.mouseX-this.x,n=t.mouseY-this.y;this.mouseX=e,this.mouseY=n,this.mouse2X=t.mouse2X-this.x,this.mouse2Y=t.mouse2Y-this.y;var r;if(t.chartData&&0<t.chartData.length){if(this.mouseIsOver()?(this.hideGraphBalloons=!1,this.rolledOver=r=!0,this.updateDrawing(),this.vvLine&&isNaN(this.fx)&&(t.rotate||!this.limitToGraph)&&this.vvLine.translate(e,0),!this.hhLine||!isNaN(this.fy)||t.rotate&&this.limitToGraph||this.hhLine.translate(0,n),isNaN(this.mouse2X)?this.dispatchMovedEvent(e,n):r=!1):this.forceShow||this.hideCursor(),this.zooming){if(!isNaN(this.mouse2X))return void(isNaN(this.mouse2X0)||this.dispatchPanEvent());if(this.pan)return void this.dispatchPanEvent();(this.hZoomEnabled||this.vZoomEnabled)&&this.zooming&&this.updateSelection()}r&&this.showCursor()}}},updateDrawing:function(){if(this.drawing&&this.chart.setMouseCursor("crosshair"),this.drawingNow){t.remove(this.drawingLine);var e=this.chart,n=e.marginTop,e=e.marginLeft;this.drawingLine=t.line(this.container,[this.drawStartX+e,this.mouseX+e],[this.drawStartY+n,this.mouseY+n],this.cursorColor,1,1)}},fixWidth:function(e){if(this.fullWidth&&this.prevLineWidth!=e){var n=this.vvLine,r=0;n&&(n.remove(),r=n.x),n=this.container.set(),n.translate(r,0),r=t.rect(this.container,e,this.height,this.cursorColor,this.cursorAlpha,this.cursorAlpha,this.cursorColor),t.setCN(this.chart,r,"cursor-fill"),r.translate(-e/2-1,0),n.push(r),this.vvLine=n,this.fullLines.push(n),this.prevLineWidth=e}},fixHeight:function(e){if(this.fullWidth&&this.prevLineHeight!=e){var n=this.hhLine,r=0;n&&(n.remove(),r=n.y),n=this.container.set(),n.translate(0,r),r=t.rect(this.container,this.width,e,this.cursorColor,this.cursorAlpha),r.translate(0,-e/2),n.push(r),this.fullLines.push(n),this.hhLine=n,this.prevLineHeight=e}},fixVLine:function(t,e){if(!isNaN(t)){if(isNaN(this.prevLineX)){var n=0,r=this.mouseX;if(this.limitToGraph){var i=this.chart.categoryAxis;i&&(this.chart.rotate||(n="bottom"==i.position?this.height:-this.height),r=t)}this.vvLine.translate(r,n)}else this.prevLineX!=t&&this.vvLine.translate(this.prevLineX,this.prevLineY);this.fx=t,this.prevLineX!=t&&(n=this.animationDuration,this.zooming&&(n=0),this.vvLine.stop(),this.vvLine.animate({translate:t+","+e},n,"easeOutSine"),this.prevLineX=t,this.prevLineY=e)}},fixHLine:function(t,e){if(!isNaN(t)){if(isNaN(this.prevLineY)){var n=0,r=this.mouseY;if(this.limitToGraph){var i=this.chart.categoryAxis;i&&(this.chart.rotate&&(n="right"==i.position?this.width:-this.width),r=t)}this.hhLine.translate(n,r)}else this.prevLineY!=t&&this.hhLine.translate(this.prevLineX,this.prevLineY);this.fy=t,this.prevLineY!=t&&(n=this.animationDuration,this.zooming&&(n=0),this.hhLine.stop(),this.hhLine.animate({translate:e+","+t},n,"easeOutSine"),this.prevLineY=t,this.prevLineX=e)}},hideCursor:function(t){this.forceShow=!1,this.chart.wasTouched&&this.leaveAfterTouch||this.isHidden||this.leaveCursor||(this.hideCursorReal(),t?this.chart.handleCursorHide():this.fire({target:this,chart:this.chart,type:"onHideCursor"}),this.chart.setMouseCursor("auto"))},hideCursorReal:function(){this.hideLines(),this.isHidden=!0,this.index=this.prevLineY=this.prevLineX=this.mouseY0=this.mouseX0=this.fy=this.fx=NaN},hideLines:function(){this.vvLine&&this.vvLine.hide(),this.hhLine&&this.hhLine.hide(),this.fullLines&&this.fullLines.hide(),this.isHidden=!0,this.chart.handleCursorHide()},showCursor:function(t){!this.drawing&&this.enabled&&(this.vLineEnabled&&this.vvLine&&this.vvLine.show(),this.hLineEnabled&&this.hhLine&&this.hhLine.show(),this.isHidden=!1,this.updateFullLine(),t||this.fire({target:this,chart:this.chart,
type:"onShowCursor"}),this.pan&&this.chart.setMouseCursor("move"))},updateFullLine:function(){this.zooming&&this.fullWidth&&this.selection&&(this.rotate?0<this.selection.height&&this.hhLine.hide():0<this.selection.width&&this.vvLine.hide())},updateSelection:function(){if(!this.pan&&this.enabled){var e=this.mouseX,n=this.mouseY;isNaN(this.fx)||(e=this.fx),isNaN(this.fy)||(n=this.fy),this.clearSelection();var r,i=this.mouseX0,a=this.mouseY0,o=this.width,s=this.height,e=t.fitToBounds(e,0,o),n=t.fitToBounds(n,0,s);e<i&&(r=e,e=i,i=r),n<a&&(r=n,n=a,a=r),this.hZoomEnabled?o=e-i:i=0,this.vZoomEnabled?s=n-a:a=0,isNaN(this.mouse2X)&&0<Math.abs(o)&&0<Math.abs(s)&&(e=this.chart,n=t.rect(this.container,o,s,this.cursorColor,this.selectionAlpha),t.setCN(e,n,"cursor-selection"),n.width=o,n.height=s,n.translate(i,a),this.set.push(n),this.selection=n),this.updateFullLine()}},mouseIsOver:function(){var t=this.mouseX,e=this.mouseY;return this.justReleased?(this.justReleased=!1,!0):!!this.mouseIsDown||(this.chart.mouseIsOver?0<t&&t<this.width&&0<e&&e<this.height||void this.handleMouseOut():(this.handleMouseOut(),!1))},fixPosition:function(){this.prevY=this.prevX=NaN},handleMouseDown:function(){if(this.update(),this.mouseIsOver())if(this.mouseIsDown=!0,this.mouseX0=this.mouseX,this.mouseY0=this.mouseY,this.mouse2X0=this.mouse2X,this.mouse2Y0=this.mouse2Y,this.drawing)this.drawStartY=this.mouseY,this.drawStartX=this.mouseX,this.drawingNow=!0;else if(this.dispatchMovedEvent(this.mouseX,this.mouseY),!this.pan&&isNaN(this.mouse2X0)&&(isNaN(this.fx)||(this.mouseX0=this.fx),isNaN(this.fy)||(this.mouseY0=this.fy)),this.hZoomEnabled||this.vZoomEnabled){this.zooming=!0;var t={chart:this.chart,target:this,type:"zoomStarted"};t.x=this.mouseX/this.width,t.y=this.mouseY/this.height,this.index0=t.index=this.index,this.timestamp0=this.timestamp,this.fire(t)}},registerInitialMouse:function(){},handleReleaseOutside:function(){if(this.mouseIsDown=!1,this.drawingNow){this.drawingNow=!1,t.remove(this.drawingLine);var e=this.drawStartX,n=this.drawStartY,r=this.mouseX,i=this.mouseY,a=this.chart;(2<Math.abs(e-r)||2<Math.abs(n-i))&&this.fire({type:"draw",target:this,chart:a,initialX:e,initialY:n,finalX:r,finalY:i})}this.zooming&&(this.zooming=!1,this.selectWithoutZooming?this.dispatchZoomEvent("selected"):(this.hZoomEnabled||this.vZoomEnabled)&&this.dispatchZoomEvent("zoomed"),this.rolledOver&&this.dispatchMovedEvent(this.mouseX,this.mouseY)),this.mouse2Y0=this.mouse2X0=this.mouseY0=this.mouseX0=NaN},dispatchZoomEvent:function(t){if(!this.pan){var e=this.selection;if(e&&3<Math.abs(e.width)&&3<Math.abs(e.height)){var n=Math.min(this.index,this.index0),r=Math.max(this.index,this.index0),i=n,a=r,o=this.chart,s=o.chartData,l=o.categoryAxis;l&&l.parseDates&&!l.equalSpacing&&(i=s[n]?s[n].time:Math.min(this.timestamp0,this.timestamp),a=s[r]?o.getEndTime(s[r].time):Math.max(this.timestamp0,this.timestamp));var u,e={type:t,chart:this.chart,target:this,end:a,start:i,startIndex:n,endIndex:r,selectionHeight:e.height,selectionWidth:e.width,selectionY:e.y,selectionX:e.x};this.hZoomEnabled&&4<Math.abs(this.mouseX0-this.mouseX)&&(e.startX=this.mouseX0/this.width,e.endX=this.mouseX/this.width,u=!0),this.vZoomEnabled&&4<Math.abs(this.mouseY0-this.mouseY)&&(e.startY=1-this.mouseY0/this.height,e.endY=1-this.mouseY/this.height,u=!0),u&&(this.prevY=this.prevX=NaN,this.fire(e),"selected"!=t&&this.clearSelection()),this.hideCursor()}}},dispatchMovedEvent:function(t,e,n,r){if(t=Math.round(t),e=Math.round(e),!this.isHidden&&(t!=this.prevX||e!=this.prevY||"changed"==n)){n||(n="moved");var i=this.fx,a=this.fy;isNaN(i)&&(i=t),isNaN(a)&&(a=e);var o=!1;this.zooming&&this.pan&&(o=!0),o={hidden:this.isHidden,type:n,chart:this.chart,target:this,x:t,y:e,finalX:i,finalY:a,zooming:this.zooming,panning:o,mostCloseGraph:this.mostCloseGraph,index:this.index,skip:r,hideBalloons:this.hideGraphBalloons},this.prevIndex=this.index,this.rotate?(o.position=e,o.finalPosition=a):(o.position=t,o.finalPosition=i),this.prevX=t,this.prevY=e,r?this.chart.handleCursorMove(o):(this.fire(o),"changed"==n&&this.chart.fire(o))}},dispatchPanEvent:function(){if(this.mouseIsDown){var e=t.roundTo((this.mouseX-this.mouseX0)/this.width,3),n=t.roundTo((this.mouseY-this.mouseY0)/this.height,3),r=t.roundTo((this.mouse2X-this.mouse2X0)/this.width,3),i=t.roundTo((this.mouse2Y-this.mouse2Y0)/this.height,2),a=!1;0!==Math.abs(e)&&0!==Math.abs(n)&&(a=!0),this.prevDeltaX!=e&&this.prevDeltaY!=n||(a=!1),isNaN(r)||isNaN(i)||(0!==Math.abs(r)&&0!==Math.abs(i)&&(a=!0),this.prevDelta2X!=r&&this.prevDelta2Y!=i)||(a=!1),a&&(this.hideLines(),this.fire({type:"panning",chart:this.chart,target:this,deltaX:e,deltaY:n,delta2X:r,delta2Y:i,index:this.index}),this.prevDeltaX=e,this.prevDeltaY=n,this.prevDelta2X=r,this.prevDelta2Y=i)}},clearSelection:function(){var t=this.selection;t&&(t.width=0,t.height=0,t.remove())},destroy:function(){this.clear(),t.remove(this.selection),this.selection=null,clearTimeout(this.syncTO),t.remove(this.set)},clear:function(){},setTimestamp:function(t){this.timestamp=t},setIndex:function(t,e){t!=this.index&&(this.index=t,e||this.isHidden||this.dispatchMovedEvent(this.mouseX,this.mouseY,"changed"))},handleMouseOut:function(){this.enabled&&this.rolledOver&&(this.leaveCursor||this.setIndex(void 0),this.forceShow=!1,this.hideCursor(),this.rolledOver=!1)},showCursorAt:function(t){var e=this.chart.categoryAxis;e&&this.setPosition(e.categoryToCoordinate(t),t)},setPosition:function(t,e){var n=this.chart,r=n.categoryAxis;if(r){var i,a;void 0===e&&(e=r.coordinateToValue(t)),r.showBalloonAt(e,t),this.forceShow=!0,r.stickBalloonToCategory?n.rotate?this.fixHLine(t,0):this.fixVLine(t,0):(this.showCursor(),n.rotate?this.hhLine.translate(0,t):this.vvLine.translate(t,0)),n.rotate?i=t:a=t,n.rotate?(this.vvLine&&this.vvLine.hide(),this.hhLine&&this.hhLine.show()):(this.hhLine&&this.hhLine.hide(),this.vvLine&&this.vvLine.show()),this.updateFullLine(),this.isHidden=!1,this.dispatchMovedEvent(a,i,"moved",!0)}},enableDrawing:function(t){this.enabled=!t,this.hideCursor(),this.drawing=t},syncWithCursor:function(t,e){clearTimeout(this.syncTO),t&&(t.isHidden?this.hideCursor(!0):this.syncWithCursorReal(t,e))},isZooming:function(t){this.zooming=t},syncWithCursorReal:function(t,e){var n=t.vvLine,r=t.hhLine;this.index=t.index,this.forceShow=!0,this.zooming&&this.pan||this.showCursor(!0),this.hideGraphBalloons=e,this.justReleased=t.justReleased,this.zooming=t.zooming,this.index0=t.index0,this.mouseX0=t.mouseX0,this.mouseY0=t.mouseY0,this.mouse2X0=t.mouse2X0,this.mouse2Y0=t.mouse2Y0,this.timestamp0=t.timestamp0,this.prevDeltaX=t.prevDeltaX,this.prevDeltaY=t.prevDeltaY,this.prevDelta2X=t.prevDelta2X,this.prevDelta2Y=t.prevDelta2Y,this.fx=t.fx,this.fy=t.fy,t.zooming&&this.updateSelection();var i=t.mouseX,a=t.mouseY;this.rotate?(i=NaN,this.vvLine&&this.vvLine.hide(),this.hhLine&&r&&(isNaN(t.fy)?this.hhLine.translate(0,t.mouseY):this.fixHLine(t.fy,0))):(a=NaN,this.hhLine&&this.hhLine.hide(),this.vvLine&&n&&(isNaN(t.fx)?this.vvLine.translate(t.mouseX,0):this.fixVLine(t.fx,0))),this.dispatchMovedEvent(i,a,"moved",!0)}})}(),function(){var t=window.AmCharts;t.SimpleChartScrollbar=t.Class({construct:function(e){this.createEvents("zoomed","zoomStarted","zoomEnded"),this.backgroundColor="#D4D4D4",this.backgroundAlpha=1,this.selectedBackgroundColor="#EFEFEF",this.scrollDuration=this.selectedBackgroundAlpha=1,this.resizeEnabled=!0,this.hideResizeGrips=!1,this.scrollbarHeight=20,this.updateOnReleaseOnly=!1,9>document.documentMode&&(this.updateOnReleaseOnly=!0),this.dragIconHeight=this.dragIconWidth=35,this.dragIcon="dragIconRoundBig",this.dragCursorHover="cursor: move; cursor: grab; cursor: -moz-grab; cursor: -webkit-grab;",this.dragCursorDown="cursor: move; cursor: grab; cursor: -moz-grabbing; cursor: -webkit-grabbing;",this.vResizeCursor="ns-resize",this.hResizeCursor="ew-resize",this.enabled=!0,this.percentStart=this.offset=0,this.percentEnd=1,t.applyTheme(this,e,"SimpleChartScrollbar")},getPercents:function(){var t=this.getDBox(),e=t.x,n=t.y,r=t.width,t=t.height;this.rotate?(e=1-n/this.height,n=1-(n+t)/this.height):(n=e/this.width,e=(e+r)/this.width),this.percentStart=n,this.percentEnd=e},draw:function(){var e=this;if(e.destroy(),e.enabled){var n=e.chart.container,r=e.rotate,i=e.chart;i.panRequired=!0;var a=n.set();e.set=a,i.scrollbarsSet.push(a);var o,s;if(r?(o=e.scrollbarHeight,s=i.plotAreaHeight):(s=e.scrollbarHeight,o=i.plotAreaWidth),e.width=o,(e.height=s)&&o){var l=t.rect(n,o,s,e.backgroundColor,e.backgroundAlpha,1,e.backgroundColor,e.backgroundAlpha);t.setCN(i,l,"scrollbar-bg"),e.bg=l,a.push(l),l=t.rect(n,o,s,"#000",.005),a.push(l),e.invisibleBg=l,l.click(function(){e.handleBgClick()}).mouseover(function(){e.handleMouseOver()}).mouseout(function(){e.handleMouseOut()}).touchend(function(){e.handleBgClick()}),l=t.rect(n,o,s,e.selectedBackgroundColor,e.selectedBackgroundAlpha),t.setCN(i,l,"scrollbar-bg-selected"),e.selectedBG=l,a.push(l),o=t.rect(n,o,s,"#000",.005),e.dragger=o,a.push(o),o.mousedown(function(t){e.handleDragStart(t)}).mouseup(function(){e.handleDragStop()}).mouseover(function(){e.handleDraggerOver()}).mouseout(function(){e.handleMouseOut()}).touchstart(function(t){e.handleDragStart(t)}).touchend(function(){e.handleDragStop()}),s=i.pathToImages;var u,l=e.dragIcon.replace(/\.[a-z]*$/i,"");t.isAbsolute(l)&&(s=""),r?(u=s+l+"H"+i.extension,s=e.dragIconWidth,r=e.dragIconHeight):(u=s+l+i.extension,r=e.dragIconWidth,s=e.dragIconHeight),l=n.image(u,0,0,r,s),t.setCN(i,l,"scrollbar-grip-left"),u=n.image(u,0,0,r,s),t.setCN(i,u,"scrollbar-grip-right");var c=10,h=20;i.panEventsEnabled&&(c=25,h=e.scrollbarHeight);var g=t.rect(n,c,h,"#000",.005),d=t.rect(n,c,h,"#000",.005);d.translate(-(c-r)/2,-(h-s)/2),g.translate(-(c-r)/2,-(h-s)/2),r=n.set([l,d]),n=n.set([u,g]),e.iconLeft=r,a.push(e.iconLeft),e.iconRight=n,a.push(n),e.updateGripCursor(!1),i.makeAccessible(r,e.accessibleLabel),i.makeAccessible(n,e.accessibleLabel),i.makeAccessible(o,e.accessibleLabel),r.setAttr("role","menuitem"),n.setAttr("role","menuitem"),o.setAttr("role","menuitem"),void 0!==e.tabIndex&&(r.setAttr("tabindex",e.tabIndex),r.keyup(function(t){e.handleKeys(t,1,0)})),void 0!==e.tabIndex&&(o.setAttr("tabindex",e.tabIndex),o.keyup(function(t){e.handleKeys(t,1,1)})),void 0!==e.tabIndex&&(n.setAttr("tabindex",e.tabIndex),n.keyup(function(t){e.handleKeys(t,0,1)})),r.mousedown(function(){e.leftDragStart()}).mouseup(function(){e.leftDragStop()}).mouseover(function(){e.iconRollOver()}).mouseout(function(){e.iconRollOut()}).touchstart(function(){e.leftDragStart()}).touchend(function(){e.leftDragStop()}),n.mousedown(function(){e.rightDragStart()}).mouseup(function(){e.rightDragStop()}).mouseover(function(){e.iconRollOver()}).mouseout(function(){e.iconRollOut()}).touchstart(function(){e.rightDragStart()}).touchend(function(){e.rightDragStop()}),t.ifArray(i.chartData)?a.show():a.hide(),e.hideDragIcons(),e.clipDragger(!1)}a.translate(e.x,e.y),a.node.style.msTouchAction="none",a.node.style.touchAction="none"}},handleKeys:function(t,e,n){this.getPercents();var r=this.percentStart,i=this.percentEnd;if(this.rotate)var a=i,i=r,r=a;37!=t.keyCode&&40!=t.keyCode||(r-=.02*e,i-=.02*n),39!=t.keyCode&&38!=t.keyCode||(r+=.02*e,i+=.02*n),this.rotate&&(t=i,i=r,r=t),isNaN(i)||isNaN(r)||this.percentZoom(r,i,!0)},updateScrollbarSize:function(t,e){if(!isNaN(t)&&!isNaN(e)){t=Math.round(t),e=Math.round(e);var n,r,i,a,o,s=this.dragger;this.rotate?(n=0,r=t,i=this.width+1,a=e-t,s.setAttr("height",e-t),s.setAttr("y",r)):(n=t,r=0,i=e-t,a=this.height+1,o=e-t,s.setAttr("x",n),s.setAttr("width",o)),this.clipAndUpdate(n,r,i,a)}},update:function(){var t,e,n,r=!1,i=this.x,a=this.y,o=this.dragger,s=this.getDBox();if(s){e=s.x+i,n=s.y+a;var l=s.width,s=s.height,u=this.rotate,c=this.chart,h=this.width,g=this.height,d=c.mouseX,c=c.mouseY;if(t=this.initialMouse,this.forceClip&&this.clipDragger(!0),this.dragging){var p=this.initialCoord;u?(t=p+(c-t),0>t&&(t=0),p=g-s,t>p&&(t=p),o.setAttr("y",t)):(t=p+(d-t),0>t&&(t=0),p=h-l,t>p&&(t=p),o.setAttr("x",t)),this.clipDragger(!0)}this.resizingRight&&(u?(t=c-n,!isNaN(this.maxHeight)&&t>this.maxHeight&&(t=this.maxHeight),t+n>g+a&&(t=g-n+a),0>t?(this.resizingRight=!1,r=this.resizingLeft=!0):((0===t||isNaN(t))&&(t=.1),o.setAttr("height",t))):(t=d-e,!isNaN(this.maxWidth)&&t>this.maxWidth&&(t=this.maxWidth),t+e>h+i&&(t=h-e+i),0>t?(this.resizingRight=!1,r=this.resizingLeft=!0):((0===t||isNaN(t))&&(t=.1),o.setAttr("width",t))),this.clipDragger(!0)),this.resizingLeft&&(u?(e=n,n=c,n<a&&(n=a),isNaN(n)&&(n=a),n>g+a&&(n=g+a),t=!0===r?e-n:s+e-n,!isNaN(this.maxHeight)&&t>this.maxHeight&&(t=this.maxHeight,n=e),0>t?(this.resizingRight=!0,this.resizingLeft=!1,o.setAttr("y",e+s-a)):((0===t||isNaN(t))&&(t=.1),o.setAttr("y",n-a),o.setAttr("height",t))):(n=d,n<i&&(n=i),isNaN(n)&&(n=i),n>h+i&&(n=h+i),t=!0===r?e-n:l+e-n,!isNaN(this.maxWidth)&&t>this.maxWidth&&(t=this.maxWidth,n=e),0>t?(this.resizingRight=!0,this.resizingLeft=!1,o.setAttr("x",e+l-i)):((0===t||isNaN(t))&&(t=.1),o.setAttr("x",n-i),o.setAttr("width",t))),this.clipDragger(!0))}},stopForceClip:function(){this.animating=this.forceClip=!1},clipDragger:function(t){var e=this.getDBox();if(e){var n=e.x,r=e.y,i=e.width,e=e.height,a=!1;this.rotate?(n=0,i=this.width+1,(this.clipY!=r||this.clipH!=e)&&(a=!0)):(r=0,e=this.height+1,(this.clipX!=n||this.clipW!=i)&&(a=!0)),a&&(this.clipAndUpdate(n,r,i,e),t&&(this.updateOnReleaseOnly||this.dispatchScrollbarEvent()))}},maskGraphs:function(){},clipAndUpdate:function(t,e,n,r){this.clipX=t,this.clipY=e,this.clipW=n,this.clipH=r,this.selectedBG.setAttr("width",n),this.selectedBG.setAttr("height",r),this.selectedBG.translate(t,e),this.updateDragIconPositions(),this.maskGraphs(t,e,n,r)},dispatchScrollbarEvent:function(){if(this.skipEvent)this.skipEvent=!1;else{var t=this.chart;t.hideBalloon();var e=this.getDBox(),n=e.x,r=e.y,i=e.width,e=e.height;this.getPercents(),this.rotate?(n=r,i=this.height/e):i=this.width/i,this.fire({type:"zoomed",position:n,chart:t,target:this,multiplier:i,relativeStart:this.percentStart,relativeEnd:this.percentEnd})}},updateDragIconPositions:function(){var t,e,n=this.getDBox(),r=n.x,i=n.y,a=this.iconLeft,o=this.iconRight,s=this.scrollbarHeight;this.rotate?(t=this.dragIconWidth,e=this.dragIconHeight,a.translate((s-e)/2,i-t/2),o.translate((s-e)/2,i+n.height-t/2)):(t=this.dragIconHeight,e=this.dragIconWidth,a.translate(r-e/2,(s-t)/2),o.translate(r-e/2+n.width,(s-t)/2))},showDragIcons:function(){this.resizeEnabled&&(this.iconLeft.show(),this.iconRight.show())},hideDragIcons:function(){this.resizingLeft||this.resizingRight||this.dragging||(!this.hideResizeGrips&&this.resizeEnabled||(this.iconLeft.hide(),this.iconRight.hide()),this.removeCursors())},removeCursors:function(){this.chart.setMouseCursor("auto")},fireZoomEvent:function(t){this.fire({type:t,chart:this.chart,target:this})},percentZoom:function(e,n,r){if(e=t.fitToBounds(e,0,n),n=t.fitToBounds(n,e,1),this.dragger&&this.enabled){this.dragger.stop(),isNaN(e)&&(e=0),isNaN(n)&&(n=1);var i,a;this.rotate?(i=this.height,n=i-i*n,a=i-i*e):(i=this.width,a=i*n,n=i*e),this.updateScrollbarSize(n,a),this.clipDragger(!1),this.getPercents(),r&&this.dispatchScrollbarEvent()}},destroy:function(){this.clear(),t.remove(this.set),t.remove(this.iconRight),t.remove(this.iconLeft)},clear:function(){},handleDragStart:function(){if(this.enabled){this.fireZoomEvent("zoomStarted");var e=this.chart;this.dragger.stop(),this.removeCursors(),t.isModern&&this.dragger.node.setAttribute("style",this.dragCursorDown),this.dragging=!0;var n=this.getDBox();this.rotate?(this.initialCoord=n.y,this.initialMouse=e.mouseY):(this.initialCoord=n.x,this.initialMouse=e.mouseX)}},handleDragStop:function(){this.updateOnReleaseOnly&&(this.update(),this.skipEvent=!1,this.dispatchScrollbarEvent()),this.dragging=!1,this.mouseIsOver&&this.removeCursors(),t.isModern&&this.dragger.node.setAttribute("style",this.dragCursorHover),this.update(),this.fireZoomEvent("zoomEnded")},handleDraggerOver:function(){this.handleMouseOver(),t.isModern&&this.dragger.node.setAttribute("style",this.dragCursorHover)},leftDragStart:function(){this.fireZoomEvent("zoomStarted"),this.dragger.stop(),this.resizingLeft=!0,this.updateGripCursor(!0)},updateGripCursor:function(e){t.isModern&&(e=this.rotate?e?this.vResizeCursorDown:this.vResizeCursorHover:e?this.hResizeCursorDown:this.hResizeCursorHover)&&(this.iconRight&&this.iconRight.node.setAttribute("style",e),this.iconLeft&&this.iconLeft.node.setAttribute("style",e))},leftDragStop:function(){this.resizingLeft&&(this.resizingLeft=!1,this.mouseIsOver||this.removeCursors(),this.updateOnRelease(),this.fireZoomEvent("zoomEnded")),this.updateGripCursor(!1)},rightDragStart:function(){this.fireZoomEvent("zoomStarted"),this.dragger.stop(),this.resizingRight=!0,this.updateGripCursor(!0)},rightDragStop:function(){this.resizingRight&&(this.resizingRight=!1,this.mouseIsOver||this.removeCursors(),this.updateOnRelease(),this.fireZoomEvent("zoomEnded")),this.updateGripCursor(!1)},iconRollOut:function(){this.removeCursors()},iconRollOver:function(){this.rotate?this.vResizeCursor&&this.chart.setMouseCursor(this.vResizeCursor):this.hResizeCursor&&this.chart.setMouseCursor(this.hResizeCursor),this.handleMouseOver()},getDBox:function(){if(this.dragger)return this.dragger.getBBox()},handleBgClick:function(){var e=this;if(!e.resizingRight&&!e.resizingLeft){e.zooming=!0;var n,r,i=e.scrollDuration,a=e.dragger;n=e.getDBox();var o=n.height,s=n.width;r=e.chart;var l=e.y,u=e.x,c=e.rotate;c?(n="y",r=r.mouseY-o/2-l,r=t.fitToBounds(r,0,e.height-o)):(n="x",r=r.mouseX-s/2-u,r=t.fitToBounds(r,0,e.width-s)),e.updateOnReleaseOnly?(e.skipEvent=!1,a.setAttr(n,r),e.dispatchScrollbarEvent(),e.clipDragger()):(e.animating=!0,r=Math.round(r),c?a.animate({y:r},i,">"):a.animate({x:r},i,">"),e.forceClip=!0,clearTimeout(e.forceTO),e.forceTO=setTimeout(function(){e.stopForceClip.call(e)},5e3*i))}},updateOnRelease:function(){this.updateOnReleaseOnly&&(this.update(),this.skipEvent=!1,this.dispatchScrollbarEvent())},handleReleaseOutside:function(){this.set&&((this.resizingLeft||this.resizingRight||this.dragging)&&(this.dragging=this.resizingRight=this.resizingLeft=!1,this.updateOnRelease(),this.removeCursors()),this.animating=this.mouseIsOver=!1,this.hideDragIcons(),this.update())},handleMouseOver:function(){this.mouseIsOver=!0,this.showDragIcons()},handleMouseOut:function(){this.mouseIsOver=!1,this.hideDragIcons(),this.removeCursors()}})}(),function(){var t=window.AmCharts;t.ChartScrollbar=t.Class({inherits:t.SimpleChartScrollbar,construct:function(e){this.cname="ChartScrollbar",t.ChartScrollbar.base.construct.call(this,e),this.graphLineColor="#BBBBBB",this.graphLineAlpha=0,this.graphFillColor="#BBBBBB",this.graphFillAlpha=1,this.selectedGraphLineColor="#888888",this.selectedGraphLineAlpha=0,this.selectedGraphFillColor="#888888",this.selectedGraphFillAlpha=1,this.gridCount=0,this.gridColor="#FFFFFF",this.gridAlpha=.7,this.skipEvent=this.autoGridCount=!1,this.color="#FFFFFF",this.scrollbarCreated=!1,this.oppositeAxis=!0,this.accessibleLabel="Zoom chart using cursor arrows",t.applyTheme(this,e,this.cname)},init:function(){var e=this.categoryAxis,n=this.chart,r=this.gridAxis;e||("CategoryAxis"==this.gridAxis.cname?(this.catScrollbar=!0,e=new t.CategoryAxis,e.id="scrollbar"):(e=new t.ValueAxis,e.data=n.chartData,e.id=r.id,e.type=r.type,e.maximumDate=r.maximumDate,e.minimumDate=r.minimumDate,e.minPeriod=r.minPeriod),this.categoryAxis=e),e.chart=n;var i=n.categoryAxis;i&&(e.firstDayOfWeek=i.firstDayOfWeek),e.dateFormats=r.dateFormats,e.markPeriodChange=r.markPeriodChange,e.boldPeriodBeginning=r.boldPeriodBeginning,e.labelFunction=r.labelFunction,e.axisItemRenderer=t.RecItem,e.axisRenderer=t.RecAxis,e.guideFillRenderer=t.RecFill,e.inside=!0,e.fontSize=this.fontSize,e.tickLength=0,e.axisAlpha=0,t.isString(this.graph)&&(this.graph=t.getObjById(n.graphs,this.graph)),(e=this.graph)&&this.catScrollbar&&(r=this.valueAxis,r||(this.valueAxis=r=new t.ValueAxis,r.visible=!1,r.scrollbar=!0,r.axisItemRenderer=t.RecItem,r.axisRenderer=t.RecAxis,r.guideFillRenderer=t.RecFill,r.labelsEnabled=!1,r.chart=n),n=this.unselectedGraph,n||(n=new t.AmGraph,n.scrollbar=!0,this.unselectedGraph=n,n.negativeBase=e.negativeBase,n.noStepRisers=e.noStepRisers),n=this.selectedGraph,n||(n=new t.AmGraph,n.scrollbar=!0,this.selectedGraph=n,n.negativeBase=e.negativeBase,n.noStepRisers=e.noStepRisers)),this.scrollbarCreated=!0},draw:function(){var e=this;if(t.ChartScrollbar.base.draw.call(e),e.enabled){e.scrollbarCreated||e.init();var n=e.chart,r=n.chartData,i=e.categoryAxis,a=e.rotate,o=e.x,s=e.y,l=e.width,u=e.height,c=e.gridAxis,h=e.set;if(i.setOrientation(!a),i.parseDates=c.parseDates,"ValueAxis"==e.categoryAxis.cname&&(i.rotate=!a),i.equalSpacing=c.equalSpacing,i.minPeriod=c.minPeriod,i.startOnAxis=c.startOnAxis,i.width=l-1,i.height=u,i.gridCount=e.gridCount,i.gridColor=e.gridColor,i.gridAlpha=e.gridAlpha,i.color=e.color,i.tickLength=0,i.axisAlpha=0,i.autoGridCount=e.autoGridCount,i.parseDates&&!i.equalSpacing&&i.timeZoom(n.firstTime,n.lastTime),i.minimum=e.gridAxis.fullMin,i.maximum=e.gridAxis.fullMax,i.strictMinMax=!0,i.zoom(0,r.length-1),(c=e.graph)&&e.catScrollbar){var g=e.valueAxis,d=c.valueAxis;g.id=d.id,g.rotate=a,g.setOrientation(a),g.width=l,g.height=u,g.dataProvider=r,g.reversed=d.reversed,g.logarithmic=d.logarithmic,g.gridAlpha=0,g.axisAlpha=0,h.push(g.set),a?(g.y=s,g.x=0):(g.x=o,g.y=0);var p,o=1/0,s=-(1/0);for(p=0;p<r.length;p++){var f,A=r[p].axes[d.id].graphs[c.id].values;for(f in A)if(A.hasOwnProperty(f)&&"percents"!=f&&"total"!=f){var C=A[f];C<o&&(o=C),C>s&&(s=C)}}1/0!=o&&(g.minimum=o),-(1/0)!=s&&(g.maximum=s+.1*(s-o)),o==s&&(--g.minimum,g.maximum+=1),void 0!==e.minimum&&(g.minimum=e.minimum),void 0!==e.maximum&&(g.maximum=e.maximum),g.zoom(0,r.length-1),f=e.unselectedGraph,f.id=c.id,f.bcn="scrollbar-graph-",f.rotate=a,f.chart=n,f.data=r,f.valueAxis=g,f.chart=c.chart,f.categoryAxis=e.categoryAxis,f.periodSpan=c.periodSpan,f.valueField=c.valueField,f.openField=c.openField,f.closeField=c.closeField,f.highField=c.highField,f.lowField=c.lowField,f.lineAlpha=e.graphLineAlpha,f.lineColorR=e.graphLineColor,f.fillAlphas=e.graphFillAlpha,f.fillColorsR=e.graphFillColor,f.connect=c.connect,f.hidden=c.hidden,f.width=l,f.height=u,f.pointPosition=c.pointPosition,f.stepDirection=c.stepDirection,f.periodSpan=c.periodSpan,d=e.selectedGraph,d.id=c.id,d.bcn=f.bcn+"selected-",d.rotate=a,d.chart=n,d.data=r,d.valueAxis=g,d.chart=c.chart,d.categoryAxis=i,d.periodSpan=c.periodSpan,d.valueField=c.valueField,d.openField=c.openField,d.closeField=c.closeField,d.highField=c.highField,d.lowField=c.lowField,d.lineAlpha=e.selectedGraphLineAlpha,d.lineColorR=e.selectedGraphLineColor,d.fillAlphas=e.selectedGraphFillAlpha,d.fillColorsR=e.selectedGraphFillColor,d.connect=c.connect,d.hidden=c.hidden,d.width=l,d.height=u,d.pointPosition=c.pointPosition,d.stepDirection=c.stepDirection,d.periodSpan=c.periodSpan,n=e.graphType,n||(n=c.type),f.type=n,d.type=n,r=r.length-1,f.zoom(0,r),d.zoom(0,r),d.set.click(function(){e.handleBackgroundClick()}).mouseover(function(){e.handleMouseOver()}).mouseout(function(){e.handleMouseOut()}),f.set.click(function(){e.handleBackgroundClick()}).mouseover(function(){e.handleMouseOver()}).mouseout(function(){e.handleMouseOut()}),h.push(f.set),h.push(d.set)}h.push(i.set),h.push(i.labelsSet),e.bg.toBack(),e.invisibleBg.toFront(),e.dragger.toFront(),e.iconLeft.toFront(),e.iconRight.toFront()}},timeZoom:function(e,n,r){this.startTime=e,this.endTime=n,this.timeDifference=n-e,this.skipEvent=!t.toBoolean(r),this.zoomScrollbar(),this.dispatchScrollbarEvent()},zoom:function(t,e){this.start=t,this.end=e,this.skipEvent=!0,this.zoomScrollbar()},dispatchScrollbarEvent:function(){if(this.categoryAxis&&"ValueAxis"==this.categoryAxis.cname)t.ChartScrollbar.base.dispatchScrollbarEvent.call(this);else if(this.skipEvent)this.skipEvent=!1;else{var e,n,r=this.chart.chartData,i=this.dragger.getBBox();e=i.x;var a=i.y,o=i.width,i=i.height,s=this.chart;this.rotate?(e=a,n=i):n=o,o={type:"zoomed",target:this},o.chart=s;var l=this.categoryAxis,u=this.stepWidth,a=s.minSelectedTime,i=s.maxSelectedTime,c=!1;l.parseDates&&!l.equalSpacing?(r=s.lastTime,s=s.firstTime,l=Math.round(e/u)+s,e=this.dragging?l+this.timeDifference:Math.round((e+n)/u)+s,l>e&&(l=e),0<a&&e-l<a&&(e=Math.round(l+(e-l)/2),c=Math.round(a/2),l=e-c,e+=c,c=!0),0<i&&e-l>i&&(e=Math.round(l+(e-l)/2),c=Math.round(i/2),l=e-c,e+=c,c=!0),e>r&&(e=r),e-a<l&&(l=e-a),l<s&&(l=s),l+a>e&&(e=l+a),(l!=this.startTime||e!=this.endTime)&&(this.startTime=l,this.endTime=e,o.start=l,o.end=e,o.startDate=new Date(l),o.endDate=new Date(e),this.fire(o))):(l.startOnAxis||(e+=u/2),n-=this.stepWidth/2,a=l.xToIndex(e),e=l.xToIndex(e+n),a==this.start&&this.end==e||(l.startOnAxis&&(this.resizingRight&&a==e&&e++,this.resizingLeft&&a==e&&(0<a?a--:e=1)),this.start=a,this.end=this.dragging?this.start+this.difference:e,o.start=this.start,o.end=this.end,l.parseDates&&(r[this.start]&&(o.startDate=new Date(r[this.start].time)),r[this.end]&&(o.endDate=new Date(r[this.end].time))),this.fire(o)),this.percentStart=a,this.percentEnd=e),c&&this.zoomScrollbar(!0)}},zoomScrollbar:function(t){if((!(this.dragging||this.resizingLeft||this.resizingRight||this.animating)||t)&&this.dragger&&this.enabled){var e;t=this.chart;var n=t.chartData,r=this.categoryAxis;r.parseDates&&!r.equalSpacing?(n=r.stepWidth,r=t.firstTime,t=n*(this.startTime-r),e=n*(this.endTime-r)):(t=n[this.start].x[r.id],e=n[this.end].x[r.id],n=r.stepWidth,r.startOnAxis||(r=n/2,t-=r,e+=r)),this.stepWidth=n,this.updateScrollbarSize(t,e)}},maskGraphs:function(t,e,n,r){var i=this.selectedGraph;i&&i.set.clipRect(t,e,n,r)},handleDragStart:function(){t.ChartScrollbar.base.handleDragStart.call(this),this.difference=this.end-this.start,this.timeDifference=this.endTime-this.startTime,0>this.timeDifference&&(this.timeDifference=0)},handleBackgroundClick:function(){t.ChartScrollbar.base.handleBackgroundClick.call(this),this.dragging||(this.difference=this.end-this.start,this.timeDifference=this.endTime-this.startTime,0>this.timeDifference&&(this.timeDifference=0))}})}(),function(){var t=window.AmCharts;t.AmBalloon=t.Class({construct:function(e){this.cname="AmBalloon",this.enabled=!0,this.fillColor="#FFFFFF",this.fillAlpha=.8,this.borderThickness=2,this.borderColor="#FFFFFF",this.borderAlpha=1,this.cornerRadius=0,this.maxWidth=220,this.horizontalPadding=8,this.verticalPadding=4,this.pointerWidth=6,this.pointerOrientation="V",this.color="#000000",this.adjustBorderColor=!0,this.show=this.follow=this.showBullet=!1,this.bulletSize=3,this.shadowAlpha=.4,this.shadowColor="#000000",this.fadeOutDuration=this.animationDuration=.3,this.fixedPosition=!0,this.offsetY=6,this.offsetX=1,this.textAlign="center",this.disableMouseEvents=!0,this.deltaSignX=this.deltaSignY=1,t.isModern||(this.offsetY*=1.5),this.sdy=this.sdx=0,t.applyTheme(this,e,this.cname)},draw:function(){var e=this.pointToX,n=this.pointToY;t.isModern||(this.drop=!1);var r=this.chart;if(t.VML&&(this.fadeOutDuration=0),this.xAnim&&r.stopAnim(this.xAnim),this.yAnim&&r.stopAnim(this.yAnim),this.sdy=this.sdx=0,!isNaN(e)){var i=this.follow,a=r.container,o=this.set;if(t.remove(o),this.removeDiv(),o=a.set(),o.node.style.pointerEvents="none",this.set=o,this.mainSet?(this.mainSet.push(this.set),this.sdx=this.mainSet.x,this.sdy=this.mainSet.y):r.balloonsSet.push(o),this.show){var s=this.l,l=this.t,u=this.r,c=this.b,h=this.balloonColor,g=this.fillColor,d=this.borderColor,p=g;void 0!=h&&(this.adjustBorderColor?p=d=h:g=h);var f=this.horizontalPadding,A=this.verticalPadding,C=this.pointerWidth,I=this.pointerOrientation,m=this.cornerRadius,v=r.fontFamily,y=this.fontSize;void 0==y&&(y=r.fontSize);var h=document.createElement("div"),b=r.classNamePrefix;h.className=b+"-balloon-div",this.className&&(h.className=h.className+" "+b+"-balloon-div-"+this.className),b=h.style,this.disableMouseEvents&&(b.pointerEvents="none"),b.position="absolute";var x=this.minWidth,w="";isNaN(x)||(w="min-width:"+(x-2*f)+"px; "),h.innerHTML='<div style="text-align:'+this.textAlign+"; "+w+"max-width:"+this.maxWidth+"px; font-size:"+y+"px; color:"+this.color+"; font-family:"+v+'">'+this.text+"</div>",r.chartDiv.appendChild(h),this.textDiv=h;var S=h.offsetWidth,T=h.offsetHeight;h.clientHeight&&(S=h.clientWidth,T=h.clientHeight),v=T+2*A,w=S+2*f,!isNaN(x)&&w<x&&(w=x),window.opera&&(v+=2);var N=!1,y=this.offsetY;r.handDrawn&&(y+=r.handDrawScatter+2),"H"!=I?(x=e-w/2,n<l+v+10&&"down"!=I?(N=!0,i&&(n+=y),y=n+C,this.deltaSignY=-1):(i&&(n-=y),y=n-v-C,this.deltaSignY=1)):(2*C>v&&(C=v/2),y=n-v/2,e<s+(u-s)/2?(x=e+C,this.deltaSignX=-1):(x=e-w-C,this.deltaSignX=1)),y+v>=c&&(y=c-v),y<l&&(y=l),x<s&&(x=s),x+w>u&&(x=u-w);var E,l=y+A,c=x+f,k=this.shadowAlpha,O=this.shadowColor,f=this.borderThickness,M=this.bulletSize,A=this.fillAlpha,R=this.borderAlpha;this.showBullet&&(E=t.circle(a,M,p,A),o.push(E)),this.drop?(s=w/1.6,u=0,"V"==I&&(I="down"),"H"==I&&(I="left"),"down"==I&&(x=e+1,y=n-s-s/3),"up"==I&&(u=180,x=e+1,y=n+s+s/3),"left"==I&&(u=270,x=e+s+s/3+2,y=n),"right"==I&&(u=90,x=e-s-s/3+2,y=n),l=y-T/2+1,c=x-S/2-1,g=t.drop(a,s,u,g,A,f,d,R)):0<m||0===C?(0<k&&(e=t.rect(a,w,v,g,0,f+1,O,k,m),t.isModern?e.translate(1,1):e.translate(4,4),o.push(e)),g=t.rect(a,w,v,g,A,f,d,R,m)):(p=[],m=[],"H"!=I?(s=e-x,s>w-C&&(s=w-C),s<C&&(s=C),p=[0,s-C,e-x,s+C,w,w,0,0],m=N?[0,0,n-y,0,0,v,v,0]:[v,v,n-y,v,v,0,0,v]):(I=n-y,I>v-C&&(I=v-C),I<C&&(I=C),m=[0,I-C,n-y,I+C,v,v,0,0],p=e<s+(u-s)/2?[0,0,x<e?0:e-x,0,0,w,w,0]:[w,w,x+w>e?w:e-x,w,w,0,0,w]),0<k&&(e=t.polygon(a,p,m,g,0,f,O,k),e.translate(1,1),o.push(e)),g=t.polygon(a,p,m,g,A,f,d,R)),this.bg=g,o.push(g),g.toFront(),t.setCN(r,g,"balloon-bg"),this.className&&t.setCN(r,g,"balloon-bg-"+this.className),a=1*this.deltaSignX,c+=this.sdx,l+=this.sdy,b.left=c+"px",b.top=l+"px",o.translate(x-a,y,1,!0),g=g.getBBox(),this.bottom=y+v+1,this.yPos=g.y+y,E&&E.translate(this.pointToX-x+a,n-y),n=this.animationDuration,0<this.animationDuration&&!i&&!isNaN(this.prevX)&&(o.translate(this.prevX,this.prevY,NaN,!0),o.animate({translate:x-a+","+y},n,"easeOutSine"),h&&(b.left=this.prevTX+"px",b.top=this.prevTY+"px",this.xAnim=r.animate({node:h},"left",this.prevTX,c,n,"easeOutSine","px"),this.yAnim=r.animate({node:h},"top",this.prevTY,l,n,"easeOutSine","px"))),this.prevX=x-a,this.prevY=y,this.prevTX=c,this.prevTY=l}}},fixPrevious:function(){this.rPrevX=this.prevX,this.rPrevY=this.prevY,this.rPrevTX=this.prevTX,this.rPrevTY=this.prevTY},restorePrevious:function(){this.prevX=this.rPrevX,this.prevY=this.rPrevY,this.prevTX=this.rPrevTX,this.prevTY=this.rPrevTY},followMouse:function(){if(this.follow&&this.show){var t=this.chart.mouseX-this.offsetX*this.deltaSignX-this.sdx,e=this.chart.mouseY-this.sdy;if(this.pointToX=t,this.pointToY=e,t!=this.previousX||e!=this.previousY)if(this.previousX=t,this.previousY=e,0===this.cornerRadius)this.draw();else{var n=this.set;if(n){var r=n.getBBox(),t=t-r.width/2,i=e-r.height-10;t<this.l&&(t=this.l),t>this.r-r.width&&(t=this.r-r.width),i<this.t&&(i=e+10),n.translate(t,i),e=this.textDiv.style,e.left=t+this.horizontalPadding+"px",e.top=i+this.verticalPadding+"px"}}}},changeColor:function(t){this.balloonColor=t},setBounds:function(t,e,n,r){this.l=t,this.t=e,this.r=n,this.b=r,this.destroyTO&&clearTimeout(this.destroyTO)},showBalloon:function(t){(this.text!=t||this.positionChanged)&&(this.text=t,this.isHiding=!1,this.show=!0,this.destroyTO&&clearTimeout(this.destroyTO),t=this.chart,this.fadeAnim1&&t.stopAnim(this.fadeAnim1),this.fadeAnim2&&t.stopAnim(this.fadeAnim2),this.draw(),this.positionChanged=!1)},hide:function(t){var e=this;e.text=void 0,isNaN(t)&&(t=e.fadeOutDuration);var n=e.chart;if(0<t&&!e.isHiding){e.isHiding=!0,e.destroyTO&&clearTimeout(e.destroyTO),e.destroyTO=setTimeout(function(){e.destroy.call(e)},1e3*t),e.follow=!1,e.show=!1;var r=e.set;r&&(r.setAttr("opacity",e.fillAlpha),e.fadeAnim1=r.animate({opacity:0},t,"easeInSine")),e.textDiv&&(e.fadeAnim2=n.animate({node:e.textDiv},"opacity",1,0,t,"easeInSine",""));
}else e.show=!1,e.follow=!1,e.destroy()},setPosition:function(t,e){t==this.pointToX&&e==this.pointToY||(this.previousX=this.pointToX,this.previousY=this.pointToY,this.pointToX=t,this.pointToY=e,this.positionChanged=!0)},followCursor:function(t){var e=this;e.follow=t,clearInterval(e.interval);var n=e.chart.mouseX-e.sdx,r=e.chart.mouseY-e.sdy;!isNaN(n)&&t&&(e.pointToX=n-e.offsetX*e.deltaSignX,e.pointToY=r,e.followMouse(),e.interval=setInterval(function(){e.followMouse.call(e)},40))},removeDiv:function(){if(this.textDiv){var t=this.textDiv.parentNode;t&&t.removeChild(this.textDiv)}},destroy:function(){clearInterval(this.interval),t.remove(this.set),this.removeDiv(),this.set=null}})}(),function(){var t=window.AmCharts;t.AmCoordinateChart=t.Class({inherits:t.AmChart,construct:function(e){t.AmCoordinateChart.base.construct.call(this,e),this.theme=e,this.createEvents("rollOverGraphItem","rollOutGraphItem","clickGraphItem","doubleClickGraphItem","rightClickGraphItem","clickGraph","rollOverGraph","rollOutGraph"),this.startAlpha=1,this.startDuration=0,this.startEffect="elastic",this.sequencedAnimation=!0,this.colors="#FF6600 #FCD202 #B0DE09 #0D8ECF #2A0CD0 #CD0D74 #CC0000 #00CC00 #0000CC #DDDDDD #999999 #333333 #990000".split(" "),this.balloonDateFormat="MMM DD, YYYY",this.valueAxes=[],this.graphs=[],this.guides=[],this.gridAboveGraphs=!1,t.applyTheme(this,e,"AmCoordinateChart")},initChart:function(){t.AmCoordinateChart.base.initChart.call(this),this.drawGraphs=!0;var e=this.categoryAxis;e&&(this.categoryAxis=t.processObject(e,t.CategoryAxis,this.theme)),this.processValueAxes(),this.createValueAxes(),this.processGraphs(),this.processGuides(),t.VML&&(this.startAlpha=1),this.setLegendData(this.graphs),this.gridAboveGraphs&&(this.gridSet.toFront(),this.bulletSet.toFront(),this.balloonsSet.toFront())},createValueAxes:function(){if(0===this.valueAxes.length){var e=new t.ValueAxis;this.addValueAxis(e)}},parseData:function(){this.processValueAxes(),this.processGraphs()},parseSerialData:function(t){if(this.chartData=[],t)if(0<this.processTimeout){1>this.processCount&&(this.processCount=1);var e=t.length/this.processCount;this.parseCount=Math.ceil(e)-1;for(var n=0;n<e;n++)this.delayParseSerialData(t,n)}else this.parseCount=0,this.parsePartSerialData(t,0,t.length,0);else this.onDataUpdated()},delayParseSerialData:function(t,e){var n=this,r=n.processCount;setTimeout(function(){n.parsePartSerialData.call(n,t,e*r,(e+1)*r,e)},n.processTimeout)},parsePartSerialData:function(e,n,r,i){r>e.length&&(r=e.length);var a=this.graphs,o={},s=this.seriesIdField;s||(s=this.categoryField);var l,u,c,h,g=!1,d=this.categoryAxis;d&&(g=d.parseDates,u=d.forceShowField,h=d.classNameField,c=d.labelColorField,l=d.categoryFunction);var p,f,A,C={};g&&(p=t.extractPeriod(d.minPeriod),f=p.period,p=p.count,A=t.getPeriodDuration(f,p));var I={};this.lookupTable=I;var m,v=this.dataDateFormat,y={};for(m=n;m<r;m++){var b={},x=e[m];if(n=x[this.categoryField],b.dataContext=x,b.category=l?l(n,x,d):String(n),u&&(b.forceShow=x[u]),h&&(b.className=x[h]),c&&(b.labelColor=x[c]),I[x[s]]=b,!g||(d.categoryFunction?n=d.categoryFunction(n,x,d):(!v||n instanceof Date||(n=n.toString()+" |"),n=t.getDate(n,v,d.minPeriod)),n=t.resetDateToMin(n,f,p,d.firstDayOfWeek),b.category=n,b.time=n.getTime(),!isNaN(b.time))){var w=this.valueAxes;b.axes={},b.x={};var S;for(S=0;S<w.length;S++){var T=w[S].id;b.axes[T]={},b.axes[T].graphs={};var N;for(N=0;N<a.length;N++){n=a[N];var E=n.id,k=1.1;isNaN(n.gapPeriod)||(k=n.gapPeriod);var O=n.periodValue;if(n.valueAxis.id==T){b.axes[T].graphs[E]={};var M={};M.index=m;var R=x;n.dataProvider&&(R=o),M.values=this.processValues(R,n,O),!n.connect&&y&&y[E]&&0<k&&b.time-C[E]>=A*k&&(y[E].gap=!0),this.processFields(n,M,R),M.category=b.category,M.serialDataItem=b,M.graph=n,b.axes[T].graphs[E]=M,C[E]=b.time,y[E]=M}}}this.chartData[m]=b}}if(this.parseCount==i){for(e=0;e<a.length;e++)n=a[e],n.dataProvider&&this.parseGraphData(n);this.dataChanged=!1,this.dispatchDataUpdated=!0,this.onDataUpdated()}},processValues:function(e,n,r){var i,a={},o=!1;"candlestick"!=n.type&&"ohlc"!=n.type||""===r||(o=!0);for(var s="value error open close low high".split(" "),l=0;l<s.length;l++){var u=s[l];"value"!=u&&"error"!=u&&o&&(r=u.charAt(0).toUpperCase()+u.slice(1));var c=e[n[u+"Field"]+r];null!==c&&(i=Number(c),isNaN(i)||(a[u]=i),"date"==n.valueAxis.type&&void 0!==c&&(i=t.getDate(c,n.chart.dataDateFormat),a[u]=i.getTime()))}return a},parseGraphData:function(t){var e=t.dataProvider,n=t.seriesIdField;n||(n=this.seriesIdField),n||(n=this.categoryField);var r;for(r=0;r<e.length;r++){var i=e[r],a=this.lookupTable[String(i[n])],o=t.valueAxis.id;a&&(o=a.axes[o].graphs[t.id],o.serialDataItem=a,o.values=this.processValues(i,t,t.periodValue),this.processFields(t,o,i))}},addValueAxis:function(t){t.chart=this,this.valueAxes.push(t),this.validateData()},removeValueAxesAndGraphs:function(){var t,e=this.valueAxes;for(t=e.length-1;-1<t;t--)this.removeValueAxis(e[t])},removeValueAxis:function(t){var e,n=this.graphs;for(e=n.length-1;0<=e;e--){var r=n[e];r&&r.valueAxis==t&&this.removeGraph(r)}for(n=this.valueAxes,e=n.length-1;0<=e;e--)n[e]==t&&n.splice(e,1);this.validateData()},addGraph:function(t){this.graphs.push(t),this.chooseGraphColor(t,this.graphs.length-1),this.validateData()},removeGraph:function(t){var e,n=this.graphs;for(e=n.length-1;0<=e;e--)n[e]==t&&(n.splice(e,1),t.destroy());this.validateData()},handleValueAxisZoom:function(){},processValueAxes:function(){var e,n=this.valueAxes;for(e=0;e<n.length;e++){var r=n[e],r=t.processObject(r,t.ValueAxis,this.theme);n[e]=r,r.chart=this,r.init(),this.listenTo(r,"axisIntZoomed",this.handleValueAxisZoom),r.id||(r.id="valueAxisAuto"+e+"_"+(new Date).getTime()),void 0===r.usePrefixes&&(r.usePrefixes=this.usePrefixes)}},processGuides:function(){var e=this.guides,n=this.categoryAxis;if(e)for(var r=0;r<e.length;r++){var i=e[r];(void 0!==i.category||void 0!==i.date)&&n&&n.addGuide(i),i.id||(i.id="guideAuto"+r+"_"+(new Date).getTime());var a=i.valueAxis;a?(t.isString(a)&&(a=this.getValueAxisById(a)),a?a.addGuide(i):this.valueAxes[0].addGuide(i)):isNaN(i.value)||this.valueAxes[0].addGuide(i)}},processGraphs:function(){var e,n=this.graphs;for(this.graphsById={},e=0;e<n.length;e++){var r=n[e],r=t.processObject(r,t.AmGraph,this.theme);n[e]=r,this.chooseGraphColor(r,e),r.chart=this,r.init(),t.isString(r.valueAxis)&&(r.valueAxis=this.getValueAxisById(r.valueAxis)),r.valueAxis||(r.valueAxis=this.valueAxes[0]),r.id||(r.id="graphAuto"+e+"_"+(new Date).getTime()),this.graphsById[r.id]=r}},formatString:function(e,n,r){var i=n.graph,a=i.valueAxis;return a.duration&&n.values.value&&(a=t.formatDuration(n.values.value,a.duration,"",a.durationUnits,a.maxInterval,a.numberFormatter),e=e.split("[[value]]").join(a)),e=t.massReplace(e,{"[[title]]":i.title,"[[description]]":n.description}),e=r?t.fixNewLines(e):t.fixBrakes(e),e=t.cleanFromEmpty(e)},getBalloonColor:function(e,r,i){var a=e.lineColor,o=e.balloonColor;return i&&(o=a),i=e.fillColorsR,"object"==("undefined"==typeof i?"undefined":n(i))?a=i[0]:void 0!==i&&(a=i),r.isNegative&&(i=e.negativeLineColor,e=e.negativeFillColors,"object"==("undefined"==typeof e?"undefined":n(e))?i=e[0]:void 0!==e&&(i=e),void 0!==i&&(a=i)),void 0!==r.color&&(a=r.color),void 0!==r.lineColor&&(a=r.lineColor),r=r.fillColors,void 0!==r&&(a=r,t.ifArray(r)&&(a=r[0])),void 0===o&&(o=a),o},getGraphById:function(e){return t.getObjById(this.graphs,e)},getValueAxisById:function(e){return t.getObjById(this.valueAxes,e)},processFields:function(e,n,r){if(e.itemColors){var i=e.itemColors,a=n.index;n.color=a<i.length?i[a]:t.randomColor()}for(i="lineColor color alpha fillColors description bullet customBullet bulletSize bulletConfig url labelColor dashLength pattern gap className columnIndex".split(" "),a=0;a<i.length;a++){var o=i[a],s=e[o+"Field"];s&&(s=r[s],t.isDefined(s)&&(n[o]=s))}n.dataContext=r},chooseGraphColor:function(e,n){if(e.lineColor)e.lineColorR=e.lineColor;else{var r;r=this.colors.length>n?this.colors[n]:e.lineColorR?e.lineColorR:t.randomColor(),e.lineColorR=r}e.fillColorsR=e.fillColors?e.fillColors:e.lineColorR,e.bulletBorderColorR=e.bulletBorderColor?e.bulletBorderColor:e.useLineColorForBulletBorder?e.lineColorR:e.bulletColor,e.bulletColorR=e.bulletColor?e.bulletColor:e.lineColorR,(r=this.patterns)&&(e.pattern=r[n])},handleLegendEvent:function(t){var e=t.type;if(t=t.dataItem){var n=t.hidden,r=t.showBalloon;switch(e){case"clickMarker":this.textClickEnabled&&(r?this.hideGraphsBalloon(t):this.showGraphsBalloon(t));break;case"clickLabel":r?this.hideGraphsBalloon(t):this.showGraphsBalloon(t);break;case"rollOverItem":n||this.highlightGraph(t);break;case"rollOutItem":n||this.unhighlightGraph();break;case"hideItem":this.hideGraph(t);break;case"showItem":this.showGraph(t)}}},highlightGraph:function(t){var e=this.graphs;if(e){var n,r=.2;if(this.legend&&(r=this.legend.rollOverGraphAlpha),1!=r)for(n=0;n<e.length;n++){var i=e[n];i!=t&&i.changeOpacity(r)}}},unhighlightGraph:function(){var t;if(this.legend&&(t=this.legend.rollOverGraphAlpha),1!=t){t=this.graphs;var e;for(e=0;e<t.length;e++)t[e].changeOpacity(1)}},showGraph:function(t){t.switchable&&(t.hidden=!1,this.dataChanged=!0,"xy"!=this.type&&(this.marginsUpdated=!1),this.chartCreated&&this.initChart())},hideGraph:function(t){t.switchable&&(this.dataChanged=!0,"xy"!=this.type&&(this.marginsUpdated=!1),t.hidden=!0,this.chartCreated&&this.initChart())},hideGraphsBalloon:function(t){t.showBalloon=!1,this.updateLegend()},showGraphsBalloon:function(t){t.showBalloon=!0,this.updateLegend()},updateLegend:function(){this.legend&&this.legend.invalidateSize()},resetAnimation:function(){var t=this.graphs;if(t){var e;for(e=0;e<t.length;e++)t[e].animationPlayed=!1}},animateAgain:function(){this.resetAnimation(),this.validateNow()}})}(),function(){var t=window.AmCharts;t.TrendLine=t.Class({construct:function(e){this.cname="TrendLine",this.createEvents("click"),this.isProtected=!1,this.dashLength=0,this.lineColor="#00CC00",this.lineThickness=this.lineAlpha=1,t.applyTheme(this,e,this.cname)},draw:function(){var e=this;e.destroy();var n,r,i,a,o=e.chart,s=o.container,l=e.categoryAxis,u=e.initialDate,c=e.initialCategory,h=e.finalDate,g=e.finalCategory,d=e.valueAxis,p=e.valueAxisX,f=e.initialXValue,A=e.finalXValue,C=e.initialValue,I=e.finalValue,m=d.recalculateToPercents,v=o.dataDateFormat;l&&(u&&(u=t.getDate(u,v,"fff"),e.initialDate=u,n=l.dateToCoordinate(u)),c&&(n=l.categoryToCoordinate(c)),h&&(h=t.getDate(h,v,"fff"),e.finalDate=h,r=l.dateToCoordinate(h)),g&&(r=l.categoryToCoordinate(g))),p&&!m&&(isNaN(f)||(n=p.getCoordinate(f)),isNaN(A)||(r=p.getCoordinate(A))),d&&!m&&(isNaN(C)||(i=d.getCoordinate(C)),isNaN(I)||(a=d.getCoordinate(I))),isNaN(n)||isNaN(r)||isNaN(i)||isNaN(i)||(o.rotate?(l=[i,a],a=[n,r]):(l=[n,r],a=[i,a]),u=e.lineColor,i=t.line(s,l,a,u,e.lineAlpha,e.lineThickness,e.dashLength),n=l,r=a,g=l[1]-l[0],d=a[1]-a[0],0===g&&(g=.01),0===d&&(d=.01),c=g/Math.abs(g),h=d/Math.abs(d),d=90*Math.PI/180-Math.asin(g/(g*d/Math.abs(g*d)*Math.sqrt(Math.pow(g,2)+Math.pow(d,2)))),g=Math.abs(5*Math.cos(d)),d=Math.abs(5*Math.sin(d)),n.push(l[1]-c*d,l[0]-c*d),r.push(a[1]+h*g,a[0]+h*g),a=t.polygon(s,n,r,u,.005,0),s=s.set([a,i]),s.translate(o.marginLeftReal,o.marginTopReal),o.trendLinesSet.push(s),t.setCN(o,i,"trend-line"),t.setCN(o,i,"trend-line-"+e.id),e.line=i,e.set=s,(i=e.initialImage)&&(i=t.processObject(i,t.Image,e.theme),i.chart=o,i.draw(),i.translate(n[0]+i.offsetX,r[0]+i.offsetY),s.push(i.set)),(i=e.finalImage)&&(i=t.processObject(i,t.Image,e.theme),i.chart=o,i.draw(),i.translate(n[1]+i.offsetX,r[1]+i.offsetY),s.push(i.set)),a.mouseup(function(){e.handleLineClick()}).mouseover(function(){e.handleLineOver()}).mouseout(function(){e.handleLineOut()}),a.touchend&&a.touchend(function(){e.handleLineClick()}),s.clipRect(0,0,o.plotAreaWidth,o.plotAreaHeight))},handleLineClick:function(){this.fire({type:"click",trendLine:this,chart:this.chart})},handleLineOver:function(){var t=this.rollOverColor;void 0!==t&&this.line.attr({stroke:t}),this.balloonText&&(clearTimeout(this.chart.hoverInt),t=this.line.getBBox(),this.chart.showBalloon(this.balloonText,this.lineColor,!0,this.x+t.x+t.width/2,this.y+t.y+t.height/2))},handleLineOut:function(){this.line.attr({stroke:this.lineColor}),this.balloonText&&this.chart.hideBalloon()},destroy:function(){t.remove(this.set)}})}(),function(){var t=window.AmCharts;t.Image=t.Class({construct:function(e){this.cname="Image",this.height=this.width=20,this.rotation=this.offsetY=this.offsetX=0,this.balloonColor=this.color="#000000",this.opacity=1,t.applyTheme(this,e,this.cname)},draw:function(){var t=this;t.set&&t.set.remove();var e=t.chart.container;t.set=e.set();var n,r;t.url?(n=e.image(t.url,0,0,t.width,t.height),r=1):t.svgPath&&(n=e.path(t.svgPath),n.setAttr("fill",t.color),n.setAttr("stroke",t.outlineColor),e=n.getBBox(),r=Math.min(t.width/e.width,t.height/e.height)),n&&(n.setAttr("opacity",t.opacity),t.set.rotate(t.rotation),n.translate(-t.width/2,-t.height/2,r),t.balloonText&&n.mouseover(function(){t.chart.showBalloon(t.balloonText,t.balloonColor,!0)}).mouseout(function(){t.chart.hideBalloon()}).touchend(function(){t.chart.hideBalloon()}).touchstart(function(){t.chart.showBalloon(t.balloonText,t.balloonColor,!0)}),t.set.push(n))},translate:function(t,e){this.set&&this.set.translate(t,e)}})}(),function(){var t=window.AmCharts;t.circle=function(e,n,r,i,a,o,s,l,u){return 0>=n&&(n=.001),void 0!=a&&0!==a||(a=.01),void 0===o&&(o="#000000"),void 0===s&&(s=0),i={fill:r,stroke:o,"fill-opacity":i,"stroke-width":a,"stroke-opacity":s},e=isNaN(u)?e.circle(0,0,n).attr(i):e.ellipse(0,0,n,u).attr(i),l&&e.gradient("radialGradient",[r,t.adjustLuminosity(r,-.6)]),e},t.text=function(e,n,r,i,a,o,s,l){return o||(o="middle"),"right"==o&&(o="end"),"left"==o&&(o="start"),isNaN(l)&&(l=1),void 0!==n&&(n=String(n),t.isIE&&!t.isModern&&(n=n.replace("&amp;","&"),n=n.replace("&","&amp;"))),r={fill:r,"font-family":i,"font-size":a+"px",opacity:l},!0===s&&(r["font-weight"]="bold"),r["text-anchor"]=o,e.text(n,r)},t.polygon=function(e,r,i,a,o,s,l,u,c,h,g){isNaN(s)&&(s=.01),isNaN(u)&&(u=o);var d=a,p=!1;"object"==("undefined"==typeof d?"undefined":n(d))&&1<d.length&&(p=!0,d=d[0]),void 0===l&&(l=d),o={fill:d,stroke:l,"fill-opacity":o,"stroke-width":s,"stroke-opacity":u},void 0!==g&&0<g&&(o["stroke-dasharray"]=g),g=t.dx,s=t.dy,e.handDrawn&&(i=t.makeHD(r,i,e.handDrawScatter),r=i[0],i=i[1]),l=Math.round,h&&(r[f]=t.roundTo(r[f],5),i[f]=t.roundTo(i[f],5),l=Number),u="M"+(l(r[0])+g)+","+(l(i[0])+s);for(var f=1;f<r.length;f++)h&&(r[f]=t.roundTo(r[f],5),i[f]=t.roundTo(i[f],5)),u+=" L"+(l(r[f])+g)+","+(l(i[f])+s);return e=e.path(u+" Z").attr(o),p&&e.gradient("linearGradient",a,c),e},t.rect=function(e,r,i,a,o,s,l,u,c,h,g){if(isNaN(r)||isNaN(i))return e.set();isNaN(s)&&(s=0),void 0===c&&(c=0),void 0===h&&(h=270),isNaN(o)&&(o=0);var d=a,p=!1;"object"==("undefined"==typeof d?"undefined":n(d))&&(d=d[0],p=!0),void 0===l&&(l=d),void 0===u&&(u=o),r=Math.round(r),i=Math.round(i);var f=0,A=0;return 0>r&&(r=Math.abs(r),f=-r),0>i&&(i=Math.abs(i),A=-i),f+=t.dx,A+=t.dy,o={fill:d,stroke:l,"fill-opacity":o,"stroke-opacity":u},void 0!==g&&0<g&&(o["stroke-dasharray"]=g),e=e.rect(f,A,r,i,c,s).attr(o),p&&e.gradient("linearGradient",a,h),e},t.bullet=function(e,n,r,i,a,o,s,l,u,c,h,g,d){var p;switch("circle"==n&&(n="round"),n){case"round":p=t.circle(e,r/2,i,a,o,s,l);break;case"square":p=t.polygon(e,[-r/2,r/2,r/2,-r/2],[r/2,r/2,-r/2,-r/2],i,a,o,s,l,c-180,void 0,d);break;case"rectangle":p=t.polygon(e,[-r,r,r,-r],[r/2,r/2,-r/2,-r/2],i,a,o,s,l,c-180,void 0,d);break;case"diamond":p=t.polygon(e,[-r/2,0,r/2,0],[0,-r/2,0,r/2],i,a,o,s,l);break;case"triangleUp":p=t.triangle(e,r,0,i,a,o,s,l);break;case"triangleDown":p=t.triangle(e,r,180,i,a,o,s,l);break;case"triangleLeft":p=t.triangle(e,r,270,i,a,o,s,l);break;case"triangleRight":p=t.triangle(e,r,90,i,a,o,s,l);break;case"bubble":p=t.circle(e,r/2,i,a,o,s,l,!0);break;case"line":p=t.line(e,[-r/2,r/2],[0,0],i,a,o,s,l);break;case"yError":p=e.set(),p.push(t.line(e,[0,0],[-r/2,r/2],i,a,o)),p.push(t.line(e,[-u,u],[-r/2,-r/2],i,a,o)),p.push(t.line(e,[-u,u],[r/2,r/2],i,a,o));break;case"xError":p=e.set(),p.push(t.line(e,[-r/2,r/2],[0,0],i,a,o)),p.push(t.line(e,[-r/2,-r/2],[-u,u],i,a,o)),p.push(t.line(e,[r/2,r/2],[-u,u],i,a,o))}return p&&p.pattern(h,NaN,g),p},t.triangle=function(t,e,n,r,i,a,o,s){void 0!==a&&0!==a||(a=1),void 0===o&&(o="#000"),void 0===s&&(s=0),r={fill:r,stroke:o,"fill-opacity":i,"stroke-width":a,"stroke-opacity":s},e/=2;var l;return 0===n&&(l=" M"+-e+","+e+" L0,"+-e+" L"+e+","+e+" Z"),180==n&&(l=" M"+-e+","+-e+" L0,"+e+" L"+e+","+-e+" Z"),90==n&&(l=" M"+-e+","+-e+" L"+e+",0 L"+-e+","+e+" Z"),270==n&&(l=" M"+-e+",0 L"+e+","+e+" L"+e+","+-e+" Z"),t.path(l).attr(r)},t.line=function(e,n,r,i,a,o,s,l,u,c,h){if(e.handDrawn&&!h)return t.handDrawnLine(e,n,r,i,a,o,s,l,u,c,h);for(o={fill:"none","stroke-width":o},void 0!==s&&0<s&&(o["stroke-dasharray"]=s),isNaN(a)||(o["stroke-opacity"]=a),i&&(o.stroke=i),i=Math.round,c&&(i=Number,n[0]=t.roundTo(n[0],5),r[0]=t.roundTo(r[0],5)),c=t.dx,a=t.dy,s="M"+(i(n[0])+c)+","+(i(r[0])+a),l=1;l<n.length;l++)n[l]=t.roundTo(n[l],5),r[l]=t.roundTo(r[l],5),s+=" L"+(i(n[l])+c)+","+(i(r[l])+a);return t.VML?e.path(s,void 0,!0).attr(o):(u&&(s+=" M0,0 L0,0"),e.path(s).attr(o))},t.makeHD=function(t,e,n){for(var r=[],i=[],a=1;a<t.length;a++)for(var o=Number(t[a-1]),s=Number(e[a-1]),l=Number(t[a]),u=Number(e[a]),c=Math.round(Math.sqrt(Math.pow(l-o,2)+Math.pow(u-s,2))/50)+1,l=(l-o)/c,u=(u-s)/c,h=0;h<=c;h++){var g=s+h*u+Math.random()*n;r.push(o+h*l+Math.random()*n),i.push(g)}return[r,i]},t.handDrawnLine=function(e,n,r,i,a,o,s,l,u,c){var h,g=e.set();for(h=1;h<n.length;h++)for(var d=[n[h-1],n[h]],p=[r[h-1],r[h]],p=t.makeHD(d,p,e.handDrawScatter),d=p[0],p=p[1],f=1;f<d.length;f++)g.push(t.line(e,[d[f-1],d[f]],[p[f-1],p[f]],i,a,o+Math.random()*e.handDrawThickness-e.handDrawThickness/2,s,l,u,c,!0));return g},t.doNothing=function(t){return t},t.drop=function(t,e,n,r,i,a,o,s){var l=1/180*Math.PI,u=n-20,c=Math.sin(u*l)*e,h=Math.cos(u*l)*e,g=Math.sin((u+40)*l)*e,d=Math.cos((u+40)*l)*e,p=.8*e,f=-e/3,A=e/3;return 0===n&&(f=-f,A=0),180==n&&(A=0),90==n&&(f=0),270==n&&(f=0,A=-A),n={fill:r,stroke:o,"stroke-width":a,"stroke-opacity":s,"fill-opacity":i},e="M"+c+","+h+" A"+e+","+e+",0,1,1,"+g+","+d+(" A"+p+","+p+",0,0,0,"+(Math.sin((u+20)*l)*e+A)+","+(Math.cos((u+20)*l)*e+f)),e+=" A"+p+","+p+",0,0,0,"+c+","+h,t.path(e,void 0,void 0,"1000,1000").attr(n)},t.wedge=function(e,n,r,i,a,o,s,l,u,c,h,g,d,p){var f=Math.round;o=f(o),s=f(s),l=f(l);var A=f(s/o*l),C=t.VML,I=359.5+o/100;359.94<I&&(I=359.94),a>=I&&(a=I);var m=1/180*Math.PI,I=n+Math.sin(i*m)*l,v=r-Math.cos(i*m)*A,y=n+Math.sin(i*m)*o,b=r-Math.cos(i*m)*s,x=n+Math.sin((i+a)*m)*o,w=r-Math.cos((i+a)*m)*s,S=n+Math.sin((i+a)*m)*l,m=r-Math.cos((i+a)*m)*A,T={fill:t.adjustLuminosity(c.fill,-.2),"stroke-opacity":0,"fill-opacity":c["fill-opacity"]},N=0;180<Math.abs(a)&&(N=1),i=e.set();var E;C&&(I=f(10*I),y=f(10*y),x=f(10*x),S=f(10*S),v=f(10*v),b=f(10*b),w=f(10*w),m=f(10*m),n=f(10*n),u=f(10*u),r=f(10*r),o*=10,s*=10,l*=10,A*=10,1>Math.abs(a)&&1>=Math.abs(x-y)&&1>=Math.abs(w-b)&&(E=!0)),a="";var k;if(g&&(T["fill-opacity"]=0,T["stroke-opacity"]=c["stroke-opacity"]/2,T.stroke=c.stroke),0<u){k=" M"+I+","+(v+u)+" L"+y+","+(b+u),C?(E||(k+=" A"+(n-o)+","+(u+r-s)+","+(n+o)+","+(u+r+s)+","+y+","+(b+u)+","+x+","+(w+u)),k+=" L"+S+","+(m+u),0<l&&(E||(k+=" B"+(n-l)+","+(u+r-A)+","+(n+l)+","+(u+r+A)+","+S+","+(u+m)+","+I+","+(u+v)))):(k+=" A"+o+","+s+",0,"+N+",1,"+x+","+(w+u)+" L"+S+","+(m+u),0<l&&(k+=" A"+l+","+A+",0,"+N+",0,"+I+","+(v+u))),k+=" Z";var O=u;C&&(O/=10);for(var M=0;M<O;M+=10){var R=e.path(k,void 0,void 0,"1000,1000").attr(T);i.push(R),R.translate(0,-M)}k=e.path(" M"+I+","+v+" L"+I+","+(v+u)+" L"+y+","+(b+u)+" L"+y+","+b+" L"+I+","+v+" Z",void 0,void 0,"1000,1000").attr(T),u=e.path(" M"+x+","+w+" L"+x+","+(w+u)+" L"+S+","+(m+u)+" L"+S+","+m+" L"+x+","+w+" Z",void 0,void 0,"1000,1000").attr(T),i.push(k),i.push(u)}if(C?(E||(a=" A"+f(n-o)+","+f(r-s)+","+f(n+o)+","+f(r+s)+","+f(y)+","+f(b)+","+f(x)+","+f(w)),s=" M"+f(I)+","+f(v)+" L"+f(y)+","+f(b)+a+" L"+f(S)+","+f(m)):s=" M"+I+","+v+" L"+y+","+b+(" A"+o+","+s+",0,"+N+",1,"+x+","+w)+" L"+S+","+m,0<l&&(C?E||(s+=" B"+(n-l)+","+(r-A)+","+(n+l)+","+(r+A)+","+S+","+m+","+I+","+v):s+=" A"+l+","+A+",0,"+N+",0,"+I+","+v),e.handDrawn&&(l=t.line(e,[I,y],[v,b],c.stroke,c.thickness*Math.random()*e.handDrawThickness,c["stroke-opacity"]),i.push(l)),e=e.path(s+" Z",void 0,void 0,"1000,1000").attr(c),h){for(l=[],A=0;A<h.length;A++)l.push(t.adjustLuminosity(c.fill,h[A]));"radial"!=p||t.isModern||(l=[]),0<l.length&&e.gradient(p+"Gradient",l)}return t.isModern&&"radial"==p&&e.grad&&(e.grad.setAttribute("gradientUnits","userSpaceOnUse"),e.grad.setAttribute("r",o),e.grad.setAttribute("cx",n),e.grad.setAttribute("cy",r)),e.pattern(g,NaN,d),i.wedge=e,i.push(e),i},t.rgb2hex=function(t){return(t=t.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&4===t.length?"#"+("0"+parseInt(t[1],10).toString(16)).slice(-2)+("0"+parseInt(t[2],10).toString(16)).slice(-2)+("0"+parseInt(t[3],10).toString(16)).slice(-2):""},t.adjustLuminosity=function(e,n){e&&-1!=e.indexOf("rgb")&&(e=t.rgb2hex(e)),e=String(e).replace(/[^0-9a-f]/gi,""),6>e.length&&(e=String(e[0])+String(e[0])+String(e[1])+String(e[1])+String(e[2])+String(e[2])),n=n||0;var r,i,a="#";for(i=0;3>i;i++)r=parseInt(e.substr(2*i,2),16),r=Math.round(Math.min(Math.max(0,r+r*n),255)).toString(16),a+=("00"+r).substr(r.length);return a}}(),function(){var t=window.AmCharts;t.Bezier=t.Class({construct:function(e,r,i,a,o,s,l,u,c,h,g){var d,p;for("object"==("undefined"==typeof l?"undefined":n(l))&&1<l.length&&(p=!0,d=l,l=l[0]),"object"==("undefined"==typeof u?"undefined":n(u))&&(u=u[0]),0===u&&(l="none"),s={fill:l,"fill-opacity":u,"stroke-width":s},void 0!==c&&0<c&&(s["stroke-dasharray"]=c),isNaN(o)||(s["stroke-opacity"]=o),a&&(s.stroke=a),a="M"+Math.round(r[0])+","+Math.round(i[0]),o=[],c=0;c<r.length;c++)o.push({x:Number(r[c]),y:Number(i[c])});1<o.length&&(r=this.interpolate(o),a+=this.drawBeziers(r)),h?a+=h:t.VML||(a+="M0,0 L0,0"),this.path=e.path(a).attr(s),this.node=this.path.node,p&&this.path.gradient("linearGradient",d,g)},interpolate:function(e){var n=[];n.push({x:e[0].x,y:e[0].y});var r=e[1].x-e[0].x,i=e[1].y-e[0].y,a=t.bezierX,o=t.bezierY;n.push({x:e[0].x+r/a,y:e[0].y+i/o});var s;for(s=1;s<e.length-1;s++){var l=e[s-1],u=e[s],i=e[s+1];isNaN(i.x)&&(i=u),isNaN(u.x)&&(u=l),isNaN(l.x)&&(l=u),r=i.x-u.x,i=i.y-l.y,l=u.x-l.x,l>r&&(l=r),n.push({x:u.x-l/a,y:u.y-i/o}),n.push({x:u.x,y:u.y}),n.push({x:u.x+l/a,y:u.y+i/o})}return i=e[e.length-1].y-e[e.length-2].y,r=e[e.length-1].x-e[e.length-2].x,n.push({x:e[e.length-1].x-r/a,y:e[e.length-1].y-i/o}),n.push({x:e[e.length-1].x,y:e[e.length-1].y}),n},drawBeziers:function(t){var e,n="";for(e=0;e<(t.length-1)/3;e++)n+=this.drawBezierMidpoint(t[3*e],t[3*e+1],t[3*e+2],t[3*e+3]);return n},drawBezierMidpoint:function(t,e,n,r){var i=Math.round,a=this.getPointOnSegment(t,e,.75),o=this.getPointOnSegment(r,n,.75),s=(r.x-t.x)/16,l=(r.y-t.y)/16,u=this.getPointOnSegment(t,e,.375);return t=this.getPointOnSegment(a,o,.375),t.x-=s,t.y-=l,e=this.getPointOnSegment(o,a,.375),e.x+=s,e.y+=l,n=this.getPointOnSegment(r,n,.375),s=this.getMiddle(u,t),a=this.getMiddle(a,o),o=this.getMiddle(e,n),u=" Q"+i(u.x)+","+i(u.y)+","+i(s.x)+","+i(s.y),u+=" Q"+i(t.x)+","+i(t.y)+","+i(a.x)+","+i(a.y),u+=" Q"+i(e.x)+","+i(e.y)+","+i(o.x)+","+i(o.y),u+=" Q"+i(n.x)+","+i(n.y)+","+i(r.x)+","+i(r.y)},getMiddle:function(t,e){return{x:(t.x+e.x)/2,y:(t.y+e.y)/2}},getPointOnSegment:function(t,e,n){return{x:t.x+(e.x-t.x)*n,y:t.y+(e.y-t.y)*n}}})}(),function(){var t=window.AmCharts;t.AmDraw=t.Class({construct:function(e,n,r,i){t.SVG_NS="http://www.w3.org/2000/svg",t.SVG_XLINK="http://www.w3.org/1999/xlink",t.hasSVG=!!document.createElementNS&&!!document.createElementNS(t.SVG_NS,"svg").createSVGRect,1>n&&(n=10),1>r&&(r=10),this.div=e,this.width=n,this.height=r,this.rBin=document.createElement("div"),t.hasSVG?(t.SVG=!0,n=this.createSvgElement("svg"),e.appendChild(n),this.container=n,this.addDefs(i),this.R=new t.SVGRenderer(this)):t.isIE&&t.VMLRenderer&&(t.VML=!0,t.vmlStyleSheet||(document.namespaces.add("amvml","urn:schemas-microsoft-com:vml"),31>document.styleSheets.length?(n=document.createStyleSheet(),n.addRule(".amvml","behavior:url(#default#VML); display:inline-block; antialias:true"),t.vmlStyleSheet=n):document.styleSheets[0].addRule(".amvml","behavior:url(#default#VML); display:inline-block; antialias:true")),this.container=e,this.R=new t.VMLRenderer(this,i),this.R.disableSelection(e))},createSvgElement:function(e){return document.createElementNS(t.SVG_NS,e)},circle:function(e,n,r,i){var a=new t.AmDObject("circle",this);return a.attr({r:r,cx:e,cy:n}),this.addToContainer(a.node,i),a},ellipse:function(e,n,r,i,a){var o=new t.AmDObject("ellipse",this);return o.attr({rx:r,ry:i,cx:e,cy:n}),this.addToContainer(o.node,a),o},setSize:function(t,e){0<t&&0<e&&(this.container.style.width=t+"px",this.container.style.height=e+"px")},rect:function(e,n,r,i,a,o,s){var l=new t.AmDObject("rect",this);return t.VML&&(a=Math.round(100*a/Math.min(r,i)),r+=2*o,i+=2*o,l.bw=o,l.node.style.marginLeft=-o,l.node.style.marginTop=-o),1>r&&(r=1),1>i&&(i=1),l.attr({x:e,y:n,width:r,height:i,rx:a,ry:a,"stroke-width":o}),this.addToContainer(l.node,s),l},image:function(e,n,r,i,a,o){var s=new t.AmDObject("image",this);return s.attr({x:n,y:r,width:i,height:a}),this.R.path(s,e),this.addToContainer(s.node,o),s},addToContainer:function(t,e){e||(e=this.container),e.appendChild(t)},text:function(t,e,n){return this.R.text(t,e,n)},path:function(e,n,r,i){var a=new t.AmDObject("path",this);return i||(i="100,100"),a.attr({cs:i}),r?a.attr({dd:e}):a.attr({d:e}),this.addToContainer(a.node,n),a},set:function(t){return this.R.set(t)},remove:function(t){if(t){var e=this.rBin;e.appendChild(t),e.innerHTML=""}},renderFix:function(){var t=this.container,e=t.style;e.top="0px",e.left="0px";try{var n=t.getBoundingClientRect(),r=n.left-Math.round(n.left),i=n.top-Math.round(n.top);r&&(e.left=r+"px"),i&&(e.top=i+"px")}catch(t){}},update:function(){this.R.update()},addDefs:function(e){if(t.hasSVG){var n=this.createSvgElement("desc"),r=this.container;if(r.setAttribute("version","1.1"),r.style.position="absolute",this.setSize(this.width,this.height),e.accessibleTitle){var i=this.createSvgElement("text");r.appendChild(i),i.innerHTML=e.accessibleTitle,i.style.opacity=0}t.rtl&&(r.setAttribute("direction","rtl"),r.style.left="auto",r.style.right="0px"),e&&(e.addCodeCredits&&n.appendChild(document.createTextNode("JavaScript chart by amCharts "+e.version)),r.appendChild(n),e.defs&&(n=this.createSvgElement("defs"),r.appendChild(n),t.parseDefs(e.defs,n),this.defs=n))}}})}(),function(){var t=window.AmCharts;t.AmDObject=t.Class({construct:function(t,e){this.D=e,this.R=e.R,this.node=this.R.create(this,t),this.y=this.x=0,this.scale=1},attr:function(t){return this.R.attr(this,t),this},getAttr:function(t){return this.node.getAttribute(t)},setAttr:function(t,e){return this.R.setAttr(this,t,e),this},clipRect:function(t,e,n,r){this.R.clipRect(this,t,e,n,r)},translate:function(t,e,n,r){r||(t=Math.round(t),e=Math.round(e)),this.R.move(this,t,e,n),this.x=t,this.y=e,this.scale=n,this.angle&&this.rotate(this.angle)},rotate:function(t,e){this.R.rotate(this,t,e),this.angle=t},animate:function(e,n,r){for(var i in e)if(e.hasOwnProperty(i)){var a=i,o=e[i];r=t.getEffect(r),this.R.animate(this,a,o,n,r)}},push:function(t){if(t){var e=this.node;e.appendChild(t.node);var n=t.clipPath;n&&e.appendChild(n),(t=t.grad)&&e.appendChild(t)}},text:function(t){this.R.setText(this,t)},remove:function(){this.stop(),this.R.remove(this)},clear:function(){var t=this.node;if(t.hasChildNodes())for(;1<=t.childNodes.length;)t.removeChild(t.firstChild)},hide:function(){this.setAttr("visibility","hidden")},show:function(){this.setAttr("visibility","visible")},getBBox:function(){return this.R.getBBox(this)},toFront:function(){var t=this.node;if(t){this.prevNextNode=t.nextSibling;var e=t.parentNode;e&&e.appendChild(t)}},toPrevious:function(){var t=this.node;t&&this.prevNextNode&&(t=t.parentNode)&&t.insertBefore(this.prevNextNode,null)},toBack:function(){var t=this.node;if(t){this.prevNextNode=t.nextSibling;var e=t.parentNode;if(e){var n=e.firstChild;n&&e.insertBefore(t,n)}}},mouseover:function(t){return this.R.addListener(this,"mouseover",t),this},mouseout:function(t){return this.R.addListener(this,"mouseout",t),this},click:function(t){return this.R.addListener(this,"click",t),this},dblclick:function(t){return this.R.addListener(this,"dblclick",t),this},mousedown:function(t){return this.R.addListener(this,"mousedown",t),this},mouseup:function(t){return this.R.addListener(this,"mouseup",t),this},touchmove:function(t){return this.R.addListener(this,"touchmove",t),this},touchstart:function(t){return this.R.addListener(this,"touchstart",t),this},touchend:function(t){return this.R.addListener(this,"touchend",t),this},keyup:function(t){return this.R.addListener(this,"keyup",t),this},focus:function(t){return this.R.addListener(this,"focus",t),this},blur:function(t){return this.R.addListener(this,"blur",t),this},contextmenu:function(t){return this.node.addEventListener?this.node.addEventListener("contextmenu",t,!0):this.R.addListener(this,"contextmenu",t),this},stop:function(){t.removeFromArray(this.R.animations,this.an_translate),t.removeFromArray(this.R.animations,this.an_y),t.removeFromArray(this.R.animations,this.an_x)},length:function(){return this.node.childNodes.length},gradient:function(t,e,n){this.R.gradient(this,t,e,n)},pattern:function(t,e,n){t&&this.R.pattern(this,t,e,n)}})}(),function(){var t=window.AmCharts;t.VMLRenderer=t.Class({construct:function(t,e){this.chart=e,this.D=t,this.cNames={circle:"oval",ellipse:"oval",rect:"roundrect",path:"shape"},this.styleMap={x:"left",y:"top",width:"width",height:"height","font-family":"fontFamily","font-size":"fontSize",visibility:"visibility"}},create:function(t,e){var n;if("group"==e)n=document.createElement("div"),t.type="div";else if("text"==e)n=document.createElement("div"),t.type="text";else if("image"==e)n=document.createElement("img"),t.type="image";else{t.type="shape",t.shapeType=this.cNames[e],n=document.createElement("amvml:"+this.cNames[e]);var r=document.createElement("amvml:stroke");n.appendChild(r),t.stroke=r;var i=document.createElement("amvml:fill");n.appendChild(i),t.fill=i,i.className="amvml",r.className="amvml",n.className="amvml"}return n.style.position="absolute",n.style.top=0,n.style.left=0,n},path:function(t,e){t.node.setAttribute("src",e)},setAttr:function(e,n,r){if(void 0!==r){var i;8===document.documentMode&&(i=!0);var a=e.node,o=e.type,s=a.style;"r"==n&&(s.width=2*r,s.height=2*r),"oval"==e.shapeType&&("rx"==n&&(s.width=2*r),"ry"==n&&(s.height=2*r)),"roundrect"==e.shapeType&&("width"!=n&&"height"!=n||--r),"cursor"==n&&(s.cursor=r),"cx"==n&&(s.left=r-t.removePx(s.width)/2),"cy"==n&&(s.top=r-t.removePx(s.height)/2);var l=this.styleMap[n];if("width"==l&&0>r&&(r=0),void 0!==l&&(s[l]=r),"text"==o&&("text-anchor"==n&&(e.anchor=r,l=a.clientWidth,"end"==r&&(s.marginLeft=-l+"px"),"middle"==r&&(s.marginLeft=-(l/2)+"px",s.textAlign="center"),"start"==r&&(s.marginLeft="0px")),"fill"==n&&(s.color=r),"font-weight"==n&&(s.fontWeight=r)),s=e.children)for(l=0;l<s.length;l++)s[l].setAttr(n,r);"shape"==o&&("cs"==n&&(a.style.width="100px",a.style.height="100px",a.setAttribute("coordsize",r)),"d"==n&&a.setAttribute("path",this.svgPathToVml(r)),"dd"==n&&a.setAttribute("path",r),o=e.stroke,e=e.fill,"stroke"==n&&(i?o.color=r:o.setAttribute("color",r)),"stroke-width"==n&&(i?o.weight=r:o.setAttribute("weight",r)),"stroke-opacity"==n&&(i?o.opacity=r:o.setAttribute("opacity",r)),"stroke-dasharray"==n&&(s="solid",0<r&&3>r&&(s="dot"),3<=r&&6>=r&&(s="dash"),6<r&&(s="longdash"),i?o.dashstyle=s:o.setAttribute("dashstyle",s)),"fill-opacity"!=n&&"opacity"!=n||(0===r?i?e.on=!1:e.setAttribute("on",!1):i?e.opacity=r:e.setAttribute("opacity",r)),
"fill"==n&&(i?e.color=r:e.setAttribute("color",r)),"rx"==n&&(i?a.arcSize=r+"%":a.setAttribute("arcsize",r+"%")))}},attr:function(t,e){for(var n in e)e.hasOwnProperty(n)&&this.setAttr(t,n,e[n])},text:function(e,n,r){var i=new t.AmDObject("text",this.D),a=i.node;return a.style.whiteSpace="pre",a.innerHTML=e,this.D.addToContainer(a,r),this.attr(i,n),i},getBBox:function(t){return this.getBox(t.node)},getBox:function(t){var e,n=t.offsetLeft,r=t.offsetTop,i=t.offsetWidth,a=t.offsetHeight;if(t.hasChildNodes()){var o,s,l;for(l=0;l<t.childNodes.length;l++){e=this.getBox(t.childNodes[l]);var u=e.x;isNaN(u)||(isNaN(o)?o=u:u<o&&(o=u));var c=e.y;isNaN(c)||(isNaN(s)?s=c:c<s&&(s=c)),u=e.width+u,isNaN(u)||(i=Math.max(i,u)),e=e.height+c,isNaN(e)||(a=Math.max(a,e))}0>o&&(n+=o),0>s&&(r+=s)}return{x:n,y:r,width:i,height:a}},setText:function(t,e){var n=t.node;n&&(n.innerHTML=e),this.setAttr(t,"text-anchor",t.anchor)},addListener:function(t,e,n){t.node["on"+e]=n},move:function(e,n,r){var i=e.node,a=i.style;"text"==e.type&&(r-=t.removePx(a.fontSize)/2-1),"oval"==e.shapeType&&(n-=t.removePx(a.width)/2,r-=t.removePx(a.height)/2),e=e.bw,isNaN(e)||(n-=e,r-=e),isNaN(n)||isNaN(r)||(i.style.left=n+"px",i.style.top=r+"px")},svgPathToVml:function(t){var e=t.split(" ");t="";var n,r,i=Math.round;for(r=0;r<e.length;r++){var a=e[r],o=a.substring(0,1),a=a.substring(1),s=a.split(","),l=i(s[0])+","+i(s[1]);if("M"==o&&(t+=" m "+l),"L"==o&&(t+=" l "+l),"Z"==o&&(t+=" x e"),"Q"==o){var u=n.length,c=n[u-1],h=s[0],g=s[1],l=s[2],d=s[3];n=i(n[u-2]/3+2/3*h),c=i(c/3+2/3*g),h=i(2/3*h+l/3),g=i(2/3*g+d/3),t+=" c "+n+","+c+","+h+","+g+","+l+","+d}"A"==o&&(t+=" wa "+a),"B"==o&&(t+=" at "+a),n=s}return t},animate:function(t,e,n,r,i){var a=t.node,o=this.chart;if(t.animationFinished=!1,"translate"==e){e=n.split(","),n=e[1];var s=a.offsetTop;o.animate(t,"left",a.offsetLeft,e[0],r,i,"px"),o.animate(t,"top",s,n,r,i,"px")}},clipRect:function(t,e,n,r,i){t=t.node,0===e&&0===n?(t.style.width=r+"px",t.style.height=i+"px",t.style.overflow="hidden"):t.style.clip="rect("+n+"px "+(e+r)+"px "+(n+i)+"px "+e+"px)"},rotate:function(e,n,r){if(0!==Number(n)){var i=e.node;e=i.style,r||(r=this.getBGColor(i.parentNode)),e.backgroundColor=r,e.paddingLeft=1,r=n*Math.PI/180;var a=Math.cos(r),o=Math.sin(r),s=t.removePx(e.left),l=t.removePx(e.top),u=i.offsetWidth,i=i.offsetHeight;n/=Math.abs(n),e.left=s+u/2-u/2*Math.cos(r)-n*i/2*Math.sin(r)+3,e.top=l-n*u/2*Math.sin(r)+n*i/2*Math.sin(r),e.cssText=e.cssText+"; filter:progid:DXImageTransform.Microsoft.Matrix(M11='"+a+"', M12='"+-o+"', M21='"+o+"', M22='"+a+"', sizingmethod='auto expand');"}},getBGColor:function(t){var e="#FFFFFF";if(t.style){var n=t.style.backgroundColor;""!==n?e=n:t.parentNode&&(e=this.getBGColor(t.parentNode))}return e},set:function(e){var n=new t.AmDObject("group",this.D);if(this.D.container.appendChild(n.node),e){var r;for(r=0;r<e.length;r++)n.push(e[r])}return n},gradient:function(t,e,n,r){var i="";"radialGradient"==e&&(e="gradientradial",n.reverse()),"linearGradient"==e&&(e="gradient");var a;for(a=0;a<n.length;a++)i+=Math.round(100*a/(n.length-1))+"% "+n[a],a<n.length-1&&(i+=",");t=t.fill,90==r?r=0:270==r?r=180:180==r?r=90:0===r&&(r=270),8===document.documentMode?(t.type=e,t.angle=r):(t.setAttribute("type",e),t.setAttribute("angle",r)),i&&(t.colors.value=i)},remove:function(t){t.clipPath&&this.D.remove(t.clipPath),this.D.remove(t.node)},disableSelection:function(t){t.onselectstart=function(){return!1},t.style.cursor="default"},pattern:function(e,n,r,i){r=e.node,e=e.fill;var a="none";n.color&&(a=n.color),r.fillColor=a,n=n.url,t.isAbsolute(n)||(n=i+n),8===document.documentMode?(e.type="tile",e.src=n):(e.setAttribute("type","tile"),e.setAttribute("src",n))},update:function(){}})}(),function(){var t=window.AmCharts;t.SVGRenderer=t.Class({construct:function(t){this.D=t,this.animations=[]},create:function(e,n){return document.createElementNS(t.SVG_NS,n)},attr:function(t,e){for(var n in e)e.hasOwnProperty(n)&&this.setAttr(t,n,e[n])},setAttr:function(t,e,n){void 0!==n&&t.node.setAttribute(e,n)},animate:function(e,n,r,i,a){e.animationFinished=!1;var o=e.node;e["an_"+n]&&t.removeFromArray(this.animations,e["an_"+n]),"translate"==n?(o=(o=o.getAttribute("transform"))?String(o).substring(10,o.length-1):"0,0",o=o.split(", ").join(" "),o=o.split(" ").join(","),0===o&&(o="0,0")):o=Number(o.getAttribute(n)),r={obj:e,frame:0,attribute:n,from:o,to:r,time:i,effect:a},this.animations.push(r),e["an_"+n]=r},update:function(){var e,n=this.animations;for(e=n.length-1;0<=e;e--){var r,i,a,o=n[e],s=o.time*t.updateRate,l=o.frame+1,u=o.obj,c=o.attribute;if(l<=s){if(o.frame++,"translate"==c){if(r=o.from.split(","),c=Number(r[0]),r=Number(r[1]),isNaN(r)&&(r=0),i=o.to.split(","),a=Number(i[0]),i=Number(i[1]),a=0===a-c?a:Math.round(t[o.effect](0,l,c,a-c,s)),o=0===i-r?i:Math.round(t[o.effect](0,l,r,i-r,s)),c="transform",isNaN(a)||isNaN(o))continue;o="translate("+a+","+o+")"}else i=Number(o.from),r=Number(o.to),a=r-i,o=t[o.effect](0,l,i,a,s),isNaN(o)&&(o=r),0===a&&this.animations.splice(e,1);this.setAttr(u,c,o)}else"translate"==c?(i=o.to.split(","),a=Number(i[0]),i=Number(i[1]),u.translate(a,i)):(r=Number(o.to),this.setAttr(u,c,r)),u.animationFinished=!0,this.animations.splice(e,1)}},getBBox:function(t){if(t=t.node)try{return t.getBBox()}catch(t){}return{width:0,height:0,x:0,y:0}},path:function(e,n){e.node.setAttributeNS(t.SVG_XLINK,"xlink:href",n)},clipRect:function(e,n,r,i,a){var o=e.node,s=e.clipPath;s&&this.D.remove(s);var l=o.parentNode;l&&(o=document.createElementNS(t.SVG_NS,"clipPath"),s=t.getUniqueId(),o.setAttribute("id",s),this.D.rect(n,r,i,a,0,0,o),l.appendChild(o),n="#",t.baseHref&&!t.isIE&&(n=this.removeTarget(window.location.href)+n),this.setAttr(e,"clip-path","url("+n+s+")"),this.clipPathC++,e.clipPath=o)},text:function(e,n,r){var i=new t.AmDObject("text",this.D);e=String(e).split("\n");var a,o=t.removePx(n["font-size"]);for(a=0;a<e.length;a++){var s=this.create(null,"tspan");s.appendChild(document.createTextNode(e[a])),s.setAttribute("y",(o+2)*a+Math.round(o/2)),s.setAttribute("x",0),i.node.appendChild(s)}return i.node.setAttribute("y",Math.round(o/2)),this.attr(i,n),this.D.addToContainer(i.node,r),i},setText:function(t,e){var n=t.node;n&&(n.removeChild(n.firstChild),n.appendChild(document.createTextNode(e)))},move:function(t,e,n,r){isNaN(e)&&(e=0),isNaN(n)&&(n=0),e="translate("+e+","+n+")",r&&(e=e+" scale("+r+")"),this.setAttr(t,"transform",e)},rotate:function(t,e){var n=t.node.getAttribute("transform"),r="rotate("+e+")";n&&(r=n+" "+r),this.setAttr(t,"transform",r)},set:function(e){var n=new t.AmDObject("g",this.D);if(this.D.container.appendChild(n.node),e){var r;for(r=0;r<e.length;r++)n.push(e[r])}return n},addListener:function(t,e,n){t.node["on"+e]=n},gradient:function(e,n,r,i){var a=e.node,o=e.grad;if(o&&this.D.remove(o),n=document.createElementNS(t.SVG_NS,n),o=t.getUniqueId(),n.setAttribute("id",o),!isNaN(i)){var s=0,l=0,u=0,c=0;90==i?u=100:270==i?c=100:180==i?s=100:0===i&&(l=100),n.setAttribute("x1",s+"%"),n.setAttribute("x2",l+"%"),n.setAttribute("y1",u+"%"),n.setAttribute("y2",c+"%")}for(i=0;i<r.length;i++)s=document.createElementNS(t.SVG_NS,"stop"),l=100*i/(r.length-1),0===i&&(l=0),s.setAttribute("offset",l+"%"),s.setAttribute("stop-color",r[i]),n.appendChild(s);a.parentNode.appendChild(n),r="#",t.baseHref&&!t.isIE&&(r=this.removeTarget(window.location.href)+r),a.setAttribute("fill","url("+r+o+")"),e.grad=n},removeTarget:function(t){return t.split("#")[0]},pattern:function(e,n,r,i){var a=e.node;isNaN(r)&&(r=1);var o=e.patternNode;o&&this.D.remove(o);var o=document.createElementNS(t.SVG_NS,"pattern"),s=t.getUniqueId(),l=n;n.url&&(l=n.url),t.isAbsolute(l)||-1!=l.indexOf("data:image")||(l=i+l),i=Number(n.width),isNaN(i)&&(i=4);var u=Number(n.height);isNaN(u)&&(u=4),i/=r,u/=r,r=n.x,isNaN(r)&&(r=0);var c=-Math.random()*Number(n.randomX);isNaN(c)||(r=c),c=n.y,isNaN(c)&&(c=0);var h=-Math.random()*Number(n.randomY);isNaN(h)||(c=h),o.setAttribute("id",s),o.setAttribute("width",i),o.setAttribute("height",u),o.setAttribute("patternUnits","userSpaceOnUse"),o.setAttribute("xlink:href",l),n.color&&(h=document.createElementNS(t.SVG_NS,"rect"),h.setAttributeNS(null,"height",i),h.setAttributeNS(null,"width",u),h.setAttributeNS(null,"fill",n.color),o.appendChild(h)),this.D.image(l,0,0,i,u,o).translate(r,c),l="#",t.baseHref&&!t.isIE&&(l=this.removeTarget(window.location.href)+l),a.setAttribute("fill","url("+l+s+")"),e.patternNode=o,a.parentNode.appendChild(o)},remove:function(t){t.clipPath&&this.D.remove(t.clipPath),t.grad&&this.D.remove(t.grad),t.patternNode&&this.D.remove(t.patternNode),this.D.remove(t.node)}})}(),function(){var t=window.AmCharts;t.AmLegend=t.Class({construct:function(e){this.enabled=!0,this.cname="AmLegend",this.createEvents("rollOverMarker","rollOverItem","rollOutMarker","rollOutItem","showItem","hideItem","clickMarker","clickLabel"),this.position="bottom",this.borderColor=this.color="#000000",this.borderAlpha=0,this.markerLabelGap=5,this.verticalGap=10,this.align="left",this.horizontalGap=0,this.spacing=10,this.markerDisabledColor="#AAB3B3",this.markerType="square",this.markerSize=16,this.markerBorderThickness=this.markerBorderAlpha=1,this.marginBottom=this.marginTop=0,this.marginLeft=this.marginRight=20,this.autoMargins=!0,this.valueWidth=50,this.switchable=!0,this.switchType="x",this.switchColor="#FFFFFF",this.rollOverColor="#CC0000",this.reversedOrder=!1,this.labelText="[[title]]",this.valueText="[[value]]",this.accessibleLabel="[[title]]",this.useMarkerColorForLabels=!1,this.rollOverGraphAlpha=1,this.textClickEnabled=!1,this.equalWidths=!0,this.backgroundColor="#FFFFFF",this.backgroundAlpha=0,this.useGraphSettings=!1,this.showEntries=!0,this.labelDx=0,t.applyTheme(this,e,this.cname)},setData:function(t){this.legendData=t,this.invalidateSize()},invalidateSize:function(){this.destroy(),this.entries=[],this.valueLabels=[];var e=this.legendData;this.enabled&&(t.ifArray(e)||t.ifArray(this.data))&&this.drawLegend()},drawLegend:function(){var e=this.chart,n=this.position,r=this.width,i=e.divRealWidth,a=e.divRealHeight,o=this.div,s=this.legendData;if(this.data&&(s=this.combineLegend?this.legendData.concat(this.data):this.data),isNaN(this.fontSize)&&(this.fontSize=e.fontSize),this.maxColumnsReal=this.maxColumns,"right"==n||"left"==n)this.maxColumnsReal=1,this.autoMargins&&(this.marginLeft=this.marginRight=10);else if(this.autoMargins){this.marginRight=e.marginRight,this.marginLeft=e.marginLeft;var l=e.autoMarginOffset;"bottom"==n?(this.marginBottom=l,this.marginTop=0):(this.marginTop=l,this.marginBottom=0)}if(r=void 0!==r?t.toCoordinate(r,i):"right"!=n&&"left"!=n?e.realWidth:0<this.ieW?this.ieW:e.realWidth,"outside"==n?(r=o.offsetWidth,a=o.offsetHeight,o.clientHeight&&(r=o.clientWidth,a=o.clientHeight)):(isNaN(r)||(o.style.width=r+"px"),o.className="amChartsLegend "+e.classNamePrefix+"-legend-div"),this.divWidth=r,(n=this.container)?(n.container.innerHTML="",o.appendChild(n.container),n.width=r,n.height=a,n.setSize(r,a),n.addDefs(e)):n=new t.AmDraw(o,r,a,e),this.container=n,this.lx=0,this.ly=8,a=this.markerSize,a>this.fontSize&&(this.ly=a/2-1),0<a&&(this.lx+=a+this.markerLabelGap),this.titleWidth=0,(a=this.title)&&(a=t.text(this.container,a,this.color,e.fontFamily,this.fontSize,"start",!0),t.setCN(e,a,"legend-title"),a.translate(this.marginLeft,this.marginTop+this.verticalGap+this.ly+1),e=a.getBBox(),this.titleWidth=e.width+15,this.titleHeight=e.height+6),this.index=this.maxLabelWidth=0,this.showEntries){for(e=0;e<s.length;e++)this.createEntry(s[e]);for(e=this.index=0;e<s.length;e++)this.createValue(s[e])}this.arrangeEntries(),this.updateValues()},arrangeEntries:function(){var e=this.position,n=this.marginLeft+this.titleWidth,r=this.marginRight,i=this.marginTop,a=this.marginBottom,o=this.horizontalGap,s=this.div,l=this.divWidth,u=this.maxColumnsReal,c=this.verticalGap,h=this.spacing,g=l-r-n,d=0,p=0,f=this.container;this.set&&this.set.remove();var A=f.set();this.set=A;var C=f.set();A.push(C);var I,m,v=this.entries;for(m=0;m<v.length;m++){I=v[m].getBBox();var y=I.width;y>d&&(d=y),I=I.height,I>p&&(p=I)}var y=p=0,b=o,x=0,w=0;for(m=0;m<v.length;m++){var S=v[m];this.reversedOrder&&(S=v[v.length-m-1]),I=S.getBBox();var T;this.equalWidths?T=y*(d+h+this.markerLabelGap):(T=b,b=b+I.width+o+h),T+I.width>g&&0<m&&0!==y&&(p++,T=y=0,b=T+I.width+o+h,x=x+w+c,w=0),I.height>w&&(w=I.height),S.translate(T,x),y++,!isNaN(u)&&y>=u&&(y=0,p++,x=x+w+c,b=o,w=0),C.push(S)}I=C.getBBox(),u=I.height+2*c-1,"left"==e||"right"==e?(h=I.width+2*o,l=h+n+r,s.style.width=l+"px",this.ieW=l):h=l-n-r-1,r=t.polygon(this.container,[0,h,h,0],[0,0,u,u],this.backgroundColor,this.backgroundAlpha,1,this.borderColor,this.borderAlpha),t.setCN(this.chart,r,"legend-bg"),A.push(r),A.translate(n,i),r.toBack(),n=o,"top"!=e&&"bottom"!=e&&"absolute"!=e&&"outside"!=e||("center"==this.align?n=o+(h-I.width)/2:"right"==this.align&&(n=o+h-I.width)),C.translate(n,c+1),this.titleHeight>u&&(u=this.titleHeight),e=u+i+a+1,0>e&&(e=0),e>this.chart.divRealHeight&&(s.style.top="0px"),s.style.height=Math.round(e)+"px",f.setSize(this.divWidth,e)},createEntry:function(e){if(!1!==e.visibleInLegend&&!e.hideFromLegend){var n=this,r=n.chart,i=n.useGraphSettings,a=e.markerType;a&&(i=!1),e.legendEntryWidth=n.markerSize,a||(a=n.markerType);var o=e.color,s=e.alpha;e.legendKeyColor&&(o=e.legendKeyColor()),e.legendKeyAlpha&&(s=e.legendKeyAlpha());var l;!0===e.hidden&&(l=o=n.markerDisabledColor);var u,c=e.pattern,h=e.customMarker;h||(h=n.customMarker);var g=n.container,d=n.markerSize,p=0,f=0,A=d/2;if(i)i=e.type,n.switchType=void 0,"line"==i||"step"==i||"smoothedLine"==i||"ohlc"==i?(u=g.set(),e.hidden||(o=e.lineColorR,l=e.bulletBorderColorR),p=t.line(g,[0,2*d],[d/2,d/2],o,e.lineAlpha,e.lineThickness,e.dashLength),t.setCN(r,p,"graph-stroke"),u.push(p),e.bullet&&(e.hidden||(o=e.bulletColorR),p=t.bullet(g,e.bullet,e.bulletSize,o,e.bulletAlpha,e.bulletBorderThickness,l,e.bulletBorderAlpha))&&(t.setCN(r,p,"graph-bullet"),p.translate(d+1,d/2),u.push(p)),A=0,p=d,f=d/3):(e.getGradRotation&&(u=e.getGradRotation(),0===u&&(u=180)),p=e.fillColorsR,!0===e.hidden&&(p=o),(u=n.createMarker("rectangle",p,e.fillAlphas,e.lineThickness,o,e.lineAlpha,u,c,e.dashLength))&&(A=d,u.translate(A,d/2)),p=d),t.setCN(r,u,"graph-"+i),t.setCN(r,u,"graph-"+e.id);else if(h)u=g.image(h,0,0,d,d);else{var C;isNaN(n.gradientRotation)||(C=180+n.gradientRotation),(u=n.createMarker(a,o,s,void 0,void 0,void 0,C,c))&&u.translate(d/2,d/2)}t.setCN(r,u,"legend-marker"),n.addListeners(u,e),g=g.set([u]),n.switchable&&e.switchable&&g.setAttr("cursor","pointer"),void 0!==e.id&&t.setCN(r,g,"legend-item-"+e.id),t.setCN(r,g,e.className,!0),l=n.switchType;var I;l&&"none"!=l&&0<d&&("x"==l?(I=n.createX(),I.translate(d/2,d/2)):I=n.createV(),I.dItem=e,!0!==e.hidden?"x"==l?I.hide():I.show():"x"!=l&&I.hide(),n.switchable||I.hide(),n.addListeners(I,e),e.legendSwitch=I,g.push(I),t.setCN(r,I,"legend-switch")),l=n.color,e.showBalloon&&n.textClickEnabled&&void 0!==n.selectedColor&&(l=n.selectedColor),n.useMarkerColorForLabels&&!c&&(l=o),!0===e.hidden&&(l=n.markerDisabledColor),o=t.massReplace(n.labelText,{"[[title]]":e.title}),void 0!==n.tabIndex&&(g.setAttr("tabindex",n.tabIndex),g.setAttr("role","menuitem"),g.keyup(function(t){13==t.keyCode&&n.clickMarker(e,t)})),r.accessible&&n.accessibleLabel&&(c=t.massReplace(n.accessibleLabel,{"[[title]]":e.title}),r.makeAccessible(g,c)),c=n.fontSize,u&&(d<=c&&(d=d/2+n.ly-c/2+(c+2-d)/2-f,u.translate(A,d),I&&I.translate(I.x,d)),e.legendEntryWidth=u.getBBox().width);var m;o&&(o=t.fixBrakes(o),e.legendTextReal=o,m=n.labelWidth,m=isNaN(m)?t.text(n.container,o,l,r.fontFamily,c,"start"):t.wrappedText(n.container,o,l,r.fontFamily,c,"start",!1,m,0),t.setCN(r,m,"legend-label"),m.translate(n.lx+p,n.ly),g.push(m),n.labelDx=p,r=m.getBBox().width,n.maxLabelWidth<r&&(n.maxLabelWidth=r)),n.entries[n.index]=g,e.legendEntry=n.entries[n.index],e.legendMarker=u,e.legendLabel=m,n.index++}},addListeners:function(t,e){var n=this;t&&t.mouseover(function(t){n.rollOverMarker(e,t)}).mouseout(function(t){n.rollOutMarker(e,t)}).click(function(t){n.clickMarker(e,t)})},rollOverMarker:function(t,e){this.switchable&&this.dispatch("rollOverMarker",t,e),this.dispatch("rollOverItem",t,e)},rollOutMarker:function(t,e){this.switchable&&this.dispatch("rollOutMarker",t,e),this.dispatch("rollOutItem",t,e)},clickMarker:function(t,e){this.switchable&&(!0===t.hidden?this.dispatch("showItem",t,e):this.dispatch("hideItem",t,e)),this.dispatch("clickMarker",t,e)},rollOverLabel:function(t,e){t.hidden||this.textClickEnabled&&t.legendLabel&&t.legendLabel.attr({fill:this.rollOverColor}),this.dispatch("rollOverItem",t,e)},rollOutLabel:function(t,e){if(!t.hidden&&this.textClickEnabled&&t.legendLabel){var n=this.color;void 0!==this.selectedColor&&t.showBalloon&&(n=this.selectedColor),this.useMarkerColorForLabels&&(n=t.lineColor,void 0===n&&(n=t.color)),t.legendLabel.attr({fill:n})}this.dispatch("rollOutItem",t,e)},clickLabel:function(t,e){this.textClickEnabled?t.hidden||this.dispatch("clickLabel",t,e):this.switchable&&(!0===t.hidden?this.dispatch("showItem",t,e):this.dispatch("hideItem",t,e))},dispatch:function(t,e,n){t={type:t,dataItem:e,target:this,event:n,chart:this.chart},this.chart&&this.chart.handleLegendEvent(t),this.fire(t)},createValue:function(e){var n=this,r=n.fontSize,i=n.chart;if(!1!==e.visibleInLegend&&!e.hideFromLegend){var a=n.maxLabelWidth;n.forceWidth&&(a=n.labelWidth),n.equalWidths||(n.valueAlign="left"),"left"==n.valueAlign&&e.legendLabel&&(a=e.legendLabel.getBBox().width);var o=a;if(n.valueText&&0<n.valueWidth){var s=n.color;n.useMarkerColorForValues&&(s=e.color,e.legendKeyColor&&(s=e.legendKeyColor())),!0===e.hidden&&(s=n.markerDisabledColor);var l=n.valueText,a=a+n.lx+n.labelDx+n.markerLabelGap+n.valueWidth,u="end";"left"==n.valueAlign&&(a-=n.valueWidth,u="start"),s=t.text(n.container,l,s,n.chart.fontFamily,r,u),t.setCN(i,s,"legend-value"),s.translate(a,n.ly),n.entries[n.index].push(s),o+=n.valueWidth+2*n.markerLabelGap,s.dItem=e,n.valueLabels.push(s)}n.index++,i=n.markerSize,i<r+7&&(i=r+7,t.VML&&(i+=3)),r=n.container.rect(e.legendEntryWidth,0,o,i,0,0).attr({stroke:"none",fill:"#fff","fill-opacity":.005}),r.dItem=e,n.entries[n.index-1].push(r),r.mouseover(function(t){n.rollOverLabel(e,t)}).mouseout(function(t){n.rollOutLabel(e,t)}).click(function(t){n.clickLabel(e,t)})}},createV:function(){var e=this.markerSize;return t.polygon(this.container,[e/5,e/2,e-e/5,e/2],[e/3,e-e/5,e/5,e/1.7],this.switchColor)},createX:function(){var e=(this.markerSize-4)/2,n={stroke:this.switchColor,"stroke-width":3},r=this.container,i=t.line(r,[-e,e],[-e,e]).attr(n),e=t.line(r,[-e,e],[e,-e]).attr(n);return this.container.set([i,e])},createMarker:function(e,n,r,i,a,o,s,l,u){var c=this.markerSize,h=this.container;return a||(a=this.markerBorderColor),a||(a=n),isNaN(i)&&(i=this.markerBorderThickness),isNaN(o)&&(o=this.markerBorderAlpha),t.bullet(h,e,c,n,r,i,a,o,c,s,l,this.chart.path,u)},validateNow:function(){this.invalidateSize()},updateValues:function(){var e,n=this.valueLabels,r=this.chart,i=this.data;if(n)for(e=0;e<n.length;e++){var a=n[e],o=a.dItem;o.periodDataItem=void 0,o.periodPercentDataItem=void 0;var s=" ";if(i)o.value?a.text(o.value):a.text("");else{var l=null;if(void 0!==o.type){var l=o.currentDataItem,u=this.periodValueText;o.legendPeriodValueText&&(u=o.legendPeriodValueText),l?(s=this.valueText,o.legendValueText&&(s=o.legendValueText),s=r.formatString(s,l)):u&&r.formatPeriodString&&(u=t.massReplace(u,{"[[title]]":o.title}),s=r.formatPeriodString(u,o))}else s=r.formatString(this.valueText,o);u=o,l&&(u=l);var c=this.valueFunction;c&&(s=c(u,s,r.periodDataItem));var h;this.useMarkerColorForLabels&&!l&&o.lastDataItem&&(l=o.lastDataItem),l?h=r.getBalloonColor(o,l):o.legendKeyColor&&(h=o.legendKeyColor()),o.legendColorFunction&&(h=o.legendColorFunction(u,s,o.periodDataItem,o.periodPercentDataItem)),a.text(s),!o.pattern&&(this.useMarkerColorForValues&&a.setAttr("fill",h),this.useMarkerColorForLabels)&&((a=o.legendMarker)&&(a.setAttr("fill",h),a.setAttr("stroke",h)),(o=o.legendLabel)&&o.setAttr("fill",h))}}},renderFix:function(){if(!t.VML&&this.enabled){var e=this.container;e&&e.renderFix()}},destroy:function(){this.div.innerHTML="",t.remove(this.set)}})}(),function(){var t=window.AmCharts;t.formatMilliseconds=function(t,e){if(-1!=t.indexOf("fff")){var n=e.getMilliseconds(),r=String(n);10>n&&(r="00"+n),10<=n&&100>n&&(r="0"+n),t=t.replace(/fff/g,r)}return t},t.extractPeriod=function(e){var n=t.stripNumbers(e),r=1;return n!=e&&(r=Number(e.slice(0,e.indexOf(n)))),{period:n,count:r}},t.getDate=function(e,n,r){return e instanceof Date?t.newDate(e,r):n&&isNaN(e)?t.stringToDate(e,n):new Date(e)},t.daysInMonth=function(t){return new Date(t.getYear(),t.getMonth()+1,0).getDate()},t.newDate=function(t,e){return e&&-1==e.indexOf("fff")?new Date(t):new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())},t.resetDateToMin=function(e,n,r,i){void 0===i&&(i=1);var a,o,s,l,u,c,h;switch(t.useUTC?(a=e.getUTCFullYear(),o=e.getUTCMonth(),s=e.getUTCDate(),l=e.getUTCHours(),u=e.getUTCMinutes(),c=e.getUTCSeconds(),h=e.getUTCMilliseconds(),e=e.getUTCDay()):(a=e.getFullYear(),o=e.getMonth(),s=e.getDate(),l=e.getHours(),u=e.getMinutes(),c=e.getSeconds(),h=e.getMilliseconds(),e=e.getDay()),n){case"YYYY":a=Math.floor(a/r)*r,o=0,s=1,h=c=u=l=0;break;case"MM":o=Math.floor(o/r)*r,s=1,h=c=u=l=0;break;case"WW":s=e>=i?s-e+i:s-(7+e)+i,h=c=u=l=0;break;case"DD":h=c=u=l=0;break;case"hh":l=Math.floor(l/r)*r,h=c=u=0;break;case"mm":u=Math.floor(u/r)*r,h=c=0;break;case"ss":c=Math.floor(c/r)*r,h=0;break;case"fff":h=Math.floor(h/r)*r}return t.useUTC?(e=new Date,e.setUTCFullYear(a,o,s),e.setUTCHours(l,u,c,h)):e=new Date(a,o,s,l,u,c,h),e},t.getPeriodDuration=function(t,e){void 0===e&&(e=1);var n;switch(t){case"YYYY":n=316224e5;break;case"MM":n=26784e5;break;case"WW":n=6048e5;break;case"DD":n=864e5;break;case"hh":n=36e5;break;case"mm":n=6e4;break;case"ss":n=1e3;break;case"fff":n=1}return n*e},t.intervals={s:{nextInterval:"ss",contains:1e3},ss:{nextInterval:"mm",contains:60,count:0},mm:{nextInterval:"hh",contains:60,count:1},hh:{nextInterval:"DD",contains:24,count:2},DD:{nextInterval:"",contains:1/0,count:3}},t.getMaxInterval=function(e,n){var r=t.intervals;return e>=r[n].contains?(e=Math.round(e/r[n].contains),n=r[n].nextInterval,t.getMaxInterval(e,n)):"ss"==n?r[n].nextInterval:n},t.dayNames="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),t.shortDayNames="Sun Mon Tue Wed Thu Fri Sat".split(" "),t.monthNames="January February March April May June July August September October November December".split(" "),t.shortMonthNames="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),t.getWeekNumber=function(t){t=new Date(t),t.setHours(0,0,0),t.setDate(t.getDate()+4-(t.getDay()||7));var e=new Date(t.getFullYear(),0,1);return Math.ceil(((t-e)/864e5+1)/7)},t.stringToDate=function(e,n){var r={},i=[{pattern:"YYYY",period:"year"},{pattern:"YY",period:"year"},{pattern:"MM",period:"month"},{pattern:"M",period:"month"},{pattern:"DD",period:"date"},{pattern:"D",period:"date"},{pattern:"JJ",period:"hours"},{pattern:"J",period:"hours"},{pattern:"HH",period:"hours"},{pattern:"H",period:"hours"},{pattern:"KK",period:"hours"},{pattern:"K",period:"hours"},{pattern:"LL",period:"hours"},{pattern:"L",period:"hours"},{pattern:"NN",period:"minutes"},{pattern:"N",period:"minutes"},{pattern:"SS",period:"seconds"},{pattern:"S",period:"seconds"},{pattern:"QQQ",period:"milliseconds"},{pattern:"QQ",period:"milliseconds"},{pattern:"Q",period:"milliseconds"}],a=!0,o=n.indexOf("AA");-1!=o&&(e.substr(o,2),"pm"==e.toLowerCase&&(a=!1));var s,l,u,o=n;for(u=0;u<i.length;u++)l=i[u].period,r[l]=0,"date"==l&&(r[l]=1);for(u=0;u<i.length;u++)if(s=i[u].pattern,l=i[u].period,-1!=n.indexOf(s)){var c=t.getFromDateString(s,e,o);n=n.replace(s,""),"KK"!=s&&"K"!=s&&"LL"!=s&&"L"!=s||a||(c+=12),r[l]=c}return t.useUTC?(i=new Date,i.setUTCFullYear(r.year,r.month,r.date),i.setUTCHours(r.hours,r.minutes,r.seconds,r.milliseconds)):i=new Date(r.year,r.month,r.date,r.hours,r.minutes,r.seconds,r.milliseconds),i},t.getFromDateString=function(t,e,n){if(void 0!==e)return n=n.indexOf(t),e=String(e),e=e.substr(n,t.length),"0"==e.charAt(0)&&(e=e.substr(1,e.length-1)),e=Number(e),isNaN(e)&&(e=0),-1!=t.indexOf("M")&&e--,e},t.formatDate=function(e,n,r){r||(r=t);var i,a,o,s,l,u,c,h,g=t.getWeekNumber(e);t.useUTC?(i=e.getUTCFullYear(),a=e.getUTCMonth(),o=e.getUTCDate(),s=e.getUTCDay(),l=e.getUTCHours(),u=e.getUTCMinutes(),c=e.getUTCSeconds(),h=e.getUTCMilliseconds()):(i=e.getFullYear(),a=e.getMonth(),o=e.getDate(),s=e.getDay(),l=e.getHours(),u=e.getMinutes(),c=e.getSeconds(),h=e.getMilliseconds());var d=String(i).substr(2,2),p="0"+s;n=n.replace(/W/g,g),g=l,24==g&&(g=0);var f=g;10>f&&(f="0"+f),n=n.replace(/JJ/g,f),n=n.replace(/J/g,g),f=l,0===f&&(f=24,-1!=n.indexOf("H")&&(o--,0===o&&(i=new Date(e),i.setDate(i.getDate()-1),a=i.getMonth(),o=i.getDate(),i=i.getFullYear()))),e=a+1,9>a&&(e="0"+e),g=o,10>o&&(g="0"+o);var A=f;return 10>A&&(A="0"+A),n=n.replace(/HH/g,A),n=n.replace(/H/g,f),f=l,11<f&&(f-=12),A=f,10>A&&(A="0"+A),n=n.replace(/KK/g,A),n=n.replace(/K/g,f),f=l,0===f&&(f=12),12<f&&(f-=12),A=f,10>A&&(A="0"+A),n=n.replace(/LL/g,A),n=n.replace(/L/g,f),f=u,10>f&&(f="0"+f),n=n.replace(/NN/g,f),n=n.replace(/N/g,u),u=c,10>u&&(u="0"+u),n=n.replace(/SS/g,u),n=n.replace(/S/g,c),c=h,10>c?c="00"+c:100>c&&(c="0"+c),u=h,10>u&&(u="00"+u),n=n.replace(/A/g,"@A@"),n=n.replace(/QQQ/g,c),n=n.replace(/QQ/g,u),n=n.replace(/Q/g,h),n=n.replace(/YYYY/g,"@IIII@"),n=n.replace(/YY/g,"@II@"),n=n.replace(/MMMM/g,"@XXXX@"),n=n.replace(/MMM/g,"@XXX@"),n=n.replace(/MM/g,"@XX@"),n=n.replace(/M/g,"@X@"),n=n.replace(/DD/g,"@RR@"),n=n.replace(/D/g,"@R@"),n=n.replace(/EEEE/g,"@PPPP@"),n=n.replace(/EEE/g,"@PPP@"),n=n.replace(/EE/g,"@PP@"),n=n.replace(/E/g,"@P@"),n=n.replace(/@IIII@/g,i),n=n.replace(/@II@/g,d),n=n.replace(/@XXXX@/g,r.monthNames[a]),n=n.replace(/@XXX@/g,r.shortMonthNames[a]),n=n.replace(/@XX@/g,e),n=n.replace(/@X@/g,a+1),n=n.replace(/@RR@/g,g),n=n.replace(/@R@/g,o),n=n.replace(/@PPPP@/g,r.dayNames[s]),n=n.replace(/@PPP@/g,r.shortDayNames[s]),n=n.replace(/@PP@/g,p),n=n.replace(/@P@/g,s),n=12>l?n.replace(/@A@/g,r.amString):n.replace(/@A@/g,r.pmString)},t.changeDate=function(e,n,r,i,a){if(t.useUTC)return t.changeUTCDate(e,n,r,i,a);var o=-1;switch(void 0===i&&(i=!0),void 0===a&&(a=!1),!0===i&&(o=1),n){case"YYYY":e.setFullYear(e.getFullYear()+r*o),i||a||e.setDate(e.getDate()+1);break;case"MM":n=e.getMonth(),e.setMonth(e.getMonth()+r*o),e.getMonth()>n+r*o&&e.setDate(e.getDate()-1),i||a||e.setDate(e.getDate()+1);break;case"DD":e.setDate(e.getDate()+r*o);break;case"WW":e.setDate(e.getDate()+r*o*7);break;case"hh":e.setHours(e.getHours()+r*o);break;case"mm":e.setMinutes(e.getMinutes()+r*o);break;case"ss":e.setSeconds(e.getSeconds()+r*o);break;case"fff":e.setMilliseconds(e.getMilliseconds()+r*o)}return e},t.changeUTCDate=function(t,e,n,r,i){var a=-1;switch(void 0===r&&(r=!0),void 0===i&&(i=!1),!0===r&&(a=1),e){case"YYYY":t.setUTCFullYear(t.getUTCFullYear()+n*a),r||i||t.setUTCDate(t.getUTCDate()+1);break;case"MM":e=t.getUTCMonth(),t.setUTCMonth(t.getUTCMonth()+n*a),t.getUTCMonth()>e+n*a&&t.setUTCDate(t.getUTCDate()-1),r||i||t.setUTCDate(t.getUTCDate()+1);break;case"DD":t.setUTCDate(t.getUTCDate()+n*a);break;case"WW":t.setUTCDate(t.getUTCDate()+n*a*7);break;case"hh":t.setUTCHours(t.getUTCHours()+n*a);break;case"mm":t.setUTCMinutes(t.getUTCMinutes()+n*a);break;case"ss":t.setUTCSeconds(t.getUTCSeconds()+n*a);break;case"fff":t.setUTCMilliseconds(t.getUTCMilliseconds()+n*a)}return t}}()},function(t,e){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(){var t=window.AmCharts;t.AmRectangularChart=t.Class({inherits:t.AmCoordinateChart,construct:function(e){t.AmRectangularChart.base.construct.call(this,e),this.theme=e,this.createEvents("zoomed","changed"),this.marginRight=this.marginBottom=this.marginTop=this.marginLeft=20,this.depth3D=this.angle=0,this.plotAreaFillColors="#FFFFFF",this.plotAreaFillAlphas=0,this.plotAreaBorderColor="#000000",this.plotAreaBorderAlpha=0,this.maxZoomFactor=20,this.zoomOutButtonImageSize=19,this.zoomOutButtonImage="lens",this.zoomOutText="Show all",this.zoomOutButtonColor="#e5e5e5",this.zoomOutButtonAlpha=0,this.zoomOutButtonRollOverAlpha=1,this.zoomOutButtonPadding=8,this.trendLines=[],this.autoMargins=!0,this.marginsUpdated=!1,this.autoMarginOffset=10,t.applyTheme(this,e,"AmRectangularChart")},initChart:function(){t.AmRectangularChart.base.initChart.call(this),this.updateDxy(),!this.marginsUpdated&&this.autoMargins&&(this.resetMargins(),this.drawGraphs=!1),this.processScrollbars(),this.updateMargins(),this.updatePlotArea(),this.updateScrollbars(),this.updateTrendLines(),this.updateChartCursor(),this.updateValueAxes(),this.scrollbarOnly||this.updateGraphs()},drawChart:function(){if(t.AmRectangularChart.base.drawChart.call(this),this.drawPlotArea(),t.ifArray(this.chartData)){var e=this.chartCursor;e&&e.draw()}},resetMargins:function(){var t,e={};if("xy"==this.type){var n=this.xAxes,r=this.yAxes;for(t=0;t<n.length;t++){var i=n[t];i.ignoreAxisWidth||(i.setOrientation(!0),i.fixAxisPosition(),e[i.position]=!0)}for(t=0;t<r.length;t++)n=r[t],n.ignoreAxisWidth||(n.setOrientation(!1),n.fixAxisPosition(),e[n.position]=!0)}else{for(r=this.valueAxes,t=0;t<r.length;t++)n=r[t],n.ignoreAxisWidth||(n.setOrientation(this.rotate),n.fixAxisPosition(),e[n.position]=!0);(t=this.categoryAxis)&&!t.ignoreAxisWidth&&(t.setOrientation(!this.rotate),t.fixAxisPosition(),t.fixAxisPosition(),e[t.position]=!0)}e.left&&(this.marginLeft=0),e.right&&(this.marginRight=0),e.top&&(this.marginTop=0),e.bottom&&(this.marginBottom=0),this.fixMargins=e},measureMargins:function(){var t,e=this.valueAxes,n=this.autoMarginOffset,r=this.fixMargins,i=this.realWidth,a=this.realHeight,o=n,s=n,l=i;t=a;var u;for(u=0;u<e.length;u++)e[u].handleSynchronization(),t=this.getAxisBounds(e[u],o,l,s,t),o=Math.round(t.l),l=Math.round(t.r),s=Math.round(t.t),t=Math.round(t.b);(e=this.categoryAxis)&&(t=this.getAxisBounds(e,o,l,s,t),o=Math.round(t.l),l=Math.round(t.r),s=Math.round(t.t),t=Math.round(t.b)),r.left&&o<n&&(this.marginLeft=Math.round(-o+n),!isNaN(this.minMarginLeft)&&this.marginLeft<this.minMarginLeft&&(this.marginLeft=this.minMarginLeft)),r.right&&l>=i-n&&(this.marginRight=Math.round(l-i+n),!isNaN(this.minMarginRight)&&this.marginRight<this.minMarginRight&&(this.marginRight=this.minMarginRight)),r.top&&s<n+this.titleHeight&&(this.marginTop=Math.round(this.marginTop-s+n+this.titleHeight),!isNaN(this.minMarginTop)&&this.marginTop<this.minMarginTop&&(this.marginTop=this.minMarginTop)),r.bottom&&t>a-n&&(this.marginBottom=Math.round(this.marginBottom+t-a+n),!isNaN(this.minMarginBottom)&&this.marginBottom<this.minMarginBottom&&(this.marginBottom=this.minMarginBottom)),this.initChart()},getAxisBounds:function(t,e,n,r,i){if(!t.ignoreAxisWidth){var a=t.labelsSet,o=t.tickLength;if(t.inside&&(o=0),a)switch(a=t.getBBox(),t.position){case"top":t=a.y,r>t&&(r=t);break;case"bottom":t=a.y+a.height,i<t&&(i=t);break;case"right":t=a.x+a.width+o+3,n<t&&(n=t);break;case"left":t=a.x-o,e>t&&(e=t)}}return{l:e,t:r,r:n,b:i}},drawZoomOutButton:function(){var e=this;if(!e.zbSet){var n=e.container.set();e.zoomButtonSet.push(n);var r=e.color,i=e.fontSize,a=e.zoomOutButtonImageSize,o=e.zoomOutButtonImage.replace(/\.[a-z]*$/i,""),s=e.langObj.zoomOutText||e.zoomOutText,l=e.zoomOutButtonColor,u=e.zoomOutButtonAlpha,c=e.zoomOutButtonFontSize,h=e.zoomOutButtonPadding;isNaN(c)||(i=c),(c=e.zoomOutButtonFontColor)&&(r=c);var g,c=e.zoomOutButton;c&&(c.fontSize&&(i=c.fontSize),c.color&&(r=c.color),c.backgroundColor&&(l=c.backgroundColor),isNaN(c.backgroundAlpha)||(e.zoomOutButtonRollOverAlpha=c.backgroundAlpha));var d=c=0,d=e.pathToImages;for(o&&((t.isAbsolute(o)||void 0===d)&&(d=""),
g=e.container.image(d+o+e.extension,0,0,a,a),t.setCN(e,g,"zoom-out-image"),n.push(g),g=g.getBBox(),c=g.width+5),void 0!==s&&(r=t.text(e.container,s,r,e.fontFamily,i,"start"),t.setCN(e,r,"zoom-out-label"),i=r.getBBox(),d=g?g.height/2-3:i.height/2,r.translate(c,d),n.push(r)),g=n.getBBox(),r=1,t.isModern||(r=0),l=t.rect(e.container,g.width+2*h+5,g.height+2*h-2,l,1,1,l,r),l.setAttr("opacity",u),l.translate(-h,-h),t.setCN(e,l,"zoom-out-bg"),n.push(l),l.toBack(),e.zbBG=l,g=l.getBBox(),n.translate(e.marginLeftReal+e.plotAreaWidth-g.width+h,e.marginTopReal+h),n.hide(),n.mouseover(function(){e.rollOverZB()}).mouseout(function(){e.rollOutZB()}).click(function(){e.clickZB()}).touchstart(function(){e.rollOverZB()}).touchend(function(){e.rollOutZB(),e.clickZB()}),u=0;u<n.length;u++)n[u].attr({cursor:"pointer"});void 0!==e.zoomOutButtonTabIndex&&(n.setAttr("tabindex",e.zoomOutButtonTabIndex),n.setAttr("role","menuitem"),n.keyup(function(t){13==t.keyCode&&e.clickZB()})),e.zbSet=n}},rollOverZB:function(){this.rolledOverZB=!0,this.zbBG.setAttr("opacity",this.zoomOutButtonRollOverAlpha)},rollOutZB:function(){this.rolledOverZB=!1,this.zbBG.setAttr("opacity",this.zoomOutButtonAlpha)},clickZB:function(){this.rolledOverZB=!1,this.zoomOut()},zoomOut:function(){this.zoomOutValueAxes()},drawPlotArea:function(){var e=this.dx,r=this.dy,i=this.marginLeftReal,a=this.marginTopReal,o=this.plotAreaWidth-1,s=this.plotAreaHeight-1,l=this.plotAreaFillColors,u=this.plotAreaFillAlphas,c=this.plotAreaBorderColor,h=this.plotAreaBorderAlpha;"object"==("undefined"==typeof u?"undefined":n(u))&&(u=u[0]),l=t.polygon(this.container,[0,o,o,0,0],[0,0,s,s,0],l,u,1,c,h,this.plotAreaGradientAngle),t.setCN(this,l,"plot-area"),l.translate(i+e,a+r),this.set.push(l),0!==e&&0!==r&&(l=this.plotAreaFillColors,"object"==("undefined"==typeof l?"undefined":n(l))&&(l=l[0]),l=t.adjustLuminosity(l,-.15),o=t.polygon(this.container,[0,e,o+e,o,0],[0,r,r,0,0],l,u,1,c,h),t.setCN(this,o,"plot-area-bottom"),o.translate(i,a+s),this.set.push(o),e=t.polygon(this.container,[0,0,e,e,0],[0,s,s+r,r,0],l,u,1,c,h),t.setCN(this,e,"plot-area-left"),e.translate(i,a),this.set.push(e)),(i=this.bbset)&&this.scrollbarOnly&&i.remove()},updatePlotArea:function(){var t=this.updateWidth(),e=this.updateHeight(),n=this.container;this.realWidth=t,this.realWidth=e,n&&this.container.setSize(t,e);var n=this.marginLeftReal,r=this.marginTopReal,t=t-n-this.marginRightReal-this.dx,e=e-r-this.marginBottomReal;1>t&&(t=1),1>e&&(e=1),this.plotAreaWidth=Math.round(t),this.plotAreaHeight=Math.round(e),this.plotBalloonsSet.translate(n,r)},updateDxy:function(){this.dx=Math.round(this.depth3D*Math.cos(this.angle*Math.PI/180)),this.dy=Math.round(-this.depth3D*Math.sin(this.angle*Math.PI/180)),this.d3x=Math.round(this.columnSpacing3D*Math.cos(this.angle*Math.PI/180)),this.d3y=Math.round(-this.columnSpacing3D*Math.sin(this.angle*Math.PI/180))},updateMargins:function(){var t=this.getTitleHeight();this.titleHeight=t,this.marginTopReal=this.marginTop-this.dy,this.fixMargins&&!this.fixMargins.top&&(this.marginTopReal+=t),this.marginBottomReal=this.marginBottom,this.marginLeftReal=this.marginLeft,this.marginRightReal=this.marginRight},updateValueAxes:function(){var t,e=this.valueAxes;for(t=0;t<e.length;t++){var n=e[t];this.setAxisRenderers(n),this.updateObjectSize(n)}},setAxisRenderers:function(e){e.axisRenderer=t.RecAxis,e.guideFillRenderer=t.RecFill,e.axisItemRenderer=t.RecItem,e.marginsChanged=!0},updateGraphs:function(){var t,e=this.graphs;for(t=0;t<e.length;t++){var n=e[t];n.index=t,n.rotate=this.rotate,this.updateObjectSize(n)}},updateObjectSize:function(t){t.width=this.plotAreaWidth-1,t.height=this.plotAreaHeight-1,t.x=this.marginLeftReal,t.y=this.marginTopReal,t.dx=this.dx,t.dy=this.dy},updateChartCursor:function(){var e=this.chartCursor;e&&(e=t.processObject(e,t.ChartCursor,this.theme),this.updateObjectSize(e),this.addChartCursor(e),e.chart=this)},processScrollbars:function(){var e=this.chartScrollbar;e&&(e=t.processObject(e,t.ChartScrollbar,this.theme),this.addChartScrollbar(e))},updateScrollbars:function(){},removeChartCursor:function(){t.callMethod("destroy",[this.chartCursor]),this.chartCursor=null},zoomTrendLines:function(){var t,e=this.trendLines;for(t=0;t<e.length;t++){var n=e[t];n.valueAxis.recalculateToPercents?n.set&&n.set.hide():(n.x=this.marginLeftReal,n.y=this.marginTopReal,n.draw())}},handleCursorValueZoom:function(){},addTrendLine:function(t){this.trendLines.push(t)},zoomOutValueAxes:function(){for(var t=this.valueAxes,e=0;e<t.length;e++)t[e].zoomOut()},removeTrendLine:function(t){var e,n=this.trendLines;for(e=n.length-1;0<=e;e--)n[e]==t&&n.splice(e,1)},adjustMargins:function(t,e){var n=t.position,r=t.scrollbarHeight+t.offset;t.enabled&&("top"==n?e?this.marginLeftReal+=r:this.marginTopReal+=r:e?this.marginRightReal+=r:this.marginBottomReal+=r)},getScrollbarPosition:function(t,e,n){var r="bottom",i="top";t.oppositeAxis||(i=r,r="top"),t.position=e?"bottom"==n||"left"==n?r:i:"top"==n||"right"==n?r:i},updateChartScrollbar:function(t,e){if(t){t.rotate=e;var n=this.marginTopReal,r=this.marginLeftReal,i=t.scrollbarHeight,a=this.dx,o=this.dy,s=t.offset;"top"==t.position?e?(t.y=n,t.x=r-i-s):(t.y=n-i+o-s,t.x=r+a):e?(t.y=n+o,t.x=r+this.plotAreaWidth+a+s):(t.y=n+this.plotAreaHeight+s,t.x=this.marginLeftReal)}},showZB:function(t){var e=this.zbSet;t&&(e=this.zoomOutText,""!==e&&e&&this.drawZoomOutButton()),(e=this.zbSet)&&(this.zoomButtonSet.push(e),t?e.show():e.hide(),this.rollOutZB())},handleReleaseOutside:function(e){t.AmRectangularChart.base.handleReleaseOutside.call(this,e),(e=this.chartCursor)&&e.handleReleaseOutside&&e.handleReleaseOutside()},handleMouseDown:function(e){t.AmRectangularChart.base.handleMouseDown.call(this,e);var n=this.chartCursor;n&&n.handleMouseDown&&!this.rolledOverZB&&n.handleMouseDown(e)},update:function(){t.AmRectangularChart.base.update.call(this),this.chartCursor&&this.chartCursor.update&&this.chartCursor.update()},handleScrollbarValueZoom:function(t){this.relativeZoomValueAxes(t.target.valueAxes,t.relativeStart,t.relativeEnd),this.zoomAxesAndGraphs()},zoomValueScrollbar:function(t){if(t&&t.enabled){var e=t.valueAxes[0],n=e.relativeStart,r=e.relativeEnd;e.reversed&&(r=1-n,n=1-e.relativeEnd),t.percentZoom(n,r)}},zoomAxesAndGraphs:function(){if(!this.scrollbarOnly){var t,e=this.valueAxes;for(t=0;t<e.length;t++)e[t].zoom(this.start,this.end);for(e=this.graphs,t=0;t<e.length;t++)e[t].zoom(this.start,this.end);(t=this.chartCursor)&&t.clearSelection(),this.zoomTrendLines()}},handleValueAxisZoomReal:function(t,e){var n=t.relativeStart,r=t.relativeEnd;if(n>r)var i=n,n=r,r=i;this.relativeZoomValueAxes(e,n,r),this.updateAfterValueZoom()},updateAfterValueZoom:function(){this.zoomAxesAndGraphs(),this.zoomScrollbar()},relativeZoomValueAxes:function(e,n,r){if(n=t.fitToBounds(n,0,1),r=t.fitToBounds(r,0,1),n>r){var i=n;n=r,r=i}var i=1/this.maxZoomFactor,a=t.getDecimals(i)+4;if(r-n<i&&(r=n+(r-n)/2,n=r-i/2,r+=i/2),n=t.roundTo(n,a),r=t.roundTo(r,a),i=!1,e){for(a=0;a<e.length;a++){var o=e[a].zoomToRelativeValues(n,r,!0);o&&(i=o)}this.showZB()}return i},addChartCursor:function(e){t.callMethod("destroy",[this.chartCursor]),e&&(this.listenTo(e,"moved",this.handleCursorMove),this.listenTo(e,"zoomed",this.handleCursorZoom),this.listenTo(e,"zoomStarted",this.handleCursorZoomStarted),this.listenTo(e,"panning",this.handleCursorPanning),this.listenTo(e,"onHideCursor",this.handleCursorHide)),this.chartCursor=e},handleCursorChange:function(){},handleCursorMove:function(t){var e,n=this.valueAxes;for(e=0;e<n.length;e++)if(!t.panning){var r=n[e];r&&r.showBalloon&&r.showBalloon(t.x,t.y)}},handleCursorZoom:function(t){if(this.skipZoomed)this.skipZoomed=!1;else{var e=this.startX0,n=this.endX0,r=this.endY0,i=this.startY0,a=t.startX,o=t.endX,s=t.startY,l=t.endY;this.startX0=this.endX0=this.startY0=this.endY0=NaN,this.handleCursorZoomReal(e+a*(n-e),e+o*(n-e),i+s*(r-i),i+l*(r-i),t)}},handleCursorHide:function(){var t,e=this.valueAxes;for(t=0;t<e.length;t++)e[t].hideBalloon();for(e=this.graphs,t=0;t<e.length;t++)e[t].hideBalloonReal()}})}(),function(){var t=window.AmCharts;t.AmSerialChart=t.Class({inherits:t.AmRectangularChart,construct:function(e){this.type="serial",t.AmSerialChart.base.construct.call(this,e),this.cname="AmSerialChart",this.theme=e,this.columnSpacing=5,this.columnSpacing3D=0,this.columnWidth=.8;var n=new t.CategoryAxis(e);n.chart=this,this.categoryAxis=n,this.zoomOutOnDataUpdate=!0,this.mouseWheelZoomEnabled=this.mouseWheelScrollEnabled=this.rotate=this.skipZoom=!1,this.minSelectedTime=0,t.applyTheme(this,e,this.cname)},initChart:function(){t.AmSerialChart.base.initChart.call(this),this.updateCategoryAxis(this.categoryAxis,this.rotate,"categoryAxis"),this.dataChanged?this.parseData():this.onDataUpdated(),this.drawGraphs=!0},onDataUpdated:function(){var t,e=this.countColumns(),n=this.chartData,r=this.graphs;for(t=0;t<r.length;t++){var i=r[t];i.data=n,i.columnCount=e}0<n.length&&(this.firstTime=this.getStartTime(n[0].time),this.lastTime=this.getEndTime(n[n.length-1].time)),this.drawChart(),this.autoMargins&&!this.marginsUpdated?(this.marginsUpdated=!0,this.measureMargins()):this.dispDUpd()},syncGrid:function(){if(this.synchronizeGrid){var e,n,r=this.valueAxes;if(0<r.length){var i=0;for(n=0;n<r.length;n++)e=r[n],i<e.gridCountReal&&(i=e.gridCountReal);var a=!1;for(n=0;n<r.length;n++)if(e=r[n],e.gridCountReal<i){var o=(i-e.gridCountReal)/2,s=a=o;0!==o-Math.round(o)&&(a-=.5,s+=.5),0<=e.min&&0>e.min-a*e.step&&(s+=a,a=0),0>=e.max&&0<e.max+s*e.step&&(a+=s,s=0),o=t.getDecimals(e.step),e.minimum=t.roundTo(e.min-a*e.step,o),e.maximum=t.roundTo(e.max+s*e.step,o),e.setStep=e.step,a=e.strictMinMax=!0}for(a&&this.updateAfterValueZoom(),n=0;n<r.length;n++)e=r[n],e.minimum=NaN,e.maximum=NaN,e.setStep=NaN,e.strictMinMax=!1}}},handleWheelReal:function(t,e){if(!this.wheelBusy){var n=this.categoryAxis,r=n.parseDates,i=n.minDuration(),a=1,o=1;this.mouseWheelZoomEnabled?e||(a=-1):e&&(a=-1);var s=this.chartCursor;if(s){var l=s.mouseX,s=s.mouseY;a!=o&&(l=this.rotate?s/this.plotAreaHeight:l/this.plotAreaWidth,a*=l,o*=1-l),l=.05*(this.end-this.start),r&&(l=.05*(this.endTime-this.startTime)/i),1>l&&(l=1),a*=l,o*=l,r&&!n.equalSpacing||(a=Math.round(a),o=Math.round(o))}s=this.chartData.length,n=this.lastTime,l=this.firstTime,0>t?r?(s=this.endTime-this.startTime,r=this.startTime+a*i,i=this.endTime+o*i,0<o&&0<a&&i>=n&&(i=n,r=n-s),this.zoomToDates(new Date(r),new Date(i))):(0<o&&0<a&&this.end>=s-1&&(a=o=0),r=this.start+a,i=this.end+o,this.zoomToIndexes(r,i)):r?(s=this.endTime-this.startTime,r=this.startTime-a*i,i=this.endTime-o*i,0<o&&0<a&&r<=l&&(r=l,i=l+s),this.zoomToDates(new Date(r),new Date(i))):(0<o&&0<a&&1>this.start&&(a=o=0),r=this.start-a,i=this.end-o,this.zoomToIndexes(r,i))}},validateData:function(e){this.marginsUpdated=!1,this.zoomOutOnDataUpdate&&!e&&(this.endTime=this.end=this.startTime=this.start=NaN),t.AmSerialChart.base.validateData.call(this)},drawChart:function(){if(0<this.realWidth&&0<this.realHeight){t.AmSerialChart.base.drawChart.call(this);var e=this.chartData;if(t.ifArray(e)){var n=this.chartScrollbar;!n||!this.marginsUpdated&&this.autoMargins||n.draw(),(n=this.valueScrollbar)&&n.draw();var r,i,n=e.length-1;r=this.categoryAxis,r.parseDates&&!r.equalSpacing?(r=this.startTime,i=this.endTime,(isNaN(r)||isNaN(i))&&(r=this.firstTime,i=this.lastTime)):(r=this.start,i=this.end,(isNaN(r)||isNaN(i))&&(i=r=NaN),isNaN(r)&&(isNaN(this.startTime)||(r=this.getClosestIndex(e,"time",this.startTime,!0,0,e.length))),isNaN(i)&&(isNaN(this.endTime)||(i=this.getClosestIndex(e,"time",this.endTime,!1,0,e.length))),(isNaN(r)||isNaN(i))&&(r=0,i=n)),this.endTime=this.startTime=this.end=this.start=void 0,this.zoom(r,i)}}else this.cleanChart()},cleanChart:function(){t.callMethod("destroy",[this.valueAxes,this.graphs,this.categoryAxis,this.chartScrollbar,this.chartCursor,this.valueScrollbar])},updateCategoryAxis:function(t,e,n){t.chart=this,t.id=n,t.rotate=e,t.setOrientation(!this.rotate),t.init(),this.setAxisRenderers(t),this.updateObjectSize(t)},updateValueAxes:function(){t.AmSerialChart.base.updateValueAxes.call(this);var e,n=this.valueAxes;for(e=0;e<n.length;e++){var r=n[e],i=this.rotate;r.rotate=i,r.setOrientation(i),i=this.categoryAxis,i.startOnAxis&&!i.parseDates||(r.expandMinMax=!0)}},getStartTime:function(e){var n=this.categoryAxis;return t.resetDateToMin(new Date(e),n.minPeriod,1,n.firstDayOfWeek).getTime()},getEndTime:function(e){var n=t.extractPeriod(this.categoryAxis.minPeriod);return t.changeDate(new Date(e),n.period,n.count,!0).getTime()-1},updateMargins:function(){t.AmSerialChart.base.updateMargins.call(this);var e=this.chartScrollbar;e&&(this.getScrollbarPosition(e,this.rotate,this.categoryAxis.position),this.adjustMargins(e,this.rotate)),(e=this.valueScrollbar)&&(this.getScrollbarPosition(e,!this.rotate,this.valueAxes[0].position),this.adjustMargins(e,!this.rotate))},updateScrollbars:function(){t.AmSerialChart.base.updateScrollbars.call(this),this.updateChartScrollbar(this.chartScrollbar,this.rotate),this.updateChartScrollbar(this.valueScrollbar,!this.rotate)},zoom:function(t,e){var n=this.categoryAxis;n.parseDates&&!n.equalSpacing?this.timeZoom(t,e):this.indexZoom(t,e),isNaN(t)&&this.zoomOutValueAxes(),(n=this.chartCursor)&&(n.pan||n.hideCursorReal()),this.updateLegendValues()},timeZoom:function(e,n){var r=this.maxSelectedTime;isNaN(r)||(n!=this.endTime&&n-e>r&&(e=n-r),e!=this.startTime&&n-e>r&&(n=e+r));var i=this.minSelectedTime;if(0<i&&n-e<i){var a=Math.round(e+(n-e)/2),i=Math.round(i/2);e=a-i,n=a+i}if(i=this.chartData,a=this.categoryAxis,t.ifArray(i)&&(e!=this.startTime||n!=this.endTime)){var o=a.minDuration(),s=this.firstTime,l=this.lastTime;e||(e=s,isNaN(r)||(e=l-r)),n||(n=l),e>l&&(e=l),n<s&&(n=s),e<s&&(e=s),n>l&&(n=l),n<e&&(n=e+o),n-e<o/5&&(n<l?n=e+o/5:e=n-o/5),this.startTime=e,this.endTime=n,r=i.length-1,o=this.getClosestIndex(i,"time",e,!0,0,r),i=this.getClosestIndex(i,"time",n,!1,o,r),a.timeZoom(e,n),a.zoom(o,i),this.start=t.fitToBounds(o,0,r),this.end=t.fitToBounds(i,0,r),this.zoomAxesAndGraphs(),this.zoomScrollbar(),this.fixCursor(),this.showZB(),this.syncGrid(),this.updateColumnsDepth(),this.dispatchTimeZoomEvent()}},showZB:function(){var e,n=this.categoryAxis;n&&n.parseDates&&!n.equalSpacing&&(this.startTime>this.firstTime&&(e=!0),this.endTime<this.lastTime&&(e=!0)),0<this.start&&(e=!0),this.end<this.chartData.length-1&&(e=!0),(n=this.valueAxes)&&(n=n[0],isNaN(n.relativeStart)||(0!==t.roundTo(n.relativeStart,3)&&(e=!0),1!=t.roundTo(n.relativeEnd,3)&&(e=!0))),t.AmSerialChart.base.showZB.call(this,e)},updateAfterValueZoom:function(){t.AmSerialChart.base.updateAfterValueZoom.call(this),this.updateColumnsDepth()},indexZoom:function(t,e){var n=this.maxSelectedSeries,r=!1;if(isNaN(n)||(e!=this.end&&e-t>n&&(t=e-n,r=!0),t!=this.start&&e-t>n&&(e=t+n,r=!0)),r&&(r=this.chartScrollbar)&&r.dragger){var i=r.dragger.getBBox();r.maxWidth=i.width,r.maxHeight=i.height}t==this.start&&e==this.end||(r=this.chartData.length-1,isNaN(t)&&(t=0,isNaN(n)||(t=r-n)),isNaN(e)&&(e=r),e<t&&(e=t),e>r&&(e=r),t>r&&(t=r-1),0>t&&(t=0),this.start=t,this.end=e,this.categoryAxis.zoom(t,e),this.zoomAxesAndGraphs(),this.zoomScrollbar(),this.fixCursor(),0!==t||e!=this.chartData.length-1?this.showZB(!0):this.showZB(!1),this.syncGrid(),this.updateColumnsDepth(),this.dispatchIndexZoomEvent())},updateGraphs:function(){t.AmSerialChart.base.updateGraphs.call(this);var e,n=this.graphs;for(e=0;e<n.length;e++){var r=n[e];r.columnWidthReal=this.columnWidth,r.categoryAxis=this.categoryAxis,t.isString(r.fillToGraph)&&(r.fillToGraph=this.graphsById[r.fillToGraph])}},zoomAxesAndGraphs:function(){t.AmSerialChart.base.zoomAxesAndGraphs.call(this),this.updateColumnsDepth()},updateColumnsDepth:function(){if(0!==this.depth3D||0!==this.angle){var e,n,r=this.graphs;for(this.columnsArray=[],e=0;e<r.length;e++){n=r[e];var i=n.columnsArray;if(i){var a;for(a=0;a<i.length;a++)this.columnsArray.push(i[a])}}if(this.columnsArray.sort(this.compareDepth),0<this.columnsArray.length){for(r=this.columnsSet,i=this.container.set(),this.columnSet.push(i),e=0;e<this.columnsArray.length;e++)i.push(this.columnsArray[e].column.set);n&&i.translate(n.x,n.y),this.columnsSet=i,t.remove(r)}}},compareDepth:function(t,e){return t.depth>e.depth?1:-1},zoomScrollbar:function(){var t=this.chartScrollbar,e=this.categoryAxis;if(t){if(!this.zoomedByScrollbar){var n=t.dragger;n&&n.stop()}this.zoomedByScrollbar=!1,e.parseDates&&!e.equalSpacing?t.timeZoom(this.startTime,this.endTime):t.zoom(this.start,this.end)}this.zoomValueScrollbar(this.valueScrollbar)},updateTrendLines:function(){var e,n=this.trendLines;for(e=0;e<n.length;e++){var r=n[e],r=t.processObject(r,t.TrendLine,this.theme);n[e]=r,r.chart=this,r.id||(r.id="trendLineAuto"+e+"_"+(new Date).getTime()),t.isString(r.valueAxis)&&(r.valueAxis=this.getValueAxisById(r.valueAxis)),r.valueAxis||(r.valueAxis=this.valueAxes[0]),r.categoryAxis=this.categoryAxis}},countColumns:function(){var t,e,n,r,i=0,a=this.valueAxes.length,o=this.graphs.length,s=!1;for(r=0;r<a;r++){e=this.valueAxes[r];var l=e.stackType,u=0;if("100%"==l||"regular"==l)for(s=!1,n=0;n<o;n++)t=this.graphs[n],t.tcc=1,t.valueAxis==e&&"column"==t.type&&(!s&&t.stackable&&(i++,s=!0),(!t.stackable&&t.clustered||t.newStack&&0!==u)&&i++,t.columnIndex=i-1,t.clustered||(t.columnIndex=0),u++);if("none"==l||"3d"==l){for(s=!1,n=0;n<o;n++)t=this.graphs[n],t.valueAxis==e&&"column"==t.type&&(t.clustered?(t.tcc=1,t.newStack&&(i=0),t.hidden||(t.columnIndex=i,i++)):t.hidden||(s=!0,t.tcc=1,t.columnIndex=0));s&&0===i&&(i=1)}if("3d"==l){for(e=1,r=0;r<o;r++)t=this.graphs[r],t.newStack&&e++,t.depthCount=e,t.tcc=i;i=e}}return i},parseData:function(){t.AmSerialChart.base.parseData.call(this),this.parseSerialData(this.dataProvider)},getCategoryIndexByValue:function(t){var e,n=this.chartData;for(e=0;e<n.length;e++)if(n[e].category==t)return e},handleScrollbarZoom:function(t){this.zoomedByScrollbar=!0,this.zoom(t.start,t.end)},dispatchTimeZoomEvent:function(){if(this.drawGraphs&&(this.prevStartTime!=this.startTime||this.prevEndTime!=this.endTime)){var e={type:"zoomed"};e.startDate=new Date(this.startTime),e.endDate=new Date(this.endTime),e.startIndex=this.start,e.endIndex=this.end,this.startIndex=this.start,this.endIndex=this.end,this.startDate=e.startDate,this.endDate=e.endDate,this.prevStartTime=this.startTime,this.prevEndTime=this.endTime;var n=this.categoryAxis,r=t.extractPeriod(n.minPeriod).period,n=n.dateFormatsObject[r];e.startValue=t.formatDate(e.startDate,n,this),e.endValue=t.formatDate(e.endDate,n,this),e.chart=this,e.target=this,this.fire(e)}},dispatchIndexZoomEvent:function(){if(this.drawGraphs&&(this.prevStartIndex!=this.start||this.prevEndIndex!=this.end)){this.startIndex=this.start,this.endIndex=this.end;var e=this.chartData;if(t.ifArray(e)&&!isNaN(this.start)&&!isNaN(this.end)){var n={chart:this,target:this,type:"zoomed"};n.startIndex=this.start,n.endIndex=this.end,n.startValue=e[this.start].category,n.endValue=e[this.end].category,this.categoryAxis.parseDates&&(this.startTime=e[this.start].time,this.endTime=e[this.end].time,n.startDate=new Date(this.startTime),n.endDate=new Date(this.endTime)),this.prevStartIndex=this.start,this.prevEndIndex=this.end,this.fire(n)}}},updateLegendValues:function(){this.legend&&this.legend.updateValues()},getClosestIndex:function(t,e,n,r,i,a){0>i&&(i=0),a>t.length-1&&(a=t.length-1);var o=i+Math.round((a-i)/2),s=t[o][e];return n==s?o:1>=a-i?r?i:Math.abs(t[i][e]-n)<Math.abs(t[a][e]-n)?i:a:n==s?o:n<s?this.getClosestIndex(t,e,n,r,i,o):this.getClosestIndex(t,e,n,r,o,a)},zoomToIndexes:function(t,e){var n=this.chartData;if(n){var r=n.length;0<r&&(0>t&&(t=0),e>r-1&&(e=r-1),r=this.categoryAxis,r.parseDates&&!r.equalSpacing?this.zoom(n[t].time,this.getEndTime(n[e].time)):this.zoom(t,e))}},zoomToDates:function(e,n){var r=this.chartData;if(r)if(this.categoryAxis.equalSpacing){var i=this.getClosestIndex(r,"time",e.getTime(),!0,0,r.length);n=t.resetDateToMin(n,this.categoryAxis.minPeriod,1),r=this.getClosestIndex(r,"time",n.getTime(),!1,0,r.length),this.zoom(i,r)}else this.zoom(e.getTime(),n.getTime())},zoomToCategoryValues:function(t,e){this.chartData&&this.zoom(this.getCategoryIndexByValue(t),this.getCategoryIndexByValue(e))},formatPeriodString:function(e,n){if(n){n.periodDataItem={},n.periodPercentDataItem={};var r=["value","open","low","high","close"],i="value open low high close average sum count".split(" "),a=n.valueAxis,o=this.chartData,s=n.numberFormatter;s||(s=this.nf);for(var l=0;l<r.length;l++){for(var u,c,h,g,d,p,f,A,C,I,m=r[l],v=0,y=0,b=0,x=0,w=this.start;w<=this.end;w++){var S=o[w];if(S){var T=S.axes[a.id].graphs[n.id];if(T){if(T.values){var N=T.values[m],S=S.x.categoryAxis;this.rotate?(0>S||S>T.graph.height)&&(N=NaN):(0>S||S>T.graph.width)&&(N=NaN),isNaN(N)||(isNaN(u)&&(u=N),c=N,(isNaN(h)||h>N)&&(h=N),(isNaN(g)||g<N)&&(g=N),d=t.getDecimals(v),S=t.getDecimals(N),v+=N,v=t.roundTo(v,Math.max(d,S)),y++,d=v/y)}T.percents&&(T=T.percents[m],!isNaN(T))&&(isNaN(p)&&(p=T),f=T,(isNaN(A)||A>T)&&(A=T),(isNaN(C)||C<T)&&(C=T),I=t.getDecimals(b),N=t.getDecimals(T),b+=T,b=t.roundTo(b,Math.max(I,N)),x++,I=b/x)}}}v={open:u,close:c,high:g,low:h,average:d,sum:v,count:y},b={open:p,close:f,high:C,low:A,average:I,sum:b,count:x},e=t.formatValue(e,v,i,s,m+"\\.",this.usePrefixes,this.prefixesOfSmallNumbers,this.prefixesOfBigNumbers),e=t.formatValue(e,b,i,this.pf,"percents\\."+m+"\\."),n.periodDataItem[m]=v,n.periodPercentDataItem[m]=b}}return e=t.cleanFromEmpty(e)},formatString:function(e,n,r){if(n){var i=n.graph;if(void 0!==e){if(-1!=e.indexOf("[[category]]")){var a=n.serialDataItem.category;if(this.categoryAxis.parseDates){var o=this.balloonDateFormat,s=this.chartCursor;s&&s.categoryBalloonDateFormat&&(o=s.categoryBalloonDateFormat),o=t.formatDate(a,o,this),-1!=o.indexOf("fff")&&(o=t.formatMilliseconds(o,a)),a=o}e=e.replace(/\[\[category\]\]/g,String(a.replace("$","$$$")))}a=i.numberFormatter,a||(a=this.nf),o=n.graph.valueAxis,(s=o.duration)&&!isNaN(n.values.value)&&(s=t.formatDuration(n.values.value,s,"",o.durationUnits,o.maxInterval,a),e=e.replace(RegExp("\\[\\[value\\]\\]","g"),s)),"date"==o.type&&(o=t.formatDate(new Date(n.values.value),i.dateFormat,this),s=RegExp("\\[\\[value\\]\\]","g"),e=e.replace(s,o),o=t.formatDate(new Date(n.values.open),i.dateFormat,this),s=RegExp("\\[\\[open\\]\\]","g"),e=e.replace(s,o)),i="value open low high close total".split(" "),o=this.pf,e=t.formatValue(e,n.percents,i,o,"percents\\."),e=t.formatValue(e,n.values,i,a,"",this.usePrefixes,this.prefixesOfSmallNumbers,this.prefixesOfBigNumbers),e=t.formatValue(e,n.values,["percents"],o),-1!=e.indexOf("[[")&&(e=t.formatDataContextValue(e,n.dataContext)),-1!=e.indexOf("[[")&&n.graph.customData&&(e=t.formatDataContextValue(e,n.graph.customData)),e=t.AmSerialChart.base.formatString.call(this,e,n,r)}return e}},updateChartCursor:function(){t.AmSerialChart.base.updateChartCursor.call(this);var e=this.chartCursor,n=this.categoryAxis;if(e){var r=e.categoryBalloonAlpha,i=e.categoryBalloonColor,a=e.color;void 0===i&&(i=e.cursorColor);var o=e.valueZoomable,s=e.zoomable,l=e.valueLineEnabled;if(this.rotate?(e.vLineEnabled=l,e.hZoomEnabled=o,e.vZoomEnabled=s):(e.hLineEnabled=l,e.vZoomEnabled=o,e.hZoomEnabled=s),e.valueLineBalloonEnabled)for(l=0;l<this.valueAxes.length;l++)o=this.valueAxes[l],(s=o.balloon)||(s={}),s=t.extend(s,this.balloon,!0),s.fillColor=i,s.balloonColor=i,s.fillAlpha=r,s.borderColor=i,s.color=a,o.balloon=s;else for(s=0;s<this.valueAxes.length;s++)o=this.valueAxes[s],o.balloon&&(o.balloon=null);n&&(n.balloonTextFunction=e.categoryBalloonFunction,e.categoryLineAxis=n,n.balloonText=e.categoryBalloonText,e.categoryBalloonEnabled&&((s=n.balloon)||(s={}),s=t.extend(s,this.balloon,!0),s.fillColor=i,s.balloonColor=i,s.fillAlpha=r,s.borderColor=i,s.color=a,n.balloon=s),n.balloon&&(n.balloon.enabled=e.categoryBalloonEnabled))}},addChartScrollbar:function(e){t.callMethod("destroy",[this.chartScrollbar]),e&&(e.chart=this,this.listenTo(e,"zoomed",this.handleScrollbarZoom)),this.rotate?void 0===e.width&&(e.width=e.scrollbarHeight):void 0===e.height&&(e.height=e.scrollbarHeight),e.gridAxis=this.categoryAxis,this.chartScrollbar=e},addValueScrollbar:function(e){t.callMethod("destroy",[this.valueScrollbar]),e&&(e.chart=this,this.listenTo(e,"zoomed",this.handleScrollbarValueZoom),this.listenTo(e,"zoomStarted",this.handleCursorZoomStarted));var n=e.scrollbarHeight;this.rotate?void 0===e.height&&(e.height=n):void 0===e.width&&(e.width=n),e.gridAxis||(e.gridAxis=this.valueAxes[0]),e.valueAxes=this.valueAxes,this.valueScrollbar=e},removeChartScrollbar:function(){t.callMethod("destroy",[this.chartScrollbar]),this.chartScrollbar=null},removeValueScrollbar:function(){t.callMethod("destroy",[this.valueScrollbar]),this.valueScrollbar=null},handleReleaseOutside:function(e){t.AmSerialChart.base.handleReleaseOutside.call(this,e),t.callMethod("handleReleaseOutside",[this.chartScrollbar,this.valueScrollbar])},update:function(){t.AmSerialChart.base.update.call(this),this.chartScrollbar&&this.chartScrollbar.update&&this.chartScrollbar.update(),this.valueScrollbar&&this.valueScrollbar.update&&this.valueScrollbar.update()},processScrollbars:function(){t.AmSerialChart.base.processScrollbars.call(this);var e=this.valueScrollbar;e&&(e=t.processObject(e,t.ChartScrollbar,this.theme),e.id="valueScrollbar",this.addValueScrollbar(e))},handleValueAxisZoom:function(t){this.handleValueAxisZoomReal(t,this.valueAxes)},zoomOut:function(){t.AmSerialChart.base.zoomOut.call(this),this.zoom(),this.syncGrid()},getNextItem:function(t){var e=t.index,n=this.chartData,r=t.graph;if(e+1<n.length)for(e+=1;e<n.length;e++)if((t=n[e])&&(t=t.axes[r.valueAxis.id].graphs[r.id],!isNaN(t.y)))return t},handleCursorZoomReal:function(t,e,n,r,i){var a,o,s=i.target;this.rotate?(isNaN(t)||isNaN(e)||this.relativeZoomValueAxes(this.valueAxes,t,e)&&this.updateAfterValueZoom(),s.vZoomEnabled&&(a=i.start,o=i.end)):(isNaN(n)||isNaN(r)||this.relativeZoomValueAxes(this.valueAxes,n,r)&&this.updateAfterValueZoom(),s.hZoomEnabled&&(a=i.start,o=i.end)),isNaN(a)||isNaN(o)||(t=this.categoryAxis,t.parseDates&&!t.equalSpacing?this.zoomToDates(new Date(a),new Date(o)):this.zoomToIndexes(a,o))},handleCursorZoomStarted:function(){var t=this.valueAxes;if(t){var t=t[0],e=t.relativeStart,n=t.relativeEnd;t.reversed&&(e=1-t.relativeEnd,n=1-t.relativeStart),this.rotate?(this.startX0=e,this.endX0=n):(this.startY0=e,this.endY0=n)}this.categoryAxis&&(this.start0=this.start,this.end0=this.end,this.startTime0=this.startTime,this.endTime0=this.endTime)},fixCursor:function(){this.chartCursor&&this.chartCursor.fixPosition(),this.prevCursorItem=null},handleCursorMove:function(e){t.AmSerialChart.base.handleCursorMove.call(this,e);var n=e.target,r=this.categoryAxis;if(e.panning)this.handleCursorHide(e);else if(this.chartData&&!n.isHidden){var i=this.graphs;if(i){var a;if(a=r.xToIndex(this.rotate?e.y:e.x),a=this.chartData[a]){var o,s,l,u;if(n.oneBalloonOnly&&n.valueBalloonsEnabled){var c=1/0;for(o=0;o<i.length;o++)if(s=i[o],s.balloon.enabled&&s.showBalloon&&!s.hidden){if(l=s.valueAxis.id,l=a.axes[l].graphs[s.id],n.showNextAvailable&&isNaN(l.y)&&(l=this.getNextItem(l),!l))continue;l=l.y,"top"==s.showBalloonAt&&(l=0),"bottom"==s.showBalloonAt&&(l=this.height);var h=n.mouseX,g=n.mouseY;l=this.rotate?Math.abs(h-l):Math.abs(g-l),l<c&&(c=l,u=s)}n.mostCloseGraph=u}if(this.prevCursorItem!=a||u!=this.prevMostCloseGraph){for(c=[],o=0;o<i.length;o++)s=i[o],l=s.valueAxis.id,l=a.axes[l].graphs[s.id],n.showNextAvailable&&isNaN(l.y)&&(l=this.getNextItem(l)),u&&s!=u?(s.showGraphBalloon(l,n.pointer,!1,n.graphBulletSize,n.graphBulletAlpha),s.balloon.hide(0)):n.valueBalloonsEnabled?(s.balloon.showBullet=n.bulletsEnabled,s.balloon.bulletSize=n.bulletSize/2,e.hideBalloons||(s.showGraphBalloon(l,n.pointer,!1,n.graphBulletSize,n.graphBulletAlpha),s.balloon.set&&c.push({balloon:s.balloon,y:s.balloon.pointToY}))):(s.currentDataItem=l,s.resizeBullet(l,n.graphBulletSize,n.graphBulletAlpha));n.avoidBalloonOverlapping&&this.arrangeBalloons(c),this.prevCursorItem=a}this.prevMostCloseGraph=u}}r.showBalloon(e.x,e.y,n.categoryBalloonDateFormat,e.skip),this.updateLegendValues()}},handleCursorHide:function(e){t.AmSerialChart.base.handleCursorHide.call(this,e),e=this.categoryAxis,this.prevCursorItem=null,this.updateLegendValues(),e&&e.hideBalloon(),e=this.graphs;var n;for(n=0;n<e.length;n++)e[n].currentDataItem=null},handleCursorPanning:function(e){var n,r=e.target,i=e.deltaX,a=e.deltaY,o=e.delta2X,s=e.delta2Y;if(e=!1,this.rotate){isNaN(o)&&(o=i,e=!0);var l=this.endX0;n=this.startX0;var u=l-n,l=l-u*o,c=u;e||(c=0),e=t.fitToBounds(n-u*i,0,1-c)}else isNaN(s)&&(s=a,e=!0),l=this.endY0,n=this.startY0,u=l-n,l+=u*a,c=u,e||(c=0),e=t.fitToBounds(n+u*s,0,1-c);n=t.fitToBounds(l,c,1);var h;r.valueZoomable&&(h=this.relativeZoomValueAxes(this.valueAxes,e,n));var g;n=this.categoryAxis,this.rotate&&(i=a,o=s),e=!1,isNaN(o)&&(o=i,e=!0),r.zoomable&&(0<Math.abs(i)||0<Math.abs(o))&&(n.parseDates&&!n.equalSpacing?(s=this.startTime0,a=this.endTime0,n=a-s,o*=n,u=this.firstTime,l=this.lastTime,c=n,e||(c=0),e=Math.round(t.fitToBounds(s-n*i,u,l-c)),o=Math.round(t.fitToBounds(a-o,u+c,l)),(this.startTime!=e||this.endTime!=o)&&(g={chart:this,target:r,type:"zoomed",start:e,end:o},this.skipZoomed=!0,r.fire(g),this.zoom(e,o),g=!0)):(s=this.start0,a=this.end0,n=a-s,i=Math.round(n*i),o=Math.round(n*o),u=this.chartData.length-1,e||(n=0),e=t.fitToBounds(s-i,0,u-n),n=t.fitToBounds(a-o,n,u),(this.start!=e||this.end!=n)&&(this.skipZoomed=!0,r.fire({chart:this,target:r,type:"zoomed",start:e,end:n}),this.zoom(e,n),g=!0))),!g&&h&&this.updateAfterValueZoom()},arrangeBalloons:function(t){var e=this.plotAreaHeight;t.sort(this.compareY);var n,r,i,a=this.plotAreaWidth,o=t.length;for(n=0;n<o;n++)r=t[n].balloon,r.setBounds(0,0,a,e),r.restorePrevious(),r.draw(),e=r.yPos-3;for(t.reverse(),n=0;n<o;n++){r=t[n].balloon;var e=r.bottom,s=r.bottom-r.yPos;0<n&&e-s<i+3&&(r.setBounds(0,i+3,a,i+s+3),r.restorePrevious(),r.draw()),r.set&&r.set.show(),i=r.bottom}},compareY:function(t,e){return t.y<e.y?1:-1}})}(),function(){var t=window.AmCharts;t.Cuboid=t.Class({construct:function(t,e,n,r,i,a,o,s,l,u,c,h,g,d,p,f,A){this.set=t.set(),this.container=t,this.h=Math.round(n),this.w=Math.round(e),this.dx=r,this.dy=i,this.colors=a,this.alpha=o,this.bwidth=s,this.bcolor=l,this.balpha=u,this.dashLength=d,this.topRadius=f,this.pattern=p,this.rotate=g,this.bcn=A,g?0>e&&0===c&&(c=180):0>n&&270==c&&(c=90),this.gradientRotation=c,0===r&&0===i&&(this.cornerRadius=h),this.draw()},draw:function(){var e=this.set;e.clear();var r=this.container,i=r.chart,a=this.w,o=this.h,s=this.dx,l=this.dy,u=this.colors,c=this.alpha,h=this.bwidth,g=this.bcolor,d=this.balpha,p=this.gradientRotation,f=this.cornerRadius,A=this.dashLength,C=this.pattern,I=this.topRadius,m=this.bcn,v=u,y=u;"object"==("undefined"==typeof u?"undefined":n(u))&&(v=u[0],y=u[u.length-1]);var b,x,w,S,T,N,E,k,O,M=c;C&&(c=0);var R,D,_,P,L=this.rotate;if(0<Math.abs(s)||0<Math.abs(l))if(isNaN(I))E=y,y=t.adjustLuminosity(v,-.2),y=t.adjustLuminosity(v,-.2),b=t.polygon(r,[0,s,a+s,a,0],[0,l,l,0,0],y,c,1,g,0,p),0<d&&(O=t.line(r,[0,s,a+s],[0,l,l],g,d,h,A)),x=t.polygon(r,[0,0,a,a,0],[0,o,o,0,0],y,c,1,g,0,p),x.translate(s,l),0<d&&(w=t.line(r,[s,s],[l,l+o],g,d,h,A)),S=t.polygon(r,[0,0,s,s,0],[0,o,o+l,l,0],y,c,1,g,0,p),T=t.polygon(r,[a,a,a+s,a+s,a],[0,o,o+l,l,0],y,c,1,g,0,p),0<d&&(N=t.line(r,[a,a+s,a+s,a],[0,l,o+l,o],g,d,h,A)),y=t.adjustLuminosity(E,.2),E=t.polygon(r,[0,s,a+s,a,0],[o,o+l,o+l,o,o],y,c,1,g,0,p),0<d&&(k=t.line(r,[0,s,a+s],[o,o+l,o+l],g,d,h,A));else{var z,F,B;L?(z=o/2,y=s/2,B=o/2,F=a+s/2,D=Math.abs(o/2),R=Math.abs(s/2)):(y=a/2,z=l/2,F=a/2,B=o+l/2+1,R=Math.abs(a/2),D=Math.abs(l/2)),_=R*I,P=D*I,.1<R&&.1<R&&(b=t.circle(r,R,v,c,h,g,d,!1,D),b.translate(y,z)),.1<_&&.1<_&&(E=t.circle(r,_,t.adjustLuminosity(v,.5),c,h,g,d,!1,P),E.translate(F,B))}for(c=M,1>Math.abs(o)&&(o=0),1>Math.abs(a)&&(a=0),!isNaN(I)&&(0<Math.abs(s)||0<Math.abs(l))?(u=[v],u={fill:u,stroke:g,"stroke-width":h,"stroke-opacity":d,
"fill-opacity":c},L?(c="M0,0 L"+a+","+(o/2-o/2*I),h=" B",0<a&&(h=" A"),t.VML?(c+=h+Math.round(a-_)+","+Math.round(o/2-P)+","+Math.round(a+_)+","+Math.round(o/2+P)+","+a+",0,"+a+","+o,c=c+(" L0,"+o)+(h+Math.round(-R)+","+Math.round(o/2-D)+","+Math.round(R)+","+Math.round(o/2+D)+",0,"+o+",0,0")):(c+="A"+_+","+P+",0,0,0,"+a+","+(o-o/2*(1-I))+"L0,"+o,c+="A"+R+","+D+",0,0,1,0,0"),R=90):(h=a/2-a/2*I,c="M0,0 L"+h+","+o,t.VML?(c="M0,0 L"+h+","+o,h=" B",0>o&&(h=" A"),c+=h+Math.round(a/2-_)+","+Math.round(o-P)+","+Math.round(a/2+_)+","+Math.round(o+P)+",0,"+o+","+a+","+o,c+=" L"+a+",0",c+=h+Math.round(a/2+R)+","+Math.round(D)+","+Math.round(a/2-R)+","+Math.round(-D)+","+a+",0,0,0"):(c+="A"+_+","+P+",0,0,0,"+(a-a/2*(1-I))+","+o+"L"+a+",0",c+="A"+R+","+D+",0,0,1,0,0"),R=180),r=r.path(c).attr(u),r.gradient("linearGradient",[v,t.adjustLuminosity(v,-.3),t.adjustLuminosity(v,-.3),v],R),L?r.translate(s/2,0):r.translate(0,l/2)):r=0===o?t.line(r,[0,a],[0,0],g,d,h,A):0===a?t.line(r,[0,0],[0,o],g,d,h,A):0<f?t.rect(r,a,o,u,c,h,g,d,f,p,A):t.polygon(r,[0,0,a,a,0],[0,o,o,0,0],u,c,h,g,d,p,!1,A),a=isNaN(I)?0>o?[b,O,x,w,S,T,N,E,k,r]:[E,k,x,w,S,T,b,O,N,r]:L?0<a?[b,r,E]:[E,r,b]:0>o?[b,r,E]:[E,r,b],t.setCN(i,r,m+"front"),t.setCN(i,x,m+"back"),t.setCN(i,E,m+"top"),t.setCN(i,b,m+"bottom"),t.setCN(i,S,m+"left"),t.setCN(i,T,m+"right"),b=0;b<a.length;b++)(x=a[b])&&(e.push(x),t.setCN(i,x,m+"element"));C&&r.pattern(C,NaN,i.path)},width:function(t){isNaN(t)&&(t=0),this.w=Math.round(t),this.draw()},height:function(t){isNaN(t)&&(t=0),this.h=Math.round(t),this.draw()},animateHeight:function(e,n){var r=this;r.animationFinished=!1,r.easing=n,r.totalFrames=e*t.updateRate,r.rh=r.h,r.frame=0,r.height(1),setTimeout(function(){r.updateHeight.call(r)},1e3/t.updateRate)},updateHeight:function(){var e=this;e.frame++;var n=e.totalFrames;e.frame<=n?(n=e.easing(0,e.frame,1,e.rh-1,n),e.height(n),window.requestAnimationFrame?window.requestAnimationFrame(function(){e.updateHeight.call(e)}):setTimeout(function(){e.updateHeight.call(e)},1e3/t.updateRate)):(e.height(e.rh),e.animationFinished=!0)},animateWidth:function(e,n){var r=this;r.animationFinished=!1,r.easing=n,r.totalFrames=e*t.updateRate,r.rw=r.w,r.frame=0,r.width(1),setTimeout(function(){r.updateWidth.call(r)},1e3/t.updateRate)},updateWidth:function(){var e=this;e.frame++;var n=e.totalFrames;e.frame<=n?(n=e.easing(0,e.frame,1,e.rw-1,n),e.width(n),window.requestAnimationFrame?window.requestAnimationFrame(function(){e.updateWidth.call(e)}):setTimeout(function(){e.updateWidth.call(e)},1e3/t.updateRate)):(e.width(e.rw),e.animationFinished=!0)}})}(),function(){var t=window.AmCharts;t.CategoryAxis=t.Class({inherits:t.AxisBase,construct:function(e){this.cname="CategoryAxis",t.CategoryAxis.base.construct.call(this,e),this.minPeriod="DD",this.equalSpacing=this.parseDates=!1,this.position="bottom",this.startOnAxis=!1,this.gridPosition="middle",this.safeDistance=30,this.stickBalloonToCategory=!1,t.applyTheme(this,e,this.cname)},draw:function(){t.CategoryAxis.base.draw.call(this),this.generateDFObject();var e=this.chart.chartData;if(this.data=e,this.labelRotationR=this.labelRotation,this.type=null,t.ifArray(e)){var n,r=this.chart;"scrollbar"!=this.id?(t.setCN(r,this.set,"category-axis"),t.setCN(r,this.labelsSet,"category-axis"),t.setCN(r,this.axisLine.axisSet,"category-axis")):this.bcn=this.id+"-";var i,a,o,s,l,u,c=this.start,h=this.labelFrequency,g=0,d=this.end-c+1,p=this.gridCountR,f=this.showFirstLabel,A=this.showLastLabel,C="",C=t.extractPeriod(this.minPeriod),I=t.getPeriodDuration(C.period,C.count),m=this.rotate,v=this.firstDayOfWeek,y=this.boldPeriodBeginning;n=t.resetDateToMin(new Date(e[e.length-1].time+1.05*I),this.minPeriod,1,v).getTime(),this.firstTime=r.firstTime,this.endTime>n&&(this.endTime=n),u=this.minorGridEnabled,o=this.gridAlpha;var b=0,x=0;if(this.widthField)for(n=this.start;n<=this.end;n++)if(l=this.data[n]){var w=Number(this.data[n].dataContext[this.widthField]);isNaN(w)||(b+=w,l.widthValue=w)}if(this.parseDates&&!this.equalSpacing)this.lastTime=e[e.length-1].time,this.maxTime=t.resetDateToMin(new Date(this.lastTime+1.05*I),this.minPeriod,1,v).getTime(),this.timeDifference=this.endTime-this.startTime,this.parseDatesDraw();else if(this.parseDates){if(this.parseDates&&this.equalSpacing){if(g=this.start,this.startTime=this.data[this.start].time,this.endTime=this.data[this.end].time,this.timeDifference=this.endTime-this.startTime,n=this.choosePeriod(0),h=n.period,a=n.count,n=t.getPeriodDuration(h,a),n<I&&(h=C.period,a=C.count,n=I),o=h,"WW"==o&&(o="DD"),this.currentDateFormat=this.dateFormatsObject[o],this.stepWidth=this.getStepWidth(d),p=Math.ceil(this.timeDifference/n)+1,C=t.resetDateToMin(new Date(this.startTime-n),h,a,v).getTime(),this.cellWidth=this.getStepWidth(d),d=Math.round(C/n),c=-1,d/2==Math.round(d/2)&&(c=-2,C-=n),d=this.start,d/2==Math.round(d/2)&&d--,0>d&&(d=0),x=this.end+2,x>=this.data.length&&(x=this.data.length),e=!1,e=!f,this.previousPos=-1e3,20<this.labelRotationR&&(this.safeDistance=5),w=d,this.data[d].time!=t.resetDateToMin(new Date(this.data[d].time),h,a,v).getTime()){var I=0,S=C;for(n=d;n<x;n++)l=this.data[n].time,this.checkPeriodChange(h,a,l,S)&&(I++,2<=I&&(w=n,n=x),S=l)}if(u&&1<a&&(l=this.chooseMinorFrequency(a),t.getPeriodDuration(h,l)),0<this.gridCountR)for(n=d;n<x;n++)l=this.data[n].time,this.checkPeriodChange(h,a,l,C)&&n>=w&&(d=this.getCoordinate(n-this.start),u=!1,this.nextPeriod[o]&&(u=this.checkPeriodChange(this.nextPeriod[o],1,l,C,o))&&t.resetDateToMin(new Date(l),this.nextPeriod[o],1,v).getTime()!=l&&(u=!1),I=!1,u&&this.markPeriodChange?(u=this.dateFormatsObject[this.nextPeriod[o]],I=!0):u=this.dateFormatsObject[o],C=t.formatDate(new Date(l),u,r),(n==c&&!f||n==p&&!A)&&(C=" "),e?e=!1:(y||(I=!1),d-this.previousPos>this.safeDistance*Math.cos(this.labelRotationR*Math.PI/180)&&(this.labelFunction&&(C=this.labelFunction(C,new Date(l),this,h,a,s)),this.boldLabels&&(I=!0),i=new this.axisItemRenderer(this,d,C,void 0,void 0,void 0,void 0,I),u=i.graphics(),this.pushAxisItem(i),u=u.getBBox().width,t.isModern||(u-=d),this.previousPos=d+u)),s=C=l)}}else if(this.cellWidth=this.getStepWidth(d),d<p&&(p=d),g+=this.start,this.stepWidth=this.getStepWidth(d),0<p)for(v=Math.floor(d/p),l=this.chooseMinorFrequency(v),d=g,d/2==Math.round(d/2)&&d--,0>d&&(d=0),y=0,this.widthField&&(d=this.start),this.end-d+1>=this.autoRotateCount&&(this.labelRotationR=this.autoRotateAngle),n=d;n<=this.end+2;n++){if(p=!1,0<=n&&n<this.data.length?(a=this.data[n],C=a.category,p=a.forceShow):C="",u&&!isNaN(l)){if(n/l!=Math.round(n/l)&&!p)continue;n/v==Math.round(n/v)||p||(this.gridAlpha=this.minorGridAlpha,C=void 0)}else if(n/v!=Math.round(n/v)&&!p)continue;d=this.getCoordinate(n-g),p=0,"start"==this.gridPosition&&(d-=this.cellWidth/2,p=this.cellWidth/2),i=!0,s=p,"start"==this.tickPosition&&(s=0,i=!1,p=0),(n==c&&!f||n==this.end&&!A)&&(C=void 0),Math.round(y/h)!=y/h&&(C=void 0),y++,e=this.cellWidth,m&&(e=NaN,this.ignoreAxisWidth||!r.autoMargins)&&(e="right"==this.position?r.marginRight:r.marginLeft,e-=this.tickLength+10),this.labelFunction&&a&&(C=this.labelFunction(C,a,this)),C=t.fixBrakes(C),I=!1,this.boldLabels&&(I=!0),n>this.end&&"start"==this.tickPosition&&(C=" "),this.rotate&&this.inside&&(p-=2),isNaN(a.widthValue)||(a.percentWidthValue=a.widthValue/b*100,e=this.rotate?this.height*a.widthValue/b:this.width*a.widthValue/b,d=x,x+=e,p=e/2),i=new this.axisItemRenderer(this,d,C,i,e,p,void 0,I,s,!1,a.labelColor,a.className),i.serialDataItem=a,this.pushAxisItem(i),this.gridAlpha=o}for(n=f=0;n<this.data.length;n++)(l=this.data[n])&&(this.parseDates&&!this.equalSpacing?(A=l.time,c=this.cellWidth,"MM"==this.minPeriod&&(c=864e5*t.daysInMonth(new Date(A))*this.stepWidth,l.cellWidth=c),A=Math.round((A-this.startTime)*this.stepWidth+c/2)):A=this.getCoordinate(n-g),l.x[this.id]=A);if(this.widthField)for(n=this.start;n<=this.end;n++)l=this.data[n],c=l.widthValue,l.percentWidthValue=c/b*100,this.rotate?(A=this.height*c/b/2+f,f=this.height*c/b+f):(A=this.width*c/b/2+f,f=this.width*c/b+f),l.x[this.id]=A;for(b=this.guides.length,n=0;n<b;n++)f=this.guides[n],v=v=v=u=c=NaN,A=f.above,f.toCategory&&(v=r.getCategoryIndexByValue(f.toCategory),isNaN(v)||(c=this.getCoordinate(v-g),f.expand&&(c+=this.cellWidth/2),i=new this.axisItemRenderer(this,c,"",!0,NaN,NaN,f),this.pushAxisItem(i,A))),f.category&&(v=r.getCategoryIndexByValue(f.category),isNaN(v)||(u=this.getCoordinate(v-g),f.expand&&(u-=this.cellWidth/2),v=(c-u)/2,i=new this.axisItemRenderer(this,u,f.label,!0,NaN,v,f),this.pushAxisItem(i,A))),y=r.dataDateFormat,f.toDate&&(!y||f.toDate instanceof Date||(f.toDate=f.toDate.toString()+" |"),f.toDate=t.getDate(f.toDate,y),this.equalSpacing?(v=r.getClosestIndex(this.data,"time",f.toDate.getTime(),!1,0,this.data.length-1),isNaN(v)||(c=this.getCoordinate(v-g))):c=(f.toDate.getTime()-this.startTime)*this.stepWidth,i=new this.axisItemRenderer(this,c,"",!0,NaN,NaN,f),this.pushAxisItem(i,A)),f.date&&(!y||f.date instanceof Date||(f.date=f.date.toString()+" |"),f.date=t.getDate(f.date,y),this.equalSpacing?(v=r.getClosestIndex(this.data,"time",f.date.getTime(),!1,0,this.data.length-1),isNaN(v)||(u=this.getCoordinate(v-g))):u=(f.date.getTime()-this.startTime)*this.stepWidth,v=(c-u)/2,i=!0,f.toDate&&(i=!1),i="H"==this.orientation?new this.axisItemRenderer(this,u,f.label,i,2*v,NaN,f):new this.axisItemRenderer(this,u,f.label,!1,NaN,v,f),this.pushAxisItem(i,A)),f.balloonText&&i&&(v=i.label)&&this.addEventListeners(v,f),(0<c||0<u)&&(v=!1,this.rotate?(c<this.height||u<this.height)&&(v=!0):(c<this.width||u<this.width)&&(v=!0),v&&(c=new this.guideFillRenderer(this,u,c,f),u=c.graphics(),this.pushAxisItem(c,A),f.graphics=u,u.index=n,f.balloonText&&this.addEventListeners(u,f)));(r=r.chartCursor)&&(m?r.fixHeight(this.cellWidth):(r.fixWidth(this.cellWidth),r.fullWidth&&this.balloon&&(this.balloon.minWidth=this.cellWidth))),this.previousHeight=T}this.axisCreated=!0,this.set.translate(this.x,this.y),this.labelsSet.translate(this.x,this.y),this.labelsSet.show(),this.positionTitle(),(m=this.axisLine.set)&&m.toFront();var T=this.getBBox().height;2<T-this.previousHeight&&this.autoWrap&&!this.parseDates&&(this.axisCreated=this.chart.marginsUpdated=!1)},xToIndex:function(e){var n,r=this.data,i=this.chart,a=i.rotate,o=this.stepWidth;if(this.parseDates&&!this.equalSpacing)e=this.startTime+Math.round(e/o)-this.minDuration()/2,n=i.getClosestIndex(r,"time",e,!1,this.start,this.end+1);else if(this.widthField)for(i=1/0,o=this.start;o<=this.end;o++){var s=this.data[o];s&&(s=Math.abs(s.x[this.id]-e),s<i&&(i=s,n=o))}else this.startOnAxis||(e-=o/2),n=this.start+Math.round(e/o);n=t.fitToBounds(n,0,r.length-1);var l;return r[n]&&(l=r[n].x[this.id]),a?l>this.height+1&&n--:l>this.width+1&&n--,0>l&&n++,n=t.fitToBounds(n,0,r.length-1)},dateToCoordinate:function(t){return this.parseDates&&!this.equalSpacing?(t.getTime()-this.startTime)*this.stepWidth:this.parseDates&&this.equalSpacing?(t=this.chart.getClosestIndex(this.data,"time",t.getTime(),!1,0,this.data.length-1),this.getCoordinate(t-this.start)):NaN},categoryToCoordinate:function(t){return this.chart?this.parseDates?this.dateToCoordinate(new Date(t)):(t=this.chart.getCategoryIndexByValue(t),isNaN(t)?void 0:this.getCoordinate(t-this.start)):NaN},coordinateToDate:function(t){return this.equalSpacing?(t=this.xToIndex(t),new Date(this.data[t].time)):new Date(this.startTime+t/this.stepWidth)},coordinateToValue:function(t){if(t=this.xToIndex(t),t=this.data[t])return this.parseDates?t.time:t.category},getCoordinate:function(t){return t*=this.stepWidth,this.startOnAxis||(t+=this.stepWidth/2),Math.round(t)},formatValue:function(e,n){return n||(n=this.currentDateFormat),this.parseDates&&(e=t.formatDate(new Date(e),n,this.chart)),e},showBalloonAt:function(t,e){return void 0===e&&(e=this.parseDates?this.dateToCoordinate(new Date(t)):this.categoryToCoordinate(t)),this.adjustBalloonCoordinate(e)},formatBalloonText:function(e,n,r){var i="",a="",o=this.chart,s=this.data[n];if(s)if(this.parseDates)i=t.formatDate(s.category,r,o),n=t.changeDate(new Date(s.category),this.minPeriod,1),a=t.formatDate(n,r,o),-1!=i.indexOf("fff")&&(i=t.formatMilliseconds(i,s.category),a=t.formatMilliseconds(a,n));else{var l;this.data[n+1]&&(l=this.data[n+1]),i=t.fixNewLines(s.category),l&&(a=t.fixNewLines(l.category))}return e=e.replace(/\[\[category\]\]/g,String(i)),e=e.replace(/\[\[toCategory\]\]/g,String(a))},adjustBalloonCoordinate:function(t,e){var n=this.xToIndex(t),r=this.chart.chartCursor;if(this.stickBalloonToCategory){var i=this.data[n];i&&(t=i.x[this.id]),this.stickBalloonToStart&&(t-=this.cellWidth/2);var a=0;if(r){var o=r.limitToGraph;if(o){var s=o.valueAxis.id;o.hidden||(a=i.axes[s].graphs[o.id].y)}this.rotate?("left"==this.position?(o&&(a-=r.width),0<a&&(a=0)):0>a&&(a=0),r.fixHLine(t,a)):("top"==this.position?(o&&(a-=r.height),0<a&&(a=0)):0>a&&(a=0),r.fixVLine(t,a))}}return r&&!e&&(r.setIndex(n),this.parseDates&&r.setTimestamp(this.coordinateToDate(t).getTime())),t}})}()},function(t,e){"use strict";AmCharts.themes.light={themeName:"light",AmChart:{color:"#000000",backgroundColor:"#FFFFFF"},AmCoordinateChart:{colors:["#67b7dc","#fdd400","#84b761","#cc4748","#cd82ad","#2f4074","#448e4d","#b7b83f","#b9783f","#b93e3d","#913167"]},AmStockChart:{colors:["#67b7dc","#fdd400","#84b761","#cc4748","#cd82ad","#2f4074","#448e4d","#b7b83f","#b9783f","#b93e3d","#913167"]},AmSlicedChart:{colors:["#67b7dc","#fdd400","#84b761","#cc4748","#cd82ad","#2f4074","#448e4d","#b7b83f","#b9783f","#b93e3d","#913167"],outlineAlpha:1,outlineThickness:2,labelTickColor:"#000000",labelTickAlpha:.3},AmRectangularChart:{zoomOutButtonColor:"#000000",zoomOutButtonRollOverAlpha:.15,zoomOutButtonImage:"lens"},AxisBase:{axisColor:"#000000",axisAlpha:.3,gridAlpha:.1,gridColor:"#000000"},ChartScrollbar:{backgroundColor:"#000000",backgroundAlpha:.12,graphFillAlpha:.5,graphLineAlpha:0,selectedBackgroundColor:"#FFFFFF",selectedBackgroundAlpha:.4,gridAlpha:.15},ChartCursor:{cursorColor:"#000000",color:"#FFFFFF",cursorAlpha:.5},AmLegend:{color:"#000000"},AmGraph:{lineAlpha:.9},GaugeArrow:{color:"#000000",alpha:.8,nailAlpha:0,innerRadius:"40%",nailRadius:15,startWidth:15,borderAlpha:.8,nailBorderAlpha:0},GaugeAxis:{tickColor:"#000000",tickAlpha:1,tickLength:15,minorTickLength:8,axisThickness:3,axisColor:"#000000",axisAlpha:1,bandAlpha:.8},TrendLine:{lineColor:"#c03246",lineAlpha:.8},AreasSettings:{alpha:.8,color:"#67b7dc",colorSolid:"#003767",unlistedAreasAlpha:.4,unlistedAreasColor:"#000000",outlineColor:"#FFFFFF",outlineAlpha:.5,outlineThickness:.5,rollOverColor:"#3c5bdc",rollOverOutlineColor:"#FFFFFF",selectedOutlineColor:"#FFFFFF",selectedColor:"#f15135",unlistedAreasOutlineColor:"#FFFFFF",unlistedAreasOutlineAlpha:.5},LinesSettings:{color:"#000000",alpha:.8},ImagesSettings:{alpha:.8,labelColor:"#000000",color:"#000000",labelRollOverColor:"#3c5bdc"},ZoomControl:{buttonFillAlpha:.7,buttonIconColor:"#a7a7a7"},SmallMap:{mapColor:"#000000",rectangleColor:"#f15135",backgroundColor:"#FFFFFF",backgroundAlpha:.7,borderThickness:1,borderAlpha:.8},PeriodSelector:{color:"#000000"},PeriodButton:{color:"#000000",background:"transparent",opacity:.7,border:"1px solid rgba(0, 0, 0, .3)",MozBorderRadius:"5px",borderRadius:"5px",margin:"1px",outline:"none",boxSizing:"border-box"},PeriodButtonSelected:{color:"#000000",backgroundColor:"#b9cdf5",border:"1px solid rgba(0, 0, 0, .3)",MozBorderRadius:"5px",borderRadius:"5px",margin:"1px",outline:"none",opacity:1,boxSizing:"border-box"},PeriodInputField:{color:"#000000",background:"transparent",border:"1px solid rgba(0, 0, 0, .3)",outline:"none"},DataSetSelector:{color:"#000000",selectedBackgroundColor:"#b9cdf5",rollOverBackgroundColor:"#a8b0e4"},DataSetCompareList:{color:"#000000",lineHeight:"100%",boxSizing:"initial",webkitBoxSizing:"initial",border:"1px solid rgba(0, 0, 0, .3)"},DataSetSelect:{border:"1px solid rgba(0, 0, 0, .3)",outline:"none"}}},function(t,e){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};AmCharts.addInitHandler(function(t){if(void 0!==t.responsive&&t.responsive.ready!==!0&&t.responsive.enabled===!0){var e=t.version.split(".");if(!(e.length<2||Number(e[0])<3||3===Number(e[0])&&Number(e[1])<13)){var r=t.responsive;r.ready=!0,r.currentRules={},r.overridden=[];var i={pie:[{maxWidth:550,legendPosition:"left",overrides:{legend:{enabled:!1}}},{maxWidth:550,legendPosition:"right",overrides:{legend:{enabled:!1}}},{maxWidth:150,overrides:{legend:{enabled:!1}}},{maxHeight:350,legendPosition:"top",overrides:{legend:{enabled:!1}}},{maxHeight:350,legendPosition:"bottom",overrides:{legend:{enabled:!1}}},{maxHeight:150,overrides:{legend:{enabled:!1}}},{maxWidth:400,overrides:{labelsEnabled:!1}},{maxWidth:100,overrides:{legend:{enabled:!1}}},{maxHeight:350,overrides:{pullOutRadius:0}},{maxHeight:200,overrides:{titles:{enabled:!1},labelsEnabled:!1}},{maxWidth:60,overrides:{autoMargins:!1,marginTop:0,marginBottom:0,marginLeft:0,marginRight:0,radius:"50%",innerRadius:0,balloon:{enabled:!1},legend:{enabled:!1}}},{maxHeight:60,overrides:{marginTop:0,marginBottom:0,marginLeft:0,marginRight:0,radius:"50%",innerRadius:0,balloon:{enabled:!1},legend:{enabled:!1}}}],funnel:[{maxWidth:550,legendPosition:"left",overrides:{legend:{enabled:!1}}},{maxWidth:550,legendPosition:"right",overrides:{legend:{enabled:!1}}},{maxWidth:150,overrides:{legend:{enabled:!1}}},{maxHeight:500,legendPosition:"top",overrides:{legend:{enabled:!1}}},{maxHeight:500,legendPosition:"bottom",overrides:{legend:{enabled:!1}}},{maxHeight:150,overrides:{legend:{enabled:!1}}},{maxWidth:400,overrides:{labelsEnabled:!1,marginLeft:10,marginRight:10,legend:{enabled:!1}}},{maxHeight:350,overrides:{pullOutRadius:0,legend:{enabled:!1}}},{maxHeight:300,overrides:{titles:{enabled:!1}}}],radar:[{maxWidth:550,legendPosition:"left",overrides:{legend:{enabled:!1}}},{maxWidth:550,legendPosition:"right",overrides:{legend:{enabled:!1}}},{maxWidth:150,overrides:{legend:{enabled:!1}}},{maxHeight:350,legendPosition:"top",overrides:{legend:{enabled:!1}}},{maxHeight:350,legendPosition:"bottom",overrides:{legend:{enabled:!1}}},{maxHeight:150,overrides:{legend:{enabled:!1}}},{maxWidth:300,overrides:{labelsEnabled:!1}},{maxWidth:200,overrides:{autoMargins:!1,marginTop:0,marginBottom:0,marginLeft:0,marginRight:0,radius:"50%",titles:{enabled:!1},valueAxes:{labelsEnabled:!1,radarCategoriesEnabled:!1}}},{maxHeight:300,overrides:{labelsEnabled:!1}},{maxHeight:200,overrides:{autoMargins:!1,marginTop:0,marginBottom:0,marginLeft:0,marginRight:0,radius:"50%",titles:{enabled:!1},valueAxes:{radarCategoriesEnabled:!1}}},{maxHeight:100,overrides:{valueAxes:{labelsEnabled:!1}}}],gauge:[{maxWidth:550,legendPosition:"left",overrides:{legend:{enabled:!1}}},{maxWidth:550,legendPosition:"right",overrides:{legend:{enabled:!1}}},{maxWidth:150,overrides:{legend:{enabled:!1}}},{maxHeight:500,legendPosition:"top",overrides:{legend:{enabled:!1}}},{maxHeight:500,legendPosition:"bottom",overrides:{legend:{enabled:!1}}},{maxHeight:150,overrides:{legend:{enabled:!1}}},{maxWidth:200,overrides:{titles:{enabled:!1},allLabels:{enabled:!1},axes:{labelsEnabled:!1}}},{maxHeight:200,overrides:{titles:{enabled:!1},allLabels:{enabled:!1},axes:{labelsEnabled:!1}}}],serial:[{maxWidth:550,legendPosition:"left",overrides:{legend:{enabled:!1}}},{maxWidth:550,legendPosition:"right",overrides:{legend:{enabled:!1}}},{maxWidth:100,overrides:{legend:{enabled:!1}}},{maxHeight:350,legendPosition:"top",overrides:{legend:{enabled:!1}}},{maxHeight:350,legendPosition:"bottom",overrides:{legend:{enabled:!1}}},{maxHeight:100,overrides:{legend:{enabled:!1}}},{maxWidth:350,overrides:{autoMarginOffset:0,graphs:{hideBulletsCount:10}}},{maxWidth:350,rotate:!1,overrides:{marginLeft:10,marginRight:10,valueAxes:{ignoreAxisWidth:!0,inside:!0,title:"",showFirstLabel:!1,showLastLabel:!1},graphs:{bullet:"none"}}},{maxWidth:350,rotate:!0,overrides:{marginLeft:10,marginRight:10,categoryAxis:{ignoreAxisWidth:!0,inside:!0,title:""}}},{maxWidth:200,rotate:!1,overrides:{marginLeft:10,marginRight:10,marginTop:10,marginBottom:10,categoryAxis:{ignoreAxisWidth:!0,labelsEnabled:!1,inside:!0,title:"",guides:{inside:!0}},valueAxes:{ignoreAxisWidth:!0,labelsEnabled:!1,axisAlpha:0,guides:{label:""}},legend:{enabled:!1}}},{maxWidth:200,rotate:!0,overrides:{chartScrollbar:{scrollbarHeight:4,graph:"",resizeEnabled:!1},categoryAxis:{labelsEnabled:!1,axisAlpha:0,guides:{label:""}},legend:{enabled:!1}}},{maxWidth:100,rotate:!1,overrides:{valueAxes:{gridAlpha:0}}},{maxWidth:100,rotate:!0,overrides:{categoryAxis:{gridAlpha:0}}},{maxHeight:300,overrides:{autoMarginOffset:0,graphs:{hideBulletsCount:10}}},{maxHeight:200,rotate:!1,overrides:{marginTop:10,marginBottom:10,categoryAxis:{ignoreAxisWidth:!0,inside:!0,title:"",showFirstLabel:!1,showLastLabel:!1}}},{maxHeight:200,rotate:!0,overrides:{marginTop:10,marginBottom:10,valueAxes:{ignoreAxisWidth:!0,inside:!0,title:"",showFirstLabel:!1,showLastLabel:!1},graphs:{bullet:"none"}}},{maxHeight:150,rotate:!1,overrides:{titles:{enabled:!1},chartScrollbar:{scrollbarHeight:4,graph:"",resizeEnabled:!1},categoryAxis:{labelsEnabled:!1,ignoreAxisWidth:!0,axisAlpha:0,guides:{label:""}}}},{maxHeight:150,rotate:!0,overrides:{titles:{enabled:!1},valueAxes:{labelsEnabled:!1,ignoreAxisWidth:!0,axisAlpha:0,guides:{label:""}}}},{maxHeight:100,rotate:!1,overrides:{valueAxes:{labelsEnabled:!1,ignoreAxisWidth:!0,axisAlpha:0,gridAlpha:0,guides:{label:""}}}},{maxHeight:100,rotate:!0,overrides:{categoryAxis:{labelsEnabled:!1,ignoreAxisWidth:!0,axisAlpha:0,gridAlpha:0,guides:{label:""}}}},{maxWidth:100,overrides:{autoMargins:!1,marginTop:0,marginBottom:0,marginLeft:0,marginRight:0,categoryAxis:{labelsEnabled:!1},valueAxes:{labelsEnabled:!1}}},{maxHeight:100,overrides:{autoMargins:!1,marginTop:0,marginBottom:0,marginLeft:0,marginRight:0,categoryAxis:{labelsEnabled:!1},valueAxes:{labelsEnabled:!1}}}],xy:[{maxWidth:550,legendPosition:"left",overrides:{legend:{enabled:!1}}},{maxWidth:550,legendPosition:"right",overrides:{legend:{enabled:!1}}},{maxWidth:100,overrides:{legend:{enabled:!1}}},{maxHeight:350,legendPosition:"top",overrides:{legend:{enabled:!1}}},{maxHeight:350,legendPosition:"bottom",overrides:{legend:{enabled:!1}}},{maxHeight:100,overrides:{legend:{enabled:!1}}},{maxWidth:250,overrides:{autoMarginOffset:0,autoMargins:!1,marginTop:0,marginBottom:0,marginLeft:0,marginRight:0,valueAxes:{inside:!0,title:"",showFirstLabel:!1,showLastLabel:!1},legend:{enabled:!1}}},{maxWidth:150,overrides:{valueyAxes:{labelsEnabled:!1,axisAlpha:0,gridAlpha:0,guides:{label:""}}}},{maxHeight:250,overrides:{autoMarginOffset:0,autoMargins:!1,marginTop:0,marginBottom:0,marginLeft:0,marginRight:0,valueAxes:{inside:!0,title:"",showFirstLabel:!1,showLastLabel:!1},legend:{enabled:!1}}},{maxWidth:150,overrides:{valueyAxes:{labelsEnabled:!1,axisAlpha:0,gridAlpha:0,guides:{label:""}}}}],stock:[{maxWidth:500,overrides:{dataSetSelector:{position:"top"},periodSelector:{position:"bottom"}}},{maxWidth:400,overrides:{dataSetSelector:{selectText:"",compareText:""},periodSelector:{periodsText:"",inputFieldsEnabled:!1}}}],map:[{maxWidth:200,overrides:{zoomControl:{zoomControlEnabled:!1},smallMap:{enabled:!1},valueLegend:{enabled:!1},dataProvider:{areas:{descriptionWindowWidth:160,descriptionWindowRight:10,descriptionWindowTop:10},images:{descriptionWindowWidth:160,descriptionWindowRight:10,descriptionWindowTop:10},lines:{descriptionWindowWidth:160,descriptionWindowRight:10,descriptionWindowTop:10}}}},{maxWidth:150,overrides:{dataProvider:{areas:{descriptionWindowWidth:110,descriptionWindowRight:10,descriptionWindowTop:10},images:{descriptionWindowWidth:110,descriptionWindowRight:10,descriptionWindowTop:10},lines:{descriptionWindowWidth:110,descriptionWindowLeft:10,descriptionWindowRight:10}}}},{maxHeight:200,overrides:{zoomControl:{zoomControlEnabled:!1},smallMap:{enabled:!1},valueLegend:{enabled:!1},dataProvider:{areas:{descriptionWindowHeight:160,descriptionWindowRight:10,descriptionWindowTop:10},images:{descriptionWindowHeight:160,descriptionWindowRight:10,descriptionWindowTop:10},lines:{descriptionWindowHeight:160,descriptionWindowRight:10,descriptionWindowTop:10}}}},{maxHeight:150,overrides:{dataProvider:{areas:{descriptionWindowHeight:110,descriptionWindowRight:10,descriptionWindowTop:10},images:{descriptionWindowHeight:110,descriptionWindowRight:10,descriptionWindowTop:10},lines:{descriptionWindowHeight:110,descriptionWindowLeft:10,descriptionWindowRight:10}}}}]},a=function(t){return null===t||void 0===t},o=function(t){return!a(t)&&"[object Array]"===Object.prototype.toString.call(t)},s=function(t){return null!==t&&"object"==("undefined"==typeof t?"undefined":n(t))},l=function(t,e){for(var n=0;n<t.length;n++)if(s(t[n])&&t[n].id===e)return t[n]},u=function t(e){if(!s(e))return e;if(o(e))return e.slice();var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=t(e[r]));return n},c="{F0578839-A214-4E2D-8D1B-44941ECE8332}_",h={},g=function(t,e,n){var i=c+e;i in t||(t[i]=e in t?t[e]:h),t[e]=u(n),r.overridden.push({object:t,property:e})},d=function(t,e){var n=t[c+e];n===h?delete t[e]:t[e]=n},p=function(){for(;r.overridden.length>0;){var t=r.overridden.pop();d(t.object,t.property)}},f=function(){t.dataChanged=!0,"xy"!==t.type&&(t.marginsUpdated=!1),t.zoomOutOnDataUpdate=!1,t.validateNow(!0),d(t,"zoomOutOnDataUpdate")},A=function t(e,n){if(!a(n))for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){var i=e[r],u=n[r];if(a(i))"periodSelector"!==r&&"dataSetSelector"!==r&&g(e,r,u);else{if(o(i)){if(o(u)){if(i.length>0&&!s(i[0])||u.length>0&&!s(u[0])){g(e,r,u);continue}for(var c=!0,h=0;h<u.length;h++)if(a(u[h])||a(u[h].id)){c=!1;break}if(c){for(var d=0;d<u.length;d++){var p=l(i,u[d].id);if(void 0===p)throw'could not find element to override in "'+r+'" with ID: '+u[d].id;t(p,u[d])}continue}if(u.length<=i.length){for(var f=0;f<u.length;f++)t(i[f],u[f]);continue}throw"too many index-based overrides specified for object array property: "+r}if(s(u)){for(var A=0;A<i.length;A++)t(i[A],u);continue}throw"non-object override detected for array property: "+r}s(i)?t(i,u):g(e,r,u)}}},C=function(){var e=t.divRealWidth,n=t.divRealHeight;if(0!==e&&0!==n){for(var i=!1,o=0;o<r.rules.length;o++){var s=r.rules[o],l=(void 0===s.minWidth||s.minWidth<=e)&&(void 0===s.maxWidth||s.maxWidth>=e)&&(void 0===s.minHeight||s.minHeight<=n)&&(void 0===s.maxHeight||s.maxHeight>=n)&&(void 0===s.rotate||s.rotate===!0&&t.rotate===!0||s.rotate===!1&&(void 0===t.rotate||t.rotate===!1))&&(void 0===s.legendPosition||void 0!==t.legend&&void 0!==t.legend.position&&t.legend.position===s.legendPosition);l?void 0===r.currentRules[o]&&(r.currentRules[o]=!0,i=!0):void 0!==r.currentRules[o]&&(r.currentRules[o]=void 0,i=!0)}if(i){p();for(var u in r.currentRules)if(Object.prototype.hasOwnProperty.call(r.currentRules,u)&&void 0!==r.currentRules[u]){if(a(r.rules[u]))throw"null or undefined rule in index: "+u;A(t,r.rules[u].overrides)}f()}}};i.gantt=i.serial,o(r.rules)?r.addDefaultRules!==!1&&(r.rules=i[t.type].concat(r.rules)):r.rules=i[t.type],g(t,"zoomOutOnDataUpdate",t.zoomOutOnDataUpdate),t.addListener("resized",C),t.addListener("init",C)}}},["pie","serial","xy","funnel","radar","gauge","gantt","stock","map"])},function(t,e){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};AmCharts.translations.export||(AmCharts.translations.export={}),AmCharts.translations.export.en||(AmCharts.translations.export.en={"fallback.save.text":"CTRL + C to copy the data into the clipboard.","fallback.save.image":"Rightclick -> Save picture as... to save the image.","capturing.delayed.menu.label":"{{duration}}","capturing.delayed.menu.title":"Click to cancel","menu.label.print":"Print","menu.label.undo":"Undo","menu.label.redo":"Redo","menu.label.cancel":"Cancel","menu.label.save.image":"Download as ...","menu.label.save.data":"Save as ...","menu.label.draw":"Annotate ...","menu.label.draw.change":"Change ...","menu.label.draw.add":"Add ...","menu.label.draw.shapes":"Shape ...","menu.label.draw.colors":"Color ...","menu.label.draw.widths":"Size ...","menu.label.draw.opacities":"Opacity ...","menu.label.draw.text":"Text","menu.label.draw.modes":"Mode ...","menu.label.draw.modes.pencil":"Pencil","menu.label.draw.modes.line":"Line","menu.label.draw.modes.arrow":"Arrow","label.saved.from":"Saved from: "}),function(){AmCharts.export=function(t,e){var r,i={name:"export",version:"1.4.42",libs:{async:!0,autoLoad:!0,reload:!1,resources:["/libs/amcharts/plugins/export/libs/fabric.js/fabric.min.js","/libs/amcharts/plugins/export/libs/FileSaver.js/FileSaver.min.js","/libs/amcharts/plugins/export/libs/jszip/jszip.min.js","/libs/amcharts/plugins/export/libs/xlsx/xlsx.min.js",{"/libs/amcharts/plugins/export/libs/pdfmake/pdfmake.min.js":["/libs/amcharts/plugins/export/libs/pdfmake/vfs_fonts.js"]}],namespaces:{"pdfmake.min.js":"pdfMake","jszip.min.js":"JSZip","xlsx.min.js":"XLSX","fabric.min.js":"fabric","FileSaver.min.js":"saveAs"},loadTimeout:1e4},config:{},setup:{chart:t,hasBlob:!1,wrapper:!1,isIE:!!window.document.documentMode,IEversion:window.document.documentMode,hasTouch:"object"==n(window.Touch)},drawing:{enabled:!1,undos:[],redos:[],buffer:{position:{x1:0,y1:0,x2:0,y2:0,xD:0,yD:0}},handler:{undo:function(t,e){var n=i.drawing.undos.pop();if(n){n.selectable=!0,i.drawing.redos.push(n),"added"==n.action&&i.setup.fabric.remove(n.target);var r=JSON.parse(n.state);n.target.set(r),n.target instanceof fabric.Group&&i.drawing.handler.change({color:r.cfg.color,width:r.cfg.width,opacity:r.cfg.opacity},!0,n.target),i.setup.fabric.renderAll(),n.state!=n.target.recentState||e||i.drawing.handler.undo(n,!0)}},redo:function(t,e){var n=i.drawing.redos.pop();if(n){n.selectable=!0,i.drawing.undos.push(n),"added"==n.action&&i.setup.fabric.add(n.target);var r=JSON.parse(n.state);n.target.recentState=n.state,n.target.set(r),n.target instanceof fabric.Group&&i.drawing.handler.change({color:r.cfg.color,width:r.cfg.width,opacity:r.cfg.opacity},!0,n.target),i.setup.fabric.renderAll(),"addified"==n.action&&i.drawing.handler.redo()}},done:function(t){i.drawing.enabled=!1,i.drawing.buffer.enabled=!1,i.drawing.undos=[],i.drawing.redos=[],i.createMenu(i.config.menu),i.setup.fabric.deactivateAll(),i.setup.wrapper&&(i.setup.chart.containerDiv.removeChild(i.setup.wrapper),i.setup.wrapper=!1)},add:function(t){var e=i.deepMerge({top:i.setup.fabric.height/2,left:i.setup.fabric.width/2},t||{}),n=e.url.indexOf(".svg")!=-1?fabric.loadSVGFromURL:fabric.Image.fromURL;n(e.url,function(t,n){var r=void 0!==n?fabric.util.groupSVGElements(t,n):t,a=!1;(r.height>i.setup.fabric.height||r.width>i.setup.fabric.width)&&(a=i.setup.fabric.height/2/r.height),e.top>i.setup.fabric.height&&(e.top=i.setup.fabric.height/2),e.left>i.setup.fabric.width&&(e.left=i.setup.fabric.width/2),r.set({originX:"center",originY:"center",top:e.top,left:e.left,width:a?r.width*a:r.width,height:a?r.height*a:r.height,fill:i.drawing.color}),i.setup.fabric.add(r)})},change:function(t,e,n){var r,a,o,s=i.deepMerge({},t||{}),l=n||i.drawing.buffer.target,u=l?l._objects?l._objects:[l]:null;if(s.mode&&(i.drawing.mode=s.mode),s.width&&(i.drawing.width=s.width,i.drawing.fontSize=3*s.width),s.fontSize&&(i.drawing.fontSize=s.fontSize),s.color&&(i.drawing.color=s.color),s.opacity&&(i.drawing.opacity=s.opacity),o=i.getRGBA(i.drawing.color),o.pop(),o.push(i.drawing.opacity),i.drawing.color="rgba("+o.join()+")",i.setup.fabric.freeDrawingBrush.color=i.drawing.color,i.setup.fabric.freeDrawingBrush.width=i.drawing.width,l){for(r=JSON.parse(l.recentState).cfg,r&&(s.color=s.color||r.color,s.width=s.width||r.width,s.opacity=s.opacity||r.opacity,s.fontSize=s.fontSize||3*s.width,o=i.getRGBA(s.color),o.pop(),o.push(s.opacity),s.color="rgba("+o.join()+")"),
a=0;a<u.length;a++)u[a]instanceof fabric.Text||u[a]instanceof fabric.PathGroup||u[a]instanceof fabric.Triangle?((s.color||s.opacity)&&u[a].set({fill:s.color}),s.fontSize&&u[a].set({fontSize:s.fontSize})):(u[a]instanceof fabric.Path||u[a]instanceof fabric.Line)&&(l instanceof fabric.Group?(s.color||s.opacity)&&u[a].set({stroke:s.color}):((s.color||s.opacity)&&u[a].set({stroke:s.color}),s.width&&u[a].set({strokeWidth:s.width})));e||(r=JSON.stringify(i.deepMerge(l.saveState().originalState,{cfg:{color:s.color,width:s.width,opacity:s.opacity}})),l.recentState=r,i.drawing.redos=[],i.drawing.undos.push({action:"modified",target:l,state:r})),i.setup.fabric.renderAll()}},text:function t(e){var n=i.deepMerge({text:i.i18l("menu.label.draw.text"),top:i.setup.fabric.height/2,left:i.setup.fabric.width/2,fontSize:i.drawing.fontSize,fontFamily:i.setup.chart.fontFamily||"Verdana",fill:i.drawing.color},e||{});n.click=function(){};var t=new fabric.IText(n.text,n);return i.setup.fabric.add(t),i.setup.fabric.setActiveObject(t),t.selectAll(),t.enterEditing(),t},line:function t(e){var n,r,a,o,s=i.deepMerge({x1:i.setup.fabric.width/2-i.setup.fabric.width/10,x2:i.setup.fabric.width/2+i.setup.fabric.width/10,y1:i.setup.fabric.height/2,y2:i.setup.fabric.height/2,angle:90,strokeLineCap:i.drawing.lineCap,arrow:i.drawing.arrow,color:i.drawing.color,width:i.drawing.width,group:[]},e||{}),t=new fabric.Line([s.x1,s.y1,s.x2,s.y2],{stroke:s.color,strokeWidth:s.width,strokeLineCap:s.strokeLineCap});if(s.group.push(t),s.arrow&&(s.angle=s.angle?s.angle:i.getAngle(s.x1,s.y1,s.x2,s.y2),"start"==s.arrow?(a=s.y1+s.width/2,o=s.x1+s.width/2):"middle"==s.arrow?(a=s.y2+s.width/2-(s.y2-s.y1)/2,o=s.x2+s.width/2-(s.x2-s.x1)/2):(a=s.y2+s.width/2,o=s.x2+s.width/2),r=new fabric.Triangle({top:a,left:o,fill:s.color,height:7*s.width,width:7*s.width,angle:s.angle,originX:"center",originY:"bottom"}),s.group.push(r)),"config"!=s.action){if(s.arrow){var l=new fabric.Group(s.group);return l.set({cfg:s,fill:s.color,action:s.action,selectable:!0,known:"change"==s.action}),"change"==s.action&&i.setup.fabric.setActiveObject(l),i.setup.fabric.add(l),l}return i.setup.fabric.add(t),t}for(n=0;n<s.group.length;n++)s.group[n].noUndo=!0,i.setup.fabric.add(s.group[n]);return s}}},defaults:{position:"top-right",fileName:"amCharts",action:"download",overflow:!0,path:(t.path||"")+"plugins/export/",formats:{JPG:{mimeType:"image/jpg",extension:"jpg",capture:!0},PNG:{mimeType:"image/png",extension:"png",capture:!0},SVG:{mimeType:"text/xml",extension:"svg",capture:!0},PDF:{mimeType:"application/pdf",extension:"pdf",capture:!0},CSV:{mimeType:"text/plain",extension:"csv"},JSON:{mimeType:"text/plain",extension:"json"},XLSX:{mimeType:"application/octet-stream",extension:"xlsx"}},fabric:{backgroundColor:"#FFFFFF",removeImages:!0,forceRemoveImages:!1,selection:!1,loadTimeout:5e3,drawing:{enabled:!0,arrow:"end",lineCap:"butt",mode:"pencil",modes:["pencil","line","arrow"],color:"#000000",colors:["#000000","#FFFFFF","#FF0000","#00FF00","#0000FF"],shapes:["11.svg","14.svg","16.svg","17.svg","20.svg","27.svg"],width:1,fontSize:11,widths:[1,5,10,15],opacity:1,opacities:[1,.8,.6,.4,.2],menu:void 0,autoClose:!0},border:{fill:"",fillOpacity:0,stroke:"#000000",strokeWidth:1,strokeOpacity:1}},pdfMake:{images:{},pageOrientation:"portrait",pageMargins:40,pageOrigin:!0,pageSize:"A4",pageSizes:{"4A0":[4767.87,6740.79],"2A0":[3370.39,4767.87],A0:[2383.94,3370.39],A1:[1683.78,2383.94],A2:[1190.55,1683.78],A3:[841.89,1190.55],A4:[595.28,841.89],A5:[419.53,595.28],A6:[297.64,419.53],A7:[209.76,297.64],A8:[147.4,209.76],A9:[104.88,147.4],A10:[73.7,104.88],B0:[2834.65,4008.19],B1:[2004.09,2834.65],B2:[1417.32,2004.09],B3:[1000.63,1417.32],B4:[708.66,1000.63],B5:[498.9,708.66],B6:[354.33,498.9],B7:[249.45,354.33],B8:[175.75,249.45],B9:[124.72,175.75],B10:[87.87,124.72],C0:[2599.37,3676.54],C1:[1836.85,2599.37],C2:[1298.27,1836.85],C3:[918.43,1298.27],C4:[649.13,918.43],C5:[459.21,649.13],C6:[323.15,459.21],C7:[229.61,323.15],C8:[161.57,229.61],C9:[113.39,161.57],C10:[79.37,113.39],RA0:[2437.8,3458.27],RA1:[1729.13,2437.8],RA2:[1218.9,1729.13],RA3:[864.57,1218.9],RA4:[609.45,864.57],SRA0:[2551.18,3628.35],SRA1:[1814.17,2551.18],SRA2:[1275.59,1814.17],SRA3:[907.09,1275.59],SRA4:[637.8,907.09],EXECUTIVE:[521.86,756],FOLIO:[612,936],LEGAL:[612,1008],LETTER:[612,792],TABLOID:[792,1224]}},menu:void 0,divId:null,menuReviver:null,menuWalker:null,fallback:!0,keyListener:!0,fileListener:!0,compress:!0},i18l:function(t,e){var n=e?langugage:i.setup.chart.language?i.setup.chart.language:"en",r=AmCharts.translations[i.name][n]||AmCharts.translations[i.name].en;return r[t]||t},download:function(t,e,n){if(window.saveAs&&i.setup.hasBlob){i.toBlob({data:t,type:e},function(t){saveAs(t,n)})}else if(i.config.fallback&&"text/plain"==e){var r=document.createElement("div"),a=document.createElement("div"),o=document.createElement("textarea");a.innerHTML=i.i18l("fallback.save.text"),r.appendChild(a),r.appendChild(o),a.setAttribute("class","amcharts-export-fallback-message"),r.setAttribute("class","amcharts-export-fallback"),i.setup.chart.containerDiv.appendChild(r),o.setAttribute("readonly",""),o.value=t,o.focus(),o.select(),i.createMenu([{class:"export-main export-close",label:"Done",click:function(){i.createMenu(i.config.menu),i.setup.chart.containerDiv.removeChild(r)}}])}else{if(!i.config.fallback||"image"!=e.split("/")[0])throw new Error("Unable to create file. Ensure saveAs (FileSaver.js) is supported.");var r=document.createElement("div"),a=document.createElement("div"),s=i.toImage({data:t});a.innerHTML=i.i18l("fallback.save.image"),r.appendChild(a),r.appendChild(s),a.setAttribute("class","amcharts-export-fallback-message"),r.setAttribute("class","amcharts-export-fallback"),i.setup.chart.containerDiv.appendChild(r),i.createMenu([{class:"export-main export-close",label:"Done",click:function(){i.createMenu(i.config.menu),i.setup.chart.containerDiv.removeChild(r)}}])}return t},loadResource:function(t,e){var n,r,a,o,s,l,u=t.indexOf("//")!=-1?t:[i.libs.path,t].join("");u=t;var c=function(){if(e)for(n=0;n<e.length;n++)i.loadResource(e[n])};for(t.indexOf(".js")!=-1?(a=document.createElement("script"),a.setAttribute("type","text/javascript"),a.setAttribute("src",u),i.libs.async&&a.setAttribute("async","")):t.indexOf(".css")!=-1&&(a=document.createElement("link"),a.setAttribute("type","text/css"),a.setAttribute("rel","stylesheet"),a.setAttribute("href",u)),n=0;n<document.head.childNodes.length;n++)if(o=document.head.childNodes[n],s=!!o&&(o.src||o.href),l=!!o&&o.tagName,o&&s&&s.indexOf(t)!=-1){i.libs.reload&&document.head.removeChild(o),r=!0;break}for(n in i.libs.namespaces){var h=i.libs.namespaces[n],s=t.toLowerCase(),o=n.toLowerCase();if(s.indexOf(o)!=-1&&void 0!==window[h]){r=!0;break}}r&&!i.libs.reload||(a.addEventListener("load",c),document.head.appendChild(a),i.listenersToRemove||(i.listenersToRemove=[]),i.listenersToRemove.push({node:a,method:c,event:"load"}))},loadDependencies:function(){var t,e;if(i.libs.autoLoad)for(t=0;t<i.libs.resources.length;t++)if(i.libs.resources[t]instanceof Object)for(e in i.libs.resources[t])i.loadResource(e,i.libs.resources[t][e]);else i.loadResource(i.libs.resources[t])},pxToNumber:function(t,e){if(t||!e)return Number(String(t).replace("px",""))||0},numberToPx:function(t){return String(t)+"px"},cloneObject:function(t){var e,r,a,o,s;e=Array.isArray(t)?[]:{};for(a in t)r=t[a],o="object"===("undefined"==typeof r?"undefined":n(r)),s=r instanceof Date,e[a]=o&&!s?i.cloneObject(r):r;return e},deepMerge:function(t,e,n){var r,a,o=e instanceof Array?"array":"object";for(r in e)"array"==o&&isNaN(r)||(a=e[r],(void 0==t[r]||n)&&(a instanceof Array?t[r]=new Array:a instanceof Function?t[r]=function(){}:a instanceof Date?t[r]=new Date:a instanceof Object?t[r]=new Object:a instanceof Number?t[r]=new Number:a instanceof String&&(t[r]=new String)),(t instanceof Object||t instanceof Array)&&(a instanceof Object||a instanceof Array)&&!(a instanceof Function||a instanceof Date||i.isElement(a))&&"chart"!=r?i.deepMerge(t[r],a,n):t instanceof Array&&!n?t.push(a):t[r]=a);return t},isElement:function(t){return t instanceof Object&&t&&1===t.nodeType},isHashbanged:function(t){var e=String(t).replace(/\"/g,"");return"url"==e.slice(0,3)&&e.slice(e.indexOf("#")+1,e.length-1)},isPressed:function(t){return"mousemove"==t.type&&1===t.which||("touchmove"==t.type||1===t.buttons||1===t.button||1===t.which?i.drawing.buffer.isPressed=!0:i.drawing.buffer.isPressed=!1),i.drawing.buffer.isPressed},removeImage:function(t){if(t){if(i.config.fabric.forceRemoveImages)return!0;if(i.config.fabric.removeImages&&i.isTainted(t))return!0;if(i.setup.isIE&&(10==i.setup.IEversion||11==i.setup.IEversion)&&t.toLowerCase().indexOf(".svg")!=-1)return!0}return!1},isTainted:function(t){var e=String(window.location.origin||window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:""));if(t){if(e.indexOf(":\\")!=-1||t.indexOf(":\\")!=-1||e.indexOf("file://")!=-1||t.indexOf("file://")!=-1)return!0;if(t.indexOf("//")!=-1&&t.indexOf(e.replace(/.*:/,""))==-1)return!0}return!1},isSupported:function(){return!!i.config.enabled&&!(i.setup.isIE&&i.setup.IEversion<=9&&(!Array.prototype.indexOf||!document.head||i.config.fallback===!1))},getAngle:function(t,e,n,r){var i,a=n-t,o=r-e;return i=0==a?0==o?0:o>0?Math.PI/2:3*Math.PI/2:0==o?a>0?0:Math.PI:a<0?Math.atan(o/a)+Math.PI:o<0?Math.atan(o/a)+2*Math.PI:Math.atan(o/a),180*i/Math.PI},gatherAttribute:function(t,e,n,r){var a,r=r?r:0,n=n?n:3;return t&&(a=t.getAttribute(e),!a&&r<n)?i.gatherAttribute(t.parentNode,e,n,r+1):a},gatherClassName:function(t,e,n,r){var a,r=r?r:0,n=n?n:3;if(i.isElement(t)){if(a=(t.getAttribute("class")||"").split(" ").indexOf(e)!=-1,!a&&r<n)return i.gatherClassName(t.parentNode,e,n,r+1);a&&(a=t)}return a},gatherElements:function(t,e,n){var r,a;for(r=0;r<t.children.length;r++){var o=t.children[r];if("clipPath"==o.tagName){var s={},l=fabric.parseTransformAttribute(i.gatherAttribute(o,"transform"));for(a=0;a<o.childNodes.length;a++)o.childNodes[a].setAttribute("fill","transparent"),s={x:i.pxToNumber(o.childNodes[a].getAttribute("x")),y:i.pxToNumber(o.childNodes[a].getAttribute("y")),width:i.pxToNumber(o.childNodes[a].getAttribute("width")),height:i.pxToNumber(o.childNodes[a].getAttribute("height"))};t.clippings[o.id]={svg:o,bbox:s,transform:l}}else if("pattern"==o.tagName){var u={node:o,source:o.getAttribute("xlink:href"),width:Number(o.getAttribute("width")),height:Number(o.getAttribute("height")),repeat:"repeat",offsetX:0,offsetY:0};for(a=0;a<o.childNodes.length;a++)if("rect"==o.childNodes[a].tagName)u.fill=o.childNodes[a].getAttribute("fill");else if("image"==o.childNodes[a].tagName){var c=fabric.parseAttributes(o.childNodes[a],fabric.SHARED_ATTRIBUTES);c.transformMatrix&&(u.offsetX=c.transformMatrix[4],u.offsetY=c.transformMatrix[5])}i.removeImage(u.source)?t.patterns[o.id]=u.fill?u.fill:"transparent":t.patterns[u.node.id]=u}else if("image"==o.tagName)n.included++,fabric.Image.fromURL(o.getAttribute("xlink:href"),function(t){n.loaded++});else{var c=["fill","stroke"];for(a=0;a<c.length;a++){var h=c[a],g=o.getAttribute(h),d=i.getRGBA(g),p=i.isHashbanged(g);!g||d||p||(o.setAttribute(h,"none"),o.setAttribute(h+"-opacity","0"))}}}return t},getRGBA:function(t,e){return!("none"==t||"transparent"==t||i.isHashbanged(t)||(t=new fabric.Color(t),!t._source))&&(e?t:t.getSource())},gatherPosition:function(t,e){var n,r=i.drawing.buffer.position,a=fabric.util.invertTransform(i.setup.fabric.viewportTransform);return"touchmove"==t.type&&("touches"in t?t=t.touches[0]:"changedTouches"in t&&(t=t.changedTouches[0])),n=fabric.util.transformPoint(i.setup.fabric.getPointer(t,!0),a),1==e&&(r.x1=n.x,r.y1=n.y),r.x2=n.x,r.y2=n.y,r.xD=r.x1-r.x2<0?(r.x1-r.x2)*-1:r.x1-r.x2,r.yD=r.y1-r.y2<0?(r.y1-r.y2)*-1:r.y1-r.y2,r},modifyFabric:function(){fabric.ElementsParser.prototype.resolveGradient=function(t,e){var n=t.get(e);if(/^url\(/.test(n)){var r=n.slice(n.indexOf("#")+1,n.length-1);fabric.gradientDefs[this.svgUid][r]&&t.set(e,fabric.Gradient.fromElement(fabric.gradientDefs[this.svgUid][r],t))}},fabric.Text.fromElement=function(t,e){if(!t)return null;var n=fabric.parseAttributes(t,fabric.Text.ATTRIBUTE_NAMES);e=fabric.util.object.extend(e?fabric.util.object.clone(e):{},n),e.top=e.top||0,e.left=e.left||0,"dx"in n&&(e.left+=n.dx),"dy"in n&&(e.top+=n.dy),"fontSize"in e||(e.fontSize=fabric.Text.DEFAULT_SVG_FONT_SIZE),e.originX||(e.originX="left");var r="",i=[];if("textContent"in t)if(t.childNodes)for(var a=0;a<t.childNodes.length;a++)i.push(t.childNodes[a].textContent);else i.push(t.textContent);else"firstChild"in t&&null!==t.firstChild&&"data"in t.firstChild&&null!==t.firstChild.data&&i.push(t.firstChild.data);r=i.join("\n");var o=new fabric.Text(r,e),s=0;return"left"===o.originX&&(s=o.getWidth()/2),"right"===o.originX&&(s=-o.getWidth()/2),i.length>1?o.set({left:o.getLeft()+s,top:o.getTop()+o.fontSize*(i.length-1)*(.18+o._fontSizeFraction),textAlign:e.originX,lineHeight:i.length>1?.965:1.16}):o.set({left:o.getLeft()+s,top:o.getTop()-o.getHeight()/2+o.fontSize*(.18+o._fontSizeFraction)}),o}},capture:function(t,e){var n,r=i.deepMerge(i.deepMerge({},i.config.fabric),t||{}),a=[],o={x:0,y:0,pX:0,pY:0,lX:0,lY:0,width:i.setup.chart.divRealWidth,height:i.setup.chart.divRealHeight},s={loaded:0,included:0},l={items:[],width:0,height:0,maxWidth:0,maxHeight:0};i.modifyFabric(),i.handleCallback(r.beforeCapture,r);var u=i.setup.chart.containerDiv.getElementsByTagName("svg");for(n=0;n<u.length;n++){var c={svg:u[n],parent:u[n].parentNode,children:u[n].getElementsByTagName("*"),offset:{x:0,y:0},patterns:{},clippings:{},has:{legend:!1,panel:!1,scrollbar:!1}};c.has.legend=i.gatherClassName(c.parent,i.setup.chart.classNamePrefix+"-legend-div",1),c.has.panel=i.gatherClassName(c.parent,i.setup.chart.classNamePrefix+"-stock-panel-div"),c.has.scrollbar=i.gatherClassName(c.parent,i.setup.chart.classNamePrefix+"-scrollbar-chart-div"),c=i.gatherElements(c,r,s),a.push(c)}if(i.config.legend){if("stock"==i.setup.chart.type)for(n=0;n<i.setup.chart.panels.length;n++)i.setup.chart.panels[n].stockLegend&&i.setup.chart.panels[n].stockLegend.divId&&l.items.push(i.setup.chart.panels[n].stockLegend);else i.setup.chart.legend&&i.setup.chart.legend.divId&&l.items.push(i.setup.chart.legend);for(n=0;n<l.items.length;n++){var h=l.items[n],c={svg:h.container.container,parent:h.container.container.parentNode,children:h.container.container.getElementsByTagName("*"),offset:{x:0,y:0},legend:{id:n,type:["top","left"].indexOf(i.config.legend.position)!=-1?"unshift":"push",position:i.config.legend.position,width:i.config.legend.width?i.config.legend.width:h.container.div.offsetWidth,height:i.config.legend.height?i.config.legend.height:h.container.div.offsetHeight},patterns:{},clippings:{},has:{legend:!1,panel:!1,scrollbar:!1}};l.width+=c.legend.width,l.height+=c.legend.height,l.maxWidth=c.legend.width>l.maxWidth?c.legend.width:l.maxWidth,l.maxHeight=c.legend.height>l.maxHeight?c.legend.height:l.maxHeight,c=i.gatherElements(c,r,s),a[c.legend.type](c)}["top","bottom"].indexOf(i.config.legend.position)!=-1?(o.width=l.maxWidth>o.width?l.maxWidth:o.width,o.height+=l.height):["left","right"].indexOf(i.config.legend.position)!=-1?(o.width+=l.maxWidth,o.height=l.height>o.height?l.height:o.height):(o.height+=l.height,o.width+=l.maxWidth)}if(i.drawing.enabled=r.drawing.enabled="draw"==r.action,i.drawing.buffer.enabled=i.drawing.enabled,i.setup.wrapper=document.createElement("div"),i.setup.wrapper.setAttribute("class",i.setup.chart.classNamePrefix+"-export-canvas"),i.setup.chart.containerDiv.appendChild(i.setup.wrapper),"stock"==i.setup.chart.type){var g={top:0,right:0,bottom:0,left:0};i.setup.chart.leftContainer&&(o.width-=i.setup.chart.leftContainer.offsetWidth,g.left=i.setup.chart.leftContainer.offsetWidth+2*i.setup.chart.panelsSettings.panelSpacing),i.setup.chart.rightContainer&&(o.width-=i.setup.chart.rightContainer.offsetWidth,g.right=i.setup.chart.rightContainer.offsetWidth+2*i.setup.chart.panelsSettings.panelSpacing),i.setup.chart.periodSelector&&["top","bottom"].indexOf(i.setup.chart.periodSelector.position)!=-1&&(o.height-=i.setup.chart.periodSelector.offsetHeight+i.setup.chart.panelsSettings.panelSpacing,g[i.setup.chart.periodSelector.position]+=i.setup.chart.periodSelector.offsetHeight+i.setup.chart.panelsSettings.panelSpacing),i.setup.chart.dataSetSelector&&["top","bottom"].indexOf(i.setup.chart.dataSetSelector.position)!=-1&&(o.height-=i.setup.chart.dataSetSelector.offsetHeight,g[i.setup.chart.dataSetSelector.position]+=i.setup.chart.dataSetSelector.offsetHeight),i.setup.wrapper.style.paddingTop=i.numberToPx(g.top),i.setup.wrapper.style.paddingRight=i.numberToPx(g.right),i.setup.wrapper.style.paddingBottom=i.numberToPx(g.bottom),i.setup.wrapper.style.paddingLeft=i.numberToPx(g.left)}for(i.setup.canvas=document.createElement("canvas"),i.setup.wrapper.appendChild(i.setup.canvas),i.setup.fabric=new fabric.Canvas(i.setup.canvas,i.deepMerge({width:o.width,height:o.height,isDrawingMode:!0},r)),i.deepMerge(i.setup.fabric,r),i.deepMerge(i.setup.fabric.freeDrawingBrush,r.drawing),i.deepMerge(i.drawing,r.drawing),i.drawing.handler.change(r.drawing),i.setup.fabric.on("mouse:down",function(t){i.gatherPosition(t.e,1);i.drawing.buffer.pressedTS=Number(new Date),i.isPressed(t.e)}),i.setup.fabric.on("mouse:move",function(t){var e=i.gatherPosition(t.e,2);if(i.isPressed(t.e),i.drawing.buffer.isPressed&&!i.drawing.buffer.line&&!i.drawing.buffer.isSelected&&"pencil"!=i.drawing.mode&&(e.xD>5||e.xD>5)&&(i.drawing.buffer.hasLine=!0,i.setup.fabric.isDrawingMode=!1,i.setup.fabric._onMouseUpInDrawingMode(t),i.drawing.buffer.line=i.drawing.handler.line({x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,arrow:"line"!=i.drawing.mode&&i.drawing.arrow,action:"config"})),i.drawing.buffer.line){var r,a,o,s=i.drawing.buffer.line;for(s.x2=e.x2,s.y2=e.y2,n=0;n<s.group.length;n++)r=s.group[n],r instanceof fabric.Line?r.set({x2:s.x2,y2:s.y2}):r instanceof fabric.Triangle&&(s.angle=i.getAngle(s.x1,s.y1,s.x2,s.y2)+90,"start"==s.arrow?(a=s.y1+s.width/2,o=s.x1+s.width/2):"middle"==s.arrow?(a=s.y2+s.width/2-(s.y2-s.y1)/2,o=s.x2+s.width/2-(s.x2-s.x1)/2):(a=s.y2+s.width/2,o=s.x2+s.width/2),r.set({top:a,left:o,angle:s.angle}));i.setup.fabric.renderAll()}}),i.setup.fabric.on("mouse:up",function(t){if(Number(new Date)-i.drawing.buffer.pressedTS<200){var e=i.setup.fabric.findTarget(t.e);e&&e.selectable&&i.setup.fabric.setActiveObject(e)}if(i.drawing.buffer.line){for(n=0;n<i.drawing.buffer.line.group.length;n++)i.drawing.buffer.line.group[n].remove();delete i.drawing.buffer.line.action,delete i.drawing.buffer.line.group,i.drawing.handler.line(i.drawing.buffer.line)}i.drawing.buffer.line=!1,i.drawing.buffer.hasLine=!1,i.drawing.buffer.isPressed=!1}),i.setup.fabric.on("object:selected",function(t){i.drawing.buffer.isSelected=!0,i.drawing.buffer.target=t.target,i.setup.fabric.isDrawingMode=!1}),i.setup.fabric.on("selection:cleared",function(t){i.drawing.buffer.onMouseDown=i.setup.fabric.freeDrawingBrush.onMouseDown,i.drawing.buffer.target=!1,i.drawing.buffer.isSelected&&(i.setup.fabric._isCurrentlyDrawing=!1,i.setup.fabric.freeDrawingBrush.onMouseDown=function(){}),setTimeout(function(){i.drawing.buffer.isSelected=!1,i.setup.fabric.isDrawingMode=!0,i.setup.fabric.freeDrawingBrush.onMouseDown=i.drawing.buffer.onMouseDown},10)}),i.setup.fabric.on("path:created",function(t){var e=t.path;if(Number(new Date)-i.drawing.buffer.pressedTS<200||i.drawing.buffer.hasLine)return i.setup.fabric.remove(e),void i.setup.fabric.renderAll()}),i.setup.fabric.on("object:added",function(t){var e=t.target,n=i.deepMerge(e.saveState().originalState,{cfg:{color:i.drawing.color,width:i.drawing.width,opacity:i.drawing.opacity,fontSize:i.drawing.fontSize}});return Number(new Date)-i.drawing.buffer.pressedTS<200&&!e.noUndo?(i.setup.fabric.remove(e),void i.setup.fabric.renderAll()):(n=JSON.stringify(n),e.recentState=n,!e.selectable||e.known||e.noUndo||(e.isAnnotation=!0,i.drawing.undos.push({action:"added",target:e,state:n}),i.drawing.undos.push({action:"addified",target:e,state:n}),i.drawing.redos=[]),e.known=!0,void(i.setup.fabric.isDrawingMode=!0))}),i.setup.fabric.on("object:modified",function(t){var e=t.target,n=JSON.parse(e.recentState),r=i.deepMerge(e.saveState().originalState,{cfg:n.cfg});r=JSON.stringify(r),e.recentState=r,i.drawing.undos.push({action:"modified",target:e,state:r}),i.drawing.redos=[]}),i.setup.fabric.on("text:changed",function(t){var e=t.target;clearTimeout(e.timer),e.timer=setTimeout(function(){var t=JSON.stringify(e.saveState().originalState);e.recentState=t,i.drawing.redos=[],i.drawing.undos.push({action:"modified",target:e,state:t})},250)}),i.drawing.enabled?(i.setup.wrapper.setAttribute("class",i.setup.chart.classNamePrefix+"-export-canvas active"),i.setup.wrapper.style.backgroundColor=r.backgroundColor,i.setup.wrapper.style.display="block"):(i.setup.wrapper.setAttribute("class",i.setup.chart.classNamePrefix+"-export-canvas"),i.setup.wrapper.style.display="none"),n=0;n<a.length;n++){var c=a[n];"stock"==i.setup.chart.type&&i.setup.chart.legendSettings.position?["top","bottom"].indexOf(i.setup.chart.legendSettings.position)!=-1?c.parent.style.top&&c.parent.style.left?(c.offset.y=i.pxToNumber(c.parent.style.top),c.offset.x=i.pxToNumber(c.parent.style.left)):(c.offset.x=o.x,c.offset.y=o.y,o.y+=i.pxToNumber(c.parent.style.height),c.has.panel?(o.pY=i.pxToNumber(c.has.panel.style.marginTop),c.offset.y+=o.pY):c.has.scrollbar&&(c.offset.y+=o.pY)):["left","right"].indexOf(i.setup.chart.legendSettings.position)!=-1&&(c.offset.y=i.pxToNumber(c.parent.style.top)+o.pY,c.offset.x=i.pxToNumber(c.parent.style.left)+o.pX,c.has.legend?o.pY+=i.pxToNumber(c.has.panel.style.height)+i.setup.chart.panelsSettings.panelSpacing:c.has.scrollbar&&(c.offset.y-=i.setup.chart.panelsSettings.panelSpacing)):("absolute"==c.parent.style.position?(c.offset.absolute=!0,c.offset.top=i.pxToNumber(c.parent.style.top),c.offset.right=i.pxToNumber(c.parent.style.right,!0),c.offset.bottom=i.pxToNumber(c.parent.style.bottom,!0),c.offset.left=i.pxToNumber(c.parent.style.left),c.offset.width=i.pxToNumber(c.parent.style.width),c.offset.height=i.pxToNumber(c.parent.style.height)):c.parent.style.top&&c.parent.style.left?(c.offset.y=i.pxToNumber(c.parent.style.top),c.offset.x=i.pxToNumber(c.parent.style.left)):c.legend?("left"==c.legend.position?o.x=l.maxWidth:"right"==c.legend.position?c.offset.x=o.width-l.maxWidth:"top"==c.legend.position?o.y+=c.legend.height:"bottom"==c.legend.position&&(c.offset.y=o.height-l.height),c.offset.y+=o.lY,o.lY+=c.legend.height):(c.offset.x=o.x,c.offset.y=o.y+o.pY,o.y+=i.pxToNumber(c.parent.style.height)),c.has.legend&&c.has.panel&&c.has.panel.style.marginTop?(o.y+=i.pxToNumber(c.has.panel.style.marginTop),c.offset.y+=i.pxToNumber(c.has.panel.style.marginTop)):i.setup.chart.legend&&["left","right"].indexOf(i.setup.chart.legend.position)!=-1&&(c.offset.y=i.pxToNumber(c.parent.style.top),c.offset.x=i.pxToNumber(c.parent.style.left))),fabric.parseSVGDocument(c.svg,function(t){return function(n,l){var u,c=fabric.util.groupSVGElements(n,l),h=[],g={selectable:!1,isCoreElement:!0};for(t.offset.absolute?(void 0!==t.offset.bottom?g.top=o.height-t.offset.height-t.offset.bottom:g.top=t.offset.top,void 0!==t.offset.right?g.left=o.width-t.offset.width-t.offset.right:g.left=t.offset.left):(g.top=t.offset.y,g.left=t.offset.x),u=0;u<c.paths.length;u++){var d=null;if(c.paths[u]){if(i.removeImage(c.paths[u]["xlink:href"]))continue;if(c.paths[u].fill instanceof Object)"radial"==c.paths[u].fill.type&&["pie","gauge"].indexOf(i.setup.chart.type)==-1&&(c.paths[u].fill.coords.r2=c.paths[u].fill.coords.r1*-1,c.paths[u].fill.coords.r1=0,c.paths[u].set({opacity:c.paths[u].fillOpacity}));else if((d=i.isHashbanged(c.paths[u].fill))&&t.patterns&&t.patterns[d]){var p=t.patterns[d];s.included++,fabric.Image.fromURL(p.source,function(t,e){return function(n){s.loaded++,n.set({top:t.offsetY,left:t.offsetX,width:t.width,height:t.height}),i.setup.fabric._isRetinaScaling()&&n.set({top:t.offsetY/2,left:t.offsetX/2,scaleX:.5,scaleY:.5});var r=new fabric.StaticCanvas(void 0,{backgroundColor:t.fill,width:n.getWidth(),height:n.getHeight()});r.add(n);var a=new fabric.Pattern({source:r.getElement(),offsetX:c.paths[e].width/2,offsetY:c.paths[e].height/2,repeat:"repeat"});c.paths[e].set({fill:a,opacity:c.paths[e].fillOpacity})}}(p,u))}(d=i.isHashbanged(c.paths[u].clipPath))&&t.clippings&&t.clippings[d]&&(!function(e,n){var r=c.paths[e].toSVG;c.paths[e].toSVG=function(e){return r.apply(this,[function(r){return e(r,t.clippings[n])}])}}(u,d),c.paths[u].set({clipTo:function(e,n){return function(e){var r=t.clippings[n],a=this.transformMatrix||[1,0,0,1,0,0],o={top:r.bbox.y,left:r.bbox.x,width:r.bbox.width,height:r.bbox.height};"map"==i.setup.chart.type&&(o.top+=r.transform[5],o.left+=r.transform[4]),r.bbox.x&&a[4]&&r.bbox.y&&a[5]&&(o.top-=a[5],o.left-=a[4]),e.rect(o.left,o.top,o.width,o.height)}}(u,d)}))}h.push(c.paths[u])}if(c.paths=h,c.set(g),i.setup.fabric.add(c),t.svg.parentNode&&t.svg.parentNode.getElementsByTagName){var f=t.svg.parentNode.getElementsByClassName(i.setup.chart.classNamePrefix+"-balloon-div");for(u=0;u<f.length;u++)if(r.balloonFunction instanceof Function)r.balloonFunction.apply(i,[f[u],t]);else{var A=f[u],C=fabric.parseStyleAttribute(A),I=fabric.parseStyleAttribute(A.childNodes[0]),m=new fabric.Text(A.innerText||A.textContent||A.innerHTML,{selectable:!1,top:C.top+t.offset.y,left:C.left+t.offset.x,fill:I.color,fontSize:I.fontSize,fontFamily:I.fontFamily,textAlign:I["text-align"],isCoreElement:!0});i.setup.fabric.add(m)}}if(t.svg.nextSibling&&"A"==t.svg.nextSibling.tagName){var A=t.svg.nextSibling,C=fabric.parseStyleAttribute(A),m=new fabric.Text(A.innerText||A.textContent||A.innerHTML,{selectable:!1,top:C.top+t.offset.y,left:C.left+t.offset.x,fill:C.color,fontSize:C.fontSize,fontFamily:C.fontFamily,opacity:C.opacity,isCoreElement:!0});t.has.scrollbar||i.setup.fabric.add(m)}if(a.pop(),!a.length)var v=Number(new Date),y=setInterval(function(){var t=Number(new Date);(s.loaded==s.included||t-v>i.config.fabric.loadTimeout)&&(clearTimeout(y),i.handleBorder(r),i.handleCallback(r.afterCapture,r),i.setup.fabric.renderAll(),i.handleCallback(e,r))},AmCharts.updateRate)}}(c),function(t,e){var n,a=i.gatherAttribute(t,"class"),o=i.gatherAttribute(t,"visibility"),s=i.gatherAttribute(t,"clip-path");if(e.className=String(a),e.classList=String(a).split(" "),e.clipPath=s,e.svg=t,"hidden"==o)e.opacity=0;else{var l=["fill","stroke"];for(n=0;n<l.length;n++){var u=l[n],c=String(t.getAttribute(u)||"none"),h=Number(t.getAttribute(u+"-opacity")||"1"),g=i.getRGBA(c);g&&(g.pop(),g.push(h),e[u]="rgba("+g.join()+")",e[u+i.capitalize("opacity")]=h)}}i.handleCallback(r.reviver,e,t)})}},toCanvas:function(t,e){var n=i.deepMerge({},t||{}),r=i.setup.canvas;return i.handleCallback(e,r,n),r},toImage:function(t,e){var n=i.deepMerge({format:"png",quality:1,multiplier:i.config.multiplier},t||{}),r=n.data,a=document.createElement("img");return n.data||(r=n.lossless||"svg"==n.format?i.toSVG(i.deepMerge(n,{getBase64:!0})):i.setup.fabric.toDataURL(n)),a.setAttribute("src",r),i.handleCallback(e,a,n),a},toBlob:function(t,e){var n,r=i.deepMerge({data:"empty",type:"text/plain"},t||{}),a=/^data:.+;base64,(.*)$/.exec(r.data);return a&&(r.data=a[0],r.type=r.data.slice(5,r.data.indexOf(",")-7),r.data=i.toByteArray({data:r.data.slice(r.data.indexOf(",")+1,r.data.length)})),n=r.getByteArray?r.data:new Blob([r.data],{type:r.type}),i.handleCallback(e,n,r),n},toJPG:function(t,e){var n=i.deepMerge({format:"jpeg",quality:1,multiplier:i.config.multiplier},t||{});n.format=n.format.toLowerCase();var r=i.setup.fabric.toDataURL(n);return i.handleCallback(e,r,n),r},toPNG:function(t,e){var n=i.deepMerge({format:"png",quality:1,multiplier:i.config.multiplier},t||{}),r=i.setup.fabric.toDataURL(n);return i.handleCallback(e,r,n),r},toSVG:function(t,e){var n=[],r=i.deepMerge({compress:i.config.compress,reviver:function(t,e){var r=new RegExp(/\bstyle=(['"])(.*?)\1/),a=r.exec(t)[0].slice(7,-1),o=a.split(";"),s=[];for(i1=0;i1<o.length;i1++)if(o[i1]){var l=o[i1].replace(/\s/g,"").split(":"),u=l[0],c=l[1];if(["fill","stroke"].indexOf(u)!=-1)if(c=i.getRGBA(c,!0)){var h="#"+c.toHex(),g=c._source[3];s.push([u,h].join(":")),s.push([u+"-opacity",g].join(":"))}else s.push(o[i1]);else"opactiy"!=u&&s.push(o[i1])}if(t=t.replace(a,s.join(";")),e){var d=2,p=t.slice(-d);"/>"!=p&&(d=3,p=t.slice(-d));var f=t.slice(0,t.length-d),A=' clip-path="url(#'+e.svg.id+')" ',C=(new XMLSerializer).serializeToString(e.svg);t=f+A+p,n.push(C)}return t}},t||{}),a=i.setup.fabric.toSVG(r,r.reviver);if(n.length){var o=a.slice(0,a.length-6),s=a.slice(-6);a=o+n.join("")+s}return r.compress&&(a=a.replace(/[\t\r\n]+/g,"")),r.getBase64&&(a="data:image/svg+xml;base64,"+btoa(a)),i.handleCallback(e,a,r),a},toPDF:function(t,e){function n(t){if("number"==typeof t||t instanceof Number)t={left:t,right:t,top:t,bottom:t};else if(t instanceof Array)if(2===t.length)t={left:t[0],top:t[1],right:t[0],bottom:t[1]};else{if(4!==t.length)throw"Invalid pageMargins definition";t={left:t[0],top:t[1],right:t[2],bottom:t[3]}}else t={left:i.defaults.pdfMake.pageMargins,top:i.defaults.pdfMake.pageMargins,right:i.defaults.pdfMake.pageMargins,bottom:i.defaults.pdfMake.pageMargins};return t}function r(t,e){var n=i.defaults.pdfMake.pageSizes[String(t).toUpperCase()].slice();if(!n)throw new Error('The given pageSize "'+t+'" does not exist!');return"landscape"==e&&n.reverse(),n}var a=i.deepMerge(i.deepMerge({multiplier:i.config.multiplier||2,pageOrigin:void 0===i.config.pageOrigin},i.config.pdfMake),t||{},!0),o=new pdfMake.createPdf(a);if(a.images.reference=i.toPNG(a),!a.content){var s=[],l=r(a.pageSize,a.pageOrientation),u=n(a.pageMargins);l[0]-=u.left+u.right,l[1]-=u.top+u.bottom,a.pageOrigin&&(s.push(i.i18l("label.saved.from")),s.push(window.location.href),l[1]-=28.128),s.push({image:"reference",fit:l}),a.content=s}return e&&o.getDataUrl(function(t){return function(e){t.apply(i,arguments)}}(e)),o},toPRINT:function(t,e){var n,r=i.deepMerge({delay:1,lossless:!1},t||{}),a=i.toImage(r),o=[],s=document.body.childNodes,l=document.documentElement.scrollTop||document.body.scrollTop;for(a.setAttribute("style","width: 100%; max-height: 100%;"),n=0;n<s.length;n++)i.isElement(s[n])&&(o[n]=s[n].style.display,s[n].style.display="none");return document.body.appendChild(a),window.print(),setTimeout(function(){for(n=0;n<s.length;n++)i.isElement(s[n])&&(s[n].style.display=o[n]);document.body.removeChild(a),document.documentElement.scrollTop=document.body.scrollTop=l,i.handleCallback(e,a,r)},r.delay),a},toJSON:function(t,e){var n=i.deepMerge({dateFormat:i.config.dateFormat||"dateObject"},t||{},!0),r={};return n.data=void 0!==n.data?n.data:i.getChartData(n),r=JSON.stringify(n.data,void 0,"\t"),i.handleCallback(e,r,n),r},toCSV:function(t,e){var n,r=i.deepMerge({delimiter:",",quotes:!0,escape:!0,withHeader:!0},t||{},!0),a=[],o="";a=i.toArray(r);for(n in a)isNaN(n)||(o+=a[n].join(r.delimiter)+"\n");return i.handleCallback(e,o,r),o},toXLSX:function(t,e){function n(t,e){e&&(t+=1462);var n=Date.parse(t),r=60*t.getTimezoneOffset()*1e3;return(n-r-new Date(Date.UTC(1899,11,30)))/864e5}function r(t,e){for(var r={},i={s:{c:1e7,r:1e7},e:{c:0,r:0}},a=0;a!=t.length;++a)for(var o=0;o!=t[a].length;++o){i.s.r>a&&(i.s.r=a),i.s.c>o&&(i.s.c=o),i.e.r<a&&(i.e.r=a),i.e.c<o&&(i.e.c=o);var s={v:t[a][o]};if(null!=s.v){var l=XLSX.utils.encode_cell({c:o,r:a});"number"==typeof s.v?s.t="n":"boolean"==typeof s.v?s.t="b":s.v instanceof Date?(s.t="n",s.z=XLSX.SSF._table[14],s.v=n(s.v)):s.t="s",r[l]=s}}return i.s.c<1e7&&(r["!ref"]=XLSX.utils.encode_range(i)),r}var a=i.deepMerge({name:"amCharts",dateFormat:i.config.dateFormat||"dateObject",withHeader:!0,stringify:!1},t||{},!0),o=[],s="",l={SheetNames:[],Sheets:{}};return o=i.toArray(a),l.SheetNames.push(a.name),l.Sheets[a.name]=r(o),s=XLSX.write(l,{bookType:"xlsx",bookSST:!0,type:"base64"}),
s="data:application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;base64,"+s,i.handleCallback(e,s,a),s},toArray:function(t,e){function n(t,e){var n=e.exportFields||Object.keys(e.dataFieldsMap);for(o=0;o<n.length;o++){var r=n[o],a=e.dataFieldsTitlesMap[r];u.push(a)}return h?i.handleCallback(h,t,e):t}function r(t){return"string"==typeof t&&(s.escape&&(t=t.replace('"','""')),s.quotes&&(t=['"',t,'"'].join(""))),t}var a,o,s=i.deepMerge({withHeader:!1,stringify:!0,escape:!1,quotes:!1},t||{},!0),l=[],u=[],c=[],h=i.config.processData;if(s.processData=n,s.data=void 0!==s.data?s.data:i.getChartData(s),s.withHeader){c=[];for(o in u)isNaN(o)||c.push(r(u[o]));l.push(c)}for(a in s.data)if(c=[],!isNaN(a)){for(o in u)if(!isNaN(o)){var o=u[o],g=s.data[a][o];g=null==g?"":s.stringify?String(g):g,c.push(r(g))}l.push(c)}return i.handleCallback(e,l,s),l},toByteArray:function(t,e){function n(t){var e=t.charCodeAt(0);return e===s?62:e===l?63:e<u?-1:e<u+10?e-u+26+26:e<h+26?e-h:e<c+26?e-c+26:void 0}function r(t){function e(t){u[h++]=t}var r,i,a,s,l,u;if(t.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var c=t.length;l="="===t.charAt(c-2)?2:"="===t.charAt(c-1)?1:0,u=new o(3*t.length/4-l),a=l>0?t.length-4:t.length;var h=0;for(r=0,i=0;r<a;r+=4,i+=3)s=n(t.charAt(r))<<18|n(t.charAt(r+1))<<12|n(t.charAt(r+2))<<6|n(t.charAt(r+3)),e((16711680&s)>>16),e((65280&s)>>8),e(255&s);return 2===l?(s=n(t.charAt(r))<<2|n(t.charAt(r+1))>>4,e(255&s)):1===l&&(s=n(t.charAt(r))<<10|n(t.charAt(r+1))<<4|n(t.charAt(r+2))>>2,e(s>>8&255),e(255&s)),u}var a=i.deepMerge({},t||{}),o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="+".charCodeAt(0),l="/".charCodeAt(0),u="0".charCodeAt(0),c="a".charCodeAt(0),h="A".charCodeAt(0),g=r(a.data);return i.handleCallback(e,g,a),g},handleCallback:function(t){var e,n=Array();if(t&&t instanceof Function){for(e=0;e<arguments.length;e++)e>0&&n.push(arguments[e]);return t.apply(i,n)}},handleBorder:function(t){if(i.config.border instanceof Object){var e=i.deepMerge(i.defaults.fabric.border,t.border||{},!0),n=new fabric.Rect;e.width=i.setup.fabric.width-e.strokeWidth,e.height=i.setup.fabric.height-e.strokeWidth,n.set(e),i.setup.fabric.add(n)}},handleDropbox:function(t){if(i.drawing.enabled)if(t.preventDefault(),t.stopPropagation(),"dragover"==t.type)i.setup.wrapper.setAttribute("class",i.setup.chart.classNamePrefix+"-export-canvas active dropbox");else if(i.setup.wrapper.setAttribute("class",i.setup.chart.classNamePrefix+"-export-canvas active"),"drop"==t.type&&t.dataTransfer.files.length)for(var e=0;e<t.dataTransfer.files.length;e++){var n=new FileReader;n.onloadend=function(e){return function(){i.drawing.handler.add({url:n.result,top:t.layerY-10*e,left:t.layerX-10*e})}}(e),n.readAsDataURL(t.dataTransfer.files[e])}},handleReady:function(t){var e=this,n=Number(new Date);e.handleCallback(t,"data",!1);for(filename in e.libs.namespaces){var r=e.libs.namespaces[filename];!function(r){var i=setInterval(function(){var a=Number(new Date);(a-n>e.libs.loadTimeout||r in window)&&(clearTimeout(i),e.handleCallback(t,r,a-n>e.libs.loadTimeout))},AmCharts.updateRate)}(r)}},getChartData:function(t){function e(t,e,r){function a(t,e){return l.dataFields.indexOf(t)!=-1?a([t,".",e].join("")):t}t&&l.exportTitles&&"gantt"!=i.setup.chart.type&&(n=a(t,r),l.dataFieldsMap[n]=t,l.dataFields.push(n),l.titles[n]=e||n)}var n,r,a,o,s,l=i.deepMerge({data:[],titles:{},dateFields:[],dataFields:[],dataFieldsMap:{},exportTitles:i.config.exportTitles,exportFields:i.config.exportFields,exportSelection:i.config.exportSelection,columnNames:i.config.columnNames},t||{},!0),u=["valueField","openField","closeField","highField","lowField","xField","yField"];if(0==l.data.length)if("stock"==i.setup.chart.type){for(l.data=i.cloneObject(i.setup.chart.mainDataSet.dataProvider),e(i.setup.chart.mainDataSet.categoryField),l.dateFields.push(i.setup.chart.mainDataSet.categoryField),r=0;r<i.setup.chart.mainDataSet.fieldMappings.length;r++){var c=i.setup.chart.mainDataSet.fieldMappings[r];for(a=0;a<i.setup.chart.panels.length;a++){var h=i.setup.chart.panels[a];for(o=0;o<h.stockGraphs.length;o++){var g=h.stockGraphs[o];for(i4=0;i4<u.length;i4++)g[u[i4]]==c.toField&&e(c.fromField,g.title,u[i4])}}}if(i.setup.chart.comparedGraphs.length){for(s=[],r=0;r<l.data.length;r++)s.push(l.data[r][i.setup.chart.mainDataSet.categoryField]);for(r=0;r<i.setup.chart.comparedGraphs.length;r++){var g=i.setup.chart.comparedGraphs[r];for(a=0;a<g.dataSet.dataProvider.length;a++){var d=g.dataSet.categoryField,p=g.dataSet.dataProvider[a][d],f=s.indexOf(p);if(f!=-1)for(o=0;o<g.dataSet.fieldMappings.length;o++){var c=g.dataSet.fieldMappings[o],n=g.dataSet.id+"_"+c.toField;l.data[f][n]=g.dataSet.dataProvider[a][c.fromField],l.titles[n]||e(n,g.dataSet.title)}}}}}else if("gantt"==i.setup.chart.type){e(i.setup.chart.categoryField),l.dateFields.push(i.setup.chart.categoryField);var A=i.setup.chart.segmentsField;for(r=0;r<i.setup.chart.dataProvider.length;r++){var C=i.setup.chart.dataProvider[r];if(C[A])for(a=0;a<C[A].length;a++)C[A][a][i.setup.chart.categoryField]=C[i.setup.chart.categoryField],l.data.push(C[A][a])}for(r=0;r<i.setup.chart.graphs.length;r++){var g=i.setup.chart.graphs[r];for(a=0;a<u.length;a++){var I=u[a],m=g[I];g.title;e(m,g.title,I)}}}else if(["pie","funnel"].indexOf(i.setup.chart.type)!=-1)l.data=i.setup.chart.dataProvider,e(i.setup.chart.titleField),l.dateFields.push(i.setup.chart.titleField),e(i.setup.chart.valueField);else if("map"!=i.setup.chart.type)for(l.data=i.setup.chart.dataProvider,i.setup.chart.categoryAxis&&(e(i.setup.chart.categoryField,i.setup.chart.categoryAxis.title),i.setup.chart.categoryAxis.parseDates!==!1&&l.dateFields.push(i.setup.chart.categoryField)),r=0;r<i.setup.chart.graphs.length;r++){var g=i.setup.chart.graphs[r];for(a=0;a<u.length;a++){var I=u[a],m=g[I];e(m,g.title,I)}}return i.processData(l)},getAnnotations:function(t,e){var n,r=i.deepMerge({},t||{},!0),a=[];for(n=0;n<i.setup.fabric._objects.length;n++)if(!i.setup.fabric._objects[n].isCoreElement){var o=i.setup.fabric._objects[n].toJSON();i.handleCallback(r.reviver,o,n),a.push(o)}return i.handleCallback(e,a),a},setAnnotations:function(t,e){var n=i.deepMerge({data:[]},t||{},!0);return fabric.util.enlivenObjects(n.data,function(t){t.forEach(function(t,e){i.handleCallback(n.reviver,t,e),i.setup.fabric.add(t)}),i.handleCallback(e,n)}),n.data},processData:function(e){var n,r,a=i.deepMerge({data:[],titles:{},dateFields:[],dataFields:[],dataFieldsMap:{},dataFieldsTitlesMap:{},dataDateFormat:i.setup.chart.dataDateFormat,dateFormat:i.config.dateFormat||i.setup.chart.dataDateFormat||"YYYY-MM-DD",exportTitles:i.config.exportTitles,exportFields:i.config.exportFields,exportSelection:i.config.exportSelection,columnNames:i.config.columnNames,processData:i.config.processData},e||{},!0);if(a.data.length){for(n=0;n<a.data.length;n++)for(r in a.data[n])a.dataFields.indexOf(r)==-1&&(a.dataFields.push(r),a.dataFieldsMap[r]=r);void 0!==a.exportFields&&(a.dataFields=a.exportFields.filter(function(t){return a.dataFields.indexOf(t)!=-1}));var o=[];for(n=0;n<a.data.length;n++){var s={},l=!1;for(r=0;r<a.dataFields.length;r++){var u=a.dataFields[r],c=a.dataFieldsMap[u],h=a.columnNames&&a.columnNames[u]||a.titles[u]||u,g=a.data[n][c];null==g&&(g=void 0),a.exportTitles&&"gantt"!=i.setup.chart.type&&h in s&&(h+=["( ",u," )"].join("")),a.dateFields.indexOf(c)!=-1&&(a.dataDateFormat&&(g instanceof String||"string"==typeof g)?g=AmCharts.stringToDate(g,a.dataDateFormat):a.dateFormat&&(g instanceof Number||"number"==typeof g)&&(g=new Date(g)),a.exportSelection&&(g instanceof Date?(g<t.startDate||g>t.endDate)&&(l=!0):(n<t.startIndex||n>t.endIndex)&&(l=!0)),a.dateFormat&&"dateObject"!=a.dateFormat&&g instanceof Date&&(g=AmCharts.formatDate(g,a.dateFormat))),a.dataFieldsTitlesMap[c]=h,s[h]=g}l||o.push(s)}a.data=o}return void 0!==a.processData&&(a.data=i.handleCallback(a.processData,a.data,a)),a.data},capitalize:function(t){return t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()},createMenu:function(e,n){function r(e,n){var o,s,l=document.createElement("ul");for(o=0;o<e.length;o++){var u="string"==typeof e[o]?{format:e[o]}:e[o],c=document.createElement("li"),h=document.createElement("a"),g=document.createElement("img"),d=document.createElement("span"),p=String(u.action?u.action:u.format).toLowerCase();if(u.format=String(u.format).toUpperCase(),i.config.formats[u.format]?u=i.deepMerge({label:u.icon?"":u.format,format:u.format,mimeType:i.config.formats[u.format].mimeType,extension:i.config.formats[u.format].extension,capture:i.config.formats[u.format].capture,action:i.config.action,fileName:i.config.fileName},u):u.label||(u.label=u.label?u.label:i.i18l("menu.label."+p)),(["CSV","JSON","XLSX"].indexOf(u.format)==-1||["map","gauge"].indexOf(i.setup.chart.type)==-1)&&(i.setup.hasBlob||"UNDEFINED"==u.format||!u.mimeType||"image"==u.mimeType.split("/")[0]||"text/plain"==u.mimeType)){if("draw"==u.action)i.config.fabric.drawing.enabled?(u.menu=u.menu?u.menu:i.config.fabric.drawing.menu,u.click=function(t){return function(){this.capture(t,function(){this.createMenu(t.menu)})}}(u)):u.menu=[];else if(!u.populated&&u.action&&u.action.indexOf("draw.")!=-1){var f=u.action.split(".")[1],A=u[f]||i.config.fabric.drawing[f]||[];for(u.menu=[],u.populated=!0,s=0;s<A.length;s++){var C={label:A[s]};if("shapes"==f){var I=A[s].indexOf("//")==-1,m=(I?i.config.path+"shapes/":"")+A[s];C.action="add",C.url=m,C.icon=m,C.ignore=I,C.class="export-drawing-shape"}else"colors"==f?(C.style="background-color: "+A[s],C.action="change",C.color=A[s],C.class="export-drawing-color"):"widths"==f?(C.action="change",C.width=A[s],C.label=document.createElement("span"),C.label.style.width=i.numberToPx(A[s]),C.label.style.height=i.numberToPx(A[s]),C.class="export-drawing-width"):"opacities"==f?(C.style="opacity: "+A[s],C.action="change",C.opacity=A[s],C.label=100*A[s]+"%",C.class="export-drawing-opacity"):"modes"==f&&(C.label=i.i18l("menu.label.draw.modes."+A[s]),C.click=function(t){return function(){i.drawing.mode=t}}(A[s]),C.class="export-drawing-mode");u.menu.push(C)}}else u.click||u.menu||u.items||(i.drawing.handler[p]instanceof Function?(u.action=p,u.click=function(t){return function(){this.drawing.handler[t.action](t)}}(u)):i.drawing.enabled?u.click=function(t){return function(){this.config.drawing.autoClose&&this.drawing.handler.done(),this["to"+t.format](t,function(e){"download"==t.action&&this.download(e,t.mimeType,[t.fileName,t.extension].join("."))})}}(u):"UNDEFINED"!=u.format&&(u.click=function(t){return function(){if(t.capture||"print"==t.action||"PRINT"==t.format)this.capture(t,function(){this.drawing.handler.done(),this["to"+t.format](t,function(e){"download"==t.action&&this.download(e,t.mimeType,[t.fileName,t.extension].join("."))})});else{if(!this["to"+t.format])throw new Error("Invalid format. Could not determine output type.");this["to"+t.format](t,function(e){this.download(e,t.mimeType,[t.fileName,t.extension].join("."))})}}}(u)));(void 0===u.menu||u.menu.length)&&(h.setAttribute("href","#"),h.addEventListener("click",function(t,e){return function(n){n.preventDefault();var r=[n,e];return("draw"==e.action||"PRINT"==e.format||"UNDEFINED"!=e.format&&e.capture)&&!i.drawing.enabled&&(e.delay=e.delay?e.delay:i.config.delay,e.delay)?void i.delay(e,t):void t.apply(i,r)}}(u.click||function(t){t.preventDefault()},u)),i.setup.hasTouch&&c.classList&&h.addEventListener("click",function(t){return function(e){function n(t){var e=t.parentNode.parentNode,n=e.classList;return!("LI"!=e.tagName||!n.contains("active"))}function r(t){var e=t.parentNode.children;for(o=0;o<e.length;o++){var n=e[o],r=n.classList;if(n!==t&&r.contains("active"))return r.remove("active"),!0}return!1}function s(t){return t.getElementsByTagName("ul").length>0}function l(t){return t.classList.contains("export-main")||t.classList.contains("export-drawing")}e.preventDefault();var u=t.elements.li,c=n(u),h=(r(u),s(u));if(!l(u)&&h||i.setup.menu.classList.toggle("active"),!c||!h)for(;a.length;){var g=a.pop(),d=l(g),p=g!==u;d?h||g.classList.remove("active"):p&&g.classList.remove("active")}a.push(u),h&&u.classList.toggle("active")}}(u)),c.appendChild(h),i.isElement(u.label)?d.appendChild(u.label):d.innerHTML=u.label,u.class&&(c.className=u.class),u.style&&c.setAttribute("style",u.style),u.icon&&(g.setAttribute("src",(u.ignore||u.icon.slice(0,10).indexOf("//")!=-1?"":t.pathToImages)+u.icon),h.appendChild(g)),u.label&&h.appendChild(d),u.title&&h.setAttribute("title",u.title),i.config.menuReviver&&(c=i.config.menuReviver.apply(i,[u,c])),u.elements={li:c,a:h,img:g,span:d},(u.menu||u.items)&&"draw"!=u.action?r(u.menu||u.items,c).childNodes.length&&l.appendChild(c):l.appendChild(c))}}return l.childNodes.length&&n.appendChild(l),l}var a=[];return n||("string"==typeof i.config.divId?i.config.divId=n=document.getElementById(i.config.divId):n=i.isElement(i.config.divId)?i.config.divId:i.setup.chart.containerDiv),i.isElement(i.setup.menu)?i.setup.menu.innerHTML="":i.setup.menu=document.createElement("div"),i.setup.menu.setAttribute("class",i.setup.chart.classNamePrefix+"-export-menu "+i.setup.chart.classNamePrefix+"-export-menu-"+i.config.position+" amExportButton"),i.config.menuWalker&&(r=i.config.menuWalker),r.apply(this,[e,i.setup.menu]),i.setup.menu.childNodes.length&&n.appendChild(i.setup.menu),i.setup.menu},delay:function(t,e){var n,r,a=i.deepMerge({delay:3,precision:2},t||{}),o=Number(new Date),s=i.createMenu([{label:i.i18l("capturing.delayed.menu.label").replace("{{duration}}",AmCharts.toFixed(a.delay,a.precision)),title:i.i18l("capturing.delayed.menu.title"),class:"export-delayed-capturing",click:function(){clearTimeout(n),clearTimeout(r),i.createMenu(i.config.menu)}}]),l=s.getElementsByTagName("a")[0];n=setInterval(function(){var t=a.delay-(Number(new Date)-o)/1e3;t<=0?(clearTimeout(n),"draw"!=a.action&&i.createMenu(i.config.menu)):l&&(l.innerHTML=i.i18l("capturing.delayed.menu.label").replace("{{duration}}",AmCharts.toFixed(t,2)))},AmCharts.updateRate),r=setTimeout(function(){e.apply(i,arguments)},1e3*a.delay)},migrateSetup:function(t){function e(t){var r;for(r in t){var i=t[r];"export"==r.slice(0,6)&&i?n.menu.push(r.slice(6)):"userCFG"==r?e(i):"menuItems"==r?n.menu=i:"libs"==r?n.libs=i:"string"==typeof r&&(n[r]=i)}}var n={enabled:!0,migrated:!0,libs:{autoLoad:!0},menu:[]};return e(t),n},clear:function(){i.setup=void 0,i.docListener&&document.removeEventListener("keydown",i.docListener);var t=i.listenersToRemove;if(t)for(var e=0;e<t.length;e++){var n=t[e];n.node.removeEventListener(n.event,n.method)}i.listenersToRemove=[]},loadListeners:function(){function t(t){t&&(t.set({top:t.top+10,left:t.left+10}),i.setup.fabric.add(t))}i.config.keyListener&&"attached"!=i.config.keyListener&&(i.docListener=function(e){var n=i.drawing.buffer.target;8!=e.keyCode&&46!=e.keyCode||!n?27==e.keyCode&&i.drawing.enabled?(e.preventDefault(),i.drawing.handler.done()):67==e.keyCode&&(e.metaKey||e.ctrlKey)&&n?i.drawing.buffer.copy=n:88==e.keyCode&&(e.metaKey||e.ctrlKey)&&n?(i.drawing.buffer.copy=n,i.setup.fabric.remove(n)):86==e.keyCode&&(e.metaKey||e.ctrlKey)?i.drawing.buffer.copy&&t(i.drawing.buffer.copy.clone(t)):90==e.keyCode&&(e.metaKey||e.ctrlKey)&&(e.preventDefault(),e.shiftKey?i.drawing.handler.redo():i.drawing.handler.undo()):(e.preventDefault(),i.setup.fabric.remove(n))},i.config.keyListener="attached",document.addEventListener("keydown",i.docListener)),i.config.fileListener&&(i.setup.chart.containerDiv.addEventListener("dragover",i.handleDropbox),i.setup.chart.containerDiv.addEventListener("dragleave",i.handleDropbox),i.setup.chart.containerDiv.addEventListener("drop",i.handleDropbox))},init:function(){clearTimeout(r),r=setInterval(function(){i.setup.chart.containerDiv&&(clearTimeout(r),i.config.enabled&&(i.setup.chart.AmExport=i,i.config.overflow&&(i.setup.chart.div.style.overflow="visible"),i.loadListeners(),i.createMenu(i.config.menu),i.handleReady(i.config.onReady)))},AmCharts.updateRate)},construct:function(){i.drawing.handler.cancel=i.drawing.handler.done;try{i.setup.hasBlob=!!new Blob}catch(t){}window.safari=window.safari?window.safari:{},i.defaults.fabric.drawing.fontSize=i.setup.chart.fontSize||11,i.config.drawing=i.deepMerge(i.defaults.fabric.drawing,i.config.drawing||{},!0),i.config.border&&(i.config.border=i.deepMerge(i.defaults.fabric.border,i.config.border||{},!0)),i.deepMerge(i.defaults.fabric,i.config,!0),i.deepMerge(i.defaults.fabric,i.config.fabric||{},!0),i.deepMerge(i.defaults.pdfMake,i.config,!0),i.deepMerge(i.defaults.pdfMake,i.config.pdfMake||{},!0),i.deepMerge(i.libs,i.config.libs||{},!0),i.config.drawing=i.defaults.fabric.drawing,i.config.fabric=i.defaults.fabric,i.config.pdfMake=i.defaults.pdfMake,i.config=i.deepMerge(i.defaults,i.config,!0),i.config.fabric.drawing.enabled&&void 0===i.config.fabric.drawing.menu&&(i.config.fabric.drawing.menu=[],i.deepMerge(i.config.fabric.drawing.menu,[{class:"export-drawing",menu:[{label:i.i18l("menu.label.draw.add"),menu:[{label:i.i18l("menu.label.draw.shapes"),action:"draw.shapes"},{label:i.i18l("menu.label.draw.text"),action:"text"}]},{label:i.i18l("menu.label.draw.change"),menu:[{label:i.i18l("menu.label.draw.modes"),action:"draw.modes"},{label:i.i18l("menu.label.draw.colors"),action:"draw.colors"},{label:i.i18l("menu.label.draw.widths"),action:"draw.widths"},{label:i.i18l("menu.label.draw.opacities"),action:"draw.opacities"},"UNDO","REDO"]},{label:i.i18l("menu.label.save.image"),menu:["PNG","JPG","SVG","PDF"]},"PRINT","CANCEL"]}])),void 0===i.config.menu&&(i.config.menu=[],i.deepMerge(i.config,{menu:[{class:"export-main",menu:[{label:i.i18l("menu.label.save.image"),menu:["PNG","JPG","SVG","PDF"]},{label:i.i18l("menu.label.save.data"),menu:["CSV","XLSX","JSON"]},{format:"PRINT",label:i.i18l("menu.label.print")}]}]})),i.libs.path||(i.libs.path=i.config.path+"libs/"),i.isSupported()&&(i.loadDependencies(i.libs.resources,i.libs.reload),i.setup.chart.addClassNames=!0,i.setup.chart[i.name]=i,i.init())}};if(e)i.config=e;else if(i.setup.chart[i.name])i.config=i.setup.chart[i.name];else{if(!i.setup.chart.amExport&&!i.setup.chart.exportConfig)return;i.config=i.migrateSetup(i.setup.chart.amExport||i.setup.chart.exportConfig)}return i.construct(),i.deepMerge(this,i)}}(),AmCharts.addInitHandler(function(t){new AmCharts.export(t)},["pie","serial","xy","funnel","radar","gauge","stock","map","gantt"])},function(t,e){"use strict";!function(){function t(t,e,n){return t*(n-e)+e}function e(t){var e=1-t;return e*=e*e*e,1-e}function n(t,e,n,r){this._object=t,this._key=e,this._from=n,this._to=r}function r(t,n,r,i,a){this._finished=!1,this._startTime=null,this._duration=t,this._easing=null==n?e:n,this._onComplete=r,this._tweens=i,this._chart=a}function i(){this._animating=!1,this._animations=[],this._onBeforeFrames=[],this._onAfterFrames=[];var t=this;this._raf=function(e){t._onFrame(e)}}function a(t){return t!==t}function o(t,e){for(var n=0;n<t.length;++n)e(t[n])}function s(t,e){for(var n=0;n<t.length;++n)if(t[n]===e)return;t.push(e)}function l(t,e,n){e[n]||(e[n]=!0,t.push(n))}function u(t,e,n,r){o(r,function(r){var i=n[r];null!=i&&l(t,e,i)})}function c(t,e,n){u(e,n,t,["alphaField","valueField"])}function h(t,e,n){c(t,e,n)}function g(t,e,n){c(t,e,n),u(e,n,t,["labelRadiusField"])}function d(t,e,n){u(e,n,t,["alphaField","bulletSizeField","closeField","dashLengthField","errorField","highField","lowField","openField","valueField"])}function p(t,e,n){d(t,e,n),u(e,n,t,["xField","yField"])}function f(t,e,n,r){o(t,function(t){r(t,e,n)})}function A(t,e,n){u(e,n,t,["widthField"])}function C(t){var e=[],n={};return"funnel"===t.type?h(t,e,n):"pie"===t.type?g(t,e,n):"serial"===t.type?(A(t.categoryAxis,e,n),f(t.graphs,e,n,d)):"radar"===t.type?f(t.graphs,e,n,d):"xy"===t.type&&f(t.graphs,e,n,p),e}function I(t){var e={};return"serial"!==t.type&&"radar"!==t.type&&"xy"!==t.type||o(t.valueAxes,function(t){if(null==e[t.id]){e[t.id]={minimum:t.minimum,maximum:t.maximum};var n,r=t.minRR,i=t.maxRR,a=i-r;n=0===a?Math.pow(10,Math.floor(Math.log(Math.abs(i))*Math.LOG10E))/10:Math.pow(10,Math.floor(Math.log(Math.abs(a))*Math.LOG10E))/10,null==t.minimum&&(t.minimum=Math.floor(r/n)*n-n),null==t.maximum&&(t.maximum=Math.ceil(i/n)*n+n)}}),e}function m(t,e){"serial"!==t.type&&"radar"!==t.type&&"xy"!==t.type||o(t.valueAxes,function(t){var n=e[t.id];null!=n&&(null==n.minimum&&delete t.minimum,null==n.maximum&&delete t.maximum)})}function v(t){return"funnel"===t.type||"pie"===t.type?t.titleField:"serial"===t.type||"radar"===t.type?t.categoryField:void 0}function y(t,e){var n=t[e];return null==n?null:(n=+n,a(n)?null:n)}function b(t,e){var n=t[e];return null==n?null:""+n}function x(t,e){var n={};return o(t,function(t){var r=b(t,e);null!=r&&(n[r]=t)}),n}function w(t,e,r,i){var a=[];return o(t,function(t){var s=b(t,e);if(null!=s&&s in r){var l=r[s];o(i,function(e){var r=y(l,e),i=y(t,e);null!=r&&null!=i&&a.push(new n(t,e,r,i))})}}),a}function S(t,e,r){for(var i=[],a=Math.min(t.length,e.length),s=0;s<a;++s){var l=t[s],u=e[s];o(r,function(t){var e=y(l,t),r=y(u,t);null!=e&&null!=r&&i.push(new n(u,t,e,r))})}return i}function T(t,e){if("xy"===t.type){var n=C(t);return S(t.dataProvider,e,n)}var r=v(t),n=C(t),i=x(t.dataProvider,r);return w(e,r,i,n)}function N(t,e){function n(){m(i,o),null!=e.complete&&e.complete()}var i=this,a=T(i,t),o=I(i);i.dataProvider=t;var s=new r(e.duration,e.easing,n,a,i);return O.animate(s),s}if("undefined"==typeof requestAnimationFrame)var E=1e3/60,k=function(t){setTimeout(function(){t((new Date).getTime())},E)};else var k=requestAnimationFrame;n.prototype.interpolate=function(e){this._object[this._key]=t(e,this._from,this._to)},r.prototype.cancel=function(){this._finished=!0,this._startTime=null,this._duration=null,this._easing=null,this._onComplete=null,this._tweens=null,this._chart=null},r.prototype._onFrame=function(t){if(this._finished)return!0;if(null===this._startTime)return this._startTime=t,!1;var e=t-this._startTime;return e<this._duration?(this._tick(e/this._duration),!1):(this._end(1),this.cancel(),!0)},r.prototype._tick=function(t){t=this._easing(t);for(var e=this._tweens,n=0;n<e.length;++n)e[n].interpolate(t);s(M,this._chart)},r.prototype._end=function(t){this._tick(t),this._onComplete()},i.prototype.animate=function(t){this._animations.push(t),this._animating||(this._animating=!0,k(this._raf))},i.prototype.onBeforeFrame=function(t){this._onBeforeFrames.push(t)},i.prototype.onAfterFrame=function(t){this._onAfterFrames.push(t)},i.prototype._onFrame=function(t){for(var e=this._onBeforeFrames,n=0;n<e.length;++n)e[n](t);for(var r=this._animations,n=0;n<r.length;++n){var i=r[n];i._onFrame(t)&&(r.splice(n,1),--n)}for(var a=this._onAfterFrames,n=0;n<a.length;++n)a[n](t);0===r.length?this._animating=!1:k(this._raf)};var O=new i,M=[];O.onAfterFrame(function(){for(var t=0;t<M.length;++t)M[t].validateData();M.length=0}),AmCharts.addInitHandler(function(t){t.animateData=N},["funnel","pie","serial","radar","xy"])}()},function(t,e){"use strict";!function(){var t=window.AmCharts;t.AmSlicedChart=t.Class({inherits:t.AmChart,construct:function(e){this.createEvents("rollOverSlice","rollOutSlice","clickSlice","pullOutSlice","pullInSlice","rightClickSlice"),t.AmSlicedChart.base.construct.call(this,e),this.colors="#FF0F00 #FF6600 #FF9E01 #FCD202 #F8FF01 #B0DE09 #04D215 #0D8ECF #0D52D1 #2A0CD0 #8A0CCF #CD0D74 #754DEB #DDDDDD #999999 #333333 #000000 #57032A #CA9726 #990000 #4B0C25".split(" "),this.alpha=1,this.groupPercent=0,this.groupedTitle="Other",this.groupedPulled=!1,this.groupedAlpha=1,this.marginLeft=0,this.marginBottom=this.marginTop=10,this.marginRight=0,this.hoverAlpha=1,this.outlineColor="#FFFFFF",this.outlineAlpha=0,this.outlineThickness=1,this.startAlpha=0,this.startDuration=1,this.startEffect="bounce",this.sequencedAnimation=!0,this.pullOutDuration=1,this.pullOutEffect="bounce",this.pullOnHover=this.pullOutOnlyOne=!1,this.labelsEnabled=!0,this.labelTickColor="#000000",this.labelTickAlpha=.2,this.hideLabelsPercent=0,this.urlTarget="_self",this.autoMarginOffset=10,this.gradientRatio=[],this.maxLabelWidth=200,this.accessibleLabel="[[title]]: [[percents]]% [[value]] [[description]]",t.applyTheme(this,e,"AmSlicedChart")},initChart:function(){t.AmSlicedChart.base.initChart.call(this),this.dataChanged&&(this.parseData(),this.dispatchDataUpdated=!0,this.dataChanged=!1,this.setLegendData(this.chartData)),this.drawChart()},handleLegendEvent:function(t){var e=t.type,n=t.dataItem,r=this.legend;if(n.wedge&&n){var i=n.hidden;switch(t=t.event,e){case"clickMarker":i||r.switchable||this.clickSlice(n,t);break;case"clickLabel":i||this.clickSlice(n,t,!1);break;case"rollOverItem":i||this.rollOverSlice(n,!1,t);break;case"rollOutItem":i||this.rollOutSlice(n,t);break;case"hideItem":this.hideSlice(n,t);break;case"showItem":this.showSlice(n,t)}}},invalidateVisibility:function(){this.recalculatePercents(),this.initChart();var t=this.legend;t&&t.invalidateSize()},addEventListeners:function(t,e){var n=this;t.mouseover(function(t){n.rollOverSlice(e,!0,t)}).mouseout(function(t){n.rollOutSlice(e,t)}).touchend(function(t){n.rollOverSlice(e,t)}).mouseup(function(t){n.clickSlice(e,t)}).contextmenu(function(t){n.handleRightClick(e,t)})},formatString:function(e,n,r){e=t.formatValue(e,n,["value"],this.nf,"",this.usePrefixes,this.prefixesOfSmallNumbers,this.prefixesOfBigNumbers);var i=this.pf.precision;return isNaN(this.tempPrec)||(this.pf.precision=this.tempPrec),e=t.formatValue(e,n,["percents"],this.pf),e=t.massReplace(e,{"[[title]]":n.title,"[[description]]":n.description}),this.pf.precision=i,-1!=e.indexOf("[[")&&(e=t.formatDataContextValue(e,n.dataContext)),e=r?t.fixNewLines(e):t.fixBrakes(e),e=t.cleanFromEmpty(e)},startSlices:function(){var t;for(t=0;t<this.chartData.length;t++)0<this.startDuration&&this.sequencedAnimation?this.setStartTO(t):this.startSlice(this.chartData[t])},setStartTO:function(t){var e=this;t=setTimeout(function(){e.startSequenced.call(e)},e.startDuration/e.chartData.length*500*t),e.timeOuts.push(t)},pullSlices:function(t){var e,n=this.chartData;for(e=0;e<n.length;e++){var r=n[e];r.pulled&&this.pullSlice(r,1,t)}},startSequenced:function(){var t,e=this.chartData;for(t=0;t<e.length;t++)if(!e[t].started){this.startSlice(this.chartData[t]);break}},startSlice:function(t){t.started=!0;var e=t.wedge,n=this.startDuration,r=t.labelSet;e&&0<n&&(0<t.alpha&&e.show(),e.translate(t.startX,t.startY),this.animatable.push(e),e.animate({opacity:1,translate:"0,0"},n,this.startEffect)),r&&0<n&&(0<t.alpha&&r.show(),r.translate(t.startX,t.startY),r.animate({opacity:1,translate:"0,0"},n,this.startEffect))},showLabels:function(){var t,e=this.chartData;for(t=0;t<e.length;t++){var n=e[t];if(0<n.alpha){var r=n.label;r&&r.show(),(n=n.tick)&&n.show()}}},showSlice:function(t){isNaN(t)?t.hidden=!1:this.chartData[t].hidden=!1,this.invalidateVisibility()},hideSlice:function(t){isNaN(t)?t.hidden=!0:this.chartData[t].hidden=!0,this.hideBalloon(),this.invalidateVisibility()},rollOverSlice:function(e,n,r){if(isNaN(e)||(e=this.chartData[e]),clearTimeout(this.hoverInt),!e.hidden){this.pullOnHover&&this.pullSlice(e,1),1>this.hoverAlpha&&e.wedge&&e.wedge.attr({opacity:this.hoverAlpha});var i=e.balloonX,a=e.balloonY;e.pulled&&(i+=e.pullX,a+=e.pullY);var o=this.formatString(this.balloonText,e,!0),s=this.balloonFunction;s&&(o=s(e,o)),s=t.adjustLuminosity(e.color,-.15),o?this.showBalloon(o,s,n,i,a):this.hideBalloon(),0===e.value&&this.hideBalloon(),this.fire({type:"rollOverSlice",dataItem:e,chart:this,event:r})}},rollOutSlice:function(t,e){isNaN(t)||(t=this.chartData[t]),t.wedge&&t.wedge.attr({opacity:1}),this.hideBalloon(),this.fire({type:"rollOutSlice",dataItem:t,chart:this,event:e})},clickSlice:function(e,n,r){this.checkTouchDuration(n)&&(isNaN(e)||(e=this.chartData[e]),e.pulled?this.pullSlice(e,0):this.pullSlice(e,1),t.getURL(e.url,this.urlTarget),r||this.fire({type:"clickSlice",dataItem:e,chart:this,event:n}))},handleRightClick:function(t,e){isNaN(t)||(t=this.chartData[t]),this.fire({type:"rightClickSlice",dataItem:t,chart:this,event:e})},drawTicks:function(){var e,n=this.chartData;for(e=0;e<n.length;e++){var r=n[e];if(r.label&&!r.skipTick){var i=r.ty,i=t.line(this.container,[r.tx0,r.tx,r.tx2],[r.ty0,i,i],this.labelTickColor,this.labelTickAlpha);t.setCN(this,i,this.type+"-tick"),t.setCN(this,i,r.className,!0),r.tick=i,r.wedge.push(i)}}},initialStart:function(){var t=this,e=t.startDuration,n=setTimeout(function(){t.showLabels.call(t)},1e3*e);t.timeOuts.push(n),t.chartCreated?t.pullSlices(!0):(t.startSlices(),0<e?(e=setTimeout(function(){t.pullSlices.call(t)},1200*e),t.timeOuts.push(e)):t.pullSlices(!0))},pullSlice:function(t,e,n){var r=this.pullOutDuration;!0===n&&(r=0),(n=t.wedge)&&(0<r?(n.animate({translate:e*t.pullX+","+e*t.pullY},r,this.pullOutEffect),t.labelSet&&t.labelSet.animate({translate:e*t.pullX+","+e*t.pullY},r,this.pullOutEffect)):(t.labelSet&&t.labelSet.translate(e*t.pullX,e*t.pullY),n.translate(e*t.pullX,e*t.pullY))),1==e?(t.pulled=!0,this.pullOutOnlyOne&&this.pullInAll(t.index),t={type:"pullOutSlice",dataItem:t,chart:this}):(t.pulled=!1,t={type:"pullInSlice",dataItem:t,chart:this}),this.fire(t)},pullInAll:function(t){var e,n=this.chartData;for(e=0;e<this.chartData.length;e++)e!=t&&n[e].pulled&&this.pullSlice(n[e],0)},pullOutAll:function(){var t,e=this.chartData;for(t=0;t<e.length;t++)e[t].pulled||this.pullSlice(e[t],1)},parseData:function(){var e=[];this.chartData=e;var n=this.dataProvider;if(isNaN(this.pieAlpha)||(this.alpha=this.pieAlpha),void 0!==n){var r,i,a,o=n.length,s=0;for(r=0;r<o;r++){i={};var l=n[r];i.dataContext=l,null!==l[this.valueField]&&(i.value=Number(l[this.valueField])),(a=l[this.titleField])||(a=""),i.title=a,i.pulled=t.toBoolean(l[this.pulledField],!1),(a=l[this.descriptionField])||(a=""),i.description=a,i.labelRadius=Number(l[this.labelRadiusField]),i.switchable=!0,i.className=l[this.classNameField],i.url=l[this.urlField],a=l[this.patternField],!a&&this.patterns&&(a=this.patterns[r]),i.pattern=a,i.visibleInLegend=t.toBoolean(l[this.visibleInLegendField],!0),a=l[this.alphaField],i.alpha=void 0!==a?Number(a):this.alpha,a=l[this.colorField],void 0!==a&&(i.color=a),i.labelColor=t.toColor(l[this.labelColorField]),s+=i.value,i.hidden=!1,e[r]=i}for(r=n=0;r<o;r++)i=e[r],i.percents=i.value/s*100,i.percents<this.groupPercent&&n++;for(1<n&&(this.groupValue=0,this.removeSmallSlices(),e.push({title:this.groupedTitle,value:this.groupValue,percents:this.groupValue/s*100,pulled:this.groupedPulled,color:this.groupedColor,url:this.groupedUrl,description:this.groupedDescription,alpha:this.groupedAlpha,pattern:this.groupedPattern,className:this.groupedClassName,dataContext:{}})),o=this.baseColor,o||(o=this.pieBaseColor),s=this.brightnessStep,s||(s=this.pieBrightnessStep),r=0;r<e.length;r++)o?a=t.adjustLuminosity(o,r*s/100):(a=this.colors[r],void 0===a&&(a=t.randomColor())),void 0===e[r].color&&(e[r].color=a);this.recalculatePercents()}},recalculatePercents:function(){var t,e,n=this.chartData,r=0;for(t=0;t<n.length;t++)e=n[t],!e.hidden&&0<e.value&&(r+=e.value);for(t=0;t<n.length;t++)e=this.chartData[t],e.percents=!e.hidden&&0<e.value?100*e.value/r:0},removeSmallSlices:function(){var t,e=this.chartData;for(t=e.length-1;0<=t;t--)e[t].percents<this.groupPercent&&(this.groupValue+=e[t].value,e.splice(t,1))},animateAgain:function(){var t=this;t.startSlices();for(var e=0;e<t.chartData.length;e++){var n=t.chartData[e];n.started=!1;var r=n.wedge;r&&(r.setAttr("opacity",t.startAlpha),r.translate(n.startX,n.startY)),(r=n.labelSet)&&(r.setAttr("opacity",t.startAlpha),r.translate(n.startX,n.startY))}e=t.startDuration,0<e?(e=setTimeout(function(){t.pullSlices.call(t)},1200*e),t.timeOuts.push(e)):t.pullSlices()},measureMaxLabel:function(){var e,n=this.chartData,r=0;for(e=0;e<n.length;e++){var i=n[e],a=this.formatString(this.labelText,i),o=this.labelFunction;o&&(a=o(i,a)),i=t.text(this.container,a,this.color,this.fontFamily,this.fontSize),a=i.getBBox().width,a>r&&(r=a),i.remove()}return r}})}(),function(){var t=window.AmCharts;
t.AmPieChart=t.Class({inherits:t.AmSlicedChart,construct:function(e){this.type="pie",t.AmPieChart.base.construct.call(this,e),this.cname="AmPieChart",this.pieBrightnessStep=30,this.minRadius=10,this.depth3D=0,this.startAngle=90,this.angle=this.innerRadius=0,this.startRadius="500%",this.pullOutRadius="20%",this.labelRadius=20,this.labelText="[[title]]: [[percents]]%",this.balloonText="[[title]]: [[percents]]% ([[value]])\n[[description]]",this.previousScale=1,this.adjustPrecision=!1,this.gradientType="radial",t.applyTheme(this,e,this.cname)},drawChart:function(){t.AmPieChart.base.drawChart.call(this);var e=this.chartData;if(t.ifArray(e)){if(0<this.realWidth&&0<this.realHeight){t.VML&&(this.startAlpha=1);var n=this.startDuration,r=this.container,i=this.updateWidth();this.realWidth=i;var a=this.updateHeight();this.realHeight=a;var o,s,l,u=t.toCoordinate,c=u(this.marginLeft,i),h=u(this.marginRight,i),g=u(this.marginTop,a)+this.getTitleHeight(),d=u(this.marginBottom,a)+this.depth3D,p=t.toNumber(this.labelRadius),f=this.measureMaxLabel();for(f>this.maxLabelWidth&&(f=this.maxLabelWidth),this.labelText&&this.labelsEnabled||(p=f=0),o=void 0===this.pieX?(i-c-h)/2+c:u(this.pieX,this.realWidth),s=void 0===this.pieY?(a-g-d)/2+g:u(this.pieY,a),l=u(this.radius,i,a),l||(i=0<=p?i-c-h-2*f:i-c-h,a=a-g-d,l=Math.min(i,a),a<i&&(l/=1-this.angle/90,l>i&&(l=i)),a=t.toCoordinate(this.pullOutRadius,l),l=(0<=p?l-1.8*(p+a):l-1.8*a)/2),l<this.minRadius&&(l=this.minRadius),a=u(this.pullOutRadius,l),g=t.toCoordinate(this.startRadius,l),u=u(this.innerRadius,l),u>=l&&(u=l-1),d=t.fitToBounds(this.startAngle,0,360),0<this.depth3D&&(d=270<=d?270:90),d-=90,360<d&&(d-=360),i=l-l*this.angle/90,c=f=0;c<e.length;c++)h=e[c],!0!==h.hidden&&(f+=t.roundTo(h.percents,this.pf.precision));f=t.roundTo(f,this.pf.precision),this.tempPrec=NaN,this.adjustPrecision&&100!=f&&(this.tempPrec=this.pf.precision+1);for(var A,c=0;c<e.length;c++)if(h=e[c],!0!==h.hidden&&(this.showZeroSlices||0!==h.percents)){var C=360*h.percents/100,f=Math.sin((d+C/2)/180*Math.PI),I=i/l*-Math.cos((d+C/2)/180*Math.PI),m=this.outlineColor;m||(m=h.color);var v=this.alpha;if(isNaN(h.alpha)||(v=h.alpha),m={fill:h.color,stroke:m,"stroke-width":this.outlineThickness,"stroke-opacity":this.outlineAlpha,"fill-opacity":v},h.url&&(m.cursor="pointer"),m=t.wedge(r,o,s,d,C,l,i,u,this.depth3D,m,this.gradientRatio,h.pattern,this.path,this.gradientType),t.setCN(this,m,"pie-item"),t.setCN(this,m.wedge,"pie-slice"),t.setCN(this,m,h.className,!0),this.addEventListeners(m,h),h.startAngle=d,e[c].wedge=m,0<n&&(this.chartCreated||m.setAttr("opacity",this.startAlpha)),h.ix=f,h.iy=I,h.wedge=m,h.index=c,h.label=null,v=r.set(),this.labelsEnabled&&this.labelText&&h.percents>=this.hideLabelsPercent){var y=d+C/2;0>y&&(y+=360),360<y&&(y-=360);var b=p;isNaN(h.labelRadius)||(b=h.labelRadius,0>b&&(h.skipTick=!0));var x,C=o+f*(l+b),w=s+I*(l+b),S=0;if(isNaN(A)&&350<y&&1<e.length-c&&(A=c-1+Math.floor((e.length-c)/2)),0<=b){var T;90>=y&&0<=y?(T=0,x="start",S=8):90<=y&&180>y?(T=1,x="start",S=8):180<=y&&270>y?(T=2,x="end",S=-8):270<=y&&354>=y?(T=3,x="end",S=-8):354<=y&&(c>A?(T=0,x="start",S=8):(T=3,x="end",S=-8)),h.labelQuarter=T}else x="middle";y=this.formatString(this.labelText,h),(b=this.labelFunction)&&(y=b(h,y)),b=h.labelColor,b||(b=this.color),""!==y&&(y=t.wrappedText(r,y,b,this.fontFamily,this.fontSize,x,!1,this.maxLabelWidth),t.setCN(this,y,"pie-label"),t.setCN(this,y,h.className,!0),y.translate(C+1.5*S,w),0>p&&(y.node.style.pointerEvents="none"),y.node.style.cursor="default",h.ty=w,h.textX=C+1.5*S,v.push(y),this.axesSet.push(v),h.labelSet=v,h.label=y,this.addEventListeners(v,h)),h.tx=C,h.tx2=C+S,h.tx0=o+f*l,h.ty0=s+I*l}C=u+(l-u)/2,h.pulled&&(C+=a),this.accessible&&this.accessibleLabel&&(w=this.formatString(this.accessibleLabel,h),this.makeAccessible(m,w)),void 0!==this.tabIndex&&m.setAttr("tabindex",this.tabIndex),h.balloonX=f*C+o,h.balloonY=I*C+s,h.startX=Math.round(f*g),h.startY=Math.round(I*g),h.pullX=Math.round(f*a),h.pullY=Math.round(I*a),this.graphsSet.push(m),(0===h.alpha||0<n&&!this.chartCreated)&&(m.hide(),v&&v.hide()),d+=360*h.percents/100,360<d&&(d-=360)}0<p&&this.arrangeLabels(),this.pieXReal=o,this.pieYReal=s,this.radiusReal=l,this.innerRadiusReal=u,0<p&&this.drawTicks(),this.initialStart(),this.setDepths()}(e=this.legend)&&e.invalidateSize()}else this.cleanChart();this.dispDUpd()},setDepths:function(){var t,e=this.chartData;for(t=0;t<e.length;t++){var n=e[t],r=n.wedge,n=n.startAngle;0<=n&&180>n?r.toFront():180<=n&&r.toBack()}},arrangeLabels:function(){var t,e,n=this.chartData,r=n.length;for(e=r-1;0<=e;e--)t=n[e],0!==t.labelQuarter||t.hidden||this.checkOverlapping(e,t,0,!0,0);for(e=0;e<r;e++)t=n[e],1!=t.labelQuarter||t.hidden||this.checkOverlapping(e,t,1,!1,0);for(e=r-1;0<=e;e--)t=n[e],2!=t.labelQuarter||t.hidden||this.checkOverlapping(e,t,2,!0,0);for(e=0;e<r;e++)t=n[e],3!=t.labelQuarter||t.hidden||this.checkOverlapping(e,t,3,!1,0)},checkOverlapping:function(t,e,n,r,i){var a,o,s=this.chartData,l=s.length,u=e.label;if(u){if(!0===r)for(o=t+1;o<l;o++)s[o].labelQuarter==n&&(a=this.checkOverlappingReal(e,s[o],n))&&(o=l);else for(o=t-1;0<=o;o--)s[o].labelQuarter==n&&(a=this.checkOverlappingReal(e,s[o],n))&&(o=0);!0===a&&200>i&&isNaN(e.labelRadius)&&(a=e.ty+3*e.iy,e.ty=a,u.translate(e.textX,a),this.checkOverlapping(t,e,n,r,i+1))}},checkOverlappingReal:function(e,n,r){var i=!1,a=e.label,o=n.label;return e.labelQuarter!=r||e.hidden||n.hidden||!o||(a=a.getBBox(),r={},r.width=a.width,r.height=a.height,r.y=e.ty,r.x=e.tx,e=o.getBBox(),o={},o.width=e.width,o.height=e.height,o.y=n.ty,o.x=n.tx,t.hitTest(r,o)&&(i=!0)),i}})}()},function(t,e){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(){var t=window.AmCharts;t.AmRectangularChart=t.Class({inherits:t.AmCoordinateChart,construct:function(e){t.AmRectangularChart.base.construct.call(this,e),this.theme=e,this.createEvents("zoomed","changed"),this.marginRight=this.marginBottom=this.marginTop=this.marginLeft=20,this.depth3D=this.angle=0,this.plotAreaFillColors="#FFFFFF",this.plotAreaFillAlphas=0,this.plotAreaBorderColor="#000000",this.plotAreaBorderAlpha=0,this.maxZoomFactor=20,this.zoomOutButtonImageSize=19,this.zoomOutButtonImage="lens",this.zoomOutText="Show all",this.zoomOutButtonColor="#e5e5e5",this.zoomOutButtonAlpha=0,this.zoomOutButtonRollOverAlpha=1,this.zoomOutButtonPadding=8,this.trendLines=[],this.autoMargins=!0,this.marginsUpdated=!1,this.autoMarginOffset=10,t.applyTheme(this,e,"AmRectangularChart")},initChart:function(){t.AmRectangularChart.base.initChart.call(this),this.updateDxy(),!this.marginsUpdated&&this.autoMargins&&(this.resetMargins(),this.drawGraphs=!1),this.processScrollbars(),this.updateMargins(),this.updatePlotArea(),this.updateScrollbars(),this.updateTrendLines(),this.updateChartCursor(),this.updateValueAxes(),this.scrollbarOnly||this.updateGraphs()},drawChart:function(){if(t.AmRectangularChart.base.drawChart.call(this),this.drawPlotArea(),t.ifArray(this.chartData)){var e=this.chartCursor;e&&e.draw()}},resetMargins:function(){var t,e={};if("xy"==this.type){var n=this.xAxes,r=this.yAxes;for(t=0;t<n.length;t++){var i=n[t];i.ignoreAxisWidth||(i.setOrientation(!0),i.fixAxisPosition(),e[i.position]=!0)}for(t=0;t<r.length;t++)n=r[t],n.ignoreAxisWidth||(n.setOrientation(!1),n.fixAxisPosition(),e[n.position]=!0)}else{for(r=this.valueAxes,t=0;t<r.length;t++)n=r[t],n.ignoreAxisWidth||(n.setOrientation(this.rotate),n.fixAxisPosition(),e[n.position]=!0);(t=this.categoryAxis)&&!t.ignoreAxisWidth&&(t.setOrientation(!this.rotate),t.fixAxisPosition(),t.fixAxisPosition(),e[t.position]=!0)}e.left&&(this.marginLeft=0),e.right&&(this.marginRight=0),e.top&&(this.marginTop=0),e.bottom&&(this.marginBottom=0),this.fixMargins=e},measureMargins:function(){var t,e=this.valueAxes,n=this.autoMarginOffset,r=this.fixMargins,i=this.realWidth,a=this.realHeight,o=n,s=n,l=i;t=a;var u;for(u=0;u<e.length;u++)e[u].handleSynchronization(),t=this.getAxisBounds(e[u],o,l,s,t),o=Math.round(t.l),l=Math.round(t.r),s=Math.round(t.t),t=Math.round(t.b);(e=this.categoryAxis)&&(t=this.getAxisBounds(e,o,l,s,t),o=Math.round(t.l),l=Math.round(t.r),s=Math.round(t.t),t=Math.round(t.b)),r.left&&o<n&&(this.marginLeft=Math.round(-o+n),!isNaN(this.minMarginLeft)&&this.marginLeft<this.minMarginLeft&&(this.marginLeft=this.minMarginLeft)),r.right&&l>=i-n&&(this.marginRight=Math.round(l-i+n),!isNaN(this.minMarginRight)&&this.marginRight<this.minMarginRight&&(this.marginRight=this.minMarginRight)),r.top&&s<n+this.titleHeight&&(this.marginTop=Math.round(this.marginTop-s+n+this.titleHeight),!isNaN(this.minMarginTop)&&this.marginTop<this.minMarginTop&&(this.marginTop=this.minMarginTop)),r.bottom&&t>a-n&&(this.marginBottom=Math.round(this.marginBottom+t-a+n),!isNaN(this.minMarginBottom)&&this.marginBottom<this.minMarginBottom&&(this.marginBottom=this.minMarginBottom)),this.initChart()},getAxisBounds:function(t,e,n,r,i){if(!t.ignoreAxisWidth){var a=t.labelsSet,o=t.tickLength;if(t.inside&&(o=0),a)switch(a=t.getBBox(),t.position){case"top":t=a.y,r>t&&(r=t);break;case"bottom":t=a.y+a.height,i<t&&(i=t);break;case"right":t=a.x+a.width+o+3,n<t&&(n=t);break;case"left":t=a.x-o,e>t&&(e=t)}}return{l:e,t:r,r:n,b:i}},drawZoomOutButton:function(){var e=this;if(!e.zbSet){var n=e.container.set();e.zoomButtonSet.push(n);var r=e.color,i=e.fontSize,a=e.zoomOutButtonImageSize,o=e.zoomOutButtonImage.replace(/\.[a-z]*$/i,""),s=e.langObj.zoomOutText||e.zoomOutText,l=e.zoomOutButtonColor,u=e.zoomOutButtonAlpha,c=e.zoomOutButtonFontSize,h=e.zoomOutButtonPadding;isNaN(c)||(i=c),(c=e.zoomOutButtonFontColor)&&(r=c);var g,c=e.zoomOutButton;c&&(c.fontSize&&(i=c.fontSize),c.color&&(r=c.color),c.backgroundColor&&(l=c.backgroundColor),isNaN(c.backgroundAlpha)||(e.zoomOutButtonRollOverAlpha=c.backgroundAlpha));var d=c=0,d=e.pathToImages;for(o&&((t.isAbsolute(o)||void 0===d)&&(d=""),g=e.container.image(d+o+e.extension,0,0,a,a),t.setCN(e,g,"zoom-out-image"),n.push(g),g=g.getBBox(),c=g.width+5),void 0!==s&&(r=t.text(e.container,s,r,e.fontFamily,i,"start"),t.setCN(e,r,"zoom-out-label"),i=r.getBBox(),d=g?g.height/2-3:i.height/2,r.translate(c,d),n.push(r)),g=n.getBBox(),r=1,t.isModern||(r=0),l=t.rect(e.container,g.width+2*h+5,g.height+2*h-2,l,1,1,l,r),l.setAttr("opacity",u),l.translate(-h,-h),t.setCN(e,l,"zoom-out-bg"),n.push(l),l.toBack(),e.zbBG=l,g=l.getBBox(),n.translate(e.marginLeftReal+e.plotAreaWidth-g.width+h,e.marginTopReal+h),n.hide(),n.mouseover(function(){e.rollOverZB()}).mouseout(function(){e.rollOutZB()}).click(function(){e.clickZB()}).touchstart(function(){e.rollOverZB()}).touchend(function(){e.rollOutZB(),e.clickZB()}),u=0;u<n.length;u++)n[u].attr({cursor:"pointer"});void 0!==e.zoomOutButtonTabIndex&&(n.setAttr("tabindex",e.zoomOutButtonTabIndex),n.setAttr("role","menuitem"),n.keyup(function(t){13==t.keyCode&&e.clickZB()})),e.zbSet=n}},rollOverZB:function(){this.rolledOverZB=!0,this.zbBG.setAttr("opacity",this.zoomOutButtonRollOverAlpha)},rollOutZB:function(){this.rolledOverZB=!1,this.zbBG.setAttr("opacity",this.zoomOutButtonAlpha)},clickZB:function(){this.rolledOverZB=!1,this.zoomOut()},zoomOut:function(){this.zoomOutValueAxes()},drawPlotArea:function(){var e=this.dx,r=this.dy,i=this.marginLeftReal,a=this.marginTopReal,o=this.plotAreaWidth-1,s=this.plotAreaHeight-1,l=this.plotAreaFillColors,u=this.plotAreaFillAlphas,c=this.plotAreaBorderColor,h=this.plotAreaBorderAlpha;"object"==("undefined"==typeof u?"undefined":n(u))&&(u=u[0]),l=t.polygon(this.container,[0,o,o,0,0],[0,0,s,s,0],l,u,1,c,h,this.plotAreaGradientAngle),t.setCN(this,l,"plot-area"),l.translate(i+e,a+r),this.set.push(l),0!==e&&0!==r&&(l=this.plotAreaFillColors,"object"==("undefined"==typeof l?"undefined":n(l))&&(l=l[0]),l=t.adjustLuminosity(l,-.15),o=t.polygon(this.container,[0,e,o+e,o,0],[0,r,r,0,0],l,u,1,c,h),t.setCN(this,o,"plot-area-bottom"),o.translate(i,a+s),this.set.push(o),e=t.polygon(this.container,[0,0,e,e,0],[0,s,s+r,r,0],l,u,1,c,h),t.setCN(this,e,"plot-area-left"),e.translate(i,a),this.set.push(e)),(i=this.bbset)&&this.scrollbarOnly&&i.remove()},updatePlotArea:function(){var t=this.updateWidth(),e=this.updateHeight(),n=this.container;this.realWidth=t,this.realWidth=e,n&&this.container.setSize(t,e);var n=this.marginLeftReal,r=this.marginTopReal,t=t-n-this.marginRightReal-this.dx,e=e-r-this.marginBottomReal;1>t&&(t=1),1>e&&(e=1),this.plotAreaWidth=Math.round(t),this.plotAreaHeight=Math.round(e),this.plotBalloonsSet.translate(n,r)},updateDxy:function(){this.dx=Math.round(this.depth3D*Math.cos(this.angle*Math.PI/180)),this.dy=Math.round(-this.depth3D*Math.sin(this.angle*Math.PI/180)),this.d3x=Math.round(this.columnSpacing3D*Math.cos(this.angle*Math.PI/180)),this.d3y=Math.round(-this.columnSpacing3D*Math.sin(this.angle*Math.PI/180))},updateMargins:function(){var t=this.getTitleHeight();this.titleHeight=t,this.marginTopReal=this.marginTop-this.dy,this.fixMargins&&!this.fixMargins.top&&(this.marginTopReal+=t),this.marginBottomReal=this.marginBottom,this.marginLeftReal=this.marginLeft,this.marginRightReal=this.marginRight},updateValueAxes:function(){var t,e=this.valueAxes;for(t=0;t<e.length;t++){var n=e[t];this.setAxisRenderers(n),this.updateObjectSize(n)}},setAxisRenderers:function(e){e.axisRenderer=t.RecAxis,e.guideFillRenderer=t.RecFill,e.axisItemRenderer=t.RecItem,e.marginsChanged=!0},updateGraphs:function(){var t,e=this.graphs;for(t=0;t<e.length;t++){var n=e[t];n.index=t,n.rotate=this.rotate,this.updateObjectSize(n)}},updateObjectSize:function(t){t.width=this.plotAreaWidth-1,t.height=this.plotAreaHeight-1,t.x=this.marginLeftReal,t.y=this.marginTopReal,t.dx=this.dx,t.dy=this.dy},updateChartCursor:function(){var e=this.chartCursor;e&&(e=t.processObject(e,t.ChartCursor,this.theme),this.updateObjectSize(e),this.addChartCursor(e),e.chart=this)},processScrollbars:function(){var e=this.chartScrollbar;e&&(e=t.processObject(e,t.ChartScrollbar,this.theme),this.addChartScrollbar(e))},updateScrollbars:function(){},removeChartCursor:function(){t.callMethod("destroy",[this.chartCursor]),this.chartCursor=null},zoomTrendLines:function(){var t,e=this.trendLines;for(t=0;t<e.length;t++){var n=e[t];n.valueAxis.recalculateToPercents?n.set&&n.set.hide():(n.x=this.marginLeftReal,n.y=this.marginTopReal,n.draw())}},handleCursorValueZoom:function(){},addTrendLine:function(t){this.trendLines.push(t)},zoomOutValueAxes:function(){for(var t=this.valueAxes,e=0;e<t.length;e++)t[e].zoomOut()},removeTrendLine:function(t){var e,n=this.trendLines;for(e=n.length-1;0<=e;e--)n[e]==t&&n.splice(e,1)},adjustMargins:function(t,e){var n=t.position,r=t.scrollbarHeight+t.offset;t.enabled&&("top"==n?e?this.marginLeftReal+=r:this.marginTopReal+=r:e?this.marginRightReal+=r:this.marginBottomReal+=r)},getScrollbarPosition:function(t,e,n){var r="bottom",i="top";t.oppositeAxis||(i=r,r="top"),t.position=e?"bottom"==n||"left"==n?r:i:"top"==n||"right"==n?r:i},updateChartScrollbar:function(t,e){if(t){t.rotate=e;var n=this.marginTopReal,r=this.marginLeftReal,i=t.scrollbarHeight,a=this.dx,o=this.dy,s=t.offset;"top"==t.position?e?(t.y=n,t.x=r-i-s):(t.y=n-i+o-s,t.x=r+a):e?(t.y=n+o,t.x=r+this.plotAreaWidth+a+s):(t.y=n+this.plotAreaHeight+s,t.x=this.marginLeftReal)}},showZB:function(t){var e=this.zbSet;t&&(e=this.zoomOutText,""!==e&&e&&this.drawZoomOutButton()),(e=this.zbSet)&&(this.zoomButtonSet.push(e),t?e.show():e.hide(),this.rollOutZB())},handleReleaseOutside:function(e){t.AmRectangularChart.base.handleReleaseOutside.call(this,e),(e=this.chartCursor)&&e.handleReleaseOutside&&e.handleReleaseOutside()},handleMouseDown:function(e){t.AmRectangularChart.base.handleMouseDown.call(this,e);var n=this.chartCursor;n&&n.handleMouseDown&&!this.rolledOverZB&&n.handleMouseDown(e)},update:function(){t.AmRectangularChart.base.update.call(this),this.chartCursor&&this.chartCursor.update&&this.chartCursor.update()},handleScrollbarValueZoom:function(t){this.relativeZoomValueAxes(t.target.valueAxes,t.relativeStart,t.relativeEnd),this.zoomAxesAndGraphs()},zoomValueScrollbar:function(t){if(t&&t.enabled){var e=t.valueAxes[0],n=e.relativeStart,r=e.relativeEnd;e.reversed&&(r=1-n,n=1-e.relativeEnd),t.percentZoom(n,r)}},zoomAxesAndGraphs:function(){if(!this.scrollbarOnly){var t,e=this.valueAxes;for(t=0;t<e.length;t++)e[t].zoom(this.start,this.end);for(e=this.graphs,t=0;t<e.length;t++)e[t].zoom(this.start,this.end);(t=this.chartCursor)&&t.clearSelection(),this.zoomTrendLines()}},handleValueAxisZoomReal:function(t,e){var n=t.relativeStart,r=t.relativeEnd;if(n>r)var i=n,n=r,r=i;this.relativeZoomValueAxes(e,n,r),this.updateAfterValueZoom()},updateAfterValueZoom:function(){this.zoomAxesAndGraphs(),this.zoomScrollbar()},relativeZoomValueAxes:function(e,n,r){if(n=t.fitToBounds(n,0,1),r=t.fitToBounds(r,0,1),n>r){var i=n;n=r,r=i}var i=1/this.maxZoomFactor,a=t.getDecimals(i)+4;if(r-n<i&&(r=n+(r-n)/2,n=r-i/2,r+=i/2),n=t.roundTo(n,a),r=t.roundTo(r,a),i=!1,e){for(a=0;a<e.length;a++){var o=e[a].zoomToRelativeValues(n,r,!0);o&&(i=o)}this.showZB()}return i},addChartCursor:function(e){t.callMethod("destroy",[this.chartCursor]),e&&(this.listenTo(e,"moved",this.handleCursorMove),this.listenTo(e,"zoomed",this.handleCursorZoom),this.listenTo(e,"zoomStarted",this.handleCursorZoomStarted),this.listenTo(e,"panning",this.handleCursorPanning),this.listenTo(e,"onHideCursor",this.handleCursorHide)),this.chartCursor=e},handleCursorChange:function(){},handleCursorMove:function(t){var e,n=this.valueAxes;for(e=0;e<n.length;e++)if(!t.panning){var r=n[e];r&&r.showBalloon&&r.showBalloon(t.x,t.y)}},handleCursorZoom:function(t){if(this.skipZoomed)this.skipZoomed=!1;else{var e=this.startX0,n=this.endX0,r=this.endY0,i=this.startY0,a=t.startX,o=t.endX,s=t.startY,l=t.endY;this.startX0=this.endX0=this.startY0=this.endY0=NaN,this.handleCursorZoomReal(e+a*(n-e),e+o*(n-e),i+s*(r-i),i+l*(r-i),t)}},handleCursorHide:function(){var t,e=this.valueAxes;for(t=0;t<e.length;t++)e[t].hideBalloon();for(e=this.graphs,t=0;t<e.length;t++)e[t].hideBalloonReal()}})}(),function(){var t=window.AmCharts;t.AmXYChart=t.Class({inherits:t.AmRectangularChart,construct:function(e){this.type="xy",t.AmXYChart.base.construct.call(this,e),this.cname="AmXYChart",this.theme=e,this.createEvents("zoomed"),t.applyTheme(this,e,this.cname)},initChart:function(){t.AmXYChart.base.initChart.call(this),this.dataChanged&&this.updateData(),this.drawChart(),!this.marginsUpdated&&this.autoMargins&&(this.marginsUpdated=!0,this.measureMargins());var e=this.marginLeftReal,n=this.marginTopReal,r=this.plotAreaWidth,i=this.plotAreaHeight;this.graphsSet.clipRect(e,n,r,i),this.bulletSet.clipRect(e,n,r,i),this.trendLinesSet.clipRect(e,n,r,i),this.drawGraphs=!0,this.showZB()},prepareForExport:function(){var t=this.bulletSet;t.clipPath&&this.container.remove(t.clipPath)},createValueAxes:function(){var e=[],n=[];this.xAxes=e,this.yAxes=n;var r,i,a=this.valueAxes;for(i=0;i<a.length;i++){r=a[i];var o=r.position;"top"!=o&&"bottom"!=o||(r.rotate=!0),r.setOrientation(r.rotate),o=r.orientation,"V"==o&&n.push(r),"H"==o&&e.push(r)}for(0===n.length&&(r=new t.ValueAxis(this.theme),r.rotate=!1,r.setOrientation(!1),a.push(r),n.push(r)),0===e.length&&(r=new t.ValueAxis(this.theme),r.rotate=!0,r.setOrientation(!0),a.push(r),e.push(r)),i=0;i<a.length;i++)this.processValueAxis(a[i],i);for(e=this.graphs,i=0;i<e.length;i++)this.processGraph(e[i],i)},drawChart:function(){t.AmXYChart.base.drawChart.call(this);var e=this.chartData;0<this.realWidth&&0<this.realHeight&&(t.ifArray(e)?(this.chartScrollbar&&this.updateScrollbars(),this.zoomChart()):this.cleanChart(),(e=this.scrollbarH)&&(this.hideXScrollbar?(e&&e.destroy(),this.scrollbarH=null):e.draw()),(e=this.scrollbarV)&&(this.hideYScrollbar?(e.destroy(),this.scrollbarV=null):e.draw()),this.zoomScrollbar()),this.autoMargins&&!this.marginsUpdated||this.dispDUpd()},cleanChart:function(){t.callMethod("destroy",[this.valueAxes,this.graphs,this.scrollbarV,this.scrollbarH,this.chartCursor])},zoomChart:function(){this.zoomObjects(this.valueAxes),this.zoomObjects(this.graphs),this.zoomTrendLines(),this.prevPlotAreaWidth=this.plotAreaWidth,this.prevPlotAreaHeight=this.plotAreaHeight},zoomObjects:function(t){var e,n,r=t.length;for(e=0;e<r;e++)n=t[e],n.zoom(0,this.chartData.length-1)},updateData:function(){this.parseData();var t,e,n=this.chartData,r=n.length-1,i=this.graphs,a=this.dataProvider,o=-(1/0),s=1/0;if(a){for(t=0;t<i.length;t++)if(e=i[t],e.data=n,e.zoom(0,r),e=e.valueField){var l;for(l=0;l<a.length;l++){var u=Number(a[l][e]);null!==u&&(u>o&&(o=u),u<s&&(s=u))}}for(isNaN(this.minValue)||(s=this.minValue),isNaN(this.maxValue)||(o=this.maxValue),t=0;t<i.length;t++)e=i[t],e.maxValue=o,e.minValue=s;(n=this.chartCursor)&&(n.type="crosshair",n.valueBalloonsEnabled=!1),this.dataChanged=!1,this.dispatchDataUpdated=!0}},processValueAxis:function(t){t.chart=this,t.minMaxField="H"==t.orientation?"x":"y",t.min=NaN,t.max=NaN},processGraph:function(e){t.isString(e.xAxis)&&(e.xAxis=this.getValueAxisById(e.xAxis)),t.isString(e.yAxis)&&(e.yAxis=this.getValueAxisById(e.yAxis)),e.xAxis||(e.xAxis=this.xAxes[0]),e.yAxis||(e.yAxis=this.yAxes[0]),e.valueAxis=e.yAxis},parseData:function(){t.AmXYChart.base.parseData.call(this),this.chartData=[];var e,n=this.dataProvider,r=this.valueAxes,i=this.graphs;if(n)for(e=0;e<n.length;e++){var a,o={axes:{},x:{},y:{}},s=this.dataDateFormat,l=n[e];for(a=0;a<r.length;a++){var u=r[a].id;o.axes[u]={},o.axes[u].graphs={};var c;for(c=0;c<i.length;c++){var h=i[c],g=h.id;if(h.xAxis.id==u||h.yAxis.id==u){var d={};d.serialDataItem=o,d.index=e;var p={},f=l[h.valueField];null!==f&&(f=Number(f),isNaN(f)||(p.value=f)),f=l[h.xField],null!==f&&("date"==h.xAxis.type&&(f=t.getDate(l[h.xField],s).getTime()),f=Number(f),isNaN(f)||(p.x=f)),f=l[h.yField],null!==f&&("date"==h.yAxis.type&&(f=t.getDate(l[h.yField],s).getTime()),f=Number(f),isNaN(f)||(p.y=f)),f=l[h.errorField],null!==f&&(f=Number(f),isNaN(f)||(p.error=f)),d.values=p,this.processFields(h,d,l),d.serialDataItem=o,d.graph=h,o.axes[u].graphs[g]=d}}}this.chartData[e]=o}this.start=0,this.end=this.chartData.length-1},formatString:function(e,n,r){var i=n.graph,a=i.numberFormatter;a||(a=this.nf);var o,s;return"date"==n.graph.xAxis.type&&(o=t.formatDate(new Date(n.values.x),i.dateFormat,this),s=RegExp("\\[\\[x\\]\\]","g"),e=e.replace(s,o)),"date"==n.graph.yAxis.type&&(o=t.formatDate(new Date(n.values.y),i.dateFormat,this),s=RegExp("\\[\\[y\\]\\]","g"),e=e.replace(s,o)),e=t.formatValue(e,n.values,["value","x","y"],a),-1!=e.indexOf("[[")&&(e=t.formatDataContextValue(e,n.dataContext)),e=t.AmXYChart.base.formatString.call(this,e,n,r)},addChartScrollbar:function(e){if(t.callMethod("destroy",[this.chartScrollbar,this.scrollbarH,this.scrollbarV]),e){this.chartScrollbar=e,this.scrollbarHeight=e.scrollbarHeight;var n="backgroundColor backgroundAlpha selectedBackgroundColor selectedBackgroundAlpha scrollDuration resizeEnabled hideResizeGrips scrollbarHeight updateOnReleaseOnly".split(" ");if(!this.hideYScrollbar){var r=new t.ChartScrollbar(this.theme);r.skipEvent=!0,r.chart=this,this.listenTo(r,"zoomed",this.handleScrollbarValueZoom),t.copyProperties(e,r,n),r.rotate=!0,this.scrollbarV=r}this.hideXScrollbar||(r=new t.ChartScrollbar(this.theme),r.skipEvent=!0,r.chart=this,this.listenTo(r,"zoomed",this.handleScrollbarValueZoom),t.copyProperties(e,r,n),r.rotate=!1,this.scrollbarH=r)}},updateTrendLines:function(){var e,n=this.trendLines;for(e=0;e<n.length;e++){var r=n[e],r=t.processObject(r,t.TrendLine,this.theme);n[e]=r,r.chart=this;var i=r.valueAxis;t.isString(i)&&(r.valueAxis=this.getValueAxisById(i)),i=r.valueAxisX,t.isString(i)&&(r.valueAxisX=this.getValueAxisById(i)),r.id||(r.id="trendLineAuto"+e+"_"+(new Date).getTime()),r.valueAxis||(r.valueAxis=this.yAxes[0]),r.valueAxisX||(r.valueAxisX=this.xAxes[0])}},updateMargins:function(){t.AmXYChart.base.updateMargins.call(this);var e=this.scrollbarV;e&&(this.getScrollbarPosition(e,!0,this.yAxes[0].position),this.adjustMargins(e,!0)),(e=this.scrollbarH)&&(this.getScrollbarPosition(e,!1,this.xAxes[0].position),this.adjustMargins(e,!1))},updateScrollbars:function(){t.AmXYChart.base.updateScrollbars.call(this);var e=this.scrollbarV;e&&(this.updateChartScrollbar(e,!0),e.valueAxes=this.yAxes,e.gridAxis||(e.gridAxis=this.yAxes[0])),(e=this.scrollbarH)&&(this.updateChartScrollbar(e,!1),e.valueAxes=this.xAxes,e.gridAxis||(e.gridAxis=this.xAxes[0]))},removeChartScrollbar:function(){t.callMethod("destroy",[this.scrollbarH,this.scrollbarV]),this.scrollbarV=this.scrollbarH=null},handleReleaseOutside:function(e){t.AmXYChart.base.handleReleaseOutside.call(this,e),t.callMethod("handleReleaseOutside",[this.scrollbarH,this.scrollbarV])},update:function(){t.AmXYChart.base.update.call(this),this.scrollbarH&&this.scrollbarH.update&&this.scrollbarH.update(),this.scrollbarV&&this.scrollbarV.update&&this.scrollbarV.update()},zoomScrollbar:function(){this.zoomValueScrollbar(this.scrollbarV),this.zoomValueScrollbar(this.scrollbarH)},handleCursorZoomReal:function(t,e,n,r){isNaN(t)||isNaN(e)||this.relativeZoomValueAxes(this.xAxes,t,e),isNaN(n)||isNaN(r)||this.relativeZoomValueAxes(this.yAxes,n,r),this.updateAfterValueZoom()},handleCursorZoomStarted:function(){if(this.xAxes){var t=this.xAxes[0];this.startX0=t.relativeStart,this.endX0=t.relativeEnd,t.reversed&&(this.startX0=1-t.relativeEnd,this.endX0=1-t.relativeStart)}this.yAxes&&(t=this.yAxes[0],this.startY0=t.relativeStart,this.endY0=t.relativeEnd,t.reversed&&(this.startY0=1-t.relativeEnd,this.endY0=1-t.relativeStart))},updateChartCursor:function(){t.AmXYChart.base.updateChartCursor.call(this);var e=this.chartCursor;if(e){e.valueLineEnabled=!0,e.categoryLineAxis||(e.categoryLineAxis=this.xAxes[0]);var n=this.valueAxis;if(e.valueLineBalloonEnabled){var r=e.categoryBalloonAlpha,i=e.categoryBalloonColor,a=e.color;void 0===i&&(i=e.cursorColor);for(var o=0;o<this.valueAxes.length;o++){var n=this.valueAxes[o],s=n.balloon;s||(s={}),s=t.extend(s,this.balloon,!0),s.fillColor=i,s.balloonColor=i,s.fillAlpha=r,s.borderColor=i,s.color=a,n.balloon=s}}else for(r=0;r<this.valueAxes.length;r++)n=this.valueAxes[r],n.balloon&&(n.balloon=null);e.zoomable&&(this.hideYScrollbar||(e.vZoomEnabled=!0),this.hideXScrollbar||(e.hZoomEnabled=!0))}},handleCursorPanning:function(e){var n,r=e.deltaX,i=e.delta2X;isNaN(i)&&(i=r,n=!0);var a=this.endX0,o=this.startX0,s=a-o,i=a-s*i,a=s;n||(a=0),r=t.fitToBounds(o-s*r,0,1-a),i=t.fitToBounds(i,a,1),this.relativeZoomValueAxes(this.xAxes,r,i),s=e.deltaY,e=e.delta2Y,isNaN(e)&&(e=s,n=!0),i=this.endY0,r=this.startY0,o=i-r,s=i+o*s,i=o,n||(i=0),n=t.fitToBounds(r+o*e,0,1-i),s=t.fitToBounds(s,i,1),this.relativeZoomValueAxes(this.yAxes,n,s),this.updateAfterValueZoom()},handleValueAxisZoom:function(t){this.handleValueAxisZoomReal(t,"V"==t.valueAxis.orientation?this.yAxes:this.xAxes)},showZB:function(){var e,n=this.valueAxes;if(n)for(var r=0;r<n.length;r++){var i=n[r];0!==i.relativeStart&&(e=!0),1!=i.relativeEnd&&(e=!0)}t.AmXYChart.base.showZB.call(this,e)}})}()},function(t,e,n){var r=n(1047);"string"==typeof r&&(r=[[t.id,r,""]]);n(179)(r,{});r.locals&&(t.exports=r.locals)},function(t,e,n){e=t.exports=n(178)(),e.push([t.id,".dnx-shadow .form-control{display:block;width:100%;height:34px;padding:6px 12px 6px 6px;font-size:14px;line-height:1.4;color:#71757f;background-color:#fff;background-image:none;border-top:none;border-right:none;border-bottom:1px solid #ccc;border-left:none;-webkit-transition:border-color .15s ease-in-out,-webkit-box-shadow .15s ease-in-out;-o-transition:border-color ease-in-out .15s,box-shadow ease-in-out .15s;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out;outline:0}.dnx-shadow .form-control:focus{color:#000;border-color:#049fd9;border-width:2px}.dnx-shadow .dropdown-group .form-control,.dnx-shadow .form-group .form-control{padding:6px 0;height:30px}.dnx-shadow .dnx-open{display:block!important}.dnx-shadow .dropdown-menu{top:100%!important}",""])},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var a=Object.getPrototypeOf(e);return null===a?void 0:t(a,n,r)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(r)},h=n(1049),g=n(1050),d=i(g),p=n(1051),f=i(p),A=n(1052),C=r(A),I={createElement:h.h},m={},v=C.colorPrim,y=function(t){function e(){o(this,e);var t=s(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t._ref=new WeakMap,t.getConfig=t.getConfig.bind(t),t.initialData=t.initialData.bind(t),t.updateLabels=t.updateLabels.bind(t),t}return l(e,t),u(e,[{key:"renderedCallback",value:function(){c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"connectedCallback",this).call(this);var t=this.getConfig(),n=this._ref.get(m);this.data;this.chart=AmCharts.makeChart(n,t)}},{key:"getConfig",value:function(){var t,e=this,n=this.legendposition,r=this.legends,i=this.labels,o=this.callouttext,s=this.tooltiptext,l=this.data,u=this.exprt;return t={type:"pie",theme:"light",fontFamily:"Helvetica",fontSize:12,startDuration:0,pullOutRadius:0,addClassNames:!0,labelsEnabled:null!==l&&i,outlineColor:"#FFFFFF",outlineAlpha:.8,outlineThickness:2,colorField:"color",labelColorField:"#58585b",legend:{enabled:r,autoMargins:!1,equalWidths:!1,horizontalGap:8,markerSize:8,valueWidth:0,position:n,marginTop:25,fontFamily:"Helvetica",align:"center",markerType:"square",data:this.generateLegendData(),color:"#58585b",markerLabelGap:6},dataProvider:this.initialData(),titleField:"title",valueField:"value"},a(t,"colorField","color"),a(t,"labelRadius",30),a(t,"labelColor","#58585b"),a(t,"radius",109),a(t,"innerRadius",95),a(t,"labelText",o),a(t,"balloonText",s),a(t,"balloon",{adjustBorderColor:!0,borderColor:"#d8d9da",borderAlpha:.1,animationDuration:0,borderThickness:1,color:"#626469",fadeOutDuration:.5,cornerRadius:0,fillColor:"#FFFFFF",fixedPosition:!0,fillAlpha:1,horizontalPadding:8,shadowAlpha:.1,shadowColor:"#000000",textAlign:"middle",verticalPadding:8,fontFamily:"Helvetica",fontSize:12}),a(t,"allLabels",this.getallLabels()),a(t,"export",{enabled:u,fileName:"DNAC-Chart",menu:[{format:"JPG",label:"Export",title:"Export chart to JPG",fileName:"DNAC-Chart"}]}),a(t,"listeners",[{event:"rendered",method:function(t){e.updateLabels(t)}},{event:"drawn",method:function(t){}},{event:"clickSlice",method:function(t){console.log("Clicking...")}}]),t}},{key:"getallLabels",value:function(){var t=this.internaltext,e=(this.data,[]);return t.map(function(t,n){var r={y:t.position,align:"center",size:t.size,bold:t.bold,text:t.text,color:t.color};e.push(r)}),e}},{key:"updateLabels",value:function(t){var e=[],n=this.data,r=this.piecolor;null!==n&&(n.map(function(n,i){t===i?void 0!==n.subs&&n.subs.map(function(t,n){e.push(t.color)}):e.push(r[i]);
}),Array.from(this.shadowRoot.querySelectorAll(".amcharts-pie-label")).forEach(function(t,n){var r=t.getAttribute("transform"),i=t.getAttribute("text-anchor"),a=e[n],o=r.split("(").pop().split(",").shift(),s=r.split(",").pop().split(")").shift(),l=parseInt(o),u=parseInt(s);t.setAttribute("transform","start"==i?"translate("+(l+10)+","+u+")":"translate("+(l-10)+","+u+")");var c=document.createElementNS("http://www.w3.org/2000/svg","circle");c.setAttribute("r","4"),c.setAttribute("cx","0"),c.setAttribute("cy","0"),c.setAttribute("fill",a),c.setAttribute("stroke",a),c.setAttribute("stroke-width","1"),c.setAttribute("stroke-opacity","1"),c.setAttribute("transform",r),c.setAttribute("class","amcharts-legend-marker"),t.parentNode.appendChild(c)}),Array.from(this.shadowRoot.querySelectorAll(".amcharts-legend-label")).forEach(function(t,e){t.setAttribute("transform","translate(14,6)")}))}},{key:"generateLegendData",value:function(){var t=this.data,e=this.labels,n=this.piecolor,r=[];return null!==t?(e?r=[]:t.map(function(t,e){var i={title:t.title,color:n[e]};r.push(i)}),r):r}},{key:"initialData",value:function t(e){var n=this.data,r=this.piecolor,t=[];return null===n?t.push({title:"No Data",value:100,color:"#CACACA",id:1}):n.map(function(e,n){t.push({title:e.title,value:e.value,color:r[n],id:n})}),t}},{key:"_onClickSlice",value:function(t){(0,h.emit)(this,"onClickSlice",{detail:{data:t}})}},{key:"renderCallback",value:function(){var t=this;console.log("rendering donut");var e=this.width,n=this.height,r=f.default;return[I.createElement("style",null,r),I.createElement("div",{ref:function(e){return t._ref.set(m,e)},class:"pie-chart",style:"width: "+e+"; height: "+n+";"})]}}],[{key:"is",get:function(){return"prophesier-donut-chart"}},{key:"props",get:function(){return{height:h.prop.string({attribute:!0,default:"350px"}),width:h.prop.string({attribute:!0,default:"100%"}),data:h.prop.object({attribute:!0,default:null}),selected:h.prop.string(),legendposition:h.prop.string({attribute:!0,default:"bottom"}),labels:h.prop.boolean({attribute:!0,default:!1}),callouttext:h.prop.string({attribute:!0,default:""}),tooltiptext:h.prop.string({attribute:!0,default:""}),piecolor:h.prop.array({attribute:!0,default:v}),internaltext:h.prop.array({attribute:!0,default:[{position:"54%",align:"center",size:32,bold:!0,text:"",color:"#58585b"}]}),legends:h.prop.boolean({attribute:!0,default:!0}),exprt:h.prop.boolean({attribute:!0,default:!1})}}}]),e}((0,d.default)(h.Component));customElements.define(y.is,y),e.default=y},function(t,e,n){var r,i,a;(function(t){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(o,s){"object"===n(e)&&"object"===n(t)?t.exports=s():(i=[],r=s,a="function"==typeof r?r.apply(e,i):r,!(void 0!==a&&(t.exports=a)))}(void 0,function(){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=38)}([function(t,e,n){n.d(e,"j",function(){return r}),n.d(e,"c",function(){return i}),n.d(e,"b",function(){return a}),n.d(e,"h",function(){return o}),n.d(e,"f",function(){return s}),n.d(e,"g",function(){return l}),n.d(e,"e",function(){return u}),n.d(e,"m",function(){return c}),n.d(e,"a",function(){return h}),n.d(e,"d",function(){return g}),n.d(e,"k",function(){return d}),n.d(e,"i",function(){return p}),n.d(e,"l",function(){return f});var r="____skate_connected",i="____skate_created",a="____skate_name",o="____skate_ctor_createInitProps",s="____skate_ctor_observedAttributes",l="____skate_ctor_props",u="____skate_ctor_propsMap",c="____skate_props",h="____skate_ref",g="____skate_renderer",d="____skate_rendering",p="____skate_rendererDebounced",f="____skate_updated"},function(t,e,n){function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=Object.getOwnPropertyNames(t);return n.i(i.a)(Object.getOwnPropertySymbols)?e.concat(Object.getOwnPropertySymbols(t)):e}var i=n(2);e.a=r},function(t,e,r){r.d(e,"a",function(){return a}),r.d(e,"c",function(){return o}),r.d(e,"e",function(){return s}),r.d(e,"d",function(){return l}),r.d(e,"b",function(){return u});var i="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(t){return"undefined"==typeof t?"undefined":n(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":"undefined"==typeof t?"undefined":n(t)},a=function(t){return"function"==typeof t},o=function(t){return"object"===("undefined"==typeof t?"undefined":i(t))&&null!==t},s=function(t){return"string"==typeof t},l=function(t){return"symbol"===("undefined"==typeof t?"undefined":i(t))},u=function(t){return"undefined"==typeof t}},function(t,e,n){(function(t){e.a="undefined"==typeof window?t:window}).call(e,n(37))},function(t,e,n){var r=n(1);e.a=function(t){for(var e=arguments.length,i=Array(e>1?e-1:0),a=1;a<e;a++)i[a-1]=arguments[a];return i.forEach(function(e){return n.i(r.a)(e).forEach(function(n){return t[n]=e[n]})}),t}},function(t,e,n){e.a=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=t.__SKATE_DATA||(t.__SKATE_DATA={});return e&&(n[e]||(n[e]={}))||n}},function(t,e,n){e.a=function(t){return"undefined"==typeof t||null===t}},function(t,e,n){function r(t){var e={};return n.i(s.a)(n.i(l.a)(t.constructor)).forEach(function(n){e[n]=t[n]}),e}function i(t,e){n.i(o.a)(t,e),t[a.d]&&t[a.d]()}var a=n(0),o=n(4),s=n(1),l=n(10),u=n(2);e.a=function(t,e){return n.i(u.b)(e)?r(t):i(t,e)}},function(t,e,r){(function(t){function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==("undefined"==typeof e?"undefined":n(e))&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof e?"undefined":n(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(e,n,r){if("production"!==t.env.NODE_ENV){var i=e.localName?e.localName:String(e);console.warn(i+" "+n+" is deprecated. Use "+r+".")}}function l(t,e,n,r){return e===t[O]&&n===t[M]&&r===t[R]}function u(t){var e=r.i(v.a)(t);return r.i(m.a)(e).reduce(function(t,n){return t[n]=r.i(b.a)(e[n]),t},{})}function c(t){var e=u(t);return function(t){r.i(m.a)(e).forEach(function(n){var r=e[n];r.beforeDefineProperty(t);var i=n in t,a=i&&t[n];Object.defineProperty(t,n,r),i&&(t[n]=a)})}}var h=r(13),g=(r.n(h),r(0)),d=r(4),p=r(25),f=r(5),A=r(27),C=r(9),I=r(31),m=r(1),v=r(10),y=r(7),b=r(23),x=r(2),w=r(24),S=r(11),T=r(3),N=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),E=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var a=Object.getPrototypeOf(e);return null===a?void 0:t(a,n,r)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(r)},k=T.a.HTMLElement||function(){function t(){o(this,t)}return t}(),O=r.i(p.a)("prevName"),M=r.i(p.a)("prevOldValue"),R=r.i(p.a)("prevNewValue"),D=function(t){function e(){var t;o(this,e);for(var n=arguments.length,a=Array(n),l=0;l<n;l++)a[l]=arguments[l];var u=i(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(a))),h=u.constructor;u[g.c]=!0,h.hasOwnProperty(g.h)||r.i(S.a)(h,g.h,c(h)),u[g.i]=r.i(A.a)(u[g.d].bind(u));var d=r.i(m.a)(r.i(v.a)(h)).length;d&&h[g.h]&&h[g.h](u),!u.renderCallback&&h.render&&(s(u,"static render","renderCallback"),u.renderCallback=h.render.bind(h,u));var p=h.created;r.i(x.a)(p)&&(s(u,"static created","constructor"),p(u));var C=r.i(f.a)(u),I=C.readyCallbacks;return I&&(I.forEach(function(t){return t(u)}),delete C.readyCallbacks),u}return a(e,t),N(e,null,[{key:"observedAttributes",get:function(){var t=this.hasOwnProperty(g.f)?this[g.f]:[],n=r.i(v.a)(this),i=Object.keys(n).map(function(t){return n[t].attrSource}).filter(Boolean),a=i.concat(t).concat(E(e.__proto__||Object.getPrototypeOf(e),"observedAttributes",this));return a.filter(function(t,e){return a.indexOf(t)===e})},set:function(t){t=Array.isArray(t)?t:[],r.i(S.a)(this,"observedAttributes",t)}},{key:"props",get:function(){return r.i(d.a)({},E(e.__proto__||Object.getPrototypeOf(e),"props",this),this[g.g])},set:function(t){r.i(S.a)(this,g.g,t)}}]),N(e,[{key:"connectedCallback",value:function(){r.i(C.a)(this).resumeAttributesUpdates(),this[g.j]=!0,this[g.i]();var t=this.constructor.attached;r.i(x.a)(t)&&(s(this,"static attached","connectedCallback"),t(this)),this.setAttribute("defined","")}},{key:"disconnectedCallback",value:function(){r.i(C.a)(this).suspendAttributesUpdates(),this[g.j]=!1;var t=this.constructor.detached;r.i(x.a)(t)&&(s(this,"static detached","disconnectedCallback"),t(this))}},{key:"attributeChangedCallback",value:function(t,e,n){if(!l(this,t,e,n)){this[O]=t,this[M]=e,this[R]=n;var i=r.i(f.a)(this,"attrSourceLinks")[t];if(i){var a=r.i(C.a)(this).onAttributeChanged(t,n);if(a){var o=r.i(v.a)(this.constructor)[i],u=null!==n&&o.deserialize?o.deserialize(n):n,c=r.i(f.a)(this,"props")[i];c.settingPropFromAttrSource=!0,this[i]=u,c.settingPropFromAttrSource=!1}}var h=this.constructor.attributeChanged;r.i(x.a)(h)&&(s(this,"static attributeChanged","attributeChangedCallback"),h(this,{name:t,newValue:n,oldValue:e}))}}},{key:"updatedCallback",value:function(t){return this.constructor.hasOwnProperty("updated")&&s(this,"static updated","updatedCallback"),this.constructor.updated(this,t)}},{key:"renderedCallback",value:function(){return this.constructor.hasOwnProperty("rendered")&&s(this,"static rendered","renderedCallback"),this.constructor.rendered(this)}},{key:"rendererCallback",value:function(){return this.constructor.renderer(this)}},{key:g.d,value:function(){!this[g.k]&&this[g.j]&&(this[g.k]=!0,this[g.l]()&&r.i(x.a)(this.renderCallback)&&(this.rendererCallback(),this.renderedCallback()),this[g.k]=!1)}},{key:g.l,value:function(){var t=this[g.m];return this[g.m]=r.i(y.a)(this),this.updatedCallback(t)}}],[{key:"extend",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this,n=function(t){function e(){return o(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,t),e}(e),s=r.i(I.a)(t),l=r.i(I.a)(t.prototype);return delete s.prototype,Object.defineProperties(n,s),Object.defineProperties(n.prototype,l),n}},{key:"rendered",value:function(){}},{key:"renderer",value:function(t){t.shadowRoot||t.attachShadow({mode:"open"}),r.i(h.patchInner)(t.shadowRoot,function(){var e=t.renderCallback(t);r.i(x.a)(e)?e():Array.isArray(e)&&e.forEach(function(t){r.i(x.a)(t)&&t()})})}},{key:"updated",value:function(t,e){if(!e)return!0;for(var n=r.i(m.a)(e),i=0;i<n.length;i++){var a=n[i];if(!r.i(w.a)(e[a],t[a]))return!0}return!1}}]),e}(k);D.is="",e.a=D}).call(e,r(14))},function(t,e,n){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t){var e=t[u];return e||(e=new l(t),t[u]=e),e}var a=n(12),o=n(2);e.a=i;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=function(){function t(e){r(this,t),this.elem=e,this.connected=!1,this.pendingValues={},this.lastSetValues={}}return s(t,[{key:"suspendAttributesUpdates",value:function(){this.connected=!1}},{key:"resumeAttributesUpdates",value:function(){var t=this;this.connected=!0;var e=Object.keys(this.pendingValues);e.forEach(function(e){var r=t.pendingValues[e];n.i(o.b)(r)||(delete t.pendingValues[e],t._syncAttrValue(e,r))})}},{key:"onAttributeChanged",value:function(t,e){e=n.i(a.a)(e),this._clearPendingValue(t);var r=this.lastSetValues[t]!==e;return this.lastSetValues[t]=e,r}},{key:"setAttrValue",value:function(t,e){e=n.i(a.a)(e),this.lastSetValues[t]=e,this.connected?(this._clearPendingValue(t),this._syncAttrValue(t,e)):this.pendingValues[t]=e}},{key:"_syncAttrValue",value:function(t,e){var r=n.i(a.a)(this.elem.getAttribute(t));e!==r&&(null===e?this.elem.removeAttribute(t):this.elem.setAttribute(t,e))}},{key:"_clearPendingValue",value:function(t){t in this.pendingValues&&delete this.pendingValues[t]}}]),t}(),u="____skate_attributesMgr"},function(t,e,n){function r(t){return t.hasOwnProperty(i.e)||!function(){var e=t.props||{},r=n.i(a.a)(e).reduce(function(t,n){return t[n]=new o.a(n,e[n]),t},{});n.i(s.a)(t,i.e,r)}(),t[i.e]}var i=n(0),a=n(1),o=n(35),s=n(11);e.a=r},function(t,e,n){function r(t,e,n){Object.defineProperty(t,e,{configurable:!0,value:n})}e.a=r},function(t,e,n){var r=n(6),i=function(t){return n.i(r.a)(t)?null:String(t)};e.a=i},function(t,e,r){function i(t,e){this.attrs=u(),this.attrsArr=[],this.newAttrs=u(),this.key=e,this.keyMap=null,this.keyMapValid=!0,this.nodeName=t,this.text=null}function a(){this.created=N.nodesCreated&&[],this.deleted=N.nodesDeleted&&[]}/**
	       * @license
	       * Copyright 2015 The Incremental DOM Authors. All Rights Reserved.
	       *
	       * Licensed under the Apache License, Version 2.0 (the "License");
	       * you may not use this file except in compliance with the License.
	       * You may obtain a copy of the License at
	       *
	       *      http://www.apache.org/licenses/LICENSE-2.0
	       *
	       * Unless required by applicable law or agreed to in writing, software
	       * distributed under the License is distributed on an "AS-IS" BASIS,
	       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	       * See the License for the specific language governing permissions and
	       * limitations under the License.
	       */
var o=Object.prototype.hasOwnProperty,s=Object.create,l=function(t,e){return o.call(t,e)},u=function(){return s(null)},c=function(t,e,n){var r=new i(e,n);return t.__incrementalDOMData=r,r},h=function(t){var e=t.__incrementalDOMData;if(!e){var n=t.nodeName.toLowerCase(),r=null;t instanceof Element&&(r=t.getAttribute("key")),e=c(t,n,r)}return e},g={default:"__default",placeholder:"__placeholder"},d=function(t){return 0===t.lastIndexOf("xml:",0)?"http://www.w3.org/XML/1998/namespace":0===t.lastIndexOf("xlink:",0)?"http://www.w3.org/1999/xlink":void 0},p=function(t,e,n){if(null==n)t.removeAttribute(e);else{var r=d(e);r?t.setAttributeNS(r,e,n):t.setAttribute(e,n)}},f=function(t,e,n){t[e]=n},A=function(t,e,n){if("string"==typeof n)t.style.cssText=n;else{t.style.cssText="";var r=t.style,i=n;for(var a in i)l(i,a)&&(r[a]=i[a])}},C=function(t,e,r){var i="undefined"==typeof r?"undefined":n(r);"object"===i||"function"===i?f(t,e,r):p(t,e,r)},I=function(t,e,n){var r=h(t),i=r.attrs;if(i[e]!==n){var a=m[e]||m[g.default];a(t,e,n),i[e]=n}},m=u();m[g.default]=C,m[g.placeholder]=function(){},m.style=A;var v=function(t,e){return"svg"===t?"http://www.w3.org/2000/svg":"foreignObject"===h(e).nodeName?null:e.namespaceURI},y=function(t,e,n,r,i){var a=v(n,e),o=void 0;if(o=a?t.createElementNS(a,n):t.createElement(n),c(o,n,r),i)for(var s=0;s<i.length;s+=2)I(o,i[s],i[s+1]);return o},b=function(t){var e=t.createTextNode("");return c(e,"#text",null),e},x=function(t){for(var e=u(),n=t.firstElementChild;n;){var r=h(n).key;r&&(e[r]=n),n=n.nextElementSibling}return e},w=function(t){var e=h(t);return e.keyMap||(e.keyMap=x(t)),e.keyMap},S=function(t,e){return e?w(t)[e]:null},T=function(t,e,n){w(t)[e]=n},N={nodesCreated:null,nodesDeleted:null};a.prototype.markCreated=function(t){this.created&&this.created.push(t)},a.prototype.markDeleted=function(t){this.deleted&&this.deleted.push(t)},a.prototype.notifyChanges=function(){this.created&&this.created.length>0&&N.nodesCreated(this.created),this.deleted&&this.deleted.length>0&&N.nodesDeleted(this.deleted)};var E=null,k=null,O=null,M=null,R=null,D=function(t){var e=function(e,n,r){var i=E,o=M,s=R,l=k,u=O;E=new a,M=e,R=e.ownerDocument,O=e.parentNode,t(e,n,r),E.notifyChanges(),E=i,M=o,R=s,k=l,O=u};return e},_=D(function(t,e,n){k=t,B(),e(n),j()}),P=D(function(t,e,n){k={nextSibling:t},e(n)}),L=function(t,e){var n=h(k);return t===n.nodeName&&e==n.key},z=function(t,e,n){if(!k||!L(t,e)){var r=void 0;e&&(r=S(O,e)),r||(r="#text"===t?b(R):y(R,O,t,e,n),e&&T(O,e,r),E.markCreated(r)),k&&h(k).key?(O.replaceChild(r,k),h(O).keyMapValid=!1):O.insertBefore(r,k),k=r}},F=function(){var t=O,e=h(t),n=e.keyMap,r=e.keyMapValid,i=t.lastChild,a=void 0;if(!(i===k&&r||e.attrs[g.placeholder]&&t!==M)){for(;i!==k;)t.removeChild(i),E.markDeleted(i),a=h(i).key,a&&delete n[a],i=t.lastChild;if(!r){for(a in n)i=n[a],i.parentNode!==t&&(E.markDeleted(i),delete n[a]);e.keyMapValid=!0}}},B=function(){O=k,k=null},V=function(){k=k?k.nextSibling:O.firstChild},j=function(){F(),k=O,O=O.parentNode},W=function(t,e,n){return V(),z(t,e,n),B(),O},G=function(){return j(),k},U=function(){return V(),z("#text",null,null),k},H=function(){return O},Z=function(){k=O.lastChild},Y=3,X=[],q=function(t,e,n,r){for(var i=W(t,e,n),a=h(i),o=a.attrsArr,s=a.newAttrs,l=!1,u=Y,c=0;u<arguments.length;u+=1,c+=1)if(o[c]!==arguments[u]){l=!0;break}for(;u<arguments.length;u+=1,c+=1)o[c]=arguments[u];if(c<o.length&&(l=!0,o.length=c),l){for(u=Y;u<arguments.length;u+=2)s[arguments[u]]=arguments[u+1];for(var g in s)I(i,g,s[g]),s[g]=void 0}return i},K=function(t,e,n){X[0]=t,X[1]=e,X[2]=n},J=function(t,e){X.push(t,e)},Q=function(){var t=q.apply(null,X);return X.length=0,t},$=function(t){var e=G();return e},tt=function(t,e,n,r){return q.apply(null,arguments),$(t)},et=function(t,e,n,r){return q.apply(null,arguments),Z(),$(t)},nt=function(t,e){var n=U(),r=h(n);if(r.text!==t){r.text=t;for(var i=t,a=1;a<arguments.length;a+=1){var o=arguments[a];i=o(i)}n.data=i}return n};e.patch=_,e.patchInner=_,e.patchOuter=P,e.currentElement=H,e.skip=Z,e.elementVoid=tt,e.elementOpenStart=K,e.elementOpenEnd=Q,e.elementOpen=q,e.elementClose=$,e.elementPlaceholder=et,e.text=nt,e.attr=J,e.symbols=g,e.attributes=m,e.applyAttr=p,e.applyProp=f,e.notifications=N},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(t){if(c===setTimeout)return setTimeout(t,0);if((c===n||!c)&&setTimeout)return c=setTimeout,setTimeout(t,0);try{return c(t,0)}catch(e){try{return c.call(null,t,0)}catch(e){return c.call(this,t,0)}}}function a(t){if(h===clearTimeout)return clearTimeout(t);if((h===r||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(t);try{return h(t)}catch(e){try{return h.call(null,t)}catch(e){return h.call(this,t)}}}function o(){f&&d&&(f=!1,d.length?p=d.concat(p):A=-1,p.length&&s())}function s(){if(!f){var t=i(o);f=!0;for(var e=p.length;e;){for(d=p,p=[];++A<e;)d&&d[A].run();A=-1,e=p.length}d=null,f=!1,a(t)}}function l(t,e){this.fun=t,this.array=e}function u(){}var c,h,g=t.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:n}catch(t){c=n}try{h="function"==typeof clearTimeout?clearTimeout:r}catch(t){h=r}}();var d,p=[],f=!1,A=-1;g.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];p.push(new l(t,e)),1!==p.length||f||i(s)},l.prototype.run=function(){this.fun.apply(null,this.array)},g.title="browser",g.browser=!0,g.env={},g.argv=[],g.version="",g.versions={},g.on=u,g.addListener=u,g.once=u,g.off=u,g.removeListener=u,g.removeAllListeners=u,g.emit=u,g.binding=function(t){throw new Error("process.binding is not supported")},g.cwd=function(){return"/"},g.chdir=function(t){throw new Error("process.chdir is not supported")},g.umask=function(){return 0}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(19),i=n(21),a=n(22),o=n(8),s=n(16),l=n(17),u=n(18),c=n(7),h=n(20);n.d(e,"Component",function(){return o.a}),n.d(e,"define",function(){return s.a}),n.d(e,"emit",function(){return l.a}),n.d(e,"link",function(){return u.a}),n.d(e,"prop",function(){return r}),n.d(e,"props",function(){return c.a}),n.d(e,"ready",function(){return h.a}),n.d(e,"symbols",function(){return i}),n.d(e,"vdom",function(){return a}),n.d(e,"h",function(){return g});var g=a.builder()},function(t,e,r){(function(t){var i=r(8),a=r(36),o=r(3),s="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(t){return"undefined"==typeof t?"undefined":n(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":"undefined"==typeof t?"undefined":n(t)};e.a=function(){for(var e=o.a.customElements,n=o.a.HTMLElement,l=arguments.length,u=Array(l),c=0;c<l;c++)u[c]=arguments[c];var h=u[0],g=u[1];if(!e)throw new Error("Skate requires native custom element support or a polyfill.");if("production"!==t.env.NODE_ENV&&2===u.length&&console.warn('The "name" argument to define() is deprecated. Please define a `static is` property on the constructor instead.'),1===u.length&&(g=h,h=null),"object"===("undefined"==typeof g?"undefined":s(g))&&(g=i.a.extend(g)),!(g.prototype instanceof n))throw new Error("You must provide a constructor that extends HTMLElement to define().");return 2===u.length?e.define(e.get(h)?r.i(a.a)(h):h,g):(g.hasOwnProperty("is")||(g.is=r.i(a.a)()),e.define(g.is,g)),g}}).call(e,r(14))},function(t,e,n){function r(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.detail;delete e.detail;var r=void 0;return a?(r=new a(t,e),Object.defineProperty(r,"detail",{value:n})):(r=document.createEvent("CustomEvent"),Object.defineProperty(r,"composed",{value:e.composed}),r.initCustomEvent(t,e.bubbles,e.cancelable,n)),r}var i=n(3),a=function(t){if(t)try{new t("emit-init")}catch(t){return}return t}(i.a.Event);e.a=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return void 0===n.bubbles&&(n.bubbles=!0),void 0===n.cancelable&&(n.cancelable=!0),void 0===n.composed&&(n.composed=!0),t.dispatchEvent(r(e,n))}},function(t,e,n){function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t){var e=t.type;return"checkbox"===e||"radio"===e?!!t.checked&&(t.value||!0):t.value}var a=n(7);e.a=function(t,e){return function(o){var s=o.target||o.composedPath()[0],l=i(s),u=e||s.name||"value";if(u.indexOf(".")>-1){var c=u.split("."),h=c[0],g=c.pop(),d=c.reduce(function(t,e){return t&&t[e]},t);d[g||o.target.name]=l,n.i(a.a)(t,r({},h,t[h]))}else n.i(a.a)(t,r({},u,l))}}},function(t,e,n){function r(t){return function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.unshift({},t),i.a.apply(void 0,n)}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(4),a=n(6),o=n(12);e.create=r,n.d(e,"array",function(){return l}),n.d(e,"boolean",function(){return u}),n.d(e,"number",function(){return h}),n.d(e,"string",function(){return g}),n.d(e,"object",function(){return d});var s=function(t){return n.i(a.a)(t)?null:JSON.parse(t)},l=r({coerce:function(t){return Array.isArray(t)?t:n.i(a.a)(t)?null:[t]},default:function(){return[]},deserialize:s,serialize:JSON.stringify}),u=r({coerce:function(t){return!!t},default:!1,deserialize:function(t){return!(null===t)},serialize:function(t){return t?"":null}}),c=function(t){return n.i(a.a)(t)?0:Number(t)},h=r({default:0,coerce:c,deserialize:c,serialize:o.a}),g=r({default:"",coerce:o.a,deserialize:o.a,serialize:o.a}),d=r({default:function(){return{}},deserialize:s,serialize:JSON.stringify})},function(t,e,n){var r=n(0),i=n(5);e.a=function(t,e){var a=n.i(i.a)(t);t[r.c]?e(t):a.readyCallbacks?a.readyCallbacks.push(e):a.readyCallbacks=[e]}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(0);n.d(e,"name",function(){return r.b})},function(t,e,r){function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t,e,n){var r=t[N];r||(r=t[N]={}),"undefined"==typeof r[e]&&t.addEventListener(e,function(t){r[e]&&r[e].call(this,t)}),r[e]="function"==typeof n?n:null}function s(t){if(!t)return t;if(t.is)return t.is;if(t.prototype instanceof x){if(t[I.b])return t[I.b];var e=new t;return e[I.b]=e.localName}return t}function l(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;O=[t,e,n]}function u(){var t=z.apply(void 0,i(O));return O=null,t}function c(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:R;return function n(){for(var i=arguments.length,a=Array(i),o=0;o<i;o++)a[o]=arguments[o];if(a[0]=s(a[0]),k=null,"function"==typeof a[0])return k=a[0],e.apply(void 0,a);if(S.length)S[S.length-1].push([n,a]);else{if(t===_){if(M)return++M;var c=t.apply(void 0,a);return c[T]&&++M,c}if(t===C.elementClose){if(1===M&&r.i(C.skip)(),M&&--M)return;var h=t.apply(void 0,a),g=h[I.a];return delete h[I.a],"function"==typeof g&&g(h),h}if(!M||t===l||t===u)return t.apply(void 0,a)}}}function h(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];k?k[E][e[0]]=e[1]:S.length?S[S.length-1].push([h,e]):(O.push(e[0]),O.push(e[1]))}function g(t,e,n){for(var r={key:e,statics:n},i=arguments.length,a=Array(i>3?i-3:0),o=3;o<i;o++)a[o-3]=arguments[o];for(var s=0;s<a.length;s+=2)r[a[s]]=a[s+1];t[E]=r,S.push([])}function d(t){var e=S.pop(),n=t[E];delete t[E];var r=t(n,function(){return e.forEach(function(t){return t[0].apply(t,i(t[1]))})});return"function"==typeof r?r():r}function p(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return z.apply(void 0,[t].concat(n)),F(t)}function f(t,e){for(var n="undefined"==typeof e?"undefined":y(e),r=arguments.length,i=Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];return"function"!==n&&"string"!==n&&"number"!==n||i.unshift(e),null!==e&&"object"===n||(e={}),P(t,e.key,e.statics),delete e.key,delete e.statics,Object.keys(e).forEach(function(t){return h(t,e[t])}),L(t),i.forEach(function(t){var e="undefined"==typeof t?"undefined":y(t);"function"===e?t():"string"===e||"number"===e?B(t):Array.isArray(t)&&t.forEach(function(t){return t()})}),F(t)}function A(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return f.bind.apply(f,[null].concat(e))}:e.map(function(t){return function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return f.bind.apply(f,[null,t].concat(n))}})}Object.defineProperty(e,"__esModule",{value:!0});var C=r(13),I=(r.n(C),r(0)),m=r(34),v=r(3);e.element=f,e.builder=A,r.d(e,"attr",function(){return h}),r.d(e,"elementClose",function(){return F}),r.d(e,"elementOpen",function(){return z}),r.d(e,"elementOpenEnd",function(){return L}),r.d(e,"elementOpenStart",function(){return P}),r.d(e,"elementVoid",function(){return p}),r.d(e,"text",function(){return B});var y="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(t){return"undefined"==typeof t?"undefined":n(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":"undefined"==typeof t?"undefined":n(t)},b=v.a.customElements,x=v.a.HTMLElement,w=C.attributes[C.symbols.default],S=[],T="__skip",N="__events",E="__props",k=void 0,O=void 0,M=0,R=function(){},D=r.i(m.a)(C.attributes,a({key:R,statics:R,checked:C.applyProp,className:C.applyProp,disabled:C.applyProp,value:C.applyProp,ref:function(t,e,n){t[I.a]=n},skip:function(t,e,n){n?t[T]=!0:delete t[T]}},C.symbols.default,function(t,e,n){var i=b.get(t.localName),a=i&&i.props||{},s=i&&i.prototype||{};if((e in a||e in t||e in s)&&!("ownerSVGElement"in t))return void r.i(C.applyProp)(t,e,n);if(n===!1)return void w(t,e);if(0===e.indexOf("on")){var l=e[2],u=void 0;if("-"===l?u=e.substring(3):l===l.toUpperCase()&&(u=l.toLowerCase()+e.substring(3)),u)return void o(t,u,n)}w(t,e,n)})),_=D(C.elementOpen),P=c(l,g),L=c(u),z=c(_,g),F=c(C.elementClose,d),B=c(C.text)},function(t,e,n){function r(t){var e=t.nameOrSymbol,r={configurable:!0,enumerable:!0};return r.beforeDefineProperty=function(r){var i=n.i(c.a)(r,e),h=t.attrSource;h&&(n.i(a.a)(r,"attrSourceLinks")[h]=e);var g=r[e],d=!1;n.i(o.a)(g)&&(h&&r.hasAttribute(h)?(d=!0,g=t.deserialize(r.getAttribute(h))):g="initial"in t?n.i(u.a)(r,t):n.i(l.a)(r,t)),g=t.coerce(g),i.internalValue=g;var p=t.attrTarget&&!n.i(o.a)(g)&&(!d||t.attrTargetIsNotSource);if(p){var f=t.serialize(g);n.i(s.a)(r).setAttrValue(t.attrTarget,f)}},r.get=function(){var r=n.i(c.a)(this,e),i=r.internalValue;return t.get?t.get(this,{name:e,internalValue:i}):i},r.set=function(r){var a=n.i(c.a)(this,e),u=n.i(o.a)(r);if(u&&(r=n.i(l.a)(this,t)),r=t.coerce(r),t.set){var h=a.oldValue;n.i(o.a)(h)&&(h=null);var g={name:e,newValue:r,oldValue:h};t.set(this,g)}this[i.i](this),a.internalValue=a.oldValue=r;var d=t.attrTarget&&(t.attrTargetIsNotSource||!a.settingPropFromAttrSource);if(d){var p=u?null:t.serialize(r);n.i(s.a)(this).setAttrValue(t.attrTarget,p)}},r}var i=n(0),a=n(5),o=n(6),s=n(9),l=n(29),u=n(30),c=n(32);e.a=r},function(t,e,n){Object.is||(Object.is=function(t,e){return t===e?0!==t||1/t===1/e:t!==t&&e!==e}),e.a=Object.is},function(t,e,n){function r(t){return"function"==typeof Symbol?Symbol(t):t}e.a=r},function(t,e,n){e.a=function(t){return t.split(/([A-Z])/).reduce(function(t,e,n){var r=t&&n%2!==0?"-":"";return""+t+r+e.toLowerCase()})}},function(t,e,n){function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function i(t){var e=!1,n=0,i=[],a=document.createElement("span"),o=new l(function(){t.apply(void 0,r(i)),e=!1,i=null});return o.observe(a,{childList:!0}),function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];i=r,e||(e=!0,a.textContent=""+n,n+=1)}}function a(t){var e=!1,n=[];return function(){for(var i=arguments.length,a=Array(i),o=0;o<i;o++)a[o]=arguments[o];n=a,e||(e=!0,setTimeout(function(){e=!1,t.apply(void 0,r(n))},1))}}var o=n(33),s=n(3),l=s.a.MutationObserver;e.a=n.i(o.a)(l)?i:a},function(t,e,n){function r(t){throw new Error(t)}e.a=r},function(t,e,n){function r(t,e){return"function"==typeof e.default?e.default(t,{name:e.nameOrSymbol}):e.default}e.a=r},function(t,e,n){function r(t,e){return"function"==typeof e.initial?e.initial(t,{name:e.nameOrSymbol}):e.initial}e.a=r},function(t,e,n){var r=n(1);e.a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.i(r.a)(t).reduce(function(e,n){return e[n]=Object.getOwnPropertyDescriptor(t,n),e},{})}},function(t,e,n){function r(t,e){var r=n.i(i.a)(t,"props");return r[e]||(r[e]={})}var i=n(5);e.a=r},function(t,e,n){var r=["native code","[object MutationObserverConstructor]"];e.a=function(t){return r.map(function(e){return(t||"").toString().indexOf([e])>-1}).reduce(function(t,e){return t||e})}},function(t,e,n){function r(t,e){var n={};return Object.keys(e).forEach(function(r){n[r]=t[r],t[r]=e[r]}),n}function i(t,e){n.i(a.a)(t,e)}var a=n(4);e.a=function(t,e){return function(n){return function(){var a=r(t,e),o=n.apply(void 0,arguments);return i(t,a),o}}}},function(t,e,n){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(n.i(l.d)(e))n.i(s.a)(e.toString()+" symbol property cannot have an attribute.");else{if(t===!0)return n.i(a.a)(String(e));if(n.i(l.e)(t))return t}return null}var a=n(26),o=n(6),s=n(28),l=n(2),u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=function(){function t(e,a){var u=this;r(this,t),this._nameOrSymbol=e,a=a||{},this.attrSource=null,this.attrTarget=null,this.attrTargetIsNotSource=!1,this.coerce=function(t){return t},this.default=null,this.deserialize=function(t){return t},this.get=null,this.serialize=function(t){return n.i(o.a)(t)?null:String(t)},this.set=null,Object.keys(a).forEach(function(t){var r=a[t];switch(t){case"attribute":if(n.i(l.c)(r)){var o=r.source,c=r.target;o||c||n.i(s.a)(t+" 'source' or 'target' is missing."),u.attrSource=i(o,e),u.attrTarget=i(c,e),u.attrTargetIsNotSource=u.attrTarget!==u.attrSource}else u.attrSource=u.attrTarget=i(r,e);break;case"coerce":case"deserialize":case"get":case"serialize":case"set":n.i(l.a)(r)?u[t]=r:n.i(s.a)(t+" must be a function.");break;case"default":case"initial":u[t]=r;break;default:u[t]=r}})}return u(t,[{key:"nameOrSymbol",get:function(){return this._nameOrSymbol}}]),t}();e.a=c},function(t,e,n){function r(t){var e="xxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0,n="x"===t?e:3&e|8;return n.toString(16)});return(t||"x")+"-"+e}e.a=r},function(t,e){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(t){"object"===("undefined"==typeof window?"undefined":n(window))&&(r=window)}t.exports=r},function(t,e,n){t.exports=n(15)}])})}).call(e,n(528)(t))},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();e.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:HTMLElement;return function(t){function e(){return n(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,t),a(e,[{key:"attachShadow",value:function(){return this}},{key:"shadowRoot",get:function(){return this}}]),e}(t)}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default='\n.amcharts-pie-label {\n    font-family: CiscoSans;\n    font-size: 10px;\n    font-weight: 300;\n    line-height: 1.5;\n    letter-spacing: 0.9px;\n    text-align: center;\n    color: #58585b;\n}\n\n.amcharts-legend-label {\n    font-family: CiscoSans;\n    font-size: 10px;\n    font-weight: 300;\n    line-height: 1.08;\n    letter-spacing: 0.9px;\n    text-align: center;\n    color: #58585b;\n}\n\n.amcharts-title {\n    font-family: CiscoSans;\n    font-size: 18px;\n    font-weight: 300;\n    line-height: 1;\n    letter-spacing: 0.7px;\n    text-align: left;\n    color: #58585b;\n}\n\n.amcharts-label {\n    font-family: CiscoSans;\n    font-weight: 300;\n    letter-spacing: 0.8px;\n    text-align: center;\n}\n.amcharts-balloon-div {\n    font-family: CiscoSans;\n    font-weight: 300;\n    letter-spacing: 0.8px;\n}\n .text-center {\n    text-align: center;\n    vertical-align: middle;\n    line-height: 350px; \n }\n/*\n.amcharts-balloon-div:after {\n    content:\'\';\n    position: absolute;\n    top: 100%;\n    left: 25;\n    right: 10;\n    margin: 0 auto;\n    width: 5;\n    height: 0;\n    border-top: solid 15px white;\n    border-left: solid 15px transparent;\n    border-right: solid 15px transparent;\n}\n*/\n.amcharts-export-canvas{position:absolute;display:none;z-index:1;top:0;right:0;bottom:0;left:0;background-color:#fff;}.amcharts-export-canvas.active{display:block;}.amcharts-export-menu{position:absolute;z-index:2;opacity:0.5;color:#000;}.amcharts-main-div:hover .amcharts-export-menu,.amcharts-stock-div:hover .amcharts-export-menu,.amcharts-export-menu.active{opacity:1;}.amcharts-export-menu-top-left>ul>li>ul:after{content:"";position:absolute;top:13px;right:100%;z-index:1000;border-top:7px solid transparent;border-left:7px solid transparent;border-right:7px solid #fff;border-bottom:7px solid transparent;}.amcharts-export-menu-top-left>ul>li>ul>li:first-child>a:after{content:"";position:absolute;top:12px;right:100%;z-index:1001;border-top:8px solid transparent;border-left:8px solid transparent;border-right:8px solid #e2e2e2;border-bottom:8px solid transparent;}.amcharts-export-menu-top-right>ul>li>ul:after{content:"";position:absolute;top:13px;left:100%;z-index:1000;border-top:7px solid transparent;border-left:7px solid #fff;border-right:7px solid transparent;border-bottom:7px solid transparent;}.amcharts-export-menu-top-right>ul>li>ul>li:first-child>a:after{content:"";position:absolute;top:12px;left:100%;z-index:1001;border-top:8px solid transparent;border-left:8px solid #e2e2e2;border-right:8px solid transparent;border-bottom:8px solid transparent;}.amcharts-export-menu-bottom-left>ul>li>ul:after{content:"";position:absolute;bottom:13px;right:100%;z-index:1000;border-top:7px solid transparent;border-left:7px solid transparent;border-right:7px solid #fff;border-bottom:7px solid transparent;}.amcharts-export-menu-bottom-left>ul>li>ul>li:last-child>a:after{content:"";position:absolute;bottom:12px;right:100%;z-index:1001;border-top:8px solid transparent;border-left:8px solid transparent;border-right:8px solid #e2e2e2;border-bottom:8px solid transparent;}.amcharts-export-menu-bottom-right>ul>li>ul:after{content:"";position:absolute;bottom:13px;left:100%;z-index:1000;border-top:7px solid transparent;border-left:7px solid #fff;border-right:7px solid transparent;border-bottom:7px solid transparent;}.amcharts-export-menu-bottom-right>ul>li>ul>li:last-child>a:after{content:"";position:absolute;bottom:12px;left:100%;z-index:1001;border-top:8px solid transparent;border-left:8px solid #e2e2e2;border-right:8px solid transparent;border-bottom:8px solid transparent;}.amcharts-export-menu ul{list-style:none;margin:0;padding:0;}.amcharts-export-menu li{position:relative;display:block;z-index:1;}.amcharts-export-menu li>ul{position:absolute;display:none;border:1px solid #e2e2e2;margin-top:-1px;background:#fff;}.amcharts-export-menu li>a{position:relative;display:block;color:#000;text-decoration:none;padding:12px 12px;z-index:2;white-space:nowrap;border-bottom:1px solid #f2f2f2;}.amcharts-export-menu li:last-child>a{border-bottom:none;}.amcharts-export-menu li>a>img{border:none;}.amcharts-export-menu-top-left{top:0;left:0;}.amcharts-export-menu-bottom-left{bottom:0;left:0;}.amcharts-export-menu-top-right{top:0;right:0;}.amcharts-export-menu-bottom-right{bottom:0;right:0;}.amcharts-export-menu li:hover>ul,.amcharts-export-menu li.active>ul{display:block;}.amcharts-export-menu li:hover>a,.amcharts-export-menu li.active>a{color:#fff;background-color:#636363;}.amcharts-export-menu-top-left li:hover>ul,.amcharts-export-menu-top-left li.active>ul{left:100%;top:0;}.amcharts-export-menu-bottom-left li:hover>ul,.amcharts-export-menu-bottom-left li.active>ul{left:100%;bottom:0;}.amcharts-export-menu-top-right li:hover>ul,.amcharts-export-menu-top-right li.active>ul{top:0;right:100%;}.amcharts-export-menu-bottom-right li:hover>ul,.amcharts-export-menu-bottom-right li.active>ul{bottom:0;right:100%;}.amcharts-export-menu .export-main>a,.amcharts-export-menu .export-drawing>a,.amcharts-export-menu .export-delayed-capturing>a{display:block;overflow:hidden;text-indent:-13333337px;width:36px;height:36px;padding:0;background-repeat:no-repeat;background-image:url(\'data:image/svg+xml;charset=utf8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20width%3D%2211px%22%20height%3D%2214px%22%3E%3Cpath%20d%3D%22M3%2C0%20L8%2C0%20L8%2C5%20L11%2C5%20L5.5%2C10%20L0%2C5%20L3%2C5%20L03%2C0%22%20fill%3D%22%23888%22%2F%3E%3Crect%20x%3D%220%22%20y%3D%2212%22%20fill%3D%22%23888%22%20width%3D%2211%22%20height%3D%222%22%2F%3E%3C%2Fsvg%3E\');background-color:#fff;background-position:center;-webkit-box-shadow:1px 1px 3px 0px rgba(0,0,0,0.5);-moz-box-shadow:1px 1px 3px 0px rgba(0,0,0,0.5);box-shadow:1px 1px 3px 0px rgba(0,0,0,0.5);border-radius:18px;margin:8px 8px 0 10px;}.amcharts-export-menu .export-drawing>a{background-image:url(\'data:image/svg+xml;charset=utf8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20version%3D%221.1%22%20width%3D%2216px%22%20height%3D%2217px%22%3E%3Crect%20x%3D%220%22%20y%3D%2216%22%20fill%3D%22%23888%22%20width%3D%2214%22%20height%3D%221%22%2F%3E%3Cpath%20transform%3D%22translate(-12%2C-10)%22%20fill%3D%22%23888%22%20d%3D%22M17.098%2C20.305c-0.142%2C0.146%2C0.101%2C0.04%2C0.137%2C0.004c0.027-0.028%2C0.204-0.09%2C0.484-0.09c0.338%2C0%2C0.626%2C0.092%2C0.787%2C0.255%20c0.473%2C0.472%2C0.424%2C0.932%2C0.393%2C1.078l-2.521%2C1.055l-1.577-1.577l1.054-2.52c0.039-0.009%2C0.105-0.018%2C0.188-0.018%20c0.219%2C0%2C0.555%2C0.069%2C0.893%2C0.407c0.378%2C0.378%2C0.246%2C1.188%2C0.166%2C1.271C17.062%2C20.207%2C17.062%2C20.269%2C17.098%2C20.305z%20M26.984%2C14.472c-0.008-0.674-0.61-1.257-1.31-1.933c-0.134-0.129-0.679-0.673-0.809-0.808c-0.679-0.702-1.266-1.31-1.943-1.31%20c-0.37%2C0-0.734%2C0.207-1.114%2C0.587l-6.852%2C6.847c-0.012%2C0.016-2.877%2C7.354-2.877%2C7.354c-0.012%2C0.032%2C0%2C0.063%2C0.022%2C0.091%20c0.021%2C0.021%2C0.044%2C0.029%2C0.067%2C0.029c0.01%2C0%2C0.018-0.003%2C0.028-0.007c0%2C0%2C7.357-2.864%2C7.369-2.877l6.854-6.847%20C26.803%2C15.216%2C26.988%2C14.848%2C26.984%2C14.472z%22%2F%3E%3C%2Fsvg%3E\');}.amcharts-export-menu .export-main:hover,.amcharts-export-menu .export-drawing:hover,.amcharts-export-menu .export-main.active,.amcharts-export-menu .export-drawing.active{padding-bottom:100px;}.amcharts-export-menu.amcharts-export-menu-bottom-left .export-main:hover,.amcharts-export-menu.amcharts-export-menu-bottom-left .export-drawing:hover,.amcharts-export-menu.amcharts-export-menu-bottom-right .export-main:hover,.amcharts-export-menu.amcharts-export-menu-bottom-right .export-drawing:hover,.amcharts-export-menu.amcharts-export-menu-bottom-left .export-main.active,.amcharts-export-menu.amcharts-export-menu-bottom-left .export-drawing.active,.amcharts-export-menu.amcharts-export-menu-bottom-right .export-main.active,.amcharts-export-menu.amcharts-export-menu-bottom-right .export-drawing.active{padding-bottom:0;padding-top:100px;}.amcharts-export-menu .export-main:hover>a,.amcharts-export-menu .export-main.active>a{background-image:url(\'data:image/svg+xml;charset=utf8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20width%3D%2211px%22%20height%3D%2214px%22%3E%3Cpath%20d%3D%22M3%2C0%20L8%2C0%20L8%2C5%20L11%2C5%20L5.5%2C10%20L0%2C5%20L3%2C5%20L03%2C0%22%20fill%3D%22%23fff%22%2F%3E%3Crect%20x%3D%220%22%20y%3D%2212%22%20fill%3D%22%23fff%22%20width%3D%2211%22%20height%3D%222%22%2F%3E%3C%2Fsvg%3E\');}.amcharts-export-menu .export-drawing:hover>a,.amcharts-export-menu .export-drawing.active>a{background-image:url(\'data:image/svg+xml;charset=utf8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20version%3D%221.1%22%20width%3D%2216px%22%20height%3D%2217px%22%3E%3Crect%20x%3D%220%22%20y%3D%2216%22%20fill%3D%22%23FFF%22%20width%3D%2214%22%20height%3D%221%22%2F%3E%3Cpath%20transform%3D%22translate(-12%2C-10)%22%20fill%3D%22%23FFF%22%20d%3D%22M17.098%2C20.305c-0.142%2C0.146%2C0.101%2C0.04%2C0.137%2C0.004c0.027-0.028%2C0.204-0.09%2C0.484-0.09c0.338%2C0%2C0.626%2C0.092%2C0.787%2C0.255%20c0.473%2C0.472%2C0.424%2C0.932%2C0.393%2C1.078l-2.521%2C1.055l-1.577-1.577l1.054-2.52c0.039-0.009%2C0.105-0.018%2C0.188-0.018%20c0.219%2C0%2C0.555%2C0.069%2C0.893%2C0.407c0.378%2C0.378%2C0.246%2C1.188%2C0.166%2C1.271C17.062%2C20.207%2C17.062%2C20.269%2C17.098%2C20.305z%20M26.984%2C14.472c-0.008-0.674-0.61-1.257-1.31-1.933c-0.134-0.129-0.679-0.673-0.809-0.808c-0.679-0.702-1.266-1.31-1.943-1.31%20c-0.37%2C0-0.734%2C0.207-1.114%2C0.587l-6.852%2C6.847c-0.012%2C0.016-2.877%2C7.354-2.877%2C7.354c-0.012%2C0.032%2C0%2C0.063%2C0.022%2C0.091%20c0.021%2C0.021%2C0.044%2C0.029%2C0.067%2C0.029c0.01%2C0%2C0.018-0.003%2C0.028-0.007c0%2C0%2C7.357-2.864%2C7.369-2.877l6.854-6.847%20C26.803%2C15.216%2C26.988%2C14.848%2C26.984%2C14.472z%22%2F%3E%3C%2Fsvg%3E\');}.amcharts-export-menu .export-close>a,.amcharts-export-menu .export-close:hover>a,.amcharts-export-menu .export-close.active>a{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAAQCAYAAADNo/U5AAAACXBIWXMAAAsTAAALEwEAmpwYAABBsGlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS41LWMwMjEgNzkuMTU1NzcyLCAyMDE0LzAxLzEzLTE5OjQ0OjAwICAgICAgICAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgICAgICAgICAgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiCiAgICAgICAgICAgIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiCiAgICAgICAgICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgICAgICAgICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICAgICAgICAgICB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIgogICAgICAgICAgICB4bWxuczpleGlmPSJodHRwOi8vbnMuYWRvYmUuY29tL2V4aWYvMS4wLyI+CiAgICAgICAgIDx4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ+eG1wLmRpZDo4M2Q5NDllYS1lMjE3LTQ3Y2QtYTU1Ni04MTQ3NmRjNWEwYWQ8L3htcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOkRvY3VtZW50SUQ+YWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOjZhMTQ5MTc1LTNiODItMTE3OC05ZjZmLWY0MWMwNTYyYzQxYTwveG1wTU06RG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOkluc3RhbmNlSUQ+eG1wLmlpZDpkZGFhNTJkMi1mZDRiLTRkMmMtODEzOC01ZTEzNmQ4NGFjMDE8L3htcE1NOkluc3RhbmNlSUQ+CiAgICAgICAgIDx4bXBNTTpEZXJpdmVkRnJvbSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgIDxzdFJlZjppbnN0YW5jZUlEPnhtcC5paWQ6MDdhZmI1Y2UtYzQ1OS00YzQxLWJkMjItMTllMDJlMGE5YzVjPC9zdFJlZjppbnN0YW5jZUlEPgogICAgICAgICAgICA8c3RSZWY6ZG9jdW1lbnRJRD54bXAuZGlkOjA3YWZiNWNlLWM0NTktNGM0MS1iZDIyLTE5ZTAyZTBhOWM1Yzwvc3RSZWY6ZG9jdW1lbnRJRD4KICAgICAgICAgICAgPHN0UmVmOm9yaWdpbmFsRG9jdW1lbnRJRD54bXAuZGlkOjgzZDk0OWVhLWUyMTctNDdjZC1hNTU2LTgxNDc2ZGM1YTBhZDwvc3RSZWY6b3JpZ2luYWxEb2N1bWVudElEPgogICAgICAgICA8L3htcE1NOkRlcml2ZWRGcm9tPgogICAgICAgICA8eG1wTU06SGlzdG9yeT4KICAgICAgICAgICAgPHJkZjpTZXE+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPnNhdmVkPC9zdEV2dDphY3Rpb24+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDppbnN0YW5jZUlEPnhtcC5paWQ6YmY3ZmRlNGYtZDk2MS00Njk4LWI0ZjAtMDJlYjEwOWE4OTA4PC9zdEV2dDppbnN0YW5jZUlEPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6d2hlbj4yMDE1LTA1LTE1VDEzOjE3OjQ5KzAyOjAwPC9zdEV2dDp3aGVuPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6c29mdHdhcmVBZ2VudD5BZG9iZSBQaG90b3Nob3AgQ0MgMjAyMSAoTWFjaW50b3NoKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmNoYW5nZWQ+Lzwvc3RFdnQ6Y2hhbmdlZD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPmNvbnZlcnRlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6cGFyYW1ldGVycz5mcm9tIGltYWdlL3BuZyB0byBhcHBsaWNhdGlvbi92bmQuYWRvYmUucGhvdG9zaG9wPC9zdEV2dDpwYXJhbWV0ZXJzPgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+ZGVyaXZlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6cGFyYW1ldGVycz5jb252ZXJ0ZWQgZnJvbSBpbWFnZS9wbmcgdG8gYXBwbGljYXRpb24vdm5kLmFkb2JlLnBob3Rvc2hvcDwvc3RFdnQ6cGFyYW1ldGVycz4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPnNhdmVkPC9zdEV2dDphY3Rpb24+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDppbnN0YW5jZUlEPnhtcC5paWQ6MDdhZmI1Y2UtYzQ1OS00YzQxLWJkMjItMTllMDJlMGE5YzVjPC9zdEV2dDppbnN0YW5jZUlEPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6d2hlbj4yMDE1LTA1LTE1VDEzOjE3OjQ5KzAyOjAwPC9zdEV2dDp3aGVuPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6c29mdHdhcmVBZ2VudD5BZG9iZSBQaG90b3Nob3AgQ0MgMjAyMSAoTWFjaW50b3NoKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmNoYW5nZWQ+Lzwvc3RFdnQ6Y2hhbmdlZD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPmRlcml2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnBhcmFtZXRlcnM+Y29udmVydGVkIGZyb20gYXBwbGljYXRpb24vdm5kLmFkb2JlLnBob3Rvc2hvcCB0byBpbWFnZS9wbmc8L3N0RXZ0OnBhcmFtZXRlcnM+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5zYXZlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOmRkYWE1MmQyLWZkNGItNGQyYy04MTM4LTVlMTM2ZDg0YWMwMTwvc3RFdnQ6aW5zdGFuY2VJRD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OndoZW4+MjAxNS0wNS0xNVQxMzoyMToyMSswMjowMDwvc3RFdnQ6d2hlbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnNvZnR3YXJlQWdlbnQ+QWRvYmUgUGhvdG9zaG9wIENDIDIwMjEgKE1hY2ludG9zaCk8L3N0RXZ0OnNvZnR3YXJlQWdlbnQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpjaGFuZ2VkPi88L3N0RXZ0OmNoYW5nZWQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICA8L3JkZjpTZXE+CiAgICAgICAgIDwveG1wTU06SGlzdG9yeT4KICAgICAgICAgPHhtcDpDcmVhdG9yVG9vbD5BZG9iZSBQaG90b3Nob3AgQ0MgMjAxNCAoTWFjaW50b3NoKTwveG1wOkNyZWF0b3JUb29sPgogICAgICAgICA8eG1wOkNyZWF0ZURhdGU+MjAxNS0wNS0xNVQxMzoxMzoxNyswMjowMDwveG1wOkNyZWF0ZURhdGU+CiAgICAgICAgIDx4bXA6TW9kaWZ5RGF0ZT4yMDE1LTA1LTE1VDEzOjIxOjIxKzAyOjAwPC94bXA6TW9kaWZ5RGF0ZT4KICAgICAgICAgPHhtcDpNZXRhZGF0YURhdGU+MjAxNS0wNS0xNVQxMzoyMToyMSswMjowMDwveG1wOk1ldGFkYXRhRGF0ZT4KICAgICAgICAgPGRjOmZvcm1hdD5pbWFnZS9wbmc8L2RjOmZvcm1hdD4KICAgICAgICAgPHBob3Rvc2hvcDpDb2xvck1vZGU+MzwvcGhvdG9zaG9wOkNvbG9yTW9kZT4KICAgICAgICAgPHBob3Rvc2hvcDpUZXh0TGF5ZXJzPgogICAgICAgICAgICA8cmRmOkJhZz4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPlg8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Plg8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICA8L3JkZjpCYWc+CiAgICAgICAgIDwvcGhvdG9zaG9wOlRleHRMYXllcnM+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgICAgIDx0aWZmOlhSZXNvbHV0aW9uPjcyMDAwMC8xMDAwMDwvdGlmZjpYUmVzb2x1dGlvbj4KICAgICAgICAgPHRpZmY6WVJlc29sdXRpb24+NzIwMDAwLzEwMDAwPC90aWZmOllSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpSZXNvbHV0aW9uVW5pdD4yPC90aWZmOlJlc29sdXRpb25Vbml0PgogICAgICAgICA8ZXhpZjpDb2xvclNwYWNlPjY1NTM1PC9leGlmOkNvbG9yU3BhY2U+CiAgICAgICAgIDxleGlmOlBpeGVsWERpbWVuc2lvbj4xMzwvZXhpZjpQaXhlbFhEaW1lbnNpb24+CiAgICAgICAgIDxleGlmOlBpeGVsWURpbWVuc2lvbj4xNjwvZXhpZjpQaXhlbFlEaW1lbnNpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIAo8P3hwYWNrZXQgZW5kPSJ3Ij8+HyMp+AAAACBjSFJNAAB6JQAAgIMAAPn/AACA6QAAdTAAAOpgAAA6mAAAF2+SX8VGAAAA3UlEQVR42rSSXZECQQyEPygMrIVFAidhkQASQEIjYVsCSOAksBJAAlhAwvKSWcJBUQVVl6fM5Ke7k4z6vudTG/OFTQAktcAs/ja2TyVBUgVsgQq42F5PItYBCn8PTFNjAYvw5wM92x3gCNSSFCh1araLvAdNBi53VgMtgCuweRqE7RyogAPQxHsdcQBGf0cuaZ80APzaXn468urtniQ1CaXoayStct5AL4QfgToKfoBzIF2BadGVkVZRkIU7UdQDkqRZoDwJl3ROzea2u4LUvtpHOavkty9H/m9XfhsA0l9VuzQDWrIAAAAASUVORK5CYII=);}.amcharts-export-menu .export-drawing-color{background:#000;width:35px;}.amcharts-export-menu .export-drawing-color>a{display:block;overflow:hidden;text-indent:-13333337px;}.amcharts-export-menu .export-drawing-color-red{background:#f00;}.amcharts-export-menu .export-drawing-color-green{background:#0f0;}.amcharts-export-menu .export-drawing-color-blue{background:#00f;}.amcharts-export-menu .export-drawing-color-white{background:#fff;}.amcharts-export-fallback{position:absolute;top:0;right:0;bottom:0;left:0;background-color:#fff;}.amcharts-export-fallback textarea{border:none;outline:none;position:absolute;overflow:hidden;width:100%;height:100%;padding:20px;}.amcharts-export-fallback-message{position:absolute;z-index:1;padding:20px;width:100%;background-color:#fff;}.amcharts-export-menu .export-delayed-capturing>a{text-indent:0px;line-height:36px;vertical-align:middle;text-align:center;background-image:none;}.amcharts-export-menu,.amcharts-export-canvas .canvas-container{-webkit-transition:opacity 0.5s ease-out;-moz-transition:opacity 0.5s ease-out;-ms-transition:opacity 0.5s ease-out;-o-transition:opacity 0.5s ease-out;transition:opacity 0.5s ease-out;}.amcharts-export-canvas.dropbox .canvas-container{opacity:0.5;}.amcharts-export-menu .export-drawing-shape a{font:0/0 a;text-shadow:none;color:transparent;}.amcharts-export-menu li img{height:20px;}.amcharts-export-menu .export-drawing-width a{text-align:center;}.amcharts-export-menu .export-drawing-width span{display:block;margin:0 auto;}.amcharts-export-menu .export-drawing-width span>span{display:block;background:#000;border-radius:100%;}.amcharts-export-menu .export-drawing-shape a:hover img,.amcharts-export-menu .export-drawing-shape.active a img{-webkit-filter:invert(100%);filter:invert(100%);}\n\n';
},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.colors={"diagram-cornflower-blue":"#5682d8","diagram-pinkish-purple":"#bc62da","diagram-camel":"#c4af54","diagram-slate-grey-three":"#5b6472","diagram-seafoam-blue":"#53c2cd","diagram-blueberry":"#3c42ad","diagram-pinkish-tan":"#e2a0a0","diagram-warm-brown":"#9d5704","diagram-lavender":"#af99ef","diagram-royal-purple":"#ad3e8f","diagram-lightblue":"#75daf8","diagram-warm-purple":"#7e30a2"},e.fontColors={"slate-grey-two":"#626469","charcoal-grey":"#39393b"},e.noDataMessage="No data available",e.dimensions={width:"600px",height:"400px"},e.colorPrim=["rgb(86,130,216)","rgb(188,98,218)","rgb(196,175,84)","rgb(91,100,114)","rgb(83,194,205)","rgb(60,66,173)","rgb(226,160,160)","rgb(157,87,4)","rgb(175,153,239)"],e.colorSec=[["rgba(86,130,216,1)","rgba(86,130,216,0.75)","rgba(86,130,216,0.5)","rgba(86,130,216,0.25)"],["rgba(188,98,218,1)","rgba(188,98,218,0.75)","rgba(188,98,218,0.5)","rgba(188,98,218,0.25)"],["rgba(196,175,84,1)","rgba(196,175,84,0.75)","rgba(196,175,84,0.5)","rgba(196,175,84,0.25)"],["rgba(91,100,114,1)","rgba(91,100,114,0.75)","rgba(91,100,114,0.5)","rgba(91,100,114,0.25)"],["rgba(83,194,205,1)","rgba(83,194,205,0.75)","rgba(83,194,205,0.5)","rgba(83,194,205,0.25)"],["rgba(60,66,173,1)","rgba(60,66,173,0.75)","rgba(60,66,173,0.5)","rgba(60,66,173,0.25)"],["rgba(226,160,160,1)","rgba(226,160,160,0.75)","rgba(226,160,160,0.5)","rgba(226,160,160,0.25)"]]},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var a=Object.getPrototypeOf(e);return null===a?void 0:t(a,n,r)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(r)},h=n(1049),g=n(1050),d=i(g),p=n(1054),f=i(p),A=n(1055),C=i(A),I=n(1052),m=r(I),v={createElement:h.h},y=m.colorPrim,b={},x={},w=function(t){function e(){o(this,e);var t=s(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t._ref=new WeakMap,t._refb=new WeakMap,t._graph2=new WeakMap,t._line1=new WeakMap,t._line2=new WeakMap,t._graph3=new WeakMap,t.getConfig=t.getConfig.bind(t),t.Move2=t.Move2.bind(t),t}return l(e,t),u(e,[{key:"updatedCallback",value:function(t){if(!t)return!0;var e=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).concat(Object.getOwnPropertyNames(t)):Object.getOwnPropertyNames(t),n=!0,r=!1,i=void 0;try{for(var a,o=e[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value;if(!Object.is(t[s],this[s]))return!0}}catch(t){r=!0,i=t}finally{try{!n&&o.return&&o.return()}finally{if(r)throw i}}}},{key:"renderedCallback",value:function(){c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"connectedCallback",this).call(this);var t=this.getConfig(),n=this._ref.get(b);this.chart=AmCharts.makeChart(n,t)}},{key:"getConfig",value:function(){var t,e=this,n=this.rotate,r=this.stack,i=this.xformat,o=this.xtitle,s=this.ytitle,l=this.legends,u=this.exprt;return{type:"serial",theme:"light",marginTop:20,trendLines:[],dataDateFormat:"MM/DD/YYYY HH:NN",graphs:this.getGraphs(),guides:[],color:m.fontColors["slate-grey-two"],fontFamily:"Helvetica",fontSize:10,addClassNames:!0,valueAxis:[{}],rotate:n,valueAxes:[{labelsEnabled:!0,stackType:r,title:s,titleBold:!1,titleColor:"#626469",titleFontSize:10,axisAlpha:.3,position:"left",tickLength:0,autoGridCount:!0,gridColor:"#a7a9ab",gridAlpha:.3,gridThickness:1,fontFamily:"Helvetica",fontSize:10,minimum:0}],categoryField:"date",categoryAxis:{startOnAxis:!1,tickLength:0,gridColor:"#a7a9ab",gridAlpha:.3,gridThickness:1,axisAlpha:.3,position:"bottom",title:o,titleColor:"#626469",titleBold:!1,titleFontSize:10,gridPosition:"center",equalSpacing:!0,autoWrap:!1,minHorizontalGap:35,color:"#626469",fontFamily:"Helvetica",fontSize:10,minPeriod:"hh",parseDates:"text"!==i,minorGridEnabled:!1,labelFunction:function(t,e,n){if("text"===i)return t;var r=new Date(Date.parse(e)),a=r.getHours(),o=a>12?(a+11)%12+1+"p":(a+11)%12+1+"a";return o}},chartCursor:(t={enabled:!0,balloonPointerOrientation:"horizontal",selectWithoutZooming:!1,cursorAlpha:0,valueLineAlpha:0},a(t,"selectWithoutZooming",!0),a(t,"bulletSize",0),a(t,"zoomable",!1),a(t,"categoryBalloonEnabled",!1),a(t,"categoryBalloonDateFormat","YYYY"),a(t,"cursorColor","#000000"),a(t,"fullWidth",!0),t),chartScrollbar:{enabled:!1},responsive:{},allLabels:[],balloon:{adjustBorderColor:!0,borderColor:"#d8d9da",borderAlpha:.1,animationDuration:0,borderThickness:1,color:"#626469",fadeOutDuration:0,cornerRadius:0,fillColor:"#FFFFFF",fixedPosition:!0,fillAlpha:1,horizontalPadding:8,shadowAlpha:.1,shadowColor:"#000000",textAlign:"middle",verticalPadding:8,fontFamily:"Helvetica",fontSize:12,offsetX:50,offsetY:-100,showBullet:!1},legend:{enabled:l,autoMargins:!1,equalWidths:!1,horizontalGap:8,markerSize:8,valueWidth:0,position:"bottom",marginTop:-5,fontSize:12,fontFamily:"Helvetica",align:"left",markerType:"square",data:this.generateLegendData(),color:"#58585b",markerLabelGap:6,spacing:20},dataProvider:this.initialData(),export:{enabled:u,fileName:"DNAC-Chart",menu:[{format:"JPG",label:"Export",title:"Export chart to JPG",fileName:"DNAC-Chart"}]},listeners:[{event:"init",method:function(t){t.chart.removeListener(t.chart.chartScrollbar,"zoomed",t.chart.handleScrollbarZoom)}},{event:"rendered",method:function(t){t.chart.removeListener(t.chart.chartScrollbar,"zoomed",t.chart.handleScrollbarZoom),e.updateBullets(t),e.updateLegends(t),e.updateXLabels(t),e.updateLegendsLabels(t)}},{event:"drawn",method:function(t){t.chart.removeListener(t.chart.chartScrollbar,"zoomed",t.chart.handleScrollbarZoom),e.updateBullets(t),e.updateLegends(t),e.updateXLabels(t),e.updateLegendsLabels(t)}}]}}},{key:"generateLegendData",value:function(){var t=this.names,e=this.data,n=this.topValue,r=this.bottomValue,i=this.topname,a=this.bottomname,o=this.barcolor,s=[];if(null!==e&&t.map(function(t,e){var n={title:t,color:o[e]};s.push(n)}),n){var l={title:i,color:"#ee0000"};s.push(l)}if(r){var u={title:a,color:"#58585b"};s.push(u)}return s}},{key:"getGraphs",value:function(t){var e=this.names,n=this.topValue,r=this.bottomValue,i=(this.topname,this.bottomname,this.stack),a=this.columnwidth,o=[];if(e&&e.map(function(t,e){var n={alphaField:"alpha",showBalloon:!1,fillAlphas:1,title:"value"+(e+1),type:"column",valueField:"value"+(e+1),fixedColumnWidth:a,colorField:"color"+(e+1),lineColorField:"regular"===i?null:"color"+(e+1),lineColor:"regular"===i?"#FFFFFF":null,lineThickness:2,fillColorsField:"color"+(e+1)};o.push(n)}),r){var s={id:"bottom",type:"smoothedLine",fillAlphas:0,lineAlpha:1,showBalloon:!1,valueField:"bottomValue",dashLength:2,lineColor:"#58585b",lineThickness:1};o.push(s)}if(n){var l={id:"toGraph",type:"smoothedLine",fillAlphas:0,fillColors:"transparent",lineAlpha:1,showBalloon:!1,valueField:"topValue",dashLength:2,lineColor:"#ee0000",lineThickness:1};o.push(l)}return o}},{key:"updateXLabels",value:function(t){Array.from(this.shadowRoot.querySelectorAll(".amcharts-axis-label")).forEach(function(t,e){var n=t.firstChild;n.setAttribute("font-size","10px"),n.setAttribute("font-weight","200"),n.setAttribute("color","#626469")})}},{key:"updateLegendsLabels",value:function(t){Array.from(this.shadowRoot.querySelectorAll(".amcharts-legend-label")).forEach(function(t,e){var n=t.firstChild;n.setAttribute("font-family","Helvetica"),n.setAttribute("font-size","12px"),n.setAttribute("font-weight","200"),n.setAttribute("color","#58585b"),n.setAttribute("line-height","1.08")})}},{key:"updateBullets",value:function(t){Array.from(this.shadowRoot.querySelectorAll(".amcharts-graph-bullet")).forEach(function(t,e){if(void 0===t.attributes.r){var n=t.firstChild,r=document.createElementNS("http://www.w3.org/2000/svg","circle");r.setAttribute("r","2"),r.setAttribute("cx","0"),r.setAttribute("cy","0"),r.setAttribute("fill","#5682d8"),r.setAttribute("stroke","#5682d8"),r.setAttribute("stroke-width","2"),r.setAttribute("stroke-opacity","1"),r.setAttribute("transform","translate(0,0)"),r.setAttribute("aria-label"," 3p 1.125");var i=r;t.replaceChild(i,n)}})}},{key:"updateLegends",value:function(t){var e=this.names.length;Array.from(this.shadowRoot.querySelectorAll(".amcharts-legend-marker")).forEach(function(t,n){if(n+1>e){var r=t,i=t.parentElement,a=document.createElementNS("http://www.w3.org/2000/svg","line");a.setAttribute("stroke-dasharray","2, 2"),a.setAttribute("x1","0"),a.setAttribute("y1","10"),a.setAttribute("x2","10"),a.setAttribute("y2","10"),a.setAttribute("stroke",n+1-e==1?"#58585b":"#ee0000");var o=a;i.replaceChild(o,r)}})}},{key:"initialData",value:function t(e){var n=this.data,r=this.topValue,i=this.stack,a=this.bottomValue,o=this.barcolor,t=[];if(n){var s=n[0].values.length;s>10?alert("This chart only support max 10 inputs. Contact https://github3.cisco.com/dna-platform-ui/dnx-web-components to submit an issue"):n.map(function(e,n){var s={};e.values.map(function(t,e){var n=e+1,r="value"+n;s[r]=t});var l={};o.map(function(t,e){var n=e+1,r="color"+n;l[r]=t});var u={date:e.date,bottomValue:null===a?null:a[n],topValue:null===r?null:"regular"===i?r[n]-a[n]:r[n],toptopValue:15,id:n},c=Object.assign(s,l,u);t.push(c)})}return t}},{key:"Move2",value:function(t){var e=this._refb.get(x),n=t.clientX-t.currentTarget.getBoundingClientRect().left-150,r=t.clientY-t.currentTarget.getBoundingClientRect().top-100;e.style.top=r+"px",e.style.left=n+"px"}},{key:"renderCallback",value:function(){var t=this,e=this.width,n=this.height,r=e,i=n,a="100%",o=f.default;return[v.createElement("style",null,o),v.createElement("div",{style:"position: relative;"},v.createElement("div",{style:"width: "+r+"; height: "+i+"; background-color: white;"},v.createElement("div",{ref:function(e){return t._ref.set(b,e)},style:"width: "+r+"; height: "+a+"; overflow: visible; top: 10px; left: 10px; position: relative;",onmousemove:this.Move2})),v.createElement("div",{id:"dnx-bar-balloon",ref:function(e){return t._refb.set(x,e)},style:"display: none;"}))]}}],[{key:"is",get:function(){return"prophesier-bar-chart"}},{key:"props",get:function(){return{data:h.prop.object({attribute:!0,default:null}),topValue:h.prop.array({attribute:!0,default:null}),bottomValue:h.prop.array({attribute:!0,default:null}),names:h.prop.array({attribute:!0,default:[""]}),topname:h.prop.string({attribute:!0,default:""}),bottomname:h.prop.string({attribute:!0,default:""}),rotate:h.prop.boolean({attribute:!0,default:!1}),stack:h.prop.string({attribute:!0,default:"none"}),xformat:h.prop.string({attribute:!0,default:"text"}),barcolor:h.prop.array({attribute:!0,default:y}),width:h.prop.string({attribute:!0,default:"100%"}),columnwidth:h.prop.number({attribute:!0,default:7}),height:h.prop.string({attribute:!0,default:"300px"}),xtitle:h.prop.string({attribute:!0,default:""}),ytitle:h.prop.string({attribute:!0,default:""}),legends:h.prop.boolean({attribute:!0,default:!0}),chart:h.prop.object({attribute:!1}),exprt:h.prop.boolean({attribute:!0,default:!1})}}}]),e}((0,d.default)(h.Component));(0,C.default)(w.is,w),e.default=w},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default='\n.amcharts-axis-label{\n    font-family: CiscoSans;\n    font-size: 11px;\n    font-weight: 200;\n    line-height: 1.18;\n    text-align: left;\n    color: #58585b;\n}\n\n.amcharts-cursor-selection {\n  fill: transparent;\n}\n\n/*\n.amcharts-balloon-bg-categoryAxis {\n  fill: transparent;\n  stroke: transparent;\n  fill-opacity: 0;\n  stroke-width: 0;\n  stroke-opacity: 0;\n  font-family: CiscoSans;\n  font-size: 11px;\n  font-weight: 200;\n  line-height: 1.18;\n  text-align: left;\n  color: #58585b;\n}\n*/\n/*<path cs="100,100" d="M0.5,0.5 L11.5,0.5 L16.5,-4.5 L21.5,0.5 L31.5,0.5 L31.5,32.5 L0.5,32.5 L0.5,0.5 Z" fill="transparent" stroke="transparent" fill-opacity="0" stroke-width="0" stroke-opacity="0" class="amcharts-balloon-bg amcharts-balloon-bg-categoryAxis"></path>*/\n/*\n.dnx-table {\n  width: 100%;\n  max-width: 100%;\n  font-family: CiscoSans;\n  font-size: 12px;\n  font-weight: 200;\n  line-height: 1.08;\n  text-align: left;\n  color: #626469;\n  padding: 5px 5px 5px 5px;\n}\n.dnx-table table {\n  font-family: CiscoSans;\n  font-size: 12px;\n  font-weight: 200;\n  line-height: 1.08;\n  text-align: left;\n  color: #626469;\n  max-width: 100%;\n  width: 100%;\n  border-collapse: collapse;\n}\n.dnx-table td,\n.dnx-table th {\n  padding: 8px 8px 8px 8px;\n  text-align: left;\n  font-size: 100%;\n}\n.dnx-table td:first-child,\n.dnx-table th:first-child {\n  padding-left: 2px;\n}\n.dnx-table td:last-child,\n.dnx-table th:last-child {\n  padding-right: 2px;\n}\n.dnx-table td:hover,\n.dnx-table th:hover {\n  color: #000;\n}\n.dnx-table .highlight {\n  font-weight: bold;\n  font-size: 110%;\n}\n*/\n#dnx-bar-balloon {\n  position: absolute;\n  top: -200px;\n  left: 0;\n  border: 1px solid #ccc;\n  background: rgba(255, 255, 255, 1);\n  padding: 10px;\n  font-size: 14px;\n  color: #000;\n  margin: 20px 0 0 20px;\n  transform: translateY(24px);\n}\n\n#dnx-bar-balloon:after {\n  content: \'\';\n  top: - 24px;\n  border-bottom: 24px solid #fff;\n}\n\n.amcharts-export-canvas{position:absolute;display:none;z-index:1;top:0;right:0;bottom:0;left:0;background-color:#fff;}.amcharts-export-canvas.active{display:block;}.amcharts-export-menu{position:absolute;z-index:2;opacity:0.5;color:#000;}.amcharts-main-div:hover .amcharts-export-menu,.amcharts-stock-div:hover .amcharts-export-menu,.amcharts-export-menu.active{opacity:1;}.amcharts-export-menu-top-left>ul>li>ul:after{content:"";position:absolute;top:13px;right:100%;z-index:1000;border-top:7px solid transparent;border-left:7px solid transparent;border-right:7px solid #fff;border-bottom:7px solid transparent;}.amcharts-export-menu-top-left>ul>li>ul>li:first-child>a:after{content:"";position:absolute;top:12px;right:100%;z-index:1001;border-top:8px solid transparent;border-left:8px solid transparent;border-right:8px solid #e2e2e2;border-bottom:8px solid transparent;}.amcharts-export-menu-top-right>ul>li>ul:after{content:"";position:absolute;top:13px;left:100%;z-index:1000;border-top:7px solid transparent;border-left:7px solid #fff;border-right:7px solid transparent;border-bottom:7px solid transparent;}.amcharts-export-menu-top-right>ul>li>ul>li:first-child>a:after{content:"";position:absolute;top:12px;left:100%;z-index:1001;border-top:8px solid transparent;border-left:8px solid #e2e2e2;border-right:8px solid transparent;border-bottom:8px solid transparent;}.amcharts-export-menu-bottom-left>ul>li>ul:after{content:"";position:absolute;bottom:13px;right:100%;z-index:1000;border-top:7px solid transparent;border-left:7px solid transparent;border-right:7px solid #fff;border-bottom:7px solid transparent;}.amcharts-export-menu-bottom-left>ul>li>ul>li:last-child>a:after{content:"";position:absolute;bottom:12px;right:100%;z-index:1001;border-top:8px solid transparent;border-left:8px solid transparent;border-right:8px solid #e2e2e2;border-bottom:8px solid transparent;}.amcharts-export-menu-bottom-right>ul>li>ul:after{content:"";position:absolute;bottom:13px;left:100%;z-index:1000;border-top:7px solid transparent;border-left:7px solid #fff;border-right:7px solid transparent;border-bottom:7px solid transparent;}.amcharts-export-menu-bottom-right>ul>li>ul>li:last-child>a:after{content:"";position:absolute;bottom:12px;left:100%;z-index:1001;border-top:8px solid transparent;border-left:8px solid #e2e2e2;border-right:8px solid transparent;border-bottom:8px solid transparent;}.amcharts-export-menu ul{list-style:none;margin:0;padding:0;}.amcharts-export-menu li{position:relative;display:block;z-index:1;}.amcharts-export-menu li>ul{position:absolute;display:none;border:1px solid #e2e2e2;margin-top:-1px;background:#fff;}.amcharts-export-menu li>a{position:relative;display:block;color:#000;text-decoration:none;padding:12px 12px;z-index:2;white-space:nowrap;border-bottom:1px solid #f2f2f2;}.amcharts-export-menu li:last-child>a{border-bottom:none;}.amcharts-export-menu li>a>img{border:none;}.amcharts-export-menu-top-left{top:0;left:0;}.amcharts-export-menu-bottom-left{bottom:0;left:0;}.amcharts-export-menu-top-right{top:0;right:0;}.amcharts-export-menu-bottom-right{bottom:0;right:0;}.amcharts-export-menu li:hover>ul,.amcharts-export-menu li.active>ul{display:block;}.amcharts-export-menu li:hover>a,.amcharts-export-menu li.active>a{color:#fff;background-color:#636363;}.amcharts-export-menu-top-left li:hover>ul,.amcharts-export-menu-top-left li.active>ul{left:100%;top:0;}.amcharts-export-menu-bottom-left li:hover>ul,.amcharts-export-menu-bottom-left li.active>ul{left:100%;bottom:0;}.amcharts-export-menu-top-right li:hover>ul,.amcharts-export-menu-top-right li.active>ul{top:0;right:100%;}.amcharts-export-menu-bottom-right li:hover>ul,.amcharts-export-menu-bottom-right li.active>ul{bottom:0;right:100%;}.amcharts-export-menu .export-main>a,.amcharts-export-menu .export-drawing>a,.amcharts-export-menu .export-delayed-capturing>a{display:block;overflow:hidden;text-indent:-13333337px;width:36px;height:36px;padding:0;background-repeat:no-repeat;background-image:url(\'data:image/svg+xml;charset=utf8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20width%3D%2211px%22%20height%3D%2214px%22%3E%3Cpath%20d%3D%22M3%2C0%20L8%2C0%20L8%2C5%20L11%2C5%20L5.5%2C10%20L0%2C5%20L3%2C5%20L03%2C0%22%20fill%3D%22%23888%22%2F%3E%3Crect%20x%3D%220%22%20y%3D%2212%22%20fill%3D%22%23888%22%20width%3D%2211%22%20height%3D%222%22%2F%3E%3C%2Fsvg%3E\');background-color:#fff;background-position:center;-webkit-box-shadow:1px 1px 3px 0px rgba(0,0,0,0.5);-moz-box-shadow:1px 1px 3px 0px rgba(0,0,0,0.5);box-shadow:1px 1px 3px 0px rgba(0,0,0,0.5);border-radius:18px;margin:8px 8px 0 10px;}.amcharts-export-menu .export-drawing>a{background-image:url(\'data:image/svg+xml;charset=utf8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20version%3D%221.1%22%20width%3D%2216px%22%20height%3D%2217px%22%3E%3Crect%20x%3D%220%22%20y%3D%2216%22%20fill%3D%22%23888%22%20width%3D%2214%22%20height%3D%221%22%2F%3E%3Cpath%20transform%3D%22translate(-12%2C-10)%22%20fill%3D%22%23888%22%20d%3D%22M17.098%2C20.305c-0.142%2C0.146%2C0.101%2C0.04%2C0.137%2C0.004c0.027-0.028%2C0.204-0.09%2C0.484-0.09c0.338%2C0%2C0.626%2C0.092%2C0.787%2C0.255%20c0.473%2C0.472%2C0.424%2C0.932%2C0.393%2C1.078l-2.521%2C1.055l-1.577-1.577l1.054-2.52c0.039-0.009%2C0.105-0.018%2C0.188-0.018%20c0.219%2C0%2C0.555%2C0.069%2C0.893%2C0.407c0.378%2C0.378%2C0.246%2C1.188%2C0.166%2C1.271C17.062%2C20.207%2C17.062%2C20.269%2C17.098%2C20.305z%20M26.984%2C14.472c-0.008-0.674-0.61-1.257-1.31-1.933c-0.134-0.129-0.679-0.673-0.809-0.808c-0.679-0.702-1.266-1.31-1.943-1.31%20c-0.37%2C0-0.734%2C0.207-1.114%2C0.587l-6.852%2C6.847c-0.012%2C0.016-2.877%2C7.354-2.877%2C7.354c-0.012%2C0.032%2C0%2C0.063%2C0.022%2C0.091%20c0.021%2C0.021%2C0.044%2C0.029%2C0.067%2C0.029c0.01%2C0%2C0.018-0.003%2C0.028-0.007c0%2C0%2C7.357-2.864%2C7.369-2.877l6.854-6.847%20C26.803%2C15.216%2C26.988%2C14.848%2C26.984%2C14.472z%22%2F%3E%3C%2Fsvg%3E\');}.amcharts-export-menu .export-main:hover,.amcharts-export-menu .export-drawing:hover,.amcharts-export-menu .export-main.active,.amcharts-export-menu .export-drawing.active{padding-bottom:100px;}.amcharts-export-menu.amcharts-export-menu-bottom-left .export-main:hover,.amcharts-export-menu.amcharts-export-menu-bottom-left .export-drawing:hover,.amcharts-export-menu.amcharts-export-menu-bottom-right .export-main:hover,.amcharts-export-menu.amcharts-export-menu-bottom-right .export-drawing:hover,.amcharts-export-menu.amcharts-export-menu-bottom-left .export-main.active,.amcharts-export-menu.amcharts-export-menu-bottom-left .export-drawing.active,.amcharts-export-menu.amcharts-export-menu-bottom-right .export-main.active,.amcharts-export-menu.amcharts-export-menu-bottom-right .export-drawing.active{padding-bottom:0;padding-top:100px;}.amcharts-export-menu .export-main:hover>a,.amcharts-export-menu .export-main.active>a{background-image:url(\'data:image/svg+xml;charset=utf8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20width%3D%2211px%22%20height%3D%2214px%22%3E%3Cpath%20d%3D%22M3%2C0%20L8%2C0%20L8%2C5%20L11%2C5%20L5.5%2C10%20L0%2C5%20L3%2C5%20L03%2C0%22%20fill%3D%22%23fff%22%2F%3E%3Crect%20x%3D%220%22%20y%3D%2212%22%20fill%3D%22%23fff%22%20width%3D%2211%22%20height%3D%222%22%2F%3E%3C%2Fsvg%3E\');}.amcharts-export-menu .export-drawing:hover>a,.amcharts-export-menu .export-drawing.active>a{background-image:url(\'data:image/svg+xml;charset=utf8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20version%3D%221.1%22%20width%3D%2216px%22%20height%3D%2217px%22%3E%3Crect%20x%3D%220%22%20y%3D%2216%22%20fill%3D%22%23FFF%22%20width%3D%2214%22%20height%3D%221%22%2F%3E%3Cpath%20transform%3D%22translate(-12%2C-10)%22%20fill%3D%22%23FFF%22%20d%3D%22M17.098%2C20.305c-0.142%2C0.146%2C0.101%2C0.04%2C0.137%2C0.004c0.027-0.028%2C0.204-0.09%2C0.484-0.09c0.338%2C0%2C0.626%2C0.092%2C0.787%2C0.255%20c0.473%2C0.472%2C0.424%2C0.932%2C0.393%2C1.078l-2.521%2C1.055l-1.577-1.577l1.054-2.52c0.039-0.009%2C0.105-0.018%2C0.188-0.018%20c0.219%2C0%2C0.555%2C0.069%2C0.893%2C0.407c0.378%2C0.378%2C0.246%2C1.188%2C0.166%2C1.271C17.062%2C20.207%2C17.062%2C20.269%2C17.098%2C20.305z%20M26.984%2C14.472c-0.008-0.674-0.61-1.257-1.31-1.933c-0.134-0.129-0.679-0.673-0.809-0.808c-0.679-0.702-1.266-1.31-1.943-1.31%20c-0.37%2C0-0.734%2C0.207-1.114%2C0.587l-6.852%2C6.847c-0.012%2C0.016-2.877%2C7.354-2.877%2C7.354c-0.012%2C0.032%2C0%2C0.063%2C0.022%2C0.091%20c0.021%2C0.021%2C0.044%2C0.029%2C0.067%2C0.029c0.01%2C0%2C0.018-0.003%2C0.028-0.007c0%2C0%2C7.357-2.864%2C7.369-2.877l6.854-6.847%20C26.803%2C15.216%2C26.988%2C14.848%2C26.984%2C14.472z%22%2F%3E%3C%2Fsvg%3E\');}.amcharts-export-menu .export-close>a,.amcharts-export-menu .export-close:hover>a,.amcharts-export-menu .export-close.active>a{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAAQCAYAAADNo/U5AAAACXBIWXMAAAsTAAALEwEAmpwYAABBsGlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS41LWMwMjEgNzkuMTU1NzcyLCAyMDE0LzAxLzEzLTE5OjQ0OjAwICAgICAgICAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgICAgICAgICAgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiCiAgICAgICAgICAgIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiCiAgICAgICAgICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgICAgICAgICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICAgICAgICAgICB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIgogICAgICAgICAgICB4bWxuczpleGlmPSJodHRwOi8vbnMuYWRvYmUuY29tL2V4aWYvMS4wLyI+CiAgICAgICAgIDx4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ+eG1wLmRpZDo4M2Q5NDllYS1lMjE3LTQ3Y2QtYTU1Ni04MTQ3NmRjNWEwYWQ8L3htcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOkRvY3VtZW50SUQ+YWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOjZhMTQ5MTc1LTNiODItMTE3OC05ZjZmLWY0MWMwNTYyYzQxYTwveG1wTU06RG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOkluc3RhbmNlSUQ+eG1wLmlpZDpkZGFhNTJkMi1mZDRiLTRkMmMtODEzOC01ZTEzNmQ4NGFjMDE8L3htcE1NOkluc3RhbmNlSUQ+CiAgICAgICAgIDx4bXBNTTpEZXJpdmVkRnJvbSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgIDxzdFJlZjppbnN0YW5jZUlEPnhtcC5paWQ6MDdhZmI1Y2UtYzQ1OS00YzQxLWJkMjItMTllMDJlMGE5YzVjPC9zdFJlZjppbnN0YW5jZUlEPgogICAgICAgICAgICA8c3RSZWY6ZG9jdW1lbnRJRD54bXAuZGlkOjA3YWZiNWNlLWM0NTktNGM0MS1iZDIyLTE5ZTAyZTBhOWM1Yzwvc3RSZWY6ZG9jdW1lbnRJRD4KICAgICAgICAgICAgPHN0UmVmOm9yaWdpbmFsRG9jdW1lbnRJRD54bXAuZGlkOjgzZDk0OWVhLWUyMTctNDdjZC1hNTU2LTgxNDc2ZGM1YTBhZDwvc3RSZWY6b3JpZ2luYWxEb2N1bWVudElEPgogICAgICAgICA8L3htcE1NOkRlcml2ZWRGcm9tPgogICAgICAgICA8eG1wTU06SGlzdG9yeT4KICAgICAgICAgICAgPHJkZjpTZXE+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPnNhdmVkPC9zdEV2dDphY3Rpb24+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDppbnN0YW5jZUlEPnhtcC5paWQ6YmY3ZmRlNGYtZDk2MS00Njk4LWI0ZjAtMDJlYjEwOWE4OTA4PC9zdEV2dDppbnN0YW5jZUlEPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6d2hlbj4yMDE1LTA1LTE1VDEzOjE3OjQ5KzAyOjAwPC9zdEV2dDp3aGVuPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6c29mdHdhcmVBZ2VudD5BZG9iZSBQaG90b3Nob3AgQ0MgMjAyMSAoTWFjaW50b3NoKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmNoYW5nZWQ+Lzwvc3RFdnQ6Y2hhbmdlZD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPmNvbnZlcnRlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6cGFyYW1ldGVycz5mcm9tIGltYWdlL3BuZyB0byBhcHBsaWNhdGlvbi92bmQuYWRvYmUucGhvdG9zaG9wPC9zdEV2dDpwYXJhbWV0ZXJzPgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+ZGVyaXZlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6cGFyYW1ldGVycz5jb252ZXJ0ZWQgZnJvbSBpbWFnZS9wbmcgdG8gYXBwbGljYXRpb24vdm5kLmFkb2JlLnBob3Rvc2hvcDwvc3RFdnQ6cGFyYW1ldGVycz4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPnNhdmVkPC9zdEV2dDphY3Rpb24+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDppbnN0YW5jZUlEPnhtcC5paWQ6MDdhZmI1Y2UtYzQ1OS00YzQxLWJkMjItMTllMDJlMGE5YzVjPC9zdEV2dDppbnN0YW5jZUlEPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6d2hlbj4yMDE1LTA1LTE1VDEzOjE3OjQ5KzAyOjAwPC9zdEV2dDp3aGVuPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6c29mdHdhcmVBZ2VudD5BZG9iZSBQaG90b3Nob3AgQ0MgMjAyMSAoTWFjaW50b3NoKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmNoYW5nZWQ+Lzwvc3RFdnQ6Y2hhbmdlZD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPmRlcml2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnBhcmFtZXRlcnM+Y29udmVydGVkIGZyb20gYXBwbGljYXRpb24vdm5kLmFkb2JlLnBob3Rvc2hvcCB0byBpbWFnZS9wbmc8L3N0RXZ0OnBhcmFtZXRlcnM+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5zYXZlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOmRkYWE1MmQyLWZkNGItNGQyYy04MTM4LTVlMTM2ZDg0YWMwMTwvc3RFdnQ6aW5zdGFuY2VJRD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OndoZW4+MjAxNS0wNS0xNVQxMzoyMToyMSswMjowMDwvc3RFdnQ6d2hlbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnNvZnR3YXJlQWdlbnQ+QWRvYmUgUGhvdG9zaG9wIENDIDIwMjEgKE1hY2ludG9zaCk8L3N0RXZ0OnNvZnR3YXJlQWdlbnQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpjaGFuZ2VkPi88L3N0RXZ0OmNoYW5nZWQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICA8L3JkZjpTZXE+CiAgICAgICAgIDwveG1wTU06SGlzdG9yeT4KICAgICAgICAgPHhtcDpDcmVhdG9yVG9vbD5BZG9iZSBQaG90b3Nob3AgQ0MgMjAxNCAoTWFjaW50b3NoKTwveG1wOkNyZWF0b3JUb29sPgogICAgICAgICA8eG1wOkNyZWF0ZURhdGU+MjAxNS0wNS0xNVQxMzoxMzoxNyswMjowMDwveG1wOkNyZWF0ZURhdGU+CiAgICAgICAgIDx4bXA6TW9kaWZ5RGF0ZT4yMDE1LTA1LTE1VDEzOjIxOjIxKzAyOjAwPC94bXA6TW9kaWZ5RGF0ZT4KICAgICAgICAgPHhtcDpNZXRhZGF0YURhdGU+MjAxNS0wNS0xNVQxMzoyMToyMSswMjowMDwveG1wOk1ldGFkYXRhRGF0ZT4KICAgICAgICAgPGRjOmZvcm1hdD5pbWFnZS9wbmc8L2RjOmZvcm1hdD4KICAgICAgICAgPHBob3Rvc2hvcDpDb2xvck1vZGU+MzwvcGhvdG9zaG9wOkNvbG9yTW9kZT4KICAgICAgICAgPHBob3Rvc2hvcDpUZXh0TGF5ZXJzPgogICAgICAgICAgICA8cmRmOkJhZz4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPlg8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Plg8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICA8L3JkZjpCYWc+CiAgICAgICAgIDwvcGhvdG9zaG9wOlRleHRMYXllcnM+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgICAgIDx0aWZmOlhSZXNvbHV0aW9uPjcyMDAwMC8xMDAwMDwvdGlmZjpYUmVzb2x1dGlvbj4KICAgICAgICAgPHRpZmY6WVJlc29sdXRpb24+NzIwMDAwLzEwMDAwPC90aWZmOllSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpSZXNvbHV0aW9uVW5pdD4yPC90aWZmOlJlc29sdXRpb25Vbml0PgogICAgICAgICA8ZXhpZjpDb2xvclNwYWNlPjY1NTM1PC9leGlmOkNvbG9yU3BhY2U+CiAgICAgICAgIDxleGlmOlBpeGVsWERpbWVuc2lvbj4xMzwvZXhpZjpQaXhlbFhEaW1lbnNpb24+CiAgICAgICAgIDxleGlmOlBpeGVsWURpbWVuc2lvbj4xNjwvZXhpZjpQaXhlbFlEaW1lbnNpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIAo8P3hwYWNrZXQgZW5kPSJ3Ij8+HyMp+AAAACBjSFJNAAB6JQAAgIMAAPn/AACA6QAAdTAAAOpgAAA6mAAAF2+SX8VGAAAA3UlEQVR42rSSXZECQQyEPygMrIVFAidhkQASQEIjYVsCSOAksBJAAlhAwvKSWcJBUQVVl6fM5Ke7k4z6vudTG/OFTQAktcAs/ja2TyVBUgVsgQq42F5PItYBCn8PTFNjAYvw5wM92x3gCNSSFCh1araLvAdNBi53VgMtgCuweRqE7RyogAPQxHsdcQBGf0cuaZ80APzaXn468urtniQ1CaXoayStct5AL4QfgToKfoBzIF2BadGVkVZRkIU7UdQDkqRZoDwJl3ROzea2u4LUvtpHOavkty9H/m9XfhsA0l9VuzQDWrIAAAAASUVORK5CYII=);}.amcharts-export-menu .export-drawing-color{background:#000;width:35px;}.amcharts-export-menu .export-drawing-color>a{display:block;overflow:hidden;text-indent:-13333337px;}.amcharts-export-menu .export-drawing-color-red{background:#f00;}.amcharts-export-menu .export-drawing-color-green{background:#0f0;}.amcharts-export-menu .export-drawing-color-blue{background:#00f;}.amcharts-export-menu .export-drawing-color-white{background:#fff;}.amcharts-export-fallback{position:absolute;top:0;right:0;bottom:0;left:0;background-color:#fff;}.amcharts-export-fallback textarea{border:none;outline:none;position:absolute;overflow:hidden;width:100%;height:100%;padding:20px;}.amcharts-export-fallback-message{position:absolute;z-index:1;padding:20px;width:100%;background-color:#fff;}.amcharts-export-menu .export-delayed-capturing>a{text-indent:0px;line-height:36px;vertical-align:middle;text-align:center;background-image:none;}.amcharts-export-menu,.amcharts-export-canvas .canvas-container{-webkit-transition:opacity 0.5s ease-out;-moz-transition:opacity 0.5s ease-out;-ms-transition:opacity 0.5s ease-out;-o-transition:opacity 0.5s ease-out;transition:opacity 0.5s ease-out;}.amcharts-export-canvas.dropbox .canvas-container{opacity:0.5;}.amcharts-export-menu .export-drawing-shape a{font:0/0 a;text-shadow:none;color:transparent;}.amcharts-export-menu li img{height:20px;}.amcharts-export-menu .export-drawing-width a{text-align:center;}.amcharts-export-menu .export-drawing-width span{display:block;margin:0 auto;}.amcharts-export-menu .export-drawing-width span>span{display:block;background:#000;border-radius:100%;}.amcharts-export-menu .export-drawing-shape a:hover img,.amcharts-export-menu .export-drawing-shape.active a img{-webkit-filter:invert(100%);filter:invert(100%);}\n';
},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return customElements.get(t)?void console.warn(t+" it's already defined, skiping redefinition"):void customElements.define(t,e)}},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var a=Object.getPrototypeOf(e);return null===a?void 0:t(a,n,r)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(r)},h=n(1049),g=n(1050),d=i(g),p=n(1057),f=i(p),A=n(1055),C=i(A),I=n(1052),m=r(I),v={createElement:h.h},y=m.colorPrim,b={},x={},w=function(t){function e(){o(this,e);var t=s(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t._ref=new WeakMap,t._refb=new WeakMap,t._graph2=new WeakMap,t._line1=new WeakMap,t._line2=new WeakMap,t._graph3=new WeakMap,t.getConfig=t.getConfig.bind(t),t.Move2=t.Move2.bind(t),t}return l(e,t),u(e,[{key:"renderedCallback",value:function(){c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"connectedCallback",this).call(this);var t=this.getConfig(),n=this._ref.get(b);this.chart=AmCharts.makeChart(n,t)}},{key:"getConfig",value:function(){var t,e=this,n=(this.stack,this.xformat),r=this.xtitle,i=(this.ytitle,this.legends),o=this.exprt;return{type:"xy",marginTop:20,trendLines:[],graphs:this.getGraphs(),guides:[],fontFamily:"Helvetica",fontSize:10,addClassNames:!0,valueAxis:[],valueAxes:[{id:"ValueAxis-Y",axisAlpha:1,title:r,titleColor:"#626469",titleBold:!1,titleFontSize:10,minimum:0,gridCount:0,startOnAxis:!0,gridColor:"transparent",gridAlpha:0,tickLength:0,color:"#626469",gridThickness:0,autoGridCount:!0},{id:"ValueAxis-X",axisAlpha:1,title:r,titleColor:"#626469",titleBold:!1,titleFontSize:10,minimum:0,gridCount:0,startOnAxis:!0,gridColor:"transparent",gridAlpha:0,tickLength:0,color:"#626469",gridThickness:0,autoGridCount:!0}],categoryField:"ax",chartCursor:(t={pan:!0,cursorAlpha:0,valueLineAlpha:0,enabled:!1,balloonPointerOrientation:"horizontal",selectWithoutZooming:!1},a(t,"cursorAlpha",0),a(t,"valueLineAlpha",0),a(t,"selectWithoutZooming",!0),a(t,"bulletSize",0),a(t,"zoomable",!1),a(t,"categoryBalloonEnabled",!1),a(t,"categoryBalloonDateFormat","YYYY"),a(t,"cursorColor","#000000"),a(t,"fullWidth",!0),t),chartScrollbar:{enabled:!1},responsive:{},allLabels:[],legend:{enabled:i,autoMargins:!1,equalWidths:!1,horizontalGap:8,markerSize:8,valueWidth:0,position:"bottom",marginTop:-5,fontSize:12,fontFamily:"Helvetica",align:"left",markerType:"square",data:this.generateLegendData(),color:"#58585b",markerLabelGap:6,spacing:20},dataProvider:this.initialData(),export:{enabled:o,fileName:"DNAC-Chart",menu:[{format:"JPG",label:"Export",title:"Export chart to JPG",fileName:"DNAC-Chart"}]},listeners:[{event:"init",method:function(t){t.chart.removeListener(t.chart.chartScrollbar,"zoomed",t.chart.handleScrollbarZoom)}},{event:"rendered",method:function(t){t.chart.removeListener(t.chart.chartScrollbar,"zoomed",t.chart.handleScrollbarZoom),e.updateBullets(t),e.updateLegends(t),e.updateXLabels(t),e.updateLegendsLabels(t)}},{event:"drawn",method:function(t){t.chart.removeListener(t.chart.chartScrollbar,"zoomed",t.chart.handleScrollbarZoom),e.updateBullets(t),e.updateLegends(t),e.updateXLabels(t),e.updateLegendsLabels(t)}},{event:"rollOverGraphItem",method:function(t){var r=t.item.dataContext.ay,i=(t.item.dataContext.attempts,t.item.dataContext.ax),a=void 0;if("text"===n)a=i;else{var o=new Date(Date.parse(i)),s=o.getHours();a=s>12?(s+11)%12+1+"p":(s+11)%12+1+"a"}var l=e._refb.get(x);l.innerHTML="<div style='padding: 5px'><div> Category: "+a+"</div><br/><div><b>Value: "+r+"</b></div><br/></div>",l.style.display="block"}},{event:"rollOutGraphItem",method:function(t){var n=e._refb.get(x);n.style.display="none"}}]}}},{key:"generateLegendData",value:function(){var t=this.names,e=this.topValue,n=this.bottomValue,r=this.topname,i=this.bottomname,a=(this.barcolor,[]);if(t){if(t.map(function(t,e){var n={title:t,color:y[e]};a.push(n)}),e){var o={title:r,color:"#ee0000"};a.push(o)}if(n){var s={title:i,color:"#58585b"};a.push(s)}return a}}},{key:"getGraphs",value:function(t){var e=(this.names,this.topValue,this.bottomValue,this.topname,this.bottomname,this.stack,[]),n={showBalloon:!1,bullet:"round",id:"AmGraph-2",lineColor:"#fcd202",lineAlpha:0,fillAlphas:0,valueField:"aValue",xField:"ax",yField:"ay",colorField:"colorBall",maxBulletSize:.5};e.push(n);var r={bullet:"none",lineAlpha:.8,lineThickness:2,lineColor:"#b0de09",fillAlphas:0,xField:"ax",yField:"zv",valueField:"aValue"};return e.push(r),e}},{key:"updateXLabels",value:function(t){Array.from(this.shadowRoot.querySelectorAll(".amcharts-axis-label")).forEach(function(t,e){var n=t.firstChild;n.setAttribute("font-size","9px"),n.setAttribute("font-weight","200"),n.setAttribute("color","#626469")}),Array.from(this.shadowRoot.querySelectorAll(".amcharts-axis-grid")).forEach(function(t,e){t.setAttribute("stroke-width","0")})}},{key:"updateLegendsLabels",value:function(t){Array.from(this.shadowRoot.querySelectorAll(".amcharts-legend-label")).forEach(function(t,e){var n=t.firstChild;n.setAttribute("font-family","Helvetica"),n.setAttribute("font-size","12px"),n.setAttribute("font-weight","200"),n.setAttribute("color","#58585b"),n.setAttribute("line-height","1.08")})}},{key:"updateBullets",value:function(t){Array.from(this.shadowRoot.querySelectorAll(".amcharts-graph-bullet")).forEach(function(t,e){if(void 0===t.attributes.r){var n=t.firstChild,r=document.createElementNS("http://www.w3.org/2000/svg","circle");r.setAttribute("r","2"),r.setAttribute("cx","0"),r.setAttribute("cy","0"),r.setAttribute("fill","#5682d8"),r.setAttribute("stroke","#5682d8"),r.setAttribute("stroke-width","2"),r.setAttribute("stroke-opacity","1"),r.setAttribute("transform","translate(0,0)"),r.setAttribute("aria-label"," 3p 1.125");var i=r;t.replaceChild(i,n)}})}},{key:"updateLegends",value:function(t){var e=this.names;if(e){var n=e.length;Array.from(this.shadowRoot.querySelectorAll(".amcharts-legend-marker")).forEach(function(t,e){if(e+1>n){var r=t,i=t.parentElement,a=document.createElementNS("http://www.w3.org/2000/svg","line");a.setAttribute("stroke-dasharray","2, 2"),a.setAttribute("x1","0"),a.setAttribute("y1","10"),a.setAttribute("x2","10"),a.setAttribute("y2","10"),a.setAttribute("stroke",e+1-n==1?"#58585b":"#ee0000");var o=a;i.replaceChild(o,r)}})}}},{key:"initialData",value:function t(e){var n=this.data,r=this.topValue,i=this.stack,a=this.bottomValue,t=(this.barcolor,[]),o=5;return o>10?void alert("This chart only support max 5 lines in the same chart. Sorry"):(n.map(function(e,n){var o={ax:e.ax,bottomValue:null===a?null:a[n],topValue:null===r?null:"regular"===i?r[n]-a[n]:r[n],id:n,ay:e.ay,zv:e.zv,aValue:e.aValue?e.aValue:25,attempts:e.attempts?e.attempts:20,colorBall:10==e.attempts?y[0]:20==e.attempts?y[1]:y[2]};t.push(o)}),t)}},{key:"Move2",value:function(t){var e=this._refb.get(x),n=t.clientX-t.currentTarget.getBoundingClientRect().left-150,r=t.clientY-t.currentTarget.getBoundingClientRect().top-100;e.style.top=r+"px",e.style.left=n+"px"}},{key:"renderCallback",value:function(){var t=this,e=this.width,n=this.height,r=e,i=n,a="100%",o=f.default;return[v.createElement("style",null,o),v.createElement("div",{style:"position: relative;"},v.createElement("div",{style:"width: "+r+"; height: "+i+"; background-color: white;"},v.createElement("div",{ref:function(e){return t._ref.set(b,e)},style:"width: "+r+"; height: "+a+"; overflow: visible; top: 10px; left: 10px; position: relative;",onmousemove:this.Move2})),v.createElement("div",{id:"dnx-bubble-balloon",ref:function(e){return t._refb.set(x,e)},style:"display: none;"}))]}}],[{key:"is",get:function(){return"prophesier-scatter-chart"}},{key:"props",get:function(){return{data:h.prop.object({attribute:!0,default:[{ax:"03/29/2017 10:05",ay:0,aValue:0,attempts:0,null:1},{date:"03/29/2017 10:10",ay:0,aValue:0,attempts:0},{date:"03/29/2017 10:15",ay:0,aValue:0,attempts:0},{date:"03/29/2017 10:20",ay:0,aValue:0,attempts:0},{date:"03/29/2017 10:25",ay:0,aValue:0,attempts:0},{date:"03/29/2017 10:30",ay:0,aValue:0,attempts:0},{date:"03/29/2017 10:35",ay:0,aValue:0,attempts:0}]}),topValue:h.prop.array({attribute:!0,default:null}),bottomValue:h.prop.array({attribute:!0,default:null}),names:h.prop.array({attribute:!0,default:null}),topname:h.prop.string({attribute:!0,default:""}),bottomname:h.prop.string({attribute:!0,default:""}),xformat:h.prop.string({attribute:!0,default:"text"}),barcolor:h.prop.array({attribute:!0,default:y}),width:h.prop.string({attribute:!0,default:"100%"}),height:h.prop.string({attribute:!0,default:"200px"}),xtitle:h.prop.string({attribute:!0,default:""}),ytitle:h.prop.string({attribute:!0,default:""}),legends:h.prop.boolean({attribute:!0,default:!0}),exprt:h.prop.boolean({attribute:!0,default:!1})}}}]),e}((0,d.default)(h.Component));(0,C.default)(w.is,w),e.default=w},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default='\n.amcharts-axis-label{\n    font-family: CiscoSans;\n    font-size: 11px;\n    font-weight: 200;\n    line-height: 1.18;\n    text-align: left;\n    color: #58585b;\n}\n\n.amcharts-cursor-selection {\n  fill: transparent;\n}\n\n.amcharts-balloon-bg-categoryAxis {\n  fill: transparent;\n  stroke: transparent;\n  fill-opacity: 0;\n  stroke-width: 0;\n  stroke-opacity: 0;\n  font-family: CiscoSans;\n  font-size: 11px;\n  font-weight: 200;\n  line-height: 1.18;\n  text-align: left;\n  color: #58585b;\n}\n\n#dnx-bubble-balloon {\n  position: absolute;\n  top: -200px;\n  left: 0;\n  border: 1px solid #ccc;\n  background: rgba(255, 255, 255, 1);\n  padding: 10px;\n  font-size: 14px;\n  color: #000;\n  margin: 20px 0 0 20px;\n  transform: translateY(24px);\n}\n\n#dnx-bubble-balloon:after {\n  content: \'\';\n  top: - 24px;\n  border-bottom: 24px solid #fff;\n}\n.amcharts-export-canvas{position:absolute;display:none;z-index:1;top:0;right:0;bottom:0;left:0;background-color:#fff;}.amcharts-export-canvas.active{display:block;}.amcharts-export-menu{position:absolute;z-index:2;opacity:0.5;color:#000;}.amcharts-main-div:hover .amcharts-export-menu,.amcharts-stock-div:hover .amcharts-export-menu,.amcharts-export-menu.active{opacity:1;}.amcharts-export-menu-top-left>ul>li>ul:after{content:"";position:absolute;top:13px;right:100%;z-index:1000;border-top:7px solid transparent;border-left:7px solid transparent;border-right:7px solid #fff;border-bottom:7px solid transparent;}.amcharts-export-menu-top-left>ul>li>ul>li:first-child>a:after{content:"";position:absolute;top:12px;right:100%;z-index:1001;border-top:8px solid transparent;border-left:8px solid transparent;border-right:8px solid #e2e2e2;border-bottom:8px solid transparent;}.amcharts-export-menu-top-right>ul>li>ul:after{content:"";position:absolute;top:13px;left:100%;z-index:1000;border-top:7px solid transparent;border-left:7px solid #fff;border-right:7px solid transparent;border-bottom:7px solid transparent;}.amcharts-export-menu-top-right>ul>li>ul>li:first-child>a:after{content:"";position:absolute;top:12px;left:100%;z-index:1001;border-top:8px solid transparent;border-left:8px solid #e2e2e2;border-right:8px solid transparent;border-bottom:8px solid transparent;}.amcharts-export-menu-bottom-left>ul>li>ul:after{content:"";position:absolute;bottom:13px;right:100%;z-index:1000;border-top:7px solid transparent;border-left:7px solid transparent;border-right:7px solid #fff;border-bottom:7px solid transparent;}.amcharts-export-menu-bottom-left>ul>li>ul>li:last-child>a:after{content:"";position:absolute;bottom:12px;right:100%;z-index:1001;border-top:8px solid transparent;border-left:8px solid transparent;border-right:8px solid #e2e2e2;border-bottom:8px solid transparent;}.amcharts-export-menu-bottom-right>ul>li>ul:after{content:"";position:absolute;bottom:13px;left:100%;z-index:1000;border-top:7px solid transparent;border-left:7px solid #fff;border-right:7px solid transparent;border-bottom:7px solid transparent;}.amcharts-export-menu-bottom-right>ul>li>ul>li:last-child>a:after{content:"";position:absolute;bottom:12px;left:100%;z-index:1001;border-top:8px solid transparent;border-left:8px solid #e2e2e2;border-right:8px solid transparent;border-bottom:8px solid transparent;}.amcharts-export-menu ul{list-style:none;margin:0;padding:0;}.amcharts-export-menu li{position:relative;display:block;z-index:1;}.amcharts-export-menu li>ul{position:absolute;display:none;border:1px solid #e2e2e2;margin-top:-1px;background:#fff;}.amcharts-export-menu li>a{position:relative;display:block;color:#000;text-decoration:none;padding:12px 12px;z-index:2;white-space:nowrap;border-bottom:1px solid #f2f2f2;}.amcharts-export-menu li:last-child>a{border-bottom:none;}.amcharts-export-menu li>a>img{border:none;}.amcharts-export-menu-top-left{top:0;left:0;}.amcharts-export-menu-bottom-left{bottom:0;left:0;}.amcharts-export-menu-top-right{top:0;right:0;}.amcharts-export-menu-bottom-right{bottom:0;right:0;}.amcharts-export-menu li:hover>ul,.amcharts-export-menu li.active>ul{display:block;}.amcharts-export-menu li:hover>a,.amcharts-export-menu li.active>a{color:#fff;background-color:#636363;}.amcharts-export-menu-top-left li:hover>ul,.amcharts-export-menu-top-left li.active>ul{left:100%;top:0;}.amcharts-export-menu-bottom-left li:hover>ul,.amcharts-export-menu-bottom-left li.active>ul{left:100%;bottom:0;}.amcharts-export-menu-top-right li:hover>ul,.amcharts-export-menu-top-right li.active>ul{top:0;right:100%;}.amcharts-export-menu-bottom-right li:hover>ul,.amcharts-export-menu-bottom-right li.active>ul{bottom:0;right:100%;}.amcharts-export-menu .export-main>a,.amcharts-export-menu .export-drawing>a,.amcharts-export-menu .export-delayed-capturing>a{display:block;overflow:hidden;text-indent:-13333337px;width:36px;height:36px;padding:0;background-repeat:no-repeat;background-image:url(\'data:image/svg+xml;charset=utf8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20width%3D%2211px%22%20height%3D%2214px%22%3E%3Cpath%20d%3D%22M3%2C0%20L8%2C0%20L8%2C5%20L11%2C5%20L5.5%2C10%20L0%2C5%20L3%2C5%20L03%2C0%22%20fill%3D%22%23888%22%2F%3E%3Crect%20x%3D%220%22%20y%3D%2212%22%20fill%3D%22%23888%22%20width%3D%2211%22%20height%3D%222%22%2F%3E%3C%2Fsvg%3E\');background-color:#fff;background-position:center;-webkit-box-shadow:1px 1px 3px 0px rgba(0,0,0,0.5);-moz-box-shadow:1px 1px 3px 0px rgba(0,0,0,0.5);box-shadow:1px 1px 3px 0px rgba(0,0,0,0.5);border-radius:18px;margin:8px 8px 0 10px;}.amcharts-export-menu .export-drawing>a{background-image:url(\'data:image/svg+xml;charset=utf8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20version%3D%221.1%22%20width%3D%2216px%22%20height%3D%2217px%22%3E%3Crect%20x%3D%220%22%20y%3D%2216%22%20fill%3D%22%23888%22%20width%3D%2214%22%20height%3D%221%22%2F%3E%3Cpath%20transform%3D%22translate(-12%2C-10)%22%20fill%3D%22%23888%22%20d%3D%22M17.098%2C20.305c-0.142%2C0.146%2C0.101%2C0.04%2C0.137%2C0.004c0.027-0.028%2C0.204-0.09%2C0.484-0.09c0.338%2C0%2C0.626%2C0.092%2C0.787%2C0.255%20c0.473%2C0.472%2C0.424%2C0.932%2C0.393%2C1.078l-2.521%2C1.055l-1.577-1.577l1.054-2.52c0.039-0.009%2C0.105-0.018%2C0.188-0.018%20c0.219%2C0%2C0.555%2C0.069%2C0.893%2C0.407c0.378%2C0.378%2C0.246%2C1.188%2C0.166%2C1.271C17.062%2C20.207%2C17.062%2C20.269%2C17.098%2C20.305z%20M26.984%2C14.472c-0.008-0.674-0.61-1.257-1.31-1.933c-0.134-0.129-0.679-0.673-0.809-0.808c-0.679-0.702-1.266-1.31-1.943-1.31%20c-0.37%2C0-0.734%2C0.207-1.114%2C0.587l-6.852%2C6.847c-0.012%2C0.016-2.877%2C7.354-2.877%2C7.354c-0.012%2C0.032%2C0%2C0.063%2C0.022%2C0.091%20c0.021%2C0.021%2C0.044%2C0.029%2C0.067%2C0.029c0.01%2C0%2C0.018-0.003%2C0.028-0.007c0%2C0%2C7.357-2.864%2C7.369-2.877l6.854-6.847%20C26.803%2C15.216%2C26.988%2C14.848%2C26.984%2C14.472z%22%2F%3E%3C%2Fsvg%3E\');}.amcharts-export-menu .export-main:hover,.amcharts-export-menu .export-drawing:hover,.amcharts-export-menu .export-main.active,.amcharts-export-menu .export-drawing.active{padding-bottom:100px;}.amcharts-export-menu.amcharts-export-menu-bottom-left .export-main:hover,.amcharts-export-menu.amcharts-export-menu-bottom-left .export-drawing:hover,.amcharts-export-menu.amcharts-export-menu-bottom-right .export-main:hover,.amcharts-export-menu.amcharts-export-menu-bottom-right .export-drawing:hover,.amcharts-export-menu.amcharts-export-menu-bottom-left .export-main.active,.amcharts-export-menu.amcharts-export-menu-bottom-left .export-drawing.active,.amcharts-export-menu.amcharts-export-menu-bottom-right .export-main.active,.amcharts-export-menu.amcharts-export-menu-bottom-right .export-drawing.active{padding-bottom:0;padding-top:100px;}.amcharts-export-menu .export-main:hover>a,.amcharts-export-menu .export-main.active>a{background-image:url(\'data:image/svg+xml;charset=utf8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20width%3D%2211px%22%20height%3D%2214px%22%3E%3Cpath%20d%3D%22M3%2C0%20L8%2C0%20L8%2C5%20L11%2C5%20L5.5%2C10%20L0%2C5%20L3%2C5%20L03%2C0%22%20fill%3D%22%23fff%22%2F%3E%3Crect%20x%3D%220%22%20y%3D%2212%22%20fill%3D%22%23fff%22%20width%3D%2211%22%20height%3D%222%22%2F%3E%3C%2Fsvg%3E\');}.amcharts-export-menu .export-drawing:hover>a,.amcharts-export-menu .export-drawing.active>a{background-image:url(\'data:image/svg+xml;charset=utf8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20version%3D%221.1%22%20width%3D%2216px%22%20height%3D%2217px%22%3E%3Crect%20x%3D%220%22%20y%3D%2216%22%20fill%3D%22%23FFF%22%20width%3D%2214%22%20height%3D%221%22%2F%3E%3Cpath%20transform%3D%22translate(-12%2C-10)%22%20fill%3D%22%23FFF%22%20d%3D%22M17.098%2C20.305c-0.142%2C0.146%2C0.101%2C0.04%2C0.137%2C0.004c0.027-0.028%2C0.204-0.09%2C0.484-0.09c0.338%2C0%2C0.626%2C0.092%2C0.787%2C0.255%20c0.473%2C0.472%2C0.424%2C0.932%2C0.393%2C1.078l-2.521%2C1.055l-1.577-1.577l1.054-2.52c0.039-0.009%2C0.105-0.018%2C0.188-0.018%20c0.219%2C0%2C0.555%2C0.069%2C0.893%2C0.407c0.378%2C0.378%2C0.246%2C1.188%2C0.166%2C1.271C17.062%2C20.207%2C17.062%2C20.269%2C17.098%2C20.305z%20M26.984%2C14.472c-0.008-0.674-0.61-1.257-1.31-1.933c-0.134-0.129-0.679-0.673-0.809-0.808c-0.679-0.702-1.266-1.31-1.943-1.31%20c-0.37%2C0-0.734%2C0.207-1.114%2C0.587l-6.852%2C6.847c-0.012%2C0.016-2.877%2C7.354-2.877%2C7.354c-0.012%2C0.032%2C0%2C0.063%2C0.022%2C0.091%20c0.021%2C0.021%2C0.044%2C0.029%2C0.067%2C0.029c0.01%2C0%2C0.018-0.003%2C0.028-0.007c0%2C0%2C7.357-2.864%2C7.369-2.877l6.854-6.847%20C26.803%2C15.216%2C26.988%2C14.848%2C26.984%2C14.472z%22%2F%3E%3C%2Fsvg%3E\');}.amcharts-export-menu .export-close>a,.amcharts-export-menu .export-close:hover>a,.amcharts-export-menu .export-close.active>a{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAAQCAYAAADNo/U5AAAACXBIWXMAAAsTAAALEwEAmpwYAABBsGlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS41LWMwMjEgNzkuMTU1NzcyLCAyMDE0LzAxLzEzLTE5OjQ0OjAwICAgICAgICAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgICAgICAgICAgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiCiAgICAgICAgICAgIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiCiAgICAgICAgICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgICAgICAgICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICAgICAgICAgICB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIgogICAgICAgICAgICB4bWxuczpleGlmPSJodHRwOi8vbnMuYWRvYmUuY29tL2V4aWYvMS4wLyI+CiAgICAgICAgIDx4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ+eG1wLmRpZDo4M2Q5NDllYS1lMjE3LTQ3Y2QtYTU1Ni04MTQ3NmRjNWEwYWQ8L3htcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOkRvY3VtZW50SUQ+YWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOjZhMTQ5MTc1LTNiODItMTE3OC05ZjZmLWY0MWMwNTYyYzQxYTwveG1wTU06RG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOkluc3RhbmNlSUQ+eG1wLmlpZDpkZGFhNTJkMi1mZDRiLTRkMmMtODEzOC01ZTEzNmQ4NGFjMDE8L3htcE1NOkluc3RhbmNlSUQ+CiAgICAgICAgIDx4bXBNTTpEZXJpdmVkRnJvbSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgIDxzdFJlZjppbnN0YW5jZUlEPnhtcC5paWQ6MDdhZmI1Y2UtYzQ1OS00YzQxLWJkMjItMTllMDJlMGE5YzVjPC9zdFJlZjppbnN0YW5jZUlEPgogICAgICAgICAgICA8c3RSZWY6ZG9jdW1lbnRJRD54bXAuZGlkOjA3YWZiNWNlLWM0NTktNGM0MS1iZDIyLTE5ZTAyZTBhOWM1Yzwvc3RSZWY6ZG9jdW1lbnRJRD4KICAgICAgICAgICAgPHN0UmVmOm9yaWdpbmFsRG9jdW1lbnRJRD54bXAuZGlkOjgzZDk0OWVhLWUyMTctNDdjZC1hNTU2LTgxNDc2ZGM1YTBhZDwvc3RSZWY6b3JpZ2luYWxEb2N1bWVudElEPgogICAgICAgICA8L3htcE1NOkRlcml2ZWRGcm9tPgogICAgICAgICA8eG1wTU06SGlzdG9yeT4KICAgICAgICAgICAgPHJkZjpTZXE+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPnNhdmVkPC9zdEV2dDphY3Rpb24+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDppbnN0YW5jZUlEPnhtcC5paWQ6YmY3ZmRlNGYtZDk2MS00Njk4LWI0ZjAtMDJlYjEwOWE4OTA4PC9zdEV2dDppbnN0YW5jZUlEPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6d2hlbj4yMDE1LTA1LTE1VDEzOjE3OjQ5KzAyOjAwPC9zdEV2dDp3aGVuPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6c29mdHdhcmVBZ2VudD5BZG9iZSBQaG90b3Nob3AgQ0MgMjAyMSAoTWFjaW50b3NoKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmNoYW5nZWQ+Lzwvc3RFdnQ6Y2hhbmdlZD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPmNvbnZlcnRlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6cGFyYW1ldGVycz5mcm9tIGltYWdlL3BuZyB0byBhcHBsaWNhdGlvbi92bmQuYWRvYmUucGhvdG9zaG9wPC9zdEV2dDpwYXJhbWV0ZXJzPgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+ZGVyaXZlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6cGFyYW1ldGVycz5jb252ZXJ0ZWQgZnJvbSBpbWFnZS9wbmcgdG8gYXBwbGljYXRpb24vdm5kLmFkb2JlLnBob3Rvc2hvcDwvc3RFdnQ6cGFyYW1ldGVycz4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPnNhdmVkPC9zdEV2dDphY3Rpb24+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDppbnN0YW5jZUlEPnhtcC5paWQ6MDdhZmI1Y2UtYzQ1OS00YzQxLWJkMjItMTllMDJlMGE5YzVjPC9zdEV2dDppbnN0YW5jZUlEPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6d2hlbj4yMDE1LTA1LTE1VDEzOjE3OjQ5KzAyOjAwPC9zdEV2dDp3aGVuPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6c29mdHdhcmVBZ2VudD5BZG9iZSBQaG90b3Nob3AgQ0MgMjAyMSAoTWFjaW50b3NoKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmNoYW5nZWQ+Lzwvc3RFdnQ6Y2hhbmdlZD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPmRlcml2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnBhcmFtZXRlcnM+Y29udmVydGVkIGZyb20gYXBwbGljYXRpb24vdm5kLmFkb2JlLnBob3Rvc2hvcCB0byBpbWFnZS9wbmc8L3N0RXZ0OnBhcmFtZXRlcnM+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5zYXZlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOmRkYWE1MmQyLWZkNGItNGQyYy04MTM4LTVlMTM2ZDg0YWMwMTwvc3RFdnQ6aW5zdGFuY2VJRD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OndoZW4+MjAxNS0wNS0xNVQxMzoyMToyMSswMjowMDwvc3RFdnQ6d2hlbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnNvZnR3YXJlQWdlbnQ+QWRvYmUgUGhvdG9zaG9wIENDIDIwMjEgKE1hY2ludG9zaCk8L3N0RXZ0OnNvZnR3YXJlQWdlbnQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpjaGFuZ2VkPi88L3N0RXZ0OmNoYW5nZWQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICA8L3JkZjpTZXE+CiAgICAgICAgIDwveG1wTU06SGlzdG9yeT4KICAgICAgICAgPHhtcDpDcmVhdG9yVG9vbD5BZG9iZSBQaG90b3Nob3AgQ0MgMjAxNCAoTWFjaW50b3NoKTwveG1wOkNyZWF0b3JUb29sPgogICAgICAgICA8eG1wOkNyZWF0ZURhdGU+MjAxNS0wNS0xNVQxMzoxMzoxNyswMjowMDwveG1wOkNyZWF0ZURhdGU+CiAgICAgICAgIDx4bXA6TW9kaWZ5RGF0ZT4yMDE1LTA1LTE1VDEzOjIxOjIxKzAyOjAwPC94bXA6TW9kaWZ5RGF0ZT4KICAgICAgICAgPHhtcDpNZXRhZGF0YURhdGU+MjAxNS0wNS0xNVQxMzoyMToyMSswMjowMDwveG1wOk1ldGFkYXRhRGF0ZT4KICAgICAgICAgPGRjOmZvcm1hdD5pbWFnZS9wbmc8L2RjOmZvcm1hdD4KICAgICAgICAgPHBob3Rvc2hvcDpDb2xvck1vZGU+MzwvcGhvdG9zaG9wOkNvbG9yTW9kZT4KICAgICAgICAgPHBob3Rvc2hvcDpUZXh0TGF5ZXJzPgogICAgICAgICAgICA8cmRmOkJhZz4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJOYW1lPlg8L3Bob3Rvc2hvcDpMYXllck5hbWU+CiAgICAgICAgICAgICAgICAgIDxwaG90b3Nob3A6TGF5ZXJUZXh0Plg8L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICA8L3JkZjpCYWc+CiAgICAgICAgIDwvcGhvdG9zaG9wOlRleHRMYXllcnM+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgICAgIDx0aWZmOlhSZXNvbHV0aW9uPjcyMDAwMC8xMDAwMDwvdGlmZjpYUmVzb2x1dGlvbj4KICAgICAgICAgPHRpZmY6WVJlc29sdXRpb24+NzIwMDAwLzEwMDAwPC90aWZmOllSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpSZXNvbHV0aW9uVW5pdD4yPC90aWZmOlJlc29sdXRpb25Vbml0PgogICAgICAgICA8ZXhpZjpDb2xvclNwYWNlPjY1NTM1PC9leGlmOkNvbG9yU3BhY2U+CiAgICAgICAgIDxleGlmOlBpeGVsWERpbWVuc2lvbj4xMzwvZXhpZjpQaXhlbFhEaW1lbnNpb24+CiAgICAgICAgIDxleGlmOlBpeGVsWURpbWVuc2lvbj4xNjwvZXhpZjpQaXhlbFlEaW1lbnNpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIAo8P3hwYWNrZXQgZW5kPSJ3Ij8+HyMp+AAAACBjSFJNAAB6JQAAgIMAAPn/AACA6QAAdTAAAOpgAAA6mAAAF2+SX8VGAAAA3UlEQVR42rSSXZECQQyEPygMrIVFAidhkQASQEIjYVsCSOAksBJAAlhAwvKSWcJBUQVVl6fM5Ke7k4z6vudTG/OFTQAktcAs/ja2TyVBUgVsgQq42F5PItYBCn8PTFNjAYvw5wM92x3gCNSSFCh1araLvAdNBi53VgMtgCuweRqE7RyogAPQxHsdcQBGf0cuaZ80APzaXn468urtniQ1CaXoayStct5AL4QfgToKfoBzIF2BadGVkVZRkIU7UdQDkqRZoDwJl3ROzea2u4LUvtpHOavkty9H/m9XfhsA0l9VuzQDWrIAAAAASUVORK5CYII=);}.amcharts-export-menu .export-drawing-color{background:#000;width:35px;}.amcharts-export-menu .export-drawing-color>a{display:block;overflow:hidden;text-indent:-13333337px;}.amcharts-export-menu .export-drawing-color-red{background:#f00;}.amcharts-export-menu .export-drawing-color-green{background:#0f0;}.amcharts-export-menu .export-drawing-color-blue{background:#00f;}.amcharts-export-menu .export-drawing-color-white{background:#fff;}.amcharts-export-fallback{position:absolute;top:0;right:0;bottom:0;left:0;background-color:#fff;}.amcharts-export-fallback textarea{border:none;outline:none;position:absolute;overflow:hidden;width:100%;height:100%;padding:20px;}.amcharts-export-fallback-message{position:absolute;z-index:1;padding:20px;width:100%;background-color:#fff;}.amcharts-export-menu .export-delayed-capturing>a{text-indent:0px;line-height:36px;vertical-align:middle;text-align:center;background-image:none;}.amcharts-export-menu,.amcharts-export-canvas .canvas-container{-webkit-transition:opacity 0.5s ease-out;-moz-transition:opacity 0.5s ease-out;-ms-transition:opacity 0.5s ease-out;-o-transition:opacity 0.5s ease-out;transition:opacity 0.5s ease-out;}.amcharts-export-canvas.dropbox .canvas-container{opacity:0.5;}.amcharts-export-menu .export-drawing-shape a{font:0/0 a;text-shadow:none;color:transparent;}.amcharts-export-menu li img{height:20px;}.amcharts-export-menu .export-drawing-width a{text-align:center;}.amcharts-export-menu .export-drawing-width span{display:block;margin:0 auto;}.amcharts-export-menu .export-drawing-width span>span{display:block;background:#000;border-radius:100%;}.amcharts-export-menu .export-drawing-shape a:hover img,.amcharts-export-menu .export-drawing-shape.active a img{-webkit-filter:invert(100%);filter:invert(100%);}\n';
},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var a=Object.getPrototypeOf(e);return null===a?void 0:t(a,n,r)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(r)},u=n(1049),c=n(1050),h=r(c),g=n(1055),d=r(g),p=n(1059),f={createElement:u.h},A={},C=function(t){function e(){i(this,e);var t=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t._ref=new WeakMap,t.getConfig=t.getConfig.bind(t),t}return o(e,t),s(e,[{key:"updatedCallback",value:function(t){if(!t)return!0;var e=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).concat(Object.getOwnPropertyNames(t)):Object.getOwnPropertyNames(t),n=!0,r=!1,i=void 0;try{for(var a,o=e[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value;if(!Object.is(t[s],this[s]))return!0}}catch(t){r=!0,i=t}finally{try{!n&&o.return&&o.return()}finally{if(r)throw i}}}},{key:"renderedCallback",value:function(){l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"connectedCallback",this).call(this);var t=this.getConfig(),n=this._ref.get(A);this.chart=AmCharts.makeChart(n,t)}},{key:"getConfig",value:function(){var t=this,e=this.onlyselect,n=this.collapsed,r=this.exprt,i=this.minperiod,a=(this.sliders,this.prevbutton,this.nextbutton,this.customballoon,this.topcustomballoon),o=this.littlehack;return{type:"serial",dataProvider:this.initialData(),theme:"light",marginTop:20,trendLines:[],dataDateFormat:"MM/DD/YYYY JJ:NN",graphs:this.getGraphs(),fontSize:10,addClassNames:!0,valueAxes:[{axisAlpha:1,position:"left",autoGridCount:!0,gridColor:"#a7a9ab",labelFrequency:1,fontSize:10}],categoryField:"date",categoryAxis:{startOnAxis:!0,position:"bottom",gridPosition:"center",gridAlpha:0,parseDates:!0,autoWrap:!1,minHorizontalGap:35,minorGridEnabled:!1,equalSpacing:!0,tickPosition:"center",tickColor:"#58585b",minPeriod:i,labelFunction:function(t,e,n){var r=new Date(Date.parse(e)),i=r.getHours(),a=r.getMinutes();a<10&&(a="0"+a);var o=i>=12?(i+11)%12+1+":"+a+"pm":(i+11)%12+1+":"+a+"am",s=void 0;if("12:00am"===o){var l=r.getDate(),u=r.getMonth()+1;s=u+"/"+l}else s=o;return s},guides:[]},chartCursor:{pan:!1,cursorAlpha:1,selectWithoutZooming:!!e,cursorColor:"#258cbb",valueLineAlpha:1,color:"#FFFFFF",categoryBalloonColor:"transparent",categoryBalloonFunction:function(e){var r=t.shadowRoot.querySelectorAll(".amcharts-balloon-bg-categoryAxis");r[0]&&(r[0].setAttribute("y",n?"1.5":"5.5"),r[0].setAttribute("height","23"),r[0].setAttribute("fill","#58585b"));var i=t.shadowRoot.querySelectorAll(".amcharts-balloon-div-categoryAxis");i[0]&&(i[0].style.top="235px");var a=new Date(Date.parse(e)),o=a.getHours(),s=a.getMinutes();s<10&&(s="0"+s);var l=o>=12?(o+11)%12+1+":"+s+"pm":(o+11)%12+1+":"+s+"am",u=void 0;if("12:00am"===l){var c=a.getDate(),h=a.getMonth()+1;u=h+"/"+c}else u=l;return u},leaveCursor:!1,listeners:[{event:"zoomed",method:function(t){}},{event:"zoomStarted",method:function(t){}},{event:"panning",method:function(t){}},{event:"changed",method:function(r){if(void 0!==r.index){var i=void 0,o=void 0;if(n?(i=t.shadowRoot.querySelectorAll(".amcharts-balloon-div-lineGraph"),o=t.shadowRoot.querySelectorAll(".amcharts-balloon-bg-lineGraph")):(i=t.shadowRoot.querySelectorAll(".amcharts-balloon-div-g1"),o=t.shadowRoot.querySelectorAll(".amcharts-balloon-bg-g1")),i[0]){var s=i[0].getAttribute("style"),l=parseInt(s.split("left: ").pop().split("px; top").shift()),u=l-40;i[0].setAttribute("style","left: "+u+"px; display: block; width:250px; position: absolute; top: "+a+"px; border: 1px solid #ccc; background: rgba(255, 255, 255, 1); padding: 10px; font-size: 14px; color: #000; margin: 20px 0 0 20px; transform: translateY(24px);");var c=o[0].parentNode,h=c.firstChild;c.removeChild(o[0]),c.removeChild(h)}var g=t.shadowRoot.querySelectorAll(".amcharts-cursor-line-vertical");g[0]&&(r.chart.mouseIsDown===!0?g[0].setAttribute("stroke","transparent"):(g[0].setAttribute("stroke-dasharray","5,5"),g[0].setAttribute("stroke","#58585b"))),r.chart.mouseIsDown===!0&&"left"===r.chart.draggedItem?e===!1&&t.displayText(r,r.chart.draggedItem):r.chart.mouseIsDown===!0&&"right"===r.chart.draggedItem&&e===!1&&t.displayText(r,r.chart.draggedItem)}}}]},chartScrollbar:this.renderScrollbar(),responsive:{},allLabels:[],balloon:{adjustBorderColor:!0,borderColor:"#d8d9da",borderAlpha:.1,animationDuration:0,borderThickness:1,color:"#626469",fadeOutDuration:0,cornerRadius:0,fillColor:"#FFFFFF",fixedPosition:!0,fillAlpha:1,horizontalPadding:8,shadowAlpha:.1,shadowColor:"#000000",textAlign:"middle",verticalPadding:8,fontFamily:"CiscoSans",fontSize:12,offsetX:50,offsetY:-100,showBullet:!1},legend:{enabled:!1,markerType:"round",markerSize:6,spacing:-40,align:"center"},export:{enabled:r,fileName:"DNAC-Chart",menu:[{format:"JPG",label:"i18nMessageBundle.timeline_export",title:"i18nMessageBundle.timeline_export_chart_to_JPG",fileName:"DNAC-Chart"}]},listeners:[{event:"init",method:function(n){e&&n.chart.removeListener(n.chart.chartScrollbar,"zoomed",n.chart.handleScrollbarZoom);for(var r in n.chart.valueAxes)n.chart.valueAxes[r].addListener("axisZoomed",function(t){});n.chart.chartDiv.onclick=function(e){t.dragged&&(t.dragged=!1)},o&&(n.chart.categoryAxis.labelsEnabled=!1,n.chart.validateNow())}},{event:"rendered",method:function(e){t.renderedChart(e),t.addNoDataAvail(e),t.tooltipOverlap(e)}},{event:"drawn",method:function(e){t.renderedChart(e),t.addNoDataAvail(e),t.tooltipOverlap(e)}},{event:"zoomed",method:function(n){var r=n.chart.startIndex,i=n.chart.endIndex;e===!1&&(t.displayText(n,r,"left"),t.displayText(n,i,"right"))}}]}}},{key:"tooltipOverlap",value:function(t){var e=this.shadowRoot.querySelector(".amcharts-chart-div"),n=this._ref.get(A);e&&(e.style.overflow="visible"),n.style.overflow="visible"}},{key:"addNoDataAvail",value:function(t){var e=this,n=this.data,r=Object.keys(n[0]);r.map(function(t,n){if("null"===t){var r=e.shadowRoot.querySelectorAll(".amcharts-chart-div"),i=r[0].getAttribute("style"),a=i.split("width: ").pop().split("px; height").shift(),o=r[0].firstChild,s=document.createElementNS("http://www.w3.org/2000/svg","rect");s.setAttribute("x",""+.9*a/2),s.setAttribute("y","30"),s.setAttribute("width","130"),s.setAttribute("height","80"),s.setAttribute("style","fill:#f8f8f8;stroke-width:3;stroke:transparent");var l=document.createElementNS("http://www.w3.org/2000/svg","text");l.setAttribute("x",""+(.9*a/2+20)),l.setAttribute("y","75"),l.setAttribute("font-family","CiscoSans"),l.setAttribute("font-size","12"),l.setAttribute("font-weight","300"),l.setAttribute("fill","#58585b"),l.setAttribute("line-height","18px"),l.innerHTML="No data Available",o.appendChild(s),o.appendChild(l)}})}},{key:"displayText",value:function(t,e,n){var r=new Date(t.chart.dataProvider[e].date);if(r){var i=r.getHours(),a=void 0;i>=12?(i=(i+11)%12+1,a="p"):a="a";var o=r.getMinutes();o<10&&(o="0"+o);var s=this.shadowRoot.querySelectorAll(".amcharts-scrollbar-grip-"+n+"-text");s[0]&&(s[0].innerHTML=i+":"+o+a,"left"===n?this.selectL=r:"right"===n&&(this.selectR=r))}}},{key:"renderedChart",value:function(t){var e=this.onlyselect,n=(this.collapsed,this.exprt,this.minperiod,this.sliders);this.prevbutton,this.nextbutton,this.period;e&&t.chart.removeListener(t.chart.chartScrollbar,"zoomed",t.chart.handleScrollbarZoom),this.updateBullets(t),this.fixOverflowTooltip(),this.addMissingClasses(),this.fixAxisLabels(),this.fixTicks(),this.fixPlotBackground(),n&&(this.zoomChart(t),e===!1&&(this.renderText("right"),this.renderText("left")),this.fixBackground(t),this.setRanges(t),this.overLapSliders())}},{key:"fixPlotBackground",value:function(){Array.from(this.shadowRoot.querySelectorAll(".amcharts-plot-area")).forEach(function(t,e){t.setAttribute("fill-opacity","1")})}},{key:"fixOverflowTooltip",value:function(){var t=this._ref.get(A);Object.assign(t.style,{overflowX:"visible",overflowY:"visible"}),Array.from(this.shadowRoot.querySelectorAll(".amcharts-chart-div")).forEach(function(t,e){Object.assign(t.style,{overflowX:"visible",overflowY:"visible"})}),Array.from(this.shadowRoot.querySelectorAll(".timeline-main-div")).forEach(function(t,e){Object.assign(t.style,{overflowX:"visible",overflowY:"visible"})})}},{key:"overLapSliders",value:function(){var t=this.shadowRoot.querySelector(".amcharts-scrollbar-grip-left").parentElement.parentElement.parentElement,e=t.parentElement;e.removeChild(t),e.appendChild(t)}},{key:"fixTicks",value:function(){var t=this.collapsed;t&&Array.from(this.shadowRoot.querySelectorAll(".amcharts-axis-tick")).forEach(function(t,e){t.setAttribute("transform","translate(0, 11)"),t.setAttribute("stroke-opacity","1"),t.setAttribute("stroke","#a7a9ab")})}},{key:"fixAxisLabels",value:function(){Array.from(this.shadowRoot.querySelectorAll(".amcharts-axis-label")).forEach(function(t,e){})}},{key:"addMissingClasses",value:function(){Array.from(this.shadowRoot.querySelectorAll(".amcharts-scrollbar-grip-left")).forEach(function(t,e){t.nextElementSibling.setAttribute("class","amcharts-grabber-left")}),Array.from(this.shadowRoot.querySelectorAll(".amcharts-scrollbar-grip-right")).forEach(function(t,e){t.nextElementSibling.setAttribute("class","amcharts-grabber-right")})}},{key:"renderScrollbar",value:function(){var t=this.sliders;this.collapsed;if(t)return{graph:"g1",graphLineAlpha:1,graphFillColor:"white",graphLineColor:"#a57575",selectedGraphFillColor:"rgb(215,215,215)",selectedGraphFillAlpha:1,selectedGraphLineColor:"#a57575",selectedGraphLineAlpha:1,scrollbarHeight:36,backgroundAlpha:1,backgroundColor:"transparent",dragIconWidth:30,dragIcon:"dragIconRectBigBlack"}}},{key:"setRanges",value:function(t){var e=parseInt(this.data.length);this.finalDate=Date.parse(this.data[e-1].date),this.initialDate=Date.parse(this.data[0].date),this.selectL=new Date(this.initialDate),this.selectR=new Date(this.finalDate)}},{key:"fixBackground",value:function(t){var e=this.shadowRoot.querySelector('[aria-label="Zoom chart using cursor arrows"]');this.shadowRoot.querySelectorAll(".amcharts-scrollbar-bg-selected");e.setAttribute("style","cursor: default;"),e.setAttribute("stroke","#a9abad"),e.setAttribute("stroke-width","1"),e.setAttribute("stroke-opacity","0.5");var n=e.previousSibling;n.setAttribute("stroke","#a9abad"),n.setAttribute("stroke-width","1"),n.setAttribute("stroke-opacity","0.5");var r=this.shadowRoot.querySelectorAll(".amcharts-scrollbar-grip-left"),i=this.shadowRoot.querySelectorAll(".amcharts-scrollbar-grip-right"),a=void 0,o=void 0;i[0]&&(a=i[0].parentNode),r[0]&&(o=r[0].parentNode);var s=(0,p.nonCollapsedSlider)(),l=s.myGR,u=s.myGL;i[0]&&a.replaceChild(l,i[0]),r[0]&&o.replaceChild(u,r[0])}},{key:"renderText",value:function(t){var e=this.initialDate,n=(this.collapsed,this.finalDate),r="left"===t?this.shadowRoot.querySelectorAll(".amcharts-scrollbar-grip-left-text"):this.shadowRoot.querySelectorAll(".amcharts-scrollbar-grip-right-text");if(r[0]){var i="left"===t?new Date(e):new Date(n),a=i.getHours(),o=void 0;a>=12?(a=(a+11)%12+1,o="p"):o="a";var s=i.getMinutes();s<10&&(s="0"+s),r[0].innerHTML=a+":"+s+o}else{var l="left"===t?new Date(e):new Date(n),u=l.getHours(),c=void 0;u>=12?(u=(u+11)%12+1,c="p"):c="a";var h=l.getMinutes();h<10&&(h="0"+h);var g="left"===t?this.shadowRoot.querySelectorAll(".amcharts-scrollbar-grip-left"):this.shadowRoot.querySelectorAll(".amcharts-scrollbar-grip-right"),d=document.createElementNS("http://www.w3.org/2000/svg","text");d.setAttribute("x","left"===t?"-7":"-12"),d.setAttribute("y","-5"),d.setAttribute("class","left"===t?"amcharts-scrollbar-grip-left-text":"amcharts-scrollbar-grip-right-text"),d.setAttribute("font-family","CiscoSans"),d.setAttribute("font-size","12"),d.setAttribute("font-weight","300"),d.setAttribute("fill","#049fd9"),d.setAttribute("line-height","1.08"),d.setAttribute("style","cursor: default"),d.innerHTML=u+":"+h+c,g[0].parentNode.appendChild(d)}}},{key:"chartCursorEvent",value:function(t){var e=this.shadowRoot.querySelectorAll(".amcharts-cursor-line-vertical");e[0].addEventListener("mousedown",function(t){})}},{key:"zoomChart",value:function(t){var e=this,n=this.sliders;if(n){var r=t.chart.chartScrollbar.set.node;r.addEventListener("mousedown",function(n){n.target.attributes[11];"amcharts-slider-drag-line4"===n.target.classList.value||"amcharts-slider-drag-line5"===n.target.classList.value||"amcharts-slider-drag-line6"===n.target.classList.value||"amcharts-scrollbar-grip-left"===n.target.classList.value||"amcharts-scrollbar-grip-left-rect"===n.target.classList.value||"amcharts-scrollbar-grip-left-text"===n.target.classList.value||"amcharts-scrollbar-grip-left-poly"===n.target.classList.value||"amcharts-grabber-left"===n.target.classList.value?(t.chart.mouseIsDown=!0,t.chart.draggedItem="left"):"amcharts-slider-drag-line1"===n.target.classList.value||"amcharts-slider-drag-line2"===n.target.classList.value||"amcharts-slider-drag-line3"===n.target.classList.value||"amcharts-scrollbar-grip-right-rect"===n.target.classList.value||"amcharts-scrollbar-grip-right-text"===n.target.classList.value||"amcharts-scrollbar-grip-right-poly"===n.target.classList.value||"amcharts-grabber-right"===n.target.classList.value?(t.chart.mouseIsDown=!0,t.chart.draggedItem="right"):n.target.attributes[11]?"Zoom chart using cursor arrows"===n.target.attributes[11].nodeValue&&(t.chart.draggedItem="middle",t.chart.mouseIsDown=!0):t.chart.mouseIsDown=!1,t.chart.chartCursor.enabled=!1,e.fixBackground(n),e.fixAxisLabels()}),r.addEventListener("mousemove",function(n){if(e.fixAxisLabels(),t.chart.mouseIsDown){n.target.attributes[11];"amcharts-slider-drag-line4"===n.target.classList.value||"amcharts-slider-drag-line5"===n.target.classList.value||"amcharts-slider-drag-line6"===n.target.classList.value||"amcharts-scrollbar-grip-left"===n.target.classList.value||"amcharts-scrollbar-grip-left-rect"===n.target.classList.value||"amcharts-scrollbar-grip-left-text"===n.target.classList.value||"amcharts-scrollbar-grip-left-poly"===n.target.classList.value||"amcharts-grabber-left"===n.target.classList.value||"amcharts-slider-drag-line1"===n.target.classList.value||"amcharts-slider-drag-line2"===n.target.classList.value||"amcharts-slider-drag-line3"===n.target.classList.value||"amcharts-scrollbar-grip-right-rect"===n.target.classList.value||"amcharts-scrollbar-grip-right-text"===n.target.classList.value||"amcharts-scrollbar-grip-right-poly"===n.target.classList.value||"amcharts-grabber-right"===n.target.classList.value||n.target.attributes[11]&&"Zoom chart using cursor arrows"===n.target.attributes[11].nodeValue&&(t.chart.draggedItem="middle",t.chart.mouseIsDown=!0)}}),t.chart.chartDiv.addEventListener("mouseup",function(n){t.chart.mouseIsDown&&(t.chart.mouseIsDown=!1,t.chart.chartCursor.enabled=!0,e._onTimeRangeChange())})}}},{key:"getGraphs",value:function(t){var e=(this.collapsed,this.customballoon,this.linevisibility,[]),n={id:"gtop",type:"smoothedLine",connect:!1,fillToGraph:"g1",fillColors:["#fdd706","#c3fcf6"],fillAlphas:.5,lineThickness:2,showBalloon:!1,labelText:"",valueField:"valueTop",lineColor:"#000000",dashLength:5,bullet:"round",bulletAlpha:0};e.push(n);var r={id:"g1",type:"smoothedLine",connect:!1,lineThickness:2,showBalloon:!1,balloonText:"[[value]]",customBullet:"",customBulletField:"customBullet",labelText:"",valueField:"value",lineColor:"#000000",lineAlpha:1,bullet:"round",bulletAlpha:0,fillToGraph:"gbottom",fillColors:["#fdd706","#c3fcf6"],fillAlphas:.5};e.push(r);var i={id:"gbottom",type:"smoothedLine",connect:!1,lineThickness:2,showBalloon:!1,labelText:"",valueField:"valueBottom",lineColor:"#000000",dashLength:5,bullet:"round",bulletAlpha:0};return e.push(i),e}},{key:"removeLastGrid",value:function(t){Array.from(this.shadowRoot.querySelectorAll(".amcharts-axis-grid")).forEach(function(t,e){1!==e&&2!==e&&4!==e&&5!==e&&6!==e&&7!==e&&9!==e&&11!==e&&12!==e||t.setAttribute("stroke-opacity","0")})}},{key:"updateBullets",value:function(t){Array.from(this.shadowRoot.querySelectorAll(".amcharts-graph-bullet")).forEach(function(t,e){if(void 0===t.attributes.r){var n=t.firstChild,r=document.createElementNS("http://www.w3.org/2000/svg","circle");r.setAttribute("r","4"),r.setAttribute("cx","0"),r.setAttribute("cy","0"),r.setAttribute("fill","white"),r.setAttribute("stroke","red"),r.setAttribute("stroke-width","2"),r.setAttribute("stroke-opacity","1"),r.setAttribute("transform","translate(0,0)"),r.setAttribute("aria-label"," 3p 1.125");var i=r;t.replaceChild(i,n)}})}},{key:"initialData",value:function t(e){var n=this.data,t=(this.linevisibility,this.collapsed,[]);return n.map(function(e,n){var r=void 0;void 0!==e.event&&e.event===!0&&(r="http://dna-ui.cisco.com:8000/img/redstar.png");e.value?.2:void 0;t.push({date:e.date,value:e.value,valueTop:e.valueTop,valueBottom:e.valueBottom,customBullet:r,color:"#32a205",id:n})}),t}},{key:"_onTimeRangeChange",value:function(){var t=this.selectL,e=this.selectR,n=this.minperiod,r=new Date(t),i=new Date(e),a=r.getDate(),o=r.getFullYear(),s=r.getMonth()+1,l=r.getHours(),c=r.getMinutes(),h=c-c%5;h<10&&(h="0"+h);var g=void 0;g="hh"===n?s+"/"+a+"/"+o+" "+l+":00":s+"/"+a+"/"+o+" "+l+":"+h;var d=new Date(g).getTime(),p=i.getDate(),f=i.getFullYear(),A=i.getMonth()+1,C=i.getHours(),I=i.getMinutes(),m=I-I%5;m<10&&(m="0"+m);var v=void 0;v="hh"===n?A+"/"+p+"/"+f+" "+C+":00":A+"/"+p+"/"+f+" "+C+":"+m;var y=new Date(v).getTime();(0,u.emit)(this,"onTimeRangeChange",{detail:{fromUnix:d,toUnix:y,fromDate:g,toDate:v}})}},{key:"renderCallback",value:function(){var t=this,e=this.width,n=this.height;return f.createElement("div",{ref:function(e){return t._ref.set(A,e)},style:"width: "+e+";height: "+n+"; overflow: visible; top: 5px; left: 0px; position: relative; display:inline-block; overflow: visible;"})}}],[{key:"is",get:function(){return"prophesier-timeline-zoom"}},{key:"props",get:function(){return{data:u.prop.object({attribute:!0,default:[{date:"03/29/2017 10:05",values:[0],null:1},{date:"03/29/2017 10:10",values:[0]},{date:"03/29/2017 10:15",values:[0]},{date:"03/29/2017 10:20",values:[0]},{date:"03/29/2017 10:25",values:[0]},{date:"03/29/2017 10:30",values:[0]},{date:"03/29/2017 10:35",values:[0]}]}),sliders:u.prop.boolean({attribute:!0,default:!0}),initialDate:u.prop.number({attribute:!0}),finalDate:u.prop.number({attribute:!0}),exprt:u.prop.boolean({attribute:!0,default:!1}),width:u.prop.string({attribute:!0,default:"100%"}),height:u.prop.string({attribute:!0,default:"260px"}),minperiod:u.prop.string({attribute:!0,default:"5mm"}),linevisibility:u.prop.string({attribute:!0,default:"Yes"}),tooltip:u.prop.boolean({attribute:!0,default:!1}),prevbutton:u.prop.string({attribute:!0,default:"enable"}),nextbutton:u.prop.string({attribute:!0,default:"disable"}),period:u.prop.string({attribute:!0,default:"24h"}),customballoon:u.prop.boolean({attribute:!0,default:!1}),topcustomballoon:u.prop.number({attribute:!0,default:-120}),onlyselect:u.prop.boolean({attribute:!0,default:!1})}}}]),e}((0,h.default)(u.Component));(0,d.default)(C.is,C),e.default=C},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.nonCollapsedSlider=function(t){var e=document.createElementNS("http://www.w3.org/2000/svg","g");e.setAttribute("class","amcharts-scrollbar-grip-left");var n=document.createElementNS("http://www.w3.org/2000/svg","g");n.setAttribute("class","amcharts-scrollbar-grip-right");var r=document.createElementNS("http://www.w3.org/2000/svg","line"),i=document.createElementNS("http://www.w3.org/2000/svg","line"),a=document.createElementNS("http://www.w3.org/2000/svg","line");r.setAttribute("x1","13"),r.setAttribute("x2","13"),r.setAttribute("y1","0"),r.setAttribute("y2","36"),r.setAttribute("stroke","black"),r.setAttribute("stroke-width","10"),r.setAttribute("class","amcharts-slider-drag-line4"),i.setAttribute("x1","9"),i.setAttribute("x2","17"),i.setAttribute("y1","109"),i.setAttribute("y2","109"),i.setAttribute("stroke","#049fd9"),i.setAttribute("stroke-width","3"),i.setAttribute("class","amcharts-slider-drag-line5"),a.setAttribute("x1","9"),a.setAttribute("x2","17"),a.setAttribute("y1",t),a.setAttribute("y2",t),a.setAttribute("stroke","#049fd9"),a.setAttribute("stroke-width","3"),a.setAttribute("class","amcharts-slider-drag-line6");var o=document.createElementNS("http://www.w3.org/2000/svg","line"),s=document.createElementNS("http://www.w3.org/2000/svg","line"),l=document.createElementNS("http://www.w3.org/2000/svg","line");return o.setAttribute("x1","13"),o.setAttribute("x2","13"),o.setAttribute("y1","0"),o.setAttribute("y2","36"),o.setAttribute("stroke","black"),o.setAttribute("stroke-width","10"),o.setAttribute("class","amcharts-slider-drag-line1"),s.setAttribute("x1","-2"),s.setAttribute("x2","6"),s.setAttribute("y1","109"),s.setAttribute("y2","109"),s.setAttribute("stroke","#049fd9"),s.setAttribute("stroke-width","3"),s.setAttribute("class","amcharts-slider-drag-line2"),l.setAttribute("x1","-2"),l.setAttribute("x2","6"),l.setAttribute("y1",t),l.setAttribute("y2",t),l.setAttribute("stroke","#049fd9"),l.setAttribute("stroke-width","3"),l.setAttribute("class","amcharts-slider-drag-line3"),n.appendChild(o),e.appendChild(r),{myGR:n,myGL:e}}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){return Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=i(["\n<button on-click=",">",'</button>\n<prophesier-scatter-chart class="bubblechart"></prophesier-scatter-chart>\n'],["\n<button on-click=",">",'</button>\n<prophesier-scatter-chart class="bubblechart"></prophesier-scatter-chart>\n']),c=n(1061),h=n(1055),g=r(h),d=n(1072),p=0,f=[30,34,35,45,60,61,79],A=[78,43,72,86,75,56,96],C=function(t){function e(){a(this,e);var t=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.hypothesis=function(e){return t.b+t.m*e},t.onLearn=function(){var e=t.learningrate,n=t.batchsize;t.learn(e),p++,p===n&&t.interval&&clearInterval(t.interval),t.data=t.initialData(),t.emitResult();var r=t.querySelector(".bubblechart");r.data=t.data,r.name=t.names,r.xformat="text",r.legends=!1},t.learn=function(e){for(var n=t.xs,r=t.ys,i=n.length,a=0,o=0,s=0;s<i;s++)a+=t.hypothesis(n[s])-r[s],o+=(t.hypothesis(n[s])-r[s])*n[s];t.b=t.b-e/i*a,t.m=t.m-e/i*o},t.cost=function(){for(var e=t.xs,n=t.ys,r=e.length,i=0,a=0;a<r;a++)i+=Math.pow(t.hypothesis(e[a])-n[a],2);return i},t.initialData=function(){var e=t.xs,n=t.ys,r=[];return e.map(function(e,i){var a={ax:e,ay:n[i],zv:t.hypothesis(e),aValue:5,attempts:20};r.push(a)}),r},t.onClick=t.onClick.bind(t),t.data=[],t.names=["Variable 1","Variable 2"],t.interval=null,t.xs=f,t.ys=A,t.m=null,t.b=null,t.learningrate=7e-4,t.batchsize=100,t.start=!1,t}return s(e,t),l(e,[{key:"_createRoot",value:function(){return this}},{key:"_firstRendered",value:function(){}},{key:"onClick",value:function(){var t=this.start;t?(this.interval&&clearInterval(this.interval),this.start=!1):(this.interval=setInterval(this.onLearn,5),this.start=!0)}},{key:"emitResult",value:function(){var t=this.m,e=this.b,n=this.cost();(0,d.emit)(this,"result",{detail:{m:t,b:e,iteration:p,sse:n}})}},{key:"disconnectedCallback",value:function(){clearInterval(this.interval)}},{key:"_render",value:function(t){var e=t.start,n=void 0;return n=e?"Stop":"Run",(0,c.html)(u,this.onClick,n)}}],[{key:"properties",get:function(){return{data:Array,names:Array,cost:Array,interval:Object,xs:Array,ys:Array,m:Number,b:Number,learningrate:Number,batchsize:Number,start:Boolean}}},{key:"is",get:function(){return"prophesier-regressiongradesc-cpu"}}]),e}(c.LitElement);(0,g.default)(C.is,C),e.default=C},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function o(t,e){for(var n in e){var r=e[n]===!0?"":e[n];r||""===r||0===r?t.getAttribute(n)!==r&&t.setAttribute(n,r):t.hasAttribute(n)&&t.removeAttribute(n)}}function s(t){var e=[];for(var n in t){var r=t[n];r&&e.push(n)}return e.join(" ")}function l(t){var e=[];for(var n in t){var r=t[n];(r||0===r)&&e.push((0,d.camelToDashCase)(n)+": "+r)}return e.join("; ")}Object.defineProperty(e,"__esModule",{value:!0}),e.LitElement=e.html=void 0;var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var a=Object.getPrototypeOf(e);return null===a?void 0:t(a,n,r)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(r)},h=n(1062);Object.defineProperty(e,"html",{enumerable:!0,get:function(){return h.html}}),e.renderAttributes=o,e.classString=s,e.styleString=l;var g=n(1064),d=n(1069),p=n(1070);e.LitElement=function(t){function e(){r(this,e);var t=i(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments));return t.__renderComplete=null,t.__resolveRenderComplete=null,t.__isInvalid=!1,t.__isChanging=!1,t}return a(e,t),u(e,[{key:"ready",value:function(){this._root=this._createRoot(),c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"ready",this).call(this),this._firstRendered()}},{key:"_firstRendered",value:function(){}},{key:"_createRoot",value:function(){return this.attachShadow({mode:"open"})}},{key:"_shouldPropertiesChange",value:function(t,e,n){var r=this._shouldRender(t,e,n);return!r&&this.__resolveRenderComplete&&this.__resolveRenderComplete(!1),r}},{key:"_shouldRender",value:function(t,e,n){return!0}},{key:"_propertiesChanged",value:function(t,n,r){c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_propertiesChanged",this).call(this,t,n,r);var i=this._render(t);i&&void 0!==this._root&&this._applyRender(i,this._root),this._didRender(t,n,r),this.__resolveRenderComplete&&this.__resolveRenderComplete(!0)}},{key:"_flushProperties",value:function(){this.__isChanging=!0,this.__isInvalid=!1,c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_flushProperties",this).call(this),this.__isChanging=!1}},{key:"_shouldPropertyChange",value:function(t,n,r){var i=c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_shouldPropertyChange",this).call(this,t,n,r);return i&&this.__isChanging&&console.trace("Setting properties in response to other properties changing "+("considered harmful. Setting '"+t+"' from ")+("'"+this._getProperty(t)+"' to '"+n+"'.")),i}},{key:"_render",value:function(t){throw new Error("_render() not implemented")}},{key:"_applyRender",value:function(t,e){(0,p.render)(t,e,this.localName)}},{key:"_didRender",value:function(t,e,n){}},{key:"_requestRender",value:function(){this._invalidateProperties()}},{key:"_invalidateProperties",value:function(){this.__isInvalid=!0,c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_invalidateProperties",this).call(this)}},{key:"renderComplete",get:function(){var t=this;return this.__renderComplete||(this.__renderComplete=new Promise(function(e){t.__resolveRenderComplete=function(n){t.__resolveRenderComplete=t.__renderComplete=null,e(n)}}),!this.__isInvalid&&this.__resolveRenderComplete&&Promise.resolve().then(function(){return t.__resolveRenderComplete(!1)})),this.__renderComplete}}]),e}((0,g.PropertiesMixin)(HTMLElement))},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.EventPart=e.PropertyPart=e.BooleanAttributePart=e.extendedPartCallback=e.svg=e.html=e.render=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=n(1063);Object.defineProperty(e,"render",{enumerable:!0,get:function(){return s.render}});/**
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * This code may only be used under the BSD style license found at
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * http://polymer.github.io/LICENSE.txt
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * The complete set of authors may be found at
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * http://polymer.github.io/AUTHORS.txt
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * The complete set of contributors may be found at
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * http://polymer.github.io/CONTRIBUTORS.txt
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Code distributed by Google as part of the polymer project is also
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * subject to an additional IP rights grant found at
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * http://polymer.github.io/PATENTS.txt
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */
var l=(e.html=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return new s.TemplateResult(t,n,"html",l)},e.svg=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return new s.SVGTemplateResult(t,n,"svg",l)},e.extendedPartCallback=function(t,e,n){if("attribute"===e.type){if("on-"===e.rawName.substr(0,3)){var r=e.rawName.slice(3);return new h(t,n,r)}var i=e.name.substr(e.name.length-1);if("$"===i){var a=e.name.slice(0,-1);return new s.AttributePart(t,n,a,e.strings)}if("?"===i){var o=e.name.slice(0,-1);return new u(t,n,o,e.strings)}return new c(t,n,e.rawName,e.strings)}return(0,s.defaultPartCallback)(t,e,n)}),u=e.BooleanAttributePart=function(t){function e(){return r(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,t),o(e,[{key:"setValue",value:function(t,e){var n=this.strings;if(2!==n.length||""!==n[0]||""!==n[1])throw new Error("boolean attributes can only contain a single expression");var r=(0,s.getValue)(this,t[e]);r!==s.noChange&&(r?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name))}}]),e}(s.AttributePart),c=e.PropertyPart=function(t){function e(){return r(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,t),o(e,[{key:"setValue",value:function(t,e){var n=this.strings,r=void 0;this._equalToPreviousValues(t,e)||(r=2===n.length&&""===n[0]&&""===n[1]?(0,s.getValue)(this,t[e]):this._interpolate(t,e),r!==s.noChange&&(this.element[this.name]=r),this._previousValues=t)}}]),e}(s.AttributePart),h=e.EventPart=function(){function t(e,n,i){r(this,t),this.instance=e,this.element=n,this.eventName=i}return o(t,[{key:"setValue",value:function(t){var e=(0,s.getValue)(this,t);e!==this._listener&&(null==e?this.element.removeEventListener(this.eventName,this):null==this._listener&&this.element.addEventListener(this.eventName,this),this._listener=e)}},{key:"handleEvent",value:function(t){"function"==typeof this._listener?this._listener.call(this.element,t):"function"==typeof this._listener.handleEvent&&this._listener.handleEvent(t)}}]),t}()},function(t,e){"use strict";function n(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t){var e=h.get(t.type);void 0===e&&(e=new Map,h.set(t.type,e));var n=e.get(t.strings);return void 0===n&&(n=new v(t,t.getTemplateElement()),e.set(t.strings,n)),n}function o(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a,r=n(t),i=e.__templateInstance;if(void 0!==i&&i.template===r&&i._partCallback===t.partCallback)return void i.update(t.values);i=new E(r,t.partCallback,n),e.__templateInstance=i;var o=i._clone();i.update(t.values),O(e,e.firstChild),e.appendChild(o)}function s(t){var e=t.lastIndexOf(">"),n=t.indexOf("<",e+1);return n>-1?t.length:e}Object.defineProperty(e,"__esModule",{value:!0});var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var a=Object.getPrototypeOf(e);return null===a?void 0:t(a,n,r)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(r)},c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();e.defaultTemplateFactory=a,e.render=o;/**
	 * @license
	 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
	 * This code may only be used under the BSD style license found at
	 * http://polymer.github.io/LICENSE.txt
	 * The complete set of authors may be found at
	 * http://polymer.github.io/AUTHORS.txt
	 * The complete set of contributors may be found at
	 * http://polymer.github.io/CONTRIBUTORS.txt
	 * Code distributed by Google as part of the polymer project is also
	 * subject to an additional IP rights grant found at
	 * http://polymer.github.io/PATENTS.txt
	 */
var h=e.templateCaches=new Map,g=(e.html=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return new g(t,n,"html")},e.svg=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return new d(t,n,"svg")},e.TemplateResult=function(){function t(e,n,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:N;i(this,t),this.strings=e,this.values=n,this.type=r,this.partCallback=a}return c(t,[{key:"getHTML",value:function(){for(var t=this.strings.length-1,e="",n=!0,r=0;r<t;r++){var i=this.strings[r];e+=i;var a=s(i);n=a>-1?a<i.length:n,e+=n?f:p}return e+=this.strings[t]}},{key:"getTemplateElement",value:function(){var t=document.createElement("template");return t.innerHTML=this.getHTML(),t}}]),t}()),d=e.SVGTemplateResult=function(t){function e(){return i(this,e),n(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return r(e,t),c(e,[{key:"getHTML",value:function(){return"<svg>"+u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"getHTML",this).call(this)+"</svg>"}},{key:"getTemplateElement",value:function(){var t=u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"getTemplateElement",this).call(this),n=t.content,r=n.firstChild;return n.removeChild(r),k(n,r.firstChild),t}}]),e}(g),p="{{lit-"+String(Math.random()).slice(2)+"}}",f="<!--"+p+"-->",A=new RegExp(p+"|"+f),C=/[ \x09\x0a\x0c\x0d]([^\0-\x1F\x7F-\x9F \x09\x0a\x0c\x0d"'>=\/]+)[ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*)$/,I=e.TemplatePart=function t(e,n,r,a,o){i(this,t),this.type=e,this.index=n,this.name=r,this.rawName=a,this.strings=o},m=e.isTemplatePartActive=function(t){return t.index!==-1},v=e.Template=function t(e,n){i(this,t),this.parts=[],this.element=n;for(var r=this.element.content,a=document.createTreeWalker(r,133,null,!1),o=-1,s=0,l=[],u=void 0,c=void 0;a.nextNode();){o++,u=c;var h=c=a.currentNode;if(1===h.nodeType){if(!h.hasAttributes())continue;for(var g=h.attributes,d=0,f=0;f<g.length;f++)g[f].value.indexOf(p)>=0&&d++;for(;d-- >0;){var m=e.strings[s],v=C.exec(m)[1],y=g.getNamedItem(v),b=y.value.split(A);this.parts.push(new I("attribute",o,y.name,v,b)),h.removeAttribute(y.name),s+=b.length-1}}else if(3===h.nodeType){var x=h.nodeValue;if(x.indexOf(p)<0)continue;var w=h.parentNode,S=x.split(A),T=S.length-1;s+=T;for(var N=0;N<T;N++)w.insertBefore(""===S[N]?document.createComment(""):document.createTextNode(S[N]),h),this.parts.push(new I("node",o++));w.insertBefore(""===S[T]?document.createComment(""):document.createTextNode(S[T]),h),l.push(h)}else if(8===h.nodeType&&h.nodeValue===p){var E=h.parentNode,k=h.previousSibling;null===k||k!==u||k.nodeType!==Node.TEXT_NODE?E.insertBefore(document.createComment(""),h):o--,this.parts.push(new I("node",o++)),l.push(h),null===h.nextSibling?E.insertBefore(document.createComment(""),h):o--,c=u,s++}}var O=!0,M=!1,R=void 0;try{for(var D,_=l[Symbol.iterator]();!(O=(D=_.next()).done);O=!0){var P=D.value;P.parentNode.removeChild(P)}}catch(t){M=!0,R=t}finally{try{!O&&_.return&&_.return()}finally{if(M)throw R}}},y=e.getValue=function(t,e){return b(e)?(e=e(t),x):null===e?void 0:e},b=(e.directive=function(t){return t.__litDirective=!0,t},function(t){return"function"==typeof t&&t.__litDirective===!0}),x=e.noChange={};e.directiveValue=x;var w=function(t){return null===t||!("object"===("undefined"==typeof t?"undefined":l(t))||"function"==typeof t)},S=e.AttributePart=function(){function t(e,n,r,a){i(this,t),this.instance=e,this.element=n,this.name=r,this.strings=a,this.size=a.length-1,this._previousValues=[]}return c(t,[{key:"_interpolate",value:function(t,e){for(var n=this.strings,r=n.length-1,i="",a=0;a<r;a++){i+=n[a];var o=y(this,t[e+a]);if(o&&o!==x&&(Array.isArray(o)||"string"!=typeof o&&o[Symbol.iterator])){var s=!0,l=!1,u=void 0;try{for(var c,h=o[Symbol.iterator]();!(s=(c=h.next()).done);s=!0){var g=c.value;i+=g}}catch(t){l=!0,u=t}finally{try{!s&&h.return&&h.return()}finally{if(l)throw u}}}else i+=o}return i+n[r]}},{key:"_equalToPreviousValues",value:function(t,e){for(var n=e;n<e+this.size;n++)if(this._previousValues[n]!==t[n]||!w(t[n]))return!1;return!0}},{key:"setValue",value:function(t,e){if(!this._equalToPreviousValues(t,e)){var n=this.strings,r=void 0;2===n.length&&""===n[0]&&""===n[1]?(r=y(this,t[e]),Array.isArray(r)&&(r=r.join(""))):r=this._interpolate(t,e),r!==x&&this.element.setAttribute(this.name,r),this._previousValues=t}}}]),t}(),T=e.NodePart=function(){function t(e,n,r){i(this,t),this.instance=e,this.startNode=n,this.endNode=r,this._previousValue=void 0}return c(t,[{key:"setValue",value:function(t){if(t=y(this,t),t!==x)if(w(t)){if(t===this._previousValue)return;this._setText(t)}else t instanceof g?this._setTemplateResult(t):Array.isArray(t)||t[Symbol.iterator]?this._setIterable(t):t instanceof Node?this._setNode(t):void 0!==t.then?this._setPromise(t):this._setText(t)}},{key:"_insert",value:function(t){this.endNode.parentNode.insertBefore(t,this.endNode)}},{key:"_setNode",value:function(t){this._previousValue!==t&&(this.clear(),this._insert(t),this._previousValue=t)}},{key:"_setText",value:function(t){var e=this.startNode.nextSibling;t=void 0===t?"":t,e===this.endNode.previousSibling&&e.nodeType===Node.TEXT_NODE?e.textContent=t:this._setNode(document.createTextNode(t)),this._previousValue=t}},{key:"_setTemplateResult",value:function(t){var e=this.instance._getTemplate(t),n=void 0;this._previousValue&&this._previousValue.template===e?n=this._previousValue:(n=new E(e,this.instance._partCallback,this.instance._getTemplate),this._setNode(n._clone()),this._previousValue=n),n.update(t.values)}},{key:"_setIterable",value:function(e){Array.isArray(this._previousValue)||(this.clear(),this._previousValue=[]);var n=this._previousValue,r=0,i=!0,a=!1,o=void 0;try{for(var s,l=e[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value,c=n[r];if(void 0===c){var h=this.startNode;if(r>0){var g=n[r-1];h=g.endNode=document.createTextNode(""),this._insert(h)}c=new t(this.instance,h,this.endNode),n.push(c)}c.setValue(u),r++}}catch(t){a=!0,o=t}finally{try{!i&&l.return&&l.return()}finally{if(a)throw o}}if(0===r)this.clear(),this._previousValue=void 0;else if(r<n.length){var d=n[r-1];n.length=r,this.clear(d.endNode.previousSibling),d.endNode=this.endNode}}},{key:"_setPromise",value:function(t){var e=this;this._previousValue=t,t.then(function(n){e._previousValue===t&&e.setValue(n)})}},{key:"clear",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.startNode;O(this.startNode.parentNode,t.nextSibling,this.endNode)}}]),t}(),N=e.defaultPartCallback=function(t,e,n){if("attribute"===e.type)return new S(t,n,e.name,e.strings);if("node"===e.type)return new T(t,n,n.nextSibling);throw new Error("Unknown part type "+e.type)},E=e.TemplateInstance=function(){function t(e,n,r){i(this,t),this._parts=[],this.template=e,this._partCallback=n,this._getTemplate=r}return c(t,[{key:"update",value:function(t){var e=0,n=!0,r=!1,i=void 0;try{for(var a,o=this._parts[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value;s?void 0===s.size?(s.setValue(t[e]),e++):(s.setValue(t,e),e+=s.size):e++}}catch(t){r=!0,i=t}finally{try{!n&&o.return&&o.return()}finally{if(r)throw i}}}},{key:"_clone",value:function(){var t=this.template.element.content.cloneNode(!0),e=this.template.parts;if(e.length>0)for(var n=document.createTreeWalker(t,133,null,!1),r=-1,i=0;i<e.length;i++){var a=e[i],o=m(a);if(o)for(;r<a.index;)r++,n.nextNode();this._parts.push(o?this._partCallback(this,a,n.currentNode):void 0)}return t}}]),t}(),k=e.reparentNodes=function(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=e;i!==n;){var a=i.nextSibling;t.insertBefore(i,r),i=a}},O=e.removeNodes=function(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=e;r!==n;){var i=r.nextSibling;t.removeChild(r),r=i}}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}/**
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               @license
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               Code distributed by Google as part of the polymer project is also
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               */
function o(t){var e={};for(var n in t){var r=t[n];e[n]="function"==typeof r?{type:r}:r}return e}Object.defineProperty(e,"__esModule",{value:!0}),e.PropertiesMixin=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var a=Object.getPrototypeOf(e);return null===a?void 0:t(a,n,r)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(r)};n(1065);var u=n(1066),c=n(1067);e.PropertiesMixin=(0,u.dedupingMixin)(function(t){function e(t){var e=Object.getPrototypeOf(t);return e.prototype instanceof h?e:null}function n(t){if(!t.hasOwnProperty(JSCompiler_renameProperty("__ownProperties",t))){var e=null;t.hasOwnProperty(JSCompiler_renameProperty("properties",t))&&t.properties&&(e=o(t.properties)),t.__ownProperties=e}return t.__ownProperties}var u=(0,c.PropertiesChanged)(t),h=function(t){function o(){return r(this,o),i(this,(o.__proto__||Object.getPrototypeOf(o)).apply(this,arguments))}return a(o,t),s(o,[{key:"_initializeProperties",value:function(){this.constructor.finalize(),l(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"_initializeProperties",this).call(this)}},{key:"connectedCallback",value:function(){l(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"connectedCallback",this)&&l(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"connectedCallback",this).call(this),this._enableProperties()}},{key:"disconnectedCallback",value:function(){l(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"disconnectedCallback",this)&&l(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"disconnectedCallback",this).call(this)}}],[{key:"finalize",value:function(){if(!this.hasOwnProperty(JSCompiler_renameProperty("__finalized",this))){var t=e(this);t&&t.finalize(),this.__finalized=!0,this._finalizeClass()}}},{key:"_finalizeClass",value:function(){var t=n(this);t&&this.createProperties(t)}},{key:"typeForProperty",value:function(t){var e=this._properties[t];return e&&e.type}},{key:"observedAttributes",get:function(){var t=this,e=this._properties;return e?Object.keys(e).map(function(e){return t.attributeNameForProperty(e)}):[]}},{key:"_properties",get:function(){if(!this.hasOwnProperty(JSCompiler_renameProperty("__properties",this))){var t=e(this);this.__properties=Object.assign({},t&&t._properties,n(this))}return this.__properties}}]),o}(u);return h})},function(t,e){"use strict";/**
	@license
	Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
	This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
	The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
	The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
	Code distributed by Google as part of the polymer project is also
	subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
	*/
window.JSCompiler_renameProperty=function(t){return t}},function(t,e,n){"use strict";/**
	@license
	Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
	This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
	The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
	The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
	Code distributed by Google as part of the polymer project is also
	subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
	*/
function r(){}Object.defineProperty(e,"__esModule",{value:!0}),e.dedupingMixin=void 0,n(1065);var i=0;r.prototype.__mixinApplications,r.prototype.__mixinSet;e.dedupingMixin=function t(e){function t(t){var i=t.__mixinSet;if(i&&i[r])return t;var a=n,o=a.get(t);o||(o=e(t),a.set(t,o));var s=Object.create(o.__mixinSet||i||null);return s[r]=!0,o.__mixinSet=s,o}var n=e.__mixinApplications;n||(n=new WeakMap,e.__mixinApplications=n);var r=i++;return t}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.PropertiesChanged=void 0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var a=Object.getPrototypeOf(e);return null===a?void 0:t(a,n,r)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(r)},l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();n(1065);var u=n(1066),c=n(1068),h=c.microTask;e.PropertiesChanged=(0,u.dedupingMixin)(function(t){var e=function(t){function e(){r(this,e);var t=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.__dataEnabled=!1,t.__dataReady=!1,t.__dataInvalid=!1,t.__data={},t.__dataPending=null,t.__dataOld=null,t.__dataInstanceProps=null,t.__serializing=!1,t._initializeProperties(),t}return a(e,t),l(e,[{key:"_createPropertyAccessor",value:function(t,e){this._addPropertyToAttributeMap(t),this.hasOwnProperty("__dataHasAccessor")||(this.__dataHasAccessor=Object.assign({},this.__dataHasAccessor)),this.__dataHasAccessor[t]||(this.__dataHasAccessor[t]=!0,this._definePropertyAccessor(t,e))}},{key:"_addPropertyToAttributeMap",value:function(t){if(this.hasOwnProperty("__dataAttributes")||(this.__dataAttributes=Object.assign({},this.__dataAttributes)),!this.__dataAttributes[t]){var e=this.constructor.attributeNameForProperty(t);this.__dataAttributes[e]=t}}},{key:"_definePropertyAccessor",value:function(t,e){Object.defineProperty(this,t,{get:function(){return this._getProperty(t)},set:e?function(){}:function(e){this._setProperty(t,e)}})}}],[{key:"createProperties",value:function(t){var e=this.prototype;for(var n in t)n in e||e._createPropertyAccessor(n)}},{key:"attributeNameForProperty",value:function(t){return t.toLowerCase()}},{key:"typeForProperty",value:function(t){}}]),l(e,[{key:"ready",value:function(){this.__dataReady=!0,this._flushProperties()}},{key:"_initializeProperties",value:function(){for(var t in this.__dataHasAccessor)this.hasOwnProperty(t)&&(this.__dataInstanceProps=this.__dataInstanceProps||{},this.__dataInstanceProps[t]=this[t],delete this[t])}},{key:"_initializeInstanceProperties",value:function(t){Object.assign(this,t)}},{key:"_setProperty",value:function(t,e){this._setPendingProperty(t,e)&&this._invalidateProperties()}},{key:"_getProperty",value:function(t){return this.__data[t]}},{key:"_setPendingProperty",value:function(t,e,n){var r=this.__data[t],i=this._shouldPropertyChange(t,e,r);return i&&(this.__dataPending||(this.__dataPending={},this.__dataOld={}),!this.__dataOld||t in this.__dataOld||(this.__dataOld[t]=r),this.__data[t]=e,this.__dataPending[t]=e),i}},{key:"_invalidateProperties",value:function(){var t=this;!this.__dataInvalid&&this.__dataReady&&(this.__dataInvalid=!0,h.run(function(){t.__dataInvalid&&(t.__dataInvalid=!1,t._flushProperties())}))}},{key:"_enableProperties",value:function(){this.__dataEnabled||(this.__dataEnabled=!0,this.__dataInstanceProps&&(this._initializeInstanceProperties(this.__dataInstanceProps),this.__dataInstanceProps=null),this.ready())}},{key:"_flushProperties",value:function(){var t=this.__data,e=this.__dataPending,n=this.__dataOld;this._shouldPropertiesChange(t,e,n)&&(this.__dataPending=null,this.__dataOld=null,this._propertiesChanged(t,e,n))}},{key:"_shouldPropertiesChange",value:function(t,e,n){return Boolean(e)}},{key:"_propertiesChanged",value:function(t,e,n){}},{key:"_shouldPropertyChange",value:function(t,e,n){return n!==e&&(n===n||e===e)}},{key:"attributeChangedCallback",value:function(t,n,r,i){n!==r&&this._attributeToProperty(t,r),s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"attributeChangedCallback",this)&&s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"attributeChangedCallback",this).call(this,t,n,r,i)}},{key:"_attributeToProperty",value:function(t,e,n){if(!this.__serializing){var r=this.__dataAttributes,i=r&&r[t]||t;this[i]=this._deserializeValue(e,n||this.constructor.typeForProperty(i))}}},{key:"_propertyToAttribute",value:function(t,e,n){this.__serializing=!0,n=arguments.length<3?this[t]:n,this._valueToNodeAttribute(this,n,e||this.constructor.attributeNameForProperty(t)),this.__serializing=!1}},{key:"_valueToNodeAttribute",value:function(t,e,n){var r=this._serializeValue(e);void 0===r?t.removeAttribute(n):t.setAttribute(n,r)}},{key:"_serializeValue",value:function(t){switch("undefined"==typeof t?"undefined":o(t)){case"boolean":return t?"":void 0;default:return null!=t?t.toString():void 0}}},{key:"_deserializeValue",value:function(t,e){switch(e){case Boolean:return null!==t;case Number:return Number(t);default:return t}}}]),e}(t);return e})},function(t,e,n){"use strict";function r(){for(var t=o.length,e=0;e<t;e++){var n=o[e];if(n)try{n()}catch(t){setTimeout(function(){throw t})}}o.splice(0,t),a+=t}Object.defineProperty(e,"__esModule",{value:!0}),e.microTask=e.idlePeriod=e.animationFrame=e.timeOut=void 0,n(1065);var i=0,a=0,o=[],s=0,l=document.createTextNode("");new window.MutationObserver(r).observe(l,{characterData:!0});var u={after:function(t){return{run:function(e){return window.setTimeout(e,t)},cancel:function(t){window.clearTimeout(t)}}},run:function(t,e){return window.setTimeout(t,e)},cancel:function(t){window.clearTimeout(t)}};e.timeOut=u;var c={run:function(t){return window.requestAnimationFrame(t)},cancel:function(t){window.cancelAnimationFrame(t)}};e.animationFrame=c;var h={run:function(t){return window.requestIdleCallback?window.requestIdleCallback(t):window.setTimeout(t,16)},cancel:function(t){window.cancelIdleCallback?window.cancelIdleCallback(t):window.clearTimeout(t)}};e.idlePeriod=h;var g={run:function(t){return l.textContent=s++,o.push(t),i++},cancel:function(t){var e=t-a;if(e>=0){if(!o[e])throw new Error("invalid async handle: "+t);o[e]=null}}};e.microTask=g},function(t,e,n){"use strict";function r(t){return a[t]||(a[t]=t.indexOf("-")<0?t:t.replace(o,function(t){return t[1].toUpperCase()}))}function i(t){return a[t]||(a[t]=t.replace(s,"-$1").toLowerCase())}Object.defineProperty(e,"__esModule",{value:!0}),e.dashToCamelCase=r,e.camelToDashCase=i,n(1065);var a={},o=/-[a-z]/g,s=/([A-Z])/g},function(t,e,n){"use strict";function r(t){c.forEach(function(e){var n=o.templateCaches.get(l(e,t));void 0!==n&&n.forEach(function(t){var e=t.element.content,n=e.querySelectorAll("style");(0,s.removeNodesFromTemplate)(t,new Set(Array.from(n)))})})}function i(t,e,n){var r=u(n),i=r(t),s=e.__templateInstance;if(void 0!==s&&s.template===i&&s._partCallback===t.partCallback)return void s.update(t.values);s=new o.TemplateInstance(i,t.partCallback,r),e.__templateInstance=s;var l=s._clone();s.update(t.values);var c=e instanceof ShadowRoot?e.host:void 0;void 0!==c&&"object"===a(window.ShadyCSS)&&(g(l,i,n),window.ShadyCSS.styleElement(c)),(0,o.removeNodes)(e,e.firstChild),e.appendChild(l)}Object.defineProperty(e,"__esModule",{value:!0}),e.TemplateResult=e.svg=e.html=void 0;var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=n(1063);Object.defineProperty(e,"html",{enumerable:!0,get:function(){return o.html}}),Object.defineProperty(e,"svg",{enumerable:!0,get:function(){return o.svg}}),Object.defineProperty(e,"TemplateResult",{enumerable:!0,get:function(){return o.TemplateResult}}),e.render=i;var s=n(1071),l=function(t,e){return t+"--"+e},u=function(t){return function(e){var n=l(e.type,t),r=o.templateCaches.get(n);void 0===r&&(r=new Map,o.templateCaches.set(n,r));var i=r.get(e.strings);if(void 0===i){var s=e.getTemplateElement();"object"===a(window.ShadyCSS)&&window.ShadyCSS.prepareTemplateDom(s,t),i=new o.Template(e,s),r.set(e.strings,i)}return i}},c=["html","svg"],h=new Set,g=function(t,e,n){if(!h.has(n)){h.add(n);var i=document.createElement("template");if(Array.from(t.querySelectorAll("style")).forEach(function(t){i.content.appendChild(t)}),window.ShadyCSS.prepareTemplateStyles(i,n),r(n),window.ShadyCSS.nativeShadow){var a=i.content.querySelector("style");null!==a&&(t.insertBefore(a,t.firstChild),(0,s.insertNodeIntoTemplate)(e,a.cloneNode(!0),e.element.content.firstChild))}}}},function(t,e,n){"use strict";/**
	 * @license
	 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
	 * This code may only be used under the BSD style license found at
	 * http://polymer.github.io/LICENSE.txt
	 * The complete set of authors may be found at
	 * http://polymer.github.io/AUTHORS.txt
	 * The complete set of contributors may be found at
	 * http://polymer.github.io/CONTRIBUTORS.txt
	 * Code distributed by Google as part of the polymer project is also
	 * subject to an additional IP rights grant found at
	 * http://polymer.github.io/PATENTS.txt
	 */
function r(t,e){for(var n=t.element.content,r=t.parts,i=document.createTreeWalker(n,o,null,!1),a=0,s=r[0],l=-1,u=0,c=[],h=null;i.nextNode();){l++;var g=i.currentNode;for(g.previousSibling===h&&(h=null),e.has(g)&&(c.push(g),null===h&&(h=g)),null!==h&&u++;void 0!==s&&s.index===l;)s.index=null!==h?-1:s.index-u,s=r[++a]}c.forEach(function(t){return t.parentNode.removeChild(t)})}function i(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=t.element.content,i=t.parts;if(null===n||void 0===n)return void r.appendChild(e);for(var a=document.createTreeWalker(r,o,null,!1),u=l(i),c=0,h=-1;a.nextNode();){h++;var g=a.currentNode;for(g===n&&(n.parentNode.insertBefore(e,n),c=s(e));u!==-1&&i[u].index===h;){if(c>0){for(;u!==-1;)i[u].index+=c,u=l(i,u);return}u=l(i,u)}}}Object.defineProperty(e,"__esModule",{value:!0}),e.removeNodesFromTemplate=r,e.insertNodeIntoTemplate=i;var a=n(1063),o=NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT,s=function(t){for(var e=1,n=document.createTreeWalker(t,o,null,!1);n.nextNode();)e++;return e},l=function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=e+1;n<t.length;n++){var r=t[n];if((0,a.isTemplatePartActive)(r))return n}return-1}},function(t,e){"use strict";function n(t,e,n){var r=new CustomEvent(e,n);return t.dispatchEvent(r)}Object.defineProperty(e,"__esModule",{value:!0}),e.emit=n},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){return Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function o(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){function r(i,a){try{var o=e[i](a),s=o.value}catch(t){return void n(t)}return o.done?void t(s):Promise.resolve(s).then(function(t){r("next",t)},function(t){r("throw",t)})}return r("next")})}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function c(t){return m.tidy(function(){return b.mul(t).add(x)})}function h(t,e){var n=t.sub(e).square().mean();return n}Object.defineProperty(e,"__esModule",{value:!0});var g=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),d=a(["\n            <button on-click=",'>Run</button>\n            <prophesier-scatter-chart class="bubblechart"></prophesier-scatter-chart>\n            '],["\n            <button on-click=",'>Run</button>\n            <prophesier-scatter-chart class="bubblechart"></prophesier-scatter-chart>\n            ']),p=n(1061),f=n(1055),A=i(f),C=n(1072),I=n(1074),m=r(I),v=[30,34,35,45,60,61,79],y=[78,43,72,86,75,56,96],b=m.variable(m.scalar(Math.random())),x=m.variable(m.scalar(Math.random())),w=function(t){function e(){s(this,e);var t=l(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.onClick=t.onClick.bind(t),t.names=["Variable 1","Variable 2"],t.xs=v,t.ys=y,t.learningrate=3e-4,t.batchsize=100,t}return u(e,t),g(e,[{key:"_createRoot",value:function(){return this}},{key:"train",value:function(){function t(t,n,r,i){return e.apply(this,arguments)}var e=o(regeneratorRuntime.mark(function t(e,n,r,i){var a,o,s,l=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a=m.train.sgd(i),o=regeneratorRuntime.mark(function t(r){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a.minimize(function(){var t=c(e),i=h(t,n);l.emitResult(b.dataSync()[0],x.dataSync()[0],r,i.dataSync()[0]),l.data=l.initialData();var a=l.querySelector(".bubblechart");return a.data=l.data,a.name=l.names,a.xformat="text",a.legends=!1,i}),t.next=3,m.nextFrame();case 3:case"end":return t.stop()}},t,l)}),s=0;case 3:if(!(s<r)){t.next=8;break}return t.delegateYield(o(s),"t0",5);case 5:s++,t.next=3;break;case 8:case"end":return t.stop()}},t,this)}));return t}()},{key:"emitResult",value:function(t,e,n,r){(0,C.emit)(this,"result",{detail:{m:t,b:e,iteration:n,sse:r}})}},{key:"initialData",value:function t(){var e=this.xs,n=this.ys,t=[];return e.map(function(e,r){var i={ax:e,ay:n[r],zv:c(e).dataSync()[0],aValue:5,attempts:20};t.push(i)}),t}},{key:"learnCoefficients",value:function(){function t(t,n){return e.apply(this,arguments)}var e=o(regeneratorRuntime.mark(function t(e,n){var r,i,a,o,s,l,u,h,g,d;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.xs,i=this.ys,a=m.tensor1d(r),o=m.tensor1d(i),s={a:.8,b:.2},l=c(a),u=window.performance.now(),console.time("Train just started"),t.next=9,this.train(a,o,e,n);case 9:h=c(a),g=window.performance.now(),d=g-u,console.log("time->"+d),l.dispose(),h.dispose();case 15:case"end":return t.stop()}},t,this)}));return t}()},{key:"onClick",value:function(){var t=this.batchsize,e=this.learningrate;this.learnCoefficients(t,e)}},{key:"_render",value:function(t){t.names;return(0,p.html)(d,this.onClick)}}],[{key:"properties",get:function(){return{names:Array,interval:Object,xs:Array,ys:Array,learningrate:Number,batchsize:Number}}},{key:"is",get:function(){return"prophesier-regressiongradesc-gpu"}}]),e}(p.LitElement);(0,A.default)(w.is,w),e.default=w},function(t,e,n){"use strict";function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),r(n(505)),r(n(648)),r(n(690));var i=n(505),a=n(648),o=n(690),s=n(1075);e.version={"tfjs-core":i.version_core,"tfjs-layers":a.version_layers,"tfjs-converter":o.version_converter,tfjs:s.version}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n="0.12.2";e.version=n},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){return Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=i(["\n<button on-click=",'>Run</button>\n<prophesier-scatter-chart class="bubblechart"></prophesier-scatter-chart>\n'],["\n<button on-click=",'>Run</button>\n<prophesier-scatter-chart class="bubblechart"></prophesier-scatter-chart>\n']),h=n(1061),g=n(1055),d=r(g),p=n(1072),f=n(1077),A=[[30,78],[34,43],[35,72],[45,86],[60,75],[61,56],[79,96]],C=[30,34,35,45,60,61,79],I=[78,43,72,86,75,56,96],m=function(t){function e(){a(this,e);var t=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.hypothesis=function(t,e){return e.b+e.m*t},t.initialData=function(e){var n=t.xs,r=t.ys,i=[];if(n&&"object"===("undefined"==typeof n?"undefined":l(n)))return n.forEach(function(n,a){var o={ax:n,ay:r[a],zv:t.hypothesis(n,e),aValue:5,attempts:20};i.push(o)}),i},t.data=A,t.xs=C,t.ys=I,t.x=null,t.m=null,t.b=null,t.sse=null,t.names=["Variable 1","Variable 2"],t.onClick=t.onClick.bind(t),t}return s(e,t),u(e,[{key:"_createRoot",value:function(){return this}},{key:"_firstRendered",value:function(){console.log("first rendered")}},{key:"onClick",value:function(){var t=this.xs,e=this.ys;console.log("click");var n=(0,f.calculateParameters)(t,e),r=this.initialData(n);if(r){var i=this.querySelector(".bubblechart");i.data=r,i.name=this.names,i.xformat="text",i.legends=!1,this.b=n.b,this.m=n.m,this.r=n.r,this.sse=n.sse,this.emitResult()}}},{key:"emitResult",value:function(){var t=this.m,e=this.b,n=this.r,r=this.sse;(0,p.emit)(this,"result",{detail:{m:t,b:e,r:n,sse:r}})}},{key:"_didRender",value:function(){var t=this.x,e=this.m,n=this.b;if(t&&e&&n){var r=n+e*t;(0,p.emit)(this,"predict",{detail:{y:r}})}}},{key:"_render",value:function(){return(0,h.html)(c,this.onClick)}}],[{key:"properties",get:function(){return{xs:Array,ys:Array,names:Array,x:Number}}},{key:"is",get:function(){return"prophesier-regressionleastsqr-cpu"}}]),e}(h.LitElement);(0,d.default)(m.is,m),e.default=m},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.calculateParameters=function(t,e){if(console.log(t),console.log(e),console.log("undefined"==typeof t?"undefined":n(t)),t&&"object"===("undefined"==typeof t?"undefined":n(t))){var r=t.map(function(t,n){return[t,e[n]]});console.log(r);var i=void 0,a=void 0,o=void 0,s=r.length;if(1===s)i=0,a=r[0][1];else{for(var l=0,u=0,c=0,h=0,g=0,d=0,p=0;p<s;p++){var f=r[p],A=f[0],C=f[1];l+=A,u+=C,g+=A*A,d+=C*C,c+=A*A,h+=A*C}i=(s*h-l*u)/(s*c-l*l),a=u/s-i*l/s,o=(s*h-l*u)/(Math.sqrt(s*g-l*l)*Math.sqrt(s*d-u*u))}console.log(i),console.log(a),console.log(o);for(var I=0,m=0;m<s;m++){var v=r[m],y=a+i*v[0],b=y-v[1];I+=Math.pow(b,2)}return console.log(I),{m:i,b:a,r:o,sse:I}}},e.calculateParametersTensor=function(t,e){if(console.log(t),console.log(e),console.log("undefined"==typeof t?"undefined":n(t)),t&&"object"===("undefined"==typeof t?"undefined":n(t))){var r=void 0,i=void 0,a=void 0,o=data.length;if(1===o)r=0,i=reorder[0][1];else{for(var s=0,l=0,u=0,c=0,h=0,g=0,d=tf.tensor2d(data,[1,count]),p=1,f=(d.sum(p).dataSync(),0);f<o;f++){var A=reorder[f],C=A[0],I=A[1];s+=C,l+=I,h+=C*C,g+=I*I,u+=C*C,c+=C*I}r=(o*c-s*l)/(o*u-s*s),i=l/o-r*s/o,a=(o*c-s*l)/(Math.sqrt(o*h-s*s)*Math.sqrt(o*g-l*l))}console.log(r),console.log(i),console.log(a);for(var m=0,v=0;v<o;v++){var y=reorder[v],b=i+r*y[0],x=b-y[1];m+=Math.pow(x,2)}return console.log(m),{m:r,b:i,r:a,sse:m}}}},function(t,e,n){"use strict";function r(t,e){return Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=r(["<div>\n    <button on-click=",">Run</button>\n    </div>"],["<div>\n    <button on-click=",">Run</button>\n    </div>"]),c=n(1061),h=n(1072),g=[[1,2,3,4,5,6],[1,2,3,4,5,6]],d=function(t){function e(){a(this,e);var t=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.data=g,t.partitions=5,t.onClick=t.onClick.bind(t),t}return s(e,t),l(e,[{key:"_createRoot",value:function(){return this}},{key:"onClick",value:function(){var t=this,e=window.performance.now(),n=this.data,r=[];n.forEach(function(e){var n=t.calculate(e);r.push(n)});var i=window.performance.now();console.log(r);var a=i-e;this.emitResult(r,a)}},{key:"_didRender",value:function(){}},{key:"emitResult",value:function(t,e){console.log("emiting"),(0,h.emit)(this,"result",{detail:{finalResult:t,time:e}})}},{key:"_deserializeValue",value:function(t,e){switch(e){case Number:case Boolean:case Array:return JSON.parse(t);case Object:return JSON.parse(t);default:return t}}},{key:"calculate",value:function(t){var e=t.length,n=this.mean(t,e),r=this.min(t),i=this.max(t),a=i-r,o=this.variance(t,n,e);return{count:e,mean:n,min:r,max:i,range:a,variance:o}}},{key:"histogram",value:function(t,e,n){for(var r=this.partitions,i=t/r,a=[{value:n,count:0}],o=n,s=0;s<r-1;s++){o=i+o;var l={};l.value=o,l.count=0,a.push(l)}var u=[],c=a.length;e.forEach(function(t,e){a.forEach(function(e,n){n!==c-1?t>=a[n].value&&t<a[n+1].value&&(console.log(t+" goes"+a[n].value),++a[n].count):n===c-1&&t>=a[n].value&&(console.log(t+" goes"+a[n-1].value),++a[n-1].count)})}),console.log(u),console.log(a)}},{key:"variance",value:function(t,e,n){var r=n;if(r&&r>1){var i=0;return t.forEach(function(t){i+=(t-e)*(t-e)}),i/(r-1)}return 0}},{key:"mean",value:function(t,e){var n=e;if(n&&n>0){var r=this.sum(t);return r/n}return 0}},{key:"sum",value:function t(e){var t=0;return e.forEach(function(e){t+=e}),t}},{key:"min",value:function(t){return Math.min.apply(Math,i(t))}},{key:"max",value:function(t){return Math.max.apply(Math,i(t))}},{key:"_render",value:function(){return(0,c.html)(u,this.onClick)}}],[{key:"is",get:function(){return"prophesier-descriptive-cpu"}},{key:"properties",get:function(){return{data:Array}}}]),e}(c.LitElement);customElements.define(d.is,d),e.default=d},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(t,e){return Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=i(["<div>\n    <button on-click=",">Run</button>\n    </div>"],["<div>\n    <button on-click=",">Run</button>\n    </div>"]),c=n(1061),h=n(1074),g=r(h),d=n(1072),p=[[1,2,3,4,5,6],[1,2,3,4,5,6]],f=function(t){function e(){a(this,e);var t=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.data=p,t.partitions=5,t.onClick=t.onClick.bind(t),t}return s(e,t),l(e,[{key:"_createRoot",value:function(){return this}},{key:"onClick",value:function(){var t=this,e=window.performance.now(),n=this.data,r=[];n.forEach(function(e){var n=t.calculate(e);r.push(n)});var i=window.performance.now();console.log(r);var a=i-e;this.emitResult(r,a)}},{key:"_didRender",value:function(){}},{key:"emitResult",value:function(t,e){console.log("emiting"),(0,d.emit)(this,"result",{detail:{finalResult:t,time:e}})}},{key:"_deserializeValue",value:function(t,e){switch(e){case Number:case Boolean:case Array:return JSON.parse(t);case Object:return JSON.parse(t);default:return t}}},{key:"calculate",value:function(t){var e=t.length,n=this.mean(t,e),r=this.min(t,e),i=this.max(t,e),a=i-r,o=this.variance(t,n,e);return{count:e,mean:n,min:r,max:i,range:a,variance:o}}},{key:"mean",value:function(t,e){var n=g.tensor2d(t,[1,e]),r=1,i=n.mean(r).dataSync();return i[0]}},{key:"sum",value:function(t,e){var n=g.tensor2d(t,[1,e]),r=1,i=n.sum(r).dataSync();return i[0]}},{key:"min",value:function(t,e){var n=g.tensor2d(t,[1,e]),r=1,i=n.min(r).dataSync();return i[0]}},{key:"max",value:function(t,e){var n=g.tensor2d(t,[1,e]),r=1,i=n.max(r).dataSync();return i[0]}},{key:"variance",value:function(t,e,n){var r=n;if(r&&r>1){var i=g.scalar(e),a=g.tensor2d(t,[1,n]),o=a.sub(i),s=g.tensor(2).toInt(),l=o.pow(s),u=l.sum().dataSync()[0];return u/(r-1)}return 0}},{key:"_render",value:function(){return(0,c.html)(u,this.onClick)}}],[{key:"is",get:function(){return"prophesier-descriptive-gpu"}},{key:"properties",get:function(){return{data:Array}}}]),e}(c.LitElement);customElements.define(f.is,f),e.default=f},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){return Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function l(t,e,n){this.ax=t[e],this.ay=t[n]}Object.defineProperty(e,"__esModule",{value:!0});var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=i(["",""],["",""]),h=i(['\n<td style="width: ','; text-align: center; border-bottom: 1px solid black;">\n    ',"\n</td>\n"],['\n<td style="width: ','; text-align: center; border-bottom: 1px solid black;">\n    ',"\n</td>\n"]),g=i(["","\n"],["","\n"]),d=i(['\n<tr>\n    <td style="width: 10%; border-right: 1px solid black;">\n        ',"\n    </td>\n    ","\n</tr>\n"],['\n<tr>\n    <td style="width: 10%; border-right: 1px solid black;">\n        ',"\n    </td>\n    ","\n</tr>\n"]),p=i(['\n<td style="width: ',"; text-align: center; "," ",'">\n    NA\n</td>\n'],['\n<td style="width: ',"; text-align: center; "," ",'">\n    NA\n</td>\n']),f=i(['\n<td style="width: ',"; "," ",'">\n    <div>y = ',"x + ",", r2 =\n        ",'</div>\n    <prophesier-scatter-chart class="bubble','"></prophesier-scatter-chart>\n</td>\n'],['\n<td style="width: ',"; "," ",'">\n    <div>y = ',"x + ",", r2 =\n        ",'</div>\n    <prophesier-scatter-chart class="bubble','"></prophesier-scatter-chart>\n</td>\n']),A=i(['\n<div class="multi-scatter-table">\n    <button on-click=','>Run</button>\n    <table style="width: 100%;">\n        <tr>\n            <td style="width: 10%;">\n            </td>\n            ',"\n        </tr>\n        ","\n    </table>\n</div>\n"],['\n<div class="multi-scatter-table">\n    <button on-click=','>Run</button>\n    <table style="width: 100%;">\n        <tr>\n            <td style="width: 10%;">\n            </td>\n            ',"\n        </tr>\n        ","\n    </table>\n</div>\n"]),C=n(1061),I=n(1081),m=(r(I),n(1077)),v=n(1055),y=r(v),b=["rgb(91,100,114)","rgb(196,175,84)","rgb(86,130,216)"],x=function(t){function e(){a(this,e);var t=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.data=[],t.r=!1,t.names=[],t.length=0,t.dataFinal=[],t.datascatter3=[],t.onClick=t.onClick.bind(t),t}return s(e,t),u(e,[{key:"_createRoot",value:function(){return this}},{key:"onClick",value:function(){var t=this.data,e=[];t[0].forEach(function(n,r){var i=[];t.forEach(function(t){i.push(t[r])}),e.push(i)});var n=e;this.length=n[0].length,this.datascatter3=n;var r=[],i=this.arrayForPerm(n[0]),a=this.nPr(i,2),o=[];a.forEach(function(e,n){var r=(0,m.calculateParameters)(t[e[0]],t[e[1]]);o.push(r)}),this.arraysOfRs=o,a.forEach(function(t,e){var n=[];r.push(n)}),n.forEach(function(t,e){a.forEach(function(e,n){var i=new l(t,e[0],e[1]);r[n].push(i)})}),this.dataFinal=r}},{key:"arrayForPerm",value:function(t){var e=t.map(function(t,e){return e});return e}},{key:"nPr",value:function(t,e){var n=this;return e?t.reduce(function(r,i,a){var o=t.slice(0,a).concat(t.slice(a+1)),s=n.nPr(o,e-1),l=s.length?s.map(function(t){return[i].concat(t)}):[[i]];return r.concat(l)},[]):[]}},{key:"_didRender",value:function(){var t=this.names,e=this.dataFinal;Array.from(this.querySelectorAll("prophesier-scatter-chart")).forEach(function(n,r){n.data=e[r],n.names=t,n.barcolor=b,n.legends=!1})}},{key:"_render",value:function(){var t=this.length,e=this.names,n=this.datascatter3,r=this.arraysOfRs,i=0,a=2===t?"45%":3===t?"30%":4===t?"22%":"90%",o=void 0,s=void 0;return n[0]&&(o=(0,C.html)(c,n[0].map(function(t,n){return(0,C.html)(h,a,e[n])})),s=(0,C.html)(g,n[0].map(function(o,s){var l=s===t-1?"border-bottom: 1px solid black;":"";return(0,C.html)(d,e[s],(0,C.html)(g,n[0].map(function(e,n){var o=n===t-1?"border-right: 1px solid black;":"";if(s===n)return(0,C.html)(p,a,l,o);var u=i;return i++,(0,C.html)(f,a,l,o,r[u].m.toFixed(2),r[u].b.toFixed(2),(r[u].r*r[u].r).toFixed(2),u)})))}))),(0,C.html)(A,this.onClick,o,s)}}],[{key:"is",get:function(){return"prophesier-multiscatter-cpu"}},{key:"properties",get:function(){return{data:Array,r:Boolean,names:Array,length:Number,dataFinal:Array,datascatter3:Array}}}]),e}(C.LitElement);(0,y.default)(x.is,x),e.default=x},function(t,e,n){var r=n(1082);"string"==typeof r&&(r=[[t.id,r,""]]);n(179)(r,{});r.locals&&(t.exports=r.locals)},function(t,e,n){e=t.exports=n(178)(),e.push([t.id,".multi-scatter-table{padding:1px}.multi-scatter-table table{width:950px}.multi-scatter-table td{padding:1px;font-size:100%}.multi-scatter-table tr:first-child{text-align:center}.multi-scatter-table td:first-child{padding-left:2px}.multi-scatter-table td:last-child{padding-right:2px}.multi-scatter-table td:hover{color:#000}",""])},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(t,e){return Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=i(["\n<div>\n  <button on-click=",">Train</button>\n  <button on-click=",'>Predict</button>\n  <prophesier-timeline-zoom class="timelinechart"></prophesier-timeline-zoom>\n</div>'],["\n<div>\n  <button on-click=",">Train</button>\n  <button on-click=",'>Predict</button>\n  <prophesier-timeline-zoom class="timelinechart"></prophesier-timeline-zoom>\n</div>']),c=n(1061),h=n(1074),g=r(h),d=n(1072),p=[[1,2,3,4,5,6],[1,2,3,4,5,6]],f=[],A=function(t){function e(){a(this,e);var t=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.traindata=p,t.steps=0,t.epsilon=.01,t.minperiod="6hh",t.predictdata=p,t.onClickTrain=t.onClickTrain.bind(t),t.onClickPredict=t.onClickPredict.bind(t),t}return s(e,t),l(e,[{key:"_createRoot",value:function(){return this}},{key:"onClickTrain",value:function(){for(var t=this.traindata,e=(this.minperiod,this.steps),n=(window.performance.now(),[]),r=0,i=function(i){var a=r;n[i]=[],t.forEach(function(t,r){a===r&&(n[i].push(t.value),a+=e)}),r++},a=0;a<e;a++)i(a);this.calculateMeanVar(n);window.performance.now();this.calculateRange(t,f,e)}},{key:"calculateRange",value:function(t,e){for(var n=this,r=this.steps,i=0,a=[],o=function(o){var s=i;e[o],t.forEach(function(t,i){if(s===i){var l=n.calculateY(e[o].mean,e[o].variance),u={valueTop:l.top},c={valueBottom:l.bottom},h=Object.assign({},t,u,c);a.push(h),s+=r}}),i++},s=0;s<r;s++)o(s);this.createChart(a)}},{key:"calculateY",value:function(t,e){var n=this.epsilon,r=Math.pow(-1*Math.log(n*(Math.pow(2*Math.PI,.5)*Math.pow(e,.5)))*(2*e),.5),i=t+r,a=t-r;return{top:i,bottom:a}}},{key:"createChart",value:function(t){var e=this.minperiod,n=this.sort(t),r=this.querySelector(".timelinechart");r.data=n,r.minperiod=e}},{key:"calculateMeanVar",value:function(t){var e=this;t.forEach(function(t){var n=e.calculate(t);f.push(n)})}},{key:"calculate",value:function(t){var e=t.length,n=this.mean(t,e),r=this.variance(t,n,e);return{count:e,mean:n,variance:r}}},{key:"mean",value:function(t,e){var n=g.tensor2d(t,[1,e]),r=1,i=n.mean(r).dataSync();return i[0]}},{key:"variance",value:function(t,e,n){var r=n;if(r&&r>1){var i=g.scalar(e),a=g.tensor2d(t,[1,n]),o=a.sub(i),s=g.tensor(2).toInt(),l=o.pow(s),u=l.sum().dataSync()[0];return u/(r-1)}return 0}},{key:"p",value:function(t,e,n){return 1/(Math.pow(2*Math.PI,.5)*Math.pow(n,.5))*Math.exp(-1*Math.pow(t-e,2)/(2*n))}},{key:"sort",value:function(t){return t.sort(function(t,e){var n=t.date,r=e.date;return n<r?-1:n>r?1:0}),t}},{key:"onClickPredict",value:function(){for(var t=this.steps,e=this.epsilon,n=this.predictdata,r=this.minperiod,i=0,a=[],o=0;o<t;o++){for(var s=i;s<n.length;){var l=f[i].mean,u=f[i].variance,c=this.calculateY(l,u),h=n[s].value,g=this.p(h,l,u),d={};d=g<e?{date:n[s].date,value:n[s].value,valueTop:c.top,valueBottom:c.bottom,event:!0}:{date:n[s].date,value:n[s].value,valueTop:c.top,valueBottom:c.bottom,event:!1},a.push(d),s+=t}i++}var p=this.sort(a),A=this.querySelector(".timelinechart");A.data=p,A.minperiod=r}},{key:"_didRender",value:function(){}},{key:"emitResult",value:function(t,e){console.log("emiting"),(0,d.emit)(this,"result",{detail:{finalResult:t,time:e}})}},{key:"_deserializeValue",value:function(t,e){switch(e){case Number:case Boolean:case Array:return JSON.parse(t);case Object:return JSON.parse(t);default:return t}}},{key:"_render",value:function(){return(0,c.html)(u,this.onClickTrain,this.onClickPredict)}}],[{key:"is",get:function(){return"prophesier-anomaly-detection"}},{key:"properties",get:function(){return{traindata:Array,steps:Number,epsilon:Number,predictdata:Array}}}]),e}(c.LitElement);customElements.define(A.is,A),e.default=A}])});
//# sourceMappingURL=index-with-deps.min.js.map